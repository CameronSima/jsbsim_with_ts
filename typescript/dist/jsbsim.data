<?xml version="1.0"?>
<?xml-stylesheet type="text/xsl" href="http://jsbsim.sourceforge.net/JSBSim.xsl"?>
<fdm_config name="737" release="BETA" version="2.0"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:noNamespaceSchemaLocation="http://jsbsim.sourceforge.net/JSBSim.xsd">
    
    <fileheader>
        <author> Dave Culp </author>
        <author> Aeromatic </author>
        <filecreationdate> 2006-01-04 </filecreationdate>
        <version>$Revision: 1.43 $</version>
        <description> Models a Boeing 737. </description>
        <license>
          <licenseName>GPL (General Public License)</licenseName>
          <licenseURL>http://www.gnu.org/licenses/gpl.html</licenseURL>
        </license>
        <note>
        This model was created using publicly available data, publicly available
        technical reports, textbooks, and guesses. It contains no proprietary or
        restricted data. If this model has been validated at all, it would be
        only to the extent that it seems to "fly right", and that it possibly
        complies with published, publicly known, performance data (maximum speed,
        endurance, etc.). Thus, this model is meant for educational and entertainment
        purposes only.

        This simulation model is not endorsed by the manufacturer. This model is not
        to be sold.
      </note>
    </fileheader>

    <metrics>
        <wingarea unit="FT2"> 1171.00 </wingarea>
        <wingspan unit="FT">    94.70 </wingspan>
        <chord unit="FT">       12.31 </chord>
        <htailarea unit="FT2"> 348.00 </htailarea>
        <htailarm unit="FT">    48.04 </htailarm>
        <vtailarea unit="FT2"> 297.00 </vtailarea>
        <vtailarm unit="FT">    44.50 </vtailarm>
        <location name="AERORP" unit="IN">
            <x> 625 </x>
            <y>   0 </y>
            <z>  24 </z>
        </location>
        <location name="EYEPOINT" unit="IN">
            <x>  80 </x>
            <y> -30 </y>
            <z>  70 </z>
        </location>
        <location name="VRP" unit="IN">
            <x> 0 </x>
            <y> 0 </y>
            <z> 0 </z>
        </location>
    </metrics>

    <mass_balance negated_crossproduct_inertia="true">
        <ixx unit="SLUG*FT2">    562000 </ixx>
        <iyy unit="SLUG*FT2"> 1.473e+06 </iyy>
        <izz unit="SLUG*FT2"> 1.894e+06 </izz>
        <ixy unit="SLUG*FT2">         0 </ixy>
        <ixz unit="SLUG*FT2">      8000 </ixz>
        <iyz unit="SLUG*FT2">         0 </iyz>
        <emptywt unit="LBS">      83000 </emptywt>
        <location name="CG" unit="IN">
            <x> 639 </x>
            <y>   0 </y>
            <z> -40 </z>
        </location>
    </mass_balance>

    <ground_reactions>
        <contact name="Nose Gear" type="BOGEY">
            <location unit="IN">
                <x> 158 </x>
                <y>   0 </y>
                <z> -84 </z>
            </location>
            <static_friction>  0.80 </static_friction>
            <dynamic_friction> 0.50 </dynamic_friction>
            <rolling_friction> 0.02 </rolling_friction>
            <spring_coeff unit="LBS/FT"> 90000 </spring_coeff>
            <damping_coeff unit="LBS/FT/SEC"> 4000 </damping_coeff>
            <damping_coeff_rebound unit="LBS/FT/SEC">8000</damping_coeff_rebound>

          <max_steer unit="DEG"> 35 </max_steer>
            <brake_group> NONE </brake_group>
            <retractable>1</retractable>
        </contact>
        <contact name="Left Main Gear" type="BOGEY">
            <location unit="IN">
                <x>  648 </x>
                <y> -100 </y>
                <z>  -84 </z>
            </location>
            <static_friction>  0.80 </static_friction>
            <dynamic_friction> 0.50 </dynamic_friction>
            <rolling_friction> 0.02 </rolling_friction>
            <spring_coeff unit="LBS/FT"> 120000 </spring_coeff>
            <damping_coeff unit="LBS/FT/SEC"> 10000 </damping_coeff>
            <damping_coeff_rebound unit="LBS/FT/SEC">20000</damping_coeff_rebound>

          <max_steer unit="DEG"> 0.0 </max_steer>
            <brake_group> LEFT </brake_group>
            <retractable>1</retractable>
        </contact>
        <contact name="Right Main Gear" type="BOGEY">
            <location unit="IN">
                <x> 648 </x>
                <y> 100 </y>
                <z> -84 </z>
            </location>
            <static_friction>  0.80 </static_friction>
            <dynamic_friction> 0.50 </dynamic_friction>
            <rolling_friction> 0.02 </rolling_friction>
            <spring_coeff unit="LBS/FT"> 120000 </spring_coeff>
            <damping_coeff unit="LBS/FT/SEC"> 10000 </damping_coeff>
            <damping_coeff_rebound unit="LBS/FT/SEC">20000</damping_coeff_rebound>
            
            <max_steer unit="DEG"> 0.0 </max_steer>
            <brake_group> RIGHT </brake_group>
            <retractable>1</retractable>
        </contact>
    </ground_reactions>
    <propulsion>
        <engine file="CFM56">
            <feed>0</feed>
            <feed>2</feed>
            <thruster file="direct">
                <location unit="IN">
                    <x>  540 </x>
                    <y> -193 </y>
                    <z>  -40 </z>
                </location>
                <orient unit="DEG">
                    <roll>  0 </roll>
                    <pitch> 0 </pitch>
                    <yaw>   0 </yaw>
                </orient>
            </thruster>
        </engine>
        <engine file="CFM56">
            <feed>1</feed>
            <feed>2</feed>
            <thruster file="direct">
                <location unit="IN">
                    <x> 540 </x>
                    <y> 193 </y>
                    <z> -40 </z>
                </location>
                <orient unit="DEG">
                    <roll>  0 </roll>
                    <pitch> 0 </pitch>
                    <yaw>   0 </yaw>
                </orient>
            </thruster>
        </engine>
        <tank type="FUEL"><!-- Left wing tank -->
            <location unit="IN">
                <x> 520 </x>
                <y> -80 </y>
                <z> -18 </z>
            </location>
            <type>JET-A</type>
            <capacity unit="LBS"> 10200 </capacity>
            <contents unit="LBS"> 10000 </contents>
        </tank>
        <tank type="FUEL"><!-- Right wing tank -->
            <location unit="IN">
                <x> 520 </x>
                <y>  80 </y>
                <z> -18 </z>
            </location>
            <type>JET-A</type>
            <capacity unit="LBS"> 10200 </capacity>
            <contents unit="LBS"> 10000 </contents>
        </tank>
        <tank type="FUEL"><!-- Center tank -->
            <location unit="IN">
                <x> 480 </x>
                <y>   0 </y>
                <z> -18 </z>
            </location>
            <type>JET-A</type>
            <capacity unit="LBS"> 15000 </capacity>
            <contents unit="LBS">  4000 </contents>
        </tank>
    </propulsion>

    <flight_control name="FCS: 737">

        <channel name="Pitch">

            <summer name="Pitch Trim Sum">
                <input>fcs/elevator-cmd-norm</input>
                <input>fcs/pitch-trim-cmd-norm</input>
                <clipto>
                    <min>-1</min>
                    <max> 1</max>
                </clipto>
            </summer>

            <aerosurface_scale name="Elevator Control">
                <input>fcs/pitch-trim-sum</input>
                <range>
                    <min>-0.3</min>
                    <max> 0.3</max>
                </range>
                <output>fcs/elevator-pos-rad</output>
            </aerosurface_scale>

            <aerosurface_scale name="Elevator Normalized">
                <input>fcs/elevator-pos-rad</input>
                <domain>
                    <min>-0.3</min>
                    <max> 0.3</max>
                </domain>
                <range>
                    <min>-1</min>
                    <max> 1</max>
                </range>
                <output>fcs/elevator-pos-norm</output>
            </aerosurface_scale>

        </channel>
        <channel name="Roll">

            <summer name="Roll Trim Sum">
                <input>fcs/aileron-cmd-norm</input>
                <input>fcs/roll-trim-cmd-norm</input>
                <clipto>
                    <min>-1</min>
                    <max> 1</max>
                </clipto>
            </summer>

            <aerosurface_scale name="Left Aileron Control">
                <input>fcs/roll-trim-sum</input>
                <range>
                    <min>-0.35</min>
                    <max> 0.35</max>
                </range>
                <output>fcs/left-aileron-pos-rad</output>
            </aerosurface_scale>

            <aerosurface_scale name="Right Aileron Control">
                <input>-fcs/roll-trim-sum</input>
                <range>
                    <min>-0.35</min>
                    <max> 0.35</max>
                </range>
                <output>fcs/right-aileron-pos-rad</output>
            </aerosurface_scale>

            <aerosurface_scale name="Left aileron Normalized">
                <input>fcs/left-aileron-pos-rad</input>
                <domain>
                    <min>-0.35</min>
                    <max> 0.35</max>
                </domain>
                <range>
                    <min>-1</min>
                    <max> 1</max>
                </range>
                <output>fcs/left-aileron-pos-norm</output>
            </aerosurface_scale>

            <aerosurface_scale name="Right aileron Normalized">
                <input>fcs/right-aileron-pos-rad</input>
                <domain>
                    <min>-0.35</min>
                    <max> 0.35</max>
                </domain>
                <range>
                    <min>-1</min>
                    <max> 1</max>
                </range>
                <output>fcs/right-aileron-pos-norm</output>
            </aerosurface_scale>

        </channel>
        <channel name="Yaw">

            <summer name="Rudder Command Sum">
                <input>fcs/rudder-cmd-norm</input>
                <input>fcs/yaw-trim-cmd-norm</input>
                <clipto>
                    <min>-1</min>
                    <max> 1</max>
                </clipto>
            </summer>

            <scheduled_gain name="Yaw Damper">
                <input>velocities/r-aero-rad_sec</input>
                <table>
                  <independentVar>velocities/mach</independentVar>
                    <tableData>
                        0.00	0.0
                        0.10	0.0
                        0.11	1.0
                    </tableData>
                </table>
            </scheduled_gain>

            <scheduled_gain name="Yaw Damper Final">
                <input>fcs/yaw-damper</input>
                <table>
                  <independentVar>velocities/mach</independentVar>
                    <tableData>
                        0.00	0.0
                        0.10	0.0
                        0.11	1.0
                    </tableData>
                </table>
            </scheduled_gain>

            <summer name="Rudder Sum">
                <input>fcs/rudder-command-sum</input>
                <input>fcs/yaw-damper-final</input>
                <clipto>
                    <min>-1</min>
                    <max> 1</max>
                </clipto>
            </summer>

            <aerosurface_scale name="Rudder Control">
                <input>fcs/rudder-sum</input>
                <range>
                    <min>-0.35</min>
                    <max> 0.35</max>
                </range>
                <output>fcs/rudder-pos-rad</output>
            </aerosurface_scale>

            <aerosurface_scale name="Rudder Normalized">
                <input>fcs/rudder-pos-rad</input>
                <domain>
                    <min>-0.35</min>
                    <max> 0.35</max>
                </domain>
                <range>
                    <min>-1</min>
                    <max> 1</max>
                </range>
                <output>fcs/rudder-pos-norm</output>
            </aerosurface_scale>

        </channel>
        <channel name="Flaps">

            <kinematic name="Flaps Control">
                <input>fcs/flap-cmd-norm</input>
                <traverse>
                    <setting>
                        <position>0</position>
                        <time>0</time>
                    </setting>
                    <setting>
                        <position>0.125</position>
                        <time>5</time>
                    </setting>
                    <setting>
                        <position>0.25</position>
                        <time>4</time>
                    </setting>
                    <setting>
                        <position>0.375</position>
                        <time>3</time>
                    </setting>
                    <setting>
                        <position>0.5</position>
                        <time>2</time>
                    </setting>
                    <setting>
                        <position>0.625</position>
                        <time>2</time>
                    </setting>
                    <setting>
                        <position>0.75</position>
                        <time>2</time>
                    </setting>
                    <setting>
                        <position>0.875</position>
                        <time>2</time>
                    </setting>
                    <setting>
                        <position>1</position>
                        <time>2</time>
                    </setting>
                </traverse>
                <output>fcs/flap-pos-norm</output>
            </kinematic>

        </channel>
        <channel name="Landing Gear">

            <kinematic name="Gear Control">
                <input>gear/gear-cmd-norm</input>
                <traverse>
                    <setting>
                        <position>0</position>
                        <time>0</time>
                    </setting>
                    <setting>
                        <position>1</position>
                        <time>5</time>
                    </setting>
                </traverse>
                <output>gear/gear-pos-norm</output>
            </kinematic>

        </channel>
        <channel name="Flight Spoilers">
          <!-- operated by the speedbrake handle and roll control -->
            <kinematic name="Flight Spoilers Control">
                <input>fcs/speedbrake-cmd-norm</input>
                <traverse>
                    <setting>
                        <position>0</position>
                        <time>0</time>
                    </setting>
                    <setting>
                        <position>1</position>
                        <time>0.6</time>
                    </setting>
                </traverse>
                <output>fcs/speedbrake-pos-norm</output>
            </kinematic>

        </channel>
        <channel name="Ground Spoilers">
          <!-- these only operate on the ground -->
            <kinematic name="Ground Spoilers Control">
                <input>fcs/spoiler-cmd-norm</input>
                <traverse>
                    <setting>
                        <position>0</position>
                        <time>0</time>
                    </setting>
                    <setting>
                        <position>1</position>
                        <time>0.6</time>
                    </setting>
                </traverse>
                <output>fcs/spoiler-pos-norm</output>
            </kinematic>

        </channel>

    </flight_control>

    <aerodynamics>

        <function name="aero/function/kCDge">
            <description>Change_in_drag_due_to_ground_effect</description>
            <table>
                <independentVar>aero/h_b-mac-ft</independentVar>
                <tableData>
                    0.0000	0.0480
                    0.1000	0.5150
                    0.1500	0.6290
                    0.2000	0.7090
                    0.3000	0.8150
                    0.4000	0.8820
                    0.5000	0.9280
                    0.6000	0.9620
                    0.7000	0.9880
                    0.8000	1.0000
                </tableData>
            </table>
        </function>

        <function name="aero/function/kCLge">
            <description>Change_in_lift_due_to_ground_effect</description>
            <table>
                <independentVar>aero/h_b-mac-ft</independentVar>
                <tableData>
                    0.0000	1.2030
                    0.1000	1.1270
                    0.1500	1.0900
                    0.2000	1.0730
                    0.3000	1.0460
                    0.4000	1.0280
                    0.5000	1.0190
                    0.6000	1.0130
                    0.7000	1.0080
                    0.8000	1.0060
                    0.9000	1.0030
                    1.0000	1.0020
                    1.1000	1.0000
                </tableData>
            </table>
        </function>

        <function name="aero/function/kCLsb">
            <description>Change_in_lift_due_to_speed_brake</description>
            <table>
                <independentVar>fcs/speedbrake-pos-norm</independentVar>
                <tableData>
                    0.0000	1.0
                    0.1000	0.85
                </tableData>
            </table>
        </function>

        <function name="aero/function/kCLsp">
            <description>Change_in_lift_due_to_spoilers</description>
            <table>
                <independentVar>fcs/spoiler-pos-norm</independentVar>
                <tableData>
                    0.0000	1.0
                    0.1000	0.6
                </tableData>
            </table>
        </function>

        <axis name="DRAG">

            <function name="aero/coefficient/CD0">
                <description>Drag_at_zero_lift</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                      <table>
                          <independentVar>aero/alpha-rad</independentVar>
                          <tableData>
                             -1.57	1.5000
                             -0.26	0.0420
                              0.00	0.0210
                              0.26	0.0420
                              1.57	1.5000
                          </tableData>
                      </table>
                </product>
            </function>

            <function name="aero/coefficient/CDi">
                <description>Induced_drag</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>aero/cl-squared</property>
                    <property>aero/function/kCDge</property>
                    <value>0.043</value>
                </product>
            </function>

            <function name="aero/coefficient/CDmach">
                <description>Drag_due_to_mach</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                      <table>
                          <independentVar>velocities/mach</independentVar>
                          <tableData>
                              0.00	0.0000
                              0.79	0.0000
                              1.10	0.0230
                              1.80	0.0150
                          </tableData>
                      </table>
                </product>
            </function>

            <function name="aero/coefficient/CDflap">
                <description>Drag_due_to_flaps</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>fcs/flap-pos-norm</property>
                    <value>0.059</value>
                </product>
            </function>

            <function name="aero/coefficient/CDgear">
                <description>Drag_due_to_gear</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>gear/gear-pos-norm</property>
                    <value>0.015</value>
                </product>
            </function>

            <function name="aero/coefficient/CDsb">
                <description>Drag_due_to_flight_spoilers</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>fcs/speedbrake-pos-norm</property>
                    <value>0.02</value>
                </product>
            </function>

            <function name="aero/coefficient/CDsp">
                <description>Drag_due_to_ground_spoilers</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>fcs/spoiler-pos-norm</property>
                    <value>0.04</value>
                </product>
            </function>

            <function name="aero/coefficient/CDbeta">
                <description>Drag_due_to_sideslip</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                      <table>
                          <independentVar>aero/beta-rad</independentVar>
                          <tableData>
                             -1.57	1.2300
                             -0.26	0.0500
                              0.00	0.0000
                              0.26	0.0500
                              1.57	1.2300
                          </tableData>
                      </table>
                </product>
            </function>

            <function name="aero/coefficient/CDde">
                <description>Drag_due_to_Elevator_Deflection</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>fcs/mag-elevator-pos-rad</property>
                    <value>0.059</value>
                </product>
            </function>

        </axis>

        <axis name="SIDE">
            <function name="aero/coefficient/CYb">
                <description>Side_force_due_to_beta</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>aero/beta-rad</property>
                    <value>-1</value>
                </product>
            </function>
        </axis>

        <axis name="LIFT">

            <function name="aero/coefficient/CLalpha">
                <description>Lift_due_to_alpha</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>aero/function/kCLge</property>
                    <property>aero/function/kCLsb</property>
                    <property>aero/function/kCLsp</property>
                      <table>
                          <independentVar>aero/alpha-rad</independentVar>
                          <tableData>
                             -0.20     -0.68
                              0.00	0.20
                              0.23	1.20
                              0.46	0.20
                          </tableData>
                      </table>
                </product>
            </function>

            <function name="aero/coefficient/dCLflap">
                <description>Delta_Lift_due_to_flaps</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>fcs/flap-pos-norm</property>
                    <property>aero/function/kCLge</property>
                    <property>aero/function/kCLsb</property>
                    <property>aero/function/kCLsp</property>
                    <value>0.9</value>
                </product>
            </function>

            <function name="aero/coefficient/CLde">
                <description>Lift_due_to_Elevator_Deflection</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>fcs/elevator-pos-rad</property>
                    <value>0.2</value>
                </product>
            </function>

        </axis>

        <axis name="ROLL">

            <function name="aero/coefficient/Clb">
                <description>Roll_moment_due_to_beta</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>aero/beta-rad</property>
                    <value>-0.09</value>
                </product>
            </function>

            <function name="aero/coefficient/Clp">
                <description>Roll_moment_due_to_roll_rate</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>aero/bi2vel</property>
                    <property>velocities/p-aero-rad_sec</property>
                    <value>-0.4</value>
                </product>
            </function>

            <function name="aero/coefficient/Clr">
                <description>Roll_moment_due_to_yaw_rate</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>aero/bi2vel</property>
                    <property>velocities/r-aero-rad_sec</property>
                    <value>0.09</value>
                </product>
            </function>

            <function name="aero/coefficient/Clda">
                <description>Roll_moment_due_to_aileron</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>fcs/left-aileron-pos-rad</property>
                      <table>
                          <independentVar>velocities/mach</independentVar>
                          <tableData>
                              0.0	0.100
                              2.0	0.033
                          </tableData>
                      </table>
                </product>
            </function>

            <function name="aero/coefficient/Cldr">
                <description>Roll_moment_due_to_rudder</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>fcs/rudder-pos-rad</property>
                    <value>0.01</value>
                </product>
            </function>
        </axis>

        <axis name="PITCH">
            <function name="aero/coefficient/Cmalpha">
                <description>Pitch_moment_due_to_alpha</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/cbarw-ft</property>
                    <property>aero/alpha-rad</property>
                    <value>-0.6</value>
                </product>
            </function>
            <function name="aero/coefficient/Cmde">
                <description>Pitch_moment_due_to_elevator</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/cbarw-ft</property>
                    <property>fcs/elevator-pos-rad</property>
                      <table>
                          <independentVar>velocities/mach</independentVar>
                          <tableData>
                              0.0	-1.20
                              2.0	-0.30
                          </tableData>
                      </table>
                </product>
            </function>
            <function name="aero/coefficient/Cmq">
                <description>Pitch_moment_due_to_pitch_rate</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/cbarw-ft</property>
                    <property>aero/ci2vel</property>
                    <property>velocities/q-aero-rad_sec</property>
                    <value>-27.0</value>
                </product>
            </function>
            <function name="aero/coefficient/Cmadot">
                <description>Pitch_moment_due_to_alpha_rate</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/cbarw-ft</property>
                    <property>aero/ci2vel</property>
                    <property>aero/alphadot-rad_sec</property>
                    <value>-16.0</value>
                </product>
            </function>
        </axis>

        <axis name="YAW">
            <function name="aero/coefficient/Cnb">
                <description>Yaw_moment_due_to_beta</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>aero/beta-rad</property>
                    <value>0.26</value>
                </product>
            </function>
            <function name="aero/coefficient/Cnr">
                <description>Yaw_moment_due_to_yaw_rate</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>aero/bi2vel</property>
                    <property>velocities/r-aero-rad_sec</property>
                    <value>-0.35</value>
                </product>
            </function>
            <function name="aero/coefficient/Cndr">
                <description>Yaw_moment_due_to_rudder</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>fcs/rudder-pos-rad</property>
                    <value>-0.20</value>
                </product>
            </function>
        </axis>
    </aerodynamics>

    <!-- 41 properties output, + 1 for the time stamp -->
 <!--output name="localhost" type="SOCKET" port="5138" protocol="UDP" rate="10">
   
  <property> velocities/vc-kts </property>
  <property> position/h-sl-ft </property>
  <property> attitude/theta-deg </property>
  <property> attitude/phi-deg </property>
  <property> velocities/h-dot-fps </property>
  <property> velocities/mach </property>
  <property> aero/beta-deg </property>
  <property> attitude/psi-deg </property>
  <property> aero/alpha-deg </property>
  <property> velocities/p-rad_sec </property>

  <property> velocities/q-rad_sec </property>
  <property> velocities/r-rad_sec </property>
  <property> velocities/vtrue-kts </property>
  <property> velocities/vg-fps </property>
  <property> velocities/v-north-fps </property>
  <property> velocities/v-east-fps </property>
  <property> velocities/v-down-fps </property>
  <property> velocities/u-fps </property>
  <property> velocities/v-fps </property>
  <property> velocities/w-fps </property>

  <property> position/h-agl-ft </property>
  <property> position/lat-gc-deg </property>
  <property> position/long-gc-deg </property>
  <property> position/lat-geod-deg </property>
  <property> propulsion/engine[0]/thrust-lbs </property>
  <property> propulsion/engine[1]/thrust-lbs </property>
  <property> propulsion/engine[0]/n1 </property>
  <property> propulsion/engine[1]/n1 </property>
  <property> propulsion/engine[0]/n2 </property>
  <property> propulsion/engine[1]/n2 </property>

  <property> propulsion/engine[0]/fuel-flow-rate-pps </property>
  <property> propulsion/engine[1]/fuel-flow-rate-pps </property>
  <property> propulsion/total-fuel-lbs </property>
  <property> inertia/weight-lbs </property>
  <property> inertia/empty-weight-lbs </property>
  <property> gear/gear-pos-norm </property>
  <property> fcs/flap-pos-norm </property>
  <property> fcs/speedbrake-pos-norm </property>
  <property> fcs/right-aileron-pos-norm </property>
  <property> fcs/elevator-pos-norm </property>
  
  <property> fcs/rudder-pos-norm </property>
  
 </output-->

 <!-- this is the telnet interface -->
 <input port="5137" /> 
 
 <!-- 6 properties input, + 1 for the time stamp -->
 <input port="5139" type="QTJSBSIM" rate="20">
  <property> fcs/aileron-cmd-norm </property> 
  <property> fcs/elevator-cmd-norm </property> 
  <property> fcs/rudder-cmd-norm </property> 
  <property> fcs/throttle-cmd-norm[0] </property> 
  <property> fcs/throttle-cmd-norm[1] </property>
  <property> simulation/terminate </property> 
 </input>  

</fdm_config>

// This file instructs the automatic synchronization utilities where to
// install this aircraft and under what name.
//
// The syntax is easy;
// * the package name at the beginning of a new line followed by a colon
// * a space as a column separator
// * the path and filename relative to the aircraft install directory
//
// Currently known package names are: FlightGear

FlightGear: 737-300/737.xml
<?xml version="1.0" encoding="utf-8"?>
<initialize name="cruise">
  <!--
    This file sets up the aircraft to start off
    at cruise conditions.
  -->
  <altitude unit="FT"> 30000.0 </altitude>
  <vt unit="FT/SEC">     750.0 </vt>
  <gamma unit="DEG">       0.0 </gamma>
  <latitude unit="DEG">   47.0 </latitude>
  <longitude unit="DEG"> 122.0 </longitude>
  <phi unit="DEG">         0.0 </phi>
  <psi unit="DEG">       225.0 </psi>
  <beta unit="DEG">        0.0 </beta>
</initialize>
<?xml version="1.0"?>
<initialize name="cruise with steady turn">
  <!--
    This file sets up the aircraft to start off
    at cruise conditions, but in a steady turn
  -->
  <altitude unit="FT"> 25000.0 </altitude>
  <vt unit="FT/SEC">     750.0 </vt>
  <gamma unit="DEG">       0.0 </gamma>
  <latitude unit="DEG">   47.0 </latitude>
  <longitude unit="DEG"> 122.0 </longitude>
  <phi unit="DEG">        30.0 </phi>
  <psi unit="DEG">         0.0 </psi>
</initialize>
<?xml version="1.0"?>
<initialize name="reset00">
  <!--
    This file sets up the aircraft to start off
    from the runway in preparation for takeoff.
  -->
  <ubody unit="FT/SEC">    0.0  </ubody>
  <vbody unit="FT/SEC">    0.0  </vbody>
  <wbody unit="FT/SEC">    0.0  </wbody>
  <latitude unit="DEG">   47.0  </latitude>
  <longitude unit="DEG"> 122.0  </longitude>
  <phi unit="DEG">         0.0  </phi>
  <theta unit="DEG">       0.0  </theta>
  <psi unit="DEG">       225.0  </psi>
  <altitude unit="IN">    49.0  </altitude>
 <trim> 1 </trim>
</initialize>
<?xml version="1.0" encoding="utf-8"?>
<initialize name="cruise">
  <!--
    This file sets up the aircraft to start off
    at cruise conditions for the rudder kick.
  -->
  <altitude unit="FT">  1000.0 </altitude>
  <vc unit="KTS">        200.0 </vc>
  <gamma unit="DEG">       0.0 </gamma>
  <beta unit="DEG">        0.0 </beta>
  <running> -1 </running>
</initialize>
<?xml version="1.0"?>
<?xml-stylesheet type="text/xsl" href="http://jsbsim.sourceforge.net/JSBSim.xsl"?>
<fdm_config name="787-8" version="2.0" release="BETA"
   xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
   xsi:noNamespaceSchemaLocation="http://jsbsim.sourceforge.net/JSBSim.xsd">

<fileheader>
  <author> Narendran Muraleedharan, Dwayne Gable and Nicky Ivy</author>
  <filecreationdate> 2011-12-29 </filecreationdate>
  <version>$Revision: 1.10 $</version>
  <description> Flight Dynamics Model for the Boeing 787-8 </description>
</fileheader>

<!-- UNIT CONVERSIONS :
1 meter = 3.2 feet
1 meter = 39.4 inches
1 sq. m = 10.24 sq. ft.
1 feet  = 12 inches -->

<metrics>
   <wingarea  unit="FT2"> 3501.7984 </wingarea> <!-- Wikipedia -->
   <wingspan  unit="FT" >  192 </wingspan> <!-- Wikipedia -->
   <wing_incidence unit="DEG"> 2 </wing_incidence> <!-- From old 787 FDM -->
   <chord     unit="FT" >   38.94 </chord> <!-- Measured -->
   <htailarea unit="FT2">  343.36 </htailarea> <!-- Calculated on paper -->
   <htailarm  unit="FT" >   81.6 </htailarm> <!-- Measured -->
   <vtailarea unit="FT2">  471.77728 </vtailarea> <!-- Calculated on paper -->
   <vtailarm  unit="FT" >   0 </vtailarm>
   <location name="AERORP" unit="IN">
     <x> 0 </x>
     <y> 0 </y>
     <z> 0 </z>
   </location>
<!-- Center of AircrafT (0,0,0 in Ac3D) is taken as the Eyepoint -->
   <location name="EYEPOINT" unit="IN">
     <x> 0 </x>
     <y> 0 </y>
     <z> 0 </z>
   </location>
<!-- Center of Aircraft (in Ac3D) is taken as the Vehicle Reference Point -->
   <location name="VRP" unit="IN">
     <x> 0 </x>
     <y> 0 </y>
     <z> 0 </z>
   </location>
</metrics>

<mass_balance>
        <ixx unit="SLUG*FT2"> 7675399.200088156 </ixx> <!-- Values from YASIM Solver (old 787 FDM) -->
        <iyy unit="SLUG*FT2"> 6595543.304209171 </iyy> <!-- Values from YASIM Solver (old 787 FDM) -->
        <izz unit="SLUG*FT2"> 22197429.613714606 </izz> <!-- Values from YASIM Solver (old 787 FDM) -->
	<ixy unit="SLUG*FT2"> 0.015488805 </ixy> <!-- Values from YASIM Solver (old 787 FDM) -->
	<ixz unit="SLUG*FT2"> 0.015488805 </ixz> <!-- Values from YASIM Solver (old 787 FDM) -->
	<iyz unit="SLUG*FT2">         0 </iyz>
   <emptywt unit="LBS" > 239200 </emptywt> <!-- Supposed to be 242000 but the plane acts too heavy with that setting -->
   <location name="CG" unit="IN"> <!-- Values from YASIM Solver (old 787 FDM) -->
     <x> -16 </x>
     <y>   0.00 </y>
     <z>22.5972</z>
   </location>

	<!--Crew. Min 350 Max 500 Default 350, for two crew members in the
	cockpit.-->

	<pointmass name="Crew">
		<weight unit="LBS">350</weight>
		<location name="POINTMASS" unit="IN">
			<x>-898.32</x>
			<y>0</y>
			<z>51.22</z>
		</location>
	</pointmass>

	<!--First class. 12 seats, adding 360 pounds for 30 pounds of seat
	accessories for each seat. Min 360 Max 2160 Default 1800-->

	<pointmass name="first-class">
		<weight unit="LBS">1800</weight>
		<location name="POINTMASS" unit="IN">
			<x>-591</x>
			<y>0</y>
			<z>78.8</z>
		</location>
	</pointmass>

	<!--Business class. 42 seats. Min 0 Max 7560 Default 6400-->

	<pointmass name="business-class">
		<weight unit="LBS">6400</weight>
		<location name="POINTMASS" unit="IN">
			<x>-216.7</x>
			<y>0</y>
			<z>78.8</z>
		</location>
	</pointmass>

	<!--Economy class. 170 seats. Min 0 Max 30600 Default 25000-->

	<pointmass name="economy-class">
		<weight unit="LBS">25000</weight>
		<location name="POINTMASS" unit="IN">
			<x>157.6</x>
			<y>0</y>
			<z>78.8</z>
		</location>
	</pointmass>

	<!--Forward cargo. I don't know how much cargo usually goes on an
	average plane flight, so I guessed. Min 0 Max 10000 Default 10000-->

	<pointmass name="forward-cargo">
		<weight unit="LBS">10000</weight>
		<location name="POINTMASS" unit="IN">
			<x>-394</x>
			<y>0</y>
			<z>-39.4</z>
		</location>
	</pointmass>

	<!--Rear cargo. Same as above, but Min 0 Max 10000 Default 5000-->

	<pointmass name="forward-cargo">
		<weight unit="LBS">5000</weight>
		<location name="POINTMASS" unit="IN">
			<x>157.6</x>
			<y>0</y>
			<z>-39.4</z>
		</location>
	</pointmass>

</mass_balance>

<ground_reactions>

<!-- Nose Gear Contact Point -->
  <contact type="BOGEY" name="NOSE_GEAR">
   <location unit="IN">
     <x> -809.50058 </x>
     <y> 0.00 </y>
     <z> -143.36872 </z>
   </location>
   <static_friction>  0.40 </static_friction>
   <dynamic_friction> 0.30 </dynamic_friction>
   <rolling_friction> 0.02 </rolling_friction>
            <spring_coeff unit="LBS/FT"> 160000 </spring_coeff>
            <damping_coeff unit="LBS/FT/SEC"> 80000 </damping_coeff>
   <max_steer unit="DEG"> 70 </max_steer>
   <brake_group>NONE</brake_group>
   <retractable>1</retractable>
</contact>

<!-- Left Main Gear Contact Point -->
  <contact type="BOGEY" name="LEFT_MAIN">
   <location unit="IN">
     <x> 77.1058 </x>
     <y> -193.59978 </y>
     <z> -153.63242 </z>
   </location>
   <static_friction>  0.40 </static_friction>
   <dynamic_friction> 0.35 </dynamic_friction>
   <rolling_friction> 0.02 </rolling_friction>
            <spring_coeff unit="LBS/FT"> 833000 </spring_coeff>
            <damping_coeff unit="LBS/FT/SEC"> 166600 </damping_coeff>
   <max_steer unit="DEG">0</max_steer>
   <brake_group>LEFT</brake_group>
   <retractable>1</retractable>
</contact>

<!-- Right Main Gear Contact Point -->
  <contact type="BOGEY" name="RIGHT_MAIN">
   <location unit="IN">
     <x> 77.1058 </x>
     <y> 193.59978 </y>
     <z> -153.63242 </z>
   </location>
   <static_friction>  0.40 </static_friction>
   <dynamic_friction> 0.35 </dynamic_friction>
   <rolling_friction> 0.02 </rolling_friction>
            <spring_coeff unit="LBS/FT"> 833000 </spring_coeff>
            <damping_coeff unit="LBS/FT/SEC"> 166600 </damping_coeff>
   <max_steer unit="DEG">0</max_steer>
   <brake_group>RIGHT</brake_group>
   <retractable>1</retractable>
</contact>

<!-- Left Wing Tip Contact Point -->
  <contact type="STRUCTURE" name="LEFT_WING_TIP">
    <location unit="IN">
     <x> 549.236 </x>
     <y> -1173.48172 </y>
     <z> 154.83018 </z>
    </location>
    <static_friction>  0.5 </static_friction>
    <dynamic_friction> 0.4 </dynamic_friction>
    <spring_coeff unit="LBS/FT">      100000 </spring_coeff>
    <damping_coeff unit="LBS/FT/SEC"> 20000 </damping_coeff>
    <brake_group> NONE </brake_group>
    <retractable>0</retractable>
</contact>

<!-- Right Wing Tip Contact Point -->
  <contact type="STRUCTURE" name="RIGHT_WING_TIP">
    <location unit="IN">
     <x> 549.236 </x>
     <y> 1173.48172 </y>
     <z> 154.83018 </z>
    </location>
    <static_friction>  0.5 </static_friction>
    <dynamic_friction> 0.4 </dynamic_friction>
    <spring_coeff unit="LBS/FT">      100000 </spring_coeff>
    <damping_coeff unit="LBS/FT/SEC"> 20000 </damping_coeff>
    <brake_group> NONE </brake_group>
    <retractable>0</retractable>
</contact>

<!-- Tail (in case of a tail strike) Contact Point -->
  <contact type="STRUCTURE" name="TAIL_STRIKE">
    <location unit="IN">
     <x> 924.93864 </x>
     <y> 0 </y>
     <z> 3.41992 </z>
    </location>
    <static_friction>  0.5 </static_friction>
    <dynamic_friction> 0.4 </dynamic_friction>
    <spring_coeff unit="LBS/FT">      100000 </spring_coeff>
    <damping_coeff unit="LBS/FT/SEC"> 20000 </damping_coeff>
    <brake_group> NONE </brake_group>
    <retractable>0</retractable>
</contact>

<!-- Nose (used for Ditching) Contact Point -->
  <contact type="STRUCTURE" name="NOSE">
    <location unit="IN">
     <x> -984.2908 </x>
     <y> 0 </y>
     <z> -29.8455 </z>
    </location>
    <static_friction>  0.5 </static_friction>
    <dynamic_friction> 0.4 </dynamic_friction>
    <spring_coeff unit="LBS/FT">      100000 </spring_coeff>
    <damping_coeff unit="LBS/FT/SEC"> 20000 </damping_coeff>
    <brake_group> NONE </brake_group>
    <retractable>0</retractable>
</contact>

</ground_reactions>

<propulsion>

   <engine file="trent_1000">
    <feed>2</feed>
    <feed>0</feed>
    <thruster file="direct">
     <location unit="IN">
      <x> -211.92078 </x>
      <y> -383.15712</y>
      <z> -31.29148 </z>
     </location>
     <orient unit="DEG">
       <pitch> 0.00 </pitch>
       <roll>   0.00 </roll>
       <yaw>   0.00 </yaw>
     </orient>
    </thruster>
  </engine>

   <engine file="trent_1000">
    <feed>1</feed>
    <feed>2</feed>
    <thruster file="direct">
     <location unit="IN">
      <x> -211.92078 </x>
      <y> 383.15712</y>
      <z> -31.29148 </z>
     </location>
     <orient unit="DEG">
       <pitch> 0.00 </pitch>
       <roll>   0.00 </roll>
       <yaw>   0.00 </yaw>
     </orient>
    </thruster>
  </engine>

<!-- Wing Fuel Tank LEFT -->
  <tank type="FUEL" number="0">
     <location unit="IN">
       <x> 0 </x>
       <y> -295.5 </y>
       <z> 25.61 </z>
     </location>
     <capacity unit="KG"> 23586.80324 </capacity>
     <contents unit="KG"> 15000 </contents>
  </tank>

<!-- Wing Fuel Tank RIGHT -->
  <tank type="FUEL" number="1">
     <location unit="IN">
       <x> 0 </x>
       <y> 295.5 </y>
       <z> 25.61 </z>
     </location>
     <capacity unit="KG"> 23586.80324 </capacity>
     <contents unit="KG"> 15000 </contents>
  </tank>

<!-- Central Fuel Tank -->
  <tank type="FUEL" number="2">
     <location unit="IN">
       <x> 0.00 </x>
       <y> 0.00 </y>
       <z> -39.4 </z>
     </location>
     <capacity unit="KG"> 54431.0844 </capacity>
     <contents unit="KG"> 30000 </contents>
  </tank>

</propulsion>

	<!-- system file="pushback"/>
    <system file="Defines"/ -->

<flight_control name="FCS: 787-8">

  <channel name="Pitch">
   <summer name="Pitch Trim Sum">
                <input>fcs/elevator-cmd-norm</input>
      <input>fcs/pitch-trim-cmd-norm</input>
      <clipto>
        <min> -1 </min>
        <max>  1 </max>
      </clipto>
   </summer>

   <aerosurface_scale name="Elevator Control">
      <input>fcs/pitch-trim-sum</input>
      <range>
        <min> -0.35 </min>
        <max>  0.35 </max>
      </range>
      <output>fcs/elevator-pos-rad</output>
   </aerosurface_scale>

   <aerosurface_scale name="elevator normalization">
      <input>fcs/elevator-pos-rad</input>
      <range>
        <min> -1 </min>
        <max>  1 </max>
      </range>
      <output>fcs/elevator-pos-norm</output>
   </aerosurface_scale>

  </channel>

  <channel name="Roll">
   <summer name="Roll Trim Sum">
                <input>fcs/aileron-cmd-norm</input>
      <input>fcs/roll-trim-cmd-norm</input>
      <clipto>
        <min> -1 </min>
        <max>  1 </max>
      </clipto>
   </summer>

   <aerosurface_scale name="Left Aileron Control">
      <input>fcs/roll-trim-sum</input>
      <range>
        <min> -0.25 </min>
        <max>  0.25 </max>
      </range>
      <output>fcs/left-aileron-pos-rad</output>
   </aerosurface_scale>

   <aerosurface_scale name="Right Aileron Control">
      <input>fcs/roll-trim-sum</input>
      <range>
        <min> -0.25 </min>
        <max>  0.25 </max>
      </range>
      <output>fcs/right-aileron-pos-rad</output>
   </aerosurface_scale>

   <aerosurface_scale name="left aileron normalization">
      <input>fcs/left-aileron-pos-rad</input>
      <domain>
        <min> -0.25 </min>
        <max>  0.25 </max>
      </domain>
      <range>
        <min> -1 </min>
        <max>  1 </max>
      </range>
      <output>fcs/left-aileron-pos-norm</output>
   </aerosurface_scale>

   <aerosurface_scale name="right aileron normalization">
      <input>fcs/right-aileron-pos-rad</input>
      <domain>
        <min> -0.25 </min>
        <max>  0.25 </max>
      </domain>
      <range>
        <min> -1 </min>
        <max>  1 </max>
      </range>
      <output>fcs/right-aileron-pos-norm</output>
   </aerosurface_scale>

  </channel>

  <channel name="Yaw">
   <summer name="Rudder Command Sum">
                <input>fcs/rudder-cmd-norm</input>
      <input>fcs/yaw-trim-cmd-norm</input>
      <clipto>
        <min> -0.25 </min>
        <max>  0.25 </max>
      </clipto>
   </summer>

        <scheduled_gain name="Yaw Damper Rate">
            <input>velocities/r-aero-rad_sec</input>
            <table>
                <independentVar>aero/qbar-psf</independentVar>
                <tableData>
                    3.0000   0.0000   
                    11.0000   2.0000   
                </tableData>
            </table>
        </scheduled_gain>

        <scheduled_gain name="Yaw Damper Beta">
            <input>aero/beta-rad</input>
            <table>
                <independentVar>aero/qbar-psf</independentVar>
                <tableData>
                    3.0000   0.0000   
                    11.0000   0.0000   
                </tableData>
            </table>
        </scheduled_gain>

        <summer name="Yaw Damper Sum">
            <input>fcs/yaw-damper-beta</input>
            <input>fcs/yaw-damper-rate</input>
            <clipto>
                <min>-0.2000</min>
                <max>0.2000</max>
            </clipto>
        </summer>

        <scheduled_gain name="Yaw Damper Final">
            <input>fcs/yaw-damper-sum</input>
            <table>
                <independentVar>aero/qbar-psf</independentVar>
                <tableData>
                    2.9900   0.0000   
                    3.0000   1.0000   
                </tableData>
            </table>
        </scheduled_gain>

   <summer name="Rudder Sum">
      <input>fcs/rudder-command-sum</input>
      <input>fcs/yaw-damper-final</input>
      <clipto>
        <min> -1 </min>
        <max>  1 </max>
      </clipto>
   </summer>

   <aerosurface_scale name="Rudder Control">
      <input>fcs/rudder-sum</input>
      <range>
        <min> -0.25 </min>
        <max>  0.25 </max>
      </range>
      <output>fcs/rudder-pos-rad</output>
   </aerosurface_scale>

   <aerosurface_scale name="rudder normalization">
      <input>fcs/rudder-pos-rad</input>
      <domain>
        <min> -0.25 </min>
        <max>  0.25 </max>
      </domain>
      <range>
        <min> -1 </min>
        <max>  1 </max>
      </range>
      <output>fcs/rudder-pos-norm</output>
   </aerosurface_scale>

  </channel>

  <channel name="Flaps">
   <kinematic name="Flaps Control">
     <input>fcs/flap-cmd-norm</input>
     <traverse>
                <setting>
                    <position>0.0</position>
                    <time>0.0000</time>
                </setting>
                <setting>
                    <position>35.000</position>
                    <time>30.0000</time>
                </setting>
     </traverse>
     <output>fcs/flap-pos-deg</output>
   </kinematic>

   <aerosurface_scale name="flap normalization">
      <input>fcs/flap-pos-deg</input>
      <domain>
        <min>  0 </min>
        <max> 35 </max>
      </domain>
      <range>
        <min> 0 </min>
        <max> 1 </max>
      </range>
      <output>fcs/flap-pos-norm</output>
   </aerosurface_scale>

  </channel>

  <channel name="Landing Gear">
   <kinematic name="Gear Control">
     <input>gear/gear-cmd-norm</input>
     <traverse>
       <setting>
          <position> 0 </position>
          <time>     0 </time>
       </setting>
       <setting>
          <position> 1 </position>
          <time>     15 </time>
       </setting>
     </traverse>
     <output>gear/gear-pos-norm</output>
   </kinematic>

  </channel>

  <channel name="Speedbrake">
   <kinematic name="Speedbrake Control">
     <input>fcs/speedbrake-cmd-norm</input>
     <traverse>
       <setting>
          <position> 0 </position>
          <time>     0 </time>
       </setting>
       <setting>
          <position> 1 </position>
          <time>     2 </time>
       </setting>
     </traverse>
     <output>fcs/speedbrake-pos-norm</output>
   </kinematic>

  </channel>

</flight_control>

<aerodynamics>

<!-- Lift due to ground effects to make the take off faster -->
        <function name="aero/function/kCLge">
            <description>Change_in_lift_due_to_ground_effect</description>
            <product>
                  <table>
                      <independentVar>aero/h_b-mac-ft</independentVar>
                      <tableData>
                          0.0000	1.3000	
                          0.1000	1.2500	
                          0.1500	1.1000	
                          0.2000	1.1200	
                          1.1000	1.1000
                          1.2000        1.0000
                      </tableData>
                  </table>
            </product>
        </function>

  <axis name="LIFT">

            <function name="aero/coefficient/CLalpha">
                <description>Lift_due_to_alpha</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
	                <property>aero/function/kCLge</property>
                      <table>
                          <independentVar lookup="row">aero/alpha-rad</independentVar>
<!--                          <independentVar lookup="column">/velocities/mach</independentVar> -->
   							<tableData>
							 -0.2000   -0.8000
                              0.0000	0.3400
                              0.0400	0.5700
							  0.1740	1.0054
                              0.3000	1.3400
                              0.4500	1.2500
                              0.6000	0.8000
							</tableData>
<!--					   <tableData> Devel > CLalpha/Graph 4
	                         -0.5230	-0.6000
                              0.0000	 0.4000
							  0.0500	 0.5000
                              0.1000	 0.6000
							  0.5000	 1.4000
                          </tableData> -->
<!--	                   <tableData> Devel > CLalpha/Graph 3
	                         -0.5230	-0.8000
							 -0.4000	-0.6000
							 -0.3000	-0.4000
							 -0.2000	-0.2000
							 -0.1000	 0.0000
							 -0.0500	 0.1000
                              0.0000	 0.2000
							  0.0500	 0.3300
                              0.1000	 0.4600
							  0.2000	 0.7000
							  0.3000	 1.0000
							  0.4000	 1.3700
							  0.5000	 2.0000
                          </tableData> -->
<!--	                   <tableData> Devel > CLalpha/Graph 2
	                         -0.5230	-0.8000
							 -0.4000	-0.7500
							 -0.3000	-0.6700
							 -0.2000	-0.5500
							 -0.1000	-0.2600
							 -0.0600	 0.0000
                             -0.0423	 0.1500
                              0.0000	 0.4000
							  0.0523	 0.6500
                              0.1745	 1.1200
							  0.2617	 1.3000
							  0.4000	 1.3000
							  0.5000	 1.0500
							  0.5500	 0.8000
                              0.6000	 0.4000
                          </tableData> -->
<!--                      <tableData> Devel > CLalpha/Graph 1
	                         -0.2000   -0.6800
                              0.0000	0.2000
                              0.0400	0.6400
                              0.2300	2.7000
                              0.6000	0.5000
                          </tableData> -->
                      </table>
                </product>
            </function>

    <function name="aero/force/Lift_flap">
       <description>Delta Lift due to flaps</description>
       <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <property>fcs/flap-pos-deg</property>
           <value> 0.024 </value>
       </product>
    </function>

    <function name="aero/force/Lift_speedbrake">
       <description>Delta Lift due to speedbrake</description>
       <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <property>fcs/speedbrake-pos-norm</property>
           <value>-0.2</value>
       </product>
    </function>

    <function name="aero/force/Lift_elevator">
       <description>Lift due to Elevator Deflection</description>
       <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <property>fcs/elevator-pos-rad</property>
           <value>0.55</value>
       </product>
    </function>

  </axis>

  <axis name="DRAG">

    <function name="aero/force/Drag_basic">
       <description>Drag at zero lift</description>
       <product>
          <property>aero/qbar-psf</property>
          <property>metrics/Sw-sqft</property>
          <table>
            <independentVar lookup="row">aero/alpha-rad</independentVar>
            <tableData>
             -1.57       1.400
             -0.26    0.020
              0.00    0.015
              0.26    0.026
              1.57       1.600
            </tableData>
          </table>
       </product>
    </function>

    <function name="aero/force/Drag_induced">
       <description>Induced drag</description>
         <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <property>aero/cl-squared</property>
           <value>0.04</value>
         </product>
    </function>

    <function name="aero/force/Drag_mach">
       <description>Drag due to mach</description>
        <product>
          <property>aero/qbar-psf</property>
          <property>metrics/Sw-sqft</property>
          <table>
            <independentVar lookup="row">velocities/mach</independentVar>
            <tableData>
                0.00      0.000
                0.79      0.001
                1.10      0.043
                1.80      0.055
            </tableData>
          </table>
        </product>
    </function>
    <function name="aero/force/Drag_flap">
       <description>Drag due to flaps</description>
         <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <property>fcs/flap-pos-deg</property>
           <value> 0.0025 </value>
         </product>
    </function>

    <function name="aero/force/Drag_gear">
       <description>Drag due to gear</description>
         <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <property>gear/gear-pos-norm</property>
           <value>0.0035</value>
         </product>
    </function>

    <function name="aero/force/Drag_speedbrake">
       <description>Drag due to speedbrakes</description>
         <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <property>fcs/speedbrake-pos-norm</property>
           <value>0.07</value>
         </product>
    </function>

    <function name="aero/force/Drag_beta">
       <description>Drag due to sideslip</description>
       <product>
          <property>aero/qbar-psf</property>
          <property>metrics/Sw-sqft</property>
          <table>
            <independentVar lookup="row">aero/beta-rad</independentVar>
            <tableData>
              -1.57       1.230
              -0.26    0.050
               0.00       0.000
               0.26    0.050
               1.57       1.230
            </tableData>
          </table>
       </product>
    </function>

    <function name="aero/force/Drag_elevator">
       <description>Drag due to Elevator Deflection</description>
       <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <abs><property>fcs/elevator-pos-norm</property></abs>
           <value>0.025</value>
       </product>
    </function>

  </axis>

  <axis name="SIDE">

    <function name="aero/force/Side_beta">
       <description>Side force due to beta</description>
       <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <property>aero/beta-rad</property>
           <value>-1</value>
       </product>
    </function>

  </axis>

  <axis name="ROLL">

    <function name="aero/moment/Roll_beta">
       <description>Roll moment due to beta</description>
       <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <property>metrics/bw-ft</property>
           <property>aero/beta-rad</property>
           <value>-0.08</value>
       </product>
    </function>

    <function name="aero/moment/Roll_damp">
       <description>Roll moment due to roll rate</description>
       <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <property>metrics/bw-ft</property>
           <property>aero/bi2vel</property>
           <property>velocities/p-aero-rad_sec</property>
           <value>-0.4</value>
       </product>
    </function>

    <function name="aero/moment/Roll_yaw">
       <description>Roll moment due to yaw rate</description>
       <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <property>metrics/bw-ft</property>
           <property>aero/bi2vel</property>
           <property>velocities/r-aero-rad_sec</property>
           <value>0.15</value>
       </product>
    </function>

    <function name="aero/moment/Roll_aileron">
       <description>Roll moment due to aileron</description>
       <product>
          <property>aero/qbar-psf</property>
          <property>metrics/Sw-sqft</property>
          <property>metrics/bw-ft</property>
          <property>fcs/left-aileron-pos-rad</property>
          <table>
            <independentVar lookup="row">velocities/mach</independentVar>
            <tableData>
              0.0    0.100
              2.0    0.033
            </tableData>
          </table>
       </product>
    </function>

    <function name="aero/moment/Roll_rudder">
       <description>Roll moment due to rudder</description>
       <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <property>metrics/bw-ft</property>
           <property>fcs/rudder-pos-rad</property>
           <value>0.01</value>
       </product>
    </function>

  </axis>

  <axis name="PITCH">

    <function name="aero/moment/Pitch_alpha">
       <description>Pitch moment due to alpha</description>
       <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <property>metrics/cbarw-ft</property>
           <property>aero/alpha-rad</property>
           <value>-1.4</value>
       </product>
    </function>

    <function name="aero/moment/Pitch_elevator">
       <description>Pitch moment due to elevator</description>
       <product>
          <property>aero/qbar-psf</property>
          <property>metrics/Sw-sqft</property>
          <property>metrics/cbarw-ft</property>
          <property>fcs/elevator-pos-rad</property>
          <table>
            <independentVar lookup="row">velocities/mach</independentVar>
            <tableData>
                              0.0000	-1.3000	
                              2.0000	-0.3200	
            </tableData>
          </table>
       </product>
    </function>

    <function name="aero/moment/Pitch_damp">
       <description>Pitch moment due to pitch rate</description>
       <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <property>metrics/cbarw-ft</property>
           <property>aero/ci2vel</property>
           <property>velocities/q-aero-rad_sec</property>
           <value>-12</value>
       </product>
    </function>

    <function name="aero/moment/Pitch_alphadot">
       <description>Pitch moment due to alpha rate</description>
       <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <property>metrics/cbarw-ft</property>
           <property>aero/ci2vel</property>
           <property>aero/alphadot-rad_sec</property>
           <value>-8</value>
       </product>
    </function>

  </axis>

  <axis name="YAW">

    <function name="aero/moment/Yaw_beta">
       <description>Yaw moment due to beta</description>
       <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <property>metrics/bw-ft</property>
           <property>aero/beta-rad</property>
           <value>0.12</value>
       </product>
    </function>

    <function name="aero/moment/Yaw_damp">
       <description>Yaw moment due to yaw rate</description>
       <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <property>metrics/bw-ft</property>
           <property>aero/bi2vel</property>
           <property>velocities/r-aero-rad_sec</property>
           <value>-0.15</value>
       </product>
    </function>

    <function name="aero/moment/Yaw_rudder">
       <description>Yaw moment due to rudder</description>
       <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <property>metrics/bw-ft</property>
           <property>fcs/rudder-pos-rad</property>
           <value>-0.1</value>
       </product>
    </function>

    <function name="aero/moment/Yaw_aileron">
       <description>Adverse yaw</description>
       <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <property>metrics/bw-ft</property>
           <property>fcs/left-aileron-pos-rad</property>
           <value>0</value>
       </product>
    </function>

  </axis>

</aerodynamics>

	<external_reactions>
		<force name="pushback" frame="BODY">
			<location unit="IN">
				<x>-612.06718</x>
				<y>0</y>
				<z>-100</z>
			</location>
			<direction>
				<x>1</x>
				<y>0</y>
				<z>0</z>
			</direction>
		</force>
	</external_reactions>

</fdm_config>
###################################
# Boeing 787-8 Dreamliner Authors #
###################################

Current maintainer: Thomas Albrecht (radi)

> Omega95: Cockpit, FDM, Nasal, Instruments, Ground, Database, Sounds, Systems
> Redneck: FDM, Nasal, Instruments, Database, Systems
> Jentron: FDM, Systems
> Scotth1: Terminal Procedures Parser
> Bicyus: Nasal Code Simplification and Organization
> Awexome: Nasal Code Simplification and Organization
> Hooray: Nasal, Instruments, Systems
> Zan: CameraView Instrument (still on the drawing board)
> Nicky: 787-8 Maintainer till Jan 26, 2012 (start of the re-devel project)
> Thorsten: WXRadar Storm Scripts
> Oliver T: Ground Service Vehicles Models, De-icing Animations
> Joshua W: Model, (original 787-8 developer - during FG v1.0)
> Makoto Sakaguchi: misc bug fixes
> Thomas Albrecht (radi): Wingflexer, ALS lights+shadows

# Systems include dialogs, autopilot, vnav, holding, pushback and extras
This is the official home of the 787-8 for Flightgear.

http://sourceforge.net/p/flightgear/fgaddon/HEAD/tree/trunk/Aircraft/787-8/

After gitorious closed down and former maintainer Omega95 retired, islandmonkey created a Github repo, which was subsequently merged into FGAddon. 

Install
-------

WIKI ARTICLE : http://wiki.flightgear.org/Boeing_787-8_Dreamliner
<?xml version="1.0"?>
<?xml-stylesheet type="text/xsl" href="http://jsbsim.sourceforge.net/JSBSim.xsl"?>
<fdm_config name="A320-200" version="2.0" release="BETA"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:noNamespaceSchemaLocation="http://jsbsim.sourceforge.net/JSBSim.xsd">

    <fileheader>
      <author> Unknown </author>
      <filecreationdate> 2003-01-01 </filecreationdate>
      <version> Version </version>
      <description> Airbus A320 </description>
      <note>
        This model was created using publicly available data, publicly available
        technical reports, textbooks, and guesses. It contains no proprietary or
        restricted data. If this model has been validated at all, it would be
        only to the extent that it seems to "fly right", and that it possibly
        complies with published, publicly known, performance data (maximum speed,
        endurance, etc.). Thus, this model is meant for educational and entertainment
        purposes only.

        This simulation model is not endorsed by the manufacturer. This model is not
        to be sold.
      </note>
    </fileheader>

    <metrics>
        <wingarea unit="FT2"> 1317 </wingarea>
        <wingspan unit="FT"> 111.3 </wingspan>
        <chord unit="FT"> 14.1 </chord>
        <htailarea unit="FT2"> 333.6 </htailarea>
        <htailarm unit="FT"> 44.4 </htailarm>
        <vtailarea unit="FT2"> 231.3 </vtailarea>
        <vtailarm unit="FT"> 0 </vtailarm>
        <location name="AERORP" unit="IN">
            <x> 672 </x>
            <y> 0 </y>
            <z> 20 </z>
        </location>
        <location name="EYEPOINT" unit="IN">
            <x> 80 </x>
            <y> -30 </y>
            <z> 70 </z>
        </location>
        <location name="VRP" unit="IN">
            <x> 661.1 </x>
            <y> 0 </y>
            <z> -37 </z>
        </location>
    </metrics>

    <mass_balance negated_crossproduct_inertia="true">
        <ixx unit="SLUG*FT2"> 942877 </ixx>
        <iyy unit="SLUG*FT2"> 2.78892e+06 </iyy>
        <izz unit="SLUG*FT2"> 3.59757e+06 </izz>
        <ixy unit="SLUG*FT2"> -0 </ixy>
        <ixz unit="SLUG*FT2"> -10000 </ixz>
        <iyz unit="SLUG*FT2"> -0 </iyz>
        <emptywt unit="LBS"> 111000 </emptywt>
        <location name="CG" unit="IN">
            <x> 672 </x>
            <y> 0 </y>
            <z> -40 </z>
        </location>
    </mass_balance>

    <ground_reactions>
        <contact type="BOGEY" name="NOSE_LG">
            <location unit="IN">
                <x> 196.1 </x>
                <y> 0 </y>
                <z> -138.2 </z>
            </location>
            <static_friction> 0.5 </static_friction>
            <dynamic_friction> 0.8 </dynamic_friction>
            <rolling_friction> 0.02 </rolling_friction>
            <spring_coeff unit="LBS/FT"> 100000 </spring_coeff>
            <damping_coeff unit="LBS/FT/SEC"> 5000 </damping_coeff>
            <max_steer unit="DEG"> 5 </max_steer>
            <brake_group> NONE </brake_group>
            <retractable>1</retractable>
        </contact>
        <contact type="BOGEY" name="LEFT_MLG">
            <location unit="IN">
                <x> 688.7 </x>
                <y> -144.4 </y>
                <z> -142 </z>
            </location>
            <static_friction> 0.5 </static_friction>
            <dynamic_friction> 0.8 </dynamic_friction>
            <rolling_friction> 0.02 </rolling_friction>
            <spring_coeff unit="LBS/FT"> 150000 </spring_coeff>
            <damping_coeff unit="LBS/FT/SEC"> 12000 </damping_coeff>
            <max_steer unit="DEG"> 0.0 </max_steer>
            <brake_group> LEFT </brake_group>
            <retractable>1</retractable>
        </contact>
        <contact type="BOGEY" name="RIGHT_MLG">
            <location unit="IN">
                <x> 688.7 </x>
                <y> 144.4 </y>
                <z> -142 </z>
            </location>
            <static_friction> 0.5 </static_friction>
            <dynamic_friction> 0.8 </dynamic_friction>
            <rolling_friction> 0.02 </rolling_friction>
            <spring_coeff unit="LBS/FT"> 150000 </spring_coeff>
            <damping_coeff unit="LBS/FT/SEC"> 12000 </damping_coeff>
            <max_steer unit="DEG"> 0.0 </max_steer>
            <brake_group> RIGHT </brake_group>
            <retractable>1</retractable>
        </contact>
        <contact type="BOGEY" name="TAIL_1">
            <location unit="IN">
                <x> 987 </x>
                <y> 0 </y>
                <z> -55.7 </z>
            </location>
            <static_friction> 0.2 </static_friction>
            <dynamic_friction> 0.2 </dynamic_friction>
            <rolling_friction> 0.02 </rolling_friction>
            <spring_coeff unit="LBS/FT"> 1.5e+06 </spring_coeff>
            <damping_coeff unit="LBS/FT/SEC"> 60000 </damping_coeff>
            <max_steer unit="DEG"> 0.0 </max_steer>
            <brake_group> NONE </brake_group>
            <retractable>0</retractable>
        </contact>
        <contact type="BOGEY" name="ENG_1">
            <location unit="IN">
                <x> 515.4 </x>
                <y> 226.2 </y>
                <z> -104.3 </z>
            </location>
            <static_friction> 0.2 </static_friction>
            <dynamic_friction> 0.2 </dynamic_friction>
            <rolling_friction> 0.02 </rolling_friction>
            <spring_coeff unit="LBS/FT"> 1.5e+06 </spring_coeff>
            <damping_coeff unit="LBS/FT/SEC"> 60000 </damping_coeff>
            <max_steer unit="DEG"> 0.0 </max_steer>
            <brake_group> NONE </brake_group>
            <retractable>0</retractable>
        </contact>
        <contact type="BOGEY" name="ENG_2">
            <location unit="IN">
                <x> 515.4 </x>
                <y> -226.2 </y>
                <z> -104.3 </z>
            </location>
            <static_friction> 0.2 </static_friction>
            <dynamic_friction> 0.2 </dynamic_friction>
            <rolling_friction> 0.02 </rolling_friction>
            <spring_coeff unit="LBS/FT"> 1.5e+06 </spring_coeff>
            <damping_coeff unit="LBS/FT/SEC"> 60000 </damping_coeff>
            <max_steer unit="DEG"> 0.0 </max_steer>
            <brake_group> NONE </brake_group>
            <retractable>0</retractable>
        </contact>
        <contact type="BOGEY" name="WING_TIP_1">
            <location unit="IN">
                <x> 846.1 </x>
                <y> -667.6 </y>
                <z> -37.4 </z>
            </location>
            <static_friction> 0.2 </static_friction>
            <dynamic_friction> 0.2 </dynamic_friction>
            <rolling_friction> 0.02 </rolling_friction>
            <spring_coeff unit="LBS/FT"> 1.5e+06 </spring_coeff>
            <damping_coeff unit="LBS/FT/SEC"> 60000 </damping_coeff>
            <max_steer unit="DEG"> 0.0 </max_steer>
            <brake_group> NONE </brake_group>
            <retractable>0</retractable>
        </contact>
        <contact type="BOGEY" name="WING_TIP_2">
            <location unit="IN">
                <x> 846.1 </x>
                <y> 667.6 </y>
                <z> -37.4 </z>
            </location>
            <static_friction> 0.2 </static_friction>
            <dynamic_friction> 0.2 </dynamic_friction>
            <rolling_friction> 0.02 </rolling_friction>
            <spring_coeff unit="LBS/FT"> 1.5e+06 </spring_coeff>
            <damping_coeff unit="LBS/FT/SEC"> 60000 </damping_coeff>
            <max_steer unit="DEG"> 0.0 </max_steer>
            <brake_group> NONE </brake_group>
            <retractable>0</retractable>
        </contact>
        <contact type="BOGEY" name="NOSE_TIP">
            <location unit="IN">
                <x> 0 </x>
                <y> 0 </y>
                <z> 0 </z>
            </location>
            <static_friction> 0.2 </static_friction>
            <dynamic_friction> 0.2 </dynamic_friction>
            <rolling_friction> 0.02 </rolling_friction>
            <spring_coeff unit="LBS/FT"> 1.5e+06 </spring_coeff>
            <damping_coeff unit="LBS/FT/SEC"> 60000 </damping_coeff>
            <max_steer unit="DEG"> 0.0 </max_steer>
            <brake_group> NONE </brake_group>
            <retractable>0</retractable>
        </contact>
        <contact type="BOGEY" name="NOSE_TOP">
            <location unit="IN">
                <x> 131.6 </x>
                <y> 0 </y>
                <z> 92.6 </z>
            </location>
            <static_friction> 0.2 </static_friction>
            <dynamic_friction> 0.2 </dynamic_friction>
            <rolling_friction> 0.02 </rolling_friction>
            <spring_coeff unit="LBS/FT"> 1.5e+06 </spring_coeff>
            <damping_coeff unit="LBS/FT/SEC"> 60000 </damping_coeff>
            <max_steer unit="DEG"> 0.0 </max_steer>
            <brake_group> NONE </brake_group>
            <retractable>0</retractable>
        </contact>
        <contact type="BOGEY" name="TAIL_TOP">
            <location unit="IN">
                <x> 1382.6 </x>
                <y> 0 </y>
                <z> 340 </z>
            </location>
            <static_friction> 0.2 </static_friction>
            <dynamic_friction> 0.2 </dynamic_friction>
            <rolling_friction> 0.02 </rolling_friction>
            <spring_coeff unit="LBS/FT"> 1.5e+06 </spring_coeff>
            <damping_coeff unit="LBS/FT/SEC"> 60000 </damping_coeff>
            <max_steer unit="DEG"> 0.0 </max_steer>
            <brake_group> NONE </brake_group>
            <retractable>0</retractable>
        </contact>
        <contact type="BOGEY" name="TAIL_TIP">
            <location unit="IN">
                <x> 1476.7 </x>
                <y> 0 </y>
                <z> 58.9 </z>
            </location>
            <static_friction> 0.2 </static_friction>
            <dynamic_friction> 0.2 </dynamic_friction>
            <rolling_friction> 0.02 </rolling_friction>
            <spring_coeff unit="LBS/FT"> 1.5e+06 </spring_coeff>
            <damping_coeff unit="LBS/FT/SEC"> 60000 </damping_coeff>
            <max_steer unit="DEG"> 0.0 </max_steer>
            <brake_group> NONE </brake_group>
            <retractable>0</retractable>
        </contact>
    </ground_reactions>
    <propulsion>
        <engine file="CFM56_5">
            <feed>0</feed>
            <thruster file="direct">
                <location unit="IN">
                    <x> 670 </x>
                    <y> -200 </y>
                    <z> -45 </z>
                </location>
                <orient unit="DEG">
                    <roll> 0.0 </roll>
                    <pitch> 0.0 </pitch>
                    <yaw> 0.0 </yaw>
                </orient>
            </thruster>
        </engine>
        <engine file="CFM56_5">
            <feed>1</feed>
            <thruster file="direct">
                <location unit="IN">
                    <x> 670 </x>
                    <y> 200 </y>
                    <z> -45 </z>
                </location>
                <orient unit="DEG">
                    <roll> 0.0 </roll>
                    <pitch> 0.0 </pitch>
                    <yaw> 0.0 </yaw>
                </orient>
            </thruster>
        </engine>
        <tank type="FUEL">    <!-- Tank number 0 -->
            <location unit="IN">
                <x> 600 </x>
                <y> -90 </y>
                <z> -20 </z>
            </location>
            <capacity unit="LBS"> 23940 </capacity>
            <contents unit="LBS"> 15000 </contents>
        </tank>
        <tank type="FUEL">    <!-- Tank number 1 -->
            <location unit="IN">
                <x> 600 </x>
                <y> 90 </y>
                <z> -20 </z>
            </location>
            <capacity unit="LBS"> 23940 </capacity>
            <contents unit="LBS"> 15000 </contents>
        </tank>
    </propulsion>
    <flight_control name="FCS: A320">
        <channel name="Pitch">
            <summer name="Pitch Trim Sum">
                <input>fcs/elevator-cmd-norm</input>
                <input>fcs/pitch-trim-cmd-norm</input>
                <clipto>
                    <min>-1</min>
                    <max>1</max>
                </clipto>
            </summer>

            <aerosurface_scale name="Elevator Control">
                <input>fcs/pitch-trim-sum</input>
                <gain>0.018</gain>
                <range>
                    <min>-25</min>
                    <max>35</max>
                </range>
                <output>fcs/elevator-pos-rad</output>
            </aerosurface_scale>

            <aerosurface_scale name="Elevator position normalized">
                <input>fcs/elevator-pos-deg</input>
                <domain>
                    <min>-25</min>
                    <max>35</max>
                </domain>
                <range>
                    <min>-1</min>
                    <max>1</max>
                </range>
                <output>fcs/elevator-pos-norm</output>
            </aerosurface_scale>
        </channel>
        <channel name="Roll">
            <summer name="Roll Trim Sum">
                <input>fcs/aileron-cmd-norm</input>
                <input>fcs/roll-trim-cmd-norm</input>
                <clipto>
                    <min>-1</min>
                    <max>1</max>
                </clipto>
            </summer>

            <aerosurface_scale name="Left Aileron Control">
                <input>fcs/roll-trim-sum</input>
                <gain>0.02</gain>
                <range>
                    <min>-20</min>
                    <max>15</max>
                </range>
                <output>fcs/left-aileron-pos-rad</output>
            </aerosurface_scale>

            <aerosurface_scale name="Right Aileron Control">
                <input>-fcs/roll-trim-sum</input>
                <gain>0.02</gain>
                <range>
                    <min>-20</min>
                    <max>15</max>
                </range>
                <output>fcs/right-aileron-pos-rad</output>
            </aerosurface_scale>

            <aerosurface_scale name="Left Aileron position normalized">
                <input>fcs/left-aileron-pos-deg</input>
                <domain>
                    <min>-20</min>
                    <max>15</max>
                </domain>
                <range>
                    <min>-0.75</min>
                    <max>1</max>
                </range>
                <output>fcs/left-aileron-pos-norm</output>
            </aerosurface_scale>

            <aerosurface_scale name="Right Aileron position normalized">
                <input>fcs/right-aileron-pos-deg</input>
                <domain>
                    <min>-20</min>
                    <max>15</max>
                </domain>
                <range>
                    <min>-0.75</min>
                    <max>1</max>
                </range>
                <output>fcs/right-aileron-pos-norm</output>
            </aerosurface_scale>
        </channel>
        <channel name="Yaw">
            <pure_gain name="Yaw Damper Rate">
                <input>velocities/r-rad_sec</input>
                <gain>2</gain>
            </pure_gain>

            <pure_gain name="Yaw Damper Beta">
                <input>aero/beta-rad</input>
                <gain>-5</gain>
            </pure_gain>

            <summer name="Yaw Trim Sum">
                <input>fcs/rudder-cmd-norm</input>
                <input>fcs/yaw-trim-cmd-norm</input>
                <clipto>
                    <min>-1</min>
                    <max>1</max>
                </clipto>
            </summer>

            <summer name="Rudder Sum">
                <input>fcs/yaw-trim-sum</input>
                <input>fcs/yaw-damper-rate</input>
                <input>fcs/yaw-damper-beta</input>
                <clipto>
                    <min>-1</min>
                    <max>1</max>
                </clipto>
            </summer>

            <aerosurface_scale name="Rudder Control">
                <input>fcs/rudder-sum</input>
                <gain>0.01745</gain>
                <range>
                    <min>-25</min>
                    <max>25</max>
                </range>
                <output>fcs/rudder-pos-rad</output>
            </aerosurface_scale>

            <aerosurface_scale name="Rudder position normalized">
                <input>fcs/rudder-pos-deg</input>
                <domain>
                    <min>-25</min>
                    <max>25</max>
                </domain>
                <range>
                    <min>-1</min>
                    <max>1</max>
                </range>
                <output>fcs/rudder-pos-norm</output>
            </aerosurface_scale>
        </channel>
        <channel name="Flaps">
            <kinematic name="Flaps Control">
                <input>fcs/flap-cmd-norm</input>
                <traverse>
                    <setting>
                        <position>0</position>
                        <time>0</time>
                    </setting>
                    <setting>
                        <position>1</position>
                        <time>4</time>
                    </setting>
                    <setting>
                        <position>2</position>
                        <time>4</time>
                    </setting>
                    <setting>
                        <position>5</position>
                        <time>3</time>
                    </setting>
                    <setting>
                        <position>10</position>
                        <time>3</time>
                    </setting>
                    <setting>
                        <position>15</position>
                        <time>3</time>
                    </setting>
                    <setting>
                        <position>25</position>
                        <time>3</time>
                    </setting>
                    <setting>
                        <position>30</position>
                        <time>2</time>
                    </setting>
                    <setting>
                        <position>40</position>
                        <time>2</time>
                    </setting>
                </traverse>
                <output>fcs/flap-pos-deg</output>
            </kinematic>

            <aerosurface_scale name="Flap position normalized">
                <input>fcs/flap-pos-deg</input>
                <domain>
                    <min>0</min>
                    <max>40</max>
                </domain>
                <range>
                    <min>0</min>
                    <max>1</max>
                </range>
                <output>fcs/flap-pos-norm</output>
            </aerosurface_scale>
        </channel>
        <channel name="Landing Gear">
            <kinematic name="Gear Control">
                <input>gear/gear-cmd-norm</input>
                <traverse>
                    <setting>
                        <position>0</position>
                        <time>0</time>
                    </setting>
                    <setting>
                        <position>1</position>
                        <time>5</time>
                    </setting>
                </traverse>
                <output>gear/gear-pos-norm</output>
            </kinematic>
        </channel>
        <channel name="Speedbrake">
            <kinematic name="Speedbrake">
                <input>fcs/speedbrake-cmd-norm</input>
                <traverse>
                    <setting>
                        <position>0</position>
                        <time>0</time>
                    </setting>
                    <setting>
                        <position>1</position>
                        <time>2</time>
                    </setting>
                </traverse>
                <output>fcs/speedbrake-pos-norm</output>
            </kinematic>
        </channel>
    </flight_control>
    <aerodynamics>

        <axis name="DRAG">
            <function name="aero/coefficient/CDo">
                <description>Drag_at_zero_lift</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <value>0.016</value>
                </product>
            </function>
            <function name="aero/coefficient/CDalpha">
                <description>Drag_due_to_alpha</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                      <table>
                          <independentVar lookup="row">aero/alpha-rad</independentVar>
                          <independentVar lookup="column">fcs/flap-pos-deg</independentVar>
                          <tableData>
                                0.0000	1.0000	25.0000	40.0000
                              -0.0873	0.0041	0.0000	0.0005	0.0014
                              -0.0698	0.0013	0.0004	0.0025	0.0041
                              -0.0524	0.0001	0.0023	0.0059	0.0084
                              -0.0349	0.0003	0.0057	0.0108	0.0141
                              -0.0175	0.0020	0.0105	0.0172	0.0212
                              0.0000	0.0052	0.0168	0.0251	0.0399
                              0.0175	0.0099	0.0248	0.0346	0.0502
                              0.0349	0.0162	0.0342	0.0457	0.0621
                              0.0524	0.0240	0.0452	0.0583	0.0755
                              0.0698	0.0334	0.0577	0.0724	0.0904
                              0.0873	0.0442	0.0718	0.0881	0.1068
                              0.1047	0.0566	0.0874	0.1053	0.1248
                              0.1222	0.0706	0.1045	0.1240	0.1443
                              0.1396	0.0860	0.1232	0.1442	0.1654
                              0.1571	0.0962	0.1353	0.1573	0.1790
                              0.1745	0.1069	0.1479	0.1708	0.1930
                              0.1920	0.1180	0.1610	0.1849	0.2075
                              0.2094	0.1298	0.1746	0.1995	0.2226
                              0.2269	0.1424	0.1892	0.2151	0.2386
                              0.2443	0.1565	0.2054	0.2323	0.2564
                              0.2618	0.1727	0.2240	0.2521	0.2767
                              0.2793	0.1782	0.2302	0.2587	0.2835
                              0.2967	0.1716	0.2227	0.2507	0.2753
                              0.3142	0.1618	0.2115	0.2388	0.2631
                              0.3316	0.1475	0.1951	0.2214	0.2451
                              0.3491	0.1097	0.1512	0.1744	0.1966
                          </tableData>
                      </table>
                </product>
            </function>
            <function name="aero/coefficient/CDde">
                <description>Drag_due_to_elevator_Deflection</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>fcs/mag-elevator-pos-rad</property>
                    <value>0.0500</value>
                </product>
            </function>
            <function name="aero/coefficient/CDbeta">
                <description>Drag_due_to_sideslip</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>aero/mag-beta-rad</property>
                    <value>0.2000</value>
                </product>
            </function>
            <function name="aero/coefficient/CDgear">
                <description>Drag_due_to_landing_gear</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>gear/gear-pos-norm</property>
                    <value>0.0400</value>
                </product>
            </function>
            <function name="aero/coefficient/CDspeedbrake">
                <description>Drag_due_to_speedbrake</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>fcs/speedbrake-pos-norm</property>
                    <value>0.0400</value>
                </product>
            </function>
        </axis>

        <axis name="SIDE">
            <function name="aero/coefficient/CYb">
                <description>Side_force_due_to_beta</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                      <table>
                          <independentVar>aero/beta-rad</independentVar>
                          <tableData>
                              -0.3500	0.5000
                              0.0000	0.0000
                              0.3500	-0.5000
                          </tableData>
                      </table>
                </product>
            </function>
        </axis>

        <axis name="LIFT">
            <function name="aero/coefficient/CLalpha">
                <description>Lift_due_to_alpha</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                      <table>
                          <independentVar lookup="row">aero/alpha-rad</independentVar>
                          <independentVar lookup="column">fcs/flap-pos-deg</independentVar>
                          <tableData>
                                0.0000	1.0000	9.0000	10.0000	40.0000
                              -0.0900	-0.2200	-0.2200	-0.1200	-0.1200	0.3200
                              0.0000	0.2500	0.2500	0.3500	0.3500	0.7500
                              0.0900	0.7300	0.7300	0.8300	0.8300	1.2300
                              0.1000	0.8300	0.8300	0.9300	0.9300	1.3300
                              0.1200	0.9200	0.9200	1.0200	1.0200	1.4200
                              0.1400	1.0200	1.0200	1.1200	1.1200	1.5200
                              0.1600	1.0800	1.0800	1.1800	1.1800	1.5800
                              0.1700	1.1300	1.1300	1.2300	1.2300	1.6300
                              0.1900	1.1900	1.1900	1.2900	1.2900	1.6900
                              0.2100	1.2500	1.2500	1.3500	1.3500	1.7700
                              0.2400	1.3500	1.3700	1.4700	1.4800	1.9300
                              0.2600	1.4400	1.4700	1.5700	1.6200	2.1200
                              0.2800	1.4700	1.5100	1.6100	1.7800	2.4000
                              0.3000	1.5000	1.5600	1.6600	1.9000	2.3000
                              0.3200	1.4700	1.6100	1.6000	1.7000	2.0300
                              0.3400	1.3500	1.5000	1.4100	1.5000	1.5300
                              0.3600	1.1500	1.2000	1.2000	1.2000	1.2000
                          </tableData>
                      </table>
                </product>
            </function>
            <function name="aero/coefficient/CLDe">
                <description>Lift_due_to_Elevator_Deflection</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>fcs/elevator-pos-rad</property>
                    <value>0.1930</value>
                </product>
            </function>
        </axis>

        <axis name="ROLL">
            <function name="aero/coefficient/Clb">
                <description>Roll_moment_due_to_beta</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                      <table>
                          <independentVar>aero/beta-rad</independentVar>
                          <tableData>
                              -0.3500	0.0100
                              0.0000	0.0000
                              0.3500	-0.0100
                          </tableData>
                      </table>
                </product>
            </function>
            <function name="aero/coefficient/Clp">
                <description>Roll_moment_due_to_roll_rate_(roll_damping)</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>aero/bi2vel</property>
                    <property>velocities/p-aero-rad_sec</property>
                    <value>-0.5000</value>
                </product>
            </function>
            <function name="aero/coefficient/Clr">
                <description>Roll_moment_due_to_yaw_rate</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>aero/bi2vel</property>
                    <property>velocities/r-aero-rad_sec</property>
                    <value>0.0050</value>
                </product>
            </function>
            <function name="aero/coefficient/Clda">
                <description>Roll_moment_due_to_aileron</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>fcs/left-aileron-pos-rad</property>
                    <value>0.2000</value>
                </product>
            </function>
            <function name="aero/coefficient/Cldr">
                <description>Roll_moment_due_to_rudder</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>fcs/rudder-pos-rad</property>
                    <value>0.0050</value>
                </product>
            </function>
        </axis>

        <axis name="PITCH">
            <function name="aero/coefficient/Cmo">
                <description>Pitching_moment_at_zero_alpha</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/cbarw-ft</property>
                      <table>
                          <independentVar>fcs/flap-pos-deg</independentVar>
                          <tableData>
                              0.0000	0.0400
                              40.0000	-0.1000
                          </tableData>
                      </table>
                </product>
            </function>
            <function name="aero/coefficient/Cmalpha">
                <description>Pitch_moment_due_to_alpha</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/cbarw-ft</property>
                    <property>aero/alpha-rad</property>
                    <value>-4.0000</value>
                </product>
            </function>
            <function name="aero/coefficient/CmDe">
                <description>Pitch_moment_due_to_elevator_Deflection</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/cbarw-ft</property>
                    <property>fcs/elevator-pos-rad</property>
                    <value>-1.5000</value>
                </product>
            </function>
            <function name="aero/coefficient/Cmq">
                <description>Pitch_moment_due_to_pitch_rate</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/cbarw-ft</property>
                    <property>aero/ci2vel</property>
                    <property>velocities/q-aero-rad_sec</property>
                    <value>-10.0000</value>
                </product>
            </function>
            <function name="aero/coefficient/Cmadot">
                <description>Pitch_moment_due_to_alpha_rate</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/cbarw-ft</property>
                    <property>aero/ci2vel</property>
                    <property>aero/alphadot-rad_sec</property>
                    <value>-12.0000</value>
                </product>
            </function>
        </axis>

        <axis name="YAW">
            <function name="aero/coefficient/Cnr">
                <description>Yaw_moment_due_to_yaw_rate</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>aero/bi2vel</property>
                    <property>velocities/r-aero-rad_sec</property>
                    <value>-0.0400</value>
                </product>
            </function>
            <function name="aero/coefficient/Cnb">
                <description>Yaw_moment_due_to_beta</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>aero/beta-rad</property>
                    <value>0.2000</value>
                </product>
            </function>
            <function name="aero/coefficient/Cndr">
                <description>Yaw_moment_due_to_rudder</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>fcs/rudder-pos-rad</property>
                    <value>-0.5000</value>
                </product>
            </function>
        </axis>
    </aerodynamics>
</fdm_config>
// This file instructs the automatic synchronization utilities where to
// install this aircraft and under what name.
//
// The syntax is easy;
// * the package name at the beginning of a new line followed by a colon
// * a space as a column separator
// * the path and filename relative to the aircraft install directory
//
// Currently known package names are: FlightGear

FlightGear:
<?xml version="1.0"?>
<?xml-stylesheet type="text/xsl" href="http://jsbsim.sourceforge.net/JSBSim.xsl"?>
<fdm_config name="A-4" version="2.0" release="ALPHA"
   xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
   xsi:noNamespaceSchemaLocation="http://jsbsim.sourceforge.net/JSBSim.xsd">

 <fileheader>
  <author> Aeromatic v 0.9 </author>
  <filecreationdate>2000-01-01</filecreationdate>
  <version> 0.0 </version>
  <description> Models a A-4. </description>
   <note>
        This model was created using publicly available data, publicly available
        technical reports, textbooks, and guesses. It contains no proprietary or
        restricted data. If this model has been validated at all, it would be
        only to the extent that it seems to "fly right", and that it possibly
        complies with published, publicly known, performance data (maximum speed,
        endurance, etc.). Thus, this model is meant for educational and entertainment
        purposes only.

        This simulation model is not endorsed by the manufacturer. This model is not
        to be sold.
   </note>
 </fileheader>

<!--
  File:     A-4.xml
  Inputs:
    name:          A-4
    type:          single-engine transonic/supersonic fighter
    max weight:    22500.0 lb
    wing span:     27.5 ft
    length:        41.71 ft
    wing area:     260 sq-ft
    gear type:     tricycle
    retractable?:  yes
    # engines:     1
    engine type:   turbine
    engine layout: aft fuselage
    yaw damper?    yes
  Outputs:
    wing loading:  86.54 lb/sq-ft
    CL-alpha:      3.5 per radian
    CL-0:          0.08
    CL-max:        1
    CD-0:          0.021
    K:             0.09

-->

 <metrics>
   <wingarea  unit="FT2">  260.00 </wingarea>
   <wingspan  unit="FT" >   27.50 </wingspan>
   <wing_incidence>          2.00 </wing_incidence>
   <chord     unit="FT" >    9.45 </chord>
   <htailarea unit="FT2">   52.00 </htailarea>
   <htailarm  unit="FT" >   16.68 </htailarm>
   <vtailarea unit="FT2">   31.20 </vtailarea>
   <vtailarm  unit="FT" >   16.68 </vtailarm>
   <location name="AERORP" unit="IN">
     <x> 300.31 </x>
     <y>   0.00 </y>
     <z>   0.00 </z>
   </location>
   <location name="EYEPOINT" unit="IN">
     <x> 100.10 </x>
     <y>   0.00 </y>
     <z>  36.00 </z>
   </location>
   <location name="VRP" unit="IN">
     <x>0</x>
     <y>0</y>
     <z>0</z>
   </location>
 </metrics>

 <mass_balance>
   <ixx unit="SLUG*FT2">      5778 </ixx>
   <iyy unit="SLUG*FT2">     25900 </iyy>
   <izz unit="SLUG*FT2">     20082 </izz>
   <ixy unit="SLUG*FT2">         0 </ixy>
   <ixz unit="SLUG*FT2">         0 </ixz>
   <iyz unit="SLUG*FT2">         0 </iyz>
   <emptywt unit="LBS" >     10250 </emptywt>
   <location name="CG" unit="IN">
     <x> 300.31 </x>
     <y>   0.00 </y>
     <z> -12.51 </z>
   </location>
 </mass_balance>

 <ground_reactions>

  <contact type="BOGEY" name="NOSE">
   <location unit="IN">
     <x>  65.07 </x>
     <y>   0.00 </y>
     <z> -60.06 </z>
   </location>
   <static_friction>  0.80 </static_friction>
   <dynamic_friction> 0.50 </dynamic_friction>
   <rolling_friction> 0.02 </rolling_friction>
   <spring_coeff unit="LBS/FT">       6750.00 </spring_coeff>
   <damping_coeff unit="LBS/FT/SEC">  2250.00 </damping_coeff>
   <max_steer unit="DEG"> 5.00 </max_steer>
   <brake_group>NONE</brake_group>
   <retractable>1</retractable>
 </contact>

  <contact type="BOGEY" name="LEFT_MAIN">
   <location unit="IN">
     <x> 312.32 </x>
     <y> -29.70 </y>
     <z> -60.06 </z>
   </location>
   <static_friction>  0.80 </static_friction>
   <dynamic_friction> 0.50 </dynamic_friction>
   <rolling_friction> 0.02 </rolling_friction>
   <spring_coeff unit="LBS/FT">      22500.00 </spring_coeff>
   <damping_coeff unit="LBS/FT/SEC">  4500.00 </damping_coeff>
   <max_steer unit="DEG">0</max_steer>
   <brake_group>LEFT</brake_group>
   <retractable>1</retractable>
 </contact>

  <contact type="BOGEY" name="RIGHT_MAIN">
   <location unit="IN">
     <x> 312.32 </x>
     <y>  29.70 </y>
     <z> -60.06 </z>
   </location>
   <static_friction>  0.80 </static_friction>
   <dynamic_friction> 0.50 </dynamic_friction>
   <rolling_friction> 0.02 </rolling_friction>
   <spring_coeff unit="LBS/FT">      22500.00 </spring_coeff>
   <damping_coeff unit="LBS/FT/SEC">  4500.00 </damping_coeff>
   <max_steer unit="DEG">0</max_steer>
   <brake_group>RIGHT</brake_group>
   <retractable>1</retractable>
 </contact>

  <contact type="STRUCTURE" name="LEFT_WING">
    <location unit="IN">
     <x> 300.31 </x>
     <y> -13.75 </y>
     <z> -12.51 </z>
    </location>
    <static_friction>  0.80 </static_friction>
    <dynamic_friction> 0.50 </dynamic_friction>
    <spring_coeff unit="LBS/FT">      22500.00 </spring_coeff>
    <damping_coeff unit="LBS/FT/SEC">  4500.00 </damping_coeff>
 </contact>

  <contact type="STRUCTURE" name="RIGHT_WING">
    <location unit="IN">
     <x> 300.31 </x>
     <y>  13.75 </y>
     <z> -12.51 </z>
    </location>
    <static_friction>  0.80 </static_friction>
    <dynamic_friction> 0.50 </dynamic_friction>
    <spring_coeff unit="LBS/FT">      22500.00 </spring_coeff>
    <damping_coeff unit="LBS/FT/SEC">  4500.00 </damping_coeff>
 </contact>

 </ground_reactions>

 <propulsion>

   <engine file="J52">
    <feed>0</feed>
    <thruster file="direct">
     <location unit="IN">
       <x> 440.52 </x>
       <y>   0.00 </y>
       <z>   0.00 </z>
     </location>
     <orient unit="DEG">
       <pitch> 0.00 </pitch>
       <roll>   0.00 </roll>
       <yaw>   0.00 </yaw>
     </orient>
    </thruster>
  </engine>

  <tank type="FUEL" number="0">
     <location unit="IN">
       <x> 300.31 </x>
       <y>   0.00 </y>
       <z> -12.51 </z>
     </location>
     <capacity unit="LBS"> 3000.00 </capacity>
     <contents unit="LBS"> 3000.00 </contents>
  </tank>

 </propulsion>

 <flight_control name="FCS: A-4">

  <channel name="Pitch">
   <summer name="Pitch Trim Sum">
      <input>fcs/elevator-cmd-norm</input>
      <input>fcs/pitch-trim-cmd-norm</input>
      <clipto>
        <min> -1 </min>
        <max>  1 </max>
      </clipto>
   </summer>

   <aerosurface_scale name="Elevator Control">
      <input>fcs/pitch-trim-sum</input>
      <range>
        <min> -0.35 </min>
        <max>  0.30 </max>
      </range>
      <output>fcs/elevator-pos-rad</output>
   </aerosurface_scale>

  </channel>

  <channel name="Roll">
   <summer name="Roll Trim Sum">
      <input>fcs/aileron-cmd-norm</input>
      <input>fcs/roll-trim-cmd-norm</input>
      <clipto>
        <min> -1 </min>
        <max>  1 </max>
      </clipto>
   </summer>

   <aerosurface_scale name="Left Aileron Control">
      <input>fcs/roll-trim-sum</input>
      <range>
        <min> -0.35 </min>
        <max>  0.35 </max>
      </range>
      <output>fcs/left-aileron-pos-rad</output>
   </aerosurface_scale>

   <aerosurface_scale name="Right Aileron Control">
      <input>fcs/roll-trim-sum</input>
      <range>
        <min> -0.35 </min>
        <max>  0.35 </max>
      </range>
      <output>fcs/right-aileron-pos-rad</output>
   </aerosurface_scale>

  </channel>

  <channel name="Yaw">
   <summer name="Rudder Command Sum">
      <input>fcs/rudder-cmd-norm</input>
      <input>fcs/yaw-trim-cmd-norm</input>
      <clipto>
        <min> -0.35 </min>
        <max>  0.35 </max>
      </clipto>
   </summer>

   <scheduled_gain name="Yaw Damper Rate">
      <input>velocities/r-aero-rad_sec</input>
      <table>
        <independentVar lookup="row">velocities/ve-kts</independentVar>
         <tableData>
            30     0.00
            60     2.00
         </tableData>
      </table>
   </scheduled_gain>

   <scheduled_gain name="Yaw Damper Beta">
      <input>aero/beta-rad</input>
      <table>
        <independentVar lookup="row">velocities/ve-kts</independentVar>
        <tableData>
           30     0.00
           60     0.00
        </tableData>
      </table>
   </scheduled_gain>

   <summer name="Yaw Damper Sum">
      <input>fcs/yaw-damper-beta</input>
      <input>fcs/yaw-damper-rate</input>
      <clipto>
        <min> -0.1 </min>
        <max>  0.1 </max>
      </clipto>
   </summer>

   <scheduled_gain name="Yaw Damper Final">
      <input>fcs/yaw-damper-sum</input>
      <table>
        <independentVar lookup="row">velocities/ve-kts</independentVar>
        <tableData>
           30         0.0
           31         1.0
        </tableData>
      </table>
   </scheduled_gain>

   <summer name="Rudder Sum">
      <input>fcs/rudder-command-sum</input>
      <input>fcs/yaw-damper-final</input>
      <clipto>
        <min> -1 </min>
        <max>  1 </max>
      </clipto>
   </summer>

   <aerosurface_scale name="Rudder Control">
      <input>fcs/rudder-sum</input>
      <range>
        <min> -0.35 </min>
        <max>  0.35 </max>
      </range>
      <output>fcs/rudder-pos-rad</output>
   </aerosurface_scale>

  </channel>

  <channel name="Flaps">
   <kinematic name="Flaps Control">
     <input>fcs/flap-cmd-norm</input>
     <traverse>
       <setting>
          <position>  0 </position>
          <time>      0 </time>
       </setting>
       <setting>
          <position> 15 </position>
          <time>      4 </time>
       </setting>
       <setting>
          <position> 30 </position>
          <time>      3 </time>
       </setting>
     </traverse>
     <output>fcs/flap-pos-deg</output>
   </kinematic>

  </channel>

  <channel name="Landing Gear">
   <kinematic name="Gear Control">
     <input>gear/gear-cmd-norm</input>
     <traverse>
       <setting>
          <position> 0 </position>
          <time>     0 </time>
       </setting>
       <setting>
          <position> 1 </position>
          <time>     5 </time>
       </setting>
     </traverse>
     <output>gear/gear-pos-norm</output>
   </kinematic>

  </channel>

  <channel name="Speedbrake">
   <kinematic name="Speedbrake Control">
     <input>fcs/speedbrake-cmd-norm</input>
     <traverse>
       <setting>
          <position> 0 </position>
          <time>     0 </time>
       </setting>
       <setting>
          <position> 1 </position>
          <time>     1 </time>
       </setting>
     </traverse>
     <output>fcs/speedbrake-pos-norm</output>
   </kinematic>

  </channel>

 </flight_control>

 <aerodynamics>

  <axis name="LIFT">

    <function name="aero/coefficient/CLalpha">
      <description>Lift_due_to_alpha</description>
      <product>
          <property>aero/qbar-psf</property>
          <property>metrics/Sw-sqft</property>
          <table>
            <independentVar lookup="row">aero/alpha-rad</independentVar>
            <tableData>
              -0.20 -0.620
               0.00  0.080
               0.26  1.000
               0.60  0.448
            </tableData>
          </table>
      </product>
    </function>

    <function name="aero/coefficient/dCLflap">
       <description>Delta_Lift_due_to_flaps</description>
       <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <property>fcs/flap-pos-deg</property>
           <value> 0.01167 </value>
       </product>
    </function>

    <function name="aero/coefficient/dCLsb">
       <description>Delta_Lift_due_to_speedbrake</description>
       <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <property>fcs/speedbrake-pos-norm</property>
           <value>0</value>
       </product>
    </function>

    <function name="aero/coefficient/CLde">
       <description>Lift_due_to_Elevator_Deflection</description>
       <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <property>fcs/elevator-pos-rad</property>
           <value>0.2</value>
       </product>
    </function>

  </axis>

  <axis name="DRAG">

    <function name="aero/coefficient/CD0">
       <description>Drag_at_zero_lift</description>
       <product>
          <property>aero/qbar-psf</property>
          <property>metrics/Sw-sqft</property>
          <table>
            <independentVar lookup="row">aero/alpha-rad</independentVar>
            <tableData>
             -1.57       1.500
             -0.26    0.027
              0.00    0.021
              0.26    0.027
              1.57       1.500
            </tableData>
          </table>
       </product>
    </function>

    <function name="aero/coefficient/CDi">
       <description>Induced_drag</description>
         <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <property>aero/cl-squared</property>
           <value>0.09</value>
         </product>
    </function>

    <function name="aero/coefficient/CDmach">
       <description>Drag_due_to_mach</description>
        <product>
          <property>aero/qbar-psf</property>
          <property>metrics/Sw-sqft</property>
          <table>
            <independentVar lookup="row">velocities/mach</independentVar>
            <tableData>
                0.00      0.000
                0.81      0.000
                1.10      0.023
                1.80      0.015
            </tableData>
          </table>
        </product>
    </function>

    <function name="aero/coefficient/CDflap">
       <description>Drag_due_to_flaps</description>
         <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <property>fcs/flap-pos-deg</property>
           <value> 0.00267 </value>
         </product>
    </function>

    <function name="aero/coefficient/CDgear">
       <description>Drag_due_to_gear</description>
         <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <property>gear/gear-pos-norm</property>
           <value>0.02</value>
         </product>
    </function>

    <function name="aero/coefficient/CDsb">
       <description>Drag_due_to_speedbrakes</description>
         <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <property>fcs/speedbrake-pos-norm</property>
           <value>0.021</value>
         </product>
    </function>

    <function name="aero/coefficient/CDbeta">
       <description>Drag_due_to_sideslip</description>
       <product>
          <property>aero/qbar-psf</property>
          <property>metrics/Sw-sqft</property>
          <table>
            <independentVar lookup="row">aero/beta-rad</independentVar>
            <tableData>
              -1.57       1.230
              -0.26    0.050
               0.00       0.000
               0.26    0.050
               1.57       1.230
            </tableData>
          </table>
       </product>
    </function>

    <function name="aero/coefficient/CDde">
       <description>Drag_due_to_Elevator_Deflection</description>
       <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <property>fcs/mag-elevator-pos-rad</property>
           <value>0.04</value>
       </product>
    </function>

  </axis>

  <axis name="SIDE">

    <function name="aero/coefficient/CYb">
       <description>Side_force_due_to_beta</description>
       <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <property>aero/beta-rad</property>
           <value>-1</value>
       </product>
    </function>

  </axis>

  <axis name="ROLL">

    <function name="aero/coefficient/Clb">
       <description>Roll_moment_due_to_beta</description>
       <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <property>metrics/bw-ft</property>
           <property>aero/beta-rad</property>
           <value>-0.1</value>
       </product>
    </function>

    <function name="aero/coefficient/Clp">
       <description>Roll_moment_due_to_roll_rate</description>
       <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <property>metrics/bw-ft</property>
           <property>aero/bi2vel</property>
           <property>velocities/p-aero-rad_sec</property>
           <value>-0.4</value>
       </product>
    </function>

    <function name="aero/coefficient/Clr">
       <description>Roll_moment_due_to_yaw_rate</description>
       <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <property>metrics/bw-ft</property>
           <property>aero/bi2vel</property>
           <property>velocities/r-aero-rad_sec</property>
           <value>0.15</value>
       </product>
    </function>

    <function name="aero/coefficient/Clda">
       <description>Roll_moment_due_to_aileron</description>
       <product>
          <property>aero/qbar-psf</property>
          <property>metrics/Sw-sqft</property>
          <property>metrics/bw-ft</property>
          <property>fcs/left-aileron-pos-rad</property>
          <table>
            <independentVar lookup="row">velocities/mach</independentVar>
            <tableData>
              0.0    0.110
              2.0    0.037
            </tableData>
          </table>
       </product>
    </function>

    <function name="aero/coefficient/Cldr">
       <description>Roll_moment_due_to_rudder</description>
       <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <property>metrics/bw-ft</property>
           <property>fcs/rudder-pos-rad</property>
           <value>0.01</value>
       </product>
    </function>

  </axis>

  <axis name="PITCH">

    <function name="aero/coefficient/Cmalpha">
       <description>Pitch_moment_due_to_alpha</description>
       <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <property>metrics/cbarw-ft</property>
           <property>aero/alpha-rad</property>
           <value>-0.38</value>
       </product>
    </function>

    <function name="aero/coefficient/Cmde">
       <description>Pitch_moment_due_to_elevator</description>
       <product>
          <property>aero/qbar-psf</property>
          <property>metrics/Sw-sqft</property>
          <property>metrics/cbarw-ft</property>
          <property>fcs/elevator-pos-rad</property>
          <table>
            <independentVar lookup="row">velocities/mach</independentVar>
            <tableData>
              0.0     -0.500
              2.0     -0.200
            </tableData>
          </table>
       </product>
    </function>

    <function name="aero/coefficient/Cmq">
       <description>Pitch_moment_due_to_pitch_rate</description>
       <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <property>metrics/cbarw-ft</property>
           <property>aero/ci2vel</property>
           <property>velocities/q-aero-rad_sec</property>
           <value>-3.6</value>
       </product>
    </function>

    <function name="aero/coefficient/Cmadot">
       <description>Pitch_moment_due_to_alpha_rate</description>
       <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <property>metrics/cbarw-ft</property>
           <property>aero/ci2vel</property>
           <property>aero/alphadot-rad_sec</property>
           <value>-1.1</value>
       </product>
    </function>

  </axis>

  <axis name="YAW">

    <function name="aero/coefficient/Cnb">
       <description>Yaw_moment_due_to_beta</description>
       <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <property>metrics/bw-ft</property>
           <property>aero/beta-rad</property>
           <value>0.12</value>
       </product>
    </function>

    <function name="aero/coefficient/Cnr">
       <description>Yaw_moment_due_to_yaw_rate</description>
       <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <property>metrics/bw-ft</property>
           <property>aero/bi2vel</property>
           <property>velocities/r-aero-rad_sec</property>
           <value>-0.15</value>
       </product>
    </function>

    <function name="aero/coefficient/Cndr">
       <description>Yaw_moment_due_to_rudder</description>
       <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <property>metrics/bw-ft</property>
           <property>fcs/rudder-pos-rad</property>
           <value>-0.1</value>
       </product>
    </function>

    <function name="aero/coefficient/Cnda">
       <description>Adverse_yaw</description>
       <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <property>metrics/bw-ft</property>
           <property>fcs/left-aileron-pos-rad</property>
           <value>0</value>
       </product>
    </function>

  </axis>

 </aerodynamics>

</fdm_config>
// This file instructs the automatic synchronization utilities where to
// install this aircraft and under what name.
//
// The syntax is easy;
// * the package name at the beginning of a new line followed by a colon
// * a space as a column separator
// * the path and filename relative to the aircraft install directory
//
// Currently known package names are: FlightGear

FlightGear:
<?xml version="1.0"?>
<?xml-stylesheet type="text/xsl" href="http://jsbsim.sourceforge.net/JSBSim.xsl"?>
<fdm_config name="Boeing B-17G" version="2.0" release="ALPHA"
   xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
   xsi:noNamespaceSchemaLocation="http://jsbsim.sourceforge.net/JSBSim.xsd">

  <fileheader>
    <author> Aeromatic v 0.9, refined by Jon Berndt </author>
    <filecreationdate> 2008-12-22 </filecreationdate>
    <version>$Revision: 1.8 $</version>
    <description> Models a Boeing B-17G. </description>
      <note>
        This model was created using publicly available data, publicly available
        technical reports, textbooks, and guesses. It contains no proprietary or
        restricted data. If this model has been validated at all, it would be
        only to the extent that it seems to "fly right", and that it possibly
        complies with published, publicly known, performance data (maximum speed,
        endurance, etc.). Thus, this model is meant for educational and entertainment
        purposes only.

        This simulation model is not endorsed by the manufacturer. This model is not
        to be sold.
      </note>
  </fileheader>

  <!--
  File:     Boeing B-17G.xml
  Inputs:
    name:          Boeing B-17G
    type:          multi-engine prop transport
    max weight:    65500.0 lb
    wing span:     103.75 ft
    length:        74.33 ft
    wing area:     1420 sq-ft
    gear type:     taildragger
    retractable?:  yes
    # engines:     4
    engine type:   piston
    engine layout: wings
    yaw damper?    no
    Structural frame origin at nose

  Outputs:
    wing loading:  46.13 lb/sq-ft
    CL-alpha:      4.9 per radian
    CL-0:          0.24
    CL-max:        1.4
    CD-0:          0.025
    K:             0.039
  -->

  <metrics>
    <wingarea  unit="FT2"> 1420.00 </wingarea>
    <wingspan  unit="FT" >  103.75 </wingspan>
    <wing_incidence>          2.00 </wing_incidence>
    <chord     unit="FT" >   13.69 </chord>
    <location name="AERORP" unit="FT">
      <x>  22.50 </x>
      <y>   0.00 </y>
      <z>   0.00 </z>
    </location>
    <location name="EYEPOINT" unit="FT">
      <x> 11.0 </x>
      <y> -2.0 </y>
      <z>  3.5 </z>
    </location>
    <location name="VRP" unit="FT">
      <x> 0.0 </x>
      <y> 0.0 </y>
      <z> 0.0 </z>
    </location>
  </metrics>

  <mass_balance>
    <ixx unit="SLUG*FT2">    400000 </ixx>
    <iyy unit="SLUG*FT2">    250000 </iyy>
    <izz unit="SLUG*FT2">    600000 </izz>
    <emptywt unit="LBS" >     36100 </emptywt>
    <location name="CG" unit="FT">
      <x> 22.0 </x>
      <y>  0.0 </y>
      <z> -0.5 </z>
    </location>
  </mass_balance>

  <ground_reactions>

    <contact type="BOGEY" name="LEFT_MAIN">
      <location unit="FT">
        <x>  20.9 </x>
        <y> -10.0 </y>
        <z>  -8.5 </z>
      </location>
      <static_friction>  0.80 </static_friction>
      <dynamic_friction> 0.50 </dynamic_friction>
      <rolling_friction> 0.02 </rolling_friction>
      <spring_coeff unit="LBS/FT">      30000.00 </spring_coeff>
      <damping_coeff unit="LBS/FT/SEC">  3000.00 </damping_coeff>
      <max_steer unit="DEG">0</max_steer>
      <brake_group>LEFT</brake_group>
      <retractable>1</retractable>
    </contact>

    <contact type="BOGEY" name="RIGHT_MAIN">
      <location unit="FT">
        <x> 20.9 </x>
        <y> 10.0 </y>
        <z> -8.5 </z>
      </location>
      <static_friction>  0.80 </static_friction>
      <dynamic_friction> 0.50 </dynamic_friction>
      <rolling_friction> 0.02 </rolling_friction>
      <spring_coeff unit="LBS/FT">      30000.00 </spring_coeff>
      <damping_coeff unit="LBS/FT/SEC">  3000.00 </damping_coeff>
      <max_steer unit="DEG">0</max_steer>
      <brake_group>RIGHT</brake_group>
      <retractable>1</retractable>
    </contact>

    <contact type="BOGEY" name="TAIL">
      <location unit="FT">
        <x> 52.5 </x>
        <y>   0.00 </y>
        <z> -4.75 </z>
      </location>
      <static_friction>  0.80 </static_friction>
      <dynamic_friction> 0.50 </dynamic_friction>
      <rolling_friction> 0.02 </rolling_friction>
      <spring_coeff unit="LBS/FT">      6500.0 </spring_coeff>
      <damping_coeff unit="LBS/FT/SEC"> 650.00 </damping_coeff>
      <max_steer unit="DEG"> 5.00 </max_steer>
      <brake_group>NONE</brake_group>
      <retractable>1</retractable>
    </contact>

    <contact type="STRUCTURE" name="LEFT_WING">
      <location unit="FT">
        <x>  24.0 </x>
        <y> -51.9 </y>
        <z>   1.9 </z>
      </location>
      <static_friction>  0.80 </static_friction>
      <dynamic_friction> 0.50 </dynamic_friction>
      <spring_coeff unit="LBS/FT">      65500.00 </spring_coeff>
      <damping_coeff unit="LBS/FT/SEC"> 13100.00 </damping_coeff>
    </contact>

    <contact type="STRUCTURE" name="RIGHT_WING">
      <location unit="FT">
        <x> 24.0 </x>
        <y> 51.9 </y>
        <z>  1.9 </z>
      </location>
      <static_friction>  0.80 </static_friction>
      <dynamic_friction> 0.50 </dynamic_friction>
      <spring_coeff unit="LBS/FT">      65500.00 </spring_coeff>
      <damping_coeff unit="LBS/FT/SEC"> 13100.00 </damping_coeff>
    </contact>

  </ground_reactions>

  <propulsion>

    <engine file="R-1820-97"> <!-- Engine 0 (left outboard) -->
      <feed>0</feed>
      <feed>1</feed>
      <feed>2</feed>
      <feed>3</feed>
      <feed>4</feed>
      <feed>9</feed>
      <thruster file="propHS139v">
        <location unit="FT">
          <x>  10.1 </x>
          <y> -21.6 </y>
          <z>  -0.4 </z>
        </location>
        <orient unit="DEG">
          <roll>0</roll>
          <pitch>0</pitch>
          <yaw>0</yaw>
        </orient>
      </thruster>
    </engine>

    <engine file="R-1820-97"> <!-- Engine 1 (left inboard) -->
      <feed>5</feed>
      <feed>6</feed>
      <feed>7</feed>
      <feed>8</feed>
      <feed>10</feed>
      <feed>11</feed>
      <thruster file="propHS139v">
        <location unit="FT">
          <x>   8.6 </x>
          <y> -10.0 </y>
          <z>  -0.7 </z>
        </location>
        <orient unit="DEG">
          <roll>0</roll>
          <pitch>0</pitch>
          <yaw>0</yaw>
        </orient>
      </thruster>
    </engine>

    <engine file="R-1820-97"> <!-- Engine 2 (right inboard) -->
      <feed>12</feed>
      <feed>13</feed>
      <feed>15</feed>
      <feed>16</feed>
      <feed>17</feed>
      <feed>18</feed>
      <thruster file="propHS139v">
        <location unit="FT">
          <x>  8.6 </x>
          <y> 10.0 </y>
          <z> -0.7 </z>
        </location>
        <orient unit="DEG">
          <roll>0</roll>
          <pitch>0</pitch>
          <yaw>0</yaw>
        </orient>
      </thruster>
    </engine>

    <engine file="R-1820-97"> <!-- Engine 3 (right outboard) -->
      <feed>14</feed>
      <feed>19</feed>
      <feed>20</feed>
      <feed>21</feed>
      <feed>22</feed>
      <feed>23</feed>
      <thruster file="propHS139v">
        <location unit="FT">
          <x> 10.1 </x>
          <y> 21.6 </y>
          <z> -0.4 </z>
        </location>
        <orient unit="DEG">
          <roll>0</roll>
          <pitch>0</pitch>
          <yaw>0</yaw>
        </orient>
      </thruster>
    </engine>

    <!-- Left side tanks -->
    
    <tank type="FUEL" number="0">
      <description> B-17 Pilot's Manual "Left Outboard Tank 1" (54 US Gallons) </description>
      <location unit="FT">
        <x>  24.7 </x>
        <y> -45.8 </y>
        <z>   2.0 </z>
      </location>
      <capacity unit="LBS"> 328 </capacity>
      <contents unit="LBS"> 328 </contents>
    </tank>

    <tank type="FUEL" number="1">
      <description> B-17 Pilot's Manual "Left Outboard Tank 2" (54 US Gallons) </description>
      <location unit="FT">
        <x>  24.7 </x>
        <y> -43.8 </y>
        <z>   2.0 </z>
      </location>
      <capacity unit="LBS"> 328 </capacity>
      <contents unit="LBS"> 328 </contents>
    </tank>

    <tank type="FUEL" number="2">
      <description> B-17 Pilot's Manual "Left Outboard Tank 3" (54 US Gallons) </description>
      <location unit="FT">
        <x>  24.7 </x>
        <y> -41.9 </y>
        <z>   2.0 </z>
      </location>
      <capacity unit="LBS"> 328 </capacity>
      <contents unit="LBS"> 328 </contents>
    </tank>

    <tank type="FUEL" number="3">
      <description> B-17 Pilot's Manual "Left Outboard Tank 4" (54 US Gallons) </description>
      <location unit="FT">
        <x>  24.7 </x>
        <y> -40.0 </y>
        <z>   2.0 </z>
      </location>
      <capacity unit="LBS"> 328 </capacity>
      <contents unit="LBS"> 328 </contents>
    </tank>

    <tank type="FUEL" number="4">
      <description> B-17 Pilot's Manual "Left Outboard Tank 5" (54 US Gallons) </description>
      <location unit="FT">
        <x>  24.7 </x>
        <y> -37.7 </y>
        <z>   2.0 </z>
      </location>
      <capacity unit="LBS"> 328 </capacity>
      <contents unit="LBS"> 328 </contents>
    </tank>

    <tank type="FUEL" number="5">
      <description> B-17 Pilot's Manual "Left Inboard Tank 6" (67.5 US Gallons) </description>
      <location unit="FT">
        <x>  24.7 </x>
        <y> -35.8 </y>
        <z>   2.0 </z>
      </location>
      <capacity unit="LBS"> 410 </capacity>
      <contents unit="LBS"> 410 </contents>
    </tank>

    <tank type="FUEL" number="6">
      <description> B-17 Pilot's Manual "Left Inboard Tank 7" (67.5 US Gallons) </description>
      <location unit="FT">
        <x>  24.7 </x>
        <y> -33.9 </y>
        <z>   2.0 </z>
      </location>
      <capacity unit="LBS"> 410 </capacity>
      <contents unit="LBS"> 410 </contents>
    </tank>

    <tank type="FUEL" number="7">
      <description> B-17 Pilot's Manual "Left Inboard Tank 8" (67.5 US Gallons) </description>
      <location unit="FT">
        <x>  24.7 </x>
        <y> -32.0 </y>
        <z>   2.0 </z>
      </location>
      <capacity unit="LBS"> 410 </capacity>
      <contents unit="LBS"> 410 </contents>
    </tank>

    <tank type="FUEL" number="8">
      <description> B-17 Pilot's Manual "Left Inboard Tank 9" (67.5 US Gallons) </description>
      <location unit="FT">
        <x>  24.7 </x>
        <y> -30.1 </y>
        <z>   2.0 </z>
      </location>
      <capacity unit="LBS"> 410 </capacity>
      <contents unit="LBS"> 410 </contents>
    </tank>

    <tank type="FUEL" number="9">
      <description> B-17 Pilot's Manual "Left Outboard Engine tank" (425 US Gallons) </description>
      <location unit="FT">
        <x>  22.4 </x>
        <y> -25.8 </y>
        <z>   1.0 </z>
      </location>
      <capacity unit="LBS"> 2581 </capacity>
      <contents unit="LBS"> 2581 </contents>
    </tank>

    <tank type="FUEL" number="10">
      <description> B-17 Pilot's Manual "Left Inboard Engine tank" (213 US Gallons) </description>
      <location unit="FT">
        <x>  22.4 </x>
        <y> -14.3 </y>
        <z>   1.0 </z>
      </location>
      <capacity unit="LBS"> 1293 </capacity>
      <contents unit="LBS"> 1293 </contents>
    </tank>

    <tank type="FUEL" number="11">
      <description> B-17 Pilot's Manual "Left Inboard Engine 2 Feeder tank" (212 US Gallons) </description>
      <location unit="FT">
        <x>  25.0 </x>
        <y> -14.3 </y>
        <z>   1.0 </z>
      </location>
      <capacity unit="LBS"> 1287 </capacity>
      <contents unit="LBS"> 1287 </contents>
    </tank>

    <!-- Right side tanks -->

    <tank type="FUEL" number="12">
      <description> B-17 Pilot's Manual "Right Inboard Engine Feeder tank" (212 US Gallons) </description>
      <location unit="FT">
        <x> 25.0 </x>
        <y> 14.3 </y>
        <z>  1.0 </z>
      </location>
      <capacity unit="LBS"> 1287 </capacity>
      <contents unit="LBS"> 1287 </contents>
    </tank>

    <tank type="FUEL" number="13">
      <description> B-17 Pilot's Manual "Right Inboard Engine tank" (213 US Gallons) </description>
      <location unit="FT">
        <x> 22.4 </x>
        <y> 14.3 </y>
        <z>  1.0 </z>
      </location>
      <capacity unit="LBS"> 1293 </capacity>
      <contents unit="LBS"> 1293 </contents>
    </tank>

    <tank type="FUEL" number="14">
      <description> B-17 Pilot's Manual "Right Outboard Engine tank" (425 US Gallons) </description>
      <location unit="FT">
        <x> 22.4 </x>
        <y> 25.8 </y>
        <z>  1.0 </z>
      </location>
      <capacity unit="LBS"> 2581 </capacity>
      <contents unit="LBS"> 2581 </contents>
    </tank>

    <tank type="FUEL" number="15">
      <description> B-17 Pilot's Manual "Right Inboard Tank 9" (67.5 US Gallons) </description>
      <location unit="FT">
        <x> 24.7 </x>
        <y> 30.1 </y>
        <z>  2.0 </z>
      </location>
      <capacity unit="LBS"> 410 </capacity>
      <contents unit="LBS"> 410 </contents>
    </tank>

    <tank type="FUEL" number="16">
      <description> B-17 Pilot's Manual "Rightt Inboard Tank 8" (67.5 US Gallons) </description>
      <location unit="FT">
        <x> 24.7 </x>
        <y> 32.0 </y>
        <z>  2.0 </z>
      </location>
      <capacity unit="LBS"> 410 </capacity>
      <contents unit="LBS"> 410 </contents>
    </tank>

    <tank type="FUEL" number="17">
      <description> B-17 Pilot's Manual "Right Inboard Tank 7" (67.5 US Gallons) </description>
      <location unit="FT">
        <x> 24.7 </x>
        <y> 33.9 </y>
        <z>  2.0 </z>
      </location>
      <capacity unit="LBS"> 410 </capacity>
      <contents unit="LBS"> 410 </contents>
    </tank>

    <tank type="FUEL" number="18">
      <description> B-17 Pilot's Manual "Right Inboard Tank 6" (67.5 US Gallons) </description>
      <location unit="FT">
        <x> 24.7 </x>
        <y> 35.8 </y>
        <z>  2.0 </z>
      </location>
      <capacity unit="LBS"> 410 </capacity>
      <contents unit="LBS"> 410 </contents>
    </tank>


    <tank type="FUEL" number="19">
      <description> B-17 Pilot's Manual "Right Outboard Tank 5" (54 US Gallons) </description>
      <location unit="FT">
        <x> 24.7 </x>
        <y> 37.7 </y>
        <z>  2.0 </z>
      </location>
      <capacity unit="LBS"> 328 </capacity>
      <contents unit="LBS"> 328 </contents>
    </tank>


    <tank type="FUEL" number="20">
      <description> B-17 Pilot's Manual "Right Outboard Tank 4" (54 US Gallons) </description>
      <location unit="FT">
        <x> 24.7 </x>
        <y> 40.0 </y>
        <z>  2.0 </z>
      </location>
      <capacity unit="LBS"> 328 </capacity>
      <contents unit="LBS"> 328 </contents>
    </tank>

    <tank type="FUEL" number="21">
      <description> B-17 Pilot's Manual "Right Outboard Tank 3" (54 US Gallons) </description>
      <location unit="FT">
        <x> 24.7 </x>
        <y> 41.9 </y>
        <z>  2.0 </z>
      </location>
      <capacity unit="LBS"> 328 </capacity>
      <contents unit="LBS"> 328 </contents>
    </tank>

    <tank type="FUEL" number="22">
      <description> B-17 Pilot's Manual "Right Outboard Tank 2" (54 US Gallons) </description>
      <location unit="FT">
        <x> 24.7 </x>
        <y> 43.8 </y>
        <z>  2.0 </z>
      </location>
      <capacity unit="LBS"> 328 </capacity>
      <contents unit="LBS"> 328 </contents>
    </tank>

    <tank type="FUEL" number="23">
      <description> B-17 Pilot's Manual "Right Outboard Tank 1" (54 US Gallons) </description>
      <location unit="FT">
        <x> 24.7 </x>
        <y> 45.8 </y>
        <z>  2.0 </z>
      </location>
      <capacity unit="LBS"> 328 </capacity>
      <contents unit="LBS"> 328 </contents>
    </tank>

  </propulsion>

  <flight_control name="FCS: Boeing B-17G">

    <channel name="Pitch">
      <summer name="Pitch Trim Sum">
        <input>fcs/elevator-cmd-norm</input>
        <input>fcs/pitch-trim-cmd-norm</input>
        <clipto>
          <min> -1 </min>
          <max>  1 </max>
        </clipto>
      </summer>

      <aerosurface_scale name="Elevator Control">
        <input>fcs/pitch-trim-sum</input>
        <range>
          <min> -0.35 </min>
          <max>  0.35 </max>
        </range>
        <output>fcs/elevator-pos-rad</output>
      </aerosurface_scale>

      <aerosurface_scale name="elevator normalization">
        <input>fcs/elevator-pos-rad</input>
        <domain>
          <min> -0.35 </min>
          <max>  0.35 </max>
        </domain>
        <range>
          <min> -1 </min>
          <max>  1 </max>
        </range>
        <output>fcs/elevator-pos-norm</output>
      </aerosurface_scale>

    </channel>

    <channel name="Roll">
      <summer name="Roll Trim Sum">
        <input>fcs/aileron-cmd-norm</input>
        <input>fcs/roll-trim-cmd-norm</input>
        <clipto>
          <min> -1 </min>
          <max>  1 </max>
        </clipto>
      </summer>

      <aerosurface_scale name="Left Aileron Control">
        <input>fcs/roll-trim-sum</input>
        <range>
          <min> -0.35 </min>
          <max>  0.35 </max>
        </range>
        <output>fcs/left-aileron-pos-rad</output>
      </aerosurface_scale>

      <aerosurface_scale name="Right Aileron Control">
        <input>fcs/roll-trim-sum</input>
        <range>
          <min> -0.35 </min>
          <max>  0.35 </max>
        </range>
        <output>fcs/right-aileron-pos-rad</output>
      </aerosurface_scale>

      <aerosurface_scale name="left aileron normalization">
        <input>fcs/left-aileron-pos-rad</input>
        <domain>
          <min> -0.35 </min>
          <max>  0.35 </max>
        </domain>
        <range>
          <min> -1 </min>
          <max>  1 </max>
        </range>
        <output>fcs/left-aileron-pos-norm</output>
      </aerosurface_scale>

      <aerosurface_scale name="right aileron normalization">
        <input>fcs/right-aileron-pos-rad</input>
        <domain>
          <min> -0.35 </min>
          <max>  0.35 </max>
        </domain>
        <range>
          <min> -1 </min>
          <max>  1 </max>
        </range>
        <output>fcs/right-aileron-pos-norm</output>
      </aerosurface_scale>

    </channel>

    <channel name="Yaw">
      <summer name="Rudder Command Sum">
        <input>fcs/rudder-cmd-norm</input>
        <input>fcs/yaw-trim-cmd-norm</input>
        <clipto>
          <min> -0.35 </min>
          <max>  0.35 </max>
        </clipto>
      </summer>

      <aerosurface_scale name="Rudder Control">
        <input>fcs/rudder-command-sum</input>
        <range>
          <min> -0.35 </min>
          <max>  0.35 </max>
        </range>
        <output>fcs/rudder-pos-rad</output>
      </aerosurface_scale>

      <aerosurface_scale name="rudder normalization">
        <input>fcs/rudder-pos-rad</input>
        <domain>
          <min> -0.35 </min>
          <max>  0.35 </max>
        </domain>
        <range>
          <min> -1 </min>
          <max>  1 </max>
        </range>
        <output>fcs/rudder-pos-norm</output>
      </aerosurface_scale>

    </channel>

    <channel name="Flaps">
      <kinematic name="Flaps Control">
        <input>fcs/flap-cmd-norm</input>
        <traverse>
          <setting>
            <position>  0 </position>
            <time>      0 </time>
          </setting>
          <setting>
            <position> 15 </position>
            <time>      4 </time>
          </setting>
          <setting>
            <position> 30 </position>
            <time>      3 </time>
          </setting>
        </traverse>
        <output>fcs/flap-pos-deg</output>
      </kinematic>

      <aerosurface_scale name="flap normalization">
        <input>fcs/flap-pos-deg</input>
        <domain>
          <min>  0 </min>
          <max> 30 </max>
        </domain>
        <range>
          <min> 0 </min>
          <max> 1 </max>
        </range>
        <output>fcs/flap-pos-norm</output>
      </aerosurface_scale>

    </channel>

    <channel name="Landing Gear">
      <kinematic name="Gear Control">
        <input>gear/gear-cmd-norm</input>
        <traverse>
          <setting>
            <position> 0 </position>
            <time>     0 </time>
          </setting>
          <setting>
            <position> 1 </position>
            <time>     5 </time>
          </setting>
        </traverse>
        <output>gear/gear-pos-norm</output>
      </kinematic>

    </channel>

    <channel name="Speedbrake">
      <kinematic name="Speedbrake Control">
        <input>fcs/speedbrake-cmd-norm</input>
        <traverse>
          <setting>
            <position> 0 </position>
            <time>     0 </time>
          </setting>
          <setting>
            <position> 1 </position>
            <time>     1 </time>
          </setting>
        </traverse>
        <output>fcs/speedbrake-pos-norm</output>
      </kinematic>

    </channel>

  </flight_control>

  <aerodynamics>

    <function name="aero/angle/right_wing_tip_alpha">
      <description>
         This parameter calculates the angle of attack at the right wingtip,
         accounting for the motion of the wing at that point away from the CG.
      </description>
      <atan2>
        <sum>
          <property>velocities/w-fps</property>
          <product>
            <property>velocities/p-aero-rad_sec</property>
            <value>50</value>
          </product>
        </sum>
        <difference>
          <property>velocities/u-fps</property>
          <product>
            <property>velocities/r-aero-rad_sec</property>
            <value>50</value>
          </product>
        </difference>
      </atan2>
    </function>
    
    <axis name="LIFT">

      <function name="aero/coefficient/CLalpha">
        <description>Lift_due_to_alpha</description>
        <product>
          <property>aero/qbar-psf</property>
          <property>metrics/Sw-sqft</property>
          <table>
            <independentVar lookup="row">aero/alpha-rad</independentVar>
            <tableData>
              -0.20 -0.740
              0.00 0.240
              0.24    1.400
              0.60 0.704
            </tableData>
          </table>
        </product>
      </function>

      <function name="aero/coefficient/dCLflap">
        <description>Delta_Lift_due_to_flaps</description>
        <product>
          <property>aero/qbar-psf</property>
          <property>metrics/Sw-sqft</property>
          <property>fcs/flap-pos-deg</property>
          <value> 0.02000 </value>
        </product>
      </function>

      <function name="aero/coefficient/dCLsb">
        <description>Delta_Lift_due_to_speedbrake</description>
        <product>
          <property>aero/qbar-psf</property>
          <property>metrics/Sw-sqft</property>
          <property>fcs/speedbrake-pos-norm</property>
          <value>0</value>
        </product>
      </function>

      <function name="aero/coefficient/CLde">
        <description>Lift_due_to_Elevator_Deflection</description>
        <product>
          <property>aero/qbar-psf</property>
          <property>metrics/Sw-sqft</property>
          <property>fcs/elevator-pos-rad</property>
          <value>0.2</value>
        </product>
      </function>

    </axis>

    <axis name="DRAG">

      <function name="aero/coefficient/CD0">
        <description>Drag_at_zero_lift</description>
        <product>
          <property>aero/qbar-psf</property>
          <property>metrics/Sw-sqft</property>
          <table>
            <independentVar lookup="row">aero/alpha-rad</independentVar>
            <tableData>
              -1.57       1.500
              -0.26    0.033
              0.00    0.025
              0.26    0.033
              1.57       1.500
            </tableData>
          </table>
        </product>
      </function>

      <function name="aero/coefficient/CDi">
        <description>Induced_drag</description>
        <product>
          <property>aero/qbar-psf</property>
          <property>metrics/Sw-sqft</property>
          <property>aero/cl-squared</property>
          <value>0.039</value>
        </product>
      </function>

      <function name="aero/coefficient/CDmach">
        <description>Drag_due_to_mach</description>
        <product>
          <property>aero/qbar-psf</property>
          <property>metrics/Sw-sqft</property>
          <table>
            <independentVar lookup="row">velocities/mach</independentVar>
            <tableData>
              0.00      0.000
              0.7      0.000
              1.10      0.023
              1.80      0.015
            </tableData>
          </table>
        </product>
      </function>

      <function name="aero/coefficient/CDflap">
        <description>Drag_due_to_flaps</description>
        <product>
          <property>aero/qbar-psf</property>
          <property>metrics/Sw-sqft</property>
          <property>fcs/flap-pos-deg</property>
          <value> 0.00117 </value>
        </product>
      </function>

      <function name="aero/coefficient/CDgear">
        <description>Drag_due_to_gear</description>
        <product>
          <property>aero/qbar-psf</property>
          <property>metrics/Sw-sqft</property>
          <property>gear/gear-pos-norm</property>
          <value>0.023</value>
        </product>
      </function>

      <function name="aero/coefficient/CDsb">
        <description>Drag_due_to_speedbrakes</description>
        <product>
          <property>aero/qbar-psf</property>
          <property>metrics/Sw-sqft</property>
          <property>fcs/speedbrake-pos-norm</property>
          <value>0.025</value>
        </product>
      </function>

      <function name="aero/coefficient/CDbeta">
        <description>Drag_due_to_sideslip</description>
        <product>
          <property>aero/qbar-psf</property>
          <property>metrics/Sw-sqft</property>
          <table>
            <independentVar lookup="row">aero/beta-rad</independentVar>
            <tableData>
              -1.57       1.230
              -0.26    0.050
              0.00       0.000
              0.26    0.050
              1.57       1.230
            </tableData>
          </table>
        </product>
      </function>

      <function name="aero/coefficient/CDde">
        <description>Drag_due_to_Elevator_Deflection</description>
        <product>
          <property>aero/qbar-psf</property>
          <property>metrics/Sw-sqft</property>
          <property>fcs/mag-elevator-pos-rad</property>
          <value>0.04</value>
        </product>
      </function>

    </axis>

    <axis name="SIDE">

      <function name="aero/coefficient/CYb">
        <description>Side_force_due_to_beta</description>
        <product>
          <property>aero/qbar-psf</property>
          <property>metrics/Sw-sqft</property>
          <property>aero/beta-rad</property>
          <value>-1</value>
        </product>
      </function>

    </axis>

    <axis name="ROLL">

      <function name="aero/coefficient/Clb">
        <description>Roll_moment_due_to_beta</description>
        <product>
          <property>aero/qbar-psf</property>
          <property>metrics/Sw-sqft</property>
          <property>metrics/bw-ft</property>
          <property>aero/beta-rad</property>
          <value>-0.1</value>
        </product>
      </function>

      <function name="aero/coefficient/Clp">
        <description>Roll_moment_due_to_roll_rate</description>
        <product>
          <property>aero/qbar-psf</property>
          <property>metrics/Sw-sqft</property>
          <property>metrics/bw-ft</property>
          <property>aero/bi2vel</property>
          <property>velocities/p-aero-rad_sec</property>
          <value>-0.4</value>
        </product>
      </function>

      <function name="aero/coefficient/Clr">
        <description>Roll_moment_due_to_yaw_rate</description>
        <product>
          <property>aero/qbar-psf</property>
          <property>metrics/Sw-sqft</property>
          <property>metrics/bw-ft</property>
          <property>aero/bi2vel</property>
          <property>velocities/r-aero-rad_sec</property>
          <value>0.15</value>
        </product>
      </function>

      <function name="aero/coefficient/Clda">
        <description>Roll_moment_due_to_aileron</description>
        <product>
          <property>aero/qbar-psf</property>
          <property>metrics/Sw-sqft</property>
          <property>metrics/bw-ft</property>
          <property>fcs/left-aileron-pos-rad</property>
          <table>
            <independentVar lookup="row">velocities/mach</independentVar>
            <tableData>
              0.0    0.150
              2.0    0.050
            </tableData>
          </table>
        </product>
      </function>

      <function name="aero/coefficient/Cldr">
        <description>Roll_moment_due_to_rudder</description>
        <product>
          <property>aero/qbar-psf</property>
          <property>metrics/Sw-sqft</property>
          <property>metrics/bw-ft</property>
          <property>fcs/rudder-pos-rad</property>
          <value>0.01</value>
        </product>
      </function>

    </axis>

    <axis name="PITCH">

      <function name="aero/coefficient/Cmalpha">
        <description>Pitch_moment_due_to_alpha</description>
        <product>
          <property>aero/qbar-psf</property>
          <property>metrics/Sw-sqft</property>
          <property>metrics/cbarw-ft</property>
          <property>aero/alpha-rad</property>
          <value>-0.4</value>
        </product>
      </function>

      <function name="aero/coefficient/Cmde">
        <description>Pitch_moment_due_to_elevator</description>
        <product>
          <property>aero/qbar-psf</property>
          <property>metrics/Sw-sqft</property>
          <property>metrics/cbarw-ft</property>
          <property>fcs/elevator-pos-rad</property>
          <table>
            <independentVar lookup="row">velocities/mach</independentVar>
            <tableData>
              0.0     -1.000
              2.0     -0.250
            </tableData>
          </table>
        </product>
      </function>

      <function name="aero/coefficient/Cmq">
        <description>Pitch_moment_due_to_pitch_rate</description>
        <product>
          <property>aero/qbar-psf</property>
          <property>metrics/Sw-sqft</property>
          <property>metrics/cbarw-ft</property>
          <property>aero/ci2vel</property>
          <property>velocities/q-aero-rad_sec</property>
          <value>-22</value>
        </product>
      </function>

      <function name="aero/coefficient/Cmadot">
        <description>Pitch_moment_due_to_alpha_rate</description>
        <product>
          <property>aero/qbar-psf</property>
          <property>metrics/Sw-sqft</property>
          <property>metrics/cbarw-ft</property>
          <property>aero/ci2vel</property>
          <property>aero/alphadot-rad_sec</property>
          <value>-8</value>
        </product>
      </function>

    </axis>

    <axis name="YAW">

      <function name="aero/coefficient/Cnb">
        <description>Yaw_moment_due_to_beta</description>
        <product>
          <property>aero/qbar-psf</property>
          <property>metrics/Sw-sqft</property>
          <property>metrics/bw-ft</property>
          <property>aero/beta-rad</property>
          <value>0.12</value>
        </product>
      </function>

      <function name="aero/coefficient/Cnr">
        <description>Yaw_moment_due_to_yaw_rate</description>
        <product>
          <property>aero/qbar-psf</property>
          <property>metrics/Sw-sqft</property>
          <property>metrics/bw-ft</property>
          <property>aero/bi2vel</property>
          <property>velocities/r-aero-rad_sec</property>
          <value>-0.15</value>
        </product>
      </function>

      <function name="aero/coefficient/Cndr">
        <description>Yaw_moment_due_to_rudder</description>
        <product>
          <property>aero/qbar-psf</property>
          <property>metrics/Sw-sqft</property>
          <property>metrics/bw-ft</property>
          <property>fcs/rudder-pos-rad</property>
          <value>-0.1</value>
        </product>
      </function>

      <function name="aero/coefficient/Cnda">
        <description>Adverse_yaw</description>
        <product>
          <property>aero/qbar-psf</property>
          <property>metrics/Sw-sqft</property>
          <property>metrics/bw-ft</property>
          <property>fcs/left-aileron-pos-rad</property>
          <value>-0.008</value>
        </product>
      </function>

    </axis>

  </aerodynamics>

  <output name="JSBoutB17.csv" type="CSV" rate="120">
    <rates> ON </rates>
    <velocities> ON </velocities>
    <forces> ON </forces>
    <moments> ON </moments>
    <position> ON </position>
    <propulsion> ON </propulsion>
    <aerosurfaces> ON </aerosurfaces>
    <fcs> OFF </fcs>
    <massprops> ON </massprops>
    <ground_reactions> ON </ground_reactions>
    <property> aero/angle/right_wing_tip_alpha </property>
  </output>
  
</fdm_config>
// This file instructs the automatic synchronization utilities where to
// install this aircraft and under what name.
//
// The syntax is easy;
// * the package name at the beginning of a new line followed by a colon
// * a space as a column separator
// * the path and filename relative to the aircraft install directory
//
// Currently known package names are: FlightGear

// Don't install in the FlightGear base package.
//FlightGear:
<?xml version="1.0"?>
<initialize name="reset00">
  <!--
    This file sets up the aircraft to start off
    from the runway in preparation for takeoff.
  -->
  <ubody unit="FT/SEC">    0.0  </ubody>
  <vbody unit="FT/SEC">    0.0  </vbody>
  <wbody unit="FT/SEC">    0.0  </wbody>
  <longitude unit="DEG"> -90.0  </longitude>
  <latitude unit="DEG">   30.0  </latitude>
  <phi unit="DEG">         0.0  </phi>
  <theta unit="DEG">       6.47 </theta>
  <psi unit="DEG">       200.0  </psi>
  <altitude unit="FT">     7.56 </altitude>
</initialize>
<?xml version="1.0"?>
<?xml-stylesheet type="text/xsl" href="http://jsbsim.sourceforge.net/JSBSim.xsl"?>
<fdm_config name="B747-400" version="2.0" release="ALPHA"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:noNamespaceSchemaLocation="http://jsbsim.sourceforge.net/JSBSim.xsd">

    <fileheader>
      <author> Unknown </author>
      <filecreationdate> 2002-01-01 </filecreationdate>
      <version> $Id: B747.xml,v 1.25 2012/12/22 15:22:17 jberndt Exp $ </version>
      <description> Boeing 747 </description>
      <license>
        <licenseName>GPL (General Public License)</licenseName>
        <licenseURL>http://www.gnu.org/licenses/gpl.html</licenseURL>
      </license>
      <note>
        This model was created using publicly available data, publicly available
        technical reports, textbooks, and guesses. It contains no proprietary or
        restricted data. If this model has been validated at all, it would be
        only to the extent that it seems to "fly right", and that it possibly
        complies with published, publicly known, performance data (maximum speed,
        endurance, etc.). Thus, this model is meant for educational and entertainment
        purposes only.

        This simulation model is not endorsed by the manufacturer. This model is not
        to be sold.
      </note>
    </fileheader>

    <metrics>
        <wingarea unit="FT2"> 5648 </wingarea>
        <wingspan unit="FT"> 211.5 </wingspan>
        <chord unit="FT"> 27.31 </chord>
        <htailarea unit="FT2"> 1469.6 </htailarea>
        <htailarm unit="FT"> 106.6 </htailarm>
        <vtailarea unit="FT2"> 829.5 </vtailarea>
        <vtailarm unit="FT"> 0 </vtailarm>
        <location name="AERORP" unit="IN">
            <x> 1377 </x>
            <y> 0 </y>
            <z> -24 </z>
        </location>
        <location name="EYEPOINT" unit="IN">
            <x> 308 </x>
            <y> -21 </y>
            <z> 138 </z>
        </location>
        <location name="VRP" unit="IN">
            <x> 1327 </x>
            <y> 0 </y>
            <z> -24 </z>
        </location>
    </metrics>

    <mass_balance negated_crossproduct_inertia="true">
        <ixx unit="SLUG*FT2"> 1.82e+07 </ixx>
        <iyy unit="SLUG*FT2"> 3.31e+07 </iyy>
        <izz unit="SLUG*FT2"> 4.97e+07 </izz>
        <ixy unit="SLUG*FT2"> -0 </ixy>
        <ixz unit="SLUG*FT2"> -970000 </ixz>
        <iyz unit="SLUG*FT2"> -0 </iyz>
        <emptywt unit="LBS"> 523816 </emptywt>
        <location name="CG" unit="IN">
            <x> 1327 </x>
            <y> 0 </y>
            <z> -24 </z>
        </location>
    </mass_balance>

    <ground_reactions>
        <contact type="BOGEY" name="NOSE_LG">
            <location unit="IN">
                <x> 396 </x>
                <y> 0 </y>
                <z> -206 </z>
            </location>
            <static_friction> 0.8 </static_friction>
            <dynamic_friction> 0.5 </dynamic_friction>
            <rolling_friction> 0.02 </rolling_friction>
            <spring_coeff unit="LBS/FT"> 22000 </spring_coeff>
            <damping_coeff unit="LBS/FT/SEC"> 87302.6 </damping_coeff>
            <max_steer unit="DEG"> 5 </max_steer>
            <brake_group> NONE </brake_group>
            <retractable>1</retractable>
        </contact>
        <contact type="BOGEY" name="LEFT_MLG">
            <location unit="IN">
                <x> 1554 </x>
                <y> -216.5 </y>
                <z> -216 </z>
            </location>
            <static_friction> 0.8 </static_friction>
            <dynamic_friction> 0.5 </dynamic_friction>
            <rolling_friction> 0.02 </rolling_friction>
            <spring_coeff unit="LBS/FT"> 150000 </spring_coeff>
            <damping_coeff unit="LBS/FT/SEC"> 174605 </damping_coeff>
            <max_steer unit="DEG"> 0.0 </max_steer>
            <brake_group> LEFT </brake_group>
            <retractable>1</retractable>
        </contact>
        <contact type="BOGEY" name="RIGHT_MLG">
            <location unit="IN">
                <x> 1554 </x>
                <y> 216.5 </y>
                <z> -216 </z>
            </location>
            <static_friction> 0.8 </static_friction>
            <dynamic_friction> 0.5 </dynamic_friction>
            <rolling_friction> 0.02 </rolling_friction>
            <spring_coeff unit="LBS/FT"> 150000 </spring_coeff>
            <damping_coeff unit="LBS/FT/SEC"> 174605 </damping_coeff>
            <max_steer unit="DEG"> 0.0 </max_steer>
            <brake_group> RIGHT </brake_group>
            <retractable>1</retractable>
        </contact>
    </ground_reactions>
    <propulsion>
        <engine file="GE-CF6-80C2-B1F">
            <feed>0</feed>
            <thruster file="direct">
                <location unit="IN">
                    <x> 1356 </x>
                    <y> -820 </y>
                    <z> -97 </z>
                </location>
                <orient unit="DEG">
                    <roll> 0.0 </roll>
                    <pitch> 0.0 </pitch>
                    <yaw> 0.0 </yaw>
                </orient>
            </thruster>
        </engine>
        <engine file="GE-CF6-80C2-B1F">
            <feed>1</feed>
            <thruster file="direct">
                <location unit="IN">
                    <x> 996 </x>
                    <y> -460 </y>
                    <z> -121 </z>
                </location>
                <orient unit="DEG">
                    <roll> 0.0 </roll>
                    <pitch> 0.0 </pitch>
                    <yaw> 0.0 </yaw>
                </orient>
            </thruster>
        </engine>
        <engine file="GE-CF6-80C2-B1F">
            <feed>2</feed>
            <thruster file="direct">
                <location unit="IN">
                    <x> 996 </x>
                    <y> 460 </y>
                    <z> -121 </z>
                </location>
                <orient unit="DEG">
                    <roll> 0.0 </roll>
                    <pitch> 0.0 </pitch>
                    <yaw> 0.0 </yaw>
                </orient>
            </thruster>
        </engine>
        <engine file="GE-CF6-80C2-B1F">
            <feed>3</feed>
            <thruster file="direct">
                <location unit="IN">
                    <x> 1356 </x>
                    <y> 820 </y>
                    <z> -97 </z>
                </location>
                <orient unit="DEG">
                    <roll> 0.0 </roll>
                    <pitch> 0.0 </pitch>
                    <yaw> 0.0 </yaw>
                </orient>
            </thruster>
        </engine>
        <tank type="FUEL">    <!-- Tank number 0 -->
            <location unit="IN">
                <x> 1327 </x>
                <y> 0 </y>
                <z> -69.57 </z>
            </location>
            <capacity unit="LBS"> 10912.8 </capacity>
            <contents unit="LBS"> 5456.4 </contents>
        </tank>
        <tank type="FUEL">    <!-- Tank number 1 -->
            <location unit="IN">
                <x> 1327 </x>
                <y> 0 </y>
                <z> -69.57 </z>
            </location>
            <capacity unit="LBS"> 10912.8 </capacity>
            <contents unit="LBS"> 5456.4 </contents>
        </tank>
        <tank type="FUEL">    <!-- Tank number 2 -->
            <location unit="IN">
                <x> 1327 </x>
                <y> 0 </y>
                <z> -69.57 </z>
            </location>
            <capacity unit="LBS"> 10912.8 </capacity>
            <contents unit="LBS"> 5456.4 </contents>
        </tank>
        <tank type="FUEL">    <!-- Tank number 3 -->
            <location unit="IN">
                <x> 1327 </x>
                <y> 0 </y>
                <z> -69.57 </z>
            </location>
            <capacity unit="LBS"> 10912.8 </capacity>
            <contents unit="LBS"> 5456.4 </contents>
        </tank>
        <tank type="FUEL">    <!-- Tank number 4 -->
            <location unit="IN">
                <x> 1327 </x>
                <y> 0 </y>
                <z> -69.57 </z>
            </location>
            <capacity unit="LBS"> 10912.8 </capacity>
            <contents unit="LBS"> 5456.4 </contents>
        </tank>
    </propulsion>
    <flight_control name="FCS: B747">
      <channel name="all">
        <summer name="Pitch Trim Sum">
            <input>fcs/elevator-cmd-norm</input>
            <input>fcs/pitch-trim-cmd-norm</input>
            <clipto>
                <min>-1</min>
                <max>1</max>
            </clipto>
        </summer>

        <aerosurface_scale name="Elevator Control">
            <input>fcs/pitch-trim-sum</input>
            <range>
                <min>-0.35</min>
                <max>0.175</max>
            </range>
            <output>fcs/elevator-pos-rad</output>
        </aerosurface_scale>

        <summer name="Roll Trim Sum">
            <input>fcs/aileron-cmd-norm</input>
            <input>fcs/roll-trim-cmd-norm</input>
            <clipto>
                <min>-1</min>
                <max>1</max>
            </clipto>
        </summer>

        <aerosurface_scale name="Left Aileron Control">
            <input>fcs/roll-trim-sum</input>
            <range>
                <min>-0.35</min>
                <max>0.35</max>
            </range>
            <output>fcs/left-aileron-pos-rad</output>
        </aerosurface_scale>

        <aerosurface_scale name="Right Aileron Control">
            <input>-fcs/roll-trim-sum</input>
            <range>
                <min>-0.35</min>
                <max>0.35</max>
            </range>
            <output>fcs/right-aileron-pos-rad</output>
        </aerosurface_scale>

        <summer name="Rudder Command Sum">
            <input>fcs/rudder-cmd-norm</input>
            <input>fcs/yaw-trim-cmd-norm</input>
            <clipto>
                <min>-1</min>
                <max>1</max>
            </clipto>
        </summer>

        <scheduled_gain name="Yaw Damper Rate">
            <input>velocities/r-aero-rad_sec</input>
            <table>
              <independentVar>aero/qbar-psf</independentVar>
               <tableData>
                  3.00        0.00
                 11.00        2.00
               </tableData>
            </table>
        </scheduled_gain>

        <scheduled_gain name="Yaw Damper Beta">
            <input>aero/beta-rad</input>
            <table>
              <independentVar>velocities/ve-kts</independentVar>
              <tableData>
                 30        0.00
                 60        0.00
              </tableData>
            </table>
        </scheduled_gain>

        <summer name="Yaw Damper Sum">
            <input>fcs/yaw-damper-beta</input>
            <input>fcs/yaw-damper-rate</input>
            <clipto>
                <min>-0.2</min>
                <max>0.2</max>
            </clipto>
        </summer>

        <scheduled_gain name="Yaw Damper Final">
            <input>fcs/yaw-damper-sum</input>
            <table>
              <independentVar lookup="row">aero/qbar-psf</independentVar>
              <tableData>
                 2.99         0.0
                 3.00         1.0
              </tableData>
            </table>
        </scheduled_gain>

        <summer name="Rudder Sum">
            <input>fcs/rudder-command-sum</input>
            <input>fcs/yaw-damper-final</input>
            <clipto>
                <min>-1</min>
                <max>1</max>
            </clipto>
        </summer>

        <aerosurface_scale name="Rudder Control">
            <input>fcs/rudder-sum</input>
            <range>
                <min>-0.35</min>
                <max>0.35</max>
            </range>
            <output>fcs/rudder-pos-rad</output>
        </aerosurface_scale>

        <kinematic name="Flaps Control">
            <input>fcs/flap-cmd-norm</input>
            <traverse>
                <setting>
                    <position>0</position>
                    <time>0</time>
                </setting>
                <setting>
                    <position>15</position>
                    <time>4</time>
                </setting>
                <setting>
                    <position>30</position>
                    <time>3</time>
                </setting>
            </traverse>
            <output>fcs/flap-pos-deg</output>

            <aerosurface_scale name="Flap Position Normalizer">
              <input>fcs/flap-pos-deg</input>
              <domain>
                <min>0</min>  <!-- Flaps actual minimum position -->
                <max>30</max>  <!-- Flaps actual maximum position -->
              </domain>
              <range>
                <min>0</min>  <!-- Flaps normalized minimum position -->
                <max>1</max>  <!-- Flaps normalized maximum position -->
              </range>
              <output>fcs/flap-pos-norm</output>
            </aerosurface_scale>

        </kinematic>

        <kinematic name="Gear Control">
            <input>gear/gear-cmd-norm</input>
            <traverse>
                <setting>
                    <position>0</position>
                    <time>0</time>
                </setting>
                <setting>
                    <position>1</position>
                    <time>5</time>
                </setting>
            </traverse>
            <output>gear/gear-pos-norm</output>
        </kinematic>

        <kinematic name="Speedbrake Control">
            <input>fcs/speedbrake-cmd-norm</input>
            <traverse>
                <setting>
                    <position>0</position>
                    <time>0</time>
                </setting>
                <setting>
                    <position>1</position>
                    <time>1</time>
                </setting>
            </traverse>
            <output>fcs/speedbrake-pos-norm</output>
        </kinematic>
      </channel>
    </flight_control>
    <aerodynamics>

        <axis name="DRAG">
            <function name="aero/coefficient/CD0">
                <description>Drag_at_zero_lift</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                      <table>
                          <independentVar>aero/alpha-rad</independentVar>
                          <tableData>
                              -1.5700	1.5000
                              -0.2600	0.0340
                              0.0000	0.0170
                              0.2600	0.0340
                              1.5700	1.5000
                          </tableData>
                      </table>
                </product>
            </function>
            <function name="aero/coefficient/CDi">
                <description>Induced_drag</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>aero/cl-squared</property>
                    <value>0.0420</value>
                </product>
            </function>
            <function name="aero/coefficient/CDmach">
                <description>Drag_due_to_mach</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                      <table>
                          <independentVar>velocities/mach</independentVar>
                          <tableData>
                              0.0000	0.0000
                              0.7900	0.0000
                              1.1000	0.0230
                              1.8000	0.0150
                          </tableData>
                      </table>
                </product>
            </function>
            <function name="aero/coefficient/CDflap">
                <description>Drag_due_to_flaps</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>fcs/flap-pos-deg</property>
                    <value>0.001833</value>
                </product>
            </function>
            <function name="aero/coefficient/CDgear">
                <description>Drag_due_to_gear</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>gear/gear-pos-norm</property>
                    <value>0.0110</value>
                </product>
            </function>
            <function name="aero/coefficient/CDsb">
                <description>Drag_due_to_speedbrakes</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>fcs/speedbrake-pos-norm</property>
                    <value>0.0170</value>
                </product>
            </function>
            <function name="aero/coefficient/CDbeta">
                <description>Drag_due_to_sideslip</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                      <table>
                          <independentVar>aero/beta-rad</independentVar>
                          <tableData>
                              -1.5700	1.2300
                              -0.2600	0.0500
                              0.0000	0.0000
                              0.2600	0.0500
                              1.5700	1.2300
                          </tableData>
                      </table>
                </product>
            </function>
            <function name="aero/coefficient/CDde">
                <description>Drag_due_to_Elevator_Deflection</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>fcs/mag-elevator-pos-rad</property>
                    <value>0.0550</value>
                </product>
            </function>
        </axis>

        <axis name="SIDE">
            <function name="aero/coefficient/CYb">
                <description>Side_force_due_to_beta</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>aero/beta-rad</property>
                    <value>-1.0000</value>
                </product>
            </function>
        </axis>

        <axis name="LIFT">
            <function name="aero/coefficient/CLalpha">
                <description>Lift_due_to_alpha</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                      <table>
                          <independentVar>aero/alpha-rad</independentVar>
                          <tableData>
                              -0.2000	-0.6800
                              0.0000	0.2000
                              0.2300	1.2000
                              0.6000	0.6000
                          </tableData>
                      </table>
                </product>
            </function>
            <function name="aero/coefficient/dCLflap">
                <description>Delta_Lift_due_to_flaps</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>fcs/flap-pos-deg</property>
                    <value>0.05</value>
                </product>
            </function>
            <function name="aero/coefficient/dCLsb">
                <description>Delta_Lift_due_to_speedbrake</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>fcs/speedbrake-pos-norm</property>
                    <value>-0.0800</value>
                </product>
            </function>
            <function name="aero/coefficient/CLde">
                <description>Lift_due_to_Elevator_Deflection</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>fcs/elevator-pos-rad</property>
                    <value>0.2000</value>
                </product>
            </function>
        </axis>

        <axis name="ROLL">
            <function name="aero/coefficient/Clb">
                <description>Roll_moment_due_to_beta</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>aero/beta-rad</property>
                    <value>-0.1000</value>
                </product>
            </function>
            <function name="aero/coefficient/Clp">
                <description>Roll_moment_due_to_roll_rate</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>aero/bi2vel</property>
                    <property>velocities/p-aero-rad_sec</property>
                    <value>-0.4000</value>
                </product>
            </function>
            <function name="aero/coefficient/Clr">
                <description>Roll_moment_due_to_yaw_rate</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>aero/bi2vel</property>
                    <property>velocities/r-aero-rad_sec</property>
                    <value>0.1500</value>
                </product>
            </function>
            <function name="aero/coefficient/Clda">
                <description>Roll_moment_due_to_aileron</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>fcs/left-aileron-pos-rad</property>
                      <table>
                          <independentVar>velocities/mach</independentVar>
                          <tableData>
                              0.0000	0.1000
                              2.0000	0.0330
                          </tableData>
                      </table>
                </product>
            </function>
            <function name="aero/coefficient/Cldr">
                <description>Roll_moment_due_to_rudder</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>fcs/rudder-pos-rad</property>
                    <value>0.0100</value>
                </product>
            </function>
        </axis>

        <axis name="PITCH">
            <function name="aero/coefficient/Cmalpha">
                <description>Pitch_moment_due_to_alpha</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/cbarw-ft</property>
                    <property>aero/alpha-rad</property>
                    <value>-0.7000</value>
                </product>
            </function>
            <function name="aero/coefficient/Cmde">
                <description>Pitch_moment_due_to_elevator</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/cbarw-ft</property>
                    <property>fcs/elevator-pos-rad</property>
                      <table>
                          <independentVar>velocities/mach</independentVar>
                          <tableData>
                              0.0000	-1.3000
                              2.0000	-0.3250
                          </tableData>
                      </table>
                </product>
            </function>
            <function name="aero/coefficient/Cmq">
                <description>Pitch_moment_due_to_pitch_rate</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/cbarw-ft</property>
                    <property>aero/ci2vel</property>
                    <property>velocities/q-aero-rad_sec</property>
                    <value>-21.0000</value>
                </product>
            </function>
            <function name="aero/coefficient/Cmadot">
                <description>Pitch_moment_due_to_alpha_rate</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/cbarw-ft</property>
                    <property>aero/ci2vel</property>
                    <property>aero/alphadot-rad_sec</property>
                    <value>-4.0000</value>
                </product>
            </function>
        </axis>

        <axis name="YAW">
            <function name="aero/coefficient/Cnb">
                <description>Yaw_moment_due_to_beta</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>aero/beta-rad</property>
                    <value>0.1200</value>
                </product>
            </function>
            <function name="aero/coefficient/Cnr">
                <description>Yaw_moment_due_to_yaw_rate</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>aero/bi2vel</property>
                    <property>velocities/r-aero-rad_sec</property>
                    <value>-0.1500</value>
                </product>
            </function>
            <function name="aero/coefficient/Cndr">
                <description>Yaw_moment_due_to_rudder</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>fcs/rudder-pos-rad</property>
                    <value>-0.1000</value>
                </product>
            </function>
            <function name="aero/coefficient/Cnda">
                <description>Adverse_yaw</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>fcs/left-aileron-pos-rad</property>
                    <value>0.0000</value>
                </product>
            </function>
        </axis>
    </aerodynamics>
</fdm_config>
// This file instructs the automatic synchronization utilities where to
// install this aircraft and under what name.
//
// The syntax is easy;
// * the package name at the beginning of a new line followed by a colon
// * a space as a column separator
// * the path and filename relative to the aircraft install directory
//
// Currently known package names are: FlightGear

// Don't install the B747 file in the FlightGear base package.
//FlightGear:
<?xml version="1.0"?>
<initialize name="reset00">
  <!--
    This file sets up the aircraft to start off
    from the runway in preparation for takeoff.
  -->
  <ubody unit="FT/SEC">    0.0  </ubody>
  <vbody unit="FT/SEC">    0.0  </vbody>
  <wbody unit="FT/SEC">    0.0  </wbody>
  <latitude unit="DEG">   47.0  </latitude>
  <longitude unit="DEG"> 122.0  </longitude>
  <phi unit="DEG">         0.0  </phi>
  <theta unit="DEG">       0.0  </theta>
  <psi unit="DEG">       150.0  </psi>
  <altitude unit="FT">    19.0  </altitude>
</initialize>
<?xml version="1.0"?>
<?xml-stylesheet href="http://jsbsim.sourceforge.net/JSBSim.xsl" type="text/xsl"?>
<fdm_config name="Boeing314A" version="2.0" release="PRODUCTION"
 xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
 xsi:noNamespaceSchemaLocation="http://jsbsim.sourceforge.net/JSBSim.xsd">

    <fileheader>
        <author> </author>
        <filecreationdate> 11 September 2009 </filecreationdate>
        <version> 1.05 </version>

        <description> Boeing314A </description>

        <license>
          <licenseName>GPL (General Public License)</licenseName>
          <licenseURL>http://www.gnu.org/licenses/gpl.html</licenseURL>
        </license>
        <note>
            This model was created using publicly available data, publicly available
            technical reports, textbooks, and guesses. It contains no proprietary or
            restricted data. It has been validated only to the extent that it seems
            to "fly right", and possibly to comply to published, publicly known,
            performance data (maximum speed, endurance, etc.). Thus, this model
            is meant for educational and entertainment purposes only.
            This simulation model is not endorsed by the manufacturer. This model
            is not to be sold.
        </note>
        <note>314A model, 14.5 ft propeller, 1600 hp, 5200 miles range
              (314 model has smaller propeller, 1500 hp and 3500 miles range).</note>
        <note>center of gravity in range.</note>
        <note>takeoff flaps 1/3.</note>
        <note>real gear ratio 16:9.</note>
        <note>economic speed 110 kt.</note>
        <note>sponson lift increases the windows until flaps retraction (105 kt).</note>

        <limitation>heading autopilot can hang in a roll : the ball of the turn indicator
                    experiences a centrifugal force, in the direction of the roll.</limitation>

        <note>tilt at rest.</note>
        <note>hull drag.</note>
        <note>step lift increases the windows until flaps retraction (105 kt).</note>
        <note>step triming moment.</note>
        <note>rebound at landing.</note>
        <note>skipping at landing (empty weight).</note>
        <note>anchor compensates lack of brakes.</note>
        <note>gear height adjusted by 3D model, supposed accurate.</note>
        <note>black paint visible only at empty fuel (buoyancy).</note>

        <limitation>buoyancy by normal (equivalent to ground) gear spring.</limitation>
        <limitation>gear tilt loses brakes efficiency :
                    - rest with empty fuel 700 RPM, or full throttle.
                    - more static friction brings vibrations at rest.
                    - softer gear spring restores brakes, but loses the tilt (buoyancy).
                    - disabling all gear filters restores brakes.</limitation>
        <limitation>no waterloop when turns by cross-wind (wing diging water).</limitation>
        <limitation>weathervaning by wing, instead of the sponsons.</limitation>
        <limitation>no weathervaning at rest.</limitation>
        <limitation>no propoising at takeoff.</limitation>
        <limitation>skipping is obtained undirectly.</limitation>

        <note>Credits : J. Berndt for NACA 1103</note>

<!--
  File:     Boeing314A.xml
  Author:   Aero-Matic v 0.71

  Inputs:
    name:          Boeing314A
    type:          multi-engine prop transport
    max weight:    84000.0 lb
    wing span:     152.0 ft
    length:        106.0 ft
    wing area:     2867.0 sq-ft
    gear type:     tricycle
    retractable?:  no
    # engines:     4
    engine type:   piston
    engine layout: wings
    yaw damper?    no

  Outputs:
    wing loading:  29.30 lb/sq-ft
    CL-alpha:      4.9 per radian
    CL-0:          0.24
    CL-max:        1.4
    CD-0:          0.028
    K:             0.039
-->

        <note>
         Notation :
         - Hydrodynamic coefficients start by H.
         - Artificial coefficients start by A.
        </note>

        <documentation>
         Not possible :
         - buoyancy by weak spring, because that can rear up at rest
           (and speed makes water as hard as concrete). 
         - rebound by hard spring, because static can be unstable with empty weight.
        </documentation>

        <reference
          refID="FAA certificate, TC704, B-314"
          author="FAA"
          title="http://www.airweb.faa.gov/Regulatory_and_Guidance_Library/rgMakeModel.nsf/MainFrame?OpenFrameSet"
          date="25 January 1939"/>
        <documentation>
         Engine limits :   * maximum except take-off (straight line manifold pressure variation) :
                             33.2 in. hg. 2100 rpm (1200 hp) at 5400 ft,
                             35.0 in. hg. 2100 rpm (1200 hp) at sea level.
                           * take-off (2 minutes), 42.5 in. hg. 2400 rpm (1550 hp).
         Airspeed limits : * level flight or climb 178 mph (155 kt) true, glide or dive 212 mph (184 kt) true.
                           * flaps extended (40 or less) 121 mph (105 kt) true.
                           * flaps extended (more than 40) 105 mph (91 kt) true. 
         Weight limits :   landing 80000 lb, take-off 84000 lb.
         Fuel capacity :   5448 gallons (32688 lb) :
                             2 tanks at 600 gallons (3600 lb) each, in wing stubs;
                             1 tank 960 gallons (5760 lb) inboard;
                             and 1 tank at 1164 gallons (6984 lb) outboard, in each hydro-stabilizer.

         Note that :
         - 1 gallon = 6 lb !
         - this is the most recent content (314A), the real content of 314 could be lower.

         Datum : nose of hull.
         MAC : 258.79 in., leading edge of MAC at 398.66 in.
         CG range (flight)   : * at 80000 lb or more, 455.6 in. (22% MAC) to 478.2 in. (30.7% MAC).
                               * at less than 80000 lb, 444.3 in. (17.65% MAC) to 478.2 in. (30.7% MAC).
                  (landing)  : * at 70330 lb or more, 463.4 in. (25% MAC) to 478.2 in. (30.7% MAC).
                               * at less than 70330 lb, 455.6 in. (22% MAC) to 478.2 in. (30.7% MAC).

         Ceiling (ft)   Weight (lb)   RPM   Manifold   True IAS   Prop.   Cowl flap   De-icers
                                            pressure     (kt)     blade    opening    installed
         ======================================================================================
            8900         80000       2100   Full         100     6159A-0     ...         ...
                                            throttle
            7500         84000       2100   Full         102     6159A-0     ...         ...
                                            throttle
           10000         80000       2100   Full         100     6243A-3   5 degrees     yes
                                            throttle
            9000         84000       2100   Full         102     6243A-3   5 degrees     yes
                                            throttle

         Propeller : * Hamilton standard 3 blade constant speed, 6243A-3 to 6243A-6 inclusive,
                       diameter 14'9-3/8" maximum 14'5-5/8" minimum (1928 lb).
                     * Hamilton standard 3 blade constant speed, 6159A-0 to 6159A-3 inclusive,
                       diameter 14'3/8" maximum 13'8-3/4" minimum (1819 lb).
        </documentation>
        <reference
          refID="FAA certificate, TC704, B-314A"
          author="FAA"
          title="http://www.airweb.faa.gov/Regulatory_and_Guidance_Library/rgMakeModel.nsf/MainFrame?OpenFrameSet"
          date="2 May 1941"/>
        <documentation>
         Same model as B-314, except for engine, powerplane installation, engine mount,
         and inner structural details.

         Engine limits : * maximum except take-off (straight line manifold pressure variation) :
                           35.8 in. hg. 2300 rpm (1350 hp) at 6200 ft,
                           37.5 in. hg. 2300 rpm (1350 hp) at sea level.
                         * take-off (2 minutes), 43.5 in. hg. 2400 rpm (1600 hp).

         Ceiling (ft)   Weight (lb)   RPM   Manifold   True IAS   Prop.   Cowl flap   De-icers
                                            pressure     (kt)     blade    opening    installed
         ======================================================================================
           10000         80000       2300   Full         100     6243A-3   5 degrees     yes
                                            throttle
            9000         84000       2300   Full         102     6243A-3   5 degrees     yes
                                            throttle

         Propeller : Hamilton standard 3 blade constant speed, 6243A-3 to 6243A-6 inclusive,
                     diameter 14'9-3/8" maximum 14'5-5/8" minimum (1928 lb).
        </documentation>
        <documentation>
         - http://case.pr.erau.edu/reports/US_reports/1940/1943.02.22_PanAmericanAirways_Boeing-314.pdf
           (crash - 22 february 1943 Lisbon, Portugal) :

         Elevator range : +/-25 deg (20 + 5).

         - http://case.pr.erau.edu/reports/US_reports/1940/1941.08.16_PanAmericanAirways_Boeing-314.pdf
         (crash - 16 august 1941 Apra Harbor, Guam) :

         Takeoff : in less than 6000 ft (full load).

         - http://www.hq.nasa.gov/office/pao/History/SP-468/app-a2.htm/

         Maximum power (sea level) : 1600 hp per engine, power loading 13.1 lb / hp.
         Weights : gross 84000 lb, empty 48400 lb.
         Lengths : wing span 152.0 ft, length 106.0 ft.
         Areas : wing 2867 sq ft, wind loading 29.3 lb / sq ft, drag area (CD0 x wing area) 78.56 sq ft.
         Speeds : Vmax 201 mph at 6200 ft, Vcruise 184 mph at 11000 ft, Vstall 70 mph.
         Drag : CD0 (zero-lift) 0.0274, wing aspect ratio 8.06, maximum lift/drag ratio 13.0.

         - http://www.hq.nasa.gov/office/pao/History/SP-468/ch8-2.htm/

         Curve of a hull drag.

         - http://www.aviation-history.com/boeing/314.html/

         4 Wright GR-2600 Twin Cyclone, 1600 hp (1192 kw), 14 cylinder, air-cooled, radial engines.
         Weights : gross 82500 lb, empty 50268 lb.
         Lengths : wing span 152.0 ft, length 106.0 ft, height 27.7 ft.
         Wing area : 2867 sq ft.
         Speeds : maximum level 199 mph, cruise 183 mph.
         Service ceiling : 13400 ft.
         Normal range : 3500 miles.

         - http://www.daveswarbirds.com/usplanes/aircraft/b-314.htm/

         4 Wright GR-2600 Cyclone, 1600 hp, 14 radial.
         Weights : gross 82500 lb, empty 50268 lb.
         Lengths : wing span 152.0 ft, length 106.0 ft, height 27.7 ft.
         Wing area : 2867 sq ft.
         Speeds : maximum 193 mph at 10000 ft, cruise 183 mph.
         Service ceiling : 13400 ft.
         Normal range : 3500 miles.

         - http://www.flyingclippers.com/B314.html/
  
         Ceiling : cruise 13400 ft, maximum 19600 ft, climb 562 ft/min.
         Crew : 6-10.
         Payload : 40-74 (36 night) passengers.

         - http://www.boeing.com/history/boeing/m314.html/

         (B314-A)

         4 1600 hp Wright GR-2600 Twin Cyclone.
         Weights : gross 84000 lb.
         Lengths : wing span 152.0 ft, length 106.0 ft.
         Speeds : maximum 199 mph, cruise 184 mph.
         Ceiling : 19600 ft.
         Range : 5200 miles.
         Accommodation : 10 crew, 74 passengers.

         - http://www.southernoregonwarbirds.org/fa3.html/
         (Franck Varnum flew during WWII).
 
         The sponsons (the short fins sticking out of the sides of the fuselage) provide lateral stability
         on the water. They were filled with gasoline and as a result were not at all that buoyant.
         If you had to taxi to downwind, on the turn to downwind the wind could get under the upwind wing
         and tip the plane until the downwind wing dug into the water. In that condition a lot of water
         could flow into the wing, and once there could flow through the wings and into the fuselage,
         dousing everyone and everything. That never happened to me but I did hear of such cases.
         When we faced that situation we would have several of the crew walk into the upwind wing out
         to the outer nacelle, to provide balance during the turn. The wing at the fuselage was about
         11 feet thick and contained a catwalk that led all the way out to the outboard engine.
         Flight engineers could actually work on the engines in flight.

         Set up the cruise at 117 mph (102 kt), until 135 mph (117 kt) as one burns off gas.
         They were never anywhere near the advertised max cruise of 193 mph (168 kt) :
         KSFO - PHNL (2080 nmi) at an average speed of 126 mph (109 kt), 16 hours depending of wind.
         During "Amber Alerts", they leaned out the mixture and slowed the engine rpms to 100 mph (87 kt) :
         23-24 hours till Honolulu.

         Landing : 70-75 mph (61-65 kt).

         - TV documentary (Panam films) :

         At rest, B314 tilted on one of its lateral sponsons.

         - http://www.pilotfriend.com/flight_training/frames2/seaplane_main_frame.htm/ :
         How to fly seaplanes and amphibians.
        </documentation>
        <reference
          refID="A complete tank test of the hull of the Sikorsky S-40 flying-boat - American clipper class"
          author="John R. Dawson"
          title="http://naca.larc.nasa.gov/reports/1938/naca-tn-512/"
          date="December 1934"/>
        <reference
          refID="Generalized theory for seaplane impact"
          author="Benjamin Milwitzky"
          title="http://naca.larc.nasa.gov/reports/1952/naca-report-1103/"
          date="October 1952"/>
        <reference
          refID="Stepped hull development for amphibious aircraft"
          author="Orion Technologies"
          title="http://www.nwlink.com/~orion/Documents/Hull.pdf"
          date=""/>
        <reference
          refID="A preliminary correlation of the behavior of water rudders on seaplanes and flying boats"
          author="F. W. S. Locke Jr."
          title="http://naca.larc.nasa.gov/reports/1947/naca-tn-1387/"
          date="August 1947"/>
    </fileheader>

    <metrics>
        <documentation>
         Pilot's eyepoint location, in aircraft's own coord system, FROM cg.
         X, Y, Z, in inches

         ORIGIN (0,0,0) is at NOSE.

         CG : empty load at 24.1 % of MAC, full load at 30.1 % of MAC.
         Aero reference point at 30.7 % of MAC.

         Chord at MAC.

         Add ac_wingincidence : 1/20 of wing chord.

         Htailarm : distance from CG to horizontal tail tip.
        </documentation>
        <wingarea unit="FT2"> 2867 </wingarea>
        <wingspan unit="FT"> 152 </wingspan>
        <chord unit="FT"> 21.57 </chord>                                                 <!-- aeromatic 18.86 -->
        <wing_incidence unit="DEG"> 2.86 </wing_incidence>                               <!-- added to help the take-off -->
        <htailarea unit="FT2"> 458.72 </htailarea>
        <htailarm unit="FT"> 22.91 </htailarm>                                           <!-- aeromatic 53.00 -->
        <vtailarea unit="FT2"> 516.06 </vtailarea>
        <vtailarm unit="FT"> 17.17 </vtailarm>                                           <!-- added (turbulence) -->
        <!-- AC_LV        53.00                       -->
        <location name="AERORP" unit="IN">
            <x> 478.1 </x>
            <y> 0 </y>
            <z> 0 </z>
        </location>
        <location name="EYEPOINT" unit="IN">
            <x> 101.8 </x>
            <y> -24 </y>
            <z> 65 </z>
        </location>
        <location name="VRP" unit="IN">
            <x> 0 </x>
            <y> 0 </y>
            <z> 0 </z>
        </location>
    </metrics>

    <mass_balance>
        <documentation>
         Center of gravity location, empty weight, in aircraft's own structural coord
         system. X, Y, Z, in inches; X is positive out the tail, Y positive out the
         right wing.

         Put in comment payload, to test at empty weight.
        </documentation>
        <ixx unit="SLUG*FT2"> 2.31442e+06 </ixx>
        <iyy unit="SLUG*FT2"> 1.34649e+06 </iyy>
        <izz unit="SLUG*FT2"> 3.59608e+06 </izz>
        <ixy unit="SLUG*FT2"> 0 </ixy>
        <ixz unit="SLUG*FT2"> 0 </ixz>
        <iyz unit="SLUG*FT2"> 0 </iyz>
        <emptywt unit="LBS"> 48400 </emptywt>                               <!-- aeromatic 50400 -->
        <location name="CG" unit="IN">
            <x> 459.2 </x>
            <y> 0 </y>
            <z> -31.8 </z>
        </location>
        <pointmass name="payload">
            <weight unit="LBS"> 1500 </weight>
            <location name="POINTMASS" unit="IN">
                <x> 460.0 </x>
                <y> 0 </y>
                <z> -31.8 </z>
            </location>
        </pointmass>
    </mass_balance>

    <ground_reactions>
        <documentation>
         Left/right sponsons at 70% MAC and 1/4 wing : higher at 3/4 hull height (tilt at rest).

         The hump and step gears replaces the nose and rear gears, when the hull raises on the step.

         The black painting of the hull should be visible, only if empty fuel.

         NACA 1387 : no steering, as the 314 has no water rudder; turns by differential power on engines.

         All gears have identical coefficients (hull in water).

         Disabling the filters restores the brakes.

         CAUTION : changing gear height or spring affects rest h_b-mac-ft !
        </documentation>
        <contact type="BOGEY" name="HUMP_LG">
            <location unit="IN">
                <x> 66.4 </x>
                <y> 0 </y>
                <z> -100.6 </z>
            </location>
            <static_friction> 0.8 </static_friction>
            <dynamic_friction> 0.5 </dynamic_friction>
            <rolling_friction> 0.02 </rolling_friction>
            <spring_coeff unit="LBS/FT"> 84000 </spring_coeff>
            <damping_coeff unit="LBS/FT/SEC"> 16800 </damping_coeff>
            <max_steer unit="DEG"> 0.0 </max_steer>
            <brake_group> NOSE </brake_group>
            <retractable>0</retractable>
        </contact>
        <contact type="BOGEY" name="NOSE_LG">
            <location unit="IN">
                <x> 395.4 </x>
                <y> 0 </y>
                <z> -120.6 </z>
            </location>
            <static_friction> 0.8 </static_friction>
            <dynamic_friction> 0.5 </dynamic_friction>
            <rolling_friction> 0.02 </rolling_friction>
            <spring_coeff unit="LBS/FT"> 84000 </spring_coeff>                       <!-- aeromatic 25200 -->
            <damping_coeff unit="LBS/FT/SEC"> 16800 </damping_coeff>                 <!-- aeromatic 8400 -->
            <max_steer unit="DEG"> 0.0 </max_steer>
            <brake_group> NOSE </brake_group>
            <retractable>0</retractable>
        </contact>
        <contact type="BOGEY" name="LEFT_MLG">
            <location unit="IN">
                <x> 495.4 </x>
                <y> -228 </y>
                <z> -110.6 </z>
            </location>
            <static_friction> 0.8 </static_friction>
            <dynamic_friction> 0.5 </dynamic_friction>
            <rolling_friction> 0.02 </rolling_friction>
            <spring_coeff unit="LBS/FT"> 84000 </spring_coeff>                       <!-- aeromatic 84000 -->
            <damping_coeff unit="LBS/FT/SEC"> 16800 </damping_coeff>                 <!-- aeromatic 16800 -->
            <max_steer unit="DEG"> 0.0 </max_steer>
            <brake_group> LEFT </brake_group>
            <retractable>0</retractable>
        </contact>
        <contact type="BOGEY" name="RIGHT_MLG">
            <location unit="IN">
                <x> 495.4 </x>
                <y> 228 </y>
                <z> -110.6 </z>
            </location>
            <static_friction> 0.8 </static_friction>
            <dynamic_friction> 0.5 </dynamic_friction>
            <rolling_friction> 0.02 </rolling_friction>
            <spring_coeff unit="LBS/FT"> 84000 </spring_coeff>
            <damping_coeff unit="LBS/FT/SEC"> 16800 </damping_coeff>
            <max_steer unit="DEG"> 0.0 </max_steer>
            <brake_group> RIGHT </brake_group>
            <retractable>0</retractable>
        </contact>
        <contact type="BOGEY" name="STEP_MLG">
            <location unit="IN">
                <x> 535.4 </x>
                <y> 0 </y>
                <z> -100.6 </z>
            </location>
            <static_friction> 0.8 </static_friction>
            <dynamic_friction> 0.5 </dynamic_friction>
            <rolling_friction> 0.02 </rolling_friction>
            <spring_coeff unit="LBS/FT"> 84000 </spring_coeff>
            <damping_coeff unit="LBS/FT/SEC"> 16800 </damping_coeff>
            <max_steer unit="DEG"> 0.0 </max_steer>
            <brake_group> TAIL </brake_group>
            <retractable>0</retractable>
        </contact>
        <contact type="BOGEY" name="REAR_MLG">
            <location unit="IN">
                <x> 803.4 </x>
                <y> 0 </y>
                <z> -120.6 </z>
            </location>
            <static_friction> 0.8 </static_friction>
            <dynamic_friction> 0.5 </dynamic_friction>
            <rolling_friction> 0.02 </rolling_friction>
            <spring_coeff unit="LBS/FT"> 84000 </spring_coeff>
            <damping_coeff unit="LBS/FT/SEC"> 16800 </damping_coeff>
            <max_steer unit="DEG"> 0.0 </max_steer>
            <brake_group> TAIL </brake_group>
            <retractable>0</retractable>
        </contact>
    </ground_reactions>

    <propulsion>
        <documentation>
         propeller at 1/5 of length, 1/10 and 2/10 of wing span.

         1 tank feeds 1 engine, plus floor and sponson (left or right).
        </documentation>
        <engine file="WrightGR-2600">
            <feed>0</feed>
            <feed>4</feed>
            <feed>5</feed>
            <thruster file="HamiltonStd6243A-3">
                <location unit="IN">
                    <x> 254.4 </x>
                    <y> -364.8 </y>
                    <z> 40 </z>
                </location>
                <orient unit="DEG">
                    <roll> 0.0 </roll>
                    <pitch> 0.0 </pitch>
                    <yaw> 0.0 </yaw>
                </orient>
            </thruster>
        </engine>
        <engine file="WrightGR-2600">
            <feed>1</feed>
            <feed>4</feed>
            <feed>5</feed>
            <thruster file="HamiltonStd6243A-3">
                <location unit="IN">
                    <x> 254.4 </x>
                    <y> -182.4 </y>
                    <z> 40 </z>
                </location>
                <orient unit="DEG">
                    <roll> 0.0 </roll>
                    <pitch> 0.0 </pitch>
                    <yaw> 0.0 </yaw>
                </orient>
            </thruster>
        </engine>
        <engine file="WrightGR-2600">
            <feed>2</feed>
            <feed>4</feed>
            <feed>6</feed>
            <thruster file="HamiltonStd6243A-3">
                <location unit="IN">
                    <x> 254.4 </x>
                    <y> 182.4 </y>
                    <z> 40 </z>
                </location>
                <orient unit="DEG">
                    <roll> 0.0 </roll>
                    <pitch> 0.0 </pitch>
                    <yaw> 0.0 </yaw>
                </orient>
            </thruster>
        </engine>
        <engine file="WrightGR-2600">
            <feed>3</feed>
            <feed>4</feed>
            <feed>6</feed>
            <thruster file="HamiltonStd6243A-3">
                <location unit="IN">
                    <x> 254.4 </x>
                    <y> 364.8 </y>
                    <z> 40 </z>
                </location>
                <orient unit="DEG">
                    <roll> 0.0 </roll>
                    <pitch> 0.0 </pitch>
                    <yaw> 0.0 </yaw>
                </orient>
            </thruster>
        </engine>
        <documentation>
         radius : lb => kg => divide by 0.792 (depends of fuel density) => liter => radius of sphere.

         all tanks are 40 % of MAC.
        </documentation>
        <tank type="FUEL">    <!-- Tank number 0 -->
            <documentation>
              wing tanks behind the engines.
            </documentation>
            <location unit="IN">
                <x> 502 </x>                                                              <!-- aeromatic 636 -->
                <y> -364.8 </y>                                                           <!-- aeromatic 0 -->
                <z> 30 </z>                                                               <!-- aeromatic -31.8 -->
            </location>
            <radius unit="IN"> 311 </radius>                                              <!-- aeromatic 1 -->
            <capacity unit="LBS"> 3600 </capacity>
            <contents unit="LBS"> 3600 </contents>
        </tank>
        <tank type="FUEL">    <!-- Tank number 1 -->
            <location unit="IN">
                <x> 502 </x>
                <y> -182.4 </y>
                <z> 30 </z>
            </location>
            <capacity unit="LBS"> 3600 </capacity>
            <contents unit="LBS"> 3600 </contents>
        </tank>
        <tank type="FUEL">    <!-- Tank number 2 -->
            <location unit="IN">
                <x> 502 </x>
                <y> 182.4 </y>
                <z> 30 </z>
            </location>
            <capacity unit="LBS"> 3600 </capacity>
            <contents unit="LBS"> 3600 </contents>
        </tank>
        <tank type="FUEL">    <!-- Tank number 3 -->
            <location unit="IN">
                <x> 502 </x>
                <y> 364.8 </y>
                <z> 30 </z>
            </location>
            <capacity unit="LBS"> 3600 </capacity>
            <contents unit="LBS"> 3600 </contents>
        </tank>
        <tank type="FUEL">    <!-- Tank number 4 -->
            <documentation>
              inboard tank (floor).
            </documentation>
            <location unit="IN">
                <x> 502 </x>
                <y> 0 </y>
                <z> -40 </z>
            </location>
            <capacity unit="LBS"> 5760 </capacity>
            <contents unit="LBS"> 5760 </contents>
        </tank>
        <tank type="FUEL">    <!-- Tank number 5 -->
            <documentation>
              ouboard tanks (hydro-stabilizer).
            </documentation>
            <location unit="IN">
                <x> 502 </x>
                <y> -182.4 </y>
                <z> -40 </z>
            </location>
            <capacity unit="LBS"> 6984 </capacity>
            <contents unit="LBS"> 6984 </contents>
        </tank>
        <tank type="FUEL">    <!-- Tank number 6 -->
            <location unit="IN">
                <x> 502 </x>
                <y> 182.4 </y>
                <z> -40 </z>
            </location>
            <capacity unit="LBS"> 6984 </capacity>
            <contents unit="LBS"> 6984 </contents>
        </tank>
    </propulsion>

    <system name="Hull">
     <property>systems/hull/anchor</property>

     <documentation>
       anchor opposes to propeller and inertia.
     </documentation>

     <channel name="Anchor">

        <pure_gain name="systems/hull/gear-lbs">
            <gain>-1</gain>
            <input>forces/fbx-gear-lbs</input>
        </pure_gain>

        <summer name="systems/hull/total-lbs">
            <input>forces/fbx-prop-lbs</input>
            <input>systems/hull/gear-lbs</input>
        </summer>

        <pure_gain name="systems/hull/anchor-lbs">
            <input>systems/hull/total-lbs</input>
            <gain>systems/hull/anchor</gain>
            <output>external_reactions/anchor/magnitude</output>
        </pure_gain>

     </channel>
    </system>

    <flight_control name="FCS: Boeing314A">
     <channel name="Pitch">

        <summer name="Pitch Trim Sum">
            <input>fcs/elevator-cmd-norm</input>
            <input>fcs/pitch-trim-cmd-norm</input>
            <clipto>
                <min>-1</min>
                <max>1</max>
            </clipto>
        </summer>

        <aerosurface_scale name="Elevator Control">
            <input>fcs/pitch-trim-sum</input>
            <gain>0.01745</gain>
            <range>
                <documentation>
                  replaced -0.35/0.30 by real -25/25 deg.
                </documentation>
                <min>-25</min>
                <max>25</max>
            </range>
            <output>fcs/elevator-pos-rad</output>
        </aerosurface_scale>
        <aerosurface_scale name="Elevator Position Normalizer">
            <input>fcs/pitch-trim-sum</input>
            <range>
                <min>-1</min>
                <max>1</max>
            </range>
            <output>fcs/elevator-pos-norm</output>
        </aerosurface_scale>

     </channel>
     <channel name="Roll">

        <summer name="Roll Trim Sum">
            <input>fcs/aileron-cmd-norm</input>
            <input>fcs/roll-trim-cmd-norm</input>
            <clipto>
                <min>-1</min>
                <max>1</max>
            </clipto>
        </summer>

        <aerosurface_scale name="Left Aileron Control">
            <input>fcs/roll-trim-sum</input>
            <range>
                <min>-0.35</min>
                <max>0.35</max>
            </range>
            <output>fcs/left-aileron-pos-rad</output>
        </aerosurface_scale>
        <aerosurface_scale name="Left Aileron Position Normalizer">
            <input>fcs/roll-trim-sum</input>
            <range>
                <min>-1</min>
                <max>1</max>
            </range>
            <output>fcs/left-aileron-pos-norm</output>
        </aerosurface_scale>

        <aerosurface_scale name="Right Aileron Control">
            <input>-fcs/roll-trim-sum</input>
            <range>
                <min>-0.35</min>
                <max>0.35</max>
            </range>
            <output>fcs/right-aileron-pos-rad</output>
        </aerosurface_scale>
        <aerosurface_scale name="Right Aileron Position Normalizer">
            <input>fcs/roll-trim-sum</input>
            <range>
                <min>-1</min>
                <max>1</max>
            </range>
            <output>fcs/right-aileron-pos-norm</output>
        </aerosurface_scale>

     </channel>
     <channel name="Yaw">

        <summer name="Rudder Command Sum">
            <input>fcs/rudder-cmd-norm</input>
            <input>fcs/yaw-trim-cmd-norm</input>
            <clipto>
                <min>-1</min>
                <max>1</max>
            </clipto>
        </summer>

        <aerosurface_scale name="Rudder Control">
            <input>fcs/rudder-command-sum</input>
            <range>
                <min>-0.35</min>
                <max>0.35</max>
            </range>
            <output>fcs/rudder-pos-rad</output>
        </aerosurface_scale>
        <aerosurface_scale name="Rudder Position Normalizer">
            <input>fcs/rudder-command-sum</input>
            <range>
                <min>-1</min>
                <max>1</max>
            </range>
            <output>fcs/rudder-pos-norm</output>
        </aerosurface_scale>

     </channel>
     <channel name="Aeromechanical">

        <kinematic name="Flaps Control">
            <input>fcs/flap-cmd-norm</input>
            <traverse>
                <documentation>
                  changed 15/30 deg to 15/40/55 (real is above 40).
                </documentation>
                <setting>
                    <position>0</position>
                    <time>0</time>
                </setting>
                <setting>
                    <position>20</position>
                    <time>4</time>
                </setting>
                <setting>
                    <position>40</position>
                    <time>3</time>
                </setting>
                <setting>
                    <position>55</position>
                    <time>2</time>
                </setting>
            </traverse>
            <output>fcs/flap-pos-deg</output>
        </kinematic>
        <aerosurface_scale name="Flap Position Normalizer">
          <input>fcs/flap-pos-deg</input>
          <domain>
            <min>0</min>
            <max>55</max>
          </domain>
          <range>
            <min>0</min>
            <max>1</max>
          </range>
          <output>fcs/flap-pos-norm</output>
        </aerosurface_scale>

        <kinematic name="Speedbrake Control">
            <input>fcs/speedbrake-cmd-norm</input>
            <traverse>
                <setting>
                    <position>0</position>
                    <time>0</time>
                </setting>
                <setting>
                    <position>1</position>
                    <time>1</time>
                </setting>
            </traverse>
            <output>fcs/speedbrake-pos-norm</output>
        </kinematic>
     </channel>
    </flight_control>

    <aerodynamics>
        <documentation>
             Hydrodynamics depends of 4 coefficients, related to gear height and spring.

             h_b-mac-ft at rest (with the 84000 lbs/ft spring) :
             - 0.0450 empty fuel.
             - 0.0490 full load.

             h_b-mac-ft at rotation speed (find with logging), with hydrodynamic lift :
             - 0.0650 empty fuel.
             - 0.0690 full load.

             0.0690 is also 0.0490 + 0.020,
             where 3.04' (from the keel to step) / wing span (152') = 0.020;
        </documentation>

        <documentation>
             Hull resistance in water until the step :
             - maximum at 42 % of takeoff speed : hump at 42 kt full load (100 kt) and
               34 kt empty load (80 kt).
             - reduced by hydrodynamic lift.
             - constant above 70 kt.
             - 50 % of drag when hull is going out of water, and then none.
             - below ground effect.

             similar to NACA TN 512, figure 11.

           % of takeoff speed, % of hump drag :
           -   0.0/106,  0.0/59. (dock)
           -   5.0/106,  4.0/59.
           -   8.0/106,  8.0/59.
           -  11.0/106, 13.5/59.
           -  14.0/106, 21.0/59.
           -  16.5/106, 27.0/59.
           -  19.0/106, 33.0/59.
           -  21.0/106, 36.5/59.
           -  24.5/106, 42.5/59.
           -  28.0/106, 47.5/59.
           -  32.5/106, 53.0/59.
           -  35.0/106, 55.0/59.
           -  38.0/106, 56.5/59.
           -  41.5/106, 58.5/59.
           -  45.0/106, 59.0/59. (hump)
           -  48.0/106, 58.5/59.
           -  51.5/106, 57.0/59.
           -  55.0/106, 53.5/59.
           -  59.5/106, 48.5/59.
           -  64.5/106, 42.0/59.
           -  69.5/106, 36.5/59.
           -  76.0/106, 29.0/59.
           -  92.0/106, 11.5/59.
           -  96.0/106,  7.0/59.
           -  99.5/106,  5.0/59.
           - 106.0/106,  0.0/59. (lift-off)
        </documentation>
        <function name="aero/function/kHDhull">
            <description>Hull_resistance</description>
            <table>
                <independentVar lookup="row">velocities/vc-kts</independentVar>
                <independentVar lookup="column">aero/h_b-mac-ft</independentVar>
                <independentVar lookup="table">inertia/weight-lbs</independentVar>
                <tableData breakPoint="47850">
                                0.0450	0.0550	0.0650
                    0.0000	0.0000	0.0000	0.0000
                    3.7000	0.0678	0.0339	0.0000
                    6.0000	0.1356	0.0678	0.0000
                    8.3000	0.2288	0.1144	0.0000
                    10.6000	0.3559	0.1780	0.0000
                    12.5000	0.4576	0.2288	0.0000
                    14.3000	0.5593	0.2797	0.0000
                    15.9000	0.6186	0.3093	0.0000
                    18.5000	0.7203	0.3602	0.0000
                    21.1000	0.8051	0.4026	0.0000
                    24.5000	0.8983	0.4492	0.0000
                    26.4000	0.9322	0.4661	0.0000
                    28.7000	0.9576	0.4788	0.0000
                    31.3000	0.9915	0.4958	0.0000
                    34.0000	1.0000	0.5000	0.0000
                    36.2000	0.9915	0.4958	0.0000
                    38.9000	0.9961	0.4981	0.0000
                    41.5000	0.9068	0.4534	0.0000
                    44.9000	0.7119	0.3560	0.0000
                    48.7000	0.6186	0.3093	0.0000
                    52.5000	0.4915	0.2458	0.0000
                    57.4000	0.1949	0.0975	0.0000
                </tableData>
                <tableData breakPoint="84000.0000">
                                0.0490	0.0590	0.0690
                    0.0000	0.0000	0.0000	0.0000
                    4.7000	0.0678	0.0339	0.0000
                    7.5000	0.1356	0.0678	0.0000
                    10.4000	0.2288	0.1144	0.0000
                    13.2000	0.3559	0.1780	0.0000
                    15.6000	0.4576	0.2288	0.0000
                    17.9000	0.5593	0.2797	0.0000
                    19.8000	0.6186	0.3093	0.0000
                    23.1000	0.7203	0.3602	0.0000
                    26.4000	0.8051	0.4026	0.0000
                    30.7000	0.8983	0.4492	0.0000
                    33.0000	0.9322	0.4661	0.0000
                    35.8000	0.9576	0.4788	0.0000
                    39.1000	0.9915	0.4958	0.0000
                    42.0000	1.0000	0.5000	0.0000
                    45.3000	0.9915	0.4958	0.0000
                    48.6000	0.9961	0.4981	0.0000
                    51.9000	0.9068	0.4534	0.0000
                    56.1000	0.7119	0.3560	0.0000
                    60.9000	0.6186	0.3093	0.0000
                    65.6000	0.4915	0.2458	0.0000
                    71.7000	0.1949	0.0975	0.0000
                </tableData>
            </table>
        </function>

        <documentation>
             The hull goes on its step :
             - hydrodynamic lift.
             - 80 % when going out of water.
             - 1st altitude = h_b-mac-ft at rest.
             - 2nd altitude : in the middle.
             - 3rd altitude : 3.04' (from the keel) / wing span (152') = 0.020;
             the planing layer is thin.

             Not implemented :
             - drag when the bow plunges into a wave hump (nose down).
             - drag when after body digs the water (nose up).
        </documentation>
        <function name="aero/function/kHLstep">
            <description>Step_lift</description>
            <table>
                <independentVar lookup="row">aero/h_b-mac-ft</independentVar>
                <independentVar lookup="column">velocities/vc-kts</independentVar>
                <independentVar lookup="table">inertia/weight-lbs</independentVar>
                <tableData breakPoint="47850.0000">
                                0.0000	17.0000	34.0000
                    0.0450	0.0000	0.0000	1.0000
                    0.0550	0.0000	0.0000	0.8000
                    0.0650	0.0000	0.0000	0.0000
                </tableData>
                <tableData breakPoint="84000.0000">
                                0.0000	21.0000	42.0000
                    0.0490	0.0000	0.0000	1.0000
                    0.0590	0.0000	0.0000	0.8000
                    0.0690	0.0000	0.0000	0.0000
                </tableData>
            </table>
        </function>

        <documentation>
             The hull goes on its step :
             - as sponson gets out water, additional lift.
             - sponson in water reduces lift : 0.02/0.029 rad at rest.
             - on step, the possible roll is higher (sponson touching water).
             - after lift off, no loss by water.
        </documentation>
        <function name="aero/function/kHLsponson">
            <description>Sponson_lift</description>
            <table>
              <independentVar lookup="row">attitude/roll-rad</independentVar>
              <independentVar lookup="column">velocities/vc-kts</independentVar>
              <independentVar lookup="table">inertia/weight-lbs</independentVar>
              <tableData breakPoint="47850.0000">
                      	        17.000   34.0000 44.0000 60.0000
                  -0.0690	0.0000   0.0000	 0.0000  1.0000
                  -0.0590	0.0000   0.0000	 0.5000  1.0000
                  -0.0490	0.0000   0.5000	 1.0000  1.0000
                  -0.0290	0.0000   1.0000	 1.0000  1.0000
                   0.0290	0.0000   1.0000	 1.0000  1.0000
                   0.0490	0.0000   0.5000	 1.0000  1.0000
                   0.0590	0.0000   0.0000	 0.5000  1.0000
                   0.0690	0.0000   0.0000	 0.0000  1.0000
              </tableData>
              <tableData breakPoint="84000.0000">
                       	        21.000   42.0000 52.0000 80.0000
                  -0.0600	0.0000   0.0000	 0.0000  1.0000
                  -0.0500	0.0000   0.0000	 0.5000  1.0000
                  -0.0400	0.0000   0.5000	 1.0000  1.0000
                  -0.0200	0.0000   1.0000	 1.0000  1.0000
                   0.0200	0.0000   1.0000	 1.0000  1.0000
                   0.0400	0.0000   0.5000	 1.0000  1.0000
                   0.0500	0.0000   0.0000	 0.5000  1.0000
                   0.0600	0.0000   0.0000	 0.0000  1.0000
              </tableData>
            </table>
        </function>

        <documentation>
             The bow climbs over the wave hump :
             - strong pitch (positiv moment) until the hump (nose up on the hump),
             then light nose down (negativ moment).
             - the center of buoyancy shifts with speed :
             near center of gravity (step) at rest, then aft the step (afterbody)
             when ploughing the wave hump; finally forwards the step (forebody), once planing on the step.
             - 80 % when going out of water.

             similar to  NACA TN 512, figure 13.
        </documentation>
        <function name="aero/function/kHmstep">
            <description>Step_moment</description>
            <table>
                <independentVar lookup="row">velocities/vc-kts</independentVar>
                <independentVar lookup="column">aero/h_b-mac-ft</independentVar>
                <independentVar lookup="table">inertia/weight-lbs</independentVar>
                <tableData breakPoint="47850.0000">
                                0.0450	0.0550	0.0650
                    0.0000	0.0000	0.0000	0.0000
                    17.0000    -1.6000 -1.2800	0.0000
                    34.0000	0.8000	0.6400	0.0000
                    51.0000	0.0000	0.0000	0.0000
                    57.000     -0.1000 -0.0800	0.0000
                </tableData>
                <tableData breakPoint="84000.0000">
                                0.0490	0.0590	0.0690
                    0.0000	0.0000	0.0000	0.0000
                    21.0000    -1.6000 -1.2800	0.0000
                    42.0000	0.8000	0.6400	0.0000
                    63.0000	0.0000	0.0000	0.0000
                    72.0000    -0.1000 -0.0800	0.0000
                </tableData>
            </table>
        </function>

        <documentation>
            created to help the takeoff at full load.
        </documentation>
        <function name="aero/function/kCLge">
            <description>Change_in_lift_due_to_ground_effect</description>
            <table>
                <independentVar>aero/h_b-mac-ft</independentVar>
                <tableData>
                    0.0000	1.2000
                    0.1000	1.1500
                    0.1500	1.0900
                    0.2000	1.0200
                    1.1000	1.0000
                </tableData>
            </table>
        </function>

        <documentation>
             Compensates compression of nose gear by speed :
             - enough strong to make rise the bow, and have an effect on flight commands.
             - 80 % when going out of water.
             - hydrodynamic lift indirectly provides weathervaning if wing has enough alpha.
             In reality, cross wind applied on the center of gravity (CG), is opposed by the water acting on a sinking float.
             Hence a momment around the center of buoyancy (CB).
             - gear reaction code seems not appropriate in this case.
        </documentation>
        <function name="aero/function/kAmgear">
            <description>Compression_correction</description>
            <table>
                <independentVar lookup="row">velocities/vc-kts</independentVar>
                <independentVar lookup="column">aero/h_b-mac-ft</independentVar>
                <independentVar lookup="table">inertia/weight-lbs</independentVar>
                <tableData breakPoint="47850.0000">
                                0.0450	0.0550	0.0650
                    0.0000	0.0000	0.0000	0.0000
                    17.0000	2.0000	1.6000	0.0000
                    34.0000	1.0000	0.8000	0.0000
                    51.0000	0.7000	0.5600	0.0000
                    57.0000	0.7000	0.5600	0.0000
                </tableData>
                <tableData breakPoint="84000.0000">
                                0.0490	0.0590	0.0690
                    0.0000	0.0000	0.0000	0.0000
                    21.0000	2.0000	1.6000	0.0000
                    42.0000	3.0000	2.4000	0.0000
                    63.0000	0.7000	0.5600	0.0000
                    72.0000	0.7000	0.5600	0.0000
                </tableData>
            </table>
        </function>

        <documentation>
              NACA report 1103 (rebound on touch-down ) :
              - figure 2, khi 3 and 15 deg.
              gamma, velocity angle over water : 0 - 80 deg, horizontal is 0. 
              - figure 6, tau 6 deg (used as 3 deg) and tau 12 deg (used as 15 deg). 
              tau, bow pitch over water : 3 - 15 deg, horizontal is 0.

              khi = (sin(tau) / sin(gamma)) x cos(tau + gamma) :
              - no rebound when flight path near vertical (energy absorbed by water).
              - maximum near planing condition.
              - favoured by bow pitch.
        </documentation>
        <function name="aero/function/kHmkhi">
            <description>Rebound_due_to_khi</description>
            <table>
              <independentVar lookup="row">flight-path/gamma-rad</independentVar>
              <independentVar lookup="column">attitude/pitch-rad</independentVar>
              <independentVar lookup="table">velocities/vc-kts</independentVar>
              <tableData breakPoint="42.0000">
                                0.0500	0.2600
                  0.0000	0.0000	0.0000
                  0.3500	0.0000	0.0000
                  0.7000	0.0000	0.0000
                  1.0500	0.0000	0.0000
                  1.4000	0.0000	0.0000
              </tableData>
              <tableData breakPoint="52.0000">
                                0.0500	0.2600
                  0.0000       15.0000 13.0000
                  0.3500	0.3500	1.1000
                  0.7000	0.2500	0.6000
                  1.0500	0.1500	0.5000
                  1.4000	0.0500	0.4000
              </tableData>
            </table>
        </function>

        <axis name="DRAG">
            <documentation>
              - more drag inside water than air (ratio 7/1).
              - increases the takeoff distance.
              - could depend of weight.
            </documentation>
            <function name="aero/coefficient/HDhull0">
                <description>Drag_at_hump</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>aero/function/kHDhull</property>
                    <value>0.1200</value>
                </product>
            </function>

            <documentation>
               added.
            </documentation>
            <function name="aero/coefficient/CDo">
                <description>Drag_at_zero_lift</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <value>0.0274</value>
                </product>
            </function>
            <documentation>
              - renamed from CDo.
              - substracted Cdo 0.0274.
            </documentation>
            <function name="aero/coefficient/CDalpha">
                <description>Drag_due_to_alpha</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                      <table>
                          <independentVar>aero/alpha-rad</independentVar>
                          <tableData>
                             -1.5700	1.4726
                             -0.2600	0.0286
                              0.0000	0.0006
                              0.2600	0.0286
                              1.5700	1.4726
                          </tableData>
                      </table>
                </product>
            </function>

            <documentation>
               1/10 of wing.
            </documentation>
            <function name="aero/coefficient/CDsponsono">
                <description>Sponson_drag_at_zero_lift</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>aero/function/kHLsponson</property>
                    <value>0.0027</value>
                </product>
            </function>
            <documentation>
               1/10 of wing.
            </documentation>
            <function name="aero/coefficient/CDsponson">
                <description>Drag_due_to_sponson</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>aero/function/kHLsponson</property>
                      <table>
                          <independentVar>aero/alpha-rad</independentVar>
                          <tableData>
                             -1.5700	0.1473
                             -0.2600	0.0029
                              0.0000	0.0001
                              0.2600	0.0029
                              1.5700	0.1473
                          </tableData>
                      </table>
                </product>
            </function>

            <function name="aero/coefficient/CDi">
                <description>Induced_drag</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>aero/cl-squared</property>
                    <value>0.0390</value>
                </product>
            </function>
            <function name="aero/coefficient/CDmach">
                <description>Drag_due_to_mach</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                      <table>
                          <independentVar>velocities/mach</independentVar>
                          <tableData>
                              0.0000	0.0000
                              0.7000	0.0000
                              1.1000	0.0230
                              1.8000	0.0150
                          </tableData>
                      </table>
                </product>
            </function>
            <function name="aero/coefficient/CDflap">
                <description>Drag_due_to_flaps</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>fcs/flap-cmd-norm</property>
                    <value>0.0350</value>
                </product>
            </function>
            <function name="aero/coefficient/CDsb">
                <description>Drag_due_to_speedbrakes</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>fcs/speedbrake-pos-norm</property>
                    <value>0.0280</value>
                </product>
            </function>
            <function name="aero/coefficient/CDbeta">
                <description>Drag_due_to_sideslip</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                      <table>
                          <independentVar>aero/beta-rad</independentVar>
                          <tableData>
                             -1.5700	1.2300
                             -0.2600	0.0500
                              0.0000	0.0000
                              0.2600	0.0500
                              1.5700	1.2300
                          </tableData>
                      </table>
                </product>
            </function>
            <documentation>
              - drag is always positiv.
              - divide by 10.
            </documentation>
            <function name="aero/coefficient/CDde">
                <description>Drag_due_to_Elevator_Deflection</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <abs>
                    <property>fcs/elevator-pos-norm</property>
                    </abs>
                    <value>0.0035</value>
                </product>
            </function>
        </axis>

        <axis name="SIDE">
            <function name="aero/coefficient/CYb">
                <description>Side_force_due_to_beta</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>aero/beta-rad</property>
                    <value>-1.0000</value>
                </product>
            </function>
        </axis>

        <axis name="LIFT">
            <documentation>
              - and missing lift for flaps.
              - introducing roll quickly reduces lift at landing.
            </documentation>
            <function name="aero/coefficient/HLstep0">
                <description>Lift_at_step</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>aero/function/kHLsponson</property>
                    <property>aero/function/kHLstep</property>
                    <value>1.0000</value>
                </product>
            </function>

            <documentation>
               created.
            </documentation>
            <function name="aero/coefficient/CLo">
                <description>Lift_at_zero_alpha</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>aero/function/kCLge</property>
                    <value>0.2400</value>
                </product>
            </function>
            <documentation>
               substracted CLo 0.240.
            </documentation>
            <function name="aero/coefficient/CLalpha">
                <description>Lift_due_to_alpha</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>aero/function/kCLge</property>
                      <table>
                          <independentVar>aero/alpha-rad</independentVar>
                          <tableData>
                             -0.2000   -0.9800
                              0.0000	0.0000
                              0.2400	1.1600
                              0.6000	0.4640
                          </tableData>
                      </table>
                </product>
            </function>

            <documentation>
              - and missing lift for flaps.
              - 1/10 of wing.
            </documentation>
            <function name="aero/coefficient/CLsponsono">
                <description>Sponson_lift_at_zero_alpha</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>aero/function/kHLsponson</property>
                    <property>aero/function/kCLge</property>
                    <value>0.0240</value>
                </product>
            </function>
            <documentation>
              - and missing lift for flaps.
              - 1/10 of wing.
            </documentation>
            <function name="aero/coefficient/CLsponson">
                <description>Lift_due_to_sponson</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>aero/function/kHLsponson</property>
                    <property>aero/function/kCLge</property>
                      <table>
                          <independentVar>aero/alpha-rad</independentVar>
                          <tableData>
                             -0.2000   -0.0980
                              0.0000	0.0000
                              0.2400	0.1160
                              0.6000	0.0464
                          </tableData>
                      </table>
                </product>
            </function>

            <documentation>
              - unchanged.
              - 0.9 is the value to takeoff at 2/3 full load; water provides the missing lift.
            </documentation>
            <function name="aero/coefficient/dCLflap">
                <description>Delta_Lift_due_to_flaps</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>fcs/flap-cmd-norm</property>
                    <property>aero/function/kCLge</property>
                    <value>0.6000</value>
                </product>
            </function>
            <function name="aero/coefficient/dCLsb">
                <description>Delta_Lift_due_to_speedbrake</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>fcs/speedbrake-pos-norm</property>
                    <value>0.0000</value>
                </product>
            </function>
            <function name="aero/coefficient/CLde">
                <description>Lift_due_to_Elevator_Deflection</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>fcs/elevator-pos-rad</property>
                    <value>0.2000</value>
                </product>
            </function>
        </axis>

        <axis name="ROLL">
            <function name="aero/coefficient/Clb">
                <description>Roll_moment_due_to_beta</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>aero/beta-rad</property>
                    <value>-0.1000</value>
                </product>
            </function>
            <function name="aero/coefficient/Clp">
                <description>Roll_moment_due_to_roll_rate</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>aero/bi2vel</property>
                    <property>velocities/p-aero-rad_sec</property>
                    <value>-0.4000</value>
                </product>
            </function>
            <function name="aero/coefficient/Clr">
                <description>Roll_moment_due_to_yaw_rate</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>aero/bi2vel</property>
                    <property>velocities/r-aero-rad_sec</property>
                    <value>0.1500</value>
                </product>
            </function>
            <function name="aero/coefficient/Clda">
                <description>Roll_moment_due_to_aileron</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>fcs/left-aileron-pos-rad</property>
                      <table>
                          <independentVar>velocities/mach</independentVar>
                          <tableData>
                              0.0000	0.1500
                              2.0000	0.0500
                          </tableData>
                      </table>
                </product>
            </function>
            <function name="aero/coefficient/Cldr">
                <description>Roll_moment_due_to_rudder</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>fcs/rudder-pos-rad</property>
                    <value>0.0100</value>
                </product>
            </function>
        </axis>

        <axis name="PITCH">
            <function name="aero/coefficient/Hmstep0">
                <description>Trim_moment_at_step</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/cbarw-ft</property>
                    <property>aero/function/kHmstep</property>
                    <value>1.0000</value>
                </product>
            </function>

            <documentation>
               could depend of weight.
            </documentation>
            <function name="aero/coefficient/Amgear0">
                <description>Compression</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/cbarw-ft</property>
                    <property>aero/function/kAmgear</property>
                    <value>0.5000</value>
                </product>
            </function>

            <documentation>
             - rest 0 ft/min.
             - maximum 700 ft/min.
             - before hydrodynamic lift.
            </documentation>
            <function name="aero/coefficient/Hmrebound0">
                <description>Rebound_due_to_vertical_speed</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/cbarw-ft</property>
                    <property>aero/function/kHmkhi</property>
                      <table>
                          <independentVar lookup="row">velocities/v-down-fps</independentVar>
                          <independentVar lookup="column">aero/h_b-mac-ft</independentVar>
                          <independentVar lookup="table">inertia/weight-lbs</independentVar>
                          <tableData breakPoint="47850.0000">
                              	        0.0650	0.0700	0.0750
                               0.0000	0.0000	0.0000	0.0000
                              11.6700	0.0000	0.3000	0.0000
                          </tableData>
                          <tableData breakPoint="84000.0000">
                              	        0.0690	0.0740	0.0790
                               0.0000	0.0000	0.0000	0.0000
                              11.6700	0.0000	0.3000	0.0000
                          </tableData>
                      </table>
                </product>
            </function>

            <function name="aero/coefficient/Cmalpha">
                <description>Pitch_moment_due_to_alpha</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/cbarw-ft</property>
                    <property>aero/alpha-rad</property>
                    <value>-0.4000</value>
                </product>
            </function>
            <function name="aero/coefficient/Cmde">
                <description>Pitch_moment_due_to_elevator</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/cbarw-ft</property>
                    <property>fcs/elevator-pos-rad</property>
                      <table>
                          <independentVar>velocities/mach</independentVar>
                          <tableData>
                              0.0000	-1.0000
                              2.0000	-0.2500
                          </tableData>
                      </table>
                </product>
            </function>
            <function name="aero/coefficient/Cmq">
                <description>Pitch_moment_due_to_pitch_rate</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/cbarw-ft</property>
                    <property>aero/ci2vel</property>
                    <property>velocities/q-aero-rad_sec</property>
                    <value>-22.0000</value>
                </product>
            </function>
            <function name="aero/coefficient/Cmadot">
                <description>Pitch_moment_due_to_alpha_rate</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/cbarw-ft</property>
                    <property>aero/ci2vel</property>
                    <property>aero/alphadot-rad_sec</property>
                    <value>-8.0000</value>
                </product>
            </function>
        </axis>

        <axis name="YAW">
            <function name="aero/coefficient/Cnb">
                <description>Yaw_moment_due_to_beta</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>aero/beta-rad</property>
                    <value>0.1200</value>
                </product>
            </function>
            <function name="aero/coefficient/Cnr">
                <description>Yaw_moment_due_to_yaw_rate</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>aero/bi2vel</property>
                    <property>velocities/r-aero-rad_sec</property>
                    <value>-0.1500</value>
                </product>
            </function>
            <function name="aero/coefficient/Cndr">
                <description>Yaw_moment_due_to_rudder</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>fcs/rudder-pos-rad</property>
                    <value>-0.1000</value>
                </product>
            </function>
            <function name="aero/coefficient/Cnda">
                <description>Adverse_yaw</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>fcs/left-aileron-pos-rad</property>
                    <value>-0.0080</value>
                </product>
            </function>
        </axis>
    </aerodynamics>
        
    <external_reactions>
        <documentation>
          anchor at nose tip.
        </documentation>
        <force name="anchor" frame="BODY">
            <location unit="IN">
                <x>0 </x>
                <y>0 </y>
                <z>0 </z>
            </location>
            <direction>
                <x>-1</x>
                <y>0</y>
                <z>-1</z>
            </direction>
        </force>
    </external_reactions>

</fdm_config>
// This file instructs the automatic synchronization utilities where to
// install this aircraft and under what name.
//
// The syntax is easy;
// * the package name at the beginning of a new line followed by a colon
// * a space as a column separator
// * the path and filename relative to the aircraft install directory
//
// Currently known package names are: FlightGear

// Don't install in the FlightGear base package.
//FlightGear:
<?xml version="1.0"?>
<?xml-stylesheet type="text/xsl" href="http://jsbsim.sourceforge.net/JSBSim.xsl"?>
<fdm_config name="C130" version="2.0" release="BETA"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:noNamespaceSchemaLocation="http://jsbsim.sourceforge.net/JSBSim.xsd">

    <fileheader>
      <author> Unknown </author>
      <filecreationdate> 2004-01-01 </filecreationdate>
      <version> $Id: C130.xml,v 1.12 2012/12/22 15:22:18 jberndt Exp $ </version>
      <description> Models a Lockheed C-130 Hercules. </description>
      <note>
        This model was created using publicly available data, publicly available
        technical reports, textbooks, and guesses. It contains no proprietary or
        restricted data. If this model has been validated at all, it would be
        only to the extent that it seems to "fly right", and that it possibly
        complies with published, publicly known, performance data (maximum speed,
        endurance, etc.). Thus, this model is meant for educational and entertainment
        purposes only.

        This simulation model is not endorsed by the manufacturer. This model is not
        to be sold.
      </note>
    </fileheader>

    <metrics>
        <wingarea unit="FT2"> 3070.18 </wingarea>
        <wingspan unit="FT"> 132.5 </wingspan>
        <chord unit="FT"> 23.17 </chord>
        <htailarea unit="FT2"> 491.23 </htailarea>
        <htailarm unit="FT"> 48.88 </htailarm>
        <vtailarea unit="FT2"> 552.63 </vtailarea>
        <vtailarm unit="FT"> 0 </vtailarm>
        <location name="AERORP" unit="IN">
            <x> 586.5 </x>
            <y> 0 </y>
            <z> 0 </z>
        </location>
        <location name="EYEPOINT" unit="IN">
            <x> 93.8 </x>
            <y> -24 </y>
            <z> 65 </z>
        </location>
        <location name="VRP" unit="IN">
            <x> 0 </x>
            <y> 0 </y>
            <z> 0 </z>
        </location>
    </metrics>

    <mass_balance>
        <ixx unit="SLUG*FT2"> 3.66391e+06 </ixx>
        <iyy unit="SLUG*FT2"> 2.38552e+06 </iyy>
        <izz unit="SLUG*FT2"> 5.9669e+06 </izz>
        <ixy unit="SLUG*FT2"> -0 </ixy>
        <ixz unit="SLUG*FT2"> -0 </ixz>
        <iyz unit="SLUG*FT2"> -0 </iyz>
        <emptywt unit="LBS"> 105000 </emptywt>
        <location name="CG" unit="IN">
            <x> 586.5 </x>
            <y> 0 </y>
            <z> -29.3 </z>
        </location>
    </mass_balance>

    <ground_reactions>
        <contact type="BOGEY" name="NOSE_LG">
            <location unit="IN">
                <x> 152.5 </x>
                <y> 0 </y>
                <z> -140.8 </z>
            </location>
            <static_friction> 0.8 </static_friction>
            <dynamic_friction> 0.5 </dynamic_friction>
            <rolling_friction> 0.02 </rolling_friction>
            <spring_coeff unit="LBS/FT"> 52500 </spring_coeff>
            <damping_coeff unit="LBS/FT/SEC"> 17500 </damping_coeff>
            <max_steer unit="DEG"> 30 </max_steer>
            <brake_group> NONE </brake_group>
            <retractable>1</retractable>
        </contact>
        <contact type="BOGEY" name="LEFT_MLG">
            <location unit="IN">
                <x> 610 </x>
                <y> -174.9 </y>
                <z> -140.8 </z>
            </location>
            <static_friction> 0.8 </static_friction>
            <dynamic_friction> 0.5 </dynamic_friction>
            <rolling_friction> 0.02 </rolling_friction>
            <spring_coeff unit="LBS/FT"> 175000 </spring_coeff>
            <damping_coeff unit="LBS/FT/SEC"> 35000 </damping_coeff>
            <max_steer unit="DEG"> 0.0 </max_steer>
            <brake_group> LEFT </brake_group>
            <retractable>1</retractable>
        </contact>
        <contact type="BOGEY" name="RIGHT_MLG">
            <location unit="IN">
                <x> 610 </x>
                <y> 174.9 </y>
                <z> -140.8 </z>
            </location>
            <static_friction> 0.8 </static_friction>
            <dynamic_friction> 0.5 </dynamic_friction>
            <rolling_friction> 0.02 </rolling_friction>
            <spring_coeff unit="LBS/FT"> 175000 </spring_coeff>
            <damping_coeff unit="LBS/FT/SEC"> 35000 </damping_coeff>
            <max_steer unit="DEG"> 0.0 </max_steer>
            <brake_group> RIGHT </brake_group>
            <retractable>1</retractable>
        </contact>
    </ground_reactions>
    <propulsion>
        <engine file="t56">
            <feed>0</feed>
            <thruster file="t56_prop">
                <location unit="IN">
                    <x> 586.5 </x>
                    <y> -265 </y>
                    <z> -40 </z>
                </location>
                <orient unit="DEG">
                    <roll> 0.0 </roll>
                    <pitch> 0.0 </pitch>
                    <yaw> 0.0 </yaw>
                </orient>
            </thruster>
        </engine>
        <engine file="t56">
            <feed>1</feed>
            <thruster file="t56_prop">
                <location unit="IN">
                    <x> 586.5 </x>
                    <y> -265 </y>
                    <z> -40 </z>
                </location>
                <orient unit="DEG">
                    <roll> 0.0 </roll>
                    <pitch> 0.0 </pitch>
                    <yaw> 0.0 </yaw>
                </orient>
            </thruster>
        </engine>
        <engine file="t56">
            <feed>2</feed>
            <thruster file="t56_prop">
                <location unit="IN">
                    <x> 586.5 </x>
                    <y> 265 </y>
                    <z> -40 </z>
                </location>
                <orient unit="DEG">
                    <roll> 0.0 </roll>
                    <pitch> 0.0 </pitch>
                    <yaw> 0.0 </yaw>
                </orient>
            </thruster>
        </engine>
        <engine file="t56">
            <feed>3</feed>
            <thruster file="t56_prop">
                <location unit="IN">
                    <x> 586.5 </x>
                    <y> 265 </y>
                    <z> -40 </z>
                </location>
                <orient unit="DEG">
                    <roll> 0.0 </roll>
                    <pitch> 0.0 </pitch>
                    <yaw> 0.0 </yaw>
                </orient>
            </thruster>
        </engine>
        <tank type="FUEL">    <!-- Tank number 0 -->
            <location unit="IN">
                <x> 586.5 </x>
                <y> 0 </y>
                <z> -29.325 </z>
            </location>
            <capacity unit="LBS"> 1944.4 </capacity>
            <contents unit="LBS"> 972.2 </contents>
        </tank>
        <tank type="FUEL">    <!-- Tank number 1 -->
            <location unit="IN">
                <x> 586.5 </x>
                <y> 0 </y>
                <z> -29.325 </z>
            </location>
            <capacity unit="LBS"> 1944.4 </capacity>
            <contents unit="LBS"> 972.2 </contents>
        </tank>
        <tank type="FUEL">    <!-- Tank number 2 -->
            <location unit="IN">
                <x> 586.5 </x>
                <y> 0 </y>
                <z> -29.325 </z>
            </location>
            <capacity unit="LBS"> 1944.4 </capacity>
            <contents unit="LBS"> 972.2 </contents>
        </tank>
        <tank type="FUEL">    <!-- Tank number 3 -->
            <location unit="IN">
                <x> 586.5 </x>
                <y> 0 </y>
                <z> -29.325 </z>
            </location>
            <capacity unit="LBS"> 1944.4 </capacity>
            <contents unit="LBS"> 972.2 </contents>
        </tank>
        <tank type="FUEL">    <!-- Tank number 4 -->
            <location unit="IN">
                <x> 586.5 </x>
                <y> 0 </y>
                <z> -29.325 </z>
            </location>
            <capacity unit="LBS"> 1944.4 </capacity>
            <contents unit="LBS"> 972.2 </contents>
        </tank>
    </propulsion>
    <flight_control name="FCS: C130">
      <channel name="all">
        <summer name="Pitch Trim Sum">
            <input>fcs/elevator-cmd-norm</input>
            <input>fcs/pitch-trim-cmd-norm</input>
            <clipto>
                <min>-1</min>
                <max>1</max>
            </clipto>
        </summer>

        <aerosurface_scale name="Elevator Control">
            <input>fcs/pitch-trim-sum</input>
            <range>
                <min>-0.35</min>
                <max>0.3</max>
            </range>
            <output>fcs/elevator-pos-rad</output>
        </aerosurface_scale>

        <summer name="Roll Trim Sum">
            <input>fcs/aileron-cmd-norm</input>
            <input>fcs/roll-trim-cmd-norm</input>
            <clipto>
                <min>-1</min>
                <max>1</max>
            </clipto>
        </summer>

        <aerosurface_scale name="Left Aileron Control">
            <input>fcs/roll-trim-sum</input>
            <range>
                <min>-0.35</min>
                <max>0.35</max>
            </range>
            <output>fcs/left-aileron-pos-rad</output>
        </aerosurface_scale>

        <aerosurface_scale name="Right Aileron Control">
            <input>-fcs/roll-trim-sum</input>
            <range>
                <min>-0.35</min>
                <max>0.35</max>
            </range>
            <output>fcs/right-aileron-pos-rad</output>
        </aerosurface_scale>

        <summer name="Rudder Command Sum">
            <input>fcs/rudder-cmd-norm</input>
            <input>fcs/yaw-trim-cmd-norm</input>
            <clipto>
                <min>-1</min>
                <max>1</max>
            </clipto>
        </summer>

        <aerosurface_scale name="Rudder Control">
            <input>fcs/rudder-command-sum</input>
            <range>
                <min>-0.35</min>
                <max>0.35</max>
            </range>
            <output>fcs/rudder-pos-rad</output>
        </aerosurface_scale>

        <kinematic name="Flaps Control">
            <input>fcs/flap-cmd-norm</input>
            <traverse>
                <setting>
                    <position>0</position>
                    <time>0</time>
                </setting>
                <setting>
                    <position>15</position>
                    <time>4</time>
                </setting>
                <setting>
                    <position>30</position>
                    <time>3</time>
                </setting>
            </traverse>
            <output>fcs/flap-pos-deg</output>
        </kinematic>

        <aerosurface_scale name="Flap Position Normalizer">
          <input>fcs/flap-pos-deg</input>
          <domain>
            <min>0</min>  <!-- Flaps actual minimum position -->
            <max>30</max>  <!-- Flaps actual maximum position -->
          </domain>
          <range>
            <min>0</min>  <!-- Flaps normalized minimum position -->
            <max>1</max>  <!-- Flaps normalized maximum position -->
          </range>
          <output>fcs/flap-pos-norm</output>
        </aerosurface_scale>

        <kinematic name="Gear Control">
            <input>gear/gear-cmd-norm</input>
            <traverse>
                <setting>
                    <position>0</position>
                    <time>0</time>
                </setting>
                <setting>
                    <position>1</position>
                    <time>5</time>
                </setting>
            </traverse>
            <output>gear/gear-pos-norm</output>
        </kinematic>

        <kinematic name="Speedbrake Control">
            <input>fcs/speedbrake-cmd-norm</input>
            <traverse>
                <setting>
                    <position>0</position>
                    <time>0</time>
                </setting>
                <setting>
                    <position>1</position>
                    <time>1</time>
                </setting>
            </traverse>
            <output>fcs/speedbrake-pos-norm</output>
        </kinematic>
      </channel>
    </flight_control>
    <aerodynamics>

        <axis name="DRAG">
            <function name="aero/coefficient/CD0">
                <description>Drag_at_zero_lift</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                      <table>
                          <independentVar>aero/alpha-rad</independentVar>
                          <tableData>
                              -1.5700	1.5000
                              -0.2600	0.0500
                              0.0000	0.0250
                              0.2600	0.0500
                              1.5700	1.5000
                          </tableData>
                      </table>
                </product>
            </function>
            <function name="aero/coefficient/CDi">
                <description>Induced_drag</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>aero/cl-squared</property>
                    <value>0.0390</value>
                </product>
            </function>
            <function name="aero/coefficient/CDmach">
                <description>Drag_due_to_mach</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                      <table>
                          <independentVar>velocities/mach</independentVar>
                          <tableData>
                              0.0000	0.0000
                              0.7000	0.0000
                              1.1000	0.0230
                              1.8000	0.0150
                          </tableData>
                      </table>
                </product>
            </function>
            <function name="aero/coefficient/CDflap">
                <description>Drag_due_to_flaps</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>fcs/flap-pos-deg</property>
                    <value>0.001167</value>
                </product>
            </function>
            <function name="aero/coefficient/CDgear">
                <description>Drag_due_to_gear</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>gear/gear-pos-norm</property>
                    <value>0.0230</value>
                </product>
            </function>
            <function name="aero/coefficient/CDsb">
                <description>Drag_due_to_speedbrakes</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>fcs/speedbrake-pos-norm</property>
                    <value>0.0250</value>
                </product>
            </function>
            <function name="aero/coefficient/CDbeta">
                <description>Drag_due_to_sideslip</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                      <table>
                          <independentVar>aero/beta-rad</independentVar>
                          <tableData>
                              -1.5700	1.2300
                              -0.2600	0.0500
                              0.0000	0.0000
                              0.2600	0.0500
                              1.5700	1.2300
                          </tableData>
                      </table>
                </product>
            </function>
            <function name="aero/coefficient/CDde">
                <description>Drag_due_to_Elevator_Deflection</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>fcs/mag-elevator-pos-rad</property>
                    <value>0.0350</value>
                </product>
            </function>
        </axis>

        <axis name="SIDE">
            <function name="aero/coefficient/CYb">
                <description>Side_force_due_to_beta</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>aero/beta-rad</property>
                    <value>-1.0000</value>
                </product>
            </function>
        </axis>

        <axis name="LIFT">
            <function name="aero/coefficient/CLalpha">
                <description>Lift_due_to_alpha</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                      <table>
                          <independentVar>aero/alpha-rad</independentVar>
                          <tableData>
                              -0.2000	-0.7400
                              0.0000	0.2400
                              0.2400	1.4000
                              0.6000	0.7040
                          </tableData>
                      </table>
                </product>
            </function>
            <function name="aero/coefficient/dCLflap">
                <description>Delta_Lift_due_to_flaps</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>fcs/flap-pos-deg</property>
                    <value>0.02</value>
                </product>
            </function>
            <function name="aero/coefficient/dCLsb">
                <description>Delta_Lift_due_to_speedbrake</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>fcs/speedbrake-pos-norm</property>
                    <value>0.0000</value>
                </product>
            </function>
            <function name="aero/coefficient/CLde">
                <description>Lift_due_to_Elevator_Deflection</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>fcs/elevator-pos-rad</property>
                    <value>0.2000</value>
                </product>
            </function>
        </axis>

        <axis name="ROLL">
            <function name="aero/coefficient/Clb">
                <description>Roll_moment_due_to_beta</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>aero/beta-rad</property>
                    <value>-0.1000</value>
                </product>
            </function>
            <function name="aero/coefficient/Clp">
                <description>Roll_moment_due_to_roll_rate</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>aero/bi2vel</property>
                    <property>velocities/p-aero-rad_sec</property>
                    <value>-0.4000</value>
                </product>
            </function>
            <function name="aero/coefficient/Clr">
                <description>Roll_moment_due_to_yaw_rate</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>aero/bi2vel</property>
                    <property>velocities/r-aero-rad_sec</property>
                    <value>0.1500</value>
                </product>
            </function>
            <function name="aero/coefficient/Clda">
                <description>Roll_moment_due_to_aileron</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>fcs/left-aileron-pos-rad</property>
                      <table>
                          <independentVar>velocities/mach</independentVar>
                          <tableData>
                              0.0000	0.1500
                              2.0000	0.0500
                          </tableData>
                      </table>
                </product>
            </function>
            <function name="aero/coefficient/Cldr">
                <description>Roll_moment_due_to_rudder</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>fcs/rudder-pos-rad</property>
                    <value>0.0100</value>
                </product>
            </function>
        </axis>

        <axis name="PITCH">
            <function name="aero/coefficient/Cmalpha">
                <description>Pitch_moment_due_to_alpha</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/cbarw-ft</property>
                    <property>aero/alpha-rad</property>
                    <value>-0.4000</value>
                </product>
            </function>
            <function name="aero/coefficient/Cmde">
                <description>Pitch_moment_due_to_elevator</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/cbarw-ft</property>
                    <property>fcs/elevator-pos-rad</property>
                      <table>
                          <independentVar>velocities/mach</independentVar>
                          <tableData>
                              0.0000	-1.0000
                              2.0000	-0.2500
                          </tableData>
                      </table>
                </product>
            </function>
            <function name="aero/coefficient/Cmq">
                <description>Pitch_moment_due_to_pitch_rate</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/cbarw-ft</property>
                    <property>aero/ci2vel</property>
                    <property>velocities/q-aero-rad_sec</property>
                    <value>-22.0000</value>
                </product>
            </function>
            <function name="aero/coefficient/Cmadot">
                <description>Pitch_moment_due_to_alpha_rate</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/cbarw-ft</property>
                    <property>aero/ci2vel</property>
                    <property>aero/alphadot-rad_sec</property>
                    <value>-8.0000</value>
                </product>
            </function>
        </axis>

        <axis name="YAW">
            <function name="aero/coefficient/Cnb">
                <description>Yaw_moment_due_to_beta</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>aero/beta-rad</property>
                    <value>0.1200</value>
                </product>
            </function>
            <function name="aero/coefficient/Cnr">
                <description>Yaw_moment_due_to_yaw_rate</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>aero/bi2vel</property>
                    <property>velocities/r-aero-rad_sec</property>
                    <value>-0.1500</value>
                </product>
            </function>
            <function name="aero/coefficient/Cndr">
                <description>Yaw_moment_due_to_rudder</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>fcs/rudder-pos-rad</property>
                    <value>-0.1000</value>
                </product>
            </function>
            <function name="aero/coefficient/Cnda">
                <description>Adverse_yaw</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>fcs/left-aileron-pos-rad</property>
                    <value>-0.0080</value>
                </product>
            </function>
        </axis>
    </aerodynamics>
</fdm_config>
// This file instructs the automatic synchronization utilities where to
// install this aircraft and under what name.
//
// The syntax is easy;
// * the package name at the beginning of a new line followed by a colon
// * a space as a column separator
// * the path and filename relative to the aircraft install directory
//
// Currently known package names are: FlightGear

// Don't install in the FlightGear base package.
//FlightGear:
<?xml version="1.0"?>
<initialize name="reset00">
  <!--
    This file sets up the aircraft to start off
    from the runway in preparation for takeoff.
  -->
  <ubody unit="FT/SEC">    0.0  </ubody>
  <vbody unit="FT/SEC">    0.0  </vbody>
  <wbody unit="FT/SEC">    0.0  </wbody>
  <latitude unit="DEG">   47.0  </latitude>
  <longitude unit="DEG"> 122.0  </longitude>
  <phi unit="DEG">         0.0  </phi>
  <theta unit="DEG">       0.0  </theta>
  <psi unit="DEG">        45.0  </psi>
  <altitude unit="FT">    10.0  </altitude>
</initialize>
// This file instructs the automatic synchronization utilities where to
// install this aircraft and under what name.
//
// The syntax is easy;
// * the package name at the beginning of a new line followed by a colon
// * a space as a column separator
// * the path and filename relative to the aircraft install directory
//
// Currently known package names are: FlightGear

FlightGear: sopwithCamel/sopwithCamel1F1jsb.xml
http://forum.flightgear.org/viewtopic.php?f=4&t=19584


51 posts • Page 1 of 4 • 1234
New historically realistic Sopwith Camel JSBSim FDM released

Postby flug » Sun Mar 31, 2013 5:33 am
I've released a new JSBSim FDM for the Sopwith Camel that is as historically realistic as I can make it. Download the current version here:

http://brenthugh.com/flightgear/sopwith ... Sim-16.zip [ver 1.8, 1/9/2014]

- Choose the JSBSim version of the Camel, which is called "sopwithCamel-Bombable/JSBSim" in FGRun. The JSBSim FDM is my contribution to this project.
- A YASim version is included in the package for convenience and comparison, but it does not incorporate any of the historically realistic features that the JSBSim FDM includes. the YASim version flies much like a modern aircraft would.

In flying the existing Sopwith Camel flight models in Flightgear with Bombable in simulated combat situations, the shortcomings of these flight models became apparent to me. Flightgear flight models are typically designed and optimized for flying aircraft well within their design envelopes, as a commercial airline pilot does (and for good reason!). The FDMs work very well in those situations.

However, combat aircraft are often operated near the limits--or even over the limits--of their documented capabilities. Particularly for an aircraft like the Camel, working with and against the quirks of its design was an integral part of operating the aircraft in both everyday operations and in combat. These operational quirks were openly exploited by combat pilots.

As one writer said:

    I enjoyed flying the Camel, but its vices of control instability, extreme control sensitivity and pronounced gyroscopic effects all combined to create the impression of balancing an egg on the point of a needle rather than flying an aircraft . . .

    It was never forced into manoeuvres - they were executed by light pressure on the controls and subsequently relaxing, or sometimes reversing, the pressure once the desired rate of response was attained.



In flying the Camel in FlightGear/Bombable, I became curious about the real historical experience of flying a Camel. What about the famous strong gyroscopic effect that causes the nose to rise in a LH and drop in a RH turn? It's commented on by most every pilot who writes about flying the Camel, but (it turns out) impossible to implement in YASim. What about the famous sensitivity to the controls, the quick turns (especially to the right), and propensity to fall into spins, and all the rest?

I set out to create a flight model of the Camel that would incorporate as many of the documented combat flight characteristics of the Camel as possible, and in as realistic a way as possible. In addition, as of ver 1.3 it includes:

- More historically accurate lift/drag profile
- Historically accurate modelling of gyroscopic moment of engine and prop, which has very noticeable effects on turns and other maneuvers.
- More realistic start sequence
- Engine starves of fuel and stops in inverted/negative-G flight, just as in historical Camel; restarts when positive G flight resumes.
- Option of manual mixture control (fiddly engine controls are an often-mentioned feature of the Camel)

Ver. 1.6:
- Tweaked controls that better fit historic descriptions--but are far different (and generally, weaker and less effective) than controls on modern aircraft we are more familiar with. Particularly:

- Weak rudder, too weak to completely counter engines gyroscopic moment in fast turns.
- Ailerons have a vast amount of adverse yaw, a high amount of drag, and generally far less effective in inducing roll than you would expect from four such large barn-door-like affairs.
- Elevator is more powerful than the rudder or ailerons but still relatively weaker than in previous versions.

- First really convincing demonstration of the faster right/slower left turn characteristic cause by the gyroscopic moment of the rotary engine together with that other control characteristics of the aircraft. (Most obvious in sustained, constant speed, level turns at about 60-65 knots.)
- Generally smoother and
- Improved stall and spin response compared with ver. 1.3.
- Tweaked overall weight, center of gravity, fuel tanks, and a few other items mentioned by people who posted on this thread (THANK YOU!)

Ver. 1.8:
- Incorporated many suggestions made by users when the historically accurate Camel was Aircraft of the Month in May 2013.
- Improved spin characteristics--now it doesn't get 'stuck' in certain situations and just float straight down without getting into a spin.
- Improved realism of the control surfaces further, which further makes the difference in speed between left and right turns obvious
- Generally, further refinements to FDM and realism.

The new JSBSim FDM is my first try at accomplishing this--any feedback appreciated. It is included as part of the Bombable FG add-on package, but it also works as a free-standing aircraft (and installs alongside the existing Sopwith Camel, so it doesn't over-write anything.)

If this new FDM works for people, I'd like to see it included in the next FG release. I think it would be a simple drop-in addition to the existing FG 2.10 UIUC and YASim Sopwith Camel versions.
<?xml version="1.0"?>

<system name="automixture">
  <property value="1.">fcs/mixture-gain</property>
  <property value="1.">fcs/automixture-enable</property>

  <channel name="Clerget9B">
     
    <fcs_function name="systems/mixture-cmd">
      <function>
        <product>
          <table>
            <independentVar lookup="row">atmosphere/P-psf</independentVar>
            <!-- This keeps the engine at 1250 rpm  2013/04/15 -->
            <tableData>
                  <!--
                  50     0.075 
                  990    0.52 
                  1078   0.62325
                  1215.7 0.72225
                  1364.6 0.824
                  1679   0.714
                  2048   0.846
                  2110   0.86525
                  2500   1.0
                  -->
                  
                  <!-- 
                  50     0.075 
                  990    0.52
                  1208   0.5655
                  1470   0.6425
                  1671   0.725
                  2043   0.846
                  2111   0.86525
                  -->
                  
                  50     0.075 
                  990    0.52
                  1207   0.61775  <!-- wont reach 1250, about 1210 -->
                  1469   0.843
                  1684   0.78275
                  2048   0.9065
                  2113   0.934
                  2500   1.0
                  
                  
                  
                  
            </tableData>
          </table>
        </product>
      </function>
    </fcs_function>
    
    <switch name="systems/mixture-pos-norm">
      <default value="fcs/mixture-cmd-norm"/>
      <test value="systems/mixture-cmd">fcs/automixture-enable == 1</test>
    </switch>
    
    <pure_gain name="systems/mixture-pos-gain-norm">
      <input>systems/mixture-pos-norm</input>
      <gain>fcs/mixture-gain</gain>
      <output>fcs/mixture-pos-norm</output>
    </pure_gain>
  </channel>
</system>

<!-- Orig:

<pure_gain>
     <input>atmosphere/delta</input>
     <gain>1.0</gain>
     <output>/controls/engines/engine[0]/mixture</output>
    </pure_gain>

--><?xml version="1.0"?>

<system name="crash-detect">

  <property value="0">systems/crash-detect/crashed</property>
  <property value="1">terrain-info/terrain</property>

  <channel name="Over-G">

     <switch name="systems/crash-detect/over-g">
          <test value="1">                            
                accelerations/Nz gt 20.0
          </test>
          <output>systems/crash-detect/crashed</output>
     </switch>

  </channel>

  <channel name="impact-ground">

     <switch name="systems/crash-detect/impact">
          <test logic="AND" value="1">
                position/h-agl-ft lt 1.0
                simulation/sim-time-sec gt 1.0
                terrain-info/terrain gt 0.0
          </test>
          <output>systems/crash-detect/crashed</output>
     </switch>

  </channel>

  <channel name="impact-water">

     <switch name="systems/crash-detect/impact-water">
          <test logic="AND" value="1">
                position/h-agl-ft lt 4.5
                terrain-info/terrain eq 0.0
                simulation/sim-time-sec gt 1.0
                velocities/vg-fps lt 10
          </test>
          <output>systems/crash-detect/crashed</output>
     </switch>

  </channel>
  

  <!-- instead fo this 'freeze' thing we're using a nasal script to freeze/unfreeze -->
  <!-- <channel name="freeze">

    <switch name="systems/crash-detect/switch1">
          <default value="3"/>          
          <test value="0">
                systems/crash-detect/crashed eq 1
          </test>
          <output>simulation/integrator/position/rotational</output>
    </switch>
    <switch name="systems/crash-detect/switch2">
          <default value="3"/>          
          <test value="0">
                systems/crash-detect/crashed eq 1
          </test>
          <output>simulation/integrator/position/translational</output>
    </switch>
    <switch name="systems/crash-detect/switch3">
          <default value="3"/>          
          <test value="0">
                systems/crash-detect/crashed eq 1
          </test>
          <output>simulation/integrator/rate/rotational</output>
    </switch>
    <switch name="systems/crash-detect/switch4">
          <default value="3"/>          
          <test value="0">
                systems/crash-detect/crashed eq 1
          </test>
          <output>simulation/integrator/rate/translational</output>
    </switch>

  </channel>   -->

</system>
<?xml-stylesheet href="JSBSim.xsl" type="application/xml"?>

<!--

************************************************************************

JSBSim aerodynamic model for a Sopwith Camel 1F1 

Version: 1.6

Author: Brent Hugh, 6 May 2013

Goal: Create a flight model of the Camel that would incorporate as many of the documented combat flight characteristics of the Camel as possible, and in as realistic a way as possible.

Sources & Acknowledgements: See SopwithCamel-Realistic-JSBSim-Flight-Model-Notes.txt in the Docs subdirectory, other docs in that directory, and the notes below. 

************************************************************************

-->



<!-- Max sustained turn rate is about 76 deg/sec.  That is near stall speed, level flight, at sea level.  http://home.comcast.net/~clipper-108/AIAAPaper2005-119.pdf p. 7 -->

<!-- "I lived its quick response - it was so remarkably swift and sensitive that it demanded constant attention.  The torque caused the nose to rise in a left-hand turn and drop in a right-hand turn.  Fairly large amounts of left rudder were needed in bothturns to correct for these idiosyncrasis. The tiny biplane was so snesitive in a turn, however, that if the turn were tightened just a little, it was likely to whip into a tight spin - quickly and without warning.  Oddly this very ease for spining was used in combat by many pilots to shake a persisten German from their tails. sopwith Came vs Fokker Dr 1: Western Front 1917-18 by Jon Guttman, Harry Dempsey, quoting from mark Curtis Kinney's memoir, I Flew a Camel 

Here is a description about the Camel's traits from BARKER VC, (via author Wayne Ralph at http://www.theaerodrome.com/forum/2001/11306-sopwith-camel-flight-characteristics.html ):

Quote:

All the weight of the engine, guns, and pilot was concentrated in the first seven feet of a short 18-foot fuselage. The various models of rotary engine fitted to the Camel, from a 110-hp Le Rhone, to a 130-hp Clerget, to a 150-hp Bentley, had the propeller attached to the engine crankcase and the crankshaft to the aircraft so that the propeller and engine revolved together at more than 1250 rpm. This heavy whirling engine was lubricated continually by castor oil which was not recycled, but rather was burned in the combustion process and vented overboard, soaking the aircraft, the pilot's flying suit, helmet and goggles.
The gyroscopic forces that were generated varied in intensity based on a complex interaction of engine rpm, aircraft speed, and control input. The scout had a different character turning left or right, as did all the rotary-engined aeroplanes, but the Camel to an extreme degree. It was sluggish in left turns and the nose always pitched up, while right turns were very quick, with the nose dropping sharply. Without plenty of top (ie, left) rudder to correct the pitch down, it would spin.
A Camel pilot had to apply left rudder turning left or right, the amount varying with aircraft speed and engine rpm. Since the engine rotation countered the input of left stick and rudder, some pilots made all turns to the right because the aircraft was quicker through 270 degrees, than 90 degrees to the left. The Camel's elevator was powerful and sensitive, while the rudder was too small and relatively ineffective.
Coordinated turns demanded a fine touch. Correcting sideslip, the tendency of the aeroplane to slide to the inside of a banked turn, by applying opposite rudder, caused the Camel to tighten up in the turn. In steep turns over 45 degrees of bank, the aircraft tended to pitch up its nose, and tighten up its bank angle as speed reduced, requiring continual adjustments in the amount of forward pressure on the stick with engine rpm changes. In the words of test pilot W/C Paul A. Hartman, RCAF, the Camel has no 'dynamic longitudinal stability' in steep turns.
Accelerating the aircraft caused the nose to climb, and swing to the left. At 110 miles per hour, there was about 15 to 20 pounds of back force on the control column, which could not be trimmed out because the aircraft had no pilot-adjustable, moveable horizontal stabilizer. Therefore, Camel pilots had to fly two-to-three hour missions, continually applying forward pressure just to maintain level flight. Letting go resulted in the aircraft pitching up, and rolling inverted to the right. Moving the stick forward to enter a dive caused the Camel to yaw left because of gyroscopic force, and correcting this yaw with right rudder caused the nose to pitch down sharply. By today's standards the Camel was completely unacceptable, and yet many pilots of 1917-8, most with under 100 hours of flying time used it as a lethal weapon.

- - - 
http://www.theaerodrome.com/forum/2001/11306-sopwith-camel-flight-characteristics-3.html

 In those notes are a description of when and why the mixture had to be adjusted. If memory serves, it was perilously low to the ground, under 250 feet. The shift to left rudder would have to have taken place either just before or just after this, because the whole point of changing the mixture was that the engine would have been on the verge of choking, which means that you'd be trying to maintain flying speed.

My guess is that the shift would have to happen within 10-20 seconds of getting airborne under normal circumstances.

- - - 

"...all flights of these early machines were conducted from the grass surface of the airfield, not the paved runways, and the steerable tail skid of the Camel helped to overcome a slight swing to the left as I opened the throttle. The tail came up at about 20 knots.

As the speed reached 40 knots I eased the stick back slightly and the Camel became airborne. It accelerated rapidly to 55 knots and I held it in a climb at that speed until I reached 500 feet. I leveled off, leaned the mixture, and started a left hand turn. The gyroscopic effect from the rotary engine quickly became apparent...

...I enjoyed flying the Camel, but its vices of control instability, extreme control sensitivity and pronounced gyroscopic effects all combined to create the impression of balancing an egg on the point of a needle rather than flying an aircraft...it was never forced into manoeuvres - they were executed by light pressure on the controls and subsequently relaxing, or sometimes reversing, the pressure once the desired rate of response was attained.

By modern standards of stability and control, the Camel would be totally unacceptable as a military aircraft...

(quoted from Canada's National Aviation Museum - Its History and Collection, by K.M. Molson)

http://www.theaerodrome.com/forum/2001/11306-sopwith-camel-flight-characteristics.html



"As I opened the throttle I simultaneously applied full left rudder and as I became airborn I found that I had full left rudder on. (This was the answer always, as I afterwards found, and I was never in trouble again from this cause)"

August 98 issue of FLight journal has the flying of the Camel by Rich King. 160 Hp Gnome engine (yes, rotary)
qoute:
..Right rudder is needed to keep the Camel tracking straight ahead while it is on the runway, and as the tail comes up, I find that my rudder correction was right on. I m facing straight down the center of the runway.........A little back pressure on the control stick and the bumpy ground falls away behind me, and the Camels speed continues to increase at an exhilarating rate. A little forward pressure on the "closh handle" hold the aeroplane a few feet above the runway while its speed continues to increase. ....
Left Rudder is now needed to keep the racing Camel straight....." end quote

http://www.theaerodrome.com/forum/2001/11306-sopwith-camel-flight-characteristics-2.html


From the Frank Tallman book "Flying the old planes"...

My Sopwith Camel is, as far as I'm aware, the only original World War 1 Camel ever brought back to flying condition. It was originally owned by Colonel Jarrett of the Jarrett War Museum located on the old Steel Pier in Atlantic City; who in the 1930's had the best museum of WWI equipment ever assembled, including the Belgian War Museum in Brussels. The Jarrett Museum fell on hard times following WWII and, with time and money on my side after my service period, and a lifelong ambition of owning a WWI aircraft, I purchased for a small sum (by today's standards) several antique aircraft including the Camel, a Nieuport 28, a Pfalz D.XII, a Fokker D.VII and a SPAD VII.

The Camel was the first WWI aircraft I brought back to flying condition and required some major rebuilding, which took several years, many thousands of dollars and a whole host of experts including Paul Poberzney of the Experimental Aircraft Association, the gifted master craftsman Ned Kensinger, the Hawker Siddeley Group and a number of very dedicated volunteer's.

(NB: There is quite a bit on the rebuilding process in the Chapter but I have left it out of this extract for the sake of space).

When the day finally came to fly the air was filled with great anticipation. On arrival at the airport though I was dismayed to hear from my team that they had been trying to get the temperamental 110 h.p. Le Rhone started since 8.00am that morning, without success. The lack of knowledge amongst us regarding the Le Rhone was appalling. Did we have spark? Yes. Was the mag set? Yes. Had the commutator ring been wiped off? Yes. Had we primed it? Only every other cylinder.

With only a vague notion of what I was doing I clambered into the cockpit (a very tight fit) and reviewed the cord-wrapped Spade stick, the Block tube, carburettors next to one's knees, the flexible air intake to the outside air scoops, the wood wire brace longerons, the instrument panel with it's clutter and the duel control cables to the wooden rudder bar. At my request, the crew forced open the intake valves as the engine was pushed through (switch off) and shot a charge of fuel in each cylinder, as the cylinder came in front of the hole in the cowling. By accident, rather than by knowledge, I advanced the long lever controlling the air, and in pushing the manet (a small wheel knob on the miniature control quadrant) forward and then returning it, I had hit on the correct starting procedure. Wonder of wonders, as I flipped the porcelain-mounted switch up and called for contact, the Le Rhone started with a full-throated bellow, scaring both me and the crew!

By shoving the fuel-controlling lever forward and using the coupe (cut-out) button on the stick, I was able to keep the engine running. Soon the never-to-be-forgotten smell of castor oil infused our area, and the sight of oil splattering the leading edge of the low wings indicated that the engine was lubricating properly. Taxiing practice ended ignominiously a hundred feet from the starting point, when my newfound knowledge wasn't equal to the delicate adjustment of fuel and air, and the Le Rhone quit.

The revitalised ground crew hauled the 900 pound airplane over the grass and faced me into the wind. For safety sake we changed the plugs, and the Le Rhone started first try. I headed down the field with the throttle wide open. The tail came up almost instantly, and visibility was good, except for the Aldis sight and the twin Vickers. Not having planned on flight it came as something of a shock to find the Camel airborne at about 35 mph after a ground run of just 150 feet. Being afraid of jockeying with my ticklish fuel and air controls I stayed low and just got used to the Camel's sensitive ailerons, elevators and rudder.

I circled the field once, got into position for landing, shut fuel air and switch off, and made a light forward slip, touching down gently on three points. Total landing couldn't have been much longer than the initial take-off run.

So much for my first (unintentional) flight in the Camel.

Since then I've spent more time flying the Camel than any of the other historical aircraft in our collection. I've also had more forced landings in it than all the rest of the WWI aircraft combined. It's that temperamental Le Rhone. Cylinders have blown, magneto's have failed, even fouled spark plugs have brought me down unceremoniously, with sweating hands and my heart in my mouth, desperately seeking a patch of open ground on which to land. Yet for all that it's the one I turn to first for any show or exhibition, as the Camel gets my blood going like no other. This is an aircraft that is a joy to fly.

With the Le Rhone 9J, you cannot adjust either the fuel or air intake without running the risk of a dead-stick landing. You must leave them alone and use you Coupe (cut-out) button for all fight handling.

The take-off run is easy. In a wind of 10 to 15 knots you are airborne in a couple of plane lengths at 35 mph and climbing out at 60 mph, with a rate of climb of almost 1,000 feet a minute. The elevators are sensitive, as is the rudder. Consequently, when fling for any distance I often put the heels of my shoes on the floor tie wires, because the vibration of the Le Rhone through the rudder bar exaggerates the rudder movements.

In level flight at 100 mph indicated, the Camel is delightful, with just a hint of rudder being required for straight flight. The structure is rugged enough to feel comfortable in loops, and being slightly tail-heavy it goes up and over in an incredibly small circle in the sky, and faster than any other WWI aircraft I have flown. Sneeze and your halfway through a loop before your aware of what's happened. 110 mph is enough to carry you through, and as you slow down over the top you must feed in rudder against the torque.

In military shows I have ground strafed, and as soon as the airspeed reaches 130 to 140 mph the nose begins to hunt up and down, and the elevator becomes extremely sensitive. I feel this action is due largely to the square windshield between the two Vickers guns, causing a substantial burble over the tail surfaces.

Turns are what the Camel is all about. Turning to the right with the torque requires the top rudder to hold the nose up, and the speed with which you can complete a 360-degree turn is breathtaking. Left turns are slower, with the nose wanting to rise during the turn. But small rudder input easily keeps the nose level with the horizon. In stalls at 35 to 40 mph the nose drops frighteningly fast and hard to the right, but you also get control back quickly, although a surprising amount of altitude has been lost. I have had the pleasure of limited dog fighting with other WWI fighters, and there are none that can stay with a Camel in a turn.

With the Le Rhone being temperamental as it is, flying the Camel is best done at times when there are few other aircraft in the sky, leaving easy access to the airport in cases of emergency. The Camel touches down easily but runs out of rudder control almost instantly, and if you bounce your landing at all, you are likely to find yourself in a hairy ground loop looking at a rapidly bending aileron dragging in the grass.

For a wide variety of reasons, the Camel is a fascinating airplane, flight-wise as well as historically. But don't think I ever got out of the Camel after being airborne even in the coldest weather without buckets of perspiration and considerable gratitude that I had gotten the little girl home again without breaking her into splinters!

http://www.theaerodrome.com/forum/aircraft/45869-sopwith-camel-myth-6.html



Additional comments on Camel handling characteristics by  Victor Yeates, author of "Winged Victory" (yes, it's a fictional novel, but his experiences of flying a camel were realistic, and are a valid, honest description)...


Re training:

"Camels were wonderful fliers when you had got used to them, which took about three months of hard flying. At the end of that time you were either dead, a nervous wreck, or the hell of a pilot and a terror to Huns . . ."

Re turns:

"And in the more legitimate matter of vertical turns, nothing in the skies could follow in so tight a circle..."

Re the half-roll (Split S):

"The same with the half-roll. Nothing would half-roll like a Camel. A twitch of the stick and flick of the rudder and you were on your back. The nose dropped at once and you pulled out having made a complete reversal of direction in the least possible time.

Thomson, the squadron stunt expert told him that it (half-roll) was just the first half of a roll followed by the second half of a loop; the only stunt useful in fighting. If you were going the wrong way, it was the quickest known method of returning in your slipstream."

Re the loop (he didn't like looping a Camel):

"But a Camel had to be flown carefully round with exactly the right amount of left rudder, or else it would rear and buck and hang upside down and flop and spin."

Re general flight:

" . . . a Camel had to be held in flying position all the time, and was out of it in a flash. It was nose light, having a rotary engine weighing next to nothing per horse power, and was rigged tail heavy so that you had to be holding her down all the time. Take your hand off the stick and it would rear right up with a terrific jerk and stand on its tail."

Re ground strafing (which he hated due to ground anti-ac machine gun fire):

"Unfortunately, they were good machines for ground-strafing. They could dive straight down on anything, and when a few feet off the ground, go straight up again."

Re speed:"...a Camel was a wonderful machine in a scrap. If only it had been fifty per cent faster! There was the rub. A Camel could neither catch anything except by surprise, nor hurry away from an awkward situation, and seldom had the option of accepting or declining combat...You couldn't have everything."

http://www.theaerodrome.com/forum/aircraft/45869-sopwith-camel-myth-6.html

-->
<fdm_config name="Sopwith Camel" version="2.0" release="Alpha">

    <fileheader>
        <author> Brent Hugh</author>
        <filecreationdate> 2011-10-29 </filecreationdate>
        <description>Sopwith Camel with Weapons, matches available data for climb, max speed, general handling</description>
        <version>Version 1.6</version>
    </fileheader>

    <metrics>
        <!-- wing area 19.76 m^2 per sopwith-camel-specs-drawings-2-2.jpg, see docs directory-->
        <!-- Note: per wikipedia winspan is 28.0 ft & wing area is 231 ft^2-->
        <!-- Per http://aviation.technomuses.ca/collections/artifacts/aircraft/Sopwith2F1Camel/ :
              Wing Span	8.2 m (26 ft 11 in)
              Length	5.6 m (18 ft 6 in)
              Height	2.8 m (9 ft 1 in)
              Weight, Empty	434 kg (956 lb)
              Weight, Gross	691 kg (1,523 lb)
        -->
        <!-- This is Sw-sqft used many times below: -->
        <wingarea unit="FT2"> 212.6948698 </wingarea>
        
        <!--bw-ft used below: -->
        <wingspan unit="FT"> 26.91 </wingspan>
        <!-- wing chord calculated by measuring drawing sopwith-camel-specs-drawings-2-2.jpg; see calculations at Camel-JSBSim-calcs-2011-10D.xls sheet Camel Dimensions. -->
        <!-- See CamelVsFokker in Docs directory for possibly more accurate figures for all aircraft parts. -->
        <!-- Does the chord need to be doubled since this is a bi-plane? -->
        
        <!-- <chord unit="FT"> 4.5045 </chord> -->
        <!--cbarw-ft -->
        <chord unit="FT"> 9.01 </chord>
        
        <wing_incidence unit=""> 2.5 </wing_incidence>
        
        
        <!-- htailarea calculated by measuring drawing sopwith-camel-specs-drawings-2-2.jpg; see calculations at Camel-JSBSim-calcs-2011-10D.xls sheet Camel Dimensions
          But we assume 13.1 ft2 for htail, plus about half of elevator area (11.8 ft2) because the
          elevator is there but unless the pilot is holding it absolutely steady it doesn't really work to 
          stabilize as well as a fixed surface. -->
        <htailarea unit="FT2"> 19.6 </htailarea>
        
        <!-- htailarm calculated by measuring drawing sopwith-camel-specs-drawings-2-2.jpg; see calculations at Camel-JSBSim-calcs-2011-10D.xls sheet Camel Dimensions -->
        <htailarm unit="FT"> 12.38 </htailarm>
        
        
        <!--Indeed you are correct about the Rudder - it's area was a paltry 4.9 sq. ft. (and fin at 3 sq. ft.) http://www.theaerodrome.com/forum/aircraft/47951-sopwith-camel-myth-2-a.html 
        
        The pathetically small fixed area on the fin/rudder made the problems in yaw even worse. A pilot generally doesn't hold the rudder pedals stiffly enough 
for the rudder to contribute very much to yaw stability.

        http://www.djaerotech.com/dj_askjd/dj_questions/short_coupled.html  
         -->
        
        <!-- <vtailarea unit="FT2"> 7.90 </vtailarea> -->
        <!-- We'll say 3 sq ft for fin plus an additional 2 sq ft for
        the effect of the rudder -->
        <vtailarea unit="FT2"> 5 </vtailarea> 
        <!-- htailarm calculated by measuring drawing sopwith-camel-specs-drawings-2-2.jpg; see calculations at Camel-JSBSim-calcs-2011-10D.xls sheet Camel Dimensions -->
        <vtailarm unit="FT"> 13.66 </vtailarm>

        <location name="AERORP" unit="IN">
            <x> 47 </x>
            <y> 0 </y>
            <z> 0 </z>
        </location>
        <location name="EYEPOINT" unit="IN">
            <x> 29.25 </x>
            <y> -18 </y>
            <z> 57 </z>
        </location>
        <location name="VRP" unit="IN">
            <x> 0 </x>
            <y> 0 </y>
            <z> 0 </z>
        </location>
    </metrics>

    
    <mass_balance>
        <!-- iyy and izz are .3 X that of a typical plane of these dimensions due to Camel design concentrating mass v. close to c of g.  ixx is not affected by this
         design feature so remains unchanged. --> 
        <!-- <ixx unit="SLUG*FT2">708</ixx> -->
        <ixx unit="SLUG*FT2">740</ixx>
        <iyy unit="SLUG*FT2">182.7</iyy>
        <izz unit="SLUG*FT2">366.9</izz>
        <ixz unit="KG*M2">0</ixz>
        <iyz unit="KG*M2">0</iyz>
        <ixy unit="KG*M2">0</ixy>
        <emptywt unit="LBS">1210</emptywt>
        <!-- This was used in ver 1.0-1.3: 
        <location name="CG" unit="IN">
            <x>60</x>
            <y>0</y>
            <z>-5.62</z>
        </location>
        -->
        <!-- Updated CoG info, courtesy Simon,
         http://www.flightgear.org/forums/viewtopic.php?f=4&t=19584&start=30#p182202 
          x=111.8cm  = 44.012 in
          y=0
          z=8cm (above)
          -->
        <location name="CG" unit="IN">
            <x>44</x>
            <y>0</y>
            <z>3.54</z>
        </location>
        
        <pointmass name="Equipment">
            <form shape="ball">
               <radius unit="FT"> 3 </radius>
            </form> 
            <weight unit="LBS"> 90 </weight>
            <location name="cockpit_rear" unit="IN">
                <x> 80 </x>
                <y> 0 </y>
                <z> 0 </z>
            </location>
        </pointmass>
       <pointmass name="Castor Oil/Engine Lube">        
            <form shape="ball">
               <radius unit="FT"> 1.5 </radius>
            </form> 
            <!-- <weight unit="LBS"> 62.31 </weight>-->
            <weight unit="LBS"> 0 </weight>
            <location name="just_behind_engine" unit="IN">
                <x> 30 </x>
                <y> 0 </y>
                <z> 10.62 </z>
            </location>
        </pointmass>
    </mass_balance>

    <ground_reactions>
        <contact type="BOGEY" name="LEFT_MAIN">
            <location unit="IN">
                <x> 30 </x>
                <y> -29.06 </y>
                <z> -65 </z>
            </location>
            <static_friction> 0.99 </static_friction>
            <dynamic_friction> 0.9 </dynamic_friction>
            <rolling_friction> 0.02 </rolling_friction>
            <spring_coeff unit="LBS/FT"> 1000 </spring_coeff>
            <damping_coeff unit="LBS/FT/SEC"> 900 </damping_coeff>
            <max_steer unit="DEG"> 0 </max_steer>
            <brake_group> NONE </brake_group>
            <retractable> 0 </retractable>
        </contact>
        <contact type="BOGEY" name="RIGHT_MAIN">
            <location unit="IN">
                <x> 30 </x>
                <y> 29.06 </y>
                <z> -65 </z>
            </location>
            <static_friction> 0.99 </static_friction>
            <dynamic_friction> 0.9 </dynamic_friction>
            <rolling_friction> 0.02 </rolling_friction>
            <spring_coeff unit="LBS/FT"> 1000 </spring_coeff>
            <damping_coeff unit="LBS/FT/SEC"> 900 </damping_coeff>
            <max_steer unit="DEG"> 0 </max_steer>
            <brake_group> NONE </brake_group>
            <retractable> 0 </retractable>
        </contact>
        <contact type="BOGEY" name="TAIL">
            <location unit="IN">
                <x> 239 </x>
                <y> 0 </y>
                <z> -18 </z>
            </location>
            <static_friction> 5 </static_friction>
            <dynamic_friction> 5 </dynamic_friction>
            <rolling_friction> .1 </rolling_friction>
            <spring_coeff unit="LBS/FT"> 200 </spring_coeff>
            <damping_coeff unit="LBS/FT/SEC"> 195 </damping_coeff>
            <max_steer unit="DEG"> -20 </max_steer>
            <brake_group> NONE </brake_group>
            <retractable> 0 </retractable>
        </contact>
        <contact type="STRUCTURE" name="LEFT_WING">
            <location unit="IN">
                <x> 45 </x>
                <y> -164 </y>
                <z> -16.62 </z>
            </location>
            <static_friction> 0.8 </static_friction>
            <dynamic_friction> 0.5 </dynamic_friction>
            <rolling_friction> 0.5 </rolling_friction>
            <spring_coeff unit="LBS/FT"> 200 </spring_coeff>
            <damping_coeff unit="LBS/FT/SEC"> 195 </damping_coeff>
            <max_steer unit="DEG"> 0 </max_steer>
            <brake_group> NONE </brake_group>
            <retractable> 0 </retractable>
        </contact>
        <contact type="STRUCTURE" name="RIGHT_WING">
            <location unit="IN">
                <x> 45 </x>
                <y> 164 </y>
                <z> -12.62 </z>
            </location>
            <static_friction> 0.8 </static_friction>
            <dynamic_friction> 0.5 </dynamic_friction>
            <rolling_friction> 0.5 </rolling_friction>
            <spring_coeff unit="LBS/FT"> 200 </spring_coeff>
            <damping_coeff unit="LBS/FT/SEC"> 195 </damping_coeff>
            <max_steer unit="DEG"> 0 </max_steer>
            <brake_group> NONE </brake_group>
            <retractable> 0 </retractable>
        </contact>
        <contact type="BOGEY" name="LEFT_WING_REAR">
            <location unit="IN">
                <x> 125 </x>
                <y> -164 </y>
                <z> 18.62 </z>
            </location>
            <static_friction> 0.8 </static_friction>
            <dynamic_friction> 0.5 </dynamic_friction>
            <rolling_friction> 0.5 </rolling_friction>
            <spring_coeff unit="LBS/FT"> 200 </spring_coeff>
            <damping_coeff unit="LBS/FT/SEC"> 195 </damping_coeff>
            <max_steer unit="DEG"> 0 </max_steer>
            <brake_group> NONE </brake_group>
            <retractable> 0 </retractable>
        </contact>
        <contact type="BOGEY" name="RIGHT_WING_REAR">
            <location unit="IN">
                <x> 125 </x>
                <y> 164 </y>
                <z> -16.62 </z>
            </location>
            <static_friction> 0.8 </static_friction>
            <dynamic_friction> 0.5 </dynamic_friction>
            <rolling_friction> 0.5 </rolling_friction>
            <spring_coeff unit="LBS/FT"> 200 </spring_coeff>
            <damping_coeff unit="LBS/FT/SEC"> 195 </damping_coeff>
            <max_steer unit="DEG"> 0 </max_steer>
            <brake_group> NONE </brake_group>
            <retractable> 0 </retractable>
        </contact>
        <contact type="STRUCTURE" name="LEFT_WING_OUTER_TOP">
            <location unit="IN">
                <x> 85 </x>
                <y> -164 </y>
                <z> 24.62 </z>
            </location>
            <static_friction> 0.8 </static_friction>
            <dynamic_friction> 0.5 </dynamic_friction>
            <rolling_friction> 0.5 </rolling_friction>
            <spring_coeff unit="LBS/FT"> 200 </spring_coeff>
            <damping_coeff unit="LBS/FT/SEC"> 195 </damping_coeff>
            <max_steer unit="DEG"> 0 </max_steer>
            <brake_group> NONE </brake_group>
            <retractable> 0 </retractable>
        </contact>
        <contact type="BOGEY" name="RIGHT_WING_OUTER_TOP">
            <location unit="IN">
                <x> 85 </x>
                <y> 164 </y>
                <z> 24.62 </z>
            </location>
            <static_friction> 0.8 </static_friction>
            <dynamic_friction> 0.5 </dynamic_friction>
            <rolling_friction> 0.5 </rolling_friction>
            <spring_coeff unit="LBS/FT"> 200 </spring_coeff>
            <damping_coeff unit="LBS/FT/SEC"> 195 </damping_coeff>
            <max_steer unit="DEG"> 0 </max_steer>
            <brake_group> NONE </brake_group>
            <retractable> 0 </retractable>
        </contact>

        <contact type="BOGEY" name="NOSE">
            <location unit="IN">
                <x> 0 </x>
                <y> 0 </y>
                <z> 0 </z>
            </location>
            <static_friction> 2 </static_friction>
            <dynamic_friction> 2 </dynamic_friction>
            <rolling_friction> 2 </rolling_friction>
            <spring_coeff unit="LBS/FT"> 200 </spring_coeff>
            <damping_coeff unit="LBS/FT/SEC"> 300 </damping_coeff>
            <max_steer unit="DEG"> 0 </max_steer>
            <brake_group> NONE </brake_group>
            <retractable> 0 </retractable>
        </contact>

        <contact type="BOGEY" name="PROP_TOP">
            <location unit="IN">
                <x> -10 </x>
                <y> 0 </y>
                <z> 59 </z>
            </location>
            <static_friction> 2 </static_friction>
            <dynamic_friction> 2 </dynamic_friction>
            <rolling_friction> 2 </rolling_friction>
            <spring_coeff unit="LBS/FT"> 200 </spring_coeff>
            <damping_coeff unit="LBS/FT/SEC"> 300 </damping_coeff>
            <max_steer unit="DEG"> 0 </max_steer>
            <brake_group> NONE </brake_group>
            <retractable> 0 </retractable>
        </contact>
        <contact type="BOGEY" name="PROP_BOTTOM">
            <location unit="IN">
                <x> -10 </x>
                <y> 0 </y>
                <z> -59 </z>
            </location>
            <static_friction> 2 </static_friction>
            <dynamic_friction> 2 </dynamic_friction>
            <rolling_friction> 2 </rolling_friction>
            <spring_coeff unit="LBS/FT"> 200 </spring_coeff>
            <damping_coeff unit="LBS/FT/SEC"> 300 </damping_coeff>
            <max_steer unit="DEG"> 0 </max_steer>
            <brake_group> NONE </brake_group>
            <retractable> 0 </retractable>
        </contact>

        
        <contact type="BOGEY" name="WING_TOP">
            <location unit="IN">
                <x> 30 </x>
                <y> 0 </y>
                <z> 36 </z>
            </location>
            <static_friction> 2 </static_friction>
            <dynamic_friction> 2 </dynamic_friction>
            <rolling_friction> 2 </rolling_friction>
            <spring_coeff unit="LBS/FT"> 200 </spring_coeff>
            <damping_coeff unit="LBS/FT/SEC"> 300 </damping_coeff>
            <max_steer unit="DEG"> 0 </max_steer>
            <brake_group> NONE </brake_group>
            <retractable> 0 </retractable>
        </contact>

        <contact type="BOGEY" name="WING_TOP_MID_LEFT">
            <location unit="IN">
                <x> 30 </x>
                <y> -50 </y>
                <z> 36 </z>
            </location>
            <static_friction> 2 </static_friction>
            <dynamic_friction> 2 </dynamic_friction>
            <rolling_friction> 2 </rolling_friction>
            <spring_coeff unit="LBS/FT"> 200 </spring_coeff>
            <damping_coeff unit="LBS/FT/SEC"> 300 </damping_coeff>
            <max_steer unit="DEG"> 0 </max_steer>
            <brake_group> NONE </brake_group>
            <retractable> 0 </retractable>
        </contact>

        <contact type="BOGEY" name="WING_TOP_MID_RIGHT">
            <location unit="IN">
                <x> 30 </x>
                <y> 50 </y>
                <z> 36 </z>
            </location>
            <static_friction> 2 </static_friction>
            <dynamic_friction> 2 </dynamic_friction>
            <rolling_friction> 2 </rolling_friction>
            <spring_coeff unit="LBS/FT"> 200 </spring_coeff>
            <damping_coeff unit="LBS/FT/SEC"> 300 </damping_coeff>
            <max_steer unit="DEG"> 0 </max_steer>
            <brake_group> NONE </brake_group>
            <retractable> 0 </retractable>
        </contact>

        <contact type="BOGEY" name="MIDDLE_UPPER">
            <location unit="IN">
                <x> 70 </x>
                <y> 0 </y>
                <z> 36 </z>
            </location>
            <static_friction> 2 </static_friction>
            <dynamic_friction> 2 </dynamic_friction>
            <rolling_friction> 2 </rolling_friction>
            <spring_coeff unit="LBS/FT"> 200 </spring_coeff>
            <damping_coeff unit="LBS/FT/SEC"> 300 </damping_coeff>
            <max_steer unit="DEG"> 0 </max_steer>
            <brake_group> NONE </brake_group>
            <retractable> 0 </retractable>
        </contact>

        <contact type="BOGEY" name="MIDDLE_BACK_UPPER">
            <location unit="IN">
                <x> 130 </x>
                <y> 0 </y>
                <z> 36 </z>
            </location>
            <static_friction> 2 </static_friction>
            <dynamic_friction> 2 </dynamic_friction>
            <rolling_friction> 2 </rolling_friction>
            <spring_coeff unit="LBS/FT"> 200 </spring_coeff>
            <damping_coeff unit="LBS/FT/SEC"> 300 </damping_coeff>
            <max_steer unit="DEG"> 0 </max_steer>
            <brake_group> NONE </brake_group>
            <retractable> 0 </retractable>
        </contact>

        <contact type="BOGEY" name="BACK_UPPER">
            <location unit="IN">
                <x> 180 </x>
                <y> 0 </y>
                <z> 36 </z>
            </location>
            <static_friction> 2 </static_friction>
            <dynamic_friction> 2 </dynamic_friction>
            <rolling_friction> 2 </rolling_friction>
            <spring_coeff unit="LBS/FT"> 200 </spring_coeff>
            <damping_coeff unit="LBS/FT/SEC"> 300 </damping_coeff>
            <max_steer unit="DEG"> 0 </max_steer>
            <brake_group> NONE </brake_group>
            <retractable> 0 </retractable>
        </contact>



        <contact type="BOGEY" name="TAIL_TOP">
            <location unit="IN">
                <x> 239 </x>
                <y> 0 </y>
                <z> 36 </z>
            </location>
            <static_friction> 2 </static_friction>
            <dynamic_friction> 2 </dynamic_friction>
            <rolling_friction> 2 </rolling_friction>
            <spring_coeff unit="LBS/FT"> 200 </spring_coeff>
            <damping_coeff unit="LBS/FT/SEC"> 300 </damping_coeff>
            <max_steer unit="DEG"> 0 </max_steer>
            <brake_group> NONE </brake_group>
            <retractable> 0 </retractable>
        </contact>

        
    </ground_reactions>

    <propulsion>
        <engine file="Clerget9B">
            <feed>0</feed>
            <thruster file="CamelProp">
                <!--OK, the docs say that sense =1 for CW propeller as seen
                from the cockpit.  The camel has a CW propeller by every example
                I've been able to find. This source definitely says, "The 
                direction of rotation was counter-clockwise as seen from the 
                propeller-end of the engine." The photos also show a CCW (from 
                propeller-end) rotating prop.  That would be clockwise as seen 
                from the pilot's seat and sense=1. 
                http://www.gracesguide.co.uk/Clerget
                 
                But sense=1 makes the Camel climb on RH 
                turn and dive on LH turn.  Lots of sources say the opposite,
                especially including this experienced pilot who is clearly 
                flying a craft with a CW propeller (as seen from cockpit) and 
                yet he says the Camel dives on RH turn and climbs on LH.
                
                 http://www.youtube.com/watch?v=j6PnKUEFX8g
                
                Wikipedia says, "To easily ascertain the direction of gyro effect, simply remember that a rolling wheel tends, when it leans to the side, to turn in the direction of the lean." http://en.wikipedia.org/wiki/Gyroscope#Properties That means, for a CW (from the rear) propeller, a turn to the right causes nose to drop, exactly what is reported for the Camel.
                
                My conclusion is that JSBSim has it backwards and sense=1 corresponds to CCW rotation of the prop, as seen from the rear, as far as gyroscopic moment is concerned.

				However, as far as p_factor & torque is concerned, JSBSim seems to have it right.
                
                So what we're going to do is put in sense=1 here to get correct p_factor and torque effects, but then put in a correction down in the aero section
				to correct the moments, which JSBSim seems to have reversed.
                -->
                <sense>-1</sense>
                <location unit="IN">
                    <x> 0 </x>
                    <y> 0 </y>
                    <z> 0 </z>
                </location>
                <orient unit="DEG">
                    <roll> 0 </roll>
                    <pitch> 0 </pitch>
                    <yaw> 0 </yaw>
                </orient>
            </thruster>
        </engine>
        <!-- Fuel is behind the pilot, 22 gal, 133.6 lb.  Appears to be
          about half way between nose & tail.  With fuel full, 
          AC was tailheavy acc to http://www.theaerodrome.com/forum/2000/9166-sopwith-camel-facts-2.html With fuel empty, nose heavy. 
         
         The above 22 gal figure appears to be incorrect (though 2X22gallon tanks = 37 Imperial Gallons, so perhaps that explains the discrepancy), here is more detail:
         
         http://www.theaerodrome.com/forum/aircraft/58481-sopwith-camel-fuel-tank-capacities.html    
           Bruce Robertson in 'Sopwith - The man and his Aircraft' has the following Fuel and Oil capacities for the Sopwith Camel in his data tables:
F.1/1 130hp Clerget - 37 galls. of fuel, no oil given.
TF.1 110 hp Le Rhone - 37 galls. fuel, 2 1/2 galls. oil.
F.1 150 hp Mono Gnome - 27 1/2 galls. fuel, 5 1/4 galls. oil.
F.1 180 hp Le Rhone - 26 1/4 galls fuel, 5 1/4 galls. oil.
F.1 150 hp BR.1 - 37 galls. fuel, 5 1/4 galls. oil.
F.1 150 hp BR.1 HC - 37 galls. fuel, 5 1/4 galls. oil.
2F.1 130 hp Clerget - 37 galls. fuel, 5 1/2 galls. oil.
2F.1 150 hp BR.2 - 37 galls. fuel, 5 1/2 galls. oil.

Jack Bruce's 'British Aeroplanes 1914-1918', page 589, the tankage is - Petrol: main (pressure) tank, 30 gallons; gravity tank, 7 gallons; total 37 gallons. Oil: 6 1/2 gallons. (all imperial).

More: 
130 HP Clerget - 243 lb.
110 HP Le Rhone - 252 lb.
150 HP AR.1 - 250 lb.
100 HP Gnome Monosoupape - 224 lb.
150 HP Gnome Monosoupape - 230 lb.
180 HP Le Rhone - 238 lb.

2.F.1 Camel:
130 HP Clerget - 286 lb.
150 HP BR.1 - 223 lb.

Taper Wing Camel:
130 HP Clerget - 252 lb.

We're modeling the 130 HP Clerget here, so 30 imp. gal in one tank and 7 in the other; plus 6.5 imperial gallons oil just behind engine.  Gasoline is 6.1 lbs per gallon and castor oil is    956 kg/m^3 or 7.97820666 pounds per u.s. gallon.  
 30 imp gal = 36.0285 gal = 219.8 lbs
  7 imp gal = 8.40665 gal = 51.3 lbs
  6.5 imp gal = 30 liters = 7.81 gal = 62.31 lbs 
          
  TODO: Not sure if fuel tanks need more code to draw from one to the other or switch between them.
  TODO: Oil is just a pointmass & doesn't empty throughout the flight (see Castor Oil below under pointmass).        
          -->
        <tank type="FUEL">
            <location unit="IN">
                <x> 90 </x>
                <y> 0 </y>
                <z> -5.62 </z>
            </location>
            <capacity unit="LBS">219.8</capacity>
            <contents unit="LBS">219.8</contents>
        </tank>
          <tank type="FUEL">
            <location unit="IN">
                <x> 60 </x>
                <y> 0 </y>
                <z> -5.62 </z>
            </location>
            <capacity unit="LBS">51.3</capacity>
            <contents unit="LBS">51.3</contents>
        </tank>
    </propulsion>

    <flight_control name="FCS: Camel">

        <channel name="Pitch">

            <summer name="Pitch Trim Sum">
              <input>fcs/elevator-cmd-norm</input>
              <input>fcs/pitch-trim-cmd-norm</input>
              <clipto>
                <min>-1</min>
                <max>1</max>
              </clipto>
            </summer>

            <aerosurface_scale name="Elevator Control">
              <input>fcs/pitch-trim-sum</input>
              <range>
                <min>-0.55</min>
                <max>0.55</max>
              </range>
              <output>fcs/elevator-pos-rad</output>
            </aerosurface_scale>

            <aerosurface_scale name="elevator normalization">
              <input>fcs/elevator-pos-rad</input>
              <domain>
                <min>-0.35</min>
                <max>0.35</max>
              </domain>
              <range>
                <min>-1</min>
                <max>1</max>
              </range>
              <output>fcs/elevator-pos-norm</output>
            </aerosurface_scale>

        </channel>

        <channel name="Roll">

            <summer name="Roll Trim Sum">
              <input>fcs/aileron-cmd-norm</input>
              <input>fcs/roll-trim-cmd-norm</input>
              
              <!-- This bias value just trims out the ailerons a bit so that
              the Camel doesn't require continual aileron input under
              full power.   -->
              <!-- <bias> 0.11825 </bias> -->
              <clipto>
                <min>-1</min>
                <max>1</max>
              </clipto>
            </summer>

            <aerosurface_scale name="Left Aileron Control">
              <input>fcs/roll-trim-sum</input>
              <range>
                <min>-0.35</min>
                <max>0.35</max>
              </range>
              <output>fcs/left-aileron-pos-rad</output>
            </aerosurface_scale>
            

            <aerosurface_scale name="Right Aileron Control">
              <input>fcs/roll-trim-sum</input>
              <range>
                <min>-0.35</min>
                <max>0.35</max>
              </range>
              <output>fcs/right-aileron-pos-rad</output>
            </aerosurface_scale>

            <aerosurface_scale name="left aileron normalization">
              <input>fcs/left-aileron-pos-rad</input>
              <domain>
                <min>-0.35</min>
                <max>0.35</max>
              </domain>
              <range>
                <min>-1</min>
                <max>1</max>
              </range>
              <output>fcs/left-aileron-pos-norm</output>
            </aerosurface_scale>

            <aerosurface_scale name="right aileron normalization">
              <input>fcs/right-aileron-pos-rad</input>
              <domain>
                <min>-0.35</min>
                <max>0.35</max>
              </domain>
              <range>
                <min>-1</min>
                <max>1</max>
              </range>
              <output>fcs/right-aileron-pos-norm</output>
            </aerosurface_scale>

        </channel>

        <channel name="Yaw">

            <summer name="Rudder Command Sum">
              <input>fcs/rudder-cmd-norm</input>
              <input>fcs/yaw-trim-cmd-norm</input>
              <clipto>
                <min>-0.35</min>
                <max>0.35</max>
              </clipto>
            </summer>

            <aerosurface_scale name="Rudder Control">
              <input>fcs/rudder-command-sum</input>
              <range>
                <min>-0.35</min>
                <max>0.35</max>
              </range>
              <output>fcs/rudder-pos-rad</output>
            </aerosurface_scale>

            <aerosurface_scale name="rudder normalization">
              <input>fcs/rudder-pos-rad</input>
              <domain>
                <min>-0.35</min>
                <max>0.35</max>
              </domain>
              <range>
                <min>-1</min>
                <max>1</max>
              </range>
              <output>fcs/rudder-pos-norm</output>
            </aerosurface_scale>

        </channel>

        <channel name="Throttle">
            <!-- This is a bit of a kludge to reduce the Camel service ceiling to 19,600 ft, and reduce performance above 12,000 as reported at the time. 
            This function simply reduces throttle at these altitudes to give lower engine performance.-->
            <scheduled_gain name="fcs/pitch_scheduled_gain_1">
                <input>fcs/throttle-cmd-norm</input>
                <table>
                    <independentVar>atmosphere/pressure-altitude</independentVar>
                      <tableData>
                      -10000 1
                      11000  1
                      19600  .58
                      </tableData>
                 </table>
                 <output>fcs/throttle-pos-norm</output>
            </scheduled_gain>

        </channel>
        
        

    </flight_control>

    
    <system file="crash-detect"/>
    <system file="automixture"/>
    
    <aerodynamics>
            <function name="aero/function/kCDge">
            <description>Change_in_drag_due_to_ground_effect</description>
            <product>
                  <table>
                      <independentVar>aero/h_b-mac-ft</independentVar>
                      <tableData>
                          0.0000	0.4800
                          0.1000	0.5150
                          0.1500	0.6290
                          0.2000	0.7090
                          0.3000	0.8150
                          0.4000	0.8820
                          0.5000	0.9280
                          0.6000	0.9620
                          0.7000	0.9880
                          0.8000	1.0000
                      </tableData>
                  </table>
            </product>
        </function>

        <function name="aero/function/kCLge">
            <description>Change_in_u_due_to_ground_effect</description>
            <product>
                  <table>
                      <independentVar>aero/h_b-mac-ft</independentVar>
                      <tableData>
                          0.0000	1.2030
                          0.1000	1.1270
                          0.1500	1.0900
                          0.2000	1.0730
                          0.3000	1.0460
                          0.4000	1.0550
                          0.5000	1.0190
                          0.6000	1.0130
                          0.7000	1.0080
                          0.8000	1.0060
                          0.9000	1.0030
                          1.0000	1.0020
                          1.1000	1.0000
                      </tableData>
                  </table>
            </product>
        </function>
        <!-- Below two functions from c172p.xml, FG2.10 -->
        <function name="aero/function/velocity-induced-fps">
            <description> velocity including the propulsion induced velocity.</description>
            <sum>
                <property>velocities/u-aero-fps</property>
                <property>propulsion/engine/prop-induced-velocity_fps</property>
                <property>propulsion/engine/prop-induced-velocity_fps</property>
            </sum>
        </function> 

        <function name="aero/function/qbar-induced-psf">
            <description> q bar including the propulsion induced velocity.</description>
            <product>
                <property>aero/function/velocity-induced-fps</property>
                <property>aero/function/velocity-induced-fps</property>
                <property>atmosphere/rho-slugs_ft3</property>
                <value>0.5</value>
            </product>
        </function> 
    
        <axis name="LIFT" unit="LBS">
            <function name="aero/force/Lift_alpha">
                <description>Lift due to alpha</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>aero/function/kCLge</property>
                    <!-- 1.4 candidate <value>1.4</value> -->
                    <value>1.4</value>
                    <table>
                        <!--
                        <independentVar>aero/alpha-rad</independentVar>
                        <tableData>
                          -0.2          -0.5        
                          0             0.15        
                          0.23          1           
                          0.3           1.03        
                          0.6           0.4         
                        </tableData>
                        -->
                        <!-- the lift data is based on wind tunnel data from:
                          On the Effect of Cutting a Hole in the Top Plan of a Biplane
                          By C.H. Powell, Repots and Memoranda (New Series), No. 419, Feb 1918
                          That includes data for the wings only, so it has been
                          massaged to approximate the entire AC and also extended
                          to create data for -90 to 90 degrees.  See 
                          Camel-JSBSim-calcs-2011-10D.xls in Docs directory for details.
                        -->  
                        
                        <independentVar>aero/alpha-deg</independentVar>
                        <tableData>                        
<!-- -90	0
-60	-0.1
-30	-0.4
-20	-0.6
-14	-0.512
-12	-0.449
-10	-0.379
-8	-0.306
-6	-0.2444
-4	-0.116
-3	-0.0484
-2	0.018
-1	0.0804
0	0.148
1	0.2254
2	0.3054
3	0.379
4	0.449
5	0.512
6	0.574
8	0.69
10	0.79
12	0.896
14	0.99
16	1.062
18	1.066
20	1.042
30	0.7
60	0.3
90	0 -->

-90	0
-60	-0.1
-30	-0.4
-20	-0.6
-14	-0.512
-12	-0.449
-10	-0.379
-8	-0.306
-6	-0.2444
-4	-0.116
-3	-0.0484
-2	0.018
-1	0.0804
0	0.148
1	0.2254
2	0.3054
3	0.379
4	0.449
4.5	0.512
5	0.574
6	0.69
7	0.79
8 0.896
9	0.99
10	1.062
11	1.066
12	1.042
17	0.7
20  0.5
23  0.7
26  0.5
30  0.2
60	0.1
90	0
                        </tableData>                  
                        <!-- The lift data from LesterBoffo -->
                        <!--
                        <independentVar>aero/alpha-rad</independentVar>
                        <tableData>                        
                          -0.2793        -1.298    
                          -0.1396        -0.5118    
                          -0.1047        -0.3244    
                          -0.0698        -0.1446    
                          -0.0349        0.0581
                           0.000         0.170
                           0.01745       0.355    
                           0.03491       0.536
                           0.0428        0.69
                           0.0523        0.84   
                           0.06981       0.984    
                           0.1047         1.045    
                           0.1396         1.18    
                           0.1745         1.316    
                           0.1918         1.59    
                           0.2443         1.565    
                           0.2793         1.491    
                           0.3142         1.383    
                           0.3316         1.214    
                           0.3491         1.191    
                           0.3665         1.037    
                           0.3840         0.8031    
                           0.436         0.6785
                        </tableData>
                        -->
                        
                    </table>
                </product>
            </function>
            <function name="aero/force/Lift_elevator">
                <description>Lift due to Elevator Deflection</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>fcs/elevator-pos-rad</property>
                    <!-- Aeromatic: <value>0.15</value> -->
                    <value>0.05</value>
                </product>
            </function>
        </axis>
        <axis name="DRAG" unit="LBS">
            <function name="aero/force/Drag_basic">
                <description>Drag at zero lift</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <!--  Zero Lift Drag Coefficient for Camel is 0.0378 per http://en.wikipedia.org/wiki/Sopwith_Camel-->
                    <!-- Cruising speed for Camel with 130 HP Clerget, per SopwithCamelSpecs-1955.pdf - Flight, "Sopwith Camel", 22 April 1955, is 
                          115 mph @ 6500 ft      = 99.3 kts      
                          113 mph @ 10000 ft     = 98.2 kts
                          106.5 mph @ 15000 ft   = 92.5 kts
                          
                          2013/04/13 measured w/ 0.0378 for Cd0:
                           6500 = 100.4 kts IAS  115.2 KTS GROUNDSPEED   110.8 kts vtrue
                           10000 = 92.5 kts IAS  110.7 KTS GROUNDSPEED   107.7 kts vtrue
                           15000 = 82.8 kts IAS  109.2 KTS GROUNDSPEED   104.8 kts vtrue
                           
                           2013/04/13 measured w/ 0.0478 for Cd0:
                           6500 = 91.9 kts IAS   97.49 KTS GROUNDSPEED   101.8 kts vtrue
                           10000 = 85.7 kts IAS  100.4 KTS GROUNDSPEED   99.9 kts vtrue
                           15000 = 76.0 kts IAS  91.2  KTS GROUNDSPEED   95.7  kts vtrue

                           2013/04/13, later, measured w/ 0.0378 for Cd0 and numerous other changes to lift/drag to make the 10,000 ft climb perf chart at Camel JSBSim Climb vs Speed1.3a in Camel-JSBSim-calcs-2011-10D.xls:
                           6500 =  86.5 kts IAS    96.0 kts vtrue
                           10000 = 81.5 kts IAS    95.3 kts vtrue
                           15000 = 75.3 kts IAS    95.5 kts vtrue
                           
                           2013/04/15
                           6500 = 100.8 vtrue 
                           10000 = 96.5 vtrue
                           15000 = 90.3 vtrue
                           
                         
                         Climb to
                          6500 ft = 6 min 0 sec
                          10000 ft = 10 min 35 sec
                          15000 ft = 20 min 40 sec
                    
                    -->
                  
                    <value>0.0378 </value>
                </product>
            </function> 

            <function name="aero/force/Drag_induced">
                <description>Induced drag</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>aero/function/kCDge</property>
                    <!-- ver 1.4 candidate <value>1.5</value> --> <!-- because the drag data is from the wings only we use this factor to adjust is so that it matches published speed & climb data for the Camel A/C as a whole -->
                    <value>1.5</value>
                    <table>
                        <independentVar>aero/alpha-deg</independentVar>                    
                        <tableData>
-90	2.79
-60	1.39
-30	0.39
-20	0.11
-14	0.067
-12	0.054
-10	0.043
-8	0.033
-6	0.0264
-4	0.005
-3	0.003
-2	0.002
-1	0.001
0	0
1	0.001
2	0.005
3	0.0075
4	0.0085
5	0.0105
6	0.015
8	0.025
10	0.032
12	0.045
14	0.0633
16	0.08
18	0.125
20	0.22
30	0.39
60	1.39
90	2.79

                        </tableData>
                    </table>   
                </product>
            </function>
            
            <function name="aero/force/Drag_mach">
                <description>Drag due to mach</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <table>
                        <independentVar>velocities/mach</independentVar>
                        <tableData>
                          0             0           
                          0.7           0           
                          1.1           0.023       
                          1.8           0.015       
                        </tableData>
                    </table>
                </product>
            </function>
            
            <function name="aero/force/Drag_beta">
                <description>Drag due to sideslip</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <value>1.5</value>
                    <table>
                        <!--
                        <independentVar>aero/beta-rad</independentVar>
                        <tableData>
                          -1.57         0.5        
                          -0.26         0.05        
                          0             0           
                          0.26          0.05        
                          1.57          0.5        
                        </tableData>
                        -->
                        <!-- Switching this to degrees just for
                        consistency with alpha drag -->
                        
                        <independentVar>aero/beta-deg</independentVar>
                        <tableData>
                         -180           0
                         -160           .2
                          -90           1.2        
                          -30           0.15    
                          -10           0.02    
                          0             0
                          10            0.02
                          30.0          0.15        
                          90            1.2
                          160           .2
                          180           0
                        </tableData>
                        
                    </table>
                </product>
            </function>
            
            <function name="aero/force/Drag_elevator">
                <description>Drag due to Elevator Deflection</description>
                <product> 
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <abs>
                        <property>fcs/elevator-pos-norm</property>
                    </abs>
                    <!--Aeromatic: 0.02 -->
                    <value>0.015</value>
                </product>
            </function>
            
            <!-- Camels large (but ineffective) 'barn door' ailerons produced 
            'awe-inspiring' amounts of adverse yaw and also a great deal of drag. With no 
            rudder correction it falls into a deep side-slip within a few seconds. 
            http://riseofflight.com/Forum/download/file.php?id=31942&mode=view
            -->
            <function name="aero/force/Drag_left_aileron">
                <description>Drag due to Left Aileron Deflection</description>
                <product> 
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <abs>
                        <property>fcs/left-aileron-pos-norm</property>
                    </abs>
                    <!--Aeromatic for Elevators: 0.02 
                    Each aileron is nearly as large as the Elevator and there
                    are two of them on each side . . .
                    Max aileron deflection is about 15 degrees, per 
                    http://www.theaerodrome.com/forum/replica-aircraft/43868-airdrome-f-1-camel-64.html    
                    .04 seems to work OK. 
                     
                    Ballpark calculations:
                    Based on idea the fully deployed ailerons are about as draggy as say 1/3 the clean A/C (.0378 drag coefficient, so 0.0126) or as say 2/15 of the total wing drag @ 15 degrees alpha, which would be about .07 * 1.5 * 2/15 = .014
                    -->
                    <value>0.006</value>  <!-- ver 1.6 value .015 -->
                </product>
            </function>
            <function name="aero/force/Drag_right_aileron">
                <description>Drag due to Right Aileron Deflection</description>
                <product> 
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <abs>
                        <property>fcs/right-aileron-pos-norm</property>
                    </abs>
                    <!--Aeromatic for Elevators: 0.02 
                    Each aileron is nearly as large as the Elevator and there
                    are two of them on each side . . . 
                    -->
                    <value>0.006</value>  <!-- ver 1.6 value .015 -->
                </product>
            </function>


        </axis>
        <axis name="SIDE" unit="LBS">
            <function name="aero/force/Side_beta">
                <description>Side force due to beta</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <!--Aeromatic: <property>aero/beta-rad</property>
                    <value>-1</value> -->
                    <value>2</value> <!-- 1.6b experiment -->
                    <table>
                          <independentVar lookup="row">aero/beta-deg</independentVar>
                          <!-- Based on values from c172p plus generic wing lift graph data-->
                          <tableData>
                              -90     0
                              -15	    0.1370	
                              0.0000	0.0000	
                              15	    -0.1370
                              90      0	
                          </tableData>
                      </table>
                </product>
            </function>
        </axis>
        
        <axis name="ROLL" unit="LBS*FT">
            <!-- This is to compensate for the fact the JSBSim has the direction of the gyroscopic moment from the propellor/engine 
            reversed.  So we're switching sense to -1 to compensate, but then Torque is reversed.  So
            We're using this function to reverse the torque. -->
            <!--  Note for dummies:   
              X = Axial drag force
              Y Side Force
              Z Normal Lift force
            
              l = roll (moments)
              m = pitch
              n = yaw
              
              p Roll Rate
              q Pitch Rate
              r Yaw Rate
              
              U Axial Velocity
              V Lateral Velocity
              W Normal Velocity
            -->
              
           <!--  rem-ing this out for now --> 
              
     		    <function name="aero/moment/Roll_moment_prop_torque_jsbsim_correction">
                <description>This reverses the roll moment of the propeller, which we have reversed to compensate for the reversed sense of the gyroscopic moment in JSBSim</description>
                <product>
                    <property>moments/l-prop-lbsft</property>
                    <value>-2</value>
                </product>
            </function>
            
            
            <!-- Dihedral --> 
            <function name="aero/moment/Roll_beta">
                <description>Roll moment due to beta</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <!-- <property>aero/beta-rad</property> plain alpha-rad is OK for small values, but for larger than abs(1) or so, need sin(alpha-rad) instead-->
                    <!-- <sin>
                        <property>aero/beta-rad</property>
                    </sin> -->
                    
                    <table>
                        <independentVar>aero/beta-rad</independentVar>
                        <tableData>
                          -3.415            -0
                          -1                0
                          -.200             -0.2
                          0                  0
                          .2                 0.2
                          1                0
                          3.415              0       
                        </tableData>
                    </table>

                    
                    

                    
                    <!-- value>-0.2</value -->
                    <!-- -0.1 according to Aeromatic -->
                    <!-- <value>-0.075</value> -->
                    <value>-0.1</value>
                    <!-- Asymmetric stall -->
                    <!-- This is cribbed directly from p51d-jsbsim.xml for now -->                  
                    <!-- Assymmetric stall - at higher alpha/beta angles the beta starts to destabilize the roll rather than stabilize it-->

                    <!--
                    <table>                            
                        <independentVar lookup="row">aero/alpha-deg</independentVar>
                        
                  
                        <independentVar lookup="column">velocities/vc-kts</independentVar>
                         <tableData>
                                 0  22  38   44   48  52
                            -45  -1 -1.1  -2     -1    -1   -1
                            -14.5  -1  -1.1 -2     -2    -1   -1
                            -13   1  1  1     1    1   1
                            13 1  1  1     1    1   1
                            14.5   -1  -1.1 -2     -2   -2   -1
                            30   -1  -1.1 -2     -2   -1.5   -1
                            45   -1  -1 -2     -2.5    -1   -1
                        </tableData>
                    </table>
                    -->
                </product>
            </function>
            <function name="aero/moment/Roll_damp">
                <description>Roll moment due to roll rate</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>aero/bi2vel</property>
                    <property>velocities/p-aero-rad_sec</property>
                    
                    <!-- Aeromatic value was -0.4; this is replaced by the value * table value 
                    below, to reduce the damping values for the Camel -->                     
					          
                    <!-- Camel was sensitive & poorly damped in all directions of motion.  Adjusting this 0-1 adjusts this sensitivity. -->
                    
                    <!--this tends to damp or *stop* the roll, thus the negative numbers (the overall effect is always to reduce the amount of roll moment).
          					With the Camel, in certain situations the roll actually won't damp out (ie, when in a tailspin - if you take your hands off the controls it will
          					just keep tailspinning indefinitely, unlike modern aircraft which are designed to naturally recover if you take your hands off the controls); 
          					this is like having a roll damp of 0 or close to it.
                    
                    "its time period is 1 to 2 seconds, and the loss of height per turn 150 to 200 
                    feet." The table below is designed to 'channel' the spin to a speed of between 
                    3.14 and 6.28 rad per second.
          					-->
                    
                    <!-- <value>0.9</value> -->
                    
                    <value>1.9</value><!-- testing -->
                     
          					<table>
                        <independentVar>velocities/p-aero-rad_sec</independentVar>
                        <tableData>
                          -100         -0.25
                          -6.28        -0.75
					              	-3           -0.4 
                          -2.14        -0.005     
                          -1.9         -0.05
                    
                          -1.1         -0.25       
                          -0.01        -0.27
                          0            -.3
                          0.01          -0.27
                          1.1          -0.25 
                              
                          1.9          -0.05        
                          2.14         -0.005
						              3            -0.4
						              6.28         -0.75
                          100          -0.25
                        </tableData>
                        
                        <!--
                        <tableData>
                          -100         -0.25
                          -6.28        -0.75
					              	-5           -0.005 
                          -3.14        -0.005     
                          -2.5         -0.1 
                          -0.4         -0.1       
                          0            -0.35
                          0.4          -0.1           
                          2.5          -0.1        
                          3.14         -0.005
						              5            -0.005
						              6.28         -0.75
                          100          -0.25
                        </tableData>
                        -->
                    </table>
                    

                    <!-- camel is poorly damped and won't get out of spin/dive/etc just by releasing the controls -->
                    
                </product>
            </function>
            <function name="aero/moment/Roll_yaw">
                <description>Roll moment due to yaw rate</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>aero/bi2vel</property>
                    <property>velocities/r-aero-rad_sec</property>
                    <!-- value>0.35</value -->
                    <value>0.35</value>
                    <value>0</value> <!-- testing -->
                    <!-- Spin on stall -->
                        <!-- This seems to provide the main source of spin/rotation for the aircraft 
                        when it is stalling. In the abscence of wind tunnel data the numbers are a 
                        guess, of course, but it matches well the contemporary description, that if in 
                        a sharp turn you tightened up the elevator just a little too much, you would 
                        end up in a severe spin. The trick is that the alpha angles less than 20 
                        degrees or so (whatever the the stall angle of the wing is) shouldn't produce 
                        any spin, especially at low speeds, or landing and takeoff become almost 
                        impossible.--> 
                    <table>

                        <independentVar lookup="row">aero/alpha-deg</independentVar>
                        <independentVar lookup="column">velocities/vc-kts</independentVar>
                        <tableData>
                                 0   13  28  38  48  70  100   150
                            -45  -1 -2 -3  -2.5   -3   -1.5  -1    -1.5
                            -35  -1 -2 -4  -4  -4  -3 -2    -1.5
                            -30  -1 -2 -4  -4  -4  -3 -2    -1.5
                            -14.5  -1 -2 -3   -3   -3   -2  -1.5  -1
                            -13  0 0   0    0    0    0  0     0
                             0     0 0   0    0    0    0  0     0
                            13   0 0   0    0    0    0  0     0
                            14.5   1  2  3     3    3   2   1.5     1
                            30   1  4  4    4   4  3  2     1.5
                            35   1  4  4    4   4  3  2     1.5
                            45   1  2  3    2.5    3   1.5   1     1.5
                        </tableData>
                    </table>
                </product>
            </function>
            <function name="aero/moment/Roll_aileron">
                <description>Roll moment due to aileron</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>fcs/left-aileron-pos-rad</property>

                    <!-- .08 per aeromatic; Camel had relatively ineffective ailerons;  they
                    are large as 'barn doors' but induce tons of drag & adverse yaw. 23 seconds 
                    to slow roll - if could even be done at all! 
                    I'm taking this to mean that, being far larger in surface area than ailerons in modern plane, they produce quite a bit of roll but perhaps even more of drag and adverse yaw.-->
                    <table>
                        <independentVar>velocities/mach</independentVar>
                        <tableData>
                          0             0.10 <!-- ver 1.6: .14-->          
                          2             0.01       
                        </tableData>
                    </table>
                    <!-- It became harder & harder to deflect the Camel's 
                    ailerons as the speed increased. 
                    p. 7: http://assets.cambridge.org/97805218/09924/sample/9780521809924ws.pdf  -->
                   <table>
                        <independentVar>velocities/ve-kts</independentVar>
                        <tableData>
                          0             1
                          70            0.9
                          180           0.3
                          400           0       
                        </tableData>
                    </table>
                    <!-- Asymmetric stall; you lose aileron control as stall deepens -->
                    <!-- This is cribbed directly from p51d-jsbsim.xml for now -->
                    <table>
                        <independentVar lookup="row">aero/alpha-deg</independentVar>
                        <tableData>
                        -35    0.05
                        -19    0.3
                        -12    1
                        12     1
                        19     0.3
                        35     0.05
                        </tableData>
                    </table>
                </product>
            </function>
            <function name="aero/moment/Roll_rudder">
                <description>Roll moment due to rudder</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>fcs/rudder-pos-rad</property>
                    <!-- Aeromatic 0.01 -->
                    <value>0.01</value>
                </product>
            </function>
            <!--
               Create roll moment with a tendency
               to drop a wing at stall.
               This will help to induce a spin.

               From example/source of the following table (not Sopwith Camel):
               #The positive value at aero/alpha-deg = 10.35
               #is to simulate actual behavior.  The NACA
               #test report on stall behavior says that
               #initially it will drop the right wing and then
               #roll to the left as the stall deepens.
               #this commented out for Camel.
               
               Camel: The idea of the r-aero-rad-_sec table is to turn the spin in the 
               direction the yaw is moving, ie if we're yawing towards the left wing then we drop the left wing. 
            -->
           <function name="aero/moment/Roll_Clalpha">
                <description>roll_moment_due_to_alpha</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <value>1</value><!-- set to 0 to disable or 1 to enable -->
                    <value>300</value><!-- ver 1.6a: 400 -->
                    <table>
                        <!-- ver 1.6: <independentVar>velocities/r-aero-rad_sec</independentVar> -->
                        <independentVar>velocities/r-aero-rad_sec</independentVar>
                        <tableData>
                          -4             -1
                          -3.415             -5
                          -.02             -1
                          0                  0
                          .02             1
                          3.415             5 
                          4             1
                                
                        </tableData>
                    </table>
                    <table>
                        <independentVar lookup="row">aero/alpha-deg</independentVar>
                        <independentVar lookup="column">aero/Re</independentVar>
                        <tableData>
                                          0  1000000  10000000   20000000
                                 -180.0    0.0    -0.0005   -0.00025   -0.000025                                          
                                 -24.0    0.0    -0.0005   -0.00025   -0.000025
                                 -17.8      0.0    -0.00025 -0.000125 -0.0000125
                                 -11.8      0       0       0         0
                                   0.0    0.0     0.0     0.0       0.0
                                  11.8      0       0       0         0
                                  17.8      0.0     0.00025 0.000125  0.00000125
                                  24      0.0     0.0005  0.00025   0.0000025
                                  180      0.0     0.0005  0.00025   0.0000025
                        </tableData>
                    </table>
                </product>
            </function>
            
            
        </axis>
        <axis name="PITCH" unit="LBS*FT">
            <function name="aero/moment/Pitch_alpha">
                <description>Pitch moment due to alpha</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/cbarw-ft</property>
                    <!-- <property>aero/alpha-rad</property> plain alpha-rad is OK for small values, but for larger than abs(1) or so, need sin(alpha-rad) instead-->
                    
                    <table>
                        <independentVar>aero/alpha-rad</independentVar>
                        <tableData>
                          -3.415            -0
                          -3.4              -2.4
                          -.200             -0.2
                          0                  0
                          .2                 0.2
                          3.4                2.4
                          3.415              0       
                        </tableData>
                    </table>
                    
                    
                    <!-- <sin>
                        <property>aero/alpha-rad</property>
                    </sin> -->
                    
                    <!-- <value>-0.5</value> orig -->
                    <value>-0.5</value>
                </product>
            </function>
            
            <function name="aero/moment/Pitch_elevator">
                <description>Pitch moment due to elevator</description>
                <product>
                    <!-- <property>aero/qbar-psf</property> -->
                    <property>aero/function/qbar-induced-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/cbarw-ft</property>
                    <property>fcs/elevator-pos-rad</property>
                    <table>
                        <independentVar>velocities/mach</independentVar>
                        <tableData>
                            <!-- aeromatic original values:
                                        <tableData>
                                          0.0     -1.100
                                          2.0     -0.275
                                        </tableData>
                                  Camel had a powerful and sensitive elevator      
                            --> 
                            <!-- ver. 1.6 0      -0.32                      
                            2      -0.1  -->
                            0      -0.5                      
                            2      -0.15


                        </tableData>
                    </table>
                    
                    <!-- The idea of the following table is to model the force feedback or the 
                    idea that as you pull higher & higher Gs you really can't just keep yanking on 
                    the controls as hard. They are pulling back harder and harder with back-force 
                    or maybe you are just feeling the G forces physically with your body that 
                    gives you the feedback to stop yanking on the controls so hard.
                    Load factor is in Gs, http://en.wikipedia.org/wiki/Load_factor_(aeronautics) 
                    -->
                    
                    <table>

                        <independentVar>forces/load-factor</independentVar>
                        <tableData>
                            <!-- -.0551 = aeromatic original value; Camel had a powerful and 
                            sensitive elevator --> 
                           -100     0.01
                            -10     0.2
                             -1     1
                              0     1                      
                              1     1
                             10     0.2
                            100     0.01

                        </tableData>
                    </table>
                    
                    <!-- Asymmetric stall; you lose elevator control as stall deepens -->
                    <table>
                        <independentVar lookup="row">aero/alpha-deg</independentVar>
                        <tableData>
                        -50    0.2
                        -24    0.3
                        -17.5    1
                        17.5     1
                        24     0.3
                        50     0.2
                        </tableData>
                    </table>

                </product>
            </function>
            <function name="aero/moment/Pitch_damp">
                <description>Pitch moment due to pitch rate</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/cbarw-ft</property>
                    <property>aero/ci2vel</property>
                    <property>velocities/q-aero-rad_sec</property>

                    <!-- Aeromatic value was -12; this is replaced by the value * table value 
                    below, to reduce the damping values for the Camel --> 
                    
                    <value>-12</value>   <!-- ver. 1.6: -12 -->
                    
                    <table>
                        <independentVar>velocities/q-aero-rad_sec</independentVar>
                        <tableData>
                          -32.14        0.2
						              -4            0.2  
                          -2            0.02
						              -1.57         0.2        
                          -0.7          0.2
                          -0.25         0.2      <!-- ver 1.6a = .5-->        
                          0              .4        <!-- ver. 1.6 = 1.5, 1.6a .75 -->
                          0.25          0.2           
                          0.7           0.2
                          1.57          0.2       
						              2             0.02
                          4             0.2
						              32.14         0.2        
                        </tableData>
                    </table>

                    <!-- orig: <value>-12</value> -->
                    <!-- Camel is pretty poorly damped in most all ways -->
                </product>
            </function>
            
            <function name="aero/moment/Pitch_alphadot">
                <description>Pitch moment due to alpha rate</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/cbarw-ft</property>
                    <property>aero/ci2vel</property>
                    <!-- <property>aero/alphadot-rad_sec</property>       -->
                    
                    <!-- If this is allowed to grow unrestricted there are pretty nasty results, at slow speed stalls -->
                    <table>
                        <independentVar>aero/alphadot-rad_sec</independentVar>
                        <tableData>
                          -32.14        -.75  

						              -.5         -.5        
                          0             0
                          .5          .5 
						              32.14         .75        
                        </tableData>
                    </table>
                    
                    
                    <value>-7</value>
                </product>
            </function>

            <!-- "On strafing runs, as soon as the airspeed reaches 130 to 140 mph the nose 
            begins to hunt up and down, and the elevator becomes extremely sensitive. I 
            feel this action is due largely to the square windshield between the two 
            Vickers guns, causing a substantial burble over the tail surfaces."
            We're modeling it here as simply reduced elevator effectiveness starting at 
            that speed (130 mph = 0.17 mach) - which may not be the best way. -->                            
                    
            <function name="aero/moment/Pitch_burble">
                <description>Pitch moment due to burble at high speeds</description>
                <product>
                     <value> 1200 </value> <!-- ver 1.6: 1200 -->
                     <!-- <abs> 
                       <urandom/>
                     </abs>
                     --> 
                     <table>
                        <independentVar>velocities/ve-kts</independentVar>
                        <tableData>
                            <!-- -.0551 = aeromatic original value; Camel had a powerful and 
                            sensitive elevator --> 
                            0      0
                            <!-- "On strafing runs, as soon as the airspeed reaches 130 to 140 mph the nose 
                            begins to hunt up and down, and the elevator becomes extremely sensitive. I 
                            feel this action is due largely to the square windshield between the two 
                            Vickers guns, causing a substantial burble over the tail surfaces."
                            We're modeling it here as simply bumps up/down in pitch starting at 
                            that speed (130 mph = 0.196 mach= 113 kts). -->                            
                            112.96688	0
                            113.5432416	-0.5
                            114.1196033	0.5
                            114.6959649	-0.6
                            115.2723265	0.6
                            115.8486882	-0.7
                            116.4250498	0.7
                            117.0014114	-0.8
                            117.5777731	0.8
                            118.1541347	-0.9
                            118.961041	0.9
                            119.306858	-1
                            120.0561281	1
                            120.4595812	-1.1
                            121.093579	1.9
                            121.6295953	-1.3
                            122.2001934	2.4
                            122.7880822	-1.5
                            123.3759711	1.6
                            123.9235146	-2.7
                            124.5229307	1.7
                            125.0877651	-3.3
                            125.6583632	1.7
                            126.246252	-1.4
                            126.8341409	1.5
                            127.3816844	-1.7
                            127.9811005	1.7
                            128.5344077	-1.7
                            129.1338238	1.1
                            129.687131	-1.7
                            130.2865471	1.7
                            130.8340906	-1.9
                            131.2375438	3
                            131.5833607	-1.7
                            131.8715416	2
                            131.9868139	-1.2
                            132.6208117	1.1
                            133.156828	-1
                            133.727426	1.8
                            134.3153149	-1.4
                            134.9032037	1.2
                            135.4507473	-1.8
                            136.0501634	1.9
                            136.5977069	-2.3
                            137.1740686	1.6
                            137.7504302	-2.7
                            138.3267918	1.7
                            138.9031535	-3.3
                            139.4795151	1.7
                            140.0558767	-1.4
                            140.6322384	1.5
                            141.2086	-1.7
                            141.7849616	1.7
                            141.8425978	-1.7
                            141.900234	1.1
                            141.9578701	-1.7
                            142.0155063	1.7
                            142.0731424	-1.9
                            142.1307786	3
                            142.1884148	-1.7
                            142.2460509	2
                            142.3036871	-1.2
                            142.3325052	1.1
                            142.3613233	-1
                            142.9376849	1.8
                            143.5140465	-1.4
                            144.0904082	1.2
                            144.6667698	-1.8
                            145.2431314	1.9
                            145.3007676	-2.3
                            145.3584038	1.6
                            145.4160399	-2.7
                            145.4736761	1.7
                            145.5313122	-3.3
                            145.5889484	1.7
                            145.6465846	-1.4
                            145.7042207	1.5
                            145.7618569	-1.7
                            145.790675	1.7
                            145.8194931	-1.7
                            145.8771292	1.1
                            145.9347654	-1.7
                            145.9924016	1.7
                            146.0500377	-1.9
                            146.1076739	3
                            146.16531	-1.7
                            146.2229462	2
                            146.2805824	-1.2
                            146.3382185	1.1
                            146.3670366	-1
                            146.3958547	1.8
                            146.4534909	-1.4
                            146.511127	1.2
                            146.5687632	-1.8
                            146.6263993	1.9
                            146.6840355	-2.3
                            146.7416717	1.6
                            146.7993078	-2.7
                            146.856944	1.7
                            146.9145802	-3.3
                            146.9433982	1.7
                            146.9722163	-1.4
                            147.0298525	1.5
                            147.0874887	-1.7
                            147.1451248	1.7
                            147.202761	-1.7
                            147.2603971	1.1
                            147.3180333	-1.7
                            147.3756695	1.7
                            147.4333056	-1.9
                            147.4909418	3
                            147.5197599	-1.7
                            147.548578	2
                            147.6062141	-1.2
                            147.6638503	1.1
                            147.7214864	-1
                            147.7791226	1.8
                            147.8367588	-1.4
                            147.8943949	1.2
                            147.9520311	-1.8
                            148.0096673	1.9
                            148.0673034	-2.3
                            148.0961215	1.6
                            148.1249396	-2.7
                            148.1825758	1.7
                            148.2402119	-3.3
                            148.2978481	1.7
                            148.3554842	-1.4
                            148.4131204	1.5
                            148.4707566	-1.7
                            148.5283927	1.7
                            148.5860289	-1.7
                            148.6436651	1.1
                            148.6724831	1.6
                            148.7013012	-2.7
                            148.7589374	1.7
                            148.8165736	-3.3
                            148.8742097	1.7
                            148.9318459	-1.4
                            148.989482	1.5
                            149.0471182	-1.7
                            149.1047544	1.7
                            149.1623905	-1.7
                            149.2200267	1.1
                            149.2488448	-1.7
                            149.2776629	1.7
                            149.335299	-1.9
                            149.3929352	3
                            149.4505713	-1.7
                            149.5082075	2
                            149.5658437	-1.2
                            149.6234798	1.1
                            149.681116	-1
                            149.7387522	1.8
                            149.7963883	-1.4
                            149.8252064	1.2
                            149.8540245	-1.8
                            150.4303861	1.9
                            151.0067478	-2.3
                            151.5831094	4
                            152.159471	-5.1
                            152.7358327	6.4
                            153.3121943	-7.9
                            153.8885559	8.5
                            154.4649176	-9
                            155.0412792	10
                            155.6176408	-12
                            156.1940024	14
                            156.7703641	1.8
                            157.3467257	20
                            157.9230873	-22
                            158.499449	28.5
                            159.0758106	-39
                            159.6521722	30
                            160.2285339	-32
                            160.8048955	24
                            161.3812571	-25.1
                            161.9576188	24
                            162.5339804	-25.1
                            163.110342	26.4
                            163.6867037	-27.9
                            164.2630653	28.5
                            164.8394269	-39
                            165.4157886	30
                            165.9921502	-32
                            166.5685118	30
                            167.1448735	-32
                            167.7212351	34
                            168.2975967	-35.1
                            168.8739584	36.4
                            169.45032	-37.9
                            170.0266816	38.5
                            170.6030433	-39
                            171.1794049	30
                            171.7557665	36.4
                            172.3321282	-37.9
                            172.9084898	38.5
                            173.4848514	-39
                            174.0612131	30
                            174.6375747	-32
                            175.2139363	40
                            175.790298	-42
                            176.3666596	44
                            176.9430212	-45.1
                            177.5193829	46.4
                            178.0957445	-47.9
                            178.6721061	48.5
                            179.2484678	-49
                            179.8248294	40
                            180.401191	-42
                            1152.723265	0


                        </tableData>
                     </table>
                </product>
            </function>
            
            <!-- This is to compensate for the fact the JSBSim has the direction of the gyroscopic moment from the propellor/engine 
            reversed.  However it seems to have some feedback/delay problems of its own so for now we're going to remove it
            and live with the fact that the gyroscopic moment is reversed. -->
                   
      			<!-- <function name="aero/moment/Pitch_moment_gyroscopic_jsbsim_correction">
                      <description>This reverses the pitch moment due to the gyrosopic action of the propeller, which JSBSim seems to have reversed</description>
                      <product>
                          <property>moments/m-prop-lbsft</property>
                          <value>-2</value>
                      </product>
            </function>
            -->
                       
        </axis>
        
        <axis name="YAW" unit="LBS*FT">
            <function name="aero/moment/Yaw_beta">
                <description>Yaw moment due to beta</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <!-- <property>aero/beta-rad</property> plain alpha-rad is OK for small values, but for larger than abs(1) or so, need sin(alpha-rad) instead-->
                    <sin>
                        <property>aero/beta-rad</property>
                    </sin>
                    
                    <!-- <value>0.12</value> orig -->
                    <value>0.06</value>
                </product>
            </function>
            <function name="aero/moment/Yaw_damp">
                <description>Yaw moment due to yaw rate</description>
                <product>
                    <property>aero/qbar-psf</property>0
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>aero/bi2vel</property>
                    <!-- Aeromatic value was -0.15; this is replaced by the value * table value 
                    below, to reduce the damping values for the Camel --> 
                    
                    <!-- Camel was sensitive & poorly damped in all directions of motion, particularly in yaw stability, where the pathetically small tail fin doesn't do much and the rudder doesn't do much in terms of damping.  Adjusting this 0-1 adjusts this sensitivity. -->
                    <!-- <value>-0.10</value>  accidentally left this un-remed out and it worked quite well, so  . . . -->
                    <!-- orig: <value>-0.15</value> -->
                    <!-- camel is poorly damped and won't get out of spin/turn automatically if the controls are released.  You have to steer it out. -->
					<!--this tends to damp or *stop* the yaw, thus the negative numbers (the overall effect is always to reduce the amount of yaw moment).
					With the Camel, in certain situations the yaw & roll actually won't damp out (ie, when in a tailspin - if you take your hands off the controls it will
					just keep tailspinning indefinitely, unlike modern aircraft which are designed to naturally recover if you take your hands off the controls); 
					this is like having a yaw damp of 0 or close to it. 
					-->
                    
                    <property>velocities/r-aero-rad_sec</property>
                    <value>1.9</value> 
                    <table>
                        <independentVar>velocities/r-aero-rad_sec</independentVar>
                        <tableData>
                          <!-- ver 1.6a:  -->
                          
                          -32.14        -0.50
                          -4            -0.5
						              -1.25          -0.06  
                          -1            -0.003
						              -.97         -0.01        
                          -0.7          -0.03                       
                          -0.25         -0.05
                          -0.1          -0.40     
                          0              -0.5
                          0.1           -0.40
                          0.25          -0.05           
                          0.7           -0.03
                          .97          -0.01       
						              1             -0.003
                          1.25           -0.06
                          4             -.5
						              32.14         -0.5
                          
                          <!-- ver 1.6b experiment: Less damp right around stability, doesn't really work quite right  -->
                          <!--
                          -32.14        -0.50
                          -4            -0.5
						              -1.25          -0.06  
                          -1            -0.003
						              -.97         -0.01        
                          -0.7          -0.03                       
                          -0.25         -0.05
                          -0.01          -0.05     
                          0              -0.08
                          0.01           -0.05
                          0.25          -0.05           
                          0.7           -0.03
                          .97          -0.01       
						              1             -0.003
                          1.25           -0.06
                          4             -.5
						              32.14         -0.5
                          -->        
                        </tableData>
                    </table>
                    
                    <!--
                    <value>0.2</value> 
                    <table>
                        <independentVar>velocities/r-aero-rad_sec</independentVar>
                        <tableData>                    
                    -32.14	1.607
                    -9	0.27
                    -2	0.006
                    -1.57	0.0157
                    -0.7	0.03
                    -0.25	0.05
                    -0.05	0.2
                    -0.000001	0.5
                    0	0
                    0.000001	-0.5
                    0.05	-0.2
                    0.25	-0.05
                    0.7	-0.03
                    1.57	-0.0157
                    2	-0.006
                    9	-0.27
                    32.14	-1.607

                    </tableData>
                  </table>
                  -->
                    
                </product>
            </function>
            <function name="aero/moment/Yaw_rudder">
                <description>Yaw moment due to rudder</description>
                <product>
                    <!-- <property>aero/qbar-psf</property> -->
                    <property>aero/function/qbar-induced-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>fcs/rudder-pos-rad</property>
                    <!-- 0.18 - Aeromatic -->
                    <!-- <value>-0.18</value> ver 1.4RC-->
                    <!-- According to a simple calculation (sq ft of rudder/elevator area X distance from CoG) the elevator should have about 2X the effectiveness of the rudder.  This is approx. true for -0.20 here and -1.1 for elevator
                    Two data points on the rudder:
                      - We know that some used FULL RUDDER on takeoff, easing it off after becoming airborne.
                      - We know that both R & L turns at max turn rate used FULL RUDDER.
                      
                      - The rudder was considered rather small and ineffective; consideration was given to increasing its size
                      
                     All these put a rather low bound how on effective the rudder was.
                     
                     Cessna 172 has rudder area 7.43 sq ft, 27ft 2 in in length; Whereas Camel is 4.9 sq ft. X 18ft 6 in in length                    
                    -->
                    <!-- <value>-0.1</value> -->
                    <value>-0.05</value>  <!--ver 1.6 value .05 -->
                    <!-- it became harder & hard to rudder with speed,
                    due to wind pressure -->
                    <!-- <table>
                        <independentVar>velocities/ve-kts</independentVar>
                        <tableData>
                          0              0
                          50             1
                          105           0.95
                          180           0.5
                          500           0       
                        </tableData>
                    </table>
                    -->

                    <!-- Rudder effectiveness lost as soon as tail sets down on landing -->                    
                    <table>
                        <independentVar lookup="row">aero/alpha-deg</independentVar>
                        <tableData>
                        -90    0.01
                        -20    1
                        12     1
                        14     0.7
                        90     0.01
                        </tableData>
                    </table> 
                    
                                       
                    <!-- Asymmetric stall; you lose rudder as a stall in beta occurs -->
                    <!-- Based p51d-jsbsim.xml -->
                    <table>
                        <independentVar lookup="row">aero/beta-deg</independentVar>
                        <tableData>
                        -180   -.7
                        -90    0.05
                        -22    0.3
                        -17    1
                        17     1
                        22     0.3
                        90     0.05
                        180    -.7
                        </tableData>
                    </table>
                                        
                </product>
            </function>
            <function name="aero/moment/Yaw_aileron">
                <!-- Camels large (but ineffective) 'barn door' ailerons produced 'awe-inspiring'
                amounts of adverse yaw and also a great deal of drag. With no rudder correction it falls into a deep 
                side-slip with a few seconds. 
                http://riseofflight.com/Forum/download/file.php?id=31942&mode=view
                Sopwith Camel replica

                extract from P1lot magazine November 1981

                Engine: Warner Super Scarab
                
                The rudder and elevator are very light and sensitive while the ailerons are astonishingly heavy, and appear to have practically no effect on anything at all. Heaving the stick from side to side produces a sort of drunken wallowing, like a politician trying to duck out of a commitment. A suspicious glance at the vibrating wings reveals that the ailerons are in fact still connected up -and the sight of them moving sluggishly in the airflow suggests the answer to the conundrum: the Camel has four enormous ailerons, and they are quite simply far too big. Furthermore, they have all the design subtlety of a quartet of barn doors. Frise effect, slotting, balancing, differential -these weren't even words in the aviation dictionary in 1916 when this lady was conceived, if you wanted your aeroplane to roll faster you just made the ailerons bigger. (And then, presumably, wondered why it didn't roll faster ... ) Those huge control surfaces so degrade the airflow over the wings that not only is their primary effect vastly blunted, but at the same time the drag thus engendered is awe-inspiring. Adverse yaw completely overcomes the normal secondary effect of roll, so that if you are so misguided as to take your feet off the Camel's rudder and then bank (say) to the left, the stubby round nose will instantly zap off to the right and keep going.    . . . 
                
                Thus I found that the Camel performed tight little loops, well-behaved spins, good stall-turns, and somewhat ponderous barrel rolls. Slow rolls, however, were something else again. She would just about do it if you insisted, but you had to start at nigh on Vne , use both hands to crank on full aileron -and then wait. And wait. And wait. She took 23 seconds to go round (compared to about six seconds in, say, a Chipmunk), and that 23 seconds felt like a fortnight. After the first 100 degrees or so the engine would pack up and you were left rolling in hideous slow motion with only the howl of the wind in the wires for company. Treading the rudder very gently -for only a touch too much out-roll rudder would be enough to overcome the ailerons and stop the roll altogether, leaving you stuck on your back like some helpless airborne turtle -you finally regained erect flight with perhaps 80 mph left ,whereupon you had to wait several more seconds before the Scarab would cough and splutter and belch and finally struggle back to its normal asthmatic blattering. (In the end I did slow rolls at three or four shows before sanity prevailed and I dropped the exercise as being too hard on both the airframe and the nervous system).
                 http://riseofflight.com/forum/viewtopic.php?f=49&t=30890&start=30 
                 -->
                <description>Adverse yaw</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>fcs/left-aileron-pos-rad</property>
                    <!-- Aeromatic: -0.01  -.07 is QUITE large ver 1.6a: -0.06-->
                    <value>-0.04</value>
                    <table>
                        <independentVar>velocities/ve-kts</independentVar>
                        <tableData>
                          0             1
                          70            0.9
                          180           0.3
                          400           0       
                        </tableData>
                    </table>
                </product>                                                 
            </function>
            
            <!-- This is to compensate for the fact the JSBSim has the direction of the gyroscopic moment from the propellor/engine 
            reversed.  However it seems to have some feedback/delay problems of its own so for now we're going to remove it
            and live with the fact that the gyroscopic moment is reversed. -->
             
     		    <!-- <function name="aero/moment/Yaw_moment_gyroscopic_jsbsim_correction">
                <description>This reverses the yaw moment due to the gyrosopic action of the propeller, which JSBSim seems to have reversed</description>
                <product>
                    <property>moments/n-prop-lbsft</property>
                    <value>-2</value>
                </product>
            </function>
            -->
            

            <!--
               Create YAW to help drop a wing at stall.
               This will help to induce a spin or a snap
               roll depending on how fast the stall entry
               speed is.
               Which wing is dropped and how hard it
               drops depends on the beta angle.
            -->
           <!-- This is based on p51d-jsbsim.xml, modified to produce better/more realistic results for the Camel --> 
            
           <function name="aero/moment/Yaw_Cnalphabeta">
                <description>Yaw_moment_due_to_alpha-beta</description>
                <product>
                    <value>0</value> <!-- set to 0 to disable for testing; 1 to enable -->
                    <value> -2.5 </value> <!--ver 1.6: -2.5 -->
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    
                    <!-- See Yaw_Cnalphabeta Table worksheet in Camel-JSBSim-calcs.xlsx workshop for the original/editable table -->
                    
                  <table>						
                        <independentVar>velocities/p-aero-rad_sec</independentVar>
                       <tableData>
                            -100     1
                            -5       3
                            -3.2       0
                            0        0
                            3.2        0
                            5        3
                            100      1
                        </tableData>                        
                  </table>   
                  

                    <table>						
                        <independentVar lookup="row">aero/alpha-deg</independentVar>						
                        <independentVar lookup="column">aero/beta-deg</independentVar>						
                        <independentVar lookup="table">aero/Re</independentVar>						
                        <tableData breakPoint="2500000">						
						
	-50	-5	-2	2.5	6	52
-27	0	0.005	0.003	-0.003	-0.005	0
-15	0	0.005	0.003	-0.003	-0.005	0
-14.7	0	0.005	0.003	-0.003	-0.005	0
-14.3	0	0.005	0.003	-0.003	-0.005	0
-13.9	0	0.005	0.003	-0.003	-0.005	0
-13.4	0	0.005	0.003	-0.003	-0.005	0
-13	0	0	0	0	0	0
0	0	0	0	0	0	0
13	0	0	0	0	0	0
13.5	0	0.001	0.005	-0.005	-0.001	0
14	0	0.0015	0.006	-0.006	-0.0015	0
14.4	0	0.0025	0.008	-0.008	-0.0025	0
14.8	0	0.0035	0.01	-0.01	-0.0035	0
17.5	0	0.005	0.012	-0.012	-0.005	0
19.5	0	0.00625	0.013	-0.013	-0.00625	0
21.5	0	0.0075	0.015	-0.015	-0.0075	0
27	0	0.00125	0.005	-0.005	-0.00125	0
</tableData>						
<tableData	breakPoint="5000000">					
	-50	-5	-2	2.5	6	52
-27	0	0.005	0.003	-0.003	-0.005	0
-15	0	0.005	0.003	-0.003	-0.005	0
-14.7	0	0.005	0.003	-0.003	-0.005	0
-14.3	0	0.005	0.003	-0.003	-0.005	0
-13.9	0	0.005	0.003	-0.003	-0.005	0
-13.4	0	0.005	0.003	-0.003	-0.005	0
-13	0	0	0	0	0	0
0	0	0	0	0	0	0
13	0	0	0	0	0	0
13.5	0	0.005	0.01	-0.01	-0.005	0
14	0	0.015	0.01	-0.01	-0.015	0
14.4	0	0.02	0.015	-0.015	-0.02	0
14.8	0	0.025	0.02	-0.02	-0.025	0
17.5	0	0.03	0.023	-0.023	-0.03	0
19.5	0	0.04	0.026	-0.026	-0.04	0
21.5	0	0.05	0.03	-0.03	-0.05	0
27	0	0.02	0.01	-0.01	-0.02	0
</tableData>						
<tableData	breakPoint="10000000">					
	-50	-5	-2	2.5	6	52
-27	0	0.005	0.003	-0.003	-0.005	0
-15	0	0.005	0.003	-0.003	-0.005	0
-14.7	0	0.005	0.003	-0.003	-0.005	0
-14.3	0	0.005	0.003	-0.003	-0.005	0
-13.9	0	0.002	0.001	-0.001	-0.002	0
-13.4	0	0.0005	0.0003	-0.0003	-0.0005	0
-13	0	0	0	0	0	0
0	0	0	0	0	0	0
13	0	0	0	0	0	0
13.5	0	0.002	0.006	-0.006	-0.002	0
14	0	0.005	0.005	-0.005	-0.005	0
14.4	0	0.01	0.01	-0.01	-0.01	0
14.8	0	0.015	0.015	-0.015	-0.015	0
17.5	0	0.03	0.02	-0.02	-0.03	0
19.5	0	0.035	0.025	-0.025	-0.035	0
21.5	0	0.04	0.03	-0.03	-0.04	0
27	0	0.02	0.01	-0.01	-0.02	0
</tableData>						
<tableData	breakPoint="20000000">					
	-50	-5	-2	2.5	6	52
-27	0	0.005	0.003	-0.003	-0.005	0
-15	0	0.005	0.003	-0.003	-0.005	0
-14.7	0	0.005	0.003	-0.003	-0.005	0
-14.3	0	0.002	0.001	-0.001	-0.002	0
-13.9	0	0.005	0.003	-0.003	-0.005	0
-13.4	0	0.002	0.001	-0.001	-0.002	0
-13	0	0	0	0	0	0
0	0	0	0	0	0	0
13	0	0	0	0	0	0
13.5	0	0	0	0	0	0
14	0	0	0	0	0	0
14.4	0	0	0	0	0	0
14.8	0	0.01	0.01	-0.01	-0.01	0
17.5	0	0.02	0.016	-0.016	-0.02	0
19.5	0	0.03	0.023	-0.023	-0.03	0
21.5	0	0.05	0.03	-0.03	-0.05	0
27	0	0.02	0.01	-0.01	-0.02	0
</tableData>						
<tableData	breakPoint="30000000">					
	-50	-5	-2	2.5	6	52
-27	0	0.05	0.03	-0.03	-0.05	0
-15	0	0.05	0.03	-0.03	-0.05	0
-14.7	0	0.02	0.01	-0.01	-0.02	0
-14.3	0	0.005	0.003	-0.003	-0.005	0
-13.9	0	0.002	0.001	-0.001	-0.002	0
-13.4	0	0	0	0	0	0
-13	0	0	0	0	0	0
0	0	0	0	0	0	0
13	0	0	0	0	0	0
13.5	0	0	0	0	0	0
14	0	0	0	0	0	0
14.4	0	0	0	0	0	0
14.8	0	0	0	0	0	0
17.5	0	0.01	0.01	-0.01	-0.01	0
19.5	0	0.03	0.02	-0.02	-0.03	0
21.5	0	0.05	0.03	-0.03	-0.05	0
27	0	0.02	0.01	-0.01	-0.02	0
</tableData>						
<tableData	breakPoint="40000000">					
	-50	-5	-2	2.5	6	52
-27	0	0.05	0.03	-0.03	-0.05	0
-15	0	0.05	0.03	-0.03	-0.05	0
-14.7	0	0.02	0.01	-0.01	-0.02	0
-14.3	0	0.005	0.003	-0.003	-0.005	0
-13.9	0	0.002	0.001	-0.001	-0.002	0
-13.4	0	0	0	0	0	0
-13	0	0	0	0	0	0
0	0	0	0	0	0	0
13	0	0	0	0	0	0
13.5	0	0	0	0	0	0
14	0	0	0	0	0	0
14.4	0	0	0	0	0	0
14.8	0	0	0	0	0	0
17.5	0	0	0	0	0	0
19.5	0	0.03	0.02	-0.02	-0.03	0
21.5	0	0.05	0.03	-0.03	-0.05	0
27	0	0.02	0.01	-0.01	-0.02	0
						
                        </tableData>						
                    </table>						




                </product>
            </function>
            
            
            
            <function name="aero/moment/Yaw_roll">
                <description>Yaw moment due to roll rate</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>aero/bi2vel</property>
                    <property>velocities/p-aero-rad_sec</property>
                    <!-- value>0.35</value -->
                    <value>0.035</value>
                    <value>1</value> <!-- testing -->
                    <!-- Spin on stall -->
                        <!-- This seems to provide the main source of spin/rotation for the aircraft 
                        when it is stalling. In the abscence of wind tunnel data the numbers are a 
                        guess, of course, but it matches well the contemporary description, that if in 
                        a sharp turn you tightened up the elevator just a little too much, you would 
                        end up in a severe spin. The trick is that the alpha angles less than 20 
                        degrees or so (whatever the the stall angle of the wing is) shouldn't produce 
                        any spin, especially at low speeds, or landing and takeoff become almost 
                        impossible.--> 
                    <table>

                        <independentVar lookup="row">aero/alpha-deg</independentVar>
                        <independentVar lookup="column">velocities/vc-kts</independentVar>
                        <tableData>
                                 0   13  28  38  48  70  100   150
                            -45  -1 -2 -3  -2.5   -3   -1.5  -1    -1.5
                            -35  -1 -2 -4  -4  -4  -3 -2    -1.5
                            -30  -1 -2 -4  -4  -4  -3 -2    -1.5
                            -14.5  -1 -2 -3   -3   -3   -2  -1.5  -1
                            -13  0 0   0    0    0    0  0     0
                             0     0 0   0    0    0    0  0     0
                            13   0 0   0    0    0    0  0     0
                            14.5   1  2  3     3    3   2   1.5     1
                            30   1  4  4    4   4  3  2     1.5
                            35   1  4  4    4   4  3  2     1.5
                            45   1  2  3    2.5    3   1.5   1     1.5
                        </tableData>
                    </table>
                </product>
            </function>
            
            
        </axis>
    </aerodynamics>

	<!-- <output name="JSBout.csv" type="CSV" rate="100">
        <simulation> ON </simulation>
        <atmosphere> ON </atmosphere>
        <massprops> ON </massprops>
        <aerosurfaces> ON </aerosurfaces>
        <rates> ON </rates>
        <velocities> ON </velocities>
        <forces> ON </forces>
        <moments> ON </moments>
        <position> ON </position>
        <coefficients> ON </coefficients>
        <ground_reactions> ON </ground_reactions>
        <fcs> ON </fcs>
        <propulsion> ON </propulsion>
    </output>
	-->
</fdm_config>
<?xml version="1.0"?>
<?xml-stylesheet href="http://jsbsim.sourceforge.net/JSBSim.xsl" type="text/xsl"?>
<fdm_config name="Aerospatiale/BAC Concorde" version="2.0" release="PRODUCTION"
 xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
 xsi:noNamespaceSchemaLocation="http://jsbsim.sourceforge.net/JSBSim.xsd">

    <fileheader>
        <author> </author>
        <filecreationdate> 14 August 2010 </filecreationdate>
        <version> 1.13 </version>
        <description>Aerospatiale/British Aerospace Concorde</description>

        <license>
           <licenseName>GPL (General Public License)</licenseName>
           <licenseURL>http://www.gnu.org/licenses/gpl.html</licenseURL>
        </license>

        <note>Nose gear is longer.</note>
        <note>Air intake effect, which allows more drag at Mach 1.3-2.0.</note>
        <note>Full tanks at maximum takeoff load.</note>
        <note>Tanks with dissymmetry.</note>
        <note>Landing pitch is 10 deg (maximum landing load) and ground effect.</note>
        <note>Climb pitch at 10 deg (maximum landing load).</note>
        <note>Climb Mach 0.95 to 1.7 in 10 minutes.</note>
        <note>Weaker supersonic lift</note>
        <note>Can reach Mach 2.0, below the VMO.</note>
        <note>Inside of center of gravity corridor.</note>
        <note>Shift of center of pressure.</note>
        <note>London - New York : lands below max landing weight (aloft westerly at 39 kt).</note>
        <note>Gear height adjusted by 3D model, supposed accurate.</note>
        <note>Pushback.</note>

        <limitation>Model uses flaps as nose.</limitation>
        <limitation>Cross feed by additional tanks :
                    engine may run out of fuel above X 3 speed-up.</limitation>
        <limitation>Without an additional PID, above Mach 1,
                    autopilot heading hold would lock with a right roll.</limitation>
        <limitation>Air intake failure only on the 4 engines at once.</limitation>
        <limitation>Ground idle only on the 4 engines at once.</limitation>

      <note>
        This model was created using publicly available data, publicly available
        technical reports, textbooks, and guesses. It contains no proprietary or
        restricted data. If this model has been validated at all, it would be
        only to the extent that it seems to "fly right", and that it possibly
        complies with published, publicly known, performance data (maximum speed,
        endurance, etc.). Thus, this model is meant for educational and entertainment
        purposes only.

        This simulation model is not endorsed by the manufacturer. This model is not
        to be sold.
      </note>

<!--
  File:     Concorde.xml
  Author:   Aero-Matic v 0.71

  Inputs:
    name:          Concorde
    type:          four-engine transonic transport
    max weight:    408000 lb
    wing span:     83.83 ft
    length:        202.33 ft
    wing area:     3856 sq-ft
    gear type:     tricycle
    retractable?:  yes
    # engines:     4
    engine type:   turbine
    engine layout: wings
    yaw damper?    yes
  Outputs:
    wing loading:  105.81 lb/sq-ft
    CL-alpha:      4.4 per radian
    CL-0:          0.2
    CL-max:        1.2
    CD-0:          0.017
    K:             0.042
-->

        <note>notation : "=>" denotes a final choice based on certain real values.</note>

        <reference
          refID="FAA certificate, A45eu"
          author="FAA"
          title="http://www.airweb.faa.gov/Regulatory_and_Guidance_Library/rgMakeModel.nsf/MainFrame?OpenFrameSet"
          date="9 January 1979"/>
        <documentation>
          Vlo (landing gear operation)                 : 270 kt.
          Vle (landing gear extended)                  : 270 kt.
          Vmc (minimum control speed with engine inoperative)
          Vmcl (approach)                              : 150 kt.
          Vmc (takeoff)                                : 132 kt.
          Vmcg (ground)                                : 116 kt.

          Datum : the datum for center of gravity computation is a vertical
          reference plane located 8.333 feet (2.540 m) forward of Fuselage
          Station X.A.0. A reference rigging point "C" is provided on the
          airframe 83.172 feet (25.351 m) aft of the datum at 13.66% C0.

          M.A.C. : the "reference root choord" (C0) is 90.748 feet (27.660 m) in
          length; its leading edge is located 70.771 feet (21.570 m) aft of the datum.

          Fuel tank capacity (at density 6.68 lb / US Gallon) :

          Tank      Usable weight     Total weight     Arm (% MAC)
          ........................................................
          1              9348            9361             39.80
          2             10176           10207             76.10
          3             10176           10207             76.10
          4              9348            9361             39.80
          5             16032           16072             49.40
          5A             4956            4963             74.80
          6             25803           25889             66.70
          7             16490           16525             64.70
          7A             4956            4963             74.80
          8             28590           28645             46.70
          9             24710           24747             16.90
          10            26597           26618             30.50
          11            23192           23218            113.90
          Systems         827            1021             69.43
          ........................................................
          Totals       211200 lb       211797 lb          56.23
        </documentation>
        <documentation>
          - http://perso.wanadoo.fr/hsors/FS_Soft/FAQ-FS2K2-Decode_Forum.txt/

          Ron Freimuth (for MSFS) :

          TYPE OF AIRCRAFT - ROLL,Rx PITCH,Ry YAW,Rz
          Single Low Wing          .248 .338 .393
          Single High Wing(C182R)  .242 .397 .393
          Light Twin               .373 .269 .461
          Biz Jet, Light           .293 .312 .420
          Biz Jet, Heavy           .370 .356 .503
          Twin Turbo- Prop         .235 .363 .416
          Jet Airliner 4 eng.      .322 .339 .464
          Jet Airliner 3 aft eng   .249 .375 .452
          Jet Airliner 2 eng wing  .246 .382 .456
          Prop Airliner 4 eng      .322 .324 .456
          Prop Airliner 2 eng      .308 .345 .497
          Jet Fighter              .266 .346 .400
          Prop Fighter 1 eng       .268 .360 .420
          Prop Fighter 2 eng       .330 .299 .447
          Prop Bomber 2 eng        .270 .320 .410
          Prop Bomber 4 eng        .316 .320 .376
          Concorde Delta Wing      .255 .380 .390 (added, Ron Freimuth)

          Note: Delta Wing adds more to Pitch MoI due to Long Root Chord.
          Note: Yaw MoI ~ Pitch MoI + Roll MoI or a bit less.

      ... Estimate Aircraft Moments of Inertia - from Jan Roskam ...

          Roll  Ixx = (W/g)*(Rx*b/2)^2
          Pitch Iyy = (W/g)*(Ry*d/2)^2
          Yaw   Izz = (W/g)*(Rz*e/2)^2
          Roll-Yaw Ixz less than or equal to 0.02 Iz, often 0.0 (added, Ron Freimuth)
          g = 32.174 ft/s^2
          W = gross wt. lb
          b = span ft
          d = length ft
          e = (b+d)/2

          Max TO  - 408,000 lb
          No Fuel - 197,768 lb
          Length - 204.5 ft  (.38*102)^2 = 1502
          Span   -  84.25 ft (.253*42)^2
                    = 113(Span+Length)/2 - 144.8 ft (.39*72.4)^2 = 797
          Width  -  9.5 ft
          Empty Mass - 197,768/32.174 = 6,142 slugs
          Max Mass   - 408,000/32.174 = 12,670 slugs

      .... Empty

          Pitch: 1502 * 6142 = 9,227,000, Max: 19,034,000 slug ft^2
          Roll:   113 * 6142 =   694,000, Max:  1,432,000
          Yaw:    797 * 6142 = 4,897,000, Max: 10,100,000
          Pitch is about 9,300,000, Yaw is 4,900,000, Roll is 696,000.


          The moments of inertia had been changed, as an attempt to solve the autopilot roll.
        </documentation>
        <documentation>
          - http://www.concordesst.com/ :

          Length : overall 202'4", nose to cockpit 24'.
          Height : fuselage max external 10'10".
          Width : fuselage max external 9'5".
          Gear : main track 25'4".
          Wing : span 83 ft. 10 in., length (root chord) 90 ft. 9 in..
          Area (sq. ft) : Wing 3856, Elevon (each side) 172.2, Tail 365, Rudder 112.
          Weight (lbs) : max take off 408000, zero fuel 203000, operating empty 173500,
                         max payload 29500, max taxing 412000, max landing 245000.

          Fuel : max 26400 gallons.

          TABLE A :

          Fuel tanks          tank       liters         kg (density 0.792)
          ..................................................
          Engines supplies      1         5300         4198
                                2         5770         4570
                                3         5770         4570
                                4         5300         4198
          Main storages         5         9090         7200
                                6        14630        11587
                                7         9350         7405
                                8        16210        12838
          Auxiliary             5A        2810         2225
                                7A        2810         2225
          Transfer and reserve  9        14010        11096
                                10       15080        11943
                                11       13150        10415
          ..................................................
          Totals                        119280 l      94470 kg

          Note that 1 US gal = 3.7854 liters.

          Maximum operating altitude : 60000 ft.
          Range : 4500 miles (3900 NM).
          Speed : max operating Mach 2.04, average takeoff 250 mph (217 kt),
                  average landing 185 mph (161 kt).

          AOA : min -5.5 deg (above Mach 1), max 16.5 deg.
          Vortex above the entire wing creates lift at low speed and high AOA.
          Ground effect at landing : downwash of the air betweeen the wing and the ground.
          Delta wing provides a great deal of lift at Mach speed, with very little drag.

          Flight systems (range up and down) : inner elevons 9 deg, middle and
                                               outer elevons 23.5 deg, rudder 30 deg.
          Actual travel limits are a little lower than these mechanical limits.

          Turbulence mode reduces the trim rate.

          Gear :
          - main gear : track 7 ft. 72 in., brakes.
          - nose : wheelbase to main gear 59 ft. 8 1/4 in., no brake, +/-60 deg steering angle.
          - tail : no brake.
          - up process takes 12 s : door opening 2 s, gear retract 8 s, door closing 8 s.

          Nose :
          - from UP : visor transit 0 deg 6-8 s.
          - nose transit 5 deg 4-6 s.
          - to DOWN : nose transit 12.5 deg 5.7 s.

          Max total temperature (TMO) : 127 degC (on nose).
          Max oil temperature : start and takeoff 125 degC, takeoff and 5 minutes
                                transient 195 degC, continuous operation 190 degC,
                                starting -35 degC, adavance above idle -20 degC.
          Mas oil pressure : continued operation 5 PSI, takeoff 10 PSI.
          Max fuel temperature : startup -40 degC, advance above idle -40 degC,
                                 continued operation 50 degC.
        </documentation>
        <documentation>
          - http://www.alpa.org/alpa/DesktopModules/ViewDocument.aspx?DocumentID=814 :

          Mass gross weight : takeoff lasts 45 s, V1 165 kt, VR 195 kt, V2 220.
          Initial pitch at rotation is 13.5 deg.
          Cockpit is very noisy until nose is streamlined.
          Climb rate is slowly increased from 1500 to 3000 ft/s.
          Best lift-over-drag ratio over 300 kt.
          At takeoff, center of gravity is 51-52%, 58% at Mach 2.04.
          At Mach 1.3, inlet-guide ramps lower to slow down the intake air.
          At Mach 1.7 the afterburners are turned off, and the non-bypass engines
          are able to increase to Mach 2.04 (1150 kt)
          with about half the fuel flow.
          At cruise speed, the air entering the engines is reduced by intake
          ramps to 500 kt. This drop in intakes provides 45% of thrust, the
          engines 50%, and the convergent/divergent effect of the nozzle and
          stowed thrust reversers, 5%.
          At Mach 2.04, fuel flow is 45200 lb/h.
          Heathrow to Kennedy : 3h50.
          VREF is 162 kt at 275000 lb.
        </documentation>
        <documentation>
          - http://www.concorde-jet.com/ :

          Nose : O deg visor up supersonic, 0 deg visor down subsonic,
                 5 deg takeoff/subsonic, and 12.5 deg approach/landing/taxi.
          Takeoff : 175 kt, in 24 s, 1700-2100 ft/minute.
          Landing : 162 kt, 1500-1700 ft/minute.
          Subsonic cruise : Mach 0.93.
          Fuel : capacity 95680 kg, 20500 kg/h, 10000 at arrival.
          Aero reference point steps back of 2 m at Mach 2.
        </documentation>
        <documentation>
          - http://www.club-concorde.org/ :

          Min runway : takeoff 3600 m, landing : 2200 m..
          Max wing loading : 488 kg/m2.
          Max climbing rate : 1525 m/minute.
          Takeoff speed : 214 kt.
          Landing speed : 130 kt, max 162 kt.
        </documentation>
        <reference
          refID="incident report"
          author="BEA"
          title="http://www.bea-fr.org/docspa/2000/f-sc000725/htm/f-sc000725.html/"
          date="july 2000"/>
        <documentation>
          Droop nose : 0.53 m.
          Front gear from nose (without droop nose) : 18.7 m.
          Main gear from front gear : 18.2 m.
          Distance of twin engine join : 11 m.

          Reheat provides 18% of additional thrust during take off.

          TABLE A corresponds to an effective filling at 95% of tanks (94% for tank 5).
          It is possible to surpass fuel gauges with 1660 additional liters.
        </documentation>
        <reference
          refID="AIAA Professional studies series"
          author="Jean Rech and Clive S. Leyman"
          title="A Case Study by Aerospatiale and British Aerospace on the Concorde"
          date=""/>
        <documentation>
          - http://www.aoe.vt.edu/~mason/Mason_f/ConfigAeroSupersonicNotes.pdf/ (Willian H. Mason) :

                    CG (without          CG (with          Aerodynamic
          Mach     fuel transfer)     fuel transfer)     center location
          ..............................................................
          0.5          53.5                53.5                55.0
          0.75                             53.5
          0.9                              55.0                58.0
          1.0                              55.0                64.5
          1.2                                                  63.5
          1.5                              57.5                62.5
          2.0          53.5                58.5                62.0

          (all positions in % of aerodynamic chord C0, 90.748 feet).
        </documentation>
        <documentation>
          - http://www.titanic.com/story/159/Concorde/ :

          Runway : 11200 ft takeoff, 7300 ft landing.
          Max climb rate : 5000 ft/s.
          Range : 3550 nm supersonic, 2760 nm subsonic (Mach 0.95 FL300).

          Areas (sq ft) : wings (gross) 3856, elevons (total) 344.44, fin
                          (excluding dorsal fin) 365, rudder 112.
        </documentation>
        <documentation>
          - http://www.dft.gov.uk/stellent/groups/dft_avsafety/documents/page/dft_avsafety_029047.hcsp/
            (incident report, 13 june 2003) :

          The fuel tanks are arranged in 3 groups : the left main transfer group,
          the right main transfer and the trim transfer. The left and right main
          transfer groups store fuel in the wings and sections of the center fuselage,
          and both groups are comprised of 3 main tanks, which supply 2 collector
          tanks per group, from which the engines are fed.

          The collector tanks on the right main transfer group are tanks 3 and 4,
          which feed engines 3 and 4 respectively. The main fuel transfer system
          transfers fuel from the main transfer tanks to the collector tanks at
          a rate sufficiently high to ensure that the collectors tanks are always
          maintained in a near full condition.
        </documentation>
        <reference
          refID="Nasa TM X-3532"
          author="Henry H. Arnaiz"
          title="Flight-measured lift and drag characteristics of a large, flexible, high supersonic cruise airplane"
          date="May 1977"/>
        <documentation>
          - http://www.nasa.gov/centers/dryden/pdf/87877main_H-913.pdf :

          The lift curve (delta wing) shifts downwards, temporarily at Mach 1.06, and completely near Mach 1.65.

          Differences of XB-70 :
          - cruise Mach 3 at 70,000 feet.
          - wider canards.
          - wingtips fold from 0 deg at Mach 0.75 to 65.70 deg at Mach 1.5 (transonic 25.30 deg).
        </documentation>


    </fileheader>

    <metrics>
        <documentation>
             Pilot's eyepoint location, in aircraft's own coord system, FROM cg.
             X, Y, Z, in inches

             ORIGIN (0,0,0) is at NOSE.

             Center of gravity :
             - level at wing level : -1/4 of max external fuselage height (130 in.).
             - 51.7%, inside corridor of C0 (maximum takeoff load)
               => real C0 starts over front gear location (18.7 m).

             Aero refence point :
             - level at wing level : -1/8 of max external fuselage height (130 in.).
             - back of center of gravity reduces autopilot roll (step back at supersonic cruise).
               It has been found that 200 inches behind CG reduces AUTOPILOT ROLL.
               => real at Mach 2 is 62% of C0.

             Eye point location : length from nose to cockpit (24 ft),
                                  1/4 of max external fuselage width (113 in.),
                                  1/4 of max fuselage height (113 in.).

             Add ac_wingincidence : 1/20 of wing chord (C0).

             Htailarm : distance from CG to horizontal tail tip, none (5 ft).
             Vtailarm : distance from CG to vertical tail tip.
        </documentation>

        <wingarea unit="FT2"> 3856.0000 </wingarea>
        <wingspan unit="FT"> 83.8300 </wingspan>
        <chord unit="FT"> 90.7500 </chord>                                               <!-- aeromatic 46.0 (C0) -->
        <htailarea unit="FT2"> 0.0000 </htailarea>                                       <!-- aeromatic 964.0 -->
        <htailarm unit="FT"> 5.0000 </htailarm>                                          <!-- aeromatic 18.0 -->
        <vtailarea unit="FT2"> 365.0000 </vtailarea>                                     <!-- aeromatic 771.20 -->
        <vtailarm unit="FT"> 5.0000 </vtailarm>                                          <!-- added (turbulence) -->
        <wing_incidence unit="DEG"> 2.86 </wing_incidence>                               <!-- aeromatic none (0.0) -->
        <!-- AC_LV        91.05                                      unit ? -->
        <location name="AERORP" unit="IN">                                               <!-- aeromatic 1335.4, 0.0, 0.0 -->
            <x> 736.22 </x>
            <y> 0.0000 </y>
            <z> -16.2500 </z>
        </location>
        <location name="EYEPOINT" unit="IN">                                             <!-- aeromatic 170.0, -32.0, 80.0 -->
            <x> 288.0000 </x>
            <y> -28.2500 </y>
            <z> 32.5000 </z>
        </location>
        <location name="VRP" unit="IN">
            <x> 0.0000 </x>
            <y> 0.0000 </y>
            <z> 0.0000 </z>
        </location>
    </metrics>

    <mass_balance>
        <documentation>
             Center of gravity location, empty weight, in aircraft's own structural coord
             system. X, Y, Z, in inches; X is positive out the tail, Y positive out the
             right wing.
        </documentation>

        <ixx unit="SLUG*FT2"> 1432000.0000 </ixx>                                        <!-- aeromatic 3419278 -->
        <iyy unit="SLUG*FT2"> 19034000.0000 </iyy>                                       <!-- aeromatic 22486091 -->
        <izz unit="SLUG*FT2"> 10100000.0000 </izz>                                       <!-- aeromatic 21487661 -->
        <ixy unit="SLUG*FT2"> 0.0000 </ixy>
        <ixz unit="SLUG*FT2"> 0.0000 </ixz>
        <iyz unit="SLUG*FT2"> 0.0000 </iyz>
        <emptywt unit="LBS"> 173500.0000 </emptywt>                                      <!-- aeromatic 244800 -->
        <location name="CG" unit="IN">                                                   <!-- aeromatic 1335.4, 0.0, -60.7 -->
            <x> 1299.4000 </x>
            <y> 0.0000 </y>
            <z> -32.5000 </z>
        </location>
        <pointmass name="payload">
            <weight unit="LBS"> 29500 </weight>
            <location name="payload" unit="IN">
                <x> 1299.4 </x>
                <y> 0 </y>
                <z> -32.5 </z>
            </location>
        </pointmass>
    </mass_balance>

    <ground_reactions>
        <documentation>
            - => real nose (18.7 m = 736.2 in.), wing (18.7 m + 18.2 m = 1452.8 in.).
            - gear height determined by 3D model, supposed at scale.

            - tyre diameter of main gears, at 3/42 of the length between the gears (18.2 m) = 51.2 in.

            - adjust the front spring, to be horizontal at full load.
        </documentation>

        <contact type="BOGEY" name="NOSE_LG">
            <location unit="IN">
                <x> 736.2000 </x>
                <y> 0.0000 </y>
                <z> -178.5000 </z>
            </location>
            <static_friction> 0.8000 </static_friction>
            <dynamic_friction> 0.5000 </dynamic_friction>
            <rolling_friction> 0.0200 </rolling_friction>
            <spring_coeff unit="LBS/FT"> 40000.0000 </spring_coeff>
            <damping_coeff unit="LBS/FT/SEC"> 40800.0000 </damping_coeff>
            <max_steer unit="DEG"> 60.0000 </max_steer>
            <brake_group> NONE </brake_group>
            <retractable>1</retractable>
        </contact>
        <contact type="BOGEY" name="LEFT_FWD">
            <location unit="IN">
                <x> 1427.2000 </x>
                <y> -152.0000 </y>
                <z> -158.5000 </z>
            </location>
            <static_friction> 0.8000 </static_friction>
            <dynamic_friction> 0.5000 </dynamic_friction>
            <rolling_friction> 0.0200 </rolling_friction>
            <spring_coeff unit="LBS/FT"> 408000.0000 </spring_coeff>
            <damping_coeff unit="LBS/FT/SEC"> 81600.0000 </damping_coeff>
            <max_steer unit="DEG"> 0.0 </max_steer>
            <brake_group> LEFT </brake_group>
            <retractable>1</retractable>
        </contact>
        <contact type="BOGEY" name="LEFT_REAR">
            <location unit="IN">
                <x> 1478.4000 </x>
                <y> -152.0000 </y>
                <z> -158.5000 </z>
            </location>
            <static_friction> 0.8000 </static_friction>
            <dynamic_friction> 0.5000 </dynamic_friction>
            <rolling_friction> 0.0200 </rolling_friction>
            <spring_coeff unit="LBS/FT"> 408000.0000 </spring_coeff>
            <damping_coeff unit="LBS/FT/SEC"> 81600.0000 </damping_coeff>
            <max_steer unit="DEG"> 0.0 </max_steer>
            <brake_group> LEFT </brake_group>
            <retractable>1</retractable>
        </contact>
        <contact type="BOGEY" name="RIGHT_FWD">
            <location unit="IN">
                <x> 1427.2000 </x>
                <y> 152.0000 </y>
                <z> -158.5000 </z>
            </location>
            <static_friction> 0.8000 </static_friction>
            <dynamic_friction> 0.5000 </dynamic_friction>
            <rolling_friction> 0.0200 </rolling_friction>
            <spring_coeff unit="LBS/FT"> 408000.0000 </spring_coeff>
            <damping_coeff unit="LBS/FT/SEC"> 81600.0000 </damping_coeff>
            <max_steer unit="DEG"> 0.0 </max_steer>
            <brake_group> RIGHT </brake_group>
            <retractable>1</retractable>
        </contact>
        <contact type="BOGEY" name="RIGHT_REAR">
            <location unit="IN">
                <x> 1478.4000 </x>
                <y> 152.0000 </y>
                <z> -158.0000 </z>
            </location>
            <static_friction> 0.8000 </static_friction>
            <dynamic_friction> 0.5000 </dynamic_friction>
            <rolling_friction> 0.0200 </rolling_friction>
            <spring_coeff unit="LBS/FT"> 408000.0000 </spring_coeff>
            <damping_coeff unit="LBS/FT/SEC"> 81600.0000 </damping_coeff>
            <max_steer unit="DEG"> 0.0 </max_steer>
            <brake_group> RIGHT </brake_group>
            <retractable>1</retractable>
        </contact>
        <contact type="BOGEY" name="TAIL">
            <location unit="IN">
                <x> 2081.0000 </x>
                <y> 0.0000 </y>
                <z> 20.0000 </z>
            </location>
            <static_friction> 0.8000 </static_friction>
            <dynamic_friction> 0.5000 </dynamic_friction>
            <rolling_friction> 0.0200 </rolling_friction>
            <spring_coeff unit="LBS/FT"> 122400.0000 </spring_coeff>
            <damping_coeff unit="LBS/FT/SEC"> 40800.0000 </damping_coeff>
            <max_steer unit="DEG"> 0.0 </max_steer>
            <brake_group> NONE </brake_group>
            <retractable>1</retractable>
        </contact>

        <documentation>
            additional contact points, for crash detection when gear retracted.
        </documentation>

        <contact type="STRUCTURE" name="NOSE_TIP">
            <location unit="IN">
                <x> 0.0000 </x>
                <y> 0.0000 </y>
                <z> 0.0000 </z>
            </location>
            <static_friction> 0.8000 </static_friction>
            <dynamic_friction> 0.5000 </dynamic_friction>
            <rolling_friction> 0.0200 </rolling_friction>
            <spring_coeff unit="LBS/FT"> 122400.0000 </spring_coeff>
            <damping_coeff unit="LBS/FT/SEC"> 40800.0000 </damping_coeff>
        </contact>
        <contact type="STRUCTURE" name="LEFT_TIP">
            <location unit="IN">
                <x> 1825.2000 </x>
                <y> -503.0000 </y>
                <z> 0.0000 </z>
            </location>
            <static_friction> 0.8000 </static_friction>
            <dynamic_friction> 0.5000 </dynamic_friction>
            <rolling_friction> 0.0200 </rolling_friction>
            <spring_coeff unit="LBS/FT"> 122400.0000 </spring_coeff>
            <damping_coeff unit="LBS/FT/SEC"> 40800.0000 </damping_coeff>
        </contact>
        <contact type="STRUCTURE" name="RIGHT_TIP">
            <location unit="IN">
                <x> 1825.2000 </x>
                <y> 503.0000 </y>
                <z> 0.0000 </z>
            </location>
            <static_friction> 0.8000 </static_friction>
            <dynamic_friction> 0.5000 </dynamic_friction>
            <rolling_friction> 0.0200 </rolling_friction>
            <spring_coeff unit="LBS/FT"> 122400.0000 </spring_coeff>
            <damping_coeff unit="LBS/FT/SEC"> 40800.0000 </damping_coeff>
        </contact>
        <contact type="STRUCTURE" name="TAIL_TIP">
            <location unit="IN">
                <x> 2427.6000 </x>
                <y> 0.0000 </y>
                <z> 50.0000 </z>
            </location>
            <static_friction> 0.8000 </static_friction>
            <dynamic_friction> 0.5000 </dynamic_friction>
            <rolling_friction> 0.0200 </rolling_friction>
            <spring_coeff unit="LBS/FT"> 122400.0000 </spring_coeff>
            <damping_coeff unit="LBS/FT/SEC"> 40800.0000 </damping_coeff>
        </contact>
    </ground_reactions>

    <system name="Nose Wheel Steering">
     <property>systems/NWS/engaged</property>
     <property value="1">systems/NWS/hydraulics</property>

     <channel name="Nose Wheel Steering">
        <scheduled_gain name="systems/NWS/pedal-cmd">
         <documentation>
              default is rudder pedal (flight).
         </documentation>
         <input>fcs/rudder-cmd-norm</input>
         <table>
          <independentVar lookup="row">systems/NWS/engaged</independentVar>
           <tableData>
              0      1.0
              1      0.0
           </tableData>
         </table>
         <output>fcs/rudder-pedal-norm</output>
        </scheduled_gain>

        <scheduled_gain name="systems/NWS/steer-cmd">
         <documentation>
              - default is no wheel steering (flight).
              - default is hydraulics.
              - rudder steering at 10 deg.
         </documentation>
         <input>fcs/rudder-cmd-norm</input>
         <table>
          <independentVar lookup="row">systems/NWS/engaged</independentVar>
          <independentVar lookup="column">systems/NWS/hydraulics</independentVar>
           <tableData>
                     0.0      1.0
              0     -0.0     -0.171
              1     -0.0     -1.0
           </tableData>
         </table>
         <output>fcs/steer-cmd-norm</output>
      </scheduled_gain>
     </channel>
    </system>
    
    <system name="Tractor">
     <property>/sim/model/pushback/target-speed-fps</property>
     <property>/sim/model/pushback/position-norm</property>     
     <property>/sim/model/pushback/kp</property>
     <property>/sim/model/pushback/ki</property>
     <property>/sim/model/pushback/kd</property>
     <channel name="Tractor">

      <switch name="systems/pushback/linked">
        <default value="-1"/>
        <test value="0">
          /sim/model/pushback/position-norm gt 0.95
          gear/unit[0]/WOW == 1
          gear/unit[0]/wheel-speed-fps lt 50
        </test>
      </switch>

      <summer name="systems/pushback/speed-error">
        <input>/sim/model/pushback/target-speed-fps</input>
        <input>-gear/unit[0]/wheel-speed-fps</input>
      </summer>

      <pid name="systems/pushback/force">
        <input>systems/pushback/speed-error</input>
        <kp>/sim/model/pushback/kp</kp>
        <ki>/sim/model/pushback/ki</ki>
        <kd>/sim/model/pushback/kd</kd>
        <trigger>systems/pushback/linked</trigger>
        <output>/sim/model/pushback/force</output>
      </pid>

      <switch name="systems/pushback/force-output">
        <default value="0"/>
        <test value="systems/pushback/force">
          systems/pushback/linked == 0
        </test>
        <output>external_reactions/tractor/magnitude</output>
      </switch>

    </channel>
   </system>

    <flight_control name="Concorde">

     <property>fcs/elevator-surface</property>
     <property>fcs/aileron-surface</property>
     <property>fcs/rudder-surface</property>

     <channel name="Pitch">

        <summer name="Pitch Trim Sum">
            <input>fcs/elevator-cmd-norm</input>
            <input>fcs/pitch-trim-cmd-norm</input>
            <clipto>
                <min>-1.0000</min>
                <max>1.0000</max>
            </clipto>
        </summer>

        <actuator name="Elevator Actuator">
            <input>fcs/pitch-trim-sum</input>
            <output>fcs/elevator-surface</output>
        </actuator>

        <aerosurface_scale name="Elevator Control">
            <input>fcs/elevator-surface</input>
            <gain>0.0175</gain>
            <range>
                <documentation>
                  => change -0.35/0.30 to -22.5/22.5 deg real.
                </documentation>
                <min>-22.5000</min>
                <max>22.5000</max>
            </range>
            <output>fcs/elevator-pos-rad</output>
        </aerosurface_scale>
        <aerosurface_scale name="Elevator Position Normalizer">
            <input>fcs/elevator-surface</input>
            <range>
                <min>-1</min>
                <max>1</max>
            </range>
            <output>fcs/elevator-pos-norm</output>
        </aerosurface_scale>

     </channel>
     <channel name="Roll">

        <summer name="Roll Trim Sum">
            <input>fcs/aileron-cmd-norm</input>
            <input>fcs/roll-trim-cmd-norm</input>
            <clipto>
                <min>-1.0000</min>
                <max>1.0000</max>
            </clipto>
        </summer>

        <actuator name="Aileron Actuator">
            <input>fcs/roll-trim-sum</input>
            <output>fcs/aileron-surface</output>
        </actuator>

        <aerosurface_scale name="Left Aileron Control">
            <input>fcs/aileron-surface</input>
            <gain>0.0175</gain>
            <range>
                <documentation>
                   => change 0.35 to 22.5 deg real.
                </documentation>
                <min>-22.5000</min>
                <max>22.5000</max>
            </range>
            <output>fcs/left-aileron-pos-rad</output>
        </aerosurface_scale>
        <aerosurface_scale name="Left Aileron Position Normalizer">
            <input>fcs/aileron-surface</input>
            <range>
                <min>-1</min>
                <max>1</max>
            </range>
            <output>fcs/left-aileron-pos-norm</output>
        </aerosurface_scale>

        <aerosurface_scale name="Right Aileron Control">
            <input>-fcs/aileron-surface</input>
            <gain>0.0175</gain>
            <range>
                <documentation>
                   => change 0.35 to 22.5 deg real.
                </documentation>
                <min>-22.5000</min>
                <max>22.5000</max>
            </range>
            <output>fcs/right-aileron-pos-rad</output>
        </aerosurface_scale>
        <aerosurface_scale name="Right Aileron Position Normalizer">
            <input>fcs/aileron-surface</input>
            <range>
                <min>-1</min>
                <max>1</max>
            </range>
            <output>fcs/right-aileron-pos-norm</output>
        </aerosurface_scale>

     </channel>
     <channel name="Yaw">

        <summer name="Rudder Command Sum">
            <input>fcs/rudder-pedal-norm</input>
            <input>fcs/yaw-trim-cmd-norm</input>
            <clipto>
                <min>-1.0000</min>
                <max>1.0000</max>
            </clipto>
        </summer>

        <scheduled_gain name="Yaw Damper Rate">
            <input>velocities/r-aero-rad_sec</input>
            <table>
                <independentVar>aero/qbar-psf</independentVar>
                <tableData>
                    3.0000	0.0000
                    11.0000	2.0000
                </tableData>
            </table>
        </scheduled_gain>

        <scheduled_gain name="Yaw Damper Beta">
            <input>aero/beta-rad</input>
            <table>
                <independentVar>aero/qbar-psf</independentVar>
                <tableData>
                    3.0000	0.0000
                    11.0000	0.0000
                </tableData>
            </table>
        </scheduled_gain>

        <summer name="Yaw Damper Sum">
            <input>fcs/yaw-damper-beta</input>
            <input>fcs/yaw-damper-rate</input>
            <clipto>
                <min>-0.2000</min>
                <max>0.2000</max>
            </clipto>
        </summer>

        <scheduled_gain name="Yaw Damper Final">
            <input>fcs/yaw-damper-sum</input>
            <table>
                <independentVar>aero/qbar-psf</independentVar>
                <tableData>
                    2.9900	0.0000
                    3.0000	1.0000
                </tableData>
            </table>
        </scheduled_gain>

        <summer name="Rudder Sum">
            <input>fcs/rudder-command-sum</input>
            <input>fcs/yaw-damper-final</input>
            <clipto>
                <min>-1.0000</min>
                <max>1.0000</max>
            </clipto>
        </summer>

        <actuator name="Rudder Actuator">
            <input>fcs/rudder-sum</input>
            <output>fcs/rudder-surface</output>
        </actuator>

        <aerosurface_scale name="Rudder Control">
            <input>fcs/rudder-surface</input>
            <gain>0.0175</gain>
            <range>
                <documentation>
                  => change 0.35 to 29 deg real.
                </documentation>
                <min>-29.0000</min>
                <max>29.0000</max>
            </range>
            <output>fcs/rudder-pos-rad</output>
        </aerosurface_scale>
        <aerosurface_scale name="Rudder Position Normalizer">
            <input>fcs/rudder-surface</input>
            <range>
                <min>-1</min>
                <max>1</max>
            </range>
            <output>fcs/rudder-pos-norm</output>
        </aerosurface_scale>

     </channel>
     <channel name="Aeromechanical">

        <kinematic name="Flaps Control">
            <input>fcs/flap-cmd-norm</input>
            <traverse>
                <documentation>
                  changed 30 deg / 3 positions : use flaps as nose.
                </documentation>
                <setting>
                    <position>0.0000</position>
                    <time>0.0000</time>
                </setting>
                <setting>
                    <position>0.0000</position>
                    <time>7.0000</time>
                </setting>
                <setting>
                    <position>5.0000</position>
                    <time>5.0000</time>
                </setting>
                <setting>
                    <position>12.5000</position>
                    <time>6.0000</time>
                </setting>
            </traverse>
            <output>fcs/flap-pos-deg</output>
        </kinematic>
        <aerosurface_scale name="Flap Position Normalizer">
          <input>fcs/flap-pos-deg</input>
          <domain>
            <min>0</min>
            <max>12.5</max>
          </domain>
          <range>
            <min>0</min>
            <max>1</max>
          </range>
          <output>fcs/flap-pos-norm</output>
        </aerosurface_scale>

        <kinematic name="Gear Control">
            <input>gear/gear-cmd-norm</input>
            <traverse>
                <documentation>
                   => up in 12 s.
                </documentation>
                <setting>
                    <position>0.0000</position>
                    <time>0.0000</time>
                </setting>
                <setting>
                    <position>1.0000</position>
                    <time>12.0000</time>
                </setting>
            </traverse>
            <output>gear/gear-pos-norm</output>
        </kinematic>

        <kinematic name="Speedbrake Control">
            <input>fcs/speedbrake-cmd-norm</input>
            <traverse>
                <setting>
                    <position>0.0000</position>
                    <time>0.0000</time>
                </setting>
                <setting>
                    <position>1.0000</position>
                    <time>1.0000</time>
                </setting>
            </traverse>
            <output>fcs/speedbrake-pos-norm</output>
        </kinematic>

     </channel>

    </flight_control>

    <propulsion>
        <documentation>
            - after FCS, which creates the intake command variable.
            - air intake on (supersonic) by default.
        </documentation>

        <documentation>
            - Engine center at 5/7 of length (2428 in.), -2/5 of fuselage height (130 in.).
            - Border aligned with main gear track (304 in. / 2).
              => real engine diameter is 1.65 m = (11 - 7.7) / 2.
            - Thruster center 3/4 of length (2428 in.), aligned with engines.
        </documentation>

        <property>fcs/ground-idle</property>
        <property>fcs/intake-subsonic-pos</property>

        <engine file="Olympus593Mrk610">
            <feed>13</feed>
            <thruster file="direct">
                <location unit="IN">
                    <x> 1821.0000 </x>
                    <y> -249.4000 </y>
                    <z> -52.0000 </z>
                </location>
                <orient unit="DEG">
                    <roll> 0.0 </roll>
                    <pitch> 0.0 </pitch>
                    <yaw> 0.0 </yaw>
                </orient>
            </thruster>
        </engine>
        <engine file="Olympus593Mrk610">
            <feed>14</feed>
            <thruster file="direct">
                <location unit="IN">
                    <x> 1821.0000 </x>
                    <y> -184.5000 </y>
                    <z> -52.0000 </z>
                </location>
                <orient unit="DEG">
                    <roll> 0.0 </roll>
                    <pitch> 0.0 </pitch>
                    <yaw> 0.0 </yaw>
                </orient>
            </thruster>
        </engine>
        <engine file="Olympus593Mrk610">
            <feed>15</feed>
            <thruster file="direct">
                <location unit="IN">
                    <x> 1821.0000 </x>
                    <y> 184.5000 </y>
                    <z> -52.0000 </z>
                </location>
                <orient unit="DEG">
                    <roll> 0.0 </roll>
                    <pitch> 0.0 </pitch>
                    <yaw> 0.0 </yaw>
                </orient>
            </thruster>
        </engine>
        <engine file="Olympus593Mrk610">
            <feed>16</feed>
            <thruster file="direct">
                <location unit="IN">
                    <x> 1821.0000 </x>
                    <y> 249.4000 </y>
                    <z> -52.0000 </z>
                </location>
                <orient unit="DEG">
                    <roll> 0.0 </roll>
                    <pitch> 0.0 </pitch>
                    <yaw> 0.0 </yaw>
                </orient>
            </thruster>
        </engine>

        <documentation>
           The parameters are gear track, and tank 5 radius;
           to check against engine center.

           => Real length is arm, % of MAC (see table above) : real MAC (C0 1089 in.)
              starts at 18.7 m (736.2 in.).
           => Real half gear track is 7.7 m / 2 (151.6 in.).

           Configuration for take off with maximum weight :
           all tanks full, except tank 11 at 86%.
        </documentation>

        <tank type="FUEL">    <!-- Tank number 0 -->
            <documentation>
                Tank 1 :
                - 1/2 radius of tank 5.
                - align 3/4 of gear track.
                - => 39.80 % MAC.
            </documentation>

            <location unit="IN">
                <x> 1170.0000 </x>
                <y> -114.0000 </y>
                <z>  -12.0000 </z>                                                    <!-- aeromatic -12 -->
            </location>
            <radius unit="IN"> 50 </radius>
            <capacity unit="LBS"> 9255.0100 </capacity>
            <contents unit="LBS"> 9255.0100 </contents>
            <temperature> 59 </temperature>                                           <!-- 15 deg C -->
        </tank>
        <tank type="FUEL">    <!-- Tank number 1 -->
            <documentation>
                Tank 2 :
                - 1/2 radius of tank 5.
                - align 1/2 of gear track.
                - near engine center.
                - => 76.10 % MAC.
            </documentation>
            <location unit="IN">
                <x> 1565.0000 </x>
                <y> -76.0000 </y>
                <z> -12.0000 </z>
            </location>
            <radius unit="IN"> 50 </radius>
            <capacity unit="LBS"> 10075.1300 </capacity>
            <contents unit="LBS"> 10075.1300 </contents>
            <temperature> 59 </temperature>
        </tank>
        <tank type="FUEL">    <!-- Tank number 2 -->
            <documentation>
                Tank 3 :
                - 1/2 radius of tank 5.
                - align 1/2 of gear track.
                - near engine center.
                - => 76.10 % MAC.
            </documentation>
            <location unit="IN">
                <x> 1565.0000 </x>
                <y> 76.0000 </y>
                <z> -12.0000 </z>
            </location>
            <radius unit="IN"> 50 </radius>
            <capacity unit="LBS"> 10075.1300 </capacity>
            <contents unit="LBS"> 10075.1300 </contents>
            <temperature> 59 </temperature>
        </tank>
        <tank type="FUEL">    <!-- Tank number 3 -->
            <documentation>
                Tank 4 :
                - 1/2 radius of tank 5.
                - align 3/4 of gear track.
                - => 39.80 % MAC
            </documentation>
            <location unit="IN">
                <x> 1170.0000 </x>
                <y> 114.0000 </y>
                <z> -12.0000 </z>
            </location>
            <radius unit="IN"> 50 </radius>
            <capacity unit="LBS"> 9255.0100 </capacity>
            <contents unit="LBS"> 9255.0100 </contents>
            <temperature> 59 </temperature>
        </tank>
        <tank type="FUEL">    <!-- Tank number 4 -->
            <documentation>
                Tank 5 :
                - center + radius = gear position.
                - => 49.40 % MAC.
            </documentation>
            <location unit="IN">
                <x> 1274.0000 </x>
                <y> -152.0000 </y>
                <z> -12.0000 </z>
            </location>
            <radius unit="IN"> 100 </radius>
            <capacity unit="LBS"> 15873.2800 </capacity>
            <contents unit="LBS"> 15873.2800 </contents>
        </tank>
        <tank type="FUEL">    <!-- Tank number 5 -->
            <documentation>
                Tank 6 :
                - 3/2 radius of tank 5.
                - align 1/2 of gear track.
                - before engine center.
                - => 66.70 % MAC.
            </documentation>
            <location unit="IN">
                <x> 1463.0000 </x>
                <y> -76.0000 </y>
                <z> -12.0000 </z>
            </location>
            <radius unit="IN"> 150 </radius>
            <capacity unit="LBS"> 25544.9600 </capacity>
            <contents unit="LBS"> 25544.9600 </contents>
        </tank>
        <tank type="FUEL">    <!-- Tank number 6 -->
            <documentation>
                Tank 7 :
                - radius of tank 5.
                - before engine center.
                - => 64.70 % MAC.
            </documentation>
            <location unit="IN">
                <x> 1441.0000 </x>
                <y> 152.0000 </y>
                <z> -12.0000 </z>
            </location>
            <radius unit="IN"> 100 </radius>
            <capacity unit="LBS"> 16325.2300 </capacity>
            <contents unit="LBS"> 16325.2300 </contents>
        </tank>
        <tank type="FUEL">    <!-- Tank number 7 -->
            <documentation>
                Tank 8 :
                - 3/2 radius of tank 5.
                - align 1/2 of gear track.
                - => 46.70 % MAC.
            </documentation>
            <location unit="IN">
                <x> 1245.0000 </x>
                <y> 76.0000 </y>
                <z> -12.0000 </z>
            </location>
            <radius unit="IN"> 150 </radius>
            <capacity unit="LBS"> 28302.9500 </capacity>
            <contents unit="LBS"> 28302.9500 </contents>
        </tank>
        <tank type="FUEL">    <!-- Tank number 8 -->
            <documentation>
                Tank 9 :
                - 3/2 radius of tank 5.
                - centred on plane axis.
                - => 16.90 % MAC
            </documentation>
            <location unit="IN">
                <x> 920.0000 </x>
                <y> 0.0000 </y>
                <z> -12.0000 </z>
            </location>
            <radius unit="IN"> 150 </radius>
            <capacity unit="LBS"> 24462.4900 </capacity>
            <contents unit="LBS"> 24462.4900 </contents>
        </tank>
        <tank type="FUEL">    <!-- Tank number 9 -->
            <documentation>
                Tank 10 :
                - 1/2 radius of tank 5.
                - centered on plane axis.
                - => 30.50 % MAC
            </documentation>
            <location unit="IN">
                <x> 1068.0000 </x>
                <y> 0.0000 </y>
                <z> -12.0000 </z>
            </location>
            <radius unit="IN"> 50 </radius>
            <capacity unit="LBS"> 26329.8100 </capacity>
            <contents unit="LBS"> 26329.8100 </contents>
        </tank>
        <tank type="FUEL">    <!-- Tank number 10 -->
            <documentation>
                Tank 11 :
                - 1/2 radius of tank 5.
                - centered on plane axis.
                - => 113.90 % MAC
            </documentation>
            <location unit="IN">
                <x> 1977.0000 </x>
                <y> 0.0000 </y>
                <z> -12.0000 </z>
            </location>
            <radius unit="IN"> 50 </radius>
            <capacity unit="LBS"> 22961.1400 </capacity>
            <contents unit="LBS"> 19735.3100 </contents>
        </tank>
        <tank type="FUEL">    <!-- Tank number 11 -->
            <documentation>
                Tank 5A :
                - radius of tank 5.
                - align 5/2 of gear track.
                - => 74.80 % MAC
            </documentation>
            <location unit="IN">
                <x> 1551.0000 </x>
                <y> -380.0000 </y>
                <z> -12.0000 </z>
            </location>
            <radius unit="IN"> 100 </radius>
            <capacity unit="LBS"> 4905.2900 </capacity>
            <contents unit="LBS"> 4905.2900 </contents>
        </tank>
        <tank type="FUEL">    <!-- Tank number 12 -->
            <documentation>
                Tank 7A :
                - radius of tank 5.
                - align 5/2 of gear track.
                - => 74.80 % MAC
            </documentation>
            <location unit="IN">
                <x> 1551.0000 </x>
                <y> 380.0000 </y>
                <z> -12.0000 </z>
            </location>
            <radius unit="IN"> 100 </radius>
            <capacity unit="LBS"> 4905.2900 </capacity>
            <contents unit="LBS"> 4905.2900 </contents>
        </tank>

        <documentation>
            LP valve to emulate cross feed of engine :
            - position like the engine tank.
            - not empty, to avoid stop at launch.
            - can feed 75000 kg/h per engine (takeoff with reheat X 3 speed up) :
              25000 x 3 / 3600 = 46 lb content, if supplied every 1 s from other tanks.
        </documentation>

        <tank type="FUEL">
            <location unit="IN">
                <x> 1170.0 </x>
                <y> -114.0 </y>
                <z>  -12.0 </z>
            </location>
            <capacity unit="LBS"> 46 </capacity>
            <contents unit="LBS"> 46 </contents>
        </tank>
        <tank type="FUEL">
            <location unit="IN">
                <x> 1565.0 </x>
                <y> -76.0 </y>
                <z> -12.0 </z>
            </location>
            <capacity unit="LBS"> 46 </capacity>
            <contents unit="LBS"> 46 </contents>
        </tank>
        <tank type="FUEL">
            <location unit="IN">
                <x> 1565.0 </x>
                <y> 76.0 </y>
                <z> -12.0 </z>
            </location>
            <capacity unit="LBS"> 46 </capacity>
            <contents unit="LBS"> 46 </contents>
        </tank>
        <tank type="FUEL">
            <location unit="IN">
                <x> 1170.0 </x>
                <y> 114.0 </y>
                <z>  -12.0 </z>
            </location>
            <capacity unit="LBS"> 46 </capacity>
            <contents unit="LBS"> 46 </contents>
        </tank>
    </propulsion>

    <aerodynamics>

        <alphalimits unit="DEG">
            <documentation>
              added : => real -5.5 to 16.5 deg.
            </documentation>
            <min>-5.5</min>
            <max>16.5</max>
        </alphalimits>

        <aero_ref_pt_shift_x>
          <function name="aero/function/kC0">
            <description>Shift_of_center_of_pressure</description>
            <table>
              <independentVar>velocities/mach</independentVar>
              <tableData>
                0.5   	0.550
                0.9   	0.580
                1.0   	0.645
                1.2   	0.635
                1.5   	0.625
                2.0   	0.620
              </tableData>
            </table>
          </function>
        </aero_ref_pt_shift_x>

        <documentation>
           Added :
           - additional lift on takeoff, otherwise tail touches the ground.
           - downwash of the air between the wing and the ground creates a cushion,
             making the landing smooth.
        </documentation>
        <function name="aero/function/kCLge">
            <description>Change_in_lift_due_to_ground_effect</description>
            <table>
                <independentVar>aero/h_b-mac-ft</independentVar>
                <tableData>
                    0.0000	1.2000
                    0.1000	1.1500
                    0.1500	1.0900
                    0.2000	1.0200
                    1.1000	1.0000
                </tableData>
            </table>
        </function>

        <axis name="DRAG">
            <documentation>
               Add Mach 0.0, 0.6, 1.1 and 1.4 :
               - increase (x1.2) climb drag to get 10 pitch;
               - increase (x1.2) landing drag to get 10 pitch and VREF 162 kt.
               - supersonic decreases drag (in front of the wave);
               - Mach 1.1 is end of transonic wall.
               - Mach 1.4 is supersonic cruise.
            </documentation>
            <function name="aero/coefficient/CD0">
                <description>Drag_at_zero_lift</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                      <table>
                          <independentVar lookup="row">aero/alpha-rad</independentVar>
                          <independentVar lookup="column">velocities/mach</independentVar>
                          <tableData>
                                        0.0000	0.6000	0.8000	1.1000	1.4000
                              -1.5700	1.5000	1.5000	1.5000	1.5000	1.5000
                              -0.2600	0.0408	0.0408	0.0340	0.0200	0.0120
                               0.0000	0.0204	0.0204	0.0170	0.0100	0.0060
                               0.2600	0.0408	0.0408	0.0340	0.0200	0.0120
                               1.5700	1.5000	1.5000	1.5000	1.5000	1.5000
                          </tableData>
                      </table>
                </product>
            </function>
            <function name="aero/coefficient/CDi">
                <description>Induced_drag</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>aero/cl-squared</property>
                    <value>0.042</value>
                </product>
            </function>
            <documentation>
              Add Mach 1.15, 1.3, 1.7 and 2.0 :
              - respect the thrust X 2.7 by air intakes.
              - supersonic decreases drag (in front of the wave).
              - Mach 1.8 adjusts climb rate : 0.015 -> 0.018.
              - Mach 2.0 adjusts consumption during supersonic cruise.
              Climb from Mach 0.95 to 1.7 in 10 minutes, adjusted by :
              - Mach 1.1 is end of transonic wall.
              - Mach 1.3 is start of effect of air intakes.
              - Mach 1.7 is end of reaheat.
            </documentation>
            <function name="aero/coefficient/CDmach">
                <description>Drag_due_to_mach</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                      <table>
                          <independentVar>velocities/mach</independentVar>
                          <tableData>
                              0.0       0.000
                              0.79      0.000
                              1.1       0.023
                              1.15      0.020
                              1.3       0.019
                              1.7       0.016
                              1.8       0.013
                              2.0       0.010
                          </tableData>
                      </table>
                </product>
            </function>
            <documentation>
              nose drag.
            </documentation>
            <function name="aero/coefficient/CDflap">
                <description>Drag_due_to_flaps</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>fcs/flap-cmd-norm</property>
                    <value>0.0550</value>
                </product>
            </function>
            <function name="aero/coefficient/CDgear">
                <description>Drag_due_to_gear</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>gear/gear-pos-norm</property>
                    <value>0.0110</value>
                </product>
            </function>
            <documentation>
               0.0170 replaced by 0.0 : ctrl-B enables speedbrakes.
            </documentation>
            <function name="aero/coefficient/CDsb">
                <description>Drag_due_to_speedbrakes</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>fcs/speedbrake-pos-norm</property>
                    <value>0.0</value>
                </product>
            </function>
            <function name="aero/coefficient/CDbeta">
                <description>Drag_due_to_sideslip</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                      <table>
                          <independentVar>aero/beta-rad</independentVar>
                          <tableData>
                              -1.5700	1.2300
                              -0.2600	0.0500
                               0.0000	0.0000
                               0.2600	0.0500
                               1.5700	1.2300
                          </tableData>
                      </table>
                </product>
            </function>
            <documentation>
              - drag is always positiv.
              - divide by 10.
            </documentation>
            <function name="aero/coefficient/CDde">
                <description>Drag_due_to_Elevator_Deflection</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <abs>
                     <property>fcs/elevator-pos-norm</property>
                    </abs>
                    <value>0.0055</value>
                </product>
            </function>
        </axis>

        <axis name="SIDE">
            <function name="aero/coefficient/CYb">
                <description>Side_force_due_to_beta</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>aero/beta-rad</property>
                    <value>-1.0000</value>
                </product>
            </function>
        </axis>

        <axis name="LIFT">
            <documentation>
             Add Mach 0.0 and 0.6 :
             - decrease (0 and x1/3 at 0 radian) landing lift to get 10 pitch;
             - decrease climb lift to get 10 pitch;
             - at low speed, lift is better (x0.75) at high AOA, because of vortex over the wing.

             Add Mach above 0.8 :
             - transonic (Mach 1.06) shifts the curve vertically (XB-70).
             - supersonic (above Mach 1.18) shifts the curve vertically (XB-70).
             - adjust consumption during supersonic cruise : drag increases with alpha.
            </documentation>
            <function name="aero/coefficient/CLalpha">
                <description>Lift_due_to_alpha</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>aero/function/kCLge</property>
                      <table>
                          <independentVar lookup="row">aero/alpha-rad</independentVar>
                          <independentVar lookup="column">velocities/mach</independentVar>
                          <tableData>
                                      0.0      0.6      0.8      1.0      1.06     1.18     1.65     2.10
                              -0.20  -0.227   -0.227   -0.680   -0.680   -0.700   -0.680   -0.780   -0.880
                               0.00   0.000    0.067    0.200    0.200    0.180    0.200    0.100    0.000
                               0.23   0.900    0.900    1.200    1.200    1.180    1.200    1.100    1.000
                               0.60   0.200    0.200    0.600    0.600    0.580    0.600    0.500    0.400
                          </tableData>
                      </table>
                </product>
            </function>
            <documentation>
              changed 1.5 to 0.0 : used flaps as nose.
            </documentation>
            <function name="aero/coefficient/dCLflap">
                <description>Delta_Lift_due_to_flaps</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>fcs/flap-cmd-norm</property>
                    <value>0.0000</value>
                </product>
            </function>
           <documentation>
               -0.0800 replaced by 0.0 : ctrl-B enables speedbrakes.
            </documentation>
            <function name="aero/coefficient/dCLsb">
                <description>Delta_Lift_due_to_speedbrake</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>fcs/speedbrake-pos-norm</property>
                    <value>0.0</value>
                </product>
            </function>
            <function name="aero/coefficient/CLde">
                <description>Lift_due_to_Elevator_Deflection</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>fcs/elevator-pos-rad</property>
                    <value>0.2000</value>
                </product>
            </function>
        </axis>

        <axis name="ROLL">
            <function name="aero/coefficient/Clb">
                <description>Roll_moment_due_to_beta</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>aero/beta-rad</property>
                    <value>-0.1000</value>
                </product>
            </function>
            <function name="aero/coefficient/Clp">
                <description>Roll_moment_due_to_roll_rate</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>aero/bi2vel</property>
                    <property>velocities/p-aero-rad_sec</property>
                    <value>-0.4000</value>
                </product>
            </function>
            <function name="aero/coefficient/Clr">
                <description>Roll_moment_due_to_yaw_rate</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>aero/bi2vel</property>
                    <property>velocities/r-aero-rad_sec</property>
                    <value>0.1500</value>
                </product>
            </function>
            <function name="aero/coefficient/Clda">
                <description>Roll_moment_due_to_aileron</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>fcs/left-aileron-pos-rad</property>
                      <table>
                          <independentVar>velocities/mach</independentVar>
                          <tableData>
                              0.0000	0.1000
                              2.0000	0.0330
                          </tableData>
                      </table>
                </product>
            </function>
            <function name="aero/coefficient/Cldr">
                <description>Roll_moment_due_to_rudder</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>fcs/rudder-pos-rad</property>
                    <value>0.0100</value>
                </product>
            </function>
        </axis>

        <axis name="PITCH">
            <function name="aero/coefficient/Cmalpha">
                <description>Pitch_moment_due_to_alpha</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/cbarw-ft</property>
                    <property>aero/alpha-rad</property>
                    <value>-0.7000</value>
                </product>
            </function>
            <function name="aero/coefficient/Cmde">
                <description>Pitch_moment_due_to_elevator</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/cbarw-ft</property>
                    <property>fcs/elevator-pos-rad</property>
                      <table>
                          <independentVar>velocities/mach</independentVar>
                          <tableData>
                              0.0000	-1.3000
                              2.0000	-0.3250
                          </tableData>
                      </table>
                </product>
            </function>
            <function name="aero/coefficient/Cmq">
                <description>Pitch_moment_due_to_pitch_rate</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/cbarw-ft</property>
                    <property>aero/ci2vel</property>
                    <property>velocities/q-aero-rad_sec</property>
                    <value>-21.0000</value>
                </product>
            </function>
            <function name="aero/coefficient/Cmadot">
                <description>Pitch_moment_due_to_alpha_rate</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/cbarw-ft</property>
                    <property>aero/ci2vel</property>
                    <property>aero/alphadot-rad_sec</property>
                    <value>-4.0000</value>
                </product>
            </function>
        </axis>

        <axis name="YAW">
            <function name="aero/coefficient/Cnb">
                <description>Yaw_moment_due_to_beta</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>aero/beta-rad</property>
                    <value>0.1200</value>
                </product>
            </function>
            <function name="aero/coefficient/Cnr">
                <description>Yaw_moment_due_to_yaw_rate</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>aero/bi2vel</property>
                    <property>velocities/r-aero-rad_sec</property>
                    <value>-0.1500</value>
                </product>
            </function>
            <function name="aero/coefficient/Cndr">
                <description>Yaw_moment_due_to_rudder</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>fcs/rudder-pos-rad</property>
                    <value>-0.1000</value>
                </product>
            </function>
            <function name="aero/coefficient/Cnda">
                <description>Adverse_yaw</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>fcs/left-aileron-pos-rad</property>
                    <value>0.0000</value>
                </product>
            </function>
        </axis>
    </aerodynamics>

   <external_reactions>
       <force name="tractor" frame="BODY">
         <location unit="IN">
           <x> 736.2000 </x>
           <y> 0.0000 </y>
           <z> -100.0000 </z>
         </location>
         <direction>
           <x>1</x>
           <y>0</y>
           <z>0</z>
         </direction>
       </force>
   </external_reactions>
</fdm_config>
// This file instructs the automatic synchronization utilities where to
// install this aircraft and under what name.
//
// The syntax is easy;
// * the package name at the beginning of a new line followed by a colon
// * a space as a column separator
// * the path and filename relative to the aircraft install directory
//
// Currently known package names are: FlightGear

FlightGear:
<?xml version="1.0"?>
<initialize name="reset00">
  <!--
    This file sets up the aircraft to start off
    from the runway in preparation for takeoff.
  -->
  <ubody>                  0.0 </ubody>
  <vbody>                  0.0 </vbody>
  <wbody>                  0.0 </wbody>
  <latitude unit="DEG">   47.0 </latitude>
  <longitude unit="DEG"> 122.0 </longitude>
  <phi unit="DEG">         0.0 </phi>
  <theta unit="DEG">       0.0 </theta>
  <psi unit="DEG">       150.0 </psi>
  <altitude unit="FT">    11.2 </altitude>
</initialize>
<?xml version="1.0"?>
<?xml-stylesheet type="text/xsl" href="http://jsbsim.sourceforge.net/JSBSim.xsl"?>
<fdm_config name="DHC-6" version="2.0" release="BETA"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:noNamespaceSchemaLocation="http://jsbsim.sourceforge.net/JSBSim.xsd">

<!--
  File:     dhc6.xml
  Inputs:
    name:          dhc6
    type:          Multi-engine Glider, Small Commuter
    stall speed:   74.00kts
    max weight:    12500.00 lb
    length:        51.75 ft
    wing: 
     span:         65.00 ft
     area:         422.50 sq-ft
     mean chord:   6.47 ft
     aspect ratio: 10.10:1
     taper ratio:  0.99:1
     incidence:    2.50 degrees
     dihedral:     3.00 degrees
     sweep:        0.00 degrees

    no. engines:   2
    engine type:   Turboprop Engine
    engine layout: wings

    gear type:     tricycle
    steering type: steering
    retractable?:  no

  Outputs:
    wing loading:       29.59 lb/sq-ft
     - thickness ratio: 17.25%
    payload:            3331.50 lbs
    CL-alpha:           5.81 per radian
    CL-0:               0.33
    CL-max:             1.60
    CD-0:               0.02
    K:                  0.04
    Mcrit:              0.72
-->

    <fileheader>
        <author> Erik Hofman </author>
        <filecreationdate> 2003-01-01 </filecreationdate>
        <version> $Id: DHC6.xml,v 1.24 2016/11/29 17:38:48 ehofman Exp $ </version>
        <description> DeHavilland DHC-6 </description>
      <reference title="http://www.aoc.noaa.gov/aircraft_otter.htm"/>
      <reference title="Smart Icing Systems Aerodynamics group UIUC
           https://gitorious.org/fg/fgdata/source/73c7e296676c55a4d1db43b49c3fcb938e991177:Aircraft-uiuc/TwinOtter"/>
      <reference title="Current Methods for Modeling and Simulating Icing Effects on Aircraft Performance, Stability and Control
           http://ntrs.nasa.gov/archive/nasa/casi.ntrs.nasa.gov/20090005992_2009004916.pdf"/>
      <reference title="Simulation Model Development for Icing Effects Flight Training
        http://www.bihrle.aero/pdfs/aiaa2002-01-1527.pdf"/>
      <reference title="performance data of the DHC-6-300
        http://www.caamsllc.com/Performance%20Data/DHC-6-300.pdf"/>
      <note>
        This model was created using publicly available data, publicly available
        technical reports, textbooks, and guesses. It contains no proprietary or
        restricted data. If this model has been validated at all, it would be
        only to the extent that it seems to "fly right", and that it possibly
        complies with published, publicly known, performance data (maximum speed,
        endurance, etc.). Thus, this model is meant for educational and entertainment
        purposes only.

        This simulation model is not endorsed by the manufacturer.
      </note>
    </fileheader>

    <metrics>
        <wingarea unit="FT2"> 422.5 </wingarea>
        <wingspan unit="FT"> 65 </wingspan>
        <chord unit="FT"> 6.5 </chord>
        <htailarea unit="FT2"> 98.18 </htailarea>
        <htailarm unit="FT"> 24.75 </htailarm>
        <vtailarea unit="FT2"> 76.05 </vtailarea>
        <vtailarm unit="FT"> 0 </vtailarm>
        <location name="AERORP" unit="IN">
            <x> 211.8 </x>
            <y> 0 </y>
            <z> 0 </z>
        </location>
        <location name="EYEPOINT" unit="IN">
            <x> 93.6 </x>
            <y> -18.2 </y>
            <z> 31.2 </z>
        </location>
        <location name="VRP" unit="IN">
            <x> 0 </x>
            <y> 0 </y>
            <z> 0 </z>
        </location>
    </metrics>

    <mass_balance negated_crossproduct_inertia="true">
        <ixx unit="SLUG*FT2"> 19317 </ixx>
        <iyy unit="SLUG*FT2"> 24679 </iyy>
        <izz unit="SLUG*FT2"> 35344 </izz>
        <ixz unit="SLUG*FT2"> -1099 </ixz>
        <emptywt unit="LBS"> 8100 </emptywt>
        <location name="CG" unit="IN">
            <x> 211.8 </x>
            <y> 0 </y>
            <z> -14.9 </z>
        </location>
        <pointmass name="name">
            <weight unit="LBS"> 230 </weight>
            <location name="POINTMASS" unit="IN">
                <x> 93.6 </x>
                <y> -18.2 </y>
                <z> 8.4 </z>
            </location>
        </pointmass>
    </mass_balance>

    <ground_reactions>
        <contact type="BOGEY" name="NOSE_LG">
            <location unit="IN">
                <x> 75.5 </x>
                <y> 0 </y>
                <z> -118.2 </z>
            </location>
            <static_friction> 0.8 </static_friction>
            <dynamic_friction> 0.5 </dynamic_friction>
            <rolling_friction> 0.02 </rolling_friction>
            <spring_coeff unit="LBS/FT"> 2982.6 </spring_coeff>
            <damping_coeff unit="LBS/FT/SEC"> 994.2 </damping_coeff>
            <max_steer unit="DEG"> 15 </max_steer>
            <brake_group> NONE </brake_group>
            <retractable>0</retractable>
        </contact>
        <contact type="BOGEY" name="LEFT_MLG">
            <location unit="IN">
                <x> 245.9 </x>
                <y> -77.3 </y>
                <z> -117.5 </z>
            </location>
            <static_friction> 0.8 </static_friction>
            <dynamic_friction> 0.5 </dynamic_friction>
            <rolling_friction> 0.02 </rolling_friction>
            <spring_coeff unit="LBS/FT"> 9942 </spring_coeff>
            <damping_coeff unit="LBS/FT/SEC"> 1988.4 </damping_coeff>
            <max_steer unit="DEG"> 0.0 </max_steer>
            <brake_group> LEFT </brake_group>
            <retractable>0</retractable>
        </contact>
        <contact type="BOGEY" name="RIGHT_MLG">
            <location unit="IN">
                <x> 245.9 </x>
                <y> 77.3 </y>
                <z> -117.5 </z>
            </location>
            <static_friction> 0.8 </static_friction>
            <dynamic_friction> 0.5 </dynamic_friction>
            <rolling_friction> 0.02 </rolling_friction>
            <spring_coeff unit="LBS/FT"> 9942 </spring_coeff>
            <damping_coeff unit="LBS/FT/SEC"> 1988.4 </damping_coeff>
            <max_steer unit="DEG"> 0.0 </max_steer>
            <brake_group> RIGHT </brake_group>
            <retractable>0</retractable>
        </contact>
    </ground_reactions>
    <propulsion>
        <engine file="PT6A-27">
            <feed>0</feed>
            <feed>1</feed>
            <thruster file="Propeller">
                <location unit="IN">
                    <x> 142.4 </x>
                    <y> -109.3 </y>
                    <z> -2.88 </z>
                </location>
                <orient unit="DEG">
                    <roll> 0.0 </roll>
                    <pitch> 0.0 </pitch>
                    <yaw> 0.0 </yaw>
                </orient>
            </thruster>
        </engine>
        <engine file="PT6A-27">
            <feed>1</feed>
            <feed>0</feed>
            <thruster file="Propeller">
                <location unit="IN">
                    <x> 142.4 </x>
                    <y> 109.3 </y>
                    <z> -2.88 </z>
                </location>
                <orient unit="DEG">
                    <roll> 0.0 </roll>
                    <pitch> 0.0 </pitch>
                    <yaw> 0.0 </yaw>
                </orient>
            </thruster>
        </engine>
        <tank type="FUEL">    <!-- Tank number 0 -->
            <location unit="IN">
                <x> 211.8 </x>
                <y> 0 </y>
                <z> 0 </z>
            </location>
            <capacity unit="LBS"> 1290.5 </capacity>
            <contents unit="LBS"> 892.1 </contents>
        </tank>
        <tank type="FUEL">    <!-- Tank number 1 -->
            <location unit="IN">
                <x> 211.8 </x>
                <y> 0 </y>
                <z> 0 </z>
            </location>
            <capacity unit="LBS"> 1290.5 </capacity>
            <contents unit="LBS"> 892.1 </contents>
        </tank>
    </propulsion>

    <system file="Propulsion.xml"/>
    <system file="Conventional Controls.xml"/>
    <system file="Landing Gear.xml"/>
    <system file="Flaps.xml"/>

    <flight_control name="FCS: DHC-6 Twin Otter">
    </flight_control>
 
    <aerodynamics>

        <axis name="DRAG">
            <function name="aero/coefficient/CD0">
                <description>Drag_at_zero_lift</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                      <table>
                          <independentVar>aero/alpha-rad</independentVar>
                          <tableData>
                              -1.5700	1.6590
                              -0.2600	0.0580
                              0.0000	0.0488
                              0.2600	0.0580
                              1.5700	1.6590
                          </tableData>
                      </table>
                </product>
            </function>
            <function name="aero/coefficient/CDi">
                <description>Induced_drag</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>aero/cl-squared</property>
                    <value>0.0390</value>
                </product>
            </function>
            <function name="aero/coefficient/CDmach">
                <description>Drag_due_to_mach</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                      <table>
                          <independentVar>velocities/mach</independentVar>
                          <tableData>
                              0.0000	0.0000
                              0.7000	0.0000
                              1.1000	0.0230
                              1.8000	0.0150
                          </tableData>
                      </table>
                </product>
            </function>
            <function name="aero/coefficient/CDflap">
                <description>Drag_due_to_flaps</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>fcs/flap-pos-norm</property>
                    <value>0.0350</value>
                </product>
            </function>
            <function name="aero/coefficient/CDsb">
                <description>Drag_due_to_speedbrakes</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>fcs/speedbrake-pos-norm</property>
                    <value>0.0280</value>
                </product>
            </function>
            <function name="aero/coefficient/CDbeta">
                <description>Drag_due_to_sideslip</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                      <table>
                          <independentVar>aero/mag-beta-rad</independentVar>
                          <tableData>
                              0.0000	0.0000
                              0.2600	0.0500
                              1.5700	1.2300
                          </tableData>
                      </table>
                </product>
            </function>
            <function name="aero/coefficient/CDde">
                <description>Drag_due_to_Elevator_Deflection</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>fcs/mag-elevator-pos-rad</property>
                    <value>0.0350</value>
                </product>
            </function>
        </axis>

        <axis name="SIDE">
            <function name="aero/coefficient/CYb">
                <description>Side_force_due_to_beta</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>aero/beta-rad</property>
                    <value>-0.6000</value>
                </product>
            </function>
            <function name="aero/coefficient/CYdr">
                <description>Side_force_due_to_rudder</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>fcs/rudder-pos-rad</property>
                    <value>0.1500</value>
                </product>
            </function>
            <function name="aero/coefficient/CYp">
                <description>Side_force_due_to_roll_rate</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>aero/bi2vel</property>
                    <property>velocities/p-aero-rad_sec</property>
                    <value>-0.2000</value>
                </product>
            </function>
            <function name="aero/coefficient/CYr">
                <description>Side_force_due_to_yaw_rate</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>aero/bi2vel</property>
                    <property>velocities/r-aero-rad_sec</property>
                    <value>0.4000</value>
                </product>
            </function>
        </axis>

        <axis name="LIFT">
            <function name="aero/coefficient/CLalpha">
                <description>Lift_due_to_alpha</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                      <table>
                          <independentVar>aero/alpha-rad</independentVar>
                          <tableData>
                              -0.3491	-0.5800
                              -0.2618	-0.5200
                              -0.1745	-0.4500
                              -0.1396	-0.2800
                              -0.1047	-0.2000
                              -0.0698	0.1600
                              -0.0349	0.3200
                              0.0000	0.4400
                              0.0349	0.5800
                              0.0698	0.7500
                              0.1047	0.8100
                              0.1396	0.9500
                              0.1745	1.1000
                              0.2094	1.1250
                              0.2443	1.1400
                              0.2793	1.1600
                              0.3142	1.1200
                              0.3491	1.1300
                              0.4363	1.1700
                              0.5236	1.2099
                              0.6109	1.2699
                              0.6981	1.3999
                          </tableData>
                      </table>
                </product>
            </function>
            <function name="aero/coefficient/dCLflap">
                <description>Delta_Lift_due_to_flaps</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                      <table>
                          <independentVar>fcs/flap-pos-deg</independentVar>
                          <tableData>
                              0.0000	0.0000
                              10.0000	0.9250
                              20.0000	1.1890
                              30.0000	1.4750
                              40.0000	1.6330
                          </tableData>
                      </table>
                </product>
            </function>
            <function name="aero/coefficient/dCLsb">
                <description>Delta_Lift_due_to_speedbrake</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>fcs/speedbrake-pos-norm</property>
                    <value>0.0000</value>
                </product>
            </function>
            <function name="aero/coefficient/CLde">
                <description>Lift_due_to_Elevator_Deflection</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>fcs/elevator-pos-rad</property>
                    <value>0.6080</value>
                </product>
            </function>
            <function name="aero/coefficient/CLq">
                <description>Lift_due_to_pitch_rate</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>velocities/q-aero-rad_sec</property>
                    <property>aero/ci2vel</property>
                    <value>19.9700</value>
                </product>
            </function>
        </axis>

        <axis name="ROLL">
            <function name="aero/coefficient/Clb">
                <description>Roll_moment_due_to_beta</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                      <table>
                          <independentVar lookup="row">aero/beta-rad</independentVar>
                          <independentVar lookup="column">aero/alpha-rad</independentVar>
                          <tableData>
                                      0.0698  0.1745  0.2443  0.3491
                              -0.3491 0.1250  0.0450  0.0240 -0.0270
                              -0.2618 0.0900  0.0220  0.0030 -0.0150
                              -0.1745 0.0770  0.0200 -0.0100  0.0000
                              -0.0873 0.0360  0.0270 -0.0220 -0.0080
                              0.0000  0.0000 -0.0100  0.0200 -0.0060
                              0.0873  0.0360 -0.0170  0.0200 -0.0100
                              0.1745  0.0770 -0.0100  0.0050 -0.0100
                              0.2618  0.0900 -0.0250 -0.0180  0.0000
                              0.3491  0.1250 -0.0450 -0.0350  0.0200

                          </tableData>
                      </table>
                </product>
            </function>
            <function name="aero/coefficient/Clp">
                <description>Roll_moment_due_to_roll_rate_(roll_damping)</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>aero/bi2vel</property>
                    <property>velocities/p-aero-rad_sec</property>
                    <value>-0.5000</value>
<!--
                    <table>
                        <independentVar lookup="row">aero/alpha-rad</independentVar>
                        <independentVar lookup="column">fcs/flap-pos-deg</independentVar>
                        <tableData>
                                       0.0     20.0     40.0
                              0.0000  -0.4078  0.2897   0.4123
                              0.1745  -0.1537  0.1054   0.0251
                              0.2618  -0.0055  0.0029   0.0057
                              0.3491   0.0657 -0.0476  -0.0669
                        </tableData>
                      </table>
-->
                </product>
            </function>
            <function name="aero/coefficient/Clr">
                <description>Roll_moment_due_to_yaw_rate</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>aero/bi2vel</property>
                    <property>velocities/r-aero-rad_sec</property>
                    <value>0.0600</value>
                </product>
            </function>
            <function name="aero/coefficient/Clda">
                <description>Roll_moment_due_to_aileron</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>fcs/left-aileron-pos-rad</property>
                      <table>
                          <independentVar>velocities/mach</independentVar>
                          <tableData>
                              0.0000	0.1500
                              2.0000	0.0500
                          </tableData>
                      </table>
                </product>
            </function>
            <function name="aero/coefficient/Cldr">
                <description>Roll_moment_due_to_rudder</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>fcs/rudder-pos-rad</property>
                    <value>0.0150</value>
                </product>
            </function>
        </axis>

        <axis name="PITCH">
            <function name="aero/coefficient/Cma">
                <description>Pitch_moment_due_to_alpha</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/cbarw-ft</property>
                      <table>
                          <independentVar lookup="row">aero/alpha-rad</independentVar>
                          <tableData>
                             -0.3491   0.391
                             -0.2618   0.423
                             -0.1745   0.288
                             -0.0873   0.189
                              0.0000   0.093
                              0.0873  -0.048
                              0.1745  -0.200
                              0.2618  -0.318
                              0.3491  -0.384
                              0.4363  -0.397
                              0.5236  -0.403
                              0.6109  -0.469
                              0.6981  -0.532
                          </tableData>
                      </table>
                </product>
            </function>
            <function name="aero/coefficient/CmDe">
                <description>Pitch_moment_due_to_elevator_and_flaps</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/cbarw-ft</property>
                      <table>
                          <independentVar lookup="row">aero/alpha-rad</independentVar>
                          <independentVar lookup="column">fcs/elevator-pos-rad</independentVar>
                          <independentVar lookup="table">fcs/flap-pos-deg</independentVar>
                          <tableData breakPoint="0.0">
                                     -0.4538	-0.2269	0.0000	0.1222	0.2443
                              -0.3491	0.2800	0.1700	0.0000	-0.1000	-0.2200
                              -0.2618	0.2000	0.0900	0.0000	-0.0900	-0.2800
                              -0.1745	0.4300	0.3100	0.0000	-0.1700	-0.3700
                              -0.1396	0.5100	0.3700	0.0000	-0.1900	-0.3800
                              -0.1047	0.5300	0.3900	0.0000	-0.2000	-0.3800
                              -0.0698	0.5600	0.4000	0.0000	-0.2000	-0.3900
                              -0.0349	0.5900	0.4100	0.0000	-0.2000	-0.3800
                              0.0000	0.6300	0.4000	0.0000	-0.1900	-0.3800
                              0.0349	0.6400	0.3900	0.0000	-0.2000	-0.3600
                              0.0698	0.6500	0.4000	0.0000	-0.1900	-0.3400
                              0.1047	0.6400	0.3800	0.0000	-0.1800	-0.3200
                              0.1396	0.5800	0.3600	0.0000	-0.1600	-0.3200
                              0.1745	0.5900	0.3700	0.0000	-0.2100	-0.3200
                              0.2094	0.5600	0.3500	0.0000	-0.2100	-0.3400
                              0.2443	0.5400	0.3400	0.0000	-0.1900	-0.2900
                              0.2793	0.4800	0.3300	0.0000	-0.1700	-0.2600
                              0.3142	0.4300	0.3100	0.0000	-0.1500	-0.2300
                              0.3491	0.4600	0.3000	0.0000	-0.2100	-0.2000
                              0.4363	0.2600	0.2100	0.0000	-0.0800	-0.1400
                              0.5236	0.2900	0.1900	0.0000	-0.0900	-0.1900
                              0.6109	0.3800	0.2400	0.0000	-0.0800	-0.1600
                              0.6981	0.4200	0.2300	0.0000	-0.0900	-0.1800
                          </tableData>
                          <tableData breakPoint="20.0">
                                     -0.4538	-0.2269	0.0000	0.1222	0.2443
                              -0.3491	0.3300	0.1800	0.0000	-0.4000	-0.1900
                              -0.2618	0.3000	0.2100	0.0000	-0.2000	-0.2200
                              -0.1745	0.4400	0.2400	0.0000	-0.1500	-0.3800
                              -0.1396	0.4800	0.2800	0.0000	-0.1700	-0.3600
                              -0.1047	0.4700	0.3000	0.0000	-0.1700	-0.3500
                              -0.0698	0.4600	0.3200	0.0000	-0.1900	-0.3700
                              -0.0349	0.4500	0.3500	0.0000	-0.2000	-0.3900
                              0.0000	0.5300	0.3600	0.0000	-0.2000	-0.4000
                              0.0349	0.5700	0.3800	0.0000	-0.2000	-0.3800
                              0.0698	0.5900	0.3900	0.0000	-0.2000	-0.3600
                              0.1047	0.6200	0.3800	0.0000	-0.2000	-0.3500
                              0.1396	0.5700	0.3500	0.0000	-0.1500	-0.2900
                              0.1745	0.4900	0.2900	0.0000	-0.1300	-0.2800
                              0.2094	0.4700	0.2700	0.0000	-0.1200	-0.2700
                              0.2443	0.4500	0.2500	0.0000	-0.1300	-0.2700
                              0.2793	0.4100	0.2300	0.0000	-0.1400	-0.2800
                              0.3142	0.4200	0.2500	0.0000	-0.1200	-0.3100
                              0.3491	0.4100	0.2300	0.0000	-0.1500	-0.2700
                              0.4363	0.3200	0.1900	0.0000	-0.0900	-0.1300
                              0.5236	0.2400	0.2000	0.0000	-0.0600	-0.1300
                              0.6109	0.2700	0.1600	0.0000	-0.0800	-0.1700
                              0.6981	0.3600	0.2100	0.0000	-0.0700	-0.1500
                          </tableData>
                          <tableData breakPoint="40.0">
                                     -0.4538	-0.2269	0.0000	0.1222	0.2443
                              -0.3491	0.2900	0.1700	0.0000	-0.0700	-0.2200
                              -0.2618	0.2000	0.0900	0.0000	-0.0700	-0.2600
                              -0.1745	0.1800	0.2100	0.0000	-0.1600	-0.3200
                              -0.1396	0.3600	0.2900	0.0000	-0.1800	-0.3600
                              -0.1047	0.4800	0.3300	0.0000	-0.2000	-0.3800
                              -0.0698	0.5000	0.3600	0.0000	-0.2000	-0.3800
                              -0.0349	0.5300	0.3700	0.0000	-0.2000	-0.3600
                              0.0000	0.5600	0.3800	0.0000	-0.1900	-0.3400
                              0.0349	0.6000	0.3900	0.0000	-0.1700	-0.2900
                              0.0698	0.6400	0.2600	0.0000	-0.1500	-0.2600
                              0.1047	0.5900	0.2400	0.0000	-0.1300	-0.2400
                              0.1396	0.5300	0.2400	0.0000	-0.1100	-0.2000
                              0.1745	0.4200	0.2200	0.0000	-0.1000	-0.2100
                              0.2094	0.4100	0.2100	0.0000	-0.1100	-0.2400
                              0.2443	0.4400	0.2200	0.0000	-0.1300	-0.2300
                              0.2793	0.4200	0.2500	0.0000	-0.1100	-0.2000
                              0.3142	0.4800	0.2800	0.0000	-0.1000	-0.2000
                              0.3491	0.1800	0.2100	0.0000	-0.0800	-0.1900
                              0.4363	0.2400	0.1900	0.0000	-0.1200	-0.1600
                              0.5236	0.2800	0.1800	0.0000	-0.0700	-0.1400
                              0.6109	0.3600	0.1800	0.0000	-0.1000	-0.1700
                              0.6981	0.3900	0.2100	0.0000	-0.0900	-0.1300
                          </tableData>
                      </table>
                </product>
            </function>
            <function name="aero/coefficient/CmT">
                <description>Pitch_moment_due_to_propulsion</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/cbarw-ft</property>
                    <property>systems/propulsion/thrust-coefficient</property>
                      <table>
                          <independentVar lookup="row">aero/alpha-rad</independentVar>
                          <independentVar lookup="column">fcs/flap-pos-deg</independentVar>
                          <tableData>
                                       0.00    40.00
                            -0.3491    0.0000   0.0000
                            -0.2618    0.0025   0.0941
                            -0.1745    0.0187   0.1523
                            -0.0873    0.0739   0.0898
                             0.0000    0.0791   0.1691
                             0.0873    0.1150   0.5529
                             0.1745    0.2268   0.6156
                             0.2618    0.3468   0.0000
                             0.3491    0.2793   0.0000
                             0.4363    0.0000   0.0000
                          </tableData>
                      </table>
                </product>
            </function>
            <function name="aero/coefficient/Cmq">
                <description>Pitch_moment_due_to_pitch_rate</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/cbarw-ft</property>
                    <property>aero/ci2vel</property>
                    <property>velocities/q-aero-rad_sec</property>
                    <value>-34.2000</value>
                </product>
            </function>
            <function name="aero/coefficient/Cmadot">
                <description>Pitch_moment_due_to_alpha_rate</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/cbarw-ft</property>
                    <property>aero/ci2vel</property>
                    <property>aero/alphadot-rad_sec</property>
                    <value>-8.0000</value>
                </product>
            </function>
        </axis>

        <axis name="YAW">
            <function name="aero/coefficient/Cnb"> 
                <description>Yaw_moment_due_to_beta</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>aero/beta-rad</property>
                      <table>
                          <independentVar lookup="row">aero/alpha-rad</independentVar>
                          <independentVar lookup="column">fcs/flap-pos-deg</independentVar>
                          <tableData>
                                       0.0      20.0     40.0
                             -0.3491  -0.6000  -0.6000  -0.6000
                             -0.2618  -0.5150  -0.5150  -0.5150
                             -0.1745  -0.4750   0.0000   0.5923
                             -0.0873   0.0010   0.5897   1.4987
                              0.0000   0.5000   1.2032   2.4329
                              0.0873   0.8670   1.0046   2.8111
                              0.1745   1.1575   2.2389   3.1892
                              0.2618   1.1768   2.4895   2.8321
                              0.3491   1.0080   2.1187   2.5586
                              0.4363   1.1973   1.9986   2.1203
                              0.5236   1.1249   1.7488   1.9943
                              0.6109   1.2786   1.7401   1.8735
                              0.6981   1.4377   1.7387   1.7387
                          </tableData>
                      </table>
                </product>
            </function>
            <function name="aero/coefficient/Cnr">
                <description>Yaw_moment_due_to_yaw_rate</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>aero/bi2vel</property>
                    <property>velocities/r-aero-rad_sec</property>
                    <value>-0.1800</value>
                </product>
            </function>
            <function name="aero/coefficient/Cnp">
                <description>Yaw_moment_due_to_roll_rate</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>aero/bi2vel</property>
                    <property>velocities/p-aero-rad_sec</property>
                    <value>-0.0600</value>
                </product>
            </function>
            <function name="aero/coefficient/Cndr">
                <description>Yaw_moment_due_to_rudder</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>fcs/rudder-pos-rad</property>
                    <value>-0.1250</value>
                </product>
            </function>
            <function name="aero/coefficient/Cnda">
                <description>Adverse_yaw</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>fcs/left-aileron-pos-rad</property>
                    <value>-0.0010</value>
                </product>
            </function>
        </axis>
    </aerodynamics>
</fdm_config>
<?xml version="1.0"?>

<!--
  File:     PT6A-27.xml
  Author:   AeromatiC++ v 3.3.1

  See: http://wiki.flightgear.org/JSBSim_Engines#FGTurboprop

  Inputs:
    name:                   PT6A-27
    type:                   Turboprop Engine
    power:                  680.0 hp
    inlet temperature:      994.0 degrees C
    overall pressure ratio: 6.3:1

  Outputs:
    psfc:                   0.615 lbs/hr/hp
    engine weight:          368.9 lbs
    engine length:          5.1 ft
    engine diameter:        1.9 ft
-->

<turboprop_engine name="PT6A-27">
  <milthrust unit="LBS">       1523.2   </milthrust>
  <idlen1>                       60.0   </idlen1>
  <maxn1>                       100.0   </maxn1>
  <maxpower unit="HP">          680.0   </maxpower>
  <psfc unit="LBS/HR/HP">         0.615 </psfc>
  <n1idle_max_delay>              1     </n1idle_max_delay>
  <maxstartingtime>              20     </maxstartingtime>
  <startern1>                    20     </startern1>
  <ielumaxtorque unit="FT*LB"> 1629.3   </ielumaxtorque>
  <itt_delay>                     0.05  </itt_delay>
  <betarangeend>                 64     </betarangeend>
  <reversemaxpower>              60     </reversemaxpower>

  <function name="EnginePowerVC">
    <table>
      <description> Engine power, function of airspeed and pressure </description>
      <independentVar lookup="row">atmosphere/P-psf</independentVar>
      <independentVar lookup="column">velocities/ve-kts</independentVar>
      <tableData>
              0      50     100    150    200    250    300    350
        503   0.357  0.380  0.400  0.425  0.457  0.486  0.517  0.550
       1048   0.586  0.589  0.600  0.621  0.650  0.686  0.724  0.764
       1328   0.707  0.721  0.731  0.757  0.786  0.821  0.858  0.896
       1496   0.779  0.786  0.808  0.821  0.857  0.900  0.945  0.993
       1684   0.850  0.857  0.874  0.900  0.943  0.979  1.016  1.055
       1896   0.914  0.929  0.946  0.971  1      1.057  1.117  1.181
       2135   1      1.011  1.029  1.043  1.083  1.150  1.221  1.297
       2213   1.029  1.043  1.057  1.079  1.114  1.171  1.231  1.294
     </tableData>
   </table>
  </function>

  <table name="EnginePowerRPM_N1" type="internal">
    <description> Engine Power, function of RPM and N1 </description>
    <tableData>
              0       5       60      86      94      95      96      97      98      99     100     101
      0.0     0.0     0.5     0.5     0.5     0.5     0.5     0.5     0.5     0.5     0.5     0.5     0.5
    853.7     0.0     0.5    32.0   183.1   320.3   347.8   384.4   421.0   457.6   485.0   530.8   567.5
   1278.2     0.0     0.5    27.5   210.5   366.1   393.5   430.2   462.2   503.3   540.0   585.8   622.3
   1705.1     0.0     0.5     4.6   219.6   402.7   434.7   466.8   503.3   544.5   576.6   622.3   658.9
   2131.9     0.0     0.1     0.1   205.9   411.9   453.0   480.5   517.1   558.3   594.9   640.6   681.8
   2345.4     0.0     0.1     0.1   187.6   402.7   439.3   471.3   512.5   553.7   590.3   636.1   680.0
    </tableData>
  </table>

  <table name="ITT_N1" type="internal">
    <description> Inter-Turbine Temperature ITT [deg C] depending on N1 and engine run (0=off / 1=running) </description>
    <tableData>
              0     1
        0     0     0
       15   144.1   144.1
       60   258.4   749.5
       96   388.7   980.1
      100   403.6  1083.5
    </tableData>
  </table>

  <table name="CombustionEfficiency_N1" type="internal">
    <description>Dependency of fuel efficiency coefficient on N1 (and RPM)</description>
    <tableData>
      90    0.1221
      91.2  0.2834
      92.2  0.5336
      93.4  0.7188
      94.1  0.7741
      95.2  0.8471
      96.5  0.9001
     100    1
      </tableData>
  </table>
</turboprop_engine>
<?xml version="1.0"?>

<!-- Generated by Aero-Matic v 3.3.1

    See: http://wiki.flightgear.org/JSBSim_Thrusters#FGPropeller

    Inputs:
           horsepower: 680
       max engine rpm: 37500
   prop diameter (ft): 8
      prop chord (ft): 0.76
                pitch: variable at 45 inch

    Outputs:
         max prop rpm: 2345.38
           gear ratio: 15.9889
                  Cp0: 0.0803575
                  Ct0: 0.187233
  static thrust (lbs): 2786.61
-->

<propeller version="1.01" name="P7646314-0152">
  <ixx> 25.1034 </ixx>
  <diameter unit="IN"> 94 </diameter>
  <numblades> 4 </numblades>
  <gearratio> 15.9889 </gearratio>
  <cp_factor> 4 </cp_factor>
  <ct_factor> 4 </ct_factor> <!-- set to match the number of blades -->
  <minpitch> 12 </minpitch>
  <maxpitch> 45 </maxpitch>
  <minrpm> 1993.57 </minrpm>
  <maxrpm> 2345.38 </maxrpm>

 <!-- thrust coefficient as a function of advance ratio and blade angle -->
  <table name="C_THRUST" type="internal">
      <tableData>
                       -15         0        15        30        45        60
            0.00    0.0492    0.1132    0.1773    0.2413    0.3054    0.3694
            0.05    0.0431    0.1068    0.1704    0.2337    0.2967    0.3596
            0.10    0.0371    0.1006    0.1638    0.2264    0.2886    0.3503
            0.15    0.0311    0.0946    0.1574    0.2195    0.2808    0.3415
            0.20    0.0253    0.0887    0.1513    0.2129    0.2735    0.3332
            0.25    0.0194    0.0830    0.1454    0.2066    0.2666    0.3254
            0.30    0.0136    0.0774    0.1397    0.2005    0.2600    0.3180
            0.35    0.0079    0.0718    0.1342    0.1948    0.2537    0.3110
            0.40    0.0021    0.0664    0.1288    0.1893    0.2478    0.3044
            0.45   -0.0037    0.0610    0.1236    0.1840    0.2421    0.2981
            0.50   -0.0095    0.0557    0.1185    0.1789    0.2368    0.2922
            0.55   -0.0154    0.0505    0.1136    0.1740    0.2316    0.2866
            0.60   -0.0212    0.0453    0.1088    0.1693    0.2268    0.2813
            0.65   -0.0272    0.0401    0.1041    0.1648    0.2221    0.2762
            0.70   -0.0331    0.0349    0.0994    0.1604    0.2177    0.2715
            0.75   -0.0392    0.0298    0.0949    0.1561    0.2135    0.2670
            0.80   -0.0453    0.0247    0.0904    0.1520    0.2094    0.2627
            0.85   -0.0515    0.0195    0.0860    0.1481    0.2056    0.2586
            0.90   -0.0578    0.0144    0.0817    0.1442    0.2019    0.2548
            0.95   -0.0642    0.0092    0.0774    0.1404    0.1983    0.2511
            1.00   -0.0706    0.0040    0.0731    0.1368    0.1949    0.2476
            1.05   -0.0772   -0.0012    0.0689    0.1332    0.1917    0.2443
            1.10   -0.0839   -0.0065    0.0647    0.1297    0.1885    0.2412
            1.15   -0.0907   -0.0118    0.0605    0.1263    0.1855    0.2382
            1.20   -0.0976   -0.0171    0.0564    0.1230    0.1826    0.2353
            1.25   -0.1047   -0.0225    0.0522    0.1197    0.1798    0.2326
            1.30   -0.1118   -0.0280    0.0481    0.1165    0.1771    0.2300
            1.35   -0.1191   -0.0335    0.0440    0.1133    0.1745    0.2276
            1.40   -0.1265   -0.0391    0.0398    0.1102    0.1720    0.2252
            1.50   -0.1418   -0.0504    0.0315    0.1040    0.1671    0.2208
            1.60   -0.1576   -0.0620    0.0232    0.0981    0.1626    0.2168
            1.70   -0.1739   -0.0739    0.0148    0.0922    0.1583    0.2131
            1.80   -0.1909   -0.0862    0.0062    0.0864    0.1542    0.2097
            1.90   -0.2084   -0.0987   -0.0024    0.0806    0.1502    0.2065
            2.00   -0.2266   -0.1116   -0.0112    0.0749    0.1465    0.2036
            2.10   -0.2454   -0.1249   -0.0201    0.0692    0.1429    0.2009
            2.20   -0.2648   -0.1386   -0.0291    0.0635    0.1393    0.1984
            2.30   -0.2848   -0.1526   -0.0384    0.0578    0.1359    0.1960
            2.40   -0.3055   -0.1670   -0.0478    0.0521    0.1326    0.1938
      </tableData>
  </table>

 <!-- power coefficient as a function of advance ratio and blade angle -->
  <table name="C_POWER" type="internal">
     <tableData>
                       -15         0        15        30        45        60
            0.00    0.0065    0.0313    0.0786    0.1483    0.2405    0.3553
            0.05    0.0076    0.0339    0.0828    0.1541    0.2479    0.3643
            0.10    0.0082    0.0361    0.0866    0.1596    0.2550    0.3730
            0.15    0.0083    0.0379    0.0900    0.1647    0.2619    0.3816
            0.20    0.0080    0.0392    0.0931    0.1695    0.2685    0.3900
            0.25    0.0072    0.0402    0.0957    0.1740    0.2748    0.3983
            0.30    0.0060    0.0407    0.0981    0.1782    0.2810    0.4066
            0.35    0.0043    0.0408    0.1001    0.1821    0.2870    0.4147
            0.40    0.0022    0.0405    0.1017    0.1858    0.2928    0.4227
            0.45   -0.0004    0.0398    0.1031    0.1893    0.2985    0.4308
            0.50   -0.0035    0.0387    0.1041    0.1925    0.3041    0.4388
            0.55   -0.0070    0.0372    0.1047    0.1955    0.3095    0.4468
            0.60   -0.0110    0.0353    0.1051    0.1982    0.3148    0.4547
            0.65   -0.0156    0.0330    0.1051    0.2008    0.3200    0.4627
            0.70   -0.0206    0.0303    0.1048    0.2031    0.3251    0.4708
            0.75   -0.0261    0.0271    0.1042    0.2052    0.3301    0.4788
            0.80   -0.0321    0.0236    0.1033    0.2071    0.3350    0.4869
            0.85   -0.0386    0.0196    0.1021    0.2088    0.3398    0.4951
            0.90   -0.0457    0.0152    0.1005    0.2103    0.3445    0.5033
            0.95   -0.0533    0.0103    0.0986    0.2116    0.3492    0.5115
            1.00   -0.0614    0.0050    0.0964    0.2126    0.3538    0.5198
            1.05   -0.0701   -0.0007    0.0938    0.2135    0.3583    0.5282
            1.10   -0.0794   -0.0069    0.0909    0.2141    0.3627    0.5367
            1.15   -0.0892   -0.0136    0.0877    0.2146    0.3671    0.5452
            1.20   -0.0996   -0.0207    0.0841    0.2148    0.3714    0.5538
            1.25   -0.1106   -0.0282    0.0802    0.2148    0.3756    0.5625
            1.30   -0.1221   -0.0363    0.0759    0.2146    0.3797    0.5712
            1.35   -0.1343   -0.0449    0.0713    0.2142    0.3838    0.5800
            1.40   -0.1471   -0.0539    0.0663    0.2135    0.3877    0.5889
            1.50   -0.1746   -0.0735    0.0553    0.2116    0.3955    0.6070
            1.60   -0.2046   -0.0950    0.0427    0.2087    0.4029    0.6253
            1.70   -0.2372   -0.1187    0.0287    0.2049    0.4100    0.6439
            1.80   -0.2726   -0.1445    0.0130    0.2001    0.4167    0.6628
            1.90   -0.3106   -0.1725   -0.0042    0.1943    0.4230    0.6820
            2.00   -0.3514   -0.2027   -0.0230    0.1875    0.4290    0.7014
            2.10   -0.3950   -0.2351   -0.0435    0.1797    0.4346    0.7211
            2.20   -0.4416   -0.2698   -0.0657    0.1708    0.4397    0.7410
            2.30   -0.4910   -0.3069   -0.0896    0.1609    0.4444    0.7611
            2.40   -0.5434   -0.3463   -0.1152    0.1498    0.4487    0.7815
     </tableData>
  </table>

<!-- thrust effects of helical tip Mach -->
<table name="CT_MACH" type="internal">
  <tableData>
    0.85   1.0
    1.05   0.8
  </tableData>
</table>

<!-- power-required effects of helical tip Mach -->
<table name="CP_MACH" type="internal">
  <tableData>
    0.85   1.0
    1.05   1.8
    2.00   1.4
  </tableData>
</table>

</propeller>
// This file instructs the automatic synchronization utilities where to
// install this aircraft and under what name.
//
// The syntax is easy;
// * the package name at the beginning of a new line followed by a colon
// * a space as a column separator
// * the path and filename relative to the aircraft install directory
//
// Currently known package names are: FlightGear

FlightGear: dhc6/dhc6-jsbsim.xml
<?xml version="1.0"?>
<system name="Conventional Controls">
  <channel name="Pitch">
   <summer name="Pitch Trim Sum">
      <input>fcs/elevator-cmd-norm</input>
      <input>fcs/pitch-trim-cmd-norm</input>
      <clipto>
        <min> -1 </min>
        <max>  1 </max>
      </clipto>
   </summer>

   <aerosurface_scale name="Elevator Control">
      <input>fcs/pitch-trim-sum</input>
      <range>
        <min> -0.454 </min>
        <max>  0.244 </max>
      </range>
      <output>fcs/elevator-pos-rad</output>
   </aerosurface_scale>

   <aerosurface_scale name="Elevator Normalization">
      <input>fcs/elevator-pos-rad</input>
      <domain>
        <min> -0.454 </min>
        <max>  0.244 </max>
      </domain>
      <range>
        <min> -1 </min>
        <max>  1 </max>
      </range>
      <output>fcs/elevator-pos-norm</output>
   </aerosurface_scale>
  </channel>

  <channel name="Roll">
   <summer name="Roll Trim Sum">
      <input>fcs/aileron-cmd-norm</input>
      <input>fcs/roll-trim-cmd-norm</input>
      <clipto>
        <min> -1 </min>
        <max>  1 </max>
      </clipto>
   </summer>

   <aerosurface_scale name="Left Aileron Control">
      <input>fcs/roll-trim-sum</input>
      <range>
        <min> -0.28 </min>
        <max>  0.33 </max>
      </range>
      <output>fcs/left-aileron-pos-rad</output>
   </aerosurface_scale>

   <aerosurface_scale name="Right Aileron Control">
      <input>-fcs/roll-trim-sum</input>
      <range>
        <min> -0.28 </min>
        <max>  0.33 </max>
      </range>
      <output>fcs/right-aileron-pos-rad</output>
   </aerosurface_scale>

   <aerosurface_scale name="Left Aileron Normalization">
      <input>fcs/left-aileron-pos-rad</input>
      <domain>
        <min> -0.28 </min>
        <max>  0.33 </max>
      </domain>
      <range>
        <min> -1 </min>
        <max>  1 </max>
      </range>
      <output>fcs/left-aileron-pos-norm</output>
   </aerosurface_scale>

   <aerosurface_scale name="Right Aileron Normalization">
      <input>fcs/right-aileron-pos-rad</input>
      <domain>
        <min> -0.28 </min>
        <max>  0.33 </max>
      </domain>
      <range>
        <min> -1 </min>
        <max>  1 </max>
      </range>
      <output>fcs/right-aileron-pos-norm</output>
   </aerosurface_scale>
  </channel>

  <channel name="Yaw">
   <summer name="Rudder Command Sum">
      <input>fcs/rudder-cmd-norm</input>
      <input>fcs/yaw-trim-cmd-norm</input>
      <clipto>
        <min> -1 </min>
        <max>  1 </max>
      </clipto>
   </summer>

   <aerosurface_scale name="Rudder Control">
      <input>fcs/rudder-command-sum</input>
      <range>
        <min> -0.28 </min>
        <max>  0.28 </max>
      </range>
      <output>fcs/rudder-pos-rad</output>
   </aerosurface_scale>

   <aerosurface_scale name="Rudder Normalization">
      <input>fcs/rudder-pos-rad</input>
      <domain>
        <min> -0.28 </min>
        <max>  0.28 </max>
      </domain>
      <range>
        <min> -1 </min>
        <max>  1 </max>
      </range>
      <output>fcs/rudder-pos-norm</output>
   </aerosurface_scale>
  </channel>

</system>
<?xml version="1.0"?>
<system name="Flaps">
  <channel name="Flaps">
   <kinematic name="Flaps Control">
    <input>fcs/flap-cmd-norm</input>
    <traverse>
      <setting>
         <position>  0 </position>
         <time>      0 </time>
      </setting>
      <setting>
         <position>10</position>
         <time>4</time>
      </setting>
      <setting>
         <position>20</position>
         <time>2</time>
      </setting>
      <setting>
         <position>30</position>
         <time>2</time>
      </setting>
      <setting>
         <position>40</position>
         <time>2</time>
      </setting>
    </traverse>
    <output>fcs/flap-pos-deg</output>
   </kinematic>

   <aerosurface_scale name="Flap Normalization">
    <input>fcs/flap-pos-deg</input>
    <domain>
      <min>  0 </min>
      <max> 40 </max>
    </domain>
    <range>
      <min> 0 </min>
      <max> 1 </max>
    </range>
    <output>fcs/flap-pos-norm</output>
   </aerosurface_scale>
  </channel>

</system>
<?xml version="1.0"?>
<system name="Landing Gear">
  <channel name="Landing Gear">
   <switch name="fcs/gear-no-wow">
     <default value="1"/>
     <test logic="AND" value="0">
         gear/unit[1]/WOW eq 1
         gear/unit[2]/WOW eq 1
     </test>
   </switch>
  </channel>

</system>
<?xml version="1.0"?>
<system name="Propulsion">
  <channel name="Thruster">
   <summer name="Thrust Coefficient Left">
    <input>propulsion/engine[0]/thrust-coefficient</input>
    <output>systems/propulsion/thrust-coefficient-left</output>
   </summer>
   <summer name="Thrust Coefficient Right">
    <input>propulsion/engine[1]/thrust-coefficient</input>
    <output>systems/propulsion/thrust-coefficient-right</output>
   </summer>
   <summer name="Thrust Coefficient Left-Right">
    <input>systems/propulsion/thrust-coefficient-left</input>
    <input>-systems/propulsion/thrust-coefficient-right</input>
    <output>systems/propulsion/thrust-coefficient-left-right</output>
   </summer>
   <summer name="Thrust Coefficient">
    <input>systems/propulsion/thrust-coefficient-left</input>
    <input>systems/propulsion/thrust-coefficient-right</input>
    <output>systems/propulsion/thrust-coefficient</output>
   </summer>
  </channel>

</system>
From: http://www.pprune.org/archive/index.php/t-372165.html

The Twin Otter has been certified to many different standards - first to CAR 3,
then later to SFAR 23, then to the BCARs (British standards in the 1970s, prior
to JAR OPS-1), then to Australian DCA regulations (prior to publication of AFM
amendment 19 in 2002). Exaviator indicated that he flew in PNG in the distant
past, it is possible that he has quoted speeds, configurations, and power
settings that were applicable to the Series 320 (Australian) variant aircraft
prior to the publication of AFM amendment 19 in 2002.

FWIW, I've just finished writing an AFM supplement entitled "Performance to FAR
25 Standards" that will be published later this summer for operators who wish
to conform to JAA 'Performance A' standards, and for Canadian and American
operators who will be obliged to comply with the '2010 Rule' when it comes into
effect next year. That will add yet another variable to what is out there...

Here are the current numbers for SFAR 23 certification standards. These are
applicable to the Series 300 and variant standard landplane aircraft at the
maximum weights permitted (12,500 lbs MTOW, 12,300 lbs MLW).

Takeoff
  - Flaps 10°, V1 73 KIAS, V2 80 KIAS, maintain V2 to 400 feet AGL minimum.

Initial Climb
  - following flap retraction, Vy is 100 KIAS, a higher speed may be used at
    the discretion of the pilot.

Initial Approach
  - no less than 94 KIAS if flaps are up, or no less than 85 KIAS with flaps
    extended to 10°.

Landing
  - Flaps 20°, Vref 80 KIAS or
    Flaps 37.5° Vref 74 KIAS

Cruise power is at the discretion of the pilot. At temperatures up to ISA +6°
at sea level, 50 PSI torque can be used for cruise. This is not a common
practice, because setting maximum cruise power results in a significant
increase in fuel burn but an insignificant increase in speed. Many operators
use about 480 SHP per engine for cruise, this can be achieved with a torque
setting of 45 PSI and a propeller speed of 75% Np. At this power setting, fuel
burn is approximately 300 pounds per hour (per engine), and a reasonable
compromise between fuel burn and cruise speed is achieved.

Some other useful speeds, again, at maximum weight for the phase of flight,
all in KIAS:
 - Best Rate of Climb 100 KIAS with flaps up
 - Best Angle of Climb 87 KIAS with flaps up
 - Best Single Engine Rate of Climb 80 KIAS with flaps 10°
 - Engine Failure after Take-off 80 KIAS, Flaps 10°
 - Enroute Descent Flaps up, speed limited by Vmo
 - Minimum Control Speed, One Engine Inoperative 64 KIAS.
   Vmc is always given in the take-off configuration, thus,
   flaps 10° is assumed.
 - Stall speed, landing configuration (Flaps 37.5°) - 56 KIAS
 - Stall speed, take-off configuration (Flaps 10°) - 66 KIAS
 - Stall speed, flaps up 73 KIAS
 - Manoeuvring Speed 132 KIAS from sea level to 18,000 feet.
   Limited by Maximum Operating Speed above 18,000 feet.
 - Glide Speed (both propellers feathered) for best range - 100 KIAS
 - Glide Speed (both propellers feathered) for best endurance - 77 KIAS

Maximum Operating Speed 166 KIAS for aircraft SN 271 and higher in landplane
configuration, or earlier aircraft that are post Mod 6/1291 in landplane
configuration. 156 KIAS for all other aircraft. Vmo begins to decrement above
6,700 feet pressure altitude, but this normally does not present an operational
restriction.

Flaps Extended Speed Maximum 103 KIAS for flap extension up to and including
10°, maximum 93 KIAS for flap extension beyond 10°, both speeds quoted are for
post Mod 6/1395 aircraft. Mod 6/1395 cut in at SN 290 and can be retrofitted
to earlier production aircraft.

<?xml version="1.0" ?>

<aerodynamics>

    <function name="aero/coefficient/CL__zero">

        <description>CL__zero</description>

        <value> 0 </value>
    </function>

    <function name="aero/coefficient/dCL__alpha_rad">

        <description>dCL__alpha_rad</description>

        <value> 0 </value>
    </function>

    <function name="aero/coefficient/CL__alpha_rad">

        <description>CL__alpha_rad = dCL__alpha_rad * alpha_rad</description>

        <product>

            <property>aero/coefficient/dCL__alpha_rad</property>

            <property>aero/alpha-rad</property>

        </product>

    </function>

    <function name="aero/coefficient/CL">

        <description>CL summation</description>

        <sum>

            <property>aero/coefficient/CL__zero</property>

            <property>aero/coefficient/CL__alpha_rad</property>

        </sum>

    </function>

    <function name="aero/coefficient/CD__zero">

        <description>CD__zero</description>

        <value> 1.0 </value>
    </function>

    <function name="aero/coefficient/dCD__alpha_rad">

        <description>dCD__alpha_rad</description>

        <value> 0 </value>
    </function>

    <function name="aero/coefficient/CD__alpha_rad">

        <description>CD__alpha_rad = dCD__alpha_rad * alpha_rad</description>

        <product>

            <property>aero/coefficient/dCD__alpha_rad</property>

            <property>aero/alpha-rad</property>

        </product>

    </function>

    <function name="aero/coefficient/CD">

        <description>CD summation</description>

        <sum>

            <property>aero/coefficient/CD__zero</property>

            <property>aero/coefficient/CD__alpha_rad</property>

        </sum>

    </function>

    <function name="aero/coefficient/CY__zero">

        <description>CY__zero</description>

        <value> 0 </value>

    </function>

    <function name="aero/coefficient/CY">

        <description>CY summation</description>

        <sum>

            <property>aero/coefficient/CY__zero</property>

            <value> 0 </value>
        </sum>

    </function>

    <function name="aero/coefficient/CMl__zero">
        <description>CMl__zero</description>
        <value> 0 </value>
    </function>
    <function name="aero/coefficient/CMl">
        <description>CMl summation</description>
        <sum>
            <property>aero/coefficient/CMl__zero</property>
            <value> 0 </value>
        </sum>
    </function>
    <function name="aero/coefficient/CMm__zero">
        <description>CMm__zero</description>
        <value> 0 </value>
    </function>
    <function name="aero/coefficient/CMm">
        <description>CM summation</description>
        <sum>
            <property>aero/coefficient/CMm__zero</property>
            <value> 0 </value>
        </sum>
    </function>
    <function name="aero/coefficient/CMn__zero">
        <description>CMn__zero</description>
        <value> 0 </value>
    </function>
    <function name="aero/coefficient/CMn">
        <description>CMn summation</description>
        <sum>
            <property>aero/coefficient/CMn__zero</property>
            <value> 0 </value>
        </sum>
    </function>

    <axis name="LIFT">

        <function name="aero/force/LIFT__CL">

            <description>LIFT from CL</description>

            <product>

                <property>aero/qbar-area</property>

                <property>aero/coefficient/CL</property>

            </product>

        </function>

    </axis>

    <axis name="DRAG">

        <function name="aero/force/DRAG__CD">

            <description>DRAG from CD</description>

            <product>

                <property>aero/qbar-area</property>

                <property>aero/coefficient/CD</property>

            </product>

        </function>

    </axis>

    <axis name="SIDE">

        <function name="aero/force/SIDE__CY">

            <description>SIDE from CY</description>

            <product>

                <property>aero/qbar-area</property>

                <property>aero/coefficient/CY</property>

            </product>

        </function>

    </axis>

    <axis name="ROLL">

        <function name="aero/moment/ROLL__CMl">

            <description>ROLL from CMl</description>

            <product>

                <property>aero/qbar-area</property>

                <property>metrics/bw-ft</property>

                <property>aero/coefficient/CMl</property>

            </product>

        </function>

    </axis>

    <axis name="PITCH">

        <function name="aero/moment/PITCH__CMm">

            <description>PITCH from CMm</description>

            <product>

                <property>aero/qbar-area</property>

                <property>metrics/cbarw-ft</property>

                <property>aero/coefficient/CMm</property>

            </product>

        </function>

    </axis>

    <axis name="YAW">

        <function name="aero/moment/YAW__CMn">

            <description>YAW from CMn</description>

            <product>

                <property>aero/qbar-area</property>

                <property>metrics/bw-ft</property>

                <property>aero/coefficient/CMn</property>

            </product>

        </function>

    </axis>

</aerodynamics>

<?xml version="1.0" ?>

<system name="Effectors">
  <channel name="Electronic Speed Conrollers">
    <actuator name="Front Right">
      <input>fcs/cmdEscFR_nd</input>
      <clipto>
        <min>0.0</min>
        <max>1.0</max>
      </clipto>
      <output>fcs/throttle-pos-norm[0]</output>
    </actuator>

    <actuator name="Aft Left">
      <input>fcs/cmdEscAL_nd</input>
      <clipto>
        <min>0.0</min>
        <max>1.0</max>
      </clipto>
      <output>fcs/throttle-pos-norm[1]</output>
    </actuator>

    <actuator name="Front Left">
      <input>fcs/cmdEscFL_nd</input>
      <clipto>
        <min>0.0</min>
        <max>1.0</max>
      </clipto>
      <output>fcs/throttle-pos-norm[2]</output>
    </actuator>

    <actuator name="Aft Right">
      <input>fcs/cmdEscAR_nd</input>
      <clipto>
        <min>0.0</min>
        <max>1.0</max>
      </clipto>
      <output>fcs/throttle-pos-norm[3]</output>
    </actuator>
  </channel>
</system>
<?xml version="1.0" ?>

<fdm_config release="Alpha" version="3.0">

    <metrics file="Metrics.xml"/>

    <mass_balance file="Mass.xml"/>

    <ground_reactions file="Gear.xml"/>

    <propulsion file="Propulsion.xml"/>
   
    <aerodynamics file="Aero.xml"/>

    <system file="Effectors.xml"/>

  <flight_control file="FlightControl.xml"/>

    <system file="SensorImu.xml"/>
    <system file="SensorBaro.xml"/>
    <system file="SensorGps.xml"/>

</fdm_config>

<?xml version="1.0" ?>
<flight_control name="FCS: quad-copter">
  <channel name="Pilot_Inputs">
    <summer name="pilotRoll_norm">
      <input>fcs/aileron-cmd-norm</input>
      <input>fcs/roll-trim-cmd-norm</input>
      <clipto>
        <min>-1.0</min>
        <max>1.0</max>
      </clipto>
      <output>fcs/pilotRoll_norm</output>
    </summer>
    <summer name="pilotPitch_norm">
      <input>fcs/elevator-cmd-norm</input>
      <input>fcs/pitch-trim-cmd-norm</input>
      <clipto>
        <min>-1.0</min>
        <max>1.0</max>
      </clipto>
      <output>fcs/pilotPitch_norm</output>
    </summer>
    <summer name="pilotYaw_norm">
      <input>fcs/rudder-cmd-norm</input>
      <input>fcs/yaw-trim-cmd-norm</input>
      <clipto>
        <min>-1.0</min>
        <max>1.0</max>
      </clipto>
      <output>fcs/pilotYaw_norm</output>
    </summer>

    <pure_gain name="refPhi_rad">
      <input>fcs/pilotRoll_norm</input>
      <gain>0.75</gain>
      <!-- <output>fcs/refPhi_rad</output> -->
      <output>fcs/refRoll_rps</output>
    </pure_gain>
    <pure_gain name="refTheta_rad">
      <input>fcs/pilotPitch_norm</input>
      <gain>0.75</gain>
      <!-- <output>fcs/refTheta_rad</output> -->
      <output>fcs/refPitch_rps</output>
    </pure_gain>
    <pure_gain name="refYaw_rps">
      <input>fcs/pilotYaw_norm</input>
      <gain>0.75</gain>
      <output>fcs/refYaw_rps</output>
    </pure_gain>
  </channel>

  <property value="0.0"> fcs/ScasEngage </property>
  <property>fcs/refPhi_rad</property>
  <property>fcs/refTheta_rad</property>

  <!-- <channel name="InnerLoop-Attitude">
    <summer>
      <input>fcs/refPhi_rad</input>
      <input>-attitude/phi-rad</input>
      <output>fcs/errPhi_rad</output>
    </summer>

    <pure_gain>
      <input>fcs/errPhi_rad</input>
      <gain>fcs/ScasEngage</gain>
      <output>fcs/errPhi_rad</output>
    </pure_gain>

    <pid name="fcs/refRoll_rps">
      <input>fcs/errPhi_rad</input>
      <kp>0.500</kp>
      <ki>0.000</ki>
      <kd>0.000</kd>
    </pid>

    <summer>
      <input>fcs/refTheta_rad</input>
      <input>-attitude/theta-rad</input>
      <output>fcs/errTheta_rad</output>
    </summer>

    <pure_gain>
      <input>fcs/errTheta_rad</input>
      <gain>fcs/ScasEngage</gain>
      <output>fcs/errTheta_rad</output>
    </pure_gain>

    <pid name="fcs/refPitch_rps">
      <input>fcs/errTheta_rad</input>
      <kp>0.500</kp>
      <ki>0.000</ki>
      <kd>0.000</kd>
    </pid>
  </channel> -->

  <channel name="InnerLoop-Rates">
    <summer>
      <input>fcs/refRoll_rps</input>
      <input>-velocities/pi-rad_sec</input>
      <!-- <input>-sensor/imu/gyroX_rps</input> -->
      <output>fcs/errRoll_rps</output>
    </summer>

    <pure_gain>
      <input>fcs/errRoll_rps</input>
      <gain>fcs/ScasEngage</gain>
      <output>fcs/errRoll_rps</output>
    </pure_gain>

    <pid name="fcs/cmdRoll_rps">
      <input>fcs/errRoll_rps</input>
      <kp>0.150</kp>
      <ki>0.050</ki>
      <kd>0.003</kd>
    </pid>

    <summer>
      <input>fcs/refPitch_rps</input>
      <input>-velocities/qi-rad_sec</input>
      <!-- <input>-sensor/imu/gyroY_rps</input> -->
      <output>fcs/errPitch_rps</output>
    </summer>

    <pure_gain>
      <input>fcs/errPitch_rps</input>
      <gain>fcs/ScasEngage</gain>
      <output>fcs/errPitch_rps</output>
    </pure_gain>

    <pid name="fcs/cmdPitch_rps">
      <input>fcs/errPitch_rps</input>
      <kp>0.150</kp>
      <ki>0.050</ki>
      <kd>0.003</kd>
    </pid>

    <summer>
      <input>fcs/refYaw_rps</input>
      <!-- <input>-velocities/ri-rad_sec</input> -->
      <input>-sensor/imu/gyroZ_rps</input>
      <output>fcs/errYaw_rps</output>
    </summer>

    <pure_gain>
      <input>fcs/errYaw_rps</input>
      <gain>fcs/ScasEngage</gain>
      <output>fcs/errYaw_rps</output>
    </pure_gain>

    <pid name="fcs/cmdYaw_rps">
      <input>fcs/errYaw_rps</input>
      <kp>0.300</kp>
      <ki>0.100</ki>
      <kd>0.000</kd>
    </pid>
  </channel>

  <channel name="Control Mixer">
    <pure_gain name="cmdHeave_mps_2_FR">
      <input>fcs/throttle-cmd-norm</input>
      <gain>1.0</gain>
      <output>fcs/cmdHeave_nd_2_FR</output>
    </pure_gain>
    <pure_gain name="cmdRoll_rps_2_FR">
      <input>fcs/cmdRoll_rps</input>
      <gain>-1.0</gain>
      <output>fcs/cmdRoll_rps_2_FR</output>
    </pure_gain>
    <pure_gain name="cmdPitch_rps_2_FR">
      <input>fcs/cmdPitch_rps</input>
      <gain>1.0</gain>
      <output>fcs/cmdPitch_rps_2_FR</output>
    </pure_gain>
    <pure_gain name="cmdYaw_rps_2_FR">
      <input>fcs/cmdYaw_rps</input>
      <gain>1.0</gain>
      <output>fcs/cmdYaw_rps_2_FR</output>
    </pure_gain>
    <summer name="cmdFR_nd">
      <input>fcs/cmdHeave_nd_2_FR</input>
      <input>fcs/cmdRoll_rps_2_FR</input>
      <input>fcs/cmdPitch_rps_2_FR</input>
      <input>fcs/cmdYaw_rps_2_FR</input>
      <output>fcs/cmdFR_nd</output>
    </summer>

    <pure_gain name="cmdHeave_mps_2_AL">
      <input>fcs/throttle-cmd-norm</input>
      <gain>1.0</gain>
      <output>fcs/cmdHeave_nd_2_AL</output>
    </pure_gain>
    <pure_gain name="cmdRoll_rps_2_AL">
      <input>fcs/cmdRoll_rps</input>
      <gain>1.0</gain>
      <output>fcs/cmdRoll_rps_2_AL</output>
    </pure_gain>
    <pure_gain name="cmdPitch_rps_2_AL">
      <input>fcs/cmdPitch_rps</input>
      <gain>-1.0</gain>
      <output>fcs/cmdPitch_rps_2_AL</output>
    </pure_gain>
    <pure_gain name="cmdYaw_rps_2_AL">
      <input>fcs/cmdYaw_rps</input>
      <gain>1.0</gain>
      <output>fcs/cmdYaw_rps_2_AL</output>
    </pure_gain>
    <summer name="cmdAL_nd">
      <input>fcs/cmdHeave_nd_2_AL</input>
      <input>fcs/cmdRoll_rps_2_AL</input>
      <input>fcs/cmdPitch_rps_2_AL</input>
      <input>fcs/cmdYaw_rps_2_AL</input>
      <output>fcs/cmdAL_nd</output>
    </summer>

    <pure_gain name="cmdHeave_mps_2_FL">
      <input>fcs/throttle-cmd-norm</input>
      <gain>1.0</gain>
      <output>fcs/cmdHeave_nd_2_FL</output>
    </pure_gain>
    <pure_gain name="cmdRoll_rps_2_FL">
      <input>fcs/cmdRoll_rps</input>
      <gain>1.0</gain>
      <output>fcs/cmdRoll_rps_2_FL</output>
    </pure_gain>
    <pure_gain name="cmdPitch_rps_2_FL">
      <input>fcs/cmdPitch_rps</input>
      <gain>1.0</gain>
      <output>fcs/cmdPitch_rps_2_FL</output>
    </pure_gain>
    <pure_gain name="cmdYaw_rps_2_FL">
      <input>fcs/cmdYaw_rps</input>
      <gain>-1.0</gain>
      <output>fcs/cmdYaw_rps_2_FL</output>
    </pure_gain>
    <summer name="cmdFL_nd">
      <input>fcs/cmdHeave_nd_2_FL</input>
      <input>fcs/cmdRoll_rps_2_FL</input>
      <input>fcs/cmdPitch_rps_2_FL</input>
      <input>fcs/cmdYaw_rps_2_FL</input>
      <output>fcs/cmdFL_nd</output>
    </summer>

    <pure_gain name="cmdHeave_mps_2_AR">
      <input>fcs/throttle-cmd-norm</input>
      <gain>1.0</gain>
      <output>fcs/cmdHeave_nd_2_AR</output>
    </pure_gain>
    <pure_gain name="cmdRoll_rps_2_AR">
      <input>fcs/cmdRoll_rps</input>
      <gain>-1.0</gain>
      <output>fcs/cmdRoll_rps_2_AR</output>
    </pure_gain>
    <pure_gain name="cmdPitch_rps_2_AR">
      <input>fcs/cmdPitch_rps</input>
      <gain>-1.0</gain>
      <output>fcs/cmdPitch_rps_2_AR</output>
    </pure_gain>
    <pure_gain name="cmdYaw_rps_2_AR">
      <input>fcs/cmdYaw_rps</input>
      <gain>-1.0</gain>
      <output>fcs/cmdYaw_rps_2_AR</output>
    </pure_gain>
    <summer name="cmdAR_nd">
      <input>fcs/cmdHeave_nd_2_AR</input>
      <input>fcs/cmdRoll_rps_2_AR</input>
      <input>fcs/cmdPitch_rps_2_AR</input>
      <input>fcs/cmdYaw_rps_2_AR</input>
      <output>fcs/cmdAR_nd</output>
    </summer>
  </channel>

  <property value="0.0">fcs/cmdFR_ext_nd</property>
  <property value="0.0">fcs/cmdAL_ext_nd</property>
  <property value="0.0">fcs/cmdFL_ext_nd</property>
  <property value="0.0">fcs/cmdAR_ext_nd</property>

  <channel name="External Input Summations">
    <summer>
      <input>fcs/cmdFR_nd</input>
      <input>fcs/cmdFR_ext_nd</input>
      <output>fcs/cmdEscFR_nd</output>
    </summer>
    <summer>
      <input>fcs/cmdAL_nd</input>
      <input>fcs/cmdAL_ext_nd</input>
      <output>fcs/cmdEscAL_nd</output>
    </summer>
    <summer>
      <input>fcs/cmdFL_nd</input>
      <input>fcs/cmdFL_ext_nd</input>
      <output>fcs/cmdEscFL_nd</output>
    </summer>
    <summer>
      <input>fcs/cmdAR_nd</input>
      <input>fcs/cmdAR_ext_nd</input>
      <output>fcs/cmdEscAR_nd</output>
    </summer>
  </channel>
</flight_control>
<?xml version="1.0" ?>
<ground_reactions>
	<!-- This is a fake point, JSBSim struggles with a 4-point ground trim -->
	<contact name="Front_Center" type="BOGEY"> 
		<location unit="M">
			<x> -0.1016 </x>
			<y> 0.0 </y>
			<z> -0.1524 </z>
		</location>
		<static_friction>0.8</static_friction>

		<dynamic_friction>0.5</dynamic_friction>

		<rolling_friction>0.02</rolling_friction>

		<spring_coeff unit="N/M"> 3000 </spring_coeff>
		<damping_coeff unit="N/M/SEC"> 100 </damping_coeff>
	</contact>

	<contact name="Aft_Left" type="BOGEY">
		<location unit="M">
			<x> 0.1016 </x>
			<y> -0.1016 </y>
			<z> -0.1524 </z>
		</location>
		<static_friction>0.8</static_friction>

		<dynamic_friction>0.5</dynamic_friction>

		<rolling_friction>0.02</rolling_friction>

		<spring_coeff unit="N/M"> 3000 </spring_coeff>
		<damping_coeff unit="N/M/SEC"> 100 </damping_coeff>
	</contact>

	<contact name="Aft_Right" type="BOGEY">
		<location unit="M">
			<x> 0.1016 </x>
			<y> 0.1016 </y>
			<z> -0.1524 </z>
		</location>
		<static_friction>0.8</static_friction>

		<dynamic_friction>0.5</dynamic_friction>

		<rolling_friction>0.02</rolling_friction>

		<spring_coeff unit="N/M"> 3000 </spring_coeff>
		<damping_coeff unit="N/M/SEC"> 100 </damping_coeff>
	</contact>
</ground_reactions>
<?xml version="1.0" ?>
<mass_balance>
  <emptywt unit="KG">1.4</emptywt>
  <location name="CG" unit="M">
    <x>0.0</x>
    <y>0.0</y>
    <z>0.0</z>
  </location>
  <ixx unit="KG*M2">0.0190</ixx>
  <iyy unit="KG*M2">0.0190</iyy>
  <izz unit="KG*M2">0.0252</izz>
  <ixy unit="KG*M2">0.0</ixy>
  <ixz unit="KG*M2">0.0</ixz>
  <iyz unit="KG*M2">0.0</iyz>
</mass_balance>

<?xml version="1.0" ?>

<metrics>
    <wingarea unit="M2">0.016129</wingarea>
    <wingspan unit="M">0.127</wingspan>
    <chord unit="M">0.127</chord>
    <location name="AERORP" unit="M">
        <x>0.0</x>
        <y>0.0</y>
        <z>0.0</z>
    </location>

    <location name="EYEPOINT" unit="M">
        <x>0.0</x>
        <y>0.0</y>
        <z>0.0</z>
    </location>

    <location name="VRP" unit="M">
        <x>0.0</x>
        <y>0.0</y>
        <z>0.0</z>
    </location>
</metrics>

<?xml version="1.0" ?>

<propulsion>
  <engine file="DJI_E305" name="front right">
    <thruster file="DJI_9450">
      <location unit="M">
        <x>-0.1651</x>
        <y>0.1651</y>
        <z>0.025</z>
      </location>
      <orient unit="DEG">
        <roll>0</roll>
        <pitch>90</pitch>
        <yaw>0</yaw>
      </orient>
      <sense>1.0</sense>
      <p_factor>0.0</p_factor>
    </thruster>
  </engine>

  <engine file="DJI_E305" name="aft left">
    <thruster file="DJI_9450">
      <location unit="M">
        <x>0.1651</x>
        <y>-0.1651</y>
        <z>0.025</z>
      </location>
      <orient unit="DEG">
        <roll>0</roll>
        <pitch>90</pitch>
        <yaw>0</yaw>
      </orient>
      <sense>1.0</sense>
      <p_factor>0.0</p_factor>
    </thruster>
  </engine>

  <engine file="DJI_E305" name="front left">
    <thruster file="DJI_9450">
      <location unit="M">
        <x>-0.1651</x>
        <y>-0.1651</y>
        <z>0.025</z>
      </location>
      <orient unit="DEG">
        <roll>0</roll>
        <pitch>90</pitch>
        <yaw>0</yaw>
      </orient>
      <sense>-1.0</sense>
      <p_factor>0.0</p_factor>
    </thruster>
  </engine>

  <engine file="DJI_E305" name="aft right">
    <thruster file="DJI_9450">
      <location unit="M">
        <x>0.1651</x>
        <y>0.1651</y>
        <z>0.025</z>
      </location>
      <orient unit="DEG">
        <roll>0</roll>
        <pitch>90</pitch>
        <yaw>0</yaw>
      </orient>
      <sense>-1.0</sense>
      <p_factor>0.0</p_factor>
    </thruster>
  </engine>
</propulsion>
<?xml version="1.0"?>
<initialize name="UMore Park Ground">
  <vt unit="M/S">         0.0       </vt>
  <latitude type="geodetic" unit="DEG">   44.725801 </latitude>
  <longitude unit="DEG"> -93.075866 </longitude>
  <altitude unit="M">     285.2111       </altitude>
  <elevation unit="M">    285.2111       </elevation>
  <psi unit="DEG">        90.0      </psi>
</initialize>
<?xml version="1.0"?>
<!--
  File:     J79-GE-11A.xml
  Author:   Aero-Matic v 0.8

  Inputs:
    name:           J79-GE-11A
    type:           turbine
    thrust:         10000.0 lb
    augmented?      yes
    injected?       no
-->

<turbine_engine name="J79">
  <milthrust>   10000.0 </milthrust>
  <maxthrust>   15800.0 </maxthrust>
  <bypassratio>     0.0 </bypassratio>
  <tsfc>            0.98 </tsfc>
  <atsfc>           1.96 </atsfc>
  <idlen1>          0.0 </idlen1>
  <idlen2>         53.0 </idlen2>
  <maxn1>         100.0 </maxn1>
  <maxn2>         100.0 </maxn2>
  <augmented>         1 </augmented>
  <augmethod>         1 </augmethod>
  <injected>          0 </injected>

  <function name="IdleThrust">
   <table>
    <independentVar lookup="row">velocities/mach</independentVar>
    <independentVar lookup="column">atmosphere/density-altitude</independentVar>
    <tableData>
         -10000     0     10000   20000   30000   40000   50000
     0.0  0.0430  0.0488  0.0528  0.0694  0.0899  0.1183  0.1467
     0.2  0.0500  0.0501  0.0335  0.0544  0.0797  0.1049  0.1342
     0.4  0.0040  0.0047  0.0020  0.0272  0.0595  0.0891  0.1203
     0.6  0.0     0.0     0.0     0.0     0.0276  0.0718  0.1073
     0.8  0.0     0.0     0.0     0.0     0.0474  0.0868  0.0900
     1.0  0.0     0.0     0.0     0.0     0.0     0.0552  0.0800
    </tableData>
   </table>
  </function>

  <function name="MilThrust">
   <table>
    <independentVar lookup="row">velocities/mach</independentVar>
    <independentVar lookup="column">atmosphere/density-altitude</independentVar>
    <tableData>
          -10000       0   10000   20000   30000   40000   50000
     0.0   1.2600  1.0000  0.7400  0.5340  0.3720  0.2410  0.1490
     0.2   1.1710  0.9340  0.6970  0.5060  0.3550  0.2310  0.1430
     0.4   1.1500  0.9210  0.6920  0.5060  0.3570  0.2330  0.1450
     0.6   1.1810  0.9510  0.7210  0.5320  0.3780  0.2480  0.1540
     0.8   1.2580  1.0200  0.7820  0.5820  0.4170  0.2750  0.1700
     1.0   1.3690  1.1200  0.8710  0.6510  0.4750  0.3150  0.2050
     1.2   1.4850  1.2300  0.9750  0.7440  0.5980  0.3990  0.2450
     1.4   1.5941  1.3400  1.0860  0.8450  0.7380  0.5340  0.2930
     2.4   2.1396  1.8900  1.6410  1.3500  1.0430  0.7240  0.4530   
    </tableData>
   </table>
  </function>

  <function name="AugThrust">
   <table>
    <independentVar lookup="row">velocities/mach</independentVar>
    <independentVar lookup="column">atmosphere/density-altitude</independentVar>
    <tableData>
           -10000       0   10000   20000   30000   40000   50000
     0.0    1.1816  1.0000  0.8184  0.6627  0.5280  0.3756  0.2327
     0.2    1.1308  0.9599  0.7890  0.6406  0.5116  0.3645  0.2258
     0.4    1.1150  0.9474  0.7798  0.6340  0.5070  0.3615  0.2240
     0.6    1.1284  0.9589  0.7894  0.6420  0.5134  0.3661  0.2268
     0.8    1.1707  0.9942  0.8177  0.6647  0.5309  0.3784  0.2345
     1.0    1.2411  1.0529  0.8648  0.7017  0.5596  0.3983  0.2467
     1.2    1.3287  1.1254  0.9221  0.7462  0.5936  0.4219  0.2614
     1.4    1.4365  1.2149  0.9933  0.8221  0.6360  0.4709  0.2994
     1.6    1.5711  1.3260  1.0809  0.8900  0.6974  0.5060  0.3311
     1.8    1.7301  1.4579  1.1857  0.9712  0.7595  0.5489  0.3777
     2.0    1.8314  1.5700  1.3086  1.0774  0.8316  0.5986  0.3985
     2.2    1.9700  1.6900  1.4100  1.2700  0.9300  0.6559  0.4340
     2.4    2.0700  1.8000  1.5300  1.3700  1.0300  0.7500  0.4900
     2.6    2.2000  1.9200  1.6400  1.4800  1.1400  0.8400  0.5600
    </tableData>
   </table>
  </function>

</turbine_engine>
<?xml version="1.0"?>
<!--
  Thrust is computed directly by the engine
-->
<direct name="Direct">
</direct>
<?xml version="1.0"?>
<?xml-stylesheet type="text/xsl" href="http://jsbsim.sourceforge.net/JSBSim.xsl"?>
<fdm_config name="F4N" version="2.0" release="ALPHA"
   xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
   xsi:noNamespaceSchemaLocation="http://jsbsim.sourceforge.net/JSBSim.xsd">

 <fileheader>
  <author> Aeromatic v 0.9 </author>
  <filecreationdate> now </filecreationdate>
  <version> 0.0 </version>
  <description> Models a F4N. </description>
 </fileheader>

<!--
  File:     F4N.xml
  Inputs:
    name:          F4N
    type:          two-engine transonic/supersonic fighter
    max weight:    61795.0 lb
    wing span:     38.4 ft
    length:        63 ft
    wing area:     530 sq-ft
    gear type:     tricycle
    retractable?:  yes
    # engines:     2
    engine type:   turbine
    engine layout: aft fuselage
    yaw damper?    yes
  Outputs:
    wing loading:  116.59 lb/sq-ft
    CL-alpha:      3.6 per radian
    CL-0:          0.08
    CL-max:        1
    CD-0:          0.024
    K:             0.1

-->

 <metrics>
   <wingarea  unit="FT2">  530.00 </wingarea>
   <wingspan  unit="FT" >   38.40 </wingspan>
   <wing_incidence>          2.00 </wing_incidence>
   <chord     unit="FT" >   13.80 </chord>
   <htailarea unit="FT2">  106.00 </htailarea>
   <htailarm  unit="FT" >   25.20 </htailarm>
   <vtailarea unit="FT2">   95.40 </vtailarea>
   <vtailarm  unit="FT" >   25.20 </vtailarm>
   <location name="AERORP" unit="IN">
     <x>   0.0 </x>
     <y>   0.0 </y>
     <z> -10.0 </z>
   </location>
   <location name="EYEPOINT" unit="IN">
     <x> 151.20 </x>
     <y>   0.00 </y>
     <z>  38.00 </z>
   </location>
   <location name="VRP" unit="IN">
     <x>0</x>
     <y>0</y>
     <z>0</z>
   </location>
 </metrics>

 <mass_balance>
   <ixx unit="SLUG*FT2">     35698 </ixx>
   <iyy unit="SLUG*FT2">    132077 </iyy>
   <izz unit="SLUG*FT2">    124386 </izz>
   <ixy unit="SLUG*FT2">         0 </ixy>
   <ixz unit="SLUG*FT2">         0 </ixz>
   <iyz unit="SLUG*FT2">         0 </iyz>
   <emptywt unit="LBS" >     28000 </emptywt>
   <location name="CG" unit="IN">
     <x> 0 </x>
     <y> 0 </y>
     <z> 0 </z>
   </location>
 </mass_balance>

 <ground_reactions>

  <contact type="BOGEY" name="NOSE">
   <location unit="IN">
     <x>  -261.59 </x>
     <y>   0.00 </y>
     <z> -62.72 </z>
   </location>
   <static_friction>  0.80 </static_friction>
   <dynamic_friction> 0.50 </dynamic_friction>
   <rolling_friction> 0.02 </rolling_friction>
   <spring_coeff unit="LBS/FT">      18538.50 </spring_coeff>
   <damping_coeff unit="LBS/FT/SEC">  5179.50 </damping_coeff>
   <max_steer unit="DEG"> 75.00 </max_steer>
   <brake_group>NONE</brake_group>
   <retractable>1</retractable>
 </contact>

  <contact type="BOGEY" name="LEFT_MAIN">
   <location unit="IN">
     <x> 30.22</x>
     <y> -71.47 </y>
     <z> -63.72 </z>
   </location>
   <static_friction>  0.80 </static_friction>
   <dynamic_friction> 0.50 </dynamic_friction>
   <rolling_friction> 0.02 </rolling_friction>
   <spring_coeff unit="LBS/FT">      41795.00 </spring_coeff>
   <damping_coeff unit="LBS/FT/SEC">  5359.00 </damping_coeff>
   <max_steer unit="DEG">0</max_steer>
   <brake_group>LEFT</brake_group>
   <retractable>1</retractable>
 </contact>

  <contact type="BOGEY" name="RIGHT_MAIN">
   <location unit="IN">
     <x> 30.22 </x>
     <y>  71.47 </y>
     <z> -63.72 </z>
   </location>
   <static_friction>  0.80 </static_friction>
   <dynamic_friction> 0.50 </dynamic_friction>
   <rolling_friction> 0.02 </rolling_friction>
   <spring_coeff unit="LBS/FT">      41795.00 </spring_coeff>
   <damping_coeff unit="LBS/FT/SEC">  5359.00 </damping_coeff>
   <max_steer unit="DEG">0</max_steer>
   <brake_group>RIGHT</brake_group>
   <retractable>1</retractable>
 </contact>

  <contact type="STRUCTURE" name="LEFT_WING">
    <location unit="IN">
     <x> 118</x>
     <y> -19.20 </y>
     <z> -18.90 </z>
    </location>
    <static_friction>  0.80 </static_friction>
    <dynamic_friction> 0.50 </dynamic_friction>
    <spring_coeff unit="LBS/FT">      61795.00 </spring_coeff>
    <damping_coeff unit="LBS/FT/SEC"> 12359.00 </damping_coeff>
 </contact>

  <contact type="STRUCTURE" name="RIGHT_WING">
    <location unit="IN">
     <x> 118 </x>
     <y>  19.20 </y>
     <z> -18.90 </z>
    </location>
    <static_friction>  0.80 </static_friction>
    <dynamic_friction> 0.50 </dynamic_friction>
    <spring_coeff unit="LBS/FT">      61795.00 </spring_coeff>
    <damping_coeff unit="LBS/FT/SEC"> 12359.00 </damping_coeff>
 </contact>

 </ground_reactions>

 <propulsion>

   <engine file="J79-GE-11A">
    <location unit="IN">
      <x> 190 </x>
      <y> -20.00 </y>
      <z>   0.00 </z>
    </location>
    <orient unit="DEG">
      <pitch> 0.00 </pitch>
      <roll>  0.00 </roll>
      <yaw>   0.00 </yaw>
    </orient>
    <feed>0</feed>
    <thruster file="direct">
     <location unit="IN">
       <x> 190 </x>
       <y> -20.00 </y>
       <z> -18.9 </z>
     </location>
     <orient unit="DEG">
       <pitch> 0.00 </pitch>
       <roll>  0.00 </roll>
       <yaw>   0.00 </yaw>
     </orient>
    </thruster>
  </engine>

   <engine file="J79-GE-11A">
    <location unit="IN">
      <x> 190 </x>
      <y>  20.00 </y>
      <z>   0.00 </z>
    </location>
    <orient unit="DEG">
      <pitch> 0.00 </pitch>
      <roll>  0.00 </roll>
      <yaw>   0.00 </yaw>
    </orient>
    <feed>0</feed>
    <thruster file="direct">
     <location unit="IN">
       <x> 190 </x>
       <y>  20.00 </y>
       <z> -18.9 </z>
     </location>
     <orient unit="DEG">
       <pitch> 0.00 </pitch>
       <roll>  0.00 </roll>
       <yaw>   0.00 </yaw>
     </orient>
    </thruster>
  </engine>

  <!-- Internal fuel -->
  <tank type="FUEL" number="0">
     <location unit="IN">
       <x> 0 </x>
       <y>   0.00 </y>
       <z> -18.90 </z>
     </location>
     <capacity unit="LBS"> 13160.00 </capacity>
     <contents unit="LBS"> 13000.00 </contents>
  </tank>

 </propulsion>

 <system file="holdback"/>
 <system file="hook"/>
 <system file="catapult"/>
 <system file="BLC"/>
<!-- <system file="refuel"/> -->
 <system file="gear"/> 
 <system file="flaps"/> 
 <system file="speedbrakes"/>
 <system file="FCS-pitch"/>
 <system file="FCS-roll"/>
 <system file="FCS-yaw"/>
 <system file="NWS"/>

<!--
 <flight_control name="FCS">
 </flight_control>
-->

 <aerodynamics>

  <axis name="LIFT">

    <function name="aero/coefficient/CLalpha">
      <description>Lift_due_to_alpha</description>
      <product>
          <property>aero/qbar-psf</property>
          <property>metrics/Sw-sqft</property>
          <table>
            <independentVar lookup="row">aero/alpha-rad</independentVar>
            <tableData>
              -0.20 -0.64
               0.00  0.08
               0.26  1.00
               0.40  0.95
               0.60  0.40
               1.30  0.05
            </tableData>
          </table>
      </product>
    </function>

    <function name="aero/coefficient/dCLflap">
       <description>Delta_Lift_due_to_flaps</description>
       <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <property>fcs/flap-pos-norm</property>
           <value> 0.4 </value>
       </product>
    </function>

    <function name="aero/coefficient/dCLsb">
       <description>Delta_Lift_due_to_speedbrake</description>
       <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <property>fcs/speedbrake-pos-norm</property>
           <value>-0.05</value>
       </product>
    </function>

    <function name="aero/coefficient/CLde">
       <description>Lift_due_to_Elevator_Deflection</description>
       <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <property>fcs/elevator-pos-rad</property>
           <value>0.25</value>
       </product>
    </function>

    <function name="aero/coefficient/dCLBLC">
       <description>Delta_Lift_due_to_BLC</description>
       <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <property>systems/BLC/active</property>
           <property>fcs/flap-pos-norm</property>
           <value> 0.15 </value>
       </product>
    </function>

  </axis>

  <axis name="DRAG">

    <function name="aero/coefficient/CD0">
       <description>Drag_at_zero_lift</description>
       <product>
          <property>aero/qbar-psf</property>
          <property>metrics/Sw-sqft</property>
          <table>
            <independentVar lookup="row">aero/alpha-rad</independentVar>
            <tableData>
             -1.57    1.500
             -0.26    0.031
              0.00    0.021
              0.26    0.031
              1.57    1.500
            </tableData>
          </table>
       </product>
    </function>

    <function name="aero/coefficient/CDi">
       <description>Induced_drag</description>
         <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <property>aero/cl-squared</property>
           <value>0.14</value>
         </product>
    </function>

    <function name="aero/coefficient/CDmach">
       <description>Drag_due_to_mach</description>
        <product>
          <property>aero/qbar-psf</property>
          <property>metrics/Sw-sqft</property>
          <table>
            <independentVar lookup="row">velocities/mach</independentVar>
            <tableData>
                0.00      0.000
                0.81      0.000
                1.10      0.018
                1.40      0.009
                2.00      0.004
            </tableData>
          </table>
        </product>
    </function>

    <function name="aero/coefficient/CDflap">
       <description>Drag_due_to_flaps</description>
         <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <property>fcs/flap-pos-norm</property>
           <value> 0.14</value>
         </product>
    </function>

    <function name="aero/coefficient/CDgear">
       <description>Drag_due_to_gear</description>
         <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <property>gear/gear-pos-norm</property>
           <value>0.028</value>
         </product>
    </function>

    <function name="aero/coefficient/CDsb">
       <description>Drag_due_to_speedbrakes</description>
         <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <property>fcs/speedbrake-pos-norm</property>
           <value>0.03</value>
         </product>
    </function>

    <function name="aero/coefficient/CDbeta">
       <description>Drag_due_to_sideslip</description>
       <product>
          <property>aero/qbar-psf</property>
          <property>metrics/Sw-sqft</property>
          <table>
            <independentVar lookup="row">aero/beta-rad</independentVar>
            <tableData>
              -1.57    1.230
              -0.26    0.050
               0.00    0.000
               0.26    0.050
               1.57    1.230
            </tableData>
          </table>
       </product>
    </function>

    <function name="aero/coefficient/CDde">
       <description>Drag_due_to_Elevator_Deflection</description>
       <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <property>fcs/mag-elevator-pos-rad</property>
           <value>0.048</value>
       </product>
    </function>

  </axis>

  <axis name="SIDE">

    <function name="aero/coefficient/CYb">
       <description>Side_force_due_to_beta</description>
       <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <property>aero/beta-rad</property>
           <value>-1</value>
       </product>
    </function>

  </axis>

  <axis name="ROLL">

    <function name="aero/coefficient/Clb">
       <description>Roll_moment_due_to_beta</description>
       <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <property>metrics/bw-ft</property>
           <property>aero/beta-rad</property>
           <value>-0.05</value>
       </product>
    </function>

    <function name="aero/coefficient/Clp">
       <description>Roll_moment_due_to_roll_rate</description>
       <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <property>metrics/bw-ft</property>
           <property>aero/bi2vel</property>
           <property>velocities/p-aero-rad_sec</property>
           <value>-0.4</value>
       </product>
    </function>

    <function name="aero/coefficient/Clr">
       <description>Roll_moment_due_to_yaw_rate</description>
       <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <property>metrics/bw-ft</property>
           <property>aero/bi2vel</property>
           <property>velocities/r-aero-rad_sec</property>
           <value>0.13</value>
       </product>
    </function>

    <function name="aero/coefficient/Clda">
       <description>Roll_moment_due_to_aileron</description>
       <product>
          <property>aero/qbar-psf</property>
          <property>metrics/Sw-sqft</property>
          <property>metrics/bw-ft</property>
          <property>fcs/left-aileron-pos-rad</property>
          <table>
            <independentVar lookup="row">velocities/mach</independentVar>
            <tableData>
              0.0    0.120
              2.0    0.040
            </tableData>
          </table>
       </product>
    </function>

    <function name="aero/coefficient/Cldr">
       <description>Roll_moment_due_to_rudder</description>
       <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <property>metrics/bw-ft</property>
           <property>fcs/rudder-pos-rad</property>
           <value>0.005</value>
       </product>
    </function>

  </axis>

  <axis name="PITCH">

    <function name="aero/coefficient/Cmalpha">
       <description>Pitch_moment_due_to_alpha</description>
       <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <property>metrics/cbarw-ft</property>
           <property>aero/alpha-rad</property>
           <value>-0.3</value>
       </product>
    </function>

    <function name="aero/coefficient/Cmde">
       <description>Pitch_moment_due_to_elevator</description>
       <product>
          <property>aero/qbar-psf</property>
          <property>metrics/Sw-sqft</property>
          <property>metrics/cbarw-ft</property>
          <property>fcs/elevator-pos-rad</property>
          <table>
            <independentVar lookup="row">velocities/mach</independentVar>
            <tableData>
              0.0     -0.70
              2.0     -0.20
            </tableData>
          </table>
       </product>
    </function>

    <function name="aero/coefficient/Cmq">
       <description>Pitch_moment_due_to_pitch_rate</description>
       <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <property>metrics/cbarw-ft</property>
           <property>aero/ci2vel</property>
           <property>velocities/q-aero-rad_sec</property>
           <value>-18</value>
       </product>
    </function>

    <function name="aero/coefficient/Cmadot">
       <description>Pitch_moment_due_to_alpha_rate</description>
       <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <property>metrics/cbarw-ft</property>
           <property>aero/ci2vel</property>
           <property>aero/alphadot-rad_sec</property>
           <value>-9</value>
       </product>
    </function>

  </axis>

  <axis name="YAW">

    <function name="aero/coefficient/Cnb">
       <description>Yaw_moment_due_to_beta</description>
       <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <property>metrics/bw-ft</property>
           <property>aero/beta-rad</property>
           <value>0.12</value>
       </product>
    </function>

    <function name="aero/coefficient/Cnr">
       <description>Yaw_moment_due_to_yaw_rate</description>
       <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <property>metrics/bw-ft</property>
           <property>aero/bi2vel</property>
           <property>velocities/r-aero-rad_sec</property>
           <value>-0.15</value>
       </product>
    </function>

    <function name="aero/coefficient/Cndr">
       <description>Yaw_moment_due_to_rudder</description>
       <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <property>metrics/bw-ft</property>
           <property>fcs/rudder-pos-rad</property>
           <value>-0.08</value>
       </product>
    </function>

    <function name="aero/coefficient/Cnda">
       <description>Adverse_yaw</description>
       <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <property>metrics/bw-ft</property>
           <property>fcs/left-aileron-pos-rad</property>
           <value>0</value>
       </product>
    </function>

  </axis>

 </aerodynamics>


 <external_reactions>

  <force name="catapult" frame="LOCAL">
   <location unit="IN">
     <x> -260.0 </x>
     <y>    0.0 </y>
     <z>    0.0 </z>
   </location>
   <direction>
     <x>   -0.9612617 </x>
     <y>   -0.2756374 </y>
     <z>    0.0 </z>
   </direction>
  </force>

  <force name="holdback" frame="BODY">
   <location unit="IN">
     <x> -250.0 </x>
     <y>    0.0 </y>
     <z>  -30.0 </z>
   </location>
   <direction>
     <x>   -1.0 </x>
     <y>    0.0 </y>
     <z>    0.0 </z>
   </direction>
  </force>

  <force name="hook" frame="LOCAL">
   <location unit="IN">
     <x>  230.0 </x>
     <y>    0.0 </y>
     <z>  -30.0 </z>
   </location>
   <direction>
     <x>   0.9902681 </x>
     <y>   0.1391731 </y>
     <z>   0.01 </z>
   </direction>
  </force>

 </external_reactions>


</fdm_config>
<?xml version="1.0"?>
<?xml-stylesheet type="text/xsl" href="http://jsbsim.sourceforge.net/JSBSim.xsl"?>
<fdm_config name="F4N" version="2.0" release="ALPHA"
   xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
   xsi:noNamespaceSchemaLocation="http://jsbsim.sourceforge.net/JSBSim.xsd">

 <fileheader>
  <author> Aeromatic v 0.9 </author>
   <author> David Culp </author>
  <filecreationdate> 2007-01-16 </filecreationdate>
  <version> 0.0 </version>
  <description> Models a F4N. </description>
      <note>
        This model was created using publicly available data, publicly available
        technical reports, textbooks, and guesses. It contains no proprietary or
        restricted data. If this model has been validated at all, it would be
        only to the extent that it seems to "fly right", and that it possibly
        complies with published, publicly known, performance data (maximum speed,
        endurance, etc.). Thus, this model is meant for educational and entertainment
        purposes only.

        This simulation model is not endorsed by the manufacturer. This model is not
        to be sold.
      </note>
 </fileheader>

<!--
  File:     F4N.xml
  Inputs:
    name:          F4N
    type:          two-engine transonic/supersonic fighter
    max weight:    61795.0 lb
    wing span:     38.4 ft
    length:        63 ft
    wing area:     530 sq-ft
    gear type:     tricycle
    retractable?:  yes
    # engines:     2
    engine type:   turbine
    engine layout: aft fuselage
    yaw damper?    yes
  Outputs:
    wing loading:  116.59 lb/sq-ft
    CL-alpha:      3.6 per radian
    CL-0:          0.08
    CL-max:        1
    CD-0:          0.024
    K:             0.1

-->

 <metrics>
   <wingarea  unit="FT2">  530.00 </wingarea>
   <wingspan  unit="FT" >   38.40 </wingspan>
   <wing_incidence>          2.00 </wing_incidence>
   <chord     unit="FT" >   13.80 </chord>
   <htailarea unit="FT2">  106.00 </htailarea>
   <htailarm  unit="FT" >   25.20 </htailarm>
   <vtailarea unit="FT2">   95.40 </vtailarea>
   <vtailarm  unit="FT" >   25.20 </vtailarm>
   <location name="AERORP" unit="IN">
     <x>   0.0 </x>
     <y>   0.0 </y>
     <z> -10.0 </z>
   </location>
   <location name="EYEPOINT" unit="IN">
     <x> 151.20 </x>
     <y>   0.00 </y>
     <z>  38.00 </z>
   </location>
   <location name="VRP" unit="IN">
     <x>0</x>
     <y>0</y>
     <z>0</z>
   </location>
 </metrics>

 <mass_balance>
   <ixx unit="SLUG*FT2">     35698 </ixx>
   <iyy unit="SLUG*FT2">    132077 </iyy>
   <izz unit="SLUG*FT2">    124386 </izz>
   <ixy unit="SLUG*FT2">         0 </ixy>
   <ixz unit="SLUG*FT2">         0 </ixz>
   <iyz unit="SLUG*FT2">         0 </iyz>
   <emptywt unit="LBS" >     28000 </emptywt>
   <location name="CG" unit="IN">
     <x> 0 </x>
     <y> 0 </y>
     <z> 0 </z>
   </location>
 </mass_balance>

 <ground_reactions>

  <contact type="BOGEY" name="NOSE">
   <location unit="IN">
     <x>  -261.59 </x>
     <y>   0.00 </y>
     <z> -62.72 </z>
   </location>
   <static_friction>  0.80 </static_friction>
   <dynamic_friction> 0.50 </dynamic_friction>
   <rolling_friction> 0.02 </rolling_friction>
   <spring_coeff unit="LBS/FT">      18538.50 </spring_coeff>
   <damping_coeff unit="LBS/FT/SEC">  5179.50 </damping_coeff>
   <max_steer unit="DEG"> 75.00 </max_steer>
   <brake_group>NONE</brake_group>
   <retractable>1</retractable>
 </contact>

  <contact type="BOGEY" name="LEFT_MAIN">
   <location unit="IN">
     <x> 30.22</x>
     <y> -71.47 </y>
     <z> -63.72 </z>
   </location>
   <static_friction>  0.80 </static_friction>
   <dynamic_friction> 0.50 </dynamic_friction>
   <rolling_friction> 0.02 </rolling_friction>
   <spring_coeff unit="LBS/FT">      41795.00 </spring_coeff>
   <damping_coeff unit="LBS/FT/SEC">  5359.00 </damping_coeff>
   <max_steer unit="DEG">0</max_steer>
   <brake_group>LEFT</brake_group>
   <retractable>1</retractable>
 </contact>

  <contact type="BOGEY" name="RIGHT_MAIN">
   <location unit="IN">
     <x> 30.22 </x>
     <y>  71.47 </y>
     <z> -63.72 </z>
   </location>
   <static_friction>  0.80 </static_friction>
   <dynamic_friction> 0.50 </dynamic_friction>
   <rolling_friction> 0.02 </rolling_friction>
   <spring_coeff unit="LBS/FT">      41795.00 </spring_coeff>
   <damping_coeff unit="LBS/FT/SEC">  5359.00 </damping_coeff>
   <max_steer unit="DEG">0</max_steer>
   <brake_group>RIGHT</brake_group>
   <retractable>1</retractable>
 </contact>

  <contact type="STRUCTURE" name="LEFT_WING">
    <location unit="IN">
     <x> 118</x>
     <y> -19.20 </y>
     <z> -18.90 </z>
    </location>
    <static_friction>  0.80 </static_friction>
    <dynamic_friction> 0.50 </dynamic_friction>
    <spring_coeff unit="LBS/FT">      61795.00 </spring_coeff>
    <damping_coeff unit="LBS/FT/SEC"> 12359.00 </damping_coeff>
 </contact>

  <contact type="STRUCTURE" name="RIGHT_WING">
    <location unit="IN">
     <x> 118 </x>
     <y>  19.20 </y>
     <z> -18.90 </z>
    </location>
    <static_friction>  0.80 </static_friction>
    <dynamic_friction> 0.50 </dynamic_friction>
    <spring_coeff unit="LBS/FT">      61795.00 </spring_coeff>
    <damping_coeff unit="LBS/FT/SEC"> 12359.00 </damping_coeff>
 </contact>

 </ground_reactions>

  <external_reactions>
    
    <force name="catapult" frame="LOCAL">
      <location unit="IN">
        <x> -260.0 </x>
        <y>    0.0 </y>
        <z>    0.0 </z>
      </location>
      <direction>
        <x>   -0.9612617 </x>
        <y>   -0.2756374 </y>
        <z>    0.0 </z>
      </direction>
    </force>
    
    <force name="holdback" frame="BODY">
      <location unit="IN">
        <x> -250.0 </x>
        <y>    0.0 </y>
        <z>  -30.0 </z>
      </location>
      <direction>
        <x>   -1.0 </x>
        <y>    0.0 </y>
        <z>    0.0 </z>
      </direction>
    </force>
    
    <force name="hook" frame="LOCAL">
      <location unit="IN">
        <x>  230.0 </x>
        <y>    0.0 </y>
        <z>  -30.0 </z>
      </location>
      <direction>
        <x>   0.9902681 </x>
        <y>   0.1391731 </y>
        <z>   0.01 </z>
      </direction>
    </force>
    
  </external_reactions>
  
  <propulsion>

   <engine file="J79-GE-11A">
    <feed>0</feed>
    <thruster file="direct">
     <location unit="IN">
       <x> 190 </x>
       <y> -20.00 </y>
       <z> -18.9 </z>
     </location>
     <orient unit="DEG">
       <pitch> 0.00 </pitch>
       <roll>  0.00 </roll>
       <yaw>   0.00 </yaw>
     </orient>
    </thruster>
  </engine>

   <engine file="J79-GE-11A">
    <feed>0</feed>
    <thruster file="direct">
     <location unit="IN">
       <x> 190 </x>
       <y>  20.00 </y>
       <z> -18.9 </z>
     </location>
     <orient unit="DEG">
       <pitch> 0.00 </pitch>
       <roll>  0.00 </roll>
       <yaw>   0.00 </yaw>
     </orient>
    </thruster>
  </engine>

  <!-- Internal fuel -->
  <tank type="FUEL" number="0">
     <location unit="IN">
       <x> 0 </x>
       <y>   0.00 </y>
       <z> -18.90 </z>
     </location>
     <capacity unit="LBS"> 13160.00 </capacity>
     <contents unit="LBS"> 13000.00 </contents>
  </tank>

 </propulsion>

 <system file="holdback"/>
 <system file="hook"/>
 <system file="catapult"/>
 <system file="BLC"/>
<!-- <system file="refuel"/> -->
 <system file="gear"/> 
 <system file="flaps"/> 
 <system file="speedbrakes"/>
 <system file="FCS-pitch"/>
 <system file="FCS-roll"/>
 <system file="FCS-yaw"/>
 <system file="NWS"/>

<!--
 <flight_control name="FCS">
 </flight_control>
-->

 <aerodynamics>

  <axis name="LIFT">

    <function name="aero/coefficient/CLalpha">
      <description>Lift_due_to_alpha</description>
      <product>
          <property>aero/qbar-psf</property>
          <property>metrics/Sw-sqft</property>
          <table>
            <independentVar lookup="row">aero/alpha-rad</independentVar>
            <tableData>
              -0.20 -0.64
               0.00  0.08
               0.26  1.00
               0.40  0.95
               0.60  0.40
               1.30  0.05
            </tableData>
          </table>
      </product>
    </function>

    <function name="aero/coefficient/dCLflap">
       <description>Delta_Lift_due_to_flaps</description>
       <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <property>fcs/flap-pos-norm</property>
           <value> 0.4 </value>
       </product>
    </function>

    <function name="aero/coefficient/dCLsb">
       <description>Delta_Lift_due_to_speedbrake</description>
       <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <property>fcs/speedbrake-pos-norm</property>
           <value>-0.05</value>
       </product>
    </function>

    <function name="aero/coefficient/CLde">
       <description>Lift_due_to_Elevator_Deflection</description>
       <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <property>fcs/elevator-pos-rad</property>
           <value>0.25</value>
       </product>
    </function>

    <function name="aero/coefficient/dCLBLC">
       <description>Delta_Lift_due_to_BLC</description>
       <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <property>systems/BLC/active</property>
           <property>fcs/flap-pos-norm</property>
           <value> 0.15 </value>
       </product>
    </function>

  </axis>

  <axis name="DRAG">

    <function name="aero/coefficient/CD0">
       <description>Drag_at_zero_lift</description>
       <product>
          <property>aero/qbar-psf</property>
          <property>metrics/Sw-sqft</property>
          <table>
            <independentVar lookup="row">aero/alpha-rad</independentVar>
            <tableData>
             -1.57    1.500
             -0.26    0.031
              0.00    0.021
              0.26    0.031
              1.57    1.500
            </tableData>
          </table>
       </product>
    </function>

    <function name="aero/coefficient/CDi">
       <description>Induced_drag</description>
         <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <property>aero/cl-squared</property>
           <value>0.14</value>
         </product>
    </function>

    <function name="aero/coefficient/CDmach">
       <description>Drag_due_to_mach</description>
        <product>
          <property>aero/qbar-psf</property>
          <property>metrics/Sw-sqft</property>
          <table>
            <independentVar lookup="row">velocities/mach</independentVar>
            <tableData>
                0.00      0.000
                0.81      0.000
                1.10      0.018
                1.40      0.009
                2.00      0.004
            </tableData>
          </table>
        </product>
    </function>

    <function name="aero/coefficient/CDflap">
       <description>Drag_due_to_flaps</description>
         <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <property>fcs/flap-pos-norm</property>
           <value> 0.14</value>
         </product>
    </function>

    <function name="aero/coefficient/CDgear">
       <description>Drag_due_to_gear</description>
         <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <property>gear/gear-pos-norm</property>
           <value>0.028</value>
         </product>
    </function>

    <function name="aero/coefficient/CDsb">
       <description>Drag_due_to_speedbrakes</description>
         <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <property>fcs/speedbrake-pos-norm</property>
           <value>0.03</value>
         </product>
    </function>

    <function name="aero/coefficient/CDbeta">
       <description>Drag_due_to_sideslip</description>
       <product>
          <property>aero/qbar-psf</property>
          <property>metrics/Sw-sqft</property>
          <table>
            <independentVar lookup="row">aero/beta-rad</independentVar>
            <tableData>
              -1.57    1.230
              -0.26    0.050
               0.00    0.000
               0.26    0.050
               1.57    1.230
            </tableData>
          </table>
       </product>
    </function>

    <function name="aero/coefficient/CDde">
       <description>Drag_due_to_Elevator_Deflection</description>
       <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <property>fcs/mag-elevator-pos-rad</property>
           <value>0.048</value>
       </product>
    </function>

  </axis>

  <axis name="SIDE">

    <function name="aero/coefficient/CYb">
       <description>Side_force_due_to_beta</description>
       <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <property>aero/beta-rad</property>
           <value>-1</value>
       </product>
    </function>

  </axis>

  <axis name="ROLL">

    <function name="aero/coefficient/Clb">
       <description>Roll_moment_due_to_beta</description>
       <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <property>metrics/bw-ft</property>
           <property>aero/beta-rad</property>
           <value>-0.05</value>
       </product>
    </function>

    <function name="aero/coefficient/Clp">
       <description>Roll_moment_due_to_roll_rate</description>
       <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <property>metrics/bw-ft</property>
           <property>aero/bi2vel</property>
           <property>velocities/p-aero-rad_sec</property>
           <value>-0.4</value>
       </product>
    </function>

    <function name="aero/coefficient/Clr">
       <description>Roll_moment_due_to_yaw_rate</description>
       <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <property>metrics/bw-ft</property>
           <property>aero/bi2vel</property>
           <property>velocities/r-aero-rad_sec</property>
           <value>0.13</value>
       </product>
    </function>

    <function name="aero/coefficient/Clda">
       <description>Roll_moment_due_to_aileron</description>
       <product>
          <property>aero/qbar-psf</property>
          <property>metrics/Sw-sqft</property>
          <property>metrics/bw-ft</property>
          <property>fcs/left-aileron-pos-rad</property>
          <table>
            <independentVar lookup="row">velocities/mach</independentVar>
            <tableData>
              0.0    0.120
              2.0    0.040
            </tableData>
          </table>
       </product>
    </function>

    <function name="aero/coefficient/Cldr">
       <description>Roll_moment_due_to_rudder</description>
       <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <property>metrics/bw-ft</property>
           <property>fcs/rudder-pos-rad</property>
           <value>0.005</value>
       </product>
    </function>

  </axis>

  <axis name="PITCH">

    <function name="aero/coefficient/Cmalpha">
       <description>Pitch_moment_due_to_alpha</description>
       <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <property>metrics/cbarw-ft</property>
           <property>aero/alpha-rad</property>
           <value>-0.3</value>
       </product>
    </function>

    <function name="aero/coefficient/Cmde">
       <description>Pitch_moment_due_to_elevator</description>
       <product>
          <property>aero/qbar-psf</property>
          <property>metrics/Sw-sqft</property>
          <property>metrics/cbarw-ft</property>
          <property>fcs/elevator-pos-rad</property>
          <table>
            <independentVar lookup="row">velocities/mach</independentVar>
            <tableData>
              0.0     -0.70
              2.0     -0.20
            </tableData>
          </table>
       </product>
    </function>

    <function name="aero/coefficient/Cmq">
       <description>Pitch_moment_due_to_pitch_rate</description>
       <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <property>metrics/cbarw-ft</property>
           <property>aero/ci2vel</property>
           <property>velocities/q-aero-rad_sec</property>
           <value>-18</value>
       </product>
    </function>

    <function name="aero/coefficient/Cmadot">
       <description>Pitch_moment_due_to_alpha_rate</description>
       <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <property>metrics/cbarw-ft</property>
           <property>aero/ci2vel</property>
           <property>aero/alphadot-rad_sec</property>
           <value>-9</value>
       </product>
    </function>

  </axis>

  <axis name="YAW">

    <function name="aero/coefficient/Cnb">
       <description>Yaw_moment_due_to_beta</description>
       <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <property>metrics/bw-ft</property>
           <property>aero/beta-rad</property>
           <value>0.12</value>
       </product>
    </function>

    <function name="aero/coefficient/Cnr">
       <description>Yaw_moment_due_to_yaw_rate</description>
       <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <property>metrics/bw-ft</property>
           <property>aero/bi2vel</property>
           <property>velocities/r-aero-rad_sec</property>
           <value>-0.15</value>
       </product>
    </function>

    <function name="aero/coefficient/Cndr">
       <description>Yaw_moment_due_to_rudder</description>
       <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <property>metrics/bw-ft</property>
           <property>fcs/rudder-pos-rad</property>
           <value>-0.08</value>
       </product>
    </function>

    <function name="aero/coefficient/Cnda">
       <description>Adverse_yaw</description>
       <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <property>metrics/bw-ft</property>
           <property>fcs/left-aileron-pos-rad</property>
           <value>0</value>
       </product>
    </function>

  </axis>

 </aerodynamics>

</fdm_config>
// This file instructs the automatic synchronization utilities where to
// install this aircraft and under what name.
//
// The syntax is easy;
// * the package name at the beginning of a new line followed by a colon
// * a space as a column separator
// * the path and filename relative to the aircraft install directory
//
// Currently known package names are: FlightGear

// Don't install in the FlightGear base package.
//FlightGear:
<?xml version="1.0"?>
<initialize name="reset00">
  <!--
    This file sets up the aircraft to start off
    from the runway in preparation for takeoff.
  -->
  <ubody unit="FT/SEC">    0.0  </ubody>
  <vbody unit="FT/SEC">    0.0  </vbody>
  <wbody unit="FT/SEC">    0.0  </wbody>
  <latitude unit="DEG">   47.0  </latitude>
  <longitude unit="DEG"> 122.0  </longitude>
  <phi unit="DEG">         0.0  </phi>
  <theta unit="DEG">       0.0  </theta>
  <psi unit="DEG">       225.0  </psi>
  <altitude unit="IN">    44.82 </altitude>
</initialize>
<?xml version="1.0"?>
<?xml-stylesheet type="text/xsl" href="http://jsbsim.sourceforge.net/JSBSim.xsl"?>
<fdm_config name="F80C" version="2.0" release="BETA"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:noNamespaceSchemaLocation="http://jsbsim.sourceforge.net/JSBSim.xsd">

 <fileheader>
     <author>Aeromatic v 0.8, DPC</author>
     <filecreationdate>2006-01-04</filecreationdate>
     <version>$Revision: 1.6 $</version>
     <description>Models a Lockheed F-80C</description>
      <note>
        This model was created using publicly available data, publicly available
        technical reports, textbooks, and guesses. It contains no proprietary or
        restricted data. If this model has been validated at all, it would be
        only to the extent that it seems to "fly right", and that it possibly
        complies with published, publicly known, performance data (maximum speed,
        endurance, etc.). Thus, this model is meant for educational and entertainment
        purposes only.

        This simulation model is not endorsed by the manufacturer. This model is not
        to be sold.
      </note>
 </fileheader>

<!--
  File:     F80C.xml
  Inputs:
    name:          F80C
    type:          single-engine transonic/supersonic fighter
    max weight:    16800.0 lb
    wing span:     38.8 ft
    length:        34.5 ft
    wing area:     unspecified
    gear type:     tricycle
    retractable?:  yes
    # engines:     1
    engine type:   turbine
    engine layout: aft fuselage
    yaw damper?    yes
  Outputs:
    wing loading:  95.00 lb/sq-ft
    CL-alpha:      3.5 per radian
    CL-0:          0.08
    CL-max:        1
    CD-0:          0.021
    K:             0.09

-->

    <metrics>
        <wingarea unit="FT2">  237    </wingarea>
        <wingspan unit="FT">    38.8  </wingspan>
        <wing_incidence>         2.0  </wing_incidence>
        <chord unit="FT">        4.56 </chord>
        <htailarea unit="FT2">  35.37 </htailarea>
        <htailarm unit="FT">    13.80 </htailarm>
        <vtailarea unit="FT2">  21.22 </vtailarea>
        <vtailarm unit="FT">    13.80 </vtailarm>
        <location name="AERORP" unit="IN">
            <x> 250 </x>
            <y> 0 </y>
            <z> 0 </z>
        </location>
        <location name="EYEPOINT" unit="IN">
            <x> 82.8 </x>
            <y> 0 </y>
            <z> 36 </z>
        </location>
        <location name="VRP" unit="IN">
            <x> 185.0 </x>
            <y> 0 </y>
            <z> 0 </z>
        </location>
    </metrics>

    <mass_balance>
        <ixx unit="SLUG*FT2"> 21472 </ixx>
        <iyy unit="SLUG*FT2"> 28527 </iyy>
        <izz unit="SLUG*FT2"> 42049 </izz>
        <emptywt unit="LBS">   8240 </emptywt>
        <location name="CG" unit="IN">
            <x> 250.0 </x>
            <y> 0 </y>
            <z> 0 </z>
        </location>
    </mass_balance>

    <ground_reactions>
        <contact type="BOGEY" name="NOSE_LG">
            <location unit="IN">
                <x> 54 </x>
                <y> 0 </y>
                <z> -72 </z>
            </location>
            <static_friction>  0.8 </static_friction>
            <dynamic_friction> 0.5 </dynamic_friction>
            <rolling_friction> 0.02 </rolling_friction>
            <spring_coeff unit="LBS/FT"> 5040 </spring_coeff>
            <damping_coeff unit="LBS/FT/SEC"> 1680 </damping_coeff>
            <max_steer unit="DEG"> 25 </max_steer>
            <brake_group> NONE </brake_group>
            <retractable>1</retractable>
        </contact>
        <contact type="BOGEY" name="LEFT_MLG">
            <location unit="IN">
                <x> 260.3 </x>
                <y> -41.9 </y>
                <z> -66 </z>
            </location>
            <static_friction> 0.8 </static_friction>
            <dynamic_friction> 0.5 </dynamic_friction>
            <rolling_friction> 0.02 </rolling_friction>
            <spring_coeff unit="LBS/FT"> 16800 </spring_coeff>
            <damping_coeff unit="LBS/FT/SEC"> 3360 </damping_coeff>
            <max_steer unit="DEG"> 0.0 </max_steer>
            <brake_group> LEFT </brake_group>
            <retractable>1</retractable>
        </contact>
        <contact type="BOGEY" name="RIGHT_MLG">
            <location unit="IN">
                <x> 260.3 </x>
                <y> 41.9 </y>
                <z> -66 </z>
            </location>
            <static_friction> 0.8 </static_friction>
            <dynamic_friction> 0.5 </dynamic_friction>
            <rolling_friction> 0.02 </rolling_friction>
            <spring_coeff unit="LBS/FT"> 16800 </spring_coeff>
            <damping_coeff unit="LBS/FT/SEC"> 3360 </damping_coeff>
            <max_steer unit="DEG"> 0.0 </max_steer>
            <brake_group> RIGHT </brake_group>
            <retractable>1</retractable>
        </contact>
	<!-- Structure contact points. -->
        <contact type="STRUCTURE" name="NOSE">
            <location unit="IN">
                <x> 0 </x>
                <y> 0 </y>
                <z> 0 </z>
            </location>
            <static_friction>  0.8 </static_friction>
            <dynamic_friction> 0.5 </dynamic_friction>
            <rolling_friction> 0.5 </rolling_friction>
            <spring_coeff unit="LBS/FT"> 16800 </spring_coeff>
            <damping_coeff unit="LBS/FT/SEC"> 3360 </damping_coeff>
            <brake_group> NONE </brake_group>
        </contact>
         <contact type="STRUCTURE" name="LEFT_WINGTIP">
            <location unit="IN">
                <x>  212.60 </x>
                <y> -236.2  </y>
                <z>  -35.4  </z>
            </location>
            <static_friction>  0.8 </static_friction>
            <dynamic_friction> 0.5 </dynamic_friction>
            <rolling_friction> 0.5 </rolling_friction>
            <spring_coeff unit="LBS/FT"> 16800 </spring_coeff>
            <damping_coeff unit="LBS/FT/SEC"> 3360 </damping_coeff>
            <brake_group> NONE </brake_group>
        </contact>
         <contact type="STRUCTURE" name="RIGHT_WINGTIP">
            <location unit="IN">
                <x> 212.6 </x>
                <y> 236.2 </y>
                <z> -35.4 </z>
            </location>
            <static_friction>  0.8 </static_friction>
            <dynamic_friction> 0.5 </dynamic_friction>
            <rolling_friction> 0.5 </rolling_friction>
            <spring_coeff unit="LBS/FT"> 16800 </spring_coeff>
            <damping_coeff unit="LBS/FT/SEC"> 3360 </damping_coeff>
            <brake_group> NONE </brake_group>
        </contact>
        <contact type="STRUCTURE" name="TAIL">
            <location unit="IN">
                <x> 425.2 </x>
                <y> 0 </y>
                <z> -9.9 </z>
            </location>
            <static_friction>  0.8 </static_friction>
            <dynamic_friction> 0.5 </dynamic_friction>
            <rolling_friction> 0.5 </rolling_friction>
            <spring_coeff unit="LBS/FT"> 16800 </spring_coeff>
            <damping_coeff unit="LBS/FT/SEC"> 3360 </damping_coeff>
            <brake_group> NONE </brake_group>
        </contact>
   </ground_reactions>
    <propulsion>
        <engine file="J33-A-35">
            <feed>0</feed>
            <thruster file="direct">
                <location unit="IN">
                    <x> 354 </x>
                    <y> 0 </y>
                    <z> 0 </z>
                </location>
                <orient unit="DEG">
                    <roll> 0.0 </roll>
                    <pitch> 0.03 </pitch>
                    <yaw> 0.0 </yaw>
                </orient>
            </thruster>
        </engine>
        <tank type="FUEL">    <!-- Tank number 0 -->
            <location unit="IN">
                <x> 248.4 </x>
                <y> 0 </y>
                <z> -10.35 </z>
            </location>
            <capacity unit="LBS"> 2848 </capacity>
            <contents unit="LBS"> 2800 </contents>
        </tank>
    </propulsion>
    <flight_control name="FCS: F80C">

        <channel name="Pitch">

            <summer name="Pilot Pitch Sum">
                <input>fcs/elevator-cmd-norm</input>
                <input>fcs/pitch-trim-cmd-norm</input>
                <clipto>
                    <min>-1</min>
                    <max> 1</max>
                </clipto>
            </summer>

            <scheduled_gain name="Pitch Feel">
                <input>fcs/pilot-pitch-sum</input>
                <table>
                  <independentVar>velocities/mach</independentVar>
                    <tableData>
                        0.0000	1.0000
                        0.6000	0.7000
                        1.2000	0.5000
                    </tableData>
                </table>
            </scheduled_gain>

            <aerosurface_scale name="Elevator Final">
                <input>fcs/pitch-feel</input>
                <range>
                    <min>-0.35</min>
                    <max> 0.35</max>
                </range>
                <output>fcs/elevator-pos-rad</output>
            </aerosurface_scale>

            <aerosurface_scale name="elevator normalized">
                <input>fcs/elevator-pos-rad</input>
                <domain>
                    <min>-0.35</min>
                    <max> 0.35</max>
                </domain>
                <range>
                    <min>-1</min>
                    <max> 1</max>
                </range>
                <output>fcs/elevator-pos-norm</output>
            </aerosurface_scale>

        </channel>
        <channel name="Roll">
            <summer name="Pilot Roll Sum">
                <input>fcs/aileron-cmd-norm</input>
                <input>fcs/roll-trim-cmd-norm</input>
                <clipto>
                    <min>-1</min>
                    <max>1</max>
                </clipto>
            </summer>

            <scheduled_gain name="Roll Feel">
                <input>fcs/pilot-roll-sum</input>
                <table>
                  <independentVar>velocities/mach</independentVar>
                    <tableData>
                        0.0000	1.0000
                        0.6000	0.7500
                        1.2000	0.5000
                    </tableData>
                </table>
            </scheduled_gain>

            <aerosurface_scale name="Left Aileron Final">
                <input>fcs/roll-feel</input>
                <range>
                    <min>-0.35</min>
                    <max> 0.35</max>
                </range>
                <output>fcs/left-aileron-pos-rad</output>
            </aerosurface_scale>

            <aerosurface_scale name="Right Aileron Final">
                <input>-fcs/roll-feel</input>
                <range>
                    <min>-0.35</min>
                    <max> 0.35</max>
                </range>
                <output>fcs/right-aileron-pos-rad</output>
            </aerosurface_scale>

            <aerosurface_scale name="left aileron normalized">
                <input>fcs/left-aileron-pos-rad</input>
                <domain>
                    <min>-0.35</min>
                    <max> 0.35</max>
                </domain>
                <range>
                    <min>-1</min>
                    <max> 1</max>
                </range>
                <output>fcs/left-aileron-pos-norm</output>
            </aerosurface_scale>

            <aerosurface_scale name="right aileron normalized">
                <input>fcs/right-aileron-pos-rad</input>
                <domain>
                    <min>-0.35</min>
                    <max> 0.35</max>
                </domain>
                <range>
                    <min>-1</min>
                    <max> 1</max>
                </range>
                <output>fcs/right-aileron-pos-norm</output>
            </aerosurface_scale>

        </channel>

        <channel name="Yaw">

            <summer name="Rudder Command Sum">
                <input>fcs/rudder-cmd-norm</input>
                <input>fcs/yaw-trim-cmd-norm</input>
                <clipto>
                    <min>-1</min>
                    <max>1</max>
                </clipto>
            </summer>

            <scheduled_gain name="Yaw Damper Rate">
                <input>velocities/r-aero-rad_sec</input>
                <table>
                  <independentVar>velocities/mach</independentVar>
                    <tableData>
                        0.0000	0.0000
                        0.1000	0.0000
                        0.1100	1.0000
                    </tableData>
                </table>
            </scheduled_gain>

            <summer name="Rudder Sum">
                <input>fcs/rudder-command-sum</input>
                <input>fcs/yaw-damper-rate</input>
                <clipto>
                    <min>-1</min>
                    <max>1</max>
                </clipto>
            </summer>

            <aerosurface_scale name="Rudder Control">
                <input>fcs/rudder-sum</input>
                <range>
                    <min>-0.35</min>
                    <max> 0.35</max>
                </range>
                <output>fcs/rudder-pos-rad</output>
            </aerosurface_scale>

            <aerosurface_scale name="rudder normalized">
                <input>fcs/rudder-pos-rad</input>
                <domain>
                    <min>-0.35</min>
                    <max> 0.35</max>
                </domain>
                <range>
                    <min>-1</min>
                    <max> 1</max>
                </range>
                <output>fcs/rudder-pos-norm</output>
            </aerosurface_scale>

        </channel>

        <channel name="Flaps">

            <kinematic name="Flaps Control">
                <input>fcs/flap-cmd-norm</input>
                <traverse>
                    <setting>
                        <position>0</position>
                        <time>0</time>
                    </setting>
                    <setting>
                        <position>0.5</position>
                        <time>5</time>
                    </setting>
                    <setting>
                        <position>1</position>
                        <time>3</time>
                    </setting>
                </traverse>
                <output>fcs/flap-pos-norm</output>
            </kinematic>
        </channel>

        <channel name="Landing Gear">

            <kinematic name="Gear Control">
                <input>gear/gear-cmd-norm</input>
                <traverse>
                    <setting>
                        <position>0</position>
                        <time>0</time>
                    </setting>
                    <setting>
                        <position>1</position>
                        <time>3</time>
                    </setting>
                </traverse>
                <output>gear/gear-pos-norm</output>
            </kinematic>

        </channel>

        <channel name="Speedbrake">

            <kinematic name="Speedbrake Control">
                <input>fcs/speedbrake-cmd-norm</input>
                <traverse>
                    <setting>
                        <position>0</position>
                        <time>0</time>
                    </setting>
                    <setting>
                        <position>1</position>
                        <time>1</time>
                    </setting>
                </traverse>
                <output>fcs/speedbrake-pos-norm</output>
            </kinematic>

        </channel>

    </flight_control>

    <aerodynamics>

        <axis name="DRAG">
            <function name="aero/coefficient/CD0">
                <description>Drag_at_zero_lift</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                      <table>
                          <independentVar>aero/alpha-rad</independentVar>
                          <tableData>
                             -1.5700	1.5000
                             -0.2600	0.0420
                              0.0000	0.021
                              0.2600	0.0420
                              1.5700	1.5000
                          </tableData>
                      </table>
                </product>
            </function>
            <function name="aero/coefficient/CDi">
                <description>Induced_drag</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>aero/cl-squared</property>
                    <value>0.11</value>
                </product>
            </function>
            <function name="aero/coefficient/CDmach">
                <description>Drag_due_to_mach</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                      <table>
                          <independentVar>velocities/mach</independentVar>
                          <tableData>
                              0.00	0.000
                              0.77	0.000
                              1.10	0.024
                          </tableData>
                      </table>
                </product>
            </function>
            <function name="aero/coefficient/CDflap">
                <description>Drag_due_to_flaps</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>fcs/flap-pos-norm</property>
                    <value>0.1</value>
                </product>
            </function>
            <function name="aero/coefficient/CDgear">
                <description>Drag_due_to_gear</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>gear/gear-pos-norm</property>
                    <value>0.02</value>
                </product>
            </function>
            <function name="aero/coefficient/CDsb">
                <description>Drag_due_to_speedbrakes</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>fcs/speedbrake-pos-norm</property>
                    <value>0.0250</value>
                </product>
            </function>
            <function name="aero/coefficient/CDbeta">
                <description>Drag_due_to_sideslip</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                      <table>
                          <independentVar>aero/beta-rad</independentVar>
                          <tableData>
                             -1.5700	1.2300
                             -0.2600	0.0500
                              0.0000	0.0000
                              0.2600	0.0500
                              1.5700	1.2300
                          </tableData>
                      </table>
                </product>
            </function>
            <function name="aero/coefficient/CDde">
                <description>Drag_due_to_Elevator_Deflection</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>fcs/mag-elevator-pos-rad</property>
                    <value>0.23</value>
                </product>
            </function>
        </axis>

        <axis name="SIDE">
            <function name="aero/coefficient/CYb">
                <description>Side_force_due_to_beta</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>aero/beta-rad</property>
                    <value>-1</value>
                </product>
            </function>
        </axis>

        <axis name="LIFT">
            <function name="aero/coefficient/CLalpha">
                <description>Lift_due_to_alpha</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                      <table>
                          <independentVar lookup="row">aero/alpha-rad</independentVar>
                          <independentVar lookup="column">fcs/flap-pos-norm</independentVar>
                          <tableData>
                                        0       1
                             -0.2000   -0.5710	0.1000
                              0.0000	0.0000	0.6000
                              0.2500	0.7160	1.3000
                              0.3300	0.9450	0.3000
                              0.6000	0.1740	0.0000
                          </tableData>
                      </table>
                </product>
            </function>
            <function name="aero/coefficient/CLde">
                <description>Lift_due_to_Elevator_Deflection</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>fcs/elevator-pos-rad</property>
                    <value>0.2</value>
                </product>
            </function>
        </axis>

        <axis name="ROLL">
            <function name="aero/coefficient/Clb">
                <description>Roll_moment_due_to_beta</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>aero/beta-rad</property>
                    <value> -0.1 </value>
                </product>
            </function>
            <function name="aero/coefficient/Clp">
                <description>Roll_moment_due_to_roll_rate</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>aero/bi2vel</property>
                    <property>velocities/p-aero-rad_sec</property>
                    <value>-0.4</value>
                </product>
            </function>
            <function name="aero/coefficient/Clr">
                <description>Roll_moment_due_to_yaw_rate</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>aero/bi2vel</property>
                    <property>velocities/r-aero-rad_sec</property>
                    <value>0.12</value>
                </product>
            </function>
            <function name="aero/coefficient/Clda">
                <description>Roll_moment_due_to_aileron</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>fcs/left-aileron-pos-rad</property>
                    <value>0.052</value>
                </product>
            </function>
            <function name="aero/coefficient/Cldr">
                <description>Roll_moment_due_to_rudder</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>fcs/rudder-pos-rad</property>
                    <value>0.01</value>
                </product>
            </function>
        </axis>

        <axis name="PITCH">
            <function name="aero/coefficient/Cmalpha">
                <description>Pitch_moment_due_to_alpha</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/cbarw-ft</property>
                    <property>aero/alpha-rad</property>
                    <value>-0.3</value>
                </product>
            </function>
            <function name="aero/coefficient/Cmde">
                <description>Pitch_moment_due_to_elevator</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/cbarw-ft</property>
                    <property>fcs/elevator-pos-rad</property>
                    <value>-0.55</value>
                </product>
            </function>
            <function name="aero/coefficient/Cmq">
                <description>Pitch_moment_due_to_pitch_rate</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/cbarw-ft</property>
                    <property>aero/ci2vel</property>
                    <property>velocities/q-aero-rad_sec</property>
                    <value>-18.0000</value>
                </product>
            </function>
            <function name="aero/coefficient/Cmadot">
                <description>Pitch_moment_due_to_alpha_rate</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/cbarw-ft</property>
                    <property>aero/ci2vel</property>
                    <property>aero/alphadot-rad_sec</property>
                    <value>-9.0000</value>
                </product>
            </function>
            <function name="aero/coefficient/Cmflaps">
                <description>Pitch_moment_due_to_flaps</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/cbarw-ft</property>
                    <property>fcs/flap-pos-norm</property>
                    <value>-0.07</value>
                </product>
            </function>
        </axis>

        <axis name="YAW">
            <function name="aero/coefficient/Cnb">
                <description>Yaw_moment_due_to_beta</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>aero/beta-rad</property>
                    <value>0.1</value>
                </product>
            </function>
            <function name="aero/coefficient/Cnr">
                <description>Yaw_moment_due_to_yaw_rate</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>aero/bi2vel</property>
                    <property>velocities/r-aero-rad_sec</property>
                    <value>-0.15</value>
                </product>
            </function>
            <function name="aero/coefficient/Cndr">
                <description>Yaw_moment_due_to_rudder</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>fcs/rudder-pos-rad</property>
                    <value>-0.02</value>
                </product>
            </function>
        </axis>
    </aerodynamics>
<!--
    <output name="F80.csv" type="CSV">
        <propulsion> ON </propulsion>
    </output>
-->
</fdm_config>
// This file instructs the automatic synchronization utilities where to
// install this aircraft and under what name.
//
// The syntax is easy;
// * the package name at the beginning of a new line followed by a colon
// * a space as a column separator
// * the path and filename relative to the aircraft install directory
//
// Currently known package names are: FlightGear

FlightGear:
// This file instructs the automatic synchronization utilities where to
// install this aircraft and under what name.
//
// The syntax is easy;
// * the package name at the beginning of a new line followed by a colon
// * a space as a column separator
// * the path and filename relative to the aircraft install directory
//
// Currently known package names are: FlightGear

FlightGear:
<?xml version="1.0"?>
<?xml-stylesheet type="text/xsl" href="http://jsbsim.sourceforge.net/JSBSim.xsl"?>
<fdm_config name="Jupiter-246 - Lunar Crew Launch Vehicle Configuration" version="2.0" release="ALPHA"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:noNamespaceSchemaLocation="http://jsbsim.sourceforge.net/JSBSim.xsd">

    <fileheader>
        <author> Jon S. Berndt </author>
        <filecreationdate> 2010-01-14 </filecreationdate>
        <version> $Revision: 1.6 $ </version>
        <description>
          Rough model of the DIRECT Jupiter-246 
          Lunar Crew Launch Vehicle Configuration.
          FOR EDUCATIONAL PURPOSES ONLY.
          This model is not sanctioned by nor is it a work of the DIRECT Launcher
          team.
        </description>
      <note>
        This model was created using publicly available data, publicly available
        technical reports, textbooks, and guesses. It contains no proprietary or
        restricted data. If this model has been validated at all, it would be
        only to the extent that it seems to "fly right", and that it possibly
        complies with published, publicly known, performance data (maximum speed,
        endurance, etc.). Thus, this model is meant for educational and entertainment
        purposes only.

        This simulation model is not endorsed by the manufacturer. This model is not
        to be sold.
      </note>
        <reference
          refID="http://directlauncher.org/documents/Baseball_Cards/J246-41.4003.10050_CLV_090606.pdf"
          author="DIRECT Team"
          title="Jupiter-246 - Lunar Crew Launch Vehicle Configuration"
          date="6 June 2009"/>
    </fileheader>

    <metrics>
        <wingarea unit="FT2"> 255 </wingarea> <!-- reference area, cross sectional area -->
        <wingspan unit="FT"> 18 </wingspan> <!-- lateral reference length, max diameter -->
        <chord unit="FT"> 300 </chord> <!-- longitudinal reference length, length -->
        <location name="AERORP" unit="IN">
            <x> 1500 </x>
            <y> 0 </y>
            <z> 0 </z>
        </location>
        <location name="EYEPOINT" unit="IN">
            <x> 0 </x>
            <y> 0 </y>
            <z> 0 </z>
        </location>
        <location name="VRP" unit="IN">
            <x> 0 </x>
            <y> 0 </y>
            <z> 0 </z>
        </location>
    </metrics>

    <mass_balance>
      
      <!--
                   Weight (each)   Quantity    Subtotal    Total
        SRBs                                              2,593,208
          Case        185,000         2         370,000
          Prop      1,111,604         2       2,223,208

        Core Stage                                        1,768,670
          Struct     119,479          1         119,479
          LOX      1,389,592          1       1,389,592
          LH2        231,599          1         231,599
          Engines (4)  7,000          4          28,000

        Interstage     8,748          1           8,748       8,748

        Upper Stage                                         411,730
          Struct      21,117          1          21,117
          LOX        331,674          1         331,674
          LH2         55,279          1          55,279
          Engines (6)    610          6           3,660

        SM            26,000          1          26,000      26,000

        CM            20,000          1          20,000      20,000

        LAS           16,000          1          16,000      16,000

        Shroud        12,571          1          12,571      12,571

        Total                                             4,856,927
      -->

      <!-- Item 0 -->
      <pointmass name="Left SRB case weight">
        <form shape="tube">
          <radius unit="FT"> 6 </radius>
          <length unit="FT"> 145 </length>
        </form>
        <weight unit="LBS"> 185000 </weight>
        <location unit="IN">
          <x> 2770.0 </x>
          <y> -225.0 </y>
          <z>    0.0 </z>
        </location>
      </pointmass>

      <!-- Item 1 -->
      <pointmass name="Right SRB case weight">
        <form shape="tube">
          <radius unit="FT"> 6 </radius>
          <length unit="FT"> 145 </length>
        </form>
        <weight unit="LBS"> 185000 </weight>
        <location unit="IN">
          <x> 2770.0 </x>
          <y>  225.0 </y>
          <z>    0.0 </z>
        </location>
      </pointmass>

      <!-- Item 2 -->
      <pointmass name="Core Main Stage Structure">
        <form shape="tube">
          <radius unit="FT"> 13.75 </radius>
          <length unit="FT"> 153 </length>
        </form>
        <weight unit="LBS"> 119479 </weight>
        <location unit="IN">
          <x> 2556.0 </x>
          <y>    0.0 </y>
          <z>    0.0 </z>
        </location>
      </pointmass>

      <!-- SSMEs weigh 7000 lbs each -->

      <!-- Item 3 -->
      <pointmass name="SSME 0">
        <form shape="cylinder">
          <radius unit="FT"> 3 </radius>
          <length unit="FT"> 10 </length>
        </form>
        <weight unit="LBS"> 7000 </weight>
        <location unit="IN">
          <x> 3500.0 </x>
          <y>    0.0 </y>
          <z>  165.0 </z>
        </location>
      </pointmass>

      <!-- Item 4 -->
      <pointmass name="SSME 1">
        <form shape="cylinder">
          <radius unit="FT"> 3 </radius>
          <length unit="FT"> 10 </length>
        </form>
        <weight unit="LBS"> 7000 </weight>
        <location unit="IN">
          <x> 3500.0 </x>
          <y>    0.0 </y>
          <z>   55.0 </z>
        </location>
      </pointmass>

      <!-- Item 5 -->
      <pointmass name="SSME 2">
        <form shape="cylinder">
          <radius unit="FT"> 3 </radius>
          <length unit="FT"> 10 </length>
        </form>
        <weight unit="LBS"> 7000 </weight>
        <location unit="IN">
          <x> 3500.0 </x>
          <y>    0.0 </y>
          <z>  -55.0 </z>
        </location>
      </pointmass>

      <!-- Item 6 -->
      <pointmass name="SSME 3">
        <form shape="cylinder">
          <radius unit="FT"> 3 </radius>
          <length unit="FT"> 10 </length>
        </form>
        <weight unit="LBS"> 7000 </weight>
        <location unit="IN">
          <x> 3500.0 </x>
          <y>    0.0 </y>
          <z> -165.0 </z>
        </location>
      </pointmass>

      <!-- Item 7 -->
      <pointmass name="Interstage">
        <form shape="tube">
          <radius unit="FT"> 13.75 </radius>
          <length unit="FT"> 20 </length>
        </form>
        <weight unit="LBS"> 8748 </weight>
        <location unit="IN">
          <x> 1600.0 </x>
          <y>    0.0 </y>
          <z>    0.0 </z>
        </location>
      </pointmass>

      <!-- Item 8 -->
      <pointmass name="Upper Stage Structure">
        <form shape="tube">
          <radius unit="FT"> 13.75 </radius>
          <length unit="FT"> 30 </length>
        </form>
        <weight unit="LBS"> 21117 </weight>
        <location unit="IN">
          <x> 1176.0 </x>
          <y>    0.0 </y>
          <z>    0.0 </z>
        </location>
      </pointmass>

      <!-- Item 9 -->
      <pointmass name="RL10-B-2 Upper Stage Engine #0">
        <form shape="cylinder">
          <radius unit="FT"> 2.0 </radius>
          <length unit="FT"> 6 </length>
        </form>
        <weight unit="LBS"> 610 </weight>
        <location unit="FT">
          <x>   78.0 </x>
          <y>    0.0 </y>
          <z>    8.0 </z>
        </location>
      </pointmass>

      <!-- Item 10 -->
      <pointmass name="RL10-B-2 Upper Stage Engine #1">
        <form shape="cylinder">
          <radius unit="FT"> 2.0 </radius>
          <length unit="FT"> 6 </length>
        </form>
        <weight unit="LBS"> 610 </weight>
        <location unit="FT">
          <x>   78.0   </x>
          <y>    6.928 </y>
          <z>    4.0   </z>
        </location>
      </pointmass>

      <!-- Item 11 -->
      <pointmass name="RL10-B-2 Upper Stage Engine #2">
        <form shape="cylinder">
          <radius unit="FT"> 2.0 </radius>
          <length unit="FT"> 6 </length>
        </form>
        <weight unit="LBS"> 610 </weight>
        <location unit="FT">
          <x>   78.0   </x>
          <y>    6.928 </y>
          <z>   -4.0   </z>
        </location>
      </pointmass>

      <!-- Item 12 -->
      <pointmass name="RL10-B-2 Upper Stage Engine #3">
        <form shape="cylinder">
          <radius unit="FT"> 2.0 </radius>
          <length unit="FT"> 6 </length>
        </form>
        <weight unit="LBS"> 610 </weight>
        <location unit="FT">
          <x>   78.0 </x>
          <y>    0.0 </y>
          <z>   -8.0 </z>
        </location>
      </pointmass>

      <!-- Item 13 -->
      <pointmass name="RL10-B-2 Upper Stage Engine #4">
        <form shape="cylinder">
          <radius unit="FT"> 2.0 </radius>
          <length unit="FT"> 6 </length>
        </form>
        <weight unit="LBS"> 610 </weight>
        <location unit="FT">
          <x>   78.0   </x>
          <y>   -6.928 </y>
          <z>   -4.0   </z>
        </location>
      </pointmass>

      <!-- Item 14 -->
      <pointmass name="RL10-B-2 Upper Stage Engine #5">
        <form shape="cylinder">
          <radius unit="FT"> 2.0 </radius>
          <length unit="FT"> 6 </length>
        </form>
        <weight unit="LBS"> 610 </weight>
        <location unit="FT">
          <x>   78.0 </x>
          <y>   -6.928 </y>
          <z>    4.0   </z>
        </location>
      </pointmass>

      <!-- Item 15 -->
      <pointmass name="Service Module (w/prop)">
        <form shape="cylinder">
          <radius unit="FT"> 7.0 </radius>
          <length unit="FT"> 14 </length>
        </form>
        <weight unit="LBS"> 26000 </weight>
        <location unit="IN">
          <x>  700.0 </x>
          <y>    0.0 </y>
          <z>    0.0 </z>
        </location>
      </pointmass>

      <!-- Item 16 -->
      <pointmass name="Command Module">
        <form shape="cylinder">
          <radius unit="FT"> 7.0 </radius>
          <length unit="FT"> 14 </length>
        </form>
        <weight unit="LBS"> 20000 </weight>
        <location unit="IN">
          <x>  400.0 </x>
          <y>    0.0 </y>
          <z>    0.0 </z>
        </location>
      </pointmass>

      <!-- Item 17 -->
      <pointmass name="LAS">
        <form shape="cylinder">
          <radius unit="FT"> 1.0 </radius>
          <length unit="FT"> 20 </length>
        </form>
        <weight unit="LBS"> 16000 </weight>
        <location unit="IN">
          <x> 120.0 </x>
          <y>   0.0 </y>
          <z>   0.0 </z>
        </location>
      </pointmass>

      <!-- Item 18 -->
      <pointmass name="Payload Shroud">
        <form shape="tube">
          <radius unit="FT"> 10.0 </radius>
          <length unit="FT"> 40 </length>
        </form>
        <weight unit="LBS"> 12571 </weight>
        <location unit="IN">
          <x> 1176.0 </x>
          <y>   0.0 </y>
          <z>   0.0 </z>
        </location>
      </pointmass>

    </mass_balance>

    <ground_reactions>
      <!-- Not used - hold down model keeps vehicle in place -->
    </ground_reactions>

    <propulsion>

      <!-- Left SRB -->
      <engine file="SRB">
        <!-- Left SRB, Engine [0]-->
        <feed>0</feed>
        <thruster file="SRB_nozzle">
          <location unit="IN">
            <x> 3500 </x>
            <y> -225 </y>
            <z>    0 </z>
          </location>
        </thruster>
      </engine>

      <tank type="FUEL">
        <!-- Tank number 0  Left SRB prop -->
        <location unit="IN">
          <x> 2676 </x>
          <y> -225 </y>
          <z>    0 </z>
        </location>
        <radius unit="FT">6.0</radius>
        <grain_config type="CYLINDRICAL">
          <length unit="FT"> 124.0 </length>
          <bore_diameter unit="FT"> 2.0 </bore_diameter>
        </grain_config>
        <capacity unit="LBS"> 1114092 </capacity>
        <contents unit="LBS"> 1114092 </contents>
      </tank>

      <engine file="SRB">
        <!-- Right SRB, Engine [1]-->
        <feed>1</feed>
        <thruster file="SRB_nozzle">
          <location unit="IN">
            <x> 3500 </x>
            <y>  225 </y>
            <z>    0 </z>
          </location>
        </thruster>
      </engine>

      <tank type="FUEL">
        <!-- Tank number 1  Right SRB prop -->
        <location unit="IN">
          <x> 2676 </x>
          <y>  225 </y>
          <z>    0 </z>
        </location>
        <radius unit="FT">6.0</radius>
        <grain_config type="CYLINDRICAL">
          <length unit="FT"> 124.0 </length>
          <bore_diameter unit="FT"> 2.0 </bore_diameter>
        </grain_config>
        <capacity unit="LBS"> 1114092 </capacity>
        <contents unit="LBS"> 1114092 </contents>
      </tank>

      <!-- Core Stage -->

      <engine file="SSME">
        <!-- SSME Engine 0 (overall engine index 2) -->
        <feed>2</feed>
        <feed>3</feed>
        <thruster file="SSME_nozzle">
          <location unit="IN">
            <x> 3500 </x>
            <y>    0 </y>
            <z>  165 </z>
          </location>
        </thruster>
      </engine>

      <engine file="SSME">
        <!-- SSME Engine 1 (overall engine index 3) -->
        <feed>2</feed>
        <feed>3</feed>
        <thruster file="SSME_nozzle">
          <location unit="IN">
            <x> 3500 </x>
            <y>    0 </y>
            <z>   55 </z>
          </location>
        </thruster>
      </engine>

      <engine file="SSME">
        <!-- SSME Engine 2 (overall engine index 4) -->
        <feed>2</feed>
        <feed>3</feed>
        <thruster file="SSME_nozzle">
          <location unit="IN">
            <x> 3500 </x>
            <y>    0 </y>
            <z>  -55 </z>
          </location>
        </thruster>
      </engine>

      <engine file="SSME">
        <!-- SSME Engine 3 (overall engine index 5) -->
        <feed>2</feed>
        <feed>3</feed>
        <thruster file="SSME_nozzle">
          <location unit="IN">
            <x> 3500 </x>
            <y>    0 </y>
            <z> -165 </z>
          </location>
        </thruster>
      </engine>

      <tank type="OXIDIZER" name="Main Stage LOX">
        <!-- Tank number 2 (LOX) -->
        <location unit="IN">
          <x> 1956 </x>
          <y>    0 </y>
          <z>    0 </z>
        </location>
        <drain_location unit="IN">
          <x> 2076 </x>
          <y>    0 </y>
          <z>    0 </z>
        </drain_location>
        <capacity unit="LBS"> 1389500 </capacity>
        <contents unit="LBS"> 1389500 </contents>
      </tank>

      <tank type="FUEL" name="Main Stage LH2">
        <!-- Tank number 3 (LH2) -->
        <location unit="IN">
          <x> 2520 </x>
          <y>    0 </y>
          <z>    0 </z>
        </location>
        <drain_location unit="IN">
          <x>  3300 </x>
          <y>    0 </y>
          <z>    0 </z>
        </drain_location>
        <capacity unit="LBS"> 231571 </capacity>
        <contents unit="LBS"> 231571 </contents>
      </tank>

      <!-- Upper Stage -->

      <engine file="RL10" name="RL10-B-2 Upper Stage Engine #0">
        <!-- RL10 Engine 1 (overall engine index 6) -->
        <feed>4</feed>
        <feed>5</feed>
        <thruster file="RL10_nozzle">
          <location unit="FT">
            <x>   78.0 </x>
            <y>    0.0 </y>
            <z>    8.0 </z>
          </location>
        </thruster>
      </engine>

      <engine file="RL10" name="RL10-B-2 Upper Stage Engine #1">
        <!-- RL10 Engine 2 (overall engine index 7) -->
        <feed>4</feed>
        <feed>5</feed>
        <thruster file="RL10_nozzle">
          <location unit="FT">
            <x>   78.0   </x>
            <y>    6.928 </y>
            <z>    4.0   </z>
          </location>
        </thruster>
      </engine>

      <engine file="RL10" name="RL10-B-2 Upper Stage Engine #2">
        <!-- RL10 Engine 3 (overall engine index 8) -->
        <feed>4</feed>
        <feed>5</feed>
        <thruster file="RL10_nozzle">
          <location unit="FT">
            <x>   78.0   </x>
            <y>    6.928 </y>
            <z>   -4.0   </z>
          </location>
        </thruster>
      </engine>

      <engine file="RL10" name="RL10-B-2 Upper Stage Engine #3">
        <!-- RL10 Engine 4 (overall engine index 9) -->
        <feed>4</feed>
        <feed>5</feed>
        <thruster file="RL10_nozzle">
          <location unit="FT">
            <x>   78.0 </x>
            <y>    0.0 </y>
            <z>   -8.0 </z>
          </location>
        </thruster>
      </engine>

      <engine file="RL10" name="RL10-B-2 Upper Stage Engine #4">
        <!-- RL10 Engine 5 (overall engine index 10) -->
        <feed>4</feed>
        <feed>5</feed>
        <thruster file="RL10_nozzle">
          <location unit="FT">
            <x>   78.0   </x>
            <y>   -6.928 </y>
            <z>   -4.0   </z>
          </location>
        </thruster>
      </engine>

      <engine file="RL10" name="RL10-B-2 Upper Stage Engine #5">
        <!-- RL10 Engine 6 (overall engine index 11) -->
        <feed>4</feed>
        <feed>5</feed>
        <thruster file="RL10_nozzle">
          <location unit="FT">
            <x>  78.0 </x>
            <y>   -6.928 </y>
            <z>    4.0   </z>
          </location>
        </thruster>
      </engine>

      <tank type="OXIDIZER" name="Upper Stage LOX">
        <!-- Tank number 4 (LOX) Upper Stage -->
        <location unit="IN">
          <x> 1250 </x>
          <y>    0 </y>
          <z>    0 </z>
        </location>
        <drain_location unit="IN">
          <x> 1356 </x>
          <y>    0 </y>
          <z>    0 </z>
        </drain_location>
        <capacity unit="LBS"> 331674 </capacity>
        <contents unit="LBS"> 331674 </contents>
      </tank>

      <tank type="FUEL" name="Upper Stage LH2">
        <!-- Tank number 5 (LH2) Upper Stage -->
        <location unit="IN">
          <x> 1476 </x>
          <y>    0 </y>
          <z>    0 </z>
        </location>
        <drain_location unit="IN">
          <x> 1596 </x>
          <y>    0 </y>
          <z>    0 </z>
        </drain_location>
        <capacity unit="LBS"> 55279 </capacity>
        <contents unit="LBS"> 55279 </contents>
      </tank>

    </propulsion>

    <system name="J246 Guidance Executive" file="J246GuidanceExecutive.xml"/>
    <system name="J246 Control System" file="J246ControlSystem.xml"/>
    <system name="J246 First Stage Effectors" file="J246FirstStageEffectors.xml"/>
    <system name="J246 Second Stage Effectors" file="J246SecondStageEffectors.xml"/>

    <aerodynamics>

      <axis name="DRAG">
        <function name="aero/force/drag">
          <description>Drag_minimum</description>
          <product>
            <property>aero/qbar-psf</property>
            <property>metrics/Sw-sqft</property>
            <table name="aero/coefficient/CD_min">
              <independentVar>velocities/mach</independentVar>
              <tableData>
                0.0000        0.0610
                0.1000        0.0610
                0.5000        0.0610
                0.7000        0.0620
                0.8000        0.0650
                0.9000        0.0680
                0.9900        0.0900
                1.0000        0.0900
                1.0100        0.0900
                1.1000        0.1300
                1.2000        0.1200
                1.3000        0.1100
                1.4000        0.1000
                1.5000        0.0930
                2.0000        0.0800
                3.0000        0.0620
                4.0000        0.0480
                5.0000        0.0400
                6.0000        0.0380
                7.0000        0.0370
                8.0000        0.0370
                9.0000        0.0370
              </tableData>
            </table>
          </product>
        </function>
      </axis>

      <axis name="SIDE">
        <function name="aero/force/side">
          <description>Side force due to beta</description>
          <product>
            <property>aero/qbar-psf</property>
            <property>metrics/Sw-sqft</property>
            <property>aero/beta-rad</property>
            <table name="aero/coefficient/CY_beta">
              <independentVar>velocities/mach</independentVar>
              <tableData>
                0.0000        -4.5000
                0.4000        -3.8000
                0.6000        -3.6000
                1.0500        -4.5000
                1.4000        -4.0000
                2.8000        -2.5000
                6.0000        -1.1000
                9.0000        -1.0000
              </tableData>
            </table>
          </product>
        </function>
      </axis>

      <axis name="LIFT">
        <function name="aero/force/list">
          <description>Lift force due to alpha</description>
          <product>
            <property>aero/qbar-psf</property>
            <property>metrics/Sw-sqft</property>
            <property>aero/alpha-rad</property>
            <table name="aero/coefficient/CL_alpha">
              <independentVar>velocities/mach</independentVar>
              <tableData>
                0.0000        4.5000
                0.4000        3.8000
                0.6000        3.6000
                1.0500        4.5000
                1.4000        4.0000
                2.8000        2.5000
                6.0000        1.1000
                9.0000        1.0000
              </tableData>
            </table>
          </product>
        </function>
      </axis>

      <axis name="ROLL">
      </axis>

      <axis name="PITCH">
      </axis>

      <axis name="YAW">
      </axis>

    </aerodynamics>

    <!--output name="J246.csv" type="CSV" rate="10">
      <simulation> OFF </simulation>
      <atmosphere> ON </atmosphere>
      <massprops> ON </massprops>
      <aerosurfaces> OFF </aerosurfaces>
      <rates> ON </rates>
      <velocities> ON </velocities>
      <forces> ON </forces>
      <moments> ON </moments>
      <position> ON </position>
      <propulsion> ON </propulsion>
      <fcs> ON </fcs>
      <ground_reactions> OFF </ground_reactions>
      <coefficients> OFF </coefficients>
      <property>propulsion/engine[2]/thrust-lbs</property>
      <property>propulsion/engine[3]/thrust-lbs</property>
      <property>propulsion/engine[4]/thrust-lbs</property>
      <property>propulsion/engine[5]/thrust-lbs</property>
      <property>guidance/upper-stage-flight-flag-switch</property>
      <property>guidance/upper-stage-flight-flag</property>
      <property>guidance/executive/MET</property>
      <property>guidance/executive/current-mode</property>
      <property>propulsion/tank[2]/contents-lbs</property>
      <property>propulsion/tank[2]/priority</property>
      <property>propulsion/tank[3]/contents-lbs</property>
      <property>propulsion/tank[3]/priority</property>
    </output-->

</fdm_config>
<?xml version="1.0"?>
<initialize name="LC39 (Launch Complex 39)">
  <!--
    This file sets up the vehicle to take off
    from the launch pad.
  -->
  <ubody unit="FT/SEC">       0.0  </ubody>
  <vbody unit="FT/SEC">       0.0  </vbody>
  <wbody unit="FT/SEC">       0.0  </wbody>
  <latitude unit="DEG">   28.6272  </latitude>
  <longitude unit="DEG"> -80.6208  </longitude>
  <phi unit="DEG">           90 </phi>
  <!--
    Set theta to a value slightly lower than 90deg to check the fidelity
    of the forces/hold-down feature (theta and psi might be polluted by the
    Euler angles gimble error otherwise).
    -->
  <theta unit="DEG">         89.99 </theta>
  <psi unit="DEG">            0.0  </psi>
  <altitude unit="IN">     1720.5  </altitude>
</initialize>
<?xml version="1.0"?>
<system name="J246 Control System"
        xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xsi:noNamespaceSchemaLocation="http://jsbsim.sourceforge.net/JSBSimSystem.xsd">

  <channel name="Mode 0: Vertical Rise">

    <!-- This is a simple PID controller to maintain zero pitch and yaw rate
             during the vertical rise phase when the roll angle is being adjusted 
             to the appropriate heading - if the orientation on the pad is not
             aligned with the launch azimuth. -->

    <!-- Pitch Vertical Rise - hold pitch rate at zero. -->

    <pid name="control/pitch-hold-vertical">
      <input>velocities/q-rad_sec</input>
      <kp>2</kp>
      <ki>0.1</ki>
      <kd>0.1</kd>
      <trigger> guidance/executive/integrator-wind-up-guard-0 </trigger>
    </pid>

    <lag_filter name="control/pitch-lag">
      <input>control/pitch-hold-vertical</input>
      <c1>20</c1>
    </lag_filter>

    <pure_gain name="control/pitch-gain">
      <input>control/pitch-lag</input>
      <gain>1.0</gain>
    </pure_gain>

    <!-- Yaw Vertical Rise - hold yaw rate at zero. -->

    <pid name="control/yaw-hold-vertical">
      <input>velocities/r-rad_sec</input>
      <kp>2</kp>
      <ki>0.1</ki>
      <kd>0.1</kd>
      <trigger> guidance/executive/integrator-wind-up-guard-0 </trigger>
    </pid>

    <lag_filter name="control/yaw-lag">
      <input>control/yaw-hold-vertical</input>
      <c1>20</c1>
    </lag_filter>

    <pure_gain name="control/yaw-gain">
      <input>control/yaw-lag</input>
      <gain>1.0</gain>
    </pure_gain>

  </channel>

  <channel name="Mode 2, 3: Gravity turn">

    <!-- This is a simple controller to generate a small pitch rate to
             align heads down and ascending. -->

    <!-- Gravity turn (Pitch Rate Command) -->

    <summer name="control/gravity-turn-pitch-rate-error">
      <input>  velocities/q-rad_sec </input>
      <input> -guidance/executive/gravity-turn-pitch-rate-command </input>
    </summer>

    <pid name="control/gravity-turn-pitch-rate-controller">
      <input> control/gravity-turn-pitch-rate-error </input>
      <kp>4.5</kp>
      <ki>0.5</ki>
      <kd>0.0</kd>
      <trigger> guidance/executive/integrator-wind-up-guard-2 </trigger>
    </pid>

    <pure_gain name="control/gravity-turn-pitch-rate-command-gain">
      <input>control/gravity-turn-pitch-rate-controller</input>
      <gain>1.0</gain>
    </pure_gain>

  </channel>

  <channel name="Mode 4: Zero Alpha/Beta">

    <pid name="control/gravity-turn-alpha-controller">
      <input> aero/alpha-rad </input>
      <kp>  0.4 </kp>
      <ki>  0.005 </ki>
      <kd>  0.4 </kd>
      <trigger> guidance/executive/integrator-wind-up-guard-3 </trigger>
    </pid>

    <pid name="control/gravity-turn-beta-controller">
      <input> aero/beta-rad </input>
      <kp>  0.4 </kp>
      <ki>  0.005 </ki>
      <kd>  0.4 </kd>
      <trigger> guidance/executive/integrator-wind-up-guard-3 </trigger>
    </pid>

  </channel>

  <property value="0.0"> guidance/executive/peg-target-pitch-attitude </property>

  <channel name="Mode 5:*** Mode, Second Stage">

    <summer name="control/peg-pitch-rate-command">
      <input>  attitude/theta-rad </input>
      <input> -guidance/executive/peg-target-pitch-attitude </input>
      <clipto>
        <max>  0.01 </max>
        <min> -0.01 </min>
      </clipto>
    </summer>

    <summer name="control/peg-pitch-rate-error">
      <input> control/peg-pitch-rate-command </input>
      <input> -velocities/q-rad_sec </input>
    </summer>

    <pid name="control/peg-pitch-controller">
      <input> control/peg-pitch-rate-error </input>
      <kp>  1.5 </kp>
      <ki>  0.2 </ki>
      <kd>  0.1 </kd>
      <trigger> guidance/executive/integrator-wind-up-guard-4 </trigger>
    </pid>

    <lag_filter name="control/peg-pitch-control-lag">
      <input> control/peg-pitch-controller </input>
      <c1> 5 </c1>
    </lag_filter>
    
    <pure_gain name="control/peg-pitch-control-inverter">
      <input> control/peg-pitch-control-lag </input>
      <gain> -1.0 </gain>
    </pure_gain>
    
    <pid name="control/peg-beta-controller">
      <input> aero/beta-rad </input>
      <kp>  0.4 </kp>
      <ki>  0.005 </ki>
      <kd>  0.4 </kd>
      <trigger> guidance/executive/integrator-wind-up-guard-4 </trigger>
    </pid>
    
  </channel>

</system><?xml version="1.0"?>
<system name="J246 First Stage Effectors"
        xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xsi:noNamespaceSchemaLocation="http://jsbsim.sf.net/JSBSimSystem.xsd">

  <channel name="Pitch">

    <switch name="fcs/pitch-output-selector">
      <default value="0.0"/>
      <test value="control/peg-pitch-controller">
        guidance/executive/current-mode eq 5 <!-- *** mode, second stage -->
      </test>
      <test value="control/gravity-turn-alpha-controller">
        guidance/executive/current-mode eq 4 <!-- Zero alpha/beta mode -->
      </test>
      <test value="control/gravity-turn-pitch-rate-command-gain">
        guidance/executive/current-mode eq 3 <!-- Gravity turn mode -->
      </test>
      <test value="control/gravity-turn-pitch-rate-command-gain">
        guidance/executive/current-mode eq 2 <!-- Initial kick angle turn mode -->
      </test>
      <test value="control/pitch-gain">
        guidance/executive/current-mode le 1 <!-- Vertical rise mode -->
      </test>
    </switch>

    <pure_gain name="fcs/pitch-actuator-cmd">
      <input>fcs/pitch-output-selector</input>
      <gain> 1.0 </gain>
    </pure_gain>

    <actuator name="fcs/pitch-actuator-pos">
      <input>fcs/pitch-actuator-cmd</input>
      <lag> 60 </lag>
      <bias> 0.0017 </bias>
      <hysteresis_width> 0.0017 </hysteresis_width>
      <rate_limit> 0.085 </rate_limit>
      <clipto>
        <min> -0.17 </min>
        <max>  0.17 </max>
      </clipto>
      <output>propulsion/engine[0]/pitch-angle-rad</output>
      <output>propulsion/engine[1]/pitch-angle-rad</output>
    </actuator>

  </channel>

  <channel name="Roll">

  </channel>

  <channel name="Yaw">

    <switch name="fcs/yaw-output-selector">
      <default value="0.0"/>
      <test logic="OR" value="control/yaw-gain">
        guidance/executive/current-mode eq 0 <!-- Vertical rise mode                 -->
        guidance/executive/current-mode eq 1 <!-- Roll-to-heading mode               -->
        guidance/executive/current-mode eq 2 <!-- Gravity turn angle pitch rate mode -->
        guidance/executive/current-mode eq 3 <!-- Gravity turn zero beta mode        -->
        guidance/executive/current-mode eq 4 <!-- Zero alpha zero beta mode          -->
        guidance/executive/current-mode eq 5 <!-- Second stage                       -->
      </test>
    </switch>

    <pure_gain name="fcs/yaw-actuator-cmd">
      <input>fcs/yaw-output-selector</input>
      <gain>1.0</gain>
    </pure_gain>

    <actuator name="fcs/yaw-actuator-pos">
      <input>fcs/yaw-actuator-cmd</input>
      <lag> 60 </lag>
      <bias> 0.0011 </bias>
      <hysteresis_width> 0.0017 </hysteresis_width>
      <rate_limit> 0.085 </rate_limit>
      <clipto>
        <min> -0.17 </min>
        <max>  0.17 </max>
      </clipto>
      <output>propulsion/engine[0]/yaw-angle-rad</output>
      <output>propulsion/engine[1]/yaw-angle-rad</output>
    </actuator>

  </channel>

</system><?xml version="1.0"?>
<system name="J246 Guidance Executive"
        xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xsi:schemaLocation="http://jsbsim.sf.net/JSBSimSystem.xsd"
        xsi:noNamespaceSchemaLocation="http://jsbsim.sf.net/JSBSimSystem.xsd">

  <!--
  
  This file (among others) represents the executive portion of the vehicle
  flight software. There is a clock timer that ticks off Mission Elapsed Time
  (MET) as it marches on from the time that the solid rocket boosters (engine
  "0") ignites.
  
  #############################################################################
  GNC Executive MET Clock
  #############################################################################
  -->

  <property value="0"> guidance/second-stage-flight-flag </property>
  <property value="0"> guidance/upper-stage-flight-flag </property>

  <channel name="GNC Executive MET Clock">

    <switch name="guidance/executive/launch-time">
      <default value="simulation/sim-time-sec"/>
      <test value="guidance/executive/launch-time"> fcs/throttle-cmd-norm[0] gt 0 </test>
    </switch>

    <summer name="guidance/executive/MET">
      <input> simulation/sim-time-sec </input>
      <input> -guidance/executive/launch-time </input>
    </summer>

  </channel>

  <!--
  #############################################################################
  Guidance Modes
  #############################################################################
  -->

  <channel name="Guidance Modes">                       <!-- Determine GNC modes                         -->
                                                        <!-- "0" represents the vertical rise mode       -->
    <switch name="guidance/executive/current-mode">
      <default value="-1"/>
      <test value="6">                                  <!-- "6" represents the *** mode, in upper       -->
        guidance/upper-stage-flight-flag eq 1           <!-- stage flight.                               -->
      </test>
      <test value="5">                                  <!-- "5" represents the *** mode, in second      -->
        guidance/second-stage-flight-flag eq 1          <!-- stage flight.                               -->
      </test>
      <test logic="OR" value="4">                       <!-- "4" represents the zero alpha mode, with    -->
        aero/qbar-psf ge 1000.0                         <!-- qbar exceeding 100 psf @ 14 seconds.        -->
        guidance/executive/MET ge 999.0                 <!-- This mode "sticks", too, if MET >= 30.      -->
      </test>
      <test value="3">                                  <!-- "3" represents the ascent gravity turn mode -->
        guidance/executive/MET ge 10.0                  <!-- This mode selected if MET .ge. 10 seconds.  -->
      </test>                                           <!--                                             -->
      <test value="2">                                  <!-- "2" represents the initial angle turn mode  -->
        guidance/executive/MET ge 6.0                   <!-- This mode selected if MET .ge. 6 seconds,   -->
      </test>                                           <!-- corresponding to an altitude gain of 350'.  -->
      <test value="1">                                  <!-- "1" represents the stay vertical mode.      --> 
        guidance/executive/MET ge 999.0                 <!-- This mode selected if MET .ge. 2 seconds    -->
      </test>                                           <!-- This mode is turned off for the moment.     -->
      <test value="0">                                  <!-- "0" represents the vertical rise mode.      --> 
        guidance/executive/MET ge 0.0                   <!-- This mode selected if MET .ge. 0 seconds    -->
      </test>                                           <!-- This mode is turned off for the moment.     -->
    </switch>

    <switch name="guidance/executive/integrator-wind-up-guard-0">
      <default value="1"/>
      <test value="0"> guidance/executive/current-mode ge 0 </test>
    </switch>

    <switch name="guidance/executive/integrator-wind-up-guard-1">
      <default value="1"/>
      <test value="0"> guidance/executive/current-mode ge 1 </test>
    </switch>

    <switch name="guidance/executive/integrator-wind-up-guard-2">
      <default value="1"/>
      <test value="0"> guidance/executive/current-mode ge 2 </test>
    </switch>

    <switch name="guidance/executive/integrator-wind-up-guard-3">
      <default value="1"/>
      <test value="0"> guidance/executive/current-mode ge 3 </test>
    </switch>

    <switch name="guidance/executive/integrator-wind-up-guard-4">
      <default value="1"/>
      <test value="0"> guidance/executive/current-mode ge 4 </test>
    </switch>

    <switch name="guidance/executive/gravity-turn-pitch-rate-command">
      <description>
        Set the pitch rate dependent on guidance mode.
      </description>
      <default value="0.0"/>
      <test value="0.008">
        guidance/executive/current-mode eq 2
      </test>
      <test value="0.0035">
        guidance/executive/current-mode ge 3
      </test>
    </switch>
    
  </channel>

  <!--
  #############################################################################
  Major Vehicle Configuration Discrete Actions
  #############################################################################
  -->

  <channel name="Major Vehicle Configuration Discrete Actions">

    <switch name="guidance/executive/left-srb-sep-flag">
      <default value="0"/>
      <test value="1">
        guidance/executive/MET gt 110.0
        propulsion/engine[0]/thrust-lbs le 40000.0
      </test>
    </switch>

    <switch name="guidance/executive/right-srb-sep-flag">
      <default value="0"/>
      <test value="1">
        guidance/executive/MET gt 110.0
        propulsion/engine[1]/thrust-lbs le 40000.0
      </test>
    </switch>

    <switch name="guidance/second-stage-flight-flag-switch">
      <default value="0"/>
      <test value="1" logic="OR">
        guidance/executive/left-srb-sep-flag eq 1
        guidance/executive/right-srb-sep-flag eq 1 </test>
      <output> guidance/second-stage-flight-flag </output>
    </switch>

    <switch name="guidance/executive/las-jettison-flag">
      <default value="0"/>
      <test value="1"> guidance/executive/MET ge 160.0 </test>
    </switch>

    <switch name="guidance/upper-stage-flight-flag-switch">
      <default value="0"/>
      <test value="1">
        guidance/executive/MET gt 330.0
        propulsion/engine[2]/thrust-lbs le 500.0
        propulsion/engine[3]/thrust-lbs le 500.0
        propulsion/engine[4]/thrust-lbs le 500.0
        propulsion/engine[5]/thrust-lbs le 500.0
      </test>
      <output> guidance/upper-stage-flight-flag </output>
    </switch>

  </channel>

  <property value="14.07644180e15"> guidance/executive/gm </property>

  <channel name="Orbital Parameters">

    <fcs_function name="guidance/executive/semimajor-axis-length-ft">
      <description>
        This equation calculates the semimajor-axis length in feet. a = mu/(2*mu/r - v^2) 
      </description>
      <function>
        <quotient>
          <p> guidance/executive/gm </p>
          <difference>
            <quotient>
              <product>
                <v> 2.0 </v>
                <p> guidance/executive/gm </p>
              </product>
              <p> position/radius-to-vehicle-ft </p>
            </quotient>
            <pow>
              <p> velocities/eci-velocity-mag-fps </p>
              <v> 2.0 </v>
            </pow>
          </difference>
        </quotient>
      </function>
    </fcs_function>

    <fcs_function name="guidance/executive/eccentricity">
      <description>
        This equation calculates eccentricity. e = sqrt (1 - [ r v cos(gamma) ]^2 / {a * mu})
      </description>
      <function>
        <pow>
          <difference>
            <v> 1.0 </v>
            <quotient>
              <pow>
                <product>
                  <property> position/radius-to-vehicle-ft </property>
                  <property> velocities/eci-velocity-mag-fps </property>
                  <cos>
                    <property> flight-path/gamma-rad </property>
                  </cos>
                </product>
                <v> 2.0 </v>
              </pow>
              <product>
                <p> guidance/executive/semimajor-axis-length-ft </p>
                <p> guidance/executive/gm </p>
              </product>
            </quotient>
          </difference>
          <v> 0.5 </v>
        </pow>
      </function>
    </fcs_function>

    <fcs_function name="guidance/executive/apoapsis">
      <function>
        <quotient>
          <difference>
            <product>
              <property>guidance/executive/semimajor-axis-length-ft</property>
              <sum>
                <value>1</value>
                <property>guidance/executive/eccentricity</property>
              </sum>
            </product>
            <property>inertial/sea-level-radius_ft</property>
          </difference>
          <value>5280</value>
        </quotient>
      </function>
    </fcs_function>

    <fcs_function name="guidance/executive/periapsis">
      <function>
        <quotient>
          <difference>
            <product>
              <property>guidance/executive/semimajor-axis-length-ft</property>
              <difference>
                <value>1</value>
                <property>guidance/executive/eccentricity</property>
              </difference>
            </product>
            <property>inertial/sea-level-radius_ft</property>
          </difference>
          <value>5280</value>
        </quotient>
      </function>
    </fcs_function>
<!--
    <fcs_function name="guidance/executive/true-anomaly">
      <function>
        
      </function>
    </fcs_function>
-->
  </channel>
</system>
<?xml version="1.0"?>
<system name="J246 Second Stage Effectors"
        xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xsi:noNamespaceSchemaLocation="http://jsbsim.sourceforge.net/JSBSimSystem.xsd">

  <channel name="Pitch">

    <switch name="control/stage2-pitch-output-selector">
      <default value="0.0"/>
      <test value="control/peg-pitch-control-inverter">
        guidance/executive/current-mode eq 5 <!-- *** mode -->
      </test>
    </switch>

    <pure_gain name="control/stage2-pitch-actuator-cmd">
      <input> control/stage2-pitch-output-selector </input>
      <gain> 1.0 </gain>
    </pure_gain>

    <actuator name="control/stage2-pitch-actuator-pos">
      <input> control/stage2-pitch-actuator-cmd </input>
      <lag> 60 </lag>
      <bias> 0.00017 </bias>
      <hysteresis_width> 0.00017 </hysteresis_width>
      <rate_limit> 0.085 </rate_limit>
      <clipto>
        <min> -0.17 </min>
        <max>  0.17 </max>
      </clipto>
      <output> propulsion/engine[2]/pitch-angle-rad </output>
      <output> propulsion/engine[3]/pitch-angle-rad </output>
      <output> propulsion/engine[4]/pitch-angle-rad </output>
      <output> propulsion/engine[5]/pitch-angle-rad </output>
    </actuator>

  </channel>

  <channel name="Roll">

  </channel>

  <channel name="Yaw">

    <actuator name="fcs/stage2-yaw-actuator-pos">
      <input>fcs/yaw-actuator-cmd</input>
      <lag> 60 </lag>
      <bias> 0.00011 </bias>
      <hysteresis_width> 0.00017 </hysteresis_width>
      <rate_limit> 0.085 </rate_limit>
      <clipto>
        <min> -0.17 </min>
        <max>  0.17 </max>
      </clipto>
      <output>propulsion/engine[2]/yaw-angle-rad</output>
      <output>propulsion/engine[3]/yaw-angle-rad</output>
      <output>propulsion/engine[4]/yaw-angle-rad</output>
      <output>propulsion/engine[5]/yaw-angle-rad</output>
    </actuator>

  </channel>

</system><?xml version="1.0"?>

<!-- Generated by Aero-Matic v 3.2.0

    See: http://wiki.flightgear.org/JSBSim_Thrusters#FGPropeller

    Inputs:
           horsepower: 1000
                pitch: fixed
       max engine rpm: 2300
   prop diameter (ft): 6.2

    Outputs:
         max prop rpm: 3026.29
           gear ratio: 0.760006
                  Cp0: 0.19675
                  Ct0: 0.27545
  static thrust (lbs): 2638.01
-->

<propeller version="1.01" name="CM7445 MCCauley">
  <ixx> 1.67 </ixx>
  <diameter unit="IN"> 75.0 </diameter>
  <numblades> 2 </numblades>
  <minpitch> 22 </minpitch>
  <maxpitch> 22 </maxpitch>

  <table name="C_THRUST" type="internal">
     <tableData>
      0.0   0.073
      0.1   0.073
      0.2   0.072
      0.3   0.071
      0.4   0.069
      0.5   0.066
      0.6   0.062
      0.7   0.055
      0.8   0.045
      0.9   0.034
      1.0   0.024
      1.1   0.013
      1.2   -0.006
      1.3   -0.013
      1.4   -0.024
      1.5   -0.034
      1.6   -0.045
      1.7   -0.055
      1.8   -0.062
      1.9   -0.066
      2.0   -0.069
      2.1   -0.071
      2.2   -0.072
      2.3   -0.073
      5.0   -0.073
     </tableData>
  </table>


  <table name="C_POWER" type="internal">
     <tableData>
      0.0   0.0660
      0.1   0.0700
      0.2   0.0700
      0.3   0.0660
      0.4   0.0600
      0.5   0.0530
      0.6   0.0501
      0.7   0.0469
      0.8   0.0426
      0.9   0.0360
      1.0   0.0282
      1.1   0.0191
      1.2   0.0155
      1.3   0.0191
      1.4   0.0282
      1.5   0.0360
      1.6   0.0426
      1.7   0.0469
      1.8   0.0501
      1.9   0.0516
      2.0   0.0525
      2.1   0.0525
      2.2   0.0522
      2.3   0.0511
      2.4   0.0504
      5.0   0.0493
     </tableData>
  </table>

<!-- thrust effects of helical tip Mach -->
<table name="CT_MACH" type="internal">
  <tableData>
    0.85   1.0
    1.05   0.8
  </tableData>
</table>

<!-- power-required effects of helical tip Mach -->
<table name="CP_MACH" type="internal">
  <tableData>
    0.85   1.0
    1.05   1.8
    2.00   1.4
  </tableData>
</table>

</propeller>
<?xml version="1.0"?>

<!--
  File:     Continental A-65-8.xml
  Author:   AeromatiC++ v 3.1.1

  See: http://wiki.flightgear.org/JSBSim_Engines#FGPiston

  Inputs:
    name:           Continental A-65-8
    type:           Piston Engine
    power:          65 hp
-->

<piston_engine name="Continental A-65-8">
  <minmp unit="INHG">         10.0 </minmp>
  <maxmp unit="INHG">         28.5 </maxmp>
    <displacement unit="IN3"> 171.0 </displacement>
  <maxhp>        65 </maxhp>
  <cycles>         4.0 </cycles>
  <idlerpm>      700.0 </idlerpm>
  <maxrpm>      2800.0 </maxrpm>
  <sparkfaildrop>  0.1 </sparkfaildrop>
  <volumetric-efficiency> 0.85 </volumetric-efficiency>
  <man-press-lag> 0.1 </man-press-lag>
  <static-friction  unit="HP"> 0.325 </static-friction>
  <starter-torque> 52 </starter-torque>
  <starter-rpm> 1400 </starter-rpm>
 <!-- Defining <bsfc> over-rides the built-in horsepower calculations -->
 <!--<bsfc>           0.45 </bsfc>-->
  <stroke unit="IN">  3.625 </stroke>
  <bore unit="IN">    3.875 </bore>
  <cylinders>         4  </cylinders>
  <compression-ratio> 6.3 </compression-ratio>
</piston_engine>
<?xml version="1.0"?>
<?xml-stylesheet type="text/xsl" href="http://jsbsim.sourceforge.net/JSBSim.xsl"?>

<fdm_config name="J3Cub" version="2.0" release="ALPHA"
   xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
   xsi:noNamespaceSchemaLocation="http://jsbsim.sourceforge.net/JSBSim.xsd">

 <fileheader>
  <author> Erik Hofman using Aeromatic v 3.2.0 </author>
  <filecreationdate> 18 Dec 2015 </filecreationdate>
  <version>$Revision: 1.3 $</version>
  <description> Models a J3Cub. </description>
  <note>
    This model was created using publicly available data, publicly available
    technical reports, textbooks, and guesses. It contains no proprietary or
    restricted data. If this model has been validated at all, it would be
    only to the extent that it seems to "fly right", and that it possibly
    complies with published, publicly known, performance data (maximum speed,
    endurance, etc.). Thus, this model is meant for educational and
    entertainment purposes only.

    This simulation model is not endorsed by the manufacturer.
      </note>
  <reference refID="Du_Y_Thesis_2011" author="Yongliang Du" title="Development of real-time flight control system for low-cost vehicle" date="2011"/>
 </fileheader>

<!--
  File:     J3Cub.xml
  Inputs:
    name:          J3Cub
    type:          light commuter with 1 engines
    stall speed:   33.00kts
    max weight:    1220.00 lb
    length:        22.42 ft
    wing: 
     span:         35.25 ft
     area:         178.50 sq-ft
     chord:        5.25 ft
     aspect ratio: 6.94:1
     taper ratio:  1.00:1
     incidence:    2.00 degrees
     dihedral:     5.00 degrees
     sweep:        0.00 degrees

    no. engines:   1
    engine type:   Piston Engine
    engine layout: forward fuselage

    gear type:     taildragger
    steering type: steerable
    retractable?:  no

  Outputs:
    wing loading:  6.83 lb/sq-ft
    payload:       274.44 lbs
    CL-alpha:      5.02 per radian
    CL-0:          0.25
    CL-max:        1.85
    CD-0:          0.02
    K:             0.04
    Mcrit:         0.58

   References:
   * "Development of real-time flight control system for low-cost vehicle"
     Du, Yongliang - Cranfield University, January 2011
     https://dspace.lib.cranfield.ac.uk/handle/1826/8621

   * "USA-35B AIRFOIL (usa35b-il)"
     http://airfoiltools.com/airfoil/details?airfoil=usa35b-il#polars
-->

 <metrics>
   <wingarea  unit="FT2">   178.50 </wingarea>
   <wingspan  unit="FT" >    35.25 </wingspan>
   <wing_incidence>           2.00 </wing_incidence>
   <chord     unit="FT" >     5.25 </chord>
   <htailarea unit="FT2">    24.50 </htailarea>
   <htailarm  unit="FT" >    13.20 </htailarm>
   <vtailarea  unit="FT2">   10.20 </vtailarea>
   <vtailarm  unit="FT" >    13.40 </vtailarm>
   <location name="AERORP" unit="IN">
     <x>     0.00 </x>
     <y>     0.00 </y>
     <z>     0.00 </z>
   </location>
   <location name="EYEPOINT" unit="IN">
     <x>    18.50 </x>
     <y>     0.00 </y>
     <z>   -11.81 </z>
   </location>
   <location name="VRP" unit="IN">
     <x>   -13.78 </x>
     <y>     0.00 </y>
     <z>    -3.94 </z>
   </location>
 </metrics>

 <mass_balance>
   <ixx unit="SLUG*FT2">    538.01 </ixx>
   <iyy unit="SLUG*FT2">    386.81 </iyy>
   <izz unit="SLUG*FT2">    871.03 </izz>
   <emptywt unit="LBS" >    765.00 </emptywt>
   <location name="CG" unit="IN">
     <x>    -3.94 </x>
     <y>     0.00 </y>
     <z>   -22.83 </z>
   </location>
   <pointmass name="Pilot">
    <description> 274.44 LBS should bring model up to max weight </description>
    <weight unit="LBS"> 137.22 </weight>
    <location name="POINTMASS" unit="IN">
     <x>    20.87 </x>
     <y>     0.00 </y>
     <z>   -36.22 </z>
   </location>
  </pointmass>
 </mass_balance>

 <propulsion>

   <engine file="Continental A-65-8">
    <feed> 0 </feed>

    <thruster file="CM7445 MCCauley">
     <sense> 1 </sense>
     <location unit="IN">
       <x>   -68.90 </x>
       <y>     0.00 </y>
       <z>   -24.41 </z>
     </location>
     <orient unit="DEG">
       <pitch>     0.00 </pitch>
        <roll>     0.00 </roll>
         <yaw>     0.00 </yaw>
     </orient>
    </thruster>
  </engine>

  <tank type="FUEL" number="0">
     <location unit="IN">
       <x>     0.00 </x>
       <y>     0.00 </y>
       <z>     0.00 </z>
     </location>
     <capacity unit="LBS"> 75.00 </capacity>
     <contents unit="LBS"> 65.00 </contents>
  </tank>

 </propulsion>

 <ground_reactions>

  <contact type="BOGEY" name="TAIL">
    <location unit="IN">
      <x> 189.37 </x>
      <y>   0.00 </y>
      <z> -33.86 </z>
    </location>
    <static_friction>  0.80 </static_friction>
    <dynamic_friction> 0.50 </dynamic_friction>
    <rolling_friction> 0.02 </rolling_friction>
    <spring_coeff  unit="LBS/FT">     220.00 </spring_coeff>
    <damping_coeff unit="LBS/FT/SEC"> 110.00 </damping_coeff>
    <steerability> STEERABLE </steerability>
    <max_steer unit="DEG"> -30.00 </max_steer>
    <brake_group> NONE </brake_group>
    <retractable> 0 </retractable>
  </contact>

  <contact type="BOGEY" name="LEFT_MAIN">
    <location unit="IN">
      <x> -12.60 </x>
      <y> -35.83 </y>
      <z> -77.17   </z>
    </location>
    <static_friction>  0.80 </static_friction>
    <dynamic_friction> 0.50 </dynamic_friction>
    <rolling_friction> 0.02 </rolling_friction>
    <spring_coeff  unit="LBS/FT">     1000.00 </spring_coeff>
    <damping_coeff unit="LBS/FT/SEC">  500.00 </damping_coeff>
    <damping_coeff_rebound unit="LBS/FT/SEC">850</damping_coeff_rebound>
    <max_steer unit="DEG">0</max_steer>
    <brake_group> LEFT </brake_group>
    <retractable> 0 </retractable>
  </contact>

  <contact type="BOGEY" name="RIGHT_MAIN">
    <location unit="IN">
      <x>  -12.60 </x>
      <y>   35.83 </y>
      <z>  -77.17 </z>
    </location>
    <static_friction>  0.80 </static_friction>
    <dynamic_friction> 0.50 </dynamic_friction>
    <rolling_friction> 0.02 </rolling_friction>
    <spring_coeff  unit="LBS/FT">     1000.00 </spring_coeff>
    <damping_coeff unit="LBS/FT/SEC">  500.00 </damping_coeff>
    <damping_coeff_rebound unit="LBS/FT/SEC">850</damping_coeff_rebound>
    <max_steer unit="DEG">0</max_steer>
    <brake_group> RIGHT </brake_group>
    <retractable> 0 </retractable>
  </contact>

  <contact type="STRUCTURE" name="LEFT_WING">
    <location unit="IN">
     <x>     4.33 </x>
     <y>  -209.45 </y>
     <z>     0.00 </z>
    </location>
   <static_friction>  1 </static_friction>
   <dynamic_friction> 1 </dynamic_friction>
   <spring_coeff unit="LBS/FT">      12200.00 </spring_coeff>
   <damping_coeff unit="LBS/FT/SEC"> 1220.00 </damping_coeff>
  </contact>

  <contact type="STRUCTURE" name="RIGHT_WING">
    <location unit="IN">
     <x>     4.33 </x>
     <y>   209.45 </y>
     <z>     0.00 </z>
    </location>
   <static_friction>  1 </static_friction>
   <dynamic_friction> 1 </dynamic_friction>
   <spring_coeff unit="LBS/FT">      12200.00 </spring_coeff>
   <damping_coeff unit="LBS/FT/SEC"> 1220.00 </damping_coeff>
  </contact>

 </ground_reactions>

 <system file="Conventional Controls.xml"/>

 <flight_control name="FCS: J3Cub">

 </flight_control>

 <aerodynamics>

  <function name="aero/function/kCDge">
      <description>Change_in_drag_due_to_ground_effect</description>
      <table>
          <independentVar>aero/h_b-mac-ft</independentVar>
          <tableData>
              0.0000        0.4800
              0.1000        0.5150
              0.1500        0.6290
              0.2000        0.7090
              0.3000        0.8150
              0.4000        0.8820
              0.5000        0.9280
              0.6000        0.9620
              0.7000        0.9880
              0.8000        1.0000
              0.9000        1.0000
              1.0000        1.0000
              1.1000        1.0000
          </tableData>
      </table>
  </function>

  <function name="aero/function/kCLge">
      <description>Change_in_lift_due_to_ground_effect</description>
      <table>
          <independentVar>aero/h_b-mac-ft</independentVar>
          <tableData>
              0.0000        1.2030
              0.1000        1.1270
              0.1500        1.0900
              0.2000        1.0730
              0.3000        1.0460
              0.4000        1.0550
              0.5000        1.0190
              0.6000        1.0130
              0.7000        1.0080
              0.8000        1.0060
              0.9000        1.0030
              1.0000        1.0020
              1.1000        1.0000
          </tableData>
      </table>
  </function>

  <function name="aero/function/kClge">
      <description>Change_in_drag_due_to_ground_effect</description>
      <table>
          <independentVar>aero/h_b-mac-ft</independentVar>
          <tableData>
              0.0000        0.0480
              0.1000        0.0480
              0.1500        0.0480
              0.2000        0.0480
              0.3000        0.0615
              0.4000        0.1229
              0.5000        0.2709
              0.6000        0.3815
              0.7000        0.5882
              0.8000        0.7928
              0.9000        0.9620
              1.0000        0.9880
              1.1000        1.0000
          </tableData>
      </table>
  </function>

  <function name="aero/function/velocity-induced-fps">
    <description> velocity including the propulsion induced velocity.</description>
    <sum>
      <property>velocities/u-aero-fps</property>
      <property>propulsion/engine/prop-induced-velocity_fps</property>
      <property>propulsion/engine/prop-induced-velocity_fps</property>
    </sum>
  </function>
 
  <function name="aero/function/qbar-induced-psf">
    <description> q bar including the propulsion induced velocity.</description>
    <product>
      <property>aero/function/velocity-induced-fps</property>
      <property>aero/function/velocity-induced-fps</property>
      <property>atmosphere/rho-slugs_ft3</property>
      <value>0.5</value>
    </product>
  </function>

  <axis name="LIFT">

    <function name="aero/force/Lift_propwash">
      <description>Delta lift due to propeller induced velocity</description>
      <product>
         <property>propulsion/engine[0]/thrust-coefficient</property>
          <property>aero/qbar-psf</property>
          <property>metrics/Sw-sqft</property>
          <property>aero/function/kCLge</property>
          <table>
            <independentVar lookup="row">aero/alpha-rad</independentVar>
            <tableData>
              -0.22  0.000
               0.00  0.068
               0.31  0.313
               0.62  0.000
            </tableData>
          </table>
      </product>
    </function>

    <function name="aero/force/Lift_alpha">
      <description>Lift due to alpha</description>
      <product>
          <property>aero/qbar-psf</property>
          <property>metrics/Sw-sqft</property>
          <property>aero/function/kCLge</property>
          <table>
            <independentVar lookup="row">aero/alpha-rad</independentVar>
            <independentVar lookup="column">aero/Re</independentVar>
            <tableData>			<!-- USA-35B -->
                      1668183  3707224
             -1.5700   0.0000   0.0000
             -0.3491  -0.0085  -0.5085
             -0.2443  -0.5085  -0.8136
             -0.1745  -0.5085  -0.5085
             -0.0873   0.1017   0.1017
              0.0000   0.5339   0.5339
              0.0873   1.2204   1.2204
              0.1309   1.4746   1.4746
              0.1745   1.5000   1.6272
              0.2182   1.6201   1.7797
              0.2618   1.5645   1.8306
              0.3054   1.4272   1.6272
              0.3491   1.3138   1.4238
              1.5700   0.0000   0.0000
            </tableData>
          </table>
      </product>
    </function>

    <function name="aero/force/Lift_pitch_rate">
        <description>Lift_due_to_pitch_rate</description>
        <product>
          <property>aero/qbar-psf</property>
          <property>metrics/Sw-sqft</property>
          <property>velocities/q-aero-rad_sec</property>
          <property>aero/ci2vel</property>
          <table>
            <independentVar lookup="row">aero/alpha-rad</independentVar>
            <tableData>			<!-- Du Y -->
             -0.035  8.523602
              0.175  6.996364
            </tableData>
          </table>
        </product>
      </function>

      <function name="aero/force/Lift_alpha_rate">
        <description>Lift_due_to_alpha_rate</description>
        <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <property>aero/alphadot-rad_sec</property>
           <property>aero/ci2vel</property>
           <value> 2.3459 </value>	<!-- Du Y -->
        </product>
      </function>

    <function name="aero/force/Lift_elevator">
       <description>Lift due to Elevator Deflection</description>
       <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <property>fcs/elevator-pos-rad</property>
           <value> 0.3274 </value>	<!-- Du Y -->
       </product>
    </function>

  </axis>

  <axis name="DRAG">

    <function name="aero/force/Drag_basic">
       <description>Drag at zero lift</description>
       <product>
          <property>aero/qbar-psf</property>
          <property>metrics/Sw-sqft</property>
          <table>
            <independentVar lookup="row">aero/alpha-rad</independentVar>
            <independentVar lookup="column">aero/Re</independentVar>
            <tableData>			<!-- USA-35B -->
                      1668183  3707224
             -1.5700   1.4091   1.4091
             -0.3491   0.1898   0.1736
             -0.2443   0.1567   0.0494
             -0.1745   0.0307   0.0290
             -0.0873   0.0216   0.0208
              0.0000   0.0189   0.0187
              0.0873   0.0216   0.0208
              0.1309   0.0289   0.0279
              0.1745   0.0332   0.0315
              0.2182   0.0435   0.0402
              0.2618   0.0757   0.0707
              0.3054   0.1408   0.1125
              0.3491   0.1898   0.1736
              1.5700   1.4091   1.4091
            </tableData>
          </table>
       </product>
    </function>

    <function name="aero/force/Drag_induced">
       <description>Induced drag</description>
         <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <property>aero/cl-squared</property>
           <property>aero/function/kCDge</property>
           <value> 0.0485 </value>
         </product>
    </function>

    <function name="aero/force/Drag_beta">
       <description>Drag due to sideslip</description>
       <product>
          <property>aero/qbar-psf</property>
          <property>metrics/Sw-sqft</property>
          <table>
            <independentVar lookup="row">aero/beta-rad</independentVar>
            <tableData>
              -1.57    1.2300
              -0.26    0.0500
               0.00    0.0000
               0.26    0.0500
               1.57    1.2300
            </tableData>
          </table>
       </product>
    </function>

    <function name="aero/force/Drag_elevator">
       <description>Drag due to Elevator Deflection</description>
       <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <abs><property>fcs/elevator-pos-rad</property></abs>
           <value> 0.0400 </value>
       </product>
    </function>

    <function name="aero/force/Drag_gear">
       <description>Drag due to gear</description>
         <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <value> 0.0040 </value>
         </product>
    </function>

  </axis>

  <axis name="SIDE">

    <function name="aero/force/Side_beta">
       <description>Side force due to beta</description>
       <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <property>aero/beta-rad</property>
           <value> -0.1340 </value>	<!-- Du Y -->
       </product>
    </function>

    <function name="aero/force/Side_roll_rate">
       <description>Side_force_due_to_roll_rate</description>
       <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <property>aero/bi2vel</property>
           <property>velocities/p-aero-rad_sec</property>
           <table>
            <independentVar lookup="row">aero/Re</independentVar>
            <tableData>			<!-- Du Y -->
              1668183  0.1434
              3707224  0.0022
            </tableData>
          </table>
       </product>
    </function>

    <function name="aero/force/Side_yaw_rate">
       <description>Side_force_due_to_yaw_rate</description>
       <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <property>aero/bi2vel</property>
           <property>velocities/r-aero-rad_sec</property>
           <value> 0.1423 </value>	<!-- Du Y -->
       </product>
    </function>

    <function name="aero/force/Side_rudder">
       <description>Side_force_due_to_rudder</description>
       <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <property>fcs/rudder-pos-rad</property>
           <value> 0.0934 </value>	<!-- Du Y -->
       </product>
    </function>

  </axis>

  <axis name="PITCH">

    <function name="aero/moment/Pitch_propwash">
      <description>Pitch moment due to propeller induced velocity</description>
      <product>
          <property>propulsion/engine[0]/thrust-coefficient</property>
          <property>aero/qbar-psf</property>
          <property>metrics/Sw-sqft</property>
          <property>metrics/bw-ft</property>
          <table>
            <independentVar lookup="row">aero/alpha-rad</independentVar>
            <tableData>
              -0.01  0.000
               0.00  0.023
               0.31  0.108
               0.40  0.000
            </tableData>
          </table>
      </product>
    </function>

    <function name="aero/moment/Pitch_alpha">
       <description>Pitch moment due to alpha</description>
       <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <property>metrics/cbarw-ft</property>
           <property>aero/alpha-rad</property>
           <table>
            <independentVar lookup="row">aero/Re</independentVar>
            <tableData>			<!-- Du Y -->
              1668183  -2.0327
              3707224  -1.3432
            </tableData>
          </table>
       </product>
    </function>

    <function name="aero/moment/Pitch_elevator">
       <description>Pitch moment due to elevator</description>
       <product>
          <property>aero/function/qbar-induced-psf</property>
          <property>metrics/Sw-sqft</property>
          <property>metrics/cbarw-ft</property>
          <property>fcs/elevator-pos-rad</property>
          <value> -1.2004 </value>	<!-- Du Y -->
       </product>
    </function>

    <function name="aero/moment/Pitch_damp">
       <description>Pitch moment due to pitch rate</description>
       <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <property>metrics/cbarw-ft</property>
           <property>aero/ci2vel</property>
           <property>velocities/q-aero-rad_sec</property>
           <value> -12.7022 </value>	<!-- Du Y -->
       </product>
    </function>

    <function name="aero/moment/Pitch_alphadot">
       <description>Pitch moment due to alpha rate</description>
       <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <property>metrics/cbarw-ft</property>
           <property>aero/ci2vel</property>
           <property>aero/alphadot-rad_sec</property>
           <value> -7.5904 </value>	<!-- Du Y -->
       </product>
    </function>

  </axis>

  <axis name="ROLL">

    <function name="aero/moment/Roll_differential_propwash">
       <description>Roll moment due to differential propwash</description>
       <product>
           <property>propulsion/engine[0]/thrust-coefficient</property>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <property>metrics/bw-ft</property>
           <property>aero/alpha-rad</property>
           <value> 0.1280 </value>
       </product>
    </function>

    <function name="aero/moment/Roll_beta">
       <description>Roll moment due to beta</description>
       <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <property>metrics/bw-ft</property>
           <property>aero/beta-rad</property>
           <property>aero/function/kClge</property>
           <table>
            <independentVar lookup="row">aero/alpha-rad</independentVar>
            <independentVar lookup="column">aero/Re</independentVar>
            <tableData>			<!-- Du Y -->
                    1128067  1668183   3707224
             -0.035 -0.1024 -0.031363 -0.010147
              0.175 -1.0147 -0.310788 -0.100549
            </tableData>
          </table>
       </product>
    </function>

    <function name="aero/moment/Roll_damp">
       <description>Roll moment due to roll rate</description>
       <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <property>metrics/bw-ft</property>
           <property>aero/bi2vel</property>
           <property>velocities/p-aero-rad_sec</property>
           <value> -0.5250 </value>	<!-- Du Y -->
       </product>
    </function>

    <function name="aero/moment/Roll_yaw">
       <description>Roll moment due to yaw rate</description>
       <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <property>metrics/bw-ft</property>
           <property>aero/bi2vel</property>
           <property>velocities/r-aero-rad_sec</property>
           <property>aero/function/kClge</property>
           <table>
            <independentVar lookup="row">aero/alpha-rad</independentVar>
            <independentVar lookup="column">aero/Re</independentVar>
            <tableData>			<!-- Du Y -->
                       557148   1128067    1668183    3707224
             -0.035  0.719318   0.192547   0.071235   0.021888
              0.175  8.422175   2.254452   0.834059   0.256275
            </tableData>
          </table>
       </product>
    </function>

    <function name="aero/moment/Roll_aileron">
       <description>Roll moment due to aileron</description>
       <product>
          <property>aero/qbar-psf</property>
          <property>metrics/Sw-sqft</property>
          <property>metrics/bw-ft</property>
          <property>fcs/left-aileron-pos-rad</property>
          <value> 0.3498 </value>	<!-- Du Y -->
       </product>
    </function>

    <function name="aero/moment/Roll_rudder">
       <description>Roll moment due to rudder</description>
       <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <property>metrics/bw-ft</property>
           <property>fcs/rudder-pos-rad</property>
           <value> 0.0133 </value>	<!-- Du Y -->
       </product>
    </function>

  </axis>

  <axis name="YAW">

    <function name="aero/moment/Yaw_beta">
       <description>Yaw moment due to beta</description>
       <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <property>metrics/bw-ft</property>
           <property>aero/beta-rad</property>
           <value> 0.0602 </value>	<!-- Du Y -->
       </product>
    </function>

    <function name="aero/moment/Yaw_rol_rate">
       <description>Yaw_moment_due_to_roll_rate</description>
       <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <property>metrics/bw-ft</property>
           <property>aero/bi2vel</property>
           <property>velocities/p-rad_sec</property>
           <property>aero/function/kClge</property>
           <table>
            <independentVar lookup="row">aero/Re</independentVar>
            <tableData>			<!-- Du Y -->
               341838  -2.1500
              1128067  -0.1974
              1668183  -0.0531
              3707224  -0.0006
            </tableData>
          </table>
       </product>
    </function>

    <function name="aero/moment/Yaw_damp">
       <description>Yaw moment due to yaw rate</description>
       <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <property>metrics/bw-ft</property>
           <property>aero/bi2vel</property>
           <property>velocities/r-aero-rad_sec</property>
           <value> -0.0810 </value>	<!-- Du Y -->
       </product>
    </function>

    <function name="aero/moment/Yaw_rudder">
       <description>Yaw moment due to rudder</description>
       <product>
           <property>aero/function/qbar-induced-psf</property>
           <property>metrics/Sw-sqft</property>
           <property>metrics/bw-ft</property>
           <property>fcs/rudder-pos-rad</property>
           <value> -0.0565 </value>	<!-- Du Y -->
       </product>
    </function>

    <function name="aero/moment/Yaw_aileron">
       <description>Adverse yaw</description>
       <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <property>metrics/bw-ft</property>
           <property>fcs/left-aileron-pos-rad</property>
           <table>
            <independentVar lookup="row">aero/alpha-rad</independentVar>
            <independentVar lookup="column">aero/Re</independentVar>
            <tableData>                 <!-- Du Y -->
                     1668183    3707224
             -0.035  0.00171    0.00150
              0.175 -0.01890   -0.00173
            </tableData>
          </table>
       </product>
    </function>

  </axis>

 </aerodynamics>

 <external_reactions>
 </external_reactions>

</fdm_config>
<?xml version="1.0"?>
<system name="Conventional Controls">
  <channel name="Pitch">
   <summer name="Pitch Trim Sum">
      <input>fcs/elevator-cmd-norm</input>
      <input>fcs/pitch-trim-cmd-norm</input>
      <clipto>
        <min> -1 </min>
        <max>  1 </max>
      </clipto>
   </summer>

   <aerosurface_scale name="Elevator Control">
      <input>fcs/pitch-trim-sum</input>
      <range>
        <min> -0.14 </min>
        <max>  0.14 </max>
      </range>
      <output>fcs/elevator-pos-rad</output>
   </aerosurface_scale>

   <aerosurface_scale name="Elevator Normalization">
      <input>fcs/elevator-pos-rad</input>
      <domain>
        <min> -0.14 </min>
        <max>  0.14 </max>
      </domain>
      <range>
        <min> -1 </min>
        <max>  1 </max>
      </range>
      <output>fcs/elevator-pos-norm</output>
   </aerosurface_scale>
  </channel>

  <channel name="Roll">
   <summer name="Roll Trim Sum">
      <input>fcs/aileron-cmd-norm</input>
      <input>fcs/roll-trim-cmd-norm</input>
      <clipto>
        <min> -1 </min>
        <max>  1 </max>
      </clipto>
   </summer>

   <aerosurface_scale name="Left Aileron Control">
      <input>fcs/roll-trim-sum</input>
      <range>
        <min> -0.31 </min>
        <max>  0.31 </max>
      </range>
      <output>fcs/left-aileron-pos-rad</output>
   </aerosurface_scale>

   <aerosurface_scale name="Right Aileron Control">
      <input>-fcs/roll-trim-sum</input>
      <range>
        <min> -0.31 </min>
        <max>  0.31 </max>
      </range>
      <output>fcs/right-aileron-pos-rad</output>
   </aerosurface_scale>

   <aerosurface_scale name="Left Aileron Normalization">
      <input>fcs/left-aileron-pos-rad</input>
      <domain>
        <min> -0.31 </min>
        <max>  0.31 </max>
      </domain>
      <range>
        <min> -1 </min>
        <max>  1 </max>
      </range>
      <output>fcs/left-aileron-pos-norm</output>
   </aerosurface_scale>

   <aerosurface_scale name="Right Aileron Normalization">
      <input>fcs/right-aileron-pos-rad</input>
      <domain>
        <min> -0.31 </min>
        <max>  0.31 </max>
      </domain>
      <range>
        <min> -1 </min>
        <max>  1 </max>
      </range>
      <output>fcs/right-aileron-pos-norm</output>
   </aerosurface_scale>
  </channel>

  <channel name="Yaw">
   <summer name="Rudder Command Sum">
      <input>fcs/rudder-cmd-norm</input>
      <input>fcs/yaw-trim-cmd-norm</input>
      <clipto>
        <min> -1 </min>
        <max>  1 </max>
      </clipto>
   </summer>

   <aerosurface_scale name="Rudder Control">
      <input>fcs/rudder-command-sum</input>
      <range>
        <min> -0.52 </min>
        <max>  0.52 </max>
      </range>
      <output>fcs/rudder-pos-rad</output>
   </aerosurface_scale>

   <aerosurface_scale name="Rudder Normalization">
      <input>fcs/rudder-pos-rad</input>
      <domain>
        <min> -0.52 </min>
        <max>  0.52 </max>
      </domain>
      <range>
        <min> -1 </min>
        <max>  1 </max>
      </range>
      <output>fcs/rudder-pos-norm</output>
   </aerosurface_scale>
  </channel>

</system>
// This file instructs the automatic synchronization utilities where to
// install this aircraft and under what name.
//
// The syntax is easy;
// * the package name at the beginning of a new line followed by a colon
// * a space as a column separator
// * the path and filename relative to the aircraft install directory
//
// Currently known package names are: FlightGear

// Don't install in the FlightGear base package.
//FlightGear:
<?xml version="1.0"?>
<?xml-stylesheet type="text/xsl" href="http://jsbsim.sourceforge.net/JSBSim.xsl"?>
<fdm_config name="Navion" version="2.0" release="BETA"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:noNamespaceSchemaLocation="http://jsbsim.sourceforge.net/JSBSim.xsd">

    <fileheader>
        <author> Originally from Bruce Jackson (LaRCSim)? </author>
        <filecreationdate> 2000-01-01 </filecreationdate>
        <version> $Revision: 1.9 $ </version>
        <description> Navion general aviation aircraft </description>
      <note>
        This model was created using publicly available data, publicly available
        technical reports, textbooks, and guesses. It contains no proprietary or
        restricted data. If this model has been validated at all, it would be
        only to the extent that it seems to "fly right", and that it possibly
        complies with published, publicly known, performance data (maximum speed,
        endurance, etc.). Thus, this model is meant for educational and entertainment
        purposes only.

        This simulation model is not endorsed by the manufacturer. This model is not
        to be sold.
      </note>
    </fileheader>

    <metrics>
        <wingarea unit="FT2"> 184 </wingarea>
        <wingspan unit="FT"> 33.42 </wingspan>
        <chord unit="FT"> 5.7 </chord>
        <htailarea unit="FT2"> 29.44 </htailarea>
        <htailarm unit="FT"> 14.3 </htailarm>
        <vtailarea unit="FT2"> 18.4 </vtailarea>
        <vtailarm unit="FT"> 0 </vtailarm>
        <location name="AERORP" unit="IN">
            <x> 158.4 </x>
            <y> 0 </y>
            <z> 0 </z>
        </location>
        <location name="EYEPOINT" unit="IN">
            <x> 42.9 </x>
            <y> -18 </y>
            <z> 45 </z>
        </location>
        <location name="VRP" unit="IN">
            <x> 0 </x>
            <y> 0 </y>
            <z> 0 </z>
        </location>
    </metrics>

    <mass_balance>
        <ixx unit="SLUG*FT2"> 1048 </ixx>
        <iyy unit="SLUG*FT2"> 3000 </iyy>
        <izz unit="SLUG*FT2"> 3530 </izz>
        <emptywt unit="LBS"> 2750 </emptywt>
        <location name="CG" unit="IN">
            <x> 158.4 </x>
            <y> 0 </y>
            <z> -8.3 </z>
        </location>
    </mass_balance>

    <ground_reactions>
        <contact type="BOGEY" name="NOSE_LG">
            <location unit="IN">
                <x> 42.9 </x>
                <y> 0 </y>
                <z> -39.6 </z>
            </location>
            <static_friction> 0.8 </static_friction>
            <dynamic_friction> 0.5 </dynamic_friction>
            <rolling_friction> 0.02 </rolling_friction>
            <spring_coeff unit="LBS/FT"> 3000 </spring_coeff>
            <damping_coeff unit="LBS/FT/SEC"> 1000 </damping_coeff>
            <max_steer unit="DEG"> 5 </max_steer>
            <brake_group> NONE </brake_group>
            <retractable>1</retractable>
        </contact>
        <contact type="BOGEY" name="LEFT_MLG">
            <location unit="IN">
                <x> 164.7 </x>
                <y> -36.1 </y>
                <z> -39.6 </z>
            </location>
            <static_friction> 0.8 </static_friction>
            <dynamic_friction> 0.5 </dynamic_friction>
            <rolling_friction> 0.02 </rolling_friction>
            <spring_coeff unit="LBS/FT"> 10000 </spring_coeff>
            <damping_coeff unit="LBS/FT/SEC"> 2000 </damping_coeff>
            <max_steer unit="DEG"> 0.0 </max_steer>
            <brake_group> LEFT </brake_group>
            <retractable>1</retractable>
        </contact>
        <contact type="BOGEY" name="RIGHT_MLG">
            <location unit="IN">
                <x> 164.7 </x>
                <y> 36.1 </y>
                <z> -39.6 </z>
            </location>
            <static_friction> 0.8 </static_friction>
            <dynamic_friction> 0.5 </dynamic_friction>
            <rolling_friction> 0.02 </rolling_friction>
            <spring_coeff unit="LBS/FT"> 10000 </spring_coeff>
            <damping_coeff unit="LBS/FT/SEC"> 2000 </damping_coeff>
            <max_steer unit="DEG"> 0.0 </max_steer>
            <brake_group> RIGHT </brake_group>
            <retractable>1</retractable>
        </contact>
    </ground_reactions>
    <propulsion>
        <engine file="engIO470D">
            <feed>0</feed>
            <thruster file="prop_75in2f">
                <location unit="IN">
                    <x> 36 </x>
                    <y> 0 </y>
                    <z> 0 </z>
                </location>
                <orient unit="DEG">
                    <roll> 0.0 </roll>
                    <pitch> 0.0 </pitch>
                    <yaw> 0.0 </yaw>
                </orient>
            </thruster>
        </engine>
        <tank type="FUEL">    <!-- Tank number 0 -->
            <location unit="IN">
                <x> 158.4 </x>
                <y> 0 </y>
                <z> -8.25 </z>
            </location>
            <capacity unit="LBS"> 20 </capacity>
            <contents unit="LBS"> 10 </contents>
        </tank>
        <tank type="FUEL">    <!-- Tank number 1 -->
            <location unit="IN">
                <x> 158.4 </x>
                <y> 0 </y>
                <z> -8.25 </z>
            </location>
            <capacity unit="LBS"> 20 </capacity>
            <contents unit="LBS"> 10 </contents>
        </tank>
    </propulsion>
    <flight_control name="FCS: Navion">
        <channel name="Pitch">
            <summer name="Pitch Trim Sum">
                <input>fcs/elevator-cmd-norm</input>
                <input>fcs/pitch-trim-cmd-norm</input>
                <clipto>
                    <min>-1</min>
                    <max>1</max>
                </clipto>
            </summer>

            <aerosurface_scale name="Elevator Control">
                <input>fcs/pitch-trim-sum</input>
                <range>
                    <min>-0.35</min>
                    <max>0.3</max>
                </range>
                <output>fcs/elevator-pos-rad</output>
            </aerosurface_scale>
        </channel>
        <channel name="Roll">
            <summer name="Roll Trim Sum">
                <input>fcs/aileron-cmd-norm</input>
                <input>fcs/roll-trim-cmd-norm</input>
                <clipto>
                    <min>-1</min>
                    <max>1</max>
                </clipto>
            </summer>

            <aerosurface_scale name="Left Aileron Control">
                <input>fcs/roll-trim-sum</input>
                <range>
                    <min>-0.35</min>
                    <max>0.35</max>
                </range>
                <output>fcs/left-aileron-pos-rad</output>
            </aerosurface_scale>

            <aerosurface_scale name="Right Aileron Control">
                <input>-fcs/roll-trim-sum</input>
                <range>
                    <min>-0.35</min>
                    <max>0.35</max>
                </range>
                <output>fcs/right-aileron-pos-rad</output>
            </aerosurface_scale>
        </channel>
        <channel name="Yaw">
            <summer name="Rudder Command Sum">
                <input>fcs/rudder-cmd-norm</input>
                <input>fcs/yaw-trim-cmd-norm</input>
                <clipto>
                    <min>-1</min>
                    <max>1</max>
                </clipto>
            </summer>

            <aerosurface_scale name="Rudder Control">
                <input>fcs/rudder-command-sum</input>
                <range>
                    <min>-0.35</min>
                    <max>0.35</max>
                </range>
                <output>fcs/rudder-pos-rad</output>
            </aerosurface_scale>
        </channel>
        <channel name="Flaps">
            <kinematic name="Flaps Control">
                <input>fcs/flap-cmd-norm</input>
                <traverse>
                    <setting>
                        <position>0</position>
                        <time>0</time>
                    </setting>
                    <setting>
                        <position>15</position>
                        <time>4</time>
                    </setting>
                    <setting>
                        <position>30</position>
                        <time>3</time>
                    </setting>
                </traverse>
                <output>fcs/flap-pos-deg</output>
            </kinematic>

            <aerosurface_scale name="Flap Position Normalizer">
              <input>fcs/flaps-pos-deg</input>
              <domain>
                <min>0</min>  <!-- Flaps actual minimum position -->
                <max>30</max>  <!-- Flaps actual maximum position -->
              </domain>
              <range>
                <min>0</min>  <!-- Flaps normalized minimum position -->
                <max>1</max>  <!-- Flaps normalized maximum position -->
              </range>
              <output>fcs/flap-pos-norm</output>
            </aerosurface_scale>

        </channel>
        <channel name="Landing Gear">
            <kinematic name="Gear Control">
                <input>gear/gear-cmd-norm</input>
                <traverse>
                    <setting>
                        <position>0</position>
                        <time>0</time>
                    </setting>
                    <setting>
                        <position>1</position>
                        <time>5</time>
                    </setting>
                </traverse>
                <output>gear/gear-pos-norm</output>
            </kinematic>
        </channel>
        <channel name="Speedbrake">
            <kinematic name="Speedbrake Control">
                <input>fcs/speedbrake-cmd-norm</input>
                <traverse>
                    <setting>
                        <position>0</position>
                        <time>0</time>
                    </setting>
                    <setting>
                        <position>1</position>
                        <time>1</time>
                    </setting>
                </traverse>
                <output>fcs/speedbrake-pos-norm</output>
            </kinematic>
        </channel>
    </flight_control>
    <aerodynamics>

        <axis name="DRAG">
            <function name="aero/coefficient/CD0">
                <description>Drag_at_zero_lift</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                      <table>
                          <independentVar>aero/alpha-rad</independentVar>
                          <tableData>
                              -1.5700	1.5000
                              -0.2600	0.0480
                              0.0000	0.0240
                              0.2600	0.0480
                              1.5700	1.5000
                          </tableData>
                      </table>
                </product>
            </function>
            <function name="aero/coefficient/CDi">
                <description>Induced_drag</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>aero/cl-squared</property>
                    <value>0.0400</value>
                </product>
            </function>
            <function name="aero/coefficient/CDmach">
                <description>Drag_due_to_mach</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                      <table>
                          <independentVar>velocities/mach</independentVar>
                          <tableData>
                              0.0000	0.0000
                              0.7000	0.0000
                              1.1000	0.0230
                              1.8000	0.0150
                          </tableData>
                      </table>
                </product>
            </function>
            <function name="aero/coefficient/CDflap">
                <description>Drag_due_to_flaps</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>fcs/flap-pos-norm</property>
                    <value>0.0300</value>
                </product>
            </function>
            <function name="aero/coefficient/CDgear">
                <description>Drag_due_to_gear</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>gear/gear-pos-norm</property>
                    <value>0.0300</value>
                </product>
            </function>
            <function name="aero/coefficient/CDsb">
                <description>Drag_due_to_speedbrakes</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>fcs/speedbrake-pos-norm</property>
                    <value>0.0240</value>
                </product>
            </function>
            <function name="aero/coefficient/CDbeta">
                <description>Drag_due_to_sideslip</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                      <table>
                          <independentVar>aero/beta-rad</independentVar>
                          <tableData>
                              -1.5700	1.2300
                              -0.2600	0.0500
                              0.0000	0.0000
                              0.2600	0.0500
                              1.5700	1.2300
                          </tableData>
                      </table>
                </product>
            </function>
            <function name="aero/coefficient/CDde">
                <description>Drag_due_to_Elevator_Deflection</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>fcs/mag-elevator-pos-rad</property>
                    <value>0.0300</value>
                </product>
            </function>
        </axis>

        <axis name="SIDE">
            <function name="aero/coefficient/CYb">
                <description>Side_force_due_to_beta</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>aero/beta-rad</property>
                    <value>-0.5640</value>
                </product>
            </function>
        </axis>

        <axis name="LIFT">
            <function name="aero/coefficient/CLalpha">
                <description>Lift_due_to_alpha</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                      <table>
                          <independentVar>aero/alpha-rad</independentVar>
                          <tableData>
                              -0.2000	-0.7500
                              0.0000	0.2500
                              0.2300	1.0212
                              0.6000	0.7100
                          </tableData>
                      </table>
                </product>
            </function>
            <function name="aero/coefficient/dCLflap">
                <description>Delta_Lift_due_to_flaps</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>fcs/flap-pos-norm</property>
                    <value>0.4000</value>
                </product>
            </function>
            <function name="aero/coefficient/dCLsb">
                <description>Delta_Lift_due_to_speedbrake</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>fcs/speedbrake-pos-norm</property>
                    <value>0.0000</value>
                </product>
            </function>
            <function name="aero/coefficient/CLde">
                <description>Lift_due_to_Elevator_Deflection</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>fcs/elevator-pos-rad</property>
                    <value>0.3550</value>
                </product>
            </function>
        </axis>

        <axis name="ROLL">
            <function name="aero/coefficient/Clb">
                <description>Roll_moment_due_to_beta</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>aero/beta-rad</property>
                    <value>-0.0740</value>
                </product>
            </function>
            <function name="aero/coefficient/Clp">
                <description>Roll_moment_due_to_roll_rate</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>aero/bi2vel</property>
                    <property>velocities/p-aero-rad_sec</property>
                    <value>-0.4100</value>
                </product>
            </function>
            <function name="aero/coefficient/Clr">
                <description>Roll_moment_due_to_yaw_rate</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>aero/bi2vel</property>
                    <property>velocities/r-aero-rad_sec</property>
                    <value>0.1070</value>
                </product>
            </function>
            <function name="aero/coefficient/Clda">
                <description>Roll_moment_due_to_aileron</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>fcs/left-aileron-pos-rad</property>
                      <table>
                          <independentVar>velocities/mach</independentVar>
                          <tableData>
                              0.0000	0.1340
                              2.0000	0.0570
                          </tableData>
                      </table>
                </product>
            </function>
            <function name="aero/coefficient/Cldr">
                <description>Roll_moment_due_to_rudder</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>fcs/rudder-pos-rad</property>
                    <value>0.0107</value>
                </product>
            </function>
        </axis>

        <axis name="PITCH">
            <function name="aero/coefficient/Cmalpha">
                <description>Pitch_moment_due_to_alpha</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/cbarw-ft</property>
                    <property>aero/alpha-rad</property>
                    <value>-0.6830</value>
                </product>
            </function>
            <function name="aero/coefficient/Cmde">
                <description>Pitch_moment_due_to_elevator</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/cbarw-ft</property>
                    <property>fcs/elevator-pos-rad</property>
                      <table>
                          <independentVar>velocities/mach</independentVar>
                          <tableData>
                              0.0000	-0.9230
                              2.0000	-0.2750
                          </tableData>
                      </table>
                </product>
            </function>
            <function name="aero/coefficient/Cmq">
                <description>Pitch_moment_due_to_pitch_rate</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/cbarw-ft</property>
                    <property>aero/ci2vel</property>
                    <property>velocities/q-aero-rad_sec</property>
                    <value>-9.9600</value>
                </product>
            </function>
            <function name="aero/coefficient/Cmadot">
                <description>Pitch_moment_due_to_alpha_rate</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/cbarw-ft</property>
                    <property>aero/ci2vel</property>
                    <property>aero/alphadot-rad_sec</property>
                    <value>-4.3600</value>
                </product>
            </function>
        </axis>

        <axis name="YAW">
            <function name="aero/coefficient/Cnb">
                <description>Yaw_moment_due_to_beta</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>aero/beta-rad</property>
                    <value>0.0710</value>
                </product>
            </function>
            <function name="aero/coefficient/Cnp">
                <description>Yaw_moment_due_to_roll_rate</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>aero/bi2vel</property>
                    <property>velocities/p-aero-rad_sec</property>
                    <value>-0.0575</value>
                </product>
            </function>
            <function name="aero/coefficient/Cnr">
                <description>Yaw_moment_due_to_yaw_rate</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>aero/bi2vel</property>
                    <property>velocities/r-aero-rad_sec</property>
                    <value>-0.1250</value>
                </product>
            </function>
            <function name="aero/coefficient/Cndr">
                <description>Yaw_moment_due_to_rudder</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>fcs/rudder-pos-rad</property>
                    <value>-0.0720</value>
                </product>
            </function>
            <function name="aero/coefficient/Cnda">
                <description>Adverse_yaw</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>fcs/left-aileron-pos-rad</property>
                    <value>-0.0035</value>
                </product>
            </function>
        </axis>
    </aerodynamics>
</fdm_config>
SAD	file:Navion.tsf

2.153		1 Alt1		[ft]
0.00237254	2 Density1	[slugs/ft3]
175.215		3 U1	175.054	[ft/sec]
0		4 Attitude1	[rad]
184		5 Area		[ft2]
33.4		6 Span		[ft]
5.7		7 Chord		[ft]
2750		8 Weight	[lbs]
1048		9 Ixx		[slug-ft2]
3000		10 Iyy		[slug-ft2]
3530		11 Izz		[slug-ft2]
0		12 Ixz		[slug-ft2]
0.41		13 CL1	.41
0.05		14 CD1
0.05		15 CTX1
0		16 Cm1
0		17 CmT1
0		18 Cmu
-0.683		19 Cma
-4.36		20 Cmadothat
-9.96		21 Cmqhat
0		22 CmTu
0		23 CmTa
0		24 CLu
4.44		25 CLa
0.0		26 CLadothat
3.8		27 CLqhat
0.33		28 CDa
0		29 CDu
0.0		30 CTXu
0.355		31 CLdE
0.00		32 CDdE
-0.923		33 CmdE
-0.074		34 CRollbeta	Clbeta
-0.41		35 CRollphat	Clp	-.92
0.107		36 CRollrhat	Clr
0.134		37 CRolldA	CldA
0.0107		38 CRolldR	CldR
0.071		39 Cnbeta
-0.0575		40 Cnphat
-0.125		41 Cnrhat
-0.0035		42 CndA
-0.072		43 CndR
-0.564		44 Cybeta
0.0		45 Cyphat
0.0		46 Cyrhat
0		47 CydA
0.0		48 CydR
// This file instructs the automatic synchronization utilities where to
// install this aircraft and under what name.
//
// The syntax is easy;
// * the package name at the beginning of a new line followed by a colon
// * a space as a column separator
// * the path and filename relative to the aircraft install directory
//
// Currently known package names are: FlightGear

// Don't install in the FlightGear base package.
//FlightGear:
<?xml version="1.0"?>
<?xml-stylesheet type="text/xsl" href="http://jsbsim.sourceforge.net/JSBSim.xsl"?>
<fdm_config name="Czech Republic LET 410 Light Twin" version="2.0" release="BETA"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:noNamespaceSchemaLocation="http://jsbsim.sourceforge.net/JSBSim.xsd">
    <fileheader>
        <author> Jiri Javurek, jjavurek@walterengines.com </author>
        <author> Jiri Javurek, javky@rozhled.cz </author>
        <author> Jon Berndt, jsb@hal-pc.org (conversion to v2.0 only) </author>
        <filecreationdate> 2005-11-01 </filecreationdate>
        <version> 4.0 </version>
        <description> Czech Republic LET 410 Light Twin </description>
      <note>
        This model was created using publicly available data, publicly available
        technical reports, textbooks, and guesses. It contains no proprietary or
        restricted data. If this model has been validated at all, it would be
        only to the extent that it seems to "fly right", and that it possibly
        complies with published, publicly known, performance data (maximum speed,
        endurance, etc.). Thus, this model is meant for educational and entertainment
        purposes only.

        This simulation model is not endorsed by the manufacturer. This model is not
        to be sold.
      </note>
    </fileheader>

    <metrics>
        <wingarea unit="FT2"> 376.7800 </wingarea>
        <wingspan unit="FT"> 64.6400 </wingspan>
        <chord unit="FT"> 7.0000 </chord>
        <htailarea unit="FT2"> 103.0000 </htailarea>
        <htailarm unit="FT"> 21.3200 </htailarm>
        <vtailarea unit="FT2"> 78.0000 </vtailarea>
        <vtailarm unit="FT"> 0.0000 </vtailarm>
        <location name="AERORP" unit="IN">
            <x> 220.0000 </x>
            <y> 0.0000 </y>
            <z> 20.0000 </z>
        </location>
        <location name="EYEPOINT" unit="IN">
            <x> 100.4000 </x>
            <y> -18.0000 </y>
            <z> 45.0000 </z>
        </location>
        <location name="VRP" unit="IN">
            <x> 0.0000 </x>
            <y> 0.0000 </y>
            <z> 0.0000 </z>
        </location>
    </metrics>

    <mass_balance>
        <ixx unit="SLUG*FT2"> 60000.0000 </ixx>
        <iyy unit="SLUG*FT2"> 42000.0000 </iyy>
        <izz unit="SLUG*FT2"> 107845.0000 </izz>
        <ixy unit="SLUG*FT2"> -0.0000 </ixy>
        <ixz unit="SLUG*FT2"> -0.0000 </ixz>
        <iyz unit="SLUG*FT2"> -0.0000 </iyz>
        <emptywt unit="LBS"> 8467.0000 </emptywt>
        <location name="CG" unit="IN">
            <x> 212.0000 </x>
            <y> 0.0000 </y>
            <z> 0.0000 </z>
        </location>
    </mass_balance>

    <ground_reactions>
        <contact type="BOGEY" name="NOSE_LG">
            <location unit="IN">
                <x> 105.0000 </x>
                <y> 0.0000 </y>
                <z> -82.0000 </z>
            </location>
            <static_friction> 0.8000 </static_friction>
            <dynamic_friction> 0.5000 </dynamic_friction>
            <rolling_friction> 0.0200 </rolling_friction>
            <spring_coeff unit="LBS/FT"> 19756.8000 </spring_coeff>
            <damping_coeff unit="LBS/FT/SEC"> 1411.2000 </damping_coeff>
            <max_steer unit="DEG"> 45.0000 </max_steer>
            <brake_group> NOSE </brake_group>
            <retractable>1</retractable>
        </contact>
        <contact type="BOGEY" name="LEFT_MLG">
            <location unit="IN">
                <x> 265.9000 </x>
                <y> -69.8000 </y>
                <z> -78.0000 </z>
            </location>
            <static_friction> 0.8000 </static_friction>
            <dynamic_friction> 0.5000 </dynamic_friction>
            <rolling_friction> 0.0200 </rolling_friction>
            <spring_coeff unit="LBS/FT"> 70560.0000 </spring_coeff>
            <damping_coeff unit="LBS/FT/SEC"> 2822.4000 </damping_coeff>
            <max_steer unit="DEG"> 0.0 </max_steer>
            <brake_group> LEFT </brake_group>
            <retractable>1</retractable>
        </contact>
        <contact type="BOGEY" name="RIGHT_MLG">
            <location unit="IN">
                <x> 265.9000 </x>
                <y> 69.8000 </y>
                <z> -78.0000 </z>
            </location>
            <static_friction> 0.8000 </static_friction>
            <dynamic_friction> 0.5000 </dynamic_friction>
            <rolling_friction> 0.0200 </rolling_friction>
            <spring_coeff unit="LBS/FT"> 70560.0000 </spring_coeff>
            <damping_coeff unit="LBS/FT/SEC"> 2822.4000 </damping_coeff>
            <max_steer unit="DEG"> 0.0 </max_steer>
            <brake_group> RIGHT </brake_group>
            <retractable>1</retractable>
        </contact>
    </ground_reactions>
    <propulsion>
        <engine file="engtm601">
            <feed>0</feed>
            <thruster file="vrtule2">
                <location unit="IN">
                    <x>163.0</x>
                    <y>-105</y>
                    <z>35.0</z>
                </location>
                <orient unit="DEG">
                    <roll>0</roll>
                    <pitch>0</pitch>
                    <yaw>0</yaw>
                </orient>
                <sense>1</sense>
                <p_factor>10.0</p_factor>
            </thruster>
        </engine>
        <engine file="engtm601">
            <feed>1</feed>
            <thruster file="vrtule2">
                <location unit="IN">
                    <x>163.0</x>
                    <y>105</y>
                    <z>35.0</z>
                </location>
                <orient unit="DEG">
                    <roll>0</roll>
                    <pitch>0</pitch>
                    <yaw>0</yaw>
                </orient>
                <sense>1</sense>
                <p_factor>10.0</p_factor>
            </thruster>
        </engine>

        <tank type="FUEL">    <!-- Tank number 0 -->
            <location unit="IN">
                <x> 210.0000 </x>
                <y> 8.0000 </y>
                <z> 39.0000 </z>
            </location>
            <capacity unit="LBS"> 981.0000 </capacity>
            <contents unit="LBS"> 981.0000 </contents>
        </tank>
        <tank type="FUEL">    <!-- Tank number 1 -->
            <location unit="IN">
                <x> 210.0000 </x>
                <y> -8.0000 </y>
                <z> 39.0000 </z>
            </location>
            <capacity unit="LBS"> 981.0000 </capacity>
            <contents unit="LBS"> 981.0000 </contents>
        </tank>
    </propulsion>

    <flight_control name="FCS: l410">

      <!-- Interface properties : ONLY for use in JSBSim standalone     -->
      <!-- THIS MUST BE COMMENTED OUT FOR USE IN FLIGHTGEAR ... I think -->

      <property>/systems/l410/battery-all-ok</property>
      <property>/systems/l410/battery1-ok</property>
      <property>/systems/l410/battery2-ok</property>
      <property>/systems/l410/bus36v-on</property>
      <property>/systems/l410/bus24v-on</property>
      <property>/systems/l410/extinguish-e1-1-ok</property>
      <property>/systems/l410/extinguish-e1-2-ok</property>
      <property>/systems/l410/extinguish-e2-1-ok</property>
      <property>/systems/l410/extinguish-e2-2-ok</property>

      <property>/systems/electrical/outputs/bus28v</property>
      <property>/systems/electrical/outputs/bus36v</property>
      <property>/systems/electrical/outputs/bus115v</property>
      <property>/systems/electrical/outputs/beacon-lights</property>
      <property>/systems/electrical/outputs/navigation-lights</property>
      <property>/systems/electrical/outputs/landing-lights</property>

      <property>/instrumentation/warn-disp/wde1-beta</property>
      <property>/instrumentation/warn-disp/wde2-beta</property>
      <property>/instrumentation/warn-disp/wd-e1-on</property>
      <property>/instrumentation/warn-disp/wd-e2-on</property>
      <property>/instrumentation/warn-disp/wd-extinguish-eng</property>

      <property>/instrumentation/engine/indicated-tl-norm</property>
      <property>/instrumentation/engine/indicated-throttlel-norm</property>
      <property>/instrumentation/engine/indicated-tr-norm</property>
      <property>/instrumentation/engine/indicated-throttler-norm</property>
      <property>/instrumentation/engine/indicated-cutoffl-norm</property>
      <property>/instrumentation/engine/indicated-cutoffr-norm</property>
      <property>/instrumentation/engine/eng-n-koef</property>
      <property>/instrumentation/engine/indicated-gen1-perc</property>
      <property>/instrumentation/engine/indicated-gen2-perc</property>
      <property>/instrumentation/engine/indicated-prop1-rpm</property>
      <property>/instrumentation/engine/indicated-prop2-rpm</property>
      <property>/instrumentation/engine/indicated-pshaft1-perc</property>
      <property>/instrumentation/engine/indicated-pshaft2-perc</property>
      <property>/instrumentation/engine/indicated-itt1-degc</property>
      <property>/instrumentation/engine/indicated-itt2-degc</property>
      <property>/instrumentation/engine/indicated-fuelfl1-kgph</property>
      <property>/instrumentation/engine/indicated-fuelfl2-kgph</property>
      <property>/instrumentation/engine/indicated-fuel1-kg</property>
      <property>/instrumentation/engine/indicated-fuel2-kg</property>

      <property>/instrumentation/pressure/indicated-parkingbrake-kp_cm2</property>
      <property>/instrumentation/pressure/indicated-leftbrake-kp_cm2</property>
      <property>/instrumentation/pressure/indicated-rightbrake-kp_cm2</property>

      <property>/instrumentation/temperature/indicated-oil1-degc</property>
      <property>/instrumentation/temperature/indicated-oil2-degc</property>
      <property>/instrumentation/temperature/c-f-s-konst</property>

      <property>/instrumentation/lights/beacon-kinemat-in</property>
      <property>/instrumentation/lights/beacon-kinemat-out</property>
      <property>/instrumentation/lights/beacon-on</property>
      <property>/instrumentation/lights/navigation-on</property>
      <property>/instrumentation/lights/search1-on</property>
      <property>/instrumentation/lights/search2-on</property>
      <property>/instrumentation/lights/instr-flash-out</property>
      <property>/instrumentation/lights/instr-flash-in</property>

      <property>/instrumentation/wiper/position-dir</property>
      <property>/instrumentation/wiper/position-norm</property>
      <property>/instrumentation/wiper/switched-on</property>

      <property>/gear/gear[0]/steering-lever-norm</property>

      <property>/controls/switches/specbus_28v_115v_36v</property>
      <property>/controls/switches/full-steering-sw</property>
      <property>/controls/switches/isolvalve1-sw</property>
      <property>/controls/switches/isolvalve2-sw</property>
      <property>/controls/switches/wiper-sw</property>
      <property>/controls/switches/lgh-beacon-sw</property>
      <property>/controls/switches/lgh-navigation-sw</property>
      <property>/controls/switches/chck-extinguish-eng-sw</property>

      <property>/controls/engines/engine[0]/reverser</property>
      <property>/controls/engines/engine[1]/reverser</property>
      <property>/controls/engines/engine[0]/cutoff-cmd</property>
      <property>/controls/engines/engine[1]/cutoff-cmd</property>
      <property>/controls/engines/aileron-abc-norm</property>

      <property>/controls/gear/brake-left</property>
      <property>/controls/gear/brake-right</property>
      <property>/controls/gear/brake-parking</property>
      <property>/controls/gear/parking-brake-cmd</property>
      <property>/controls/gear/wheel[0]/brake-cmd-cond</property>
      <property>/controls/gear/wheel[1]/brake-cmd-cond</property>
      <property>/controls/gear/gear-down-cond</property>
      <property>/controls/flight/flaps-cond</property>
      <property>/controls/flight/spoilers-cond</property>

      <property>/engines/engine[0]/n1</property>
      <property>/engines/engine[1]/n1</property>
      <property>/engines/engine[0]/thruster/rpm</property>
      <property>/engines/engine[1]/thruster/rpm</property>
      <property>/engines/engine[0]/thruster/torque</property>
      <property>/engines/engine[1]/thruster/torque</property>
      <property>/engines/engine[0]/itt_degC</property>
      <property>/engines/engine[1]/itt_degC</property>
      <property>/engines/engine[0]/fuel-flow_pph</property>
      <property>/engines/engine[1]/fuel-flow_pph</property>
      <property>/engines/engine[0]/oil-temperature-degf</property>
      <property>/engines/engine[1]/oil-temperature-degf</property>

      <property>/consumables/fuel/tank[0]/level-lb</property>
      <property>/consumables/fuel/tank[1]/level-lb</property>

      <!-- END of Interface Properties -->

      <channel name="Electrical">

        <!-- battery status -->

        <switch name="battery-all-ok">
            <default value="0.0000"/>
            <test logic="AND" value="1.0000">
                /systems/l410/battery1-ok == 1
                /systems/l410/battery2-ok == 1
            </test>
            <output>/systems/l410/battery-all-ok</output>
        </switch>

        <switch name="battery-one-ok">
            <default value="0.0000"/>
            <test logic="OR" value="1.0000">
                /systems/l410/battery1-ok == 1
                /systems/l410/battery2-ok == 1
            </test>
            <output>/systems/l410/battery-one-ok</output>
        </switch>

        <!-- special electrical buses (simplification for instruments that
             need more different voltage inputs) -->

        <switch name="spec-turn">
            <default value="0.0000"/>
            <test logic="AND" value="1.0000">
                /systems/electrical/outputs/bus28v > 10
                /systems/electrical/outputs/bus36v > 10
                /systems/electrical/outputs/bus115v > 10
            </test>
            <output>/controls/switches/specbus_28v_115v_36v</output>
        </switch>

        <!-- Engine warnings -->

        <switch name="wd-1beta1">
            <default value="0.0000"/>
            <test logic="AND" value="1.0000">
                /instrumentation/warn-disp/wd-e1-on == 1
                /controls/engines/engine[0]/reverser == 1
            </test>
            <output>/instrumentation/warn-disp/wde1-beta</output>
        </switch>

        <switch name="wd-2beta1">
            <default value="0.0000"/>
            <test logic="AND" value="1.0000">
                /instrumentation/warn-disp/wd-e2-on == 1
                /controls/engines/engine[1]/reverser == 1
            </test>
            <output>/instrumentation/warn-disp/wde2-beta</output>
        </switch>

        <!-- end warnings -->

        <switch name="indicated-throttle-l3">
            <default value="0.0000"/>
            <test logic="AND" value="0.0000">
                /controls/switches/isolvalve1-sw lt 2
            </test>
            <output>/instrumentation/engine/indicated-tl-norm</output>
        </switch>

        <scheduled_gain name="indicated-throttle-l">
            <input>fcs/indicated-throttle-l3</input>
            <table>
                <independentVar>/controls/engines/engine[0]/reverser</independentVar>
                <tableData>
                    0.0000	1.0000
                    1.0000	-0.7000
                </tableData>
            </table>
            <output>/instrumentation/engine/indicated-throttlel-norm</output>
        </scheduled_gain>

        <switch name="indicated-throttle-r3">
            <default value="0.0000"/>
            <test logic="AND" value="0.0000">
                /controls/switches/isolvalve2-sw lt 2
            </test>
            <output>/instrumentation/engine/indicated-tr-norm</output>
        </switch>

        <scheduled_gain name="indicated-throttle-r">
            <input>fcs/indicated-throttle-r3</input>
            <table>
                <independentVar>/controls/engines/engine[1]/reverser</independentVar>
                <tableData>
                    0.0000	1.0000
                    1.0000	-0.7000
                </tableData>
            </table>
            <output>/instrumentation/engine/indicated-throttler-norm</output>
        </scheduled_gain>

        <switch name="indicated-cutoff-l1">
            <default value="0.0000"/>
            <test logic="AND" value="-1.0000">
                /controls/engines/engine[0]/cutoff-cmd == 1
            </test>
            <test logic="AND" value="0.0000">
                /controls/switches/isolvalve1-sw == 2
                /controls/engines/engine[0]/cutoff-cmd == 0
            </test>
            <output>/instrumentation/engine/indicated-cutoffl-norm</output>
        </switch>

        <switch name="indicated-cutoff-r1">
            <default value="0.0000"/>
            <test logic="AND" value="-1.0000">
                /controls/engines/engine[1]/cutoff-cmd == 1
            </test>
            <test logic="AND" value="0.0000">
                /controls/switches/isolvalve2-sw == 2
                /controls/engines/engine[1]/cutoff-cmd == 0
            </test>
            <output>/instrumentation/engine/indicated-cutoffr-norm</output>
        </switch>

        <kinematic name="eng-n-koef">
            <input>/systems/l410/bus36v-on</input>
            <traverse>
                <setting>
                    <position>0.0000</position>
                    <time>0.0000</time>
                </setting>
                <setting>
                    <position>1.0000</position>
                    <time>0.5000</time>
                </setting>
            </traverse>
            <output>/instrumentation/engine/eng-n-koef</output>
        </kinematic>

        <scheduled_gain name="indicated-eng-ngen1">
            <input>/engines/engine/n1</input>
            <table>
                <independentVar>/instrumentation/engine/eng-n-koef</independentVar>
                <tableData>
                    0.0000	0.0000
                    1.0000	1.0000
                </tableData>
            </table>
            <output>/instrumentation/engine/indicated-gen1-perc</output>
        </scheduled_gain>

        <scheduled_gain name="indicated-eng-ngen2">
            <input>/engines/engine[1]/n1</input>
            <table>
                <independentVar>/instrumentation/engine/eng-n-koef</independentVar>
                <tableData>
                    0.0000	0.0000
                    1.0000	1.0000
                </tableData>
            </table>
            <output>/instrumentation/engine/indicated-gen2-perc</output>
        </scheduled_gain>

        <scheduled_gain name="indicated-eng-nprop1">
            <input>/engines/engine/thruster/rpm</input>
            <table>
                <independentVar>/instrumentation/engine/eng-n-koef</independentVar>
                <tableData>
                    0.0000	0.0000
                    1.0000	1.0000
                </tableData>
            </table>
            <output>/instrumentation/engine/indicated-prop1-rpm</output>
        </scheduled_gain>

        <scheduled_gain name="indicated-eng-nprop2">
            <input>/engines/engine[1]/thruster/rpm</input>
            <table>
                <independentVar>/instrumentation/engine/eng-n-koef</independentVar>
                <tableData>
                    0.0000	0.0000
                    1.0000	1.0000
                </tableData>
            </table>
            <output>/instrumentation/engine/indicated-prop2-rpm</output>
        </scheduled_gain>

        <scheduled_gain name="indicated-eng-propshaft1">
            <input>/engines/engine[0]/thruster/torque</input>
            <gain>-0.0571</gain>
            <table>
                <independentVar>/instrumentation/engine/eng-n-koef</independentVar>
                <tableData>
                    0.0000	0.0000
                    1.0000	1.0000
                </tableData>
            </table>
            <output>/instrumentation/engine/indicated-pshaft1-perc</output>
        </scheduled_gain>

        <scheduled_gain name="indicated-eng-propshaft2">
            <input>/engines/engine[1]/thruster/torque</input>
            <gain>-0.0571</gain>
            <table>
                <independentVar>/instrumentation/engine/eng-n-koef</independentVar>
                <tableData>
                    0.0000	0.0000
                    1.0000	1.0000
                </tableData>
            </table>
            <output>/instrumentation/engine/indicated-pshaft2-perc</output>
        </scheduled_gain>

        <scheduled_gain name="indicated-itt1-degc">
            <input>/engines/engine/itt_degC</input>
            <table>
                <independentVar>/instrumentation/engine/eng-n-koef</independentVar>
                <tableData>
                    0.0000	0.0000
                    1.0000	1.0000
                </tableData>
            </table>
            <output>/instrumentation/engine/indicated-itt1-degc</output>
        </scheduled_gain>

        <scheduled_gain name="indicated-itt2-degc">
            <input>/engines/engine[1]/itt_degC</input>
            <table>
                <independentVar>/instrumentation/engine/eng-n-koef</independentVar>
                <tableData>
                    0.0000	0.0000
                    1.0000	1.0000
                </tableData>
            </table>
            <output>/instrumentation/engine/indicated-itt2-degc</output>
        </scheduled_gain>

        <scheduled_gain name="indicated-fuelfl1-kgph">
            <input>/engines/engine[0]/fuel-flow_pph</input>
            <gain>0.4536</gain>
            <table>
                <independentVar>/instrumentation/engine/eng-n-koef</independentVar>
                <tableData>
                    0.0000	0.0000
                    1.0000	1.0000
                </tableData>
            </table>
            <output>/instrumentation/engine/indicated-fuelfl1-kgph</output>
        </scheduled_gain>

        <scheduled_gain name="indicated-fuelfl2-kgph">
            <input>/engines/engine[1]/fuel-flow_pph</input>
            <gain>0.4536</gain>
            <table>
                <independentVar>/instrumentation/engine/eng-n-koef</independentVar>
                <tableData>
                    0.0000	0.0000
                    1.0000	1.0000
                </tableData>
            </table>
            <output>/instrumentation/engine/indicated-fuelfl2-kgph</output>
        </scheduled_gain>

        <scheduled_gain name="indicated-fuel1-kg">
            <input>/consumables/fuel/tank/level-lb</input>
            <gain>0.4536</gain>
            <table>
                <independentVar>/instrumentation/engine/eng-n-koef</independentVar>
                <tableData>
                    0.0000	0.0000
                    1.0000	1.0000
                </tableData>
            </table>
            <output>/instrumentation/engine/indicated-fuel1-kg</output>
        </scheduled_gain>

        <scheduled_gain name="indicated-fuel2-kg">
            <input>/consumables/fuel/tank[1]/level-lb</input>
            <gain>0.4536</gain>
            <table>
                <independentVar>/instrumentation/engine/eng-n-koef</independentVar>
                <tableData>
                    0.0000	0.0000
                    1.0000	1.0000
                </tableData>
            </table>
            <output>/instrumentation/engine/indicated-fuel2-kg</output>
        </scheduled_gain>

        <!-- windshield wipers -->

        <switch name="sterace-endpos1">
            <default value="0.0000"/>
            <test logic="AND" value="1.0000">
                /instrumentation/wiper/position-dir == 0
                /instrumentation/wiper/position-norm == 0
                /instrumentation/wiper/switched-on == 1
            </test>
            <test logic="AND" value="0.0000">
                /instrumentation/wiper/position-dir == 1
                /instrumentation/wiper/position-norm == 1
            </test>
            <output>/instrumentation/wiper/position-dir</output>
        </switch>

        <kinematic name="sterace-norm">
            <input>/instrumentation/wiper/position-dir</input>
            <traverse>
                <setting>
                    <position>0.0000</position>
                    <time>0.0000</time>
                </setting>
                <setting>
                    <position>1.0000</position>
                    <time>1.5000</time>
                </setting>
            </traverse>
            <output>/instrumentation/wiper/position-norm</output>
        </kinematic>

        <pure_gain name="sterace-vyp">
            <input>/controls/switches/wiper-sw</input>
            <gain>1</gain>
            <output>/instrumentation/wiper/switched-on</output>
        </pure_gain>

        <!-- Brakes -->

        <kinematic name="brzdy1">
            <input>/controls/gear/wheel/brake-cmd-cond</input>
            <traverse>
                <setting>
                    <position>0.0000</position>
                    <time>0.0000</time>
                </setting>
                <setting>
                    <position>1.0000</position>
                    <time>0.3000</time>
                </setting>
            </traverse>
            <output>/controls/gear/brake-left</output>
        </kinematic>

        <kinematic name="brzdy2">
            <input>/controls/gear/wheel[1]/brake-cmd-cond</input>
            <traverse>
                <setting>
                    <position>0.0000</position>
                    <time>0.0000</time>
                </setting>
                <setting>
                    <position>1.0000</position>
                    <time>0.3000</time>
                </setting>
            </traverse>
            <output>/controls/gear/brake-right</output>
        </kinematic>

        <kinematic name="brzdy4">
            <input>/controls/gear/parking-brake-cmd</input>
            <traverse>
                <setting>
                    <position>0.0000</position>
                    <time>0.0000</time>
                </setting>
                <setting>
                    <position>1.0000</position>
                    <time>0.9000</time>
                </setting>
            </traverse>
            <output>/controls/gear/brake-parking</output>
        </kinematic>

        <scheduled_gain name="indicated-parkingbrake-kp_cm2">
            <input>/controls/gear/brake-parking</input>
            <gain>25.0000</gain>
            <table>
                <independentVar>/instrumentation/engine/eng-n-koef</independentVar>
                <tableData>
                    0.0000	0.0000
                    1.0000	1.0000
                </tableData>
            </table>
            <output>/instrumentation/pressure/indicated-parkingbrake-kp_cm2</output>
        </scheduled_gain>

        <scheduled_gain name="indicated-leftbrake-kp_cm2">
            <input>/controls/gear/brake-left</input>
            <gain>45.0000</gain>
            <table>
                <independentVar>/instrumentation/engine/eng-n-koef</independentVar>
                <tableData>
                    0.0000	0.0000
                    1.0000	1.0000
                </tableData>
            </table>
            <output>/instrumentation/pressure/indicated-leftbrake-kp_cm2</output>
        </scheduled_gain>

        <scheduled_gain name="indicated-rightbrake-kp_cm2">
            <input>/controls/gear/brake-right</input>
            <gain>45.0000</gain>
            <table>
                <independentVar>/instrumentation/engine/eng-n-koef</independentVar>
                <tableData>
                    0.0000	0.0000
                    1.0000	1.0000
                </tableData>
            </table>
            <output>/instrumentation/pressure/indicated-rightbrake-kp_cm2</output>
        </scheduled_gain>

        <summer name="temp-oil1-1">
            <input>/engines/engine/oil-temperature-degf</input>
            <input>/instrumentation/temperature/c-f-s-konst</input>
        </summer>

        <scheduled_gain name="temp-oil1-2">
            <input>fcs/temp-oil1-1</input>
            <gain>0.5555</gain>
            <table>
                <independentVar>/instrumentation/engine/eng-n-koef</independentVar>
                <tableData>
                    0.0000	0.0000
                    1.0000	1.0000
                </tableData>
            </table>
            <output>/instrumentation/temperature/indicated-oil1-degc</output>
        </scheduled_gain>

        <summer name="temp-oil2-1">
            <input>/engines/engine[1]/oil-temperature-degf</input>
            <input>/instrumentation/temperature/c-f-s-konst</input>
        </summer>

        <scheduled_gain name="temp-oil2-2">
            <input>fcs/temp-oil2-1</input>
            <gain>0.5555</gain>
            <table>
                <independentVar>/instrumentation/engine/eng-n-koef</independentVar>
                <tableData>
                    0.0000	0.0000
                    1.0000	1.0000
                </tableData>
            </table>
            <output>/instrumentation/temperature/indicated-oil2-degc</output>
        </scheduled_gain>

        <!-- Lights -->

        <switch name="instr-flash">
            <default value="0.0000"/>
            <test logic="AND" value="1.0000">
                /instrumentation/lights/instr-flash-out == 0
                /instrumentation/lights/instr-flash-in == 0
            </test>
            <test logic="AND" value="0.0000">
                /instrumentation/lights/instr-flash-out == 1
                /instrumentation/lights/instr-flash-in == 1
            </test>
            <output>/instrumentation/lights/instr-flash-in</output>
        </switch>

        <kinematic name="instr-flash3">
            <input>/instrumentation/lights/instr-flash-in</input>
            <traverse>
                <setting>
                    <position>0.0000</position>
                    <time>0.0000</time>
                </setting>
                <setting>
                    <position>1.0000</position>
                    <time>1.0000</time>
                </setting>
            </traverse>
            <output>/instrumentation/lights/instr-flash-out</output>
        </kinematic>

        <!-- Beacon -->

        <switch name="beacon-swon">
            <default value="0.0000"/>
            <test logic="AND" value="1.0000">
                /controls/switches/lgh-beacon-sw == 1
                /systems/electrical/outputs/beacon-lights > 20
                /instrumentation/lights/beacon-kinemat-in == 0
                /instrumentation/lights/beacon-kinemat-out == 0
            </test>
            <test logic="AND" value="0.0000">
                /instrumentation/lights/beacon-kinemat-in == 1
                /instrumentation/lights/beacon-kinemat-out == 1
            </test>
            <output>/instrumentation/lights/beacon-kinemat-in</output>
        </switch>

        <kinematic name="beacon-norm">
            <input>/instrumentation/lights/beacon-kinemat-in</input>
            <traverse>
                <setting>
                    <position>0.0000</position>
                    <time>0.0000</time>
                </setting>
                <setting>
                    <position>1.0000</position>
                    <time>1.0000</time>
                </setting>
            </traverse>
            <output>/instrumentation/lights/beacon-kinemat-out</output>
        </kinematic>

        <switch name="beacon-swon3">
            <default value="0.0000"/>
            <test logic="AND" value="1.0000">
                /instrumentation/lights/beacon-kinemat-out > 0.90
                /instrumentation/lights/beacon-kinemat-out lt 0.97
            </test>
            <output>/instrumentation/lights/beacon-on</output>
        </switch>

       <!-- navigation (red, green) -->

       <switch name="navig-swon">
            <default value="0.0000"/>
            <test logic="AND" value="1.0000">
                /controls/switches/lgh-navigation-sw == 1
                /systems/electrical/outputs/navigation-lights > 20
            </test>
            <output>/instrumentation/lights/navigation-on</output>
        </switch>

        <!-- Front -->

        <switch name="search1-swon">
            <default value="0.0000"/>
            <test logic="AND" value="0.0000">
                /systems/electrical/outputs/landing-lights > 20
            </test>
            <output>/instrumentation/lights/search1-on</output>
        </switch>

        <switch name="search2-swon">
            <default value="0.0000"/>
            <test logic="AND" value="0.0000">
                /systems/electrical/outputs/landing-lights > 20
            </test>
            <output>/instrumentation/lights/search2-on</output>
        </switch>

        <!-- FIRE and EXTINGUISH -->

        <switch name="chck-extinguish">
            <default value="0.0000"/>
            <test logic="AND" value="1.0000">
                /systems/l410/bus24v-on == 1
                /controls/switches/chck-extinguish-eng-sw == -1
                /systems/l410/extinguish-e1-1-ok == 1
            </test>
            <test logic="AND" value="2.0000">
                /systems/l410/bus24v-on == 1
                /controls/switches/chck-extinguish-eng-sw == -2
                /systems/l410/extinguish-e1-2-ok == 1
            </test>
            <test logic="AND" value="3.0000">
                /systems/l410/bus24v-on == 1
                /controls/switches/chck-extinguish-eng-sw == 1
                /systems/l410/extinguish-e2-1-ok == 1
            </test>
            <test logic="AND" value="4.0000">
                /systems/l410/bus24v-on == 1
                /controls/switches/chck-extinguish-eng-sw == 2
                /systems/l410/extinguish-e2-2-ok == 1
            </test>
            <output>/instrumentation/warn-disp/wd-extinguish-eng</output>
        </switch>

        <pure_gain name="abc-position">
            <input>/controls/engines/aileron-abc-norm</input>
            <gain>1</gain>
        </pure_gain>
      </channel>

          <!-- Standard flight control components -->

      <channel name="Pitch">

        <pure_gain name="pitch-trim-uprava-nase">
            <input>fcs/pitch-trim-cmd-norm</input>
            <gain>0.3333</gain>
        </pure_gain>

        <summer name="Pitch Trim Sum">
            <input>fcs/elevator-cmd-norm</input>
            <input>fcs/pitch-trim-uprava-nase</input>
            <clipto>
                <min>-1.0000</min>
                <max>1.0000</max>
            </clipto>
        </summer>

        <aerosurface_scale name="Elevator Control">
            <input>fcs/pitch-trim-sum</input>
            <range>
                <min>-0.3500</min>
                <max>0.1750</max>
            </range>
            <output>fcs/elevator-pos-rad</output>
        </aerosurface_scale>
      </channel>

      <channel name="Roll">
        <pure_gain name="roll-trim-uprava-nase">
            <input>fcs/roll-trim-cmd-norm</input>
            <gain>0.3333</gain>
        </pure_gain>

        <summer name="Roll Trim Sum nase">
            <input>fcs/aileron-cmd-norm</input>
            <input>fcs/roll-trim-uprava-nase</input>
            <clipto>
                <min>-1.0000</min>
                <max>1.0000</max>
            </clipto>
        </summer>

        <aerosurface_scale name="Left Aileron Control">
            <input>fcs/roll-trim-sum-nase</input>
            <range>
                <min>-0.4500</min>
                <max>0.4500</max>
            </range>
            <output>fcs/left-aileron-pos-rad</output>
        </aerosurface_scale>

        <aerosurface_scale name="Right Aileron Control">
            <input>-fcs/roll-trim-sum-nase</input>
            <range>
                <min>-0.4500</min>
                <max>0.4500</max>
            </range>
            <output>fcs/right-aileron-pos-rad</output>
        </aerosurface_scale>
      </channel>

      <channel name="Yaw">
        <pure_gain name="yaw-trim-uprava-nase">
            <input>fcs/yaw-trim-cmd-norm</input>
            <gain>0.4000</gain>
        </pure_gain>

        <summer name="Rudder Command Sum">
            <input>fcs/rudder-cmd-norm</input>
            <input>fcs/yaw-trim-uprava-nase</input>
            <clipto>
                <min>-1.0000</min>
                <max>1.0000</max>
            </clipto>
        </summer>

        <aerosurface_scale name="Rudder Control">
            <input>fcs/rudder-command-sum</input>
            <range>
                <min>-0.3500</min>
                <max>0.3500</max>
            </range>
            <output>fcs/rudder-pos-rad</output>
        </aerosurface_scale>
      </channel>

      <channel name="Flaps">
        <kinematic name="Flaps Control">
            <input>/controls/flight/flaps-cond</input>
            <traverse>
                <setting>
                    <position>0.0000</position>
                    <time>0.0000</time>
                </setting>
                <setting>
                    <position>21.0000</position>
                    <time>5.0000</time>
                </setting>
                <setting>
                    <position>42.0000</position>
                    <time>4.0000</time>
                </setting>
            </traverse>
            <output>fcs/flap-pos-deg</output>
        </kinematic>

        <aerosurface_scale name="Flap Position Normalizer">
          <input>fcs/flap-pos-deg</input>
          <domain>
            <min>0</min>  <!-- Flaps actual minimum position -->
            <max>42</max>  <!-- Flaps actual maximum position -->
          </domain>
          <range>
            <min>0</min>  <!-- Flaps normalized minimum position -->
            <max>1</max>  <!-- Flaps normalized maximum position -->
          </range>
          <output>fcs/flap-pos-norm</output>
        </aerosurface_scale>
      </channel>

      <channel name="Gear">
        <kinematic name="Gear Control">
            <input>/controls/gear/gear-down-cond</input>
            <traverse>
                <setting>
                    <position>0.0000</position>
                    <time>0.0000</time>
                </setting>
                <setting>
                    <position>1.0000</position>
                    <time>5.0000</time>
                </setting>
            </traverse>
            <output>gear/gear-pos-norm</output>
        </kinematic>
      </channel>

      <channel name="Speedbrake">
        <kinematic name="Speedbrake Control">
            <input>fcs/speedbrake-cmd-norm</input>
            <traverse>
                <setting>
                    <position>0.0000</position>
                    <time>0.0000</time>
                </setting>
                <setting>
                    <position>1.0000</position>
                    <time>1.0000</time>
                </setting>
            </traverse>
            <output>fcs/speedbrake-pos-norm</output>
        </kinematic>
      </channel>

      <channel name="Spoiler">
        <kinematic name="Spoiler Control">
            <input>/controls/flight/spoilers-cond</input>
            <traverse>
                <setting>
                    <position>0.0000</position>
                    <time>0.0000</time>
                </setting>
                <setting>
                    <position>1.0000</position>
                    <time>2.0000</time>
                </setting>
            </traverse>
            <output>fcs/spoiler-pos-norm</output>
        </kinematic>

        <pure_gain name="Spoiler Control rad">
            <input>fcs/spoiler-pos-norm</input>
            <gain>72.0000</gain>
            <output>fcs/spoiler-pos-rad</output>
        </pure_gain>
      </channel>

      <channel name="Steering">
        <scheduled_gain name="Scheduled Steer Pos Deg">
            <input>fcs/steer-cmd-norm</input>
            <table>
                <independentVar>/controls/switches/full-steering-sw</independentVar>
                <tableData>
                    0.0000	5.0000
                    1.0000	0.0000
                    2.0000	45.0000
                </tableData>
            </table>
            <output>fcs/steer-pos-deg[0]</output>
        </scheduled_gain>

        <scheduled_gain name="Steer lever Pos Deg">
            <input>fcs/steer-cmd-norm</input>
            <table>
                <independentVar>/controls/switches/full-steering-sw</independentVar>
                <tableData>
                    0.0000	0.0000
                    1.0000	0.0000
                    2.0000	1.0000
                </tableData>
            </table>
            <output>/gear/gear[0]/steering-lever-norm</output>
        </scheduled_gain>
     </channel>
    </flight_control>

    <aerodynamics>

        <axis name="DRAG">
            <function name="aero/coefficient/CD0">
                <description>Drag_at_zero_lift</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                      <table>
                          <independentVar>aero/alpha-rad</independentVar>
                          <tableData>
                              -1.5700	2.0000
                              -0.2600	0.0670
                              0.0000	0.0330
                              0.2600	0.0670
                              1.5700	3.0000
                          </tableData>
                      </table>
                </product>
            </function>
            <function name="aero/coefficient/CDi">
                <description>Induced_drag</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>aero/cl-squared</property>
                    <value>0.0600</value>
                </product>
            </function>
            <function name="aero/coefficient/CDmach">
                <description>Drag_due_to_mach</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                      <table>
                          <independentVar>velocities/mach</independentVar>
                          <tableData>
                              0.0000	0.0000
                              0.7200	0.0000
                              1.1000	0.0230
                              1.8000	0.0150
                          </tableData>
                      </table>
                </product>
            </function>
            <function name="aero/coefficient/CDflap">
                <description>Drag_due_to_flaps</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>fcs/flap-pos-norm</property>
                    <value>0.0390</value>
                </product>
            </function>
            <function name="aero/coefficient/CDgear">
                <description>Drag_due_to_gear</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>gear/gear-pos-norm</property>
                    <value>0.0300</value>
                </product>
            </function>
            <function name="aero/coefficient/CDsb">
                <description>Drag_due_to_speedbrakes</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>fcs/speedbrake-pos-norm</property>
                    <value>0.0250</value>
                </product>
            </function>
            <function name="aero/coefficient/CDsp">
                <description>Drag_due_to_spoiler</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>fcs/spoiler-pos-norm</property>
                    <value>0.0300</value>
                </product>
            </function>
            <function name="aero/coefficient/CDbeta">
                <description>Drag_due_to_sideslip</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                      <table>
                          <independentVar>aero/beta-rad</independentVar>
                          <tableData>
                              -1.5700	1.2300
                              -0.2600	0.0500
                              0.0000	0.0000
                              0.2600	0.0500
                              1.5700	1.2300
                          </tableData>
                      </table>
                </product>
            </function>
            <function name="aero/coefficient/CDde">
                <description>Drag_due_to_Elevator_Deflection</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>fcs/mag-elevator-pos-rad</property>
                    <value>0.0390</value>
                </product>
            </function>
        </axis>

        <axis name="SIDE">
            <function name="aero/coefficient/CYb">
                <description>Side_force_due_to_beta</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>aero/beta-rad</property>
                    <value>-1.4000</value>
                </product>
            </function>
        </axis>

        <axis name="LIFT">
            <function name="aero/coefficient/CLalpha">
                <description>Lift_due_to_alpha</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                      <table>
                          <independentVar>aero/alpha-wing-rad</independentVar>
                          <tableData>
                              -0.2000	-0.7200
                              0.0000	0.2600
                              0.2200	1.4000
                              0.6000	0.8000
                          </tableData>
                      </table>
                </product>
            </function>
            <function name="aero/coefficient/dCLflap">
                <description>Delta_Lift_due_to_flaps</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>fcs/flap-pos-norm</property>
                    <value>0.4000</value>
                </product>
            </function>
            <function name="aero/coefficient/dCLsb">
                <description>Delta_Lift_due_to_speedbrake</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>fcs/speedbrake-pos-norm</property>
                    <value>0.0000</value>
                </product>
            </function>
            <function name="aero/coefficient/dCLsp">
                <description>Delta_Lift_due_to_spoiler</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>fcs/spoiler-pos-norm</property>
                    <value>-0.0500</value>
                </product>
            </function>
            <function name="aero/coefficient/CLde">
                <description>Lift_due_to_Elevator_Deflection</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>fcs/elevator-pos-rad</property>
                    <value>0.2000</value>
                </product>
            </function>
        </axis>

        <axis name="ROLL">
            <function name="aero/coefficient/Clroll">
                <description>Roll_moment_due_to_roll</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>attitude/roll-rad</property>
                    <value>-0.0050</value>
                </product>
            </function>
            <function name="aero/coefficient/Clb">
                <description>Roll_moment_due_to_beta</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>aero/beta-rad</property>
                    <value>-0.2000</value>
                </product>
            </function>
            <function name="aero/coefficient/Clp">
                <description>Roll_moment_due_to_roll_rate</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>aero/bi2vel</property>
                    <property>velocities/p-aero-rad_sec</property>
                    <value>-0.5000</value>
                </product>
            </function>
            <function name="aero/coefficient/Clr">
                <description>Roll_moment_due_to_yaw_rate</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>aero/bi2vel</property>
                    <property>velocities/r-aero-rad_sec</property>
                    <value>0.0000</value>
                </product>
            </function>
            <function name="aero/coefficient/Clda">
                <description>Roll_moment_due_to_aileron</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>fcs/left-aileron-pos-rad</property>
                      <table>
                          <independentVar>velocities/mach</independentVar>
                          <tableData>
                              0.0000	0.1200
                              2.0000	0.0400
                          </tableData>
                      </table>
                </product>
            </function>
            <function name="aero/coefficient/Cldr">
                <description>Roll_moment_due_to_rudder</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>fcs/rudder-pos-rad</property>
                    <value>0.0001</value>
                </product>
            </function>
            <function name="aero/coefficient/Clabc">
                <description>Roll_moment_due_to_auto_bank_control</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>fcs/abc-position</property>
                    <value>0.0070</value>
                </product>
            </function>
        </axis>

        <axis name="PITCH">
            <function name="aero/coefficient/Cmo">
                <description>Pitching_moment_at_zero_alpha</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/cbarw-ft</property>
                    <value>0.0150</value>
                </product>
            </function>
            <function name="aero/coefficient/Cmalpha">
                <description>Pitch_moment_due_to_alpha</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/cbarw-ft</property>
                    <property>aero/alpha-rad</property>
                    <value>-0.4000</value>
                </product>
            </function>
            <function name="aero/coefficient/Cmde">
                <description>Pitch_moment_due_to_elevator</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/cbarw-ft</property>
                    <property>fcs/elevator-pos-rad</property>
                      <table>
                          <independentVar>velocities/mach</independentVar>
                          <tableData>
                              0.0000	-1.0000
                              2.0000	-0.2500
                          </tableData>
                      </table>
                </product>
            </function>
            <function name="aero/coefficient/Cmq">
                <description>Pitch_moment_due_to_pitch_rate</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/cbarw-ft</property>
                    <property>aero/ci2vel</property>
                    <property>velocities/q-aero-rad_sec</property>
                    <value>-50.0000</value>
                </product>
            </function>
            <function name="aero/coefficient/Cmadot">
                <description>Pitch_moment_due_to_alpha_rate</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/cbarw-ft</property>
                    <property>aero/ci2vel</property>
                    <property>aero/alphadot-rad_sec</property>
                    <value>-30.0000</value>
                </product>
            </function>
        </axis>

        <axis name="YAW">
            <function name="aero/coefficient/Cnb">
                <description>Yaw_moment_due_to_beta</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>aero/beta-rad</property>
                    <value>0.1200</value>
                </product>
            </function>
            <function name="aero/coefficient/Cnr">
                <description>Yaw_moment_due_to_yaw_rate</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>aero/bi2vel</property>
                    <property>velocities/r-aero-rad_sec</property>
                    <value>-0.1000</value>
                </product>
            </function>
            <function name="aero/coefficient/Cndr">
                <description>Yaw_moment_due_to_rudder</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>fcs/rudder-pos-rad</property>
                    <value>-0.0150</value>
                </product>
            </function>
            <function name="aero/coefficient/Cnda">
                <description>Adverse_yaw</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>fcs/left-aileron-pos-rad</property>
                    <value>-0.0080</value>
                </product>
            </function>
            <function name="aero/coefficient/Cnabc">
                <description>Yaw_moment_due_to_auto_bank_control</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>fcs/abc-position</property>
                    <value>0.0300</value>
                </product>
            </function>
        </axis>
    </aerodynamics>
</fdm_config>
<?xml version="1.0"?>
<initialize name="reset00">
  <!--
    This file sets up the aircraft to start off
    from the runway in preparation for takeoff.
  -->
  <ubody unit="FT/SEC">    0.0  </ubody>
  <vbody unit="FT/SEC">    0.0  </vbody>
  <wbody unit="FT/SEC">    0.0  </wbody>
  <longitude unit="DEG"> -95.163839  </longitude>
  <latitude unit="DEG">   29.593978  </latitude>
  <phi unit="DEG">         0.0  </phi>
  <theta unit="DEG">       0.0  </theta>
  <psi unit="DEG">         0.0  </psi>
  <altitude unit="FT">     7.1 </altitude>
  <elevation unit="FT"> 2000.0 </elevation>
  <hwind> 0.0 </hwind>
</initialize>
// This file instructs the automatic synchronization utilities where to
// install this aircraft and under what name.
//
// The syntax is easy;
// * the package name at the beginning of a new line followed by a colon
// * a space as a column separator
// * the path and filename relative to the aircraft install directory
//
// Currently known package names are: FlightGear

// Don't install in the FlightGear base package.
//FlightGear:// This file instructs the automatic synchronization utilities where to
// install this aircraft and under what name.
//
// The syntax is easy;
// * the package name at the beginning of a new line followed by a colon
// * a space as a column separator
// * the path and filename relative to the aircraft install directory
//
// Currently known package names are: FlightGear

FlightGear:
<?xml version="1.0"?>
<?xml-stylesheet type="text/xsl" href="http://jsbsim.sourceforge.net/JSBSim.xsl"?>
<fdm_config name="MD11" version="2.0" release="BETA"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:noNamespaceSchemaLocation="http://jsbsim.sourceforge.net/JSBSim.xsd">

    <fileheader>
        <author> Unknown </author>
        <filecreationdate> 2003-01-01 </filecreationdate>
        <version> $Revision: 1.10 $ </version>
        <description> McDonnell Douglas MD-11 </description>
      <note>
        This model was created using publicly available data, publicly available
        technical reports, textbooks, and guesses. It contains no proprietary or
        restricted data. If this model has been validated at all, it would be
        only to the extent that it seems to "fly right", and that it possibly
        complies with published, publicly known, performance data (maximum speed,
        endurance, etc.). Thus, this model is meant for educational and entertainment
        purposes only.

        This simulation model is not endorsed by the manufacturer. This model is not
        to be sold.
      </note>
    </fileheader>

    <metrics>
        <wingarea unit="FT2"> 3648 </wingarea>
        <wingspan unit="FT"> 169.5 </wingspan>
        <chord unit="FT"> 21.52 </chord>
        <htailarea unit="FT2"> 912 </htailarea>
        <htailarm unit="FT"> 90.37 </htailarm>
        <vtailarea unit="FT2"> 729.6 </vtailarea>
        <vtailarm unit="FT"> 0 </vtailarm>
        <location name="AERORP" unit="IN">
            <x> 1325.5 </x>
            <y> 0 </y>
            <z> 0 </z>
        </location>
        <location name="EYEPOINT" unit="IN">
            <x> 168.7 </x>
            <y> -30 </y>
            <z> 75 </z>
        </location>
        <location name="VRP" unit="IN">
            <x> 0 </x>
            <y> 0 </y>
            <z> 0 </z>
        </location>
    </metrics>

    <mass_balance>
        <ixx unit="SLUG*FT2"> 1.3185e+07 </ixx>
        <iyy unit="SLUG*FT2"> 3.83816e+07 </iyy>
        <izz unit="SLUG*FT2"> 5.56127e+07 </izz>
        <emptywt unit="LBS"> 378300 </emptywt>
        <location name="CG" unit="IN">
            <x> 1325.5 </x>
            <y> 0 </y>
            <z> -60.2 </z>
        </location>
    </mass_balance>

    <ground_reactions>
        <contact type="BOGEY" name="NOSE_LG">
            <location unit="IN">
                <x> 313.3 </x>
                <y> 0 </y>
                <z> -289.2 </z>
            </location>
            <static_friction> 0.8 </static_friction>
            <dynamic_friction> 0.5 </dynamic_friction>
            <rolling_friction> 0.02 </rolling_friction>
            <spring_coeff unit="LBS/FT"> 189150 </spring_coeff>
            <damping_coeff unit="LBS/FT/SEC"> 63050 </damping_coeff>
            <max_steer unit="DEG"> 60 </max_steer>
            <brake_group> NONE </brake_group>
            <retractable>1</retractable>
        </contact>
        <contact type="BOGEY" name="LEFT_MLG">
            <location unit="IN">
                <x> 1378.5 </x>
                <y> -183.1 </y>
                <z> -289.2 </z>
            </location>
            <static_friction> 0.8 </static_friction>
            <dynamic_friction> 0.5 </dynamic_friction>
            <rolling_friction> 0.02 </rolling_friction>
            <spring_coeff unit="LBS/FT"> 630500 </spring_coeff>
            <damping_coeff unit="LBS/FT/SEC"> 126100 </damping_coeff>
            <max_steer unit="DEG"> 0.0 </max_steer>
            <brake_group> LEFT </brake_group>
            <retractable>1</retractable>
        </contact>
        <contact type="BOGEY" name="RIGHT_MLG">
            <location unit="IN">
                <x> 1378.5 </x>
                <y> 183.1 </y>
                <z> -289.2 </z>
            </location>
            <static_friction> 0.8 </static_friction>
            <dynamic_friction> 0.5 </dynamic_friction>
            <rolling_friction> 0.02 </rolling_friction>
            <spring_coeff unit="LBS/FT"> 630500 </spring_coeff>
            <damping_coeff unit="LBS/FT/SEC"> 126100 </damping_coeff>
            <max_steer unit="DEG"> 0.0 </max_steer>
            <brake_group> RIGHT </brake_group>
            <retractable>1</retractable>
        </contact>
    </ground_reactions>
    <propulsion>
        <engine file="CF6-80C2">
            <feed>0</feed>
            <thruster file="direct">
                <location unit="IN">
                    <x> 1325.48 </x>
                    <y> -339 </y>
                    <z> -40 </z>
                </location>
                <orient unit="DEG">
                    <roll> 0.0 </roll>
                    <pitch> 0.0 </pitch>
                    <yaw> 0.0 </yaw>
                </orient>
            </thruster>
        </engine>
        <engine file="CF6-80C2">
            <feed>1</feed>
            <thruster file="direct">
                <location unit="IN">
                    <x> 140.83 </x>
                    <y> 0 </y>
                    <z> 60 </z>
                </location>
                <orient unit="DEG">
                    <roll> 0.0 </roll>
                    <pitch> 0.0 </pitch>
                    <yaw> 0.0 </yaw>
                </orient>
            </thruster>
        </engine>
        <engine file="CF6-80C2">
            <feed>2</feed>
            <thruster file="direct">
                <location unit="IN">
                    <x> 1325.48 </x>
                    <y> 339 </y>
                    <z> -40 </z>
                </location>
                <orient unit="DEG">
                    <roll> 0.0 </roll>
                    <pitch> 0.0 </pitch>
                    <yaw> 0.0 </yaw>
                </orient>
            </thruster>
        </engine>
        <tank type="FUEL">    <!-- Tank number 0 -->
            <location unit="IN">
                <x> 1325.48 </x>
                <y> 0 </y>
                <z> -60.249 </z>
            </location>
            <capacity unit="LBS"> 9851.6 </capacity>
            <contents unit="LBS"> 4925.8 </contents>
        </tank>
        <tank type="FUEL">    <!-- Tank number 1 -->
            <location unit="IN">
                <x> 1325.48 </x>
                <y> 0 </y>
                <z> -60.249 </z>
            </location>
            <capacity unit="LBS"> 9851.6 </capacity>
            <contents unit="LBS"> 4925.8 </contents>
        </tank>
        <tank type="FUEL">    <!-- Tank number 2 -->
            <location unit="IN">
                <x> 1325.48 </x>
                <y> 0 </y>
                <z> -60.249 </z>
            </location>
            <capacity unit="LBS"> 9851.6 </capacity>
            <contents unit="LBS"> 4925.8 </contents>
        </tank>
        <tank type="FUEL">    <!-- Tank number 3 -->
            <location unit="IN">
                <x> 1325.48 </x>
                <y> 0 </y>
                <z> -60.249 </z>
            </location>
            <capacity unit="LBS"> 9851.6 </capacity>
            <contents unit="LBS"> 4925.8 </contents>
        </tank>
    </propulsion>
    <flight_control name="FCS: MD11">
        <channel name="Pitch">
            <summer name="Pitch Trim Sum">
                <input>fcs/elevator-cmd-norm</input>
                <input>fcs/pitch-trim-cmd-norm</input>
                <clipto>
                    <min>-1</min>
                    <max>1</max>
                </clipto>
            </summer>

            <aerosurface_scale name="Elevator Control">
                <input>fcs/pitch-trim-sum</input>
                <range>
                    <min>-0.35</min>
                    <max>0.3</max>
                </range>
                <output>fcs/elevator-pos-rad</output>
            </aerosurface_scale>
        </channel>
        <channel name="Roll">
            <summer name="Roll Trim Sum">
                <input>fcs/aileron-cmd-norm</input>
                <input>fcs/roll-trim-cmd-norm</input>
                <clipto>
                    <min>-1</min>
                    <max>1</max>
                </clipto>
            </summer>

            <aerosurface_scale name="Left Aileron Control">
                <input>fcs/roll-trim-sum</input>
                <range>
                    <min>-0.35</min>
                    <max>0.35</max>
                </range>
                <output>fcs/left-aileron-pos-rad</output>
            </aerosurface_scale>

            <aerosurface_scale name="Right Aileron Control">
                <input>-fcs/roll-trim-sum</input>
                <range>
                    <min>-0.35</min>
                    <max>0.35</max>
                </range>
                <output>fcs/right-aileron-pos-rad</output>
            </aerosurface_scale>
        </channel>
        <channel name="Yaw">
            <summer name="Rudder Command Sum">
                <input>fcs/rudder-cmd-norm</input>
                <input>fcs/yaw-trim-cmd-norm</input>
                <clipto>
                    <min>-1</min>
                    <max>1</max>
                </clipto>
            </summer>

            <scheduled_gain name="Yaw Damper Rate">
                <input>velocities/r-aero-rad_sec</input>
                <table>
                    <independentVar>aero/qbar-psf</independentVar>
                    <tableData>
                        3.00  0.00
                       11.00  2.00
                    </tableData>
                </table>
            </scheduled_gain>

            <scheduled_gain name="Yaw Damper Beta">
                <input>aero/beta-rad</input>
                <table>
                    <independentVar>aero/qbar-psf</independentVar>
                    <tableData>
                        3.00  0.00
                       11.00  0.00
                    </tableData>
                </table>
            </scheduled_gain>

            <summer name="Yaw Damper Sum">
                <input>fcs/yaw-damper-beta</input>
                <input>fcs/yaw-damper-rate</input>
                <clipto>
                    <min>-0.2</min>
                    <max>0.2</max>
                </clipto>
            </summer>

            <scheduled_gain name="Yaw Damper Final">
                <input>fcs/yaw-damper-sum</input>
                <table>
                    <independentVar>aero/qbar-psf</independentVar>
                    <tableData>
                        2.99  0.00
                        3.00  1.00
                    </tableData>
                </table>
            </scheduled_gain>

            <summer name="Rudder Sum">
                <input>fcs/rudder-command-sum</input>
                <input>fcs/yaw-damper-final</input>
                <clipto>
                    <min>-1</min>
                    <max>1</max>
                </clipto>
            </summer>

            <aerosurface_scale name="Rudder Control">
                <input>fcs/rudder-sum</input>
                <range>
                    <min>-0.35</min>
                    <max>0.35</max>
                </range>
                <output>fcs/rudder-pos-rad</output>
            </aerosurface_scale>
        </channel>
        <channel name="Flaps">
            <kinematic name="Flaps Control">
                <input>fcs/flap-cmd-norm</input>
                <traverse>
                    <setting>
                        <position>0</position>
                        <time>0</time>
                    </setting>
                    <setting>
                        <position>15</position>
                        <time>4</time>
                    </setting>
                    <setting>
                        <position>30</position>
                        <time>3</time>
                    </setting>
                </traverse>
                <output>fcs/flap-pos-deg</output>
            </kinematic>
            <aerosurface_scale name="Flap Position Normalizer">
              <input>fcs/flap-pos-deg</input>
              <domain>
                <min>0</min>  <!-- Flaps actual minimum position -->
                <max>30</max>  <!-- Flaps actual maximum position -->
              </domain>
              <range>
                <min>0</min>  <!-- Flaps normalized minimum position -->
                <max>1</max>  <!-- Flaps normalized maximum position -->
              </range>
              <output>fcs/flap-pos-norm</output>
            </aerosurface_scale>
        </channel>
        <channel name="Landing Gear">
            <kinematic name="Gear Control">
                <input>gear/gear-cmd-norm</input>
                <traverse>
                    <setting>
                        <position>0</position>
                        <time>0</time>
                    </setting>
                    <setting>
                        <position>1</position>
                        <time>5</time>
                    </setting>
                </traverse>
                <output>gear/gear-pos-norm</output>
            </kinematic>
        </channel>
        <channel name="Speedbrake">
            <kinematic name="Speedbrake Control">
                <input>fcs/speedbrake-cmd-norm</input>
                <traverse>
                    <setting>
                        <position>0</position>
                        <time>0</time>
                    </setting>
                    <setting>
                        <position>1</position>
                        <time>1</time>
                    </setting>
                </traverse>
                <output>fcs/speedbrake-pos-norm</output>
            </kinematic>
        </channel>
    </flight_control>
    <aerodynamics>

        <axis name="DRAG">
            <function name="aero/coefficient/CD0">
                <description>Drag_at_zero_lift</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                      <table>
                          <independentVar>aero/alpha-rad</independentVar>
                          <tableData>
                              -1.5700	1.5000
                              -0.2600	0.0380
                              0.0000	0.0190
                              0.2600	0.0380
                              1.5700	1.5000
                          </tableData>
                      </table>
                </product>
            </function>
            <function name="aero/coefficient/CDi">
                <description>Induced_drag</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>aero/cl-squared</property>
                    <value>0.0420</value>
                </product>
            </function>
            <function name="aero/coefficient/CDmach">
                <description>Drag_due_to_mach</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                      <table>
                          <independentVar>velocities/mach</independentVar>
                          <tableData>
                              0.0000	0.0000
                              0.7900	0.0000
                              1.1000	0.0230
                              1.8000	0.0150
                          </tableData>
                      </table>
                </product>
            </function>
            <function name="aero/coefficient/CDflap">
                <description>Drag_due_to_flaps</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>fcs/flap-pos-norm</property>
                    <value>0.0570</value>
                </product>
            </function>
            <function name="aero/coefficient/CDgear">
                <description>Drag_due_to_gear</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>gear/gear-pos-norm</property>
                    <value>0.0130</value>
                </product>
            </function>
            <function name="aero/coefficient/CDsb">
                <description>Drag_due_to_speedbrakes</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>fcs/speedbrake-pos-norm</property>
                    <value>0.0190</value>
                </product>
            </function>
            <function name="aero/coefficient/CDbeta">
                <description>Drag_due_to_sideslip</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                      <table>
                          <independentVar>aero/beta-rad</independentVar>
                          <tableData>
                              -1.5700	1.2300
                              -0.2600	0.0500
                              0.0000	0.0000
                              0.2600	0.0500
                              1.5700	1.2300
                          </tableData>
                      </table>
                </product>
            </function>
            <function name="aero/coefficient/CDde">
                <description>Drag_due_to_Elevator_Deflection</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>fcs/mag-elevator-pos-rad</property>
                    <value>0.0570</value>
                </product>
            </function>
        </axis>

        <axis name="SIDE">
            <function name="aero/coefficient/CYb">
                <description>Side_force_due_to_beta</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>aero/beta-rad</property>
                    <value>-1.0000</value>
                </product>
            </function>
        </axis>

        <axis name="LIFT">
            <function name="aero/coefficient/CLalpha">
                <description>Lift_due_to_alpha</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                      <table>
                          <independentVar>aero/alpha-rad</independentVar>
                          <tableData>
                              -0.2000	-0.6800
                              0.0000	0.2000
                              0.2300	1.2000
                              0.6000	0.6000
                          </tableData>
                      </table>
                </product>
            </function>
            <function name="aero/coefficient/dCLflap">
                <description>Delta_Lift_due_to_flaps</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>fcs/flap-pos-norm</property>
                    <value>1.5000</value>
                </product>
            </function>
            <function name="aero/coefficient/dCLsb">
                <description>Delta_Lift_due_to_speedbrake</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>fcs/speedbrake-pos-norm</property>
                    <value>-0.0900</value>
                </product>
            </function>
            <function name="aero/coefficient/CLde">
                <description>Lift_due_to_Elevator_Deflection</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>fcs/elevator-pos-rad</property>
                    <value>0.2000</value>
                </product>
            </function>
        </axis>

        <axis name="ROLL">
            <function name="aero/coefficient/Clb">
                <description>Roll_moment_due_to_beta</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>aero/beta-rad</property>
                    <value>-0.1000</value>
                </product>
            </function>
            <function name="aero/coefficient/Clp">
                <description>Roll_moment_due_to_roll_rate</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>aero/bi2vel</property>
                    <property>velocities/p-aero-rad_sec</property>
                    <value>-0.4000</value>
                </product>
            </function>
            <function name="aero/coefficient/Clr">
                <description>Roll_moment_due_to_yaw_rate</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>aero/bi2vel</property>
                    <property>velocities/r-aero-rad_sec</property>
                    <value>0.1500</value>
                </product>
            </function>
            <function name="aero/coefficient/Clda">
                <description>Roll_moment_due_to_aileron</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>fcs/left-aileron-pos-rad</property>
                      <table>
                          <independentVar>velocities/mach</independentVar>
                          <tableData>
                              0.0000	0.1000
                              2.0000	0.0330
                          </tableData>
                      </table>
                </product>
            </function>
            <function name="aero/coefficient/Cldr">
                <description>Roll_moment_due_to_rudder</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>fcs/rudder-pos-rad</property>
                    <value>0.0100</value>
                </product>
            </function>
        </axis>

        <axis name="PITCH">
            <function name="aero/coefficient/Cmalpha">
                <description>Pitch_moment_due_to_alpha</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/cbarw-ft</property>
                    <property>aero/alpha-rad</property>
                    <value>-0.6000</value>
                </product>
            </function>
            <function name="aero/coefficient/Cmde">
                <description>Pitch_moment_due_to_elevator</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/cbarw-ft</property>
                    <property>fcs/elevator-pos-rad</property>
                      <table>
                          <independentVar>velocities/mach</independentVar>
                          <tableData>
                              0.0000	-1.2000
                              2.0000	-0.3000
                          </tableData>
                      </table>
                </product>
            </function>
            <function name="aero/coefficient/Cmq">
                <description>Pitch_moment_due_to_pitch_rate</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/cbarw-ft</property>
                    <property>aero/ci2vel</property>
                    <property>velocities/q-aero-rad_sec</property>
                    <value>-17.0000</value>
                </product>
            </function>
            <function name="aero/coefficient/Cmadot">
                <description>Pitch_moment_due_to_alpha_rate</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/cbarw-ft</property>
                    <property>aero/ci2vel</property>
                    <property>aero/alphadot-rad_sec</property>
                    <value>-6.0000</value>
                </product>
            </function>
        </axis>

        <axis name="YAW">
            <function name="aero/coefficient/Cnb">
                <description>Yaw_moment_due_to_beta</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>aero/beta-rad</property>
                    <value>0.1200</value>
                </product>
            </function>
            <function name="aero/coefficient/Cnr">
                <description>Yaw_moment_due_to_yaw_rate</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>aero/bi2vel</property>
                    <property>velocities/r-aero-rad_sec</property>
                    <value>-0.1500</value>
                </product>
            </function>
            <function name="aero/coefficient/Cndr">
                <description>Yaw_moment_due_to_rudder</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>fcs/rudder-pos-rad</property>
                    <value>-0.1000</value>
                </product>
            </function>
            <function name="aero/coefficient/Cnda">
                <description>Adverse_yaw</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>fcs/left-aileron-pos-rad</property>
                    <value>0.0000</value>
                </product>
            </function>
        </axis>
    </aerodynamics>
</fdm_config>
// This file instructs the automatic synchronization utilities where to
// install this aircraft and under what name.
//
// The syntax is easy;
// * the package name at the beginning of a new line followed by a colon
// * a space as a column separator
// * the path and filename relative to the aircraft install directory
//
// Currently known package names are: FlightGear

FlightGear:
<?xml version="1.0"?>
<?xml-stylesheet type="text/xsl" href="http://jsbsim.sourceforge.net/JSBSim.xsl"?>
<fdm_config name="OV10 Bronco" version="2.0" release="BETA"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:noNamespaceSchemaLocation="http://jsbsim.sourceforge.net/JSBSim.xsd">

    <fileheader>
        <author> Dave Culp, based on Aero-Matic </author>
        <filecreationdate> 2001-01-01 </filecreationdate>
        <version> $Revision: 1.25 $ </version>
        <description> OV-10 Bronco </description>
      <note>
        This model was created using publicly available data, publicly available
        technical reports, textbooks, and guesses. It contains no proprietary or
        restricted data. If this model has been validated at all, it would be
        only to the extent that it seems to "fly right", and that it possibly
        complies with published, publicly known, performance data (maximum speed,
        endurance, etc.). Thus, this model is meant for educational and entertainment
        purposes only.

        This simulation model is not endorsed by the manufacturer. This model is not
        to be sold.
      </note>
    </fileheader>

    <metrics>
        <wingarea unit="FT2"> 291 </wingarea>
        <wingspan unit="FT"> 40 </wingspan>
        <chord unit="FT"> 7.28 </chord>
        <htailarea unit="FT2"> 46.56 </htailarea>
        <htailarm unit="FT"> 20.8 </htailarm>
        <vtailarea unit="FT2"> 52.38 </vtailarea>
        <vtailarm unit="FT"> 18.5 </vtailarm>
        <location name="AERORP" unit="IN">
            <x> 200 </x>
            <y> 0 </y>
            <z> 0 </z>
        </location>
        <location name="EYEPOINT" unit="IN">
            <x> 84.9 </x>
            <y> -18 </y>
            <z> 45 </z>
        </location>
        <location name="VRP" unit="IN">
            <x> 0 </x>
            <y> 0 </y>
            <z> 0 </z>
        </location>
    </metrics>

    <mass_balance>
        <ixx unit="SLUG*FT2"> 19561 </ixx>
        <iyy unit="SLUG*FT2"> 35552 </iyy>
        <izz unit="SLUG*FT2"> 56531 </izz>
        <emptywt unit="LBS">   8640 </emptywt>
        <location name="CG" unit="IN">
            <x> 200.0 </x>
            <y> 0 </y>
            <z> -12.5 </z>
        </location>
    </mass_balance>

    <ground_reactions>
        <contact type="BOGEY" name="NOSE_LG">
            <location unit="IN">
                <x> 64.9 </x>
                <y> 0 </y>
                <z> -59.9 </z>
            </location>
            <static_friction> 0.8 </static_friction>
            <dynamic_friction> 0.5 </dynamic_friction>
            <rolling_friction> 0.02 </rolling_friction>
            <spring_coeff unit="LBS/FT"> 20160 </spring_coeff>
            <damping_coeff unit="LBS/FT/SEC"> 1440 </damping_coeff>
            <max_steer unit="DEG"> 35 </max_steer>
            <brake_group> NONE </brake_group>
            <retractable>1</retractable>
        </contact>
        <contact type="BOGEY" name="LEFT_MLG">
            <location unit="IN">
                <x> 221.0 </x>
                <y> -43.2 </y>
                <z> -58.0 </z>
            </location>
            <static_friction> 0.8 </static_friction>
            <dynamic_friction> 0.5 </dynamic_friction>
            <rolling_friction> 0.02 </rolling_friction>
            <spring_coeff unit="LBS/FT"> 72000 </spring_coeff>
            <damping_coeff unit="LBS/FT/SEC"> 2880 </damping_coeff>
            <max_steer unit="DEG"> 0.0 </max_steer>
            <brake_group> LEFT </brake_group>
            <retractable>1</retractable>
        </contact>
        <contact type="BOGEY" name="RIGHT_MLG">
            <location unit="IN">
                <x> 221.0 </x>
                <y> 43.2 </y>
                <z> -58.0 </z>
            </location>
            <static_friction> 0.8 </static_friction>
            <dynamic_friction> 0.5 </dynamic_friction>
            <rolling_friction> 0.02 </rolling_friction>
            <spring_coeff unit="LBS/FT"> 72000 </spring_coeff>
            <damping_coeff unit="LBS/FT/SEC"> 2880 </damping_coeff>
            <max_steer unit="DEG"> 0.0 </max_steer>
            <brake_group> RIGHT </brake_group>
            <retractable>1</retractable>
        </contact>
    </ground_reactions>
    <propulsion>
        <engine file="T76">
            <feed>0</feed>
            <thruster file="direct">
                <location unit="IN">
                    <x> 190 </x>
                    <y> -80 </y>
                    <z> 0 </z>
                </location>
                <orient unit="DEG">
                    <roll> 0.0 </roll>
                    <pitch> 0.0 </pitch>
                    <yaw> 0.0 </yaw>
                </orient>
            </thruster>
        </engine>
        <engine file="T76">
            <feed>0</feed>
            <thruster file="direct">
                <location unit="IN">
                    <x> 190 </x>
                    <y> 80 </y>
                    <z> 0 </z>
                </location>
                <orient unit="DEG">
                    <roll> 0.0 </roll>
                    <pitch> 0.0 </pitch>
                    <yaw> 0.0 </yaw>
                </orient>
            </thruster>
        </engine>
	<!-- Internal Tank -->
        <tank type="FUEL">    
            <location unit="IN">
                <x> 200 </x>
                <y> 0 </y>
                <z> 12 </z>
            </location>
            <capacity unit="LBS"> 1554 </capacity> <!-- must account for the external tank (3004) -->
            <contents unit="LBS"> 1500 </contents>
        </tank>
	<!-- External Tank -->
        <tank type="FUEL">    
            <location unit="IN">
                <x> 200 </x>
                <y> 0 </y>
                <z> -40 </z>
            </location>
            <capacity unit="LBS"> 1554 </capacity>
            <contents unit="LBS"> 1500 </contents>
        </tank>
	<!-- Mk 82 weight -->
        <tank type="FUEL">    
            <location unit="IN">
                <x> 200 </x>
                <y> 21.5 </y>
                <z> -35 </z>
            </location>
            <capacity unit="LBS"> 500 </capacity>
            <contents unit="LBS"> 500 </contents>
        </tank>
        <tank type="FUEL">    
            <location unit="IN">
                <x> 200 </x>
                <y> -21.5 </y>
                <z> -35 </z>
            </location>
            <capacity unit="LBS"> 500 </capacity>
            <contents unit="LBS"> 500 </contents>
        </tank>
	<!-- LAU 68 weight -->
        <tank type="FUEL">    
            <location unit="IN">
                <x> 200 </x>
                <y> 35.8 </y>
                <z> -30 </z>
            </location>
            <capacity unit="LBS"> 190 </capacity>
            <contents unit="LBS"> 190 </contents>
        </tank>
        <tank type="FUEL">    
            <location unit="IN">
                <x> 200 </x>
                <y> -35.8 </y>
                <z> -30 </z>
            </location>
            <capacity unit="LBS"> 190 </capacity>
            <contents unit="LBS"> 190 </contents>
        </tank>
	<!-- Pilots weight -->
        <tank type="FUEL">    
            <location unit="IN">
                <x> 90 </x>
                <y> 0 </y>
                <z> 10 </z>
            </location>
            <capacity unit="LBS"> 191 </capacity>
            <contents unit="LBS"> 191 </contents>
        </tank>
        <tank type="FUEL">    
            <location unit="IN">
                <x> 150 </x>
                <y> 0 </y>
                <z> 10 </z>
            </location>
            <capacity unit="LBS"> 192 </capacity>
            <contents unit="LBS"> 192 </contents>
        </tank>
	<!-- Rear payload weight -->
        <tank type="FUEL">    
            <location unit="IN">
                <x> 249.6 </x>
                <y> 0 </y>
                <z> 20 </z>
            </location>
            <capacity unit="LBS"> 200 </capacity>
            <contents unit="LBS"> 200 </contents>
        </tank>
	<!-- Paratroopers weight -->
        <tank type="FUEL">    
            <location unit="IN">
                <x> 249.6 </x>
                <y> 0 </y>
                <z> 20 </z>
            </location>
            <capacity unit="LBS"> 1100 </capacity>
            <contents unit="LBS"> 1100 </contents>
        </tank>
    </propulsion>
    <flight_control name="FCS: OV10">

        <channel name="Pitch">
            <summer name="Pitch Trim Sum">
                <input>fcs/elevator-cmd-norm</input>
                <input>fcs/pitch-trim-cmd-norm</input>
                <clipto>
                    <min>-1</min>
                    <max> 1</max>
                </clipto>
            </summer>

            <aerosurface_scale name="Elevator Control">
                <input>fcs/pitch-trim-sum</input>
                <range>
                    <min>-0.35</min>
                    <max> 0.35</max>
                </range>
                <output>fcs/elevator-pos-rad</output>
            </aerosurface_scale>

            <aerosurface_scale name="Elevator Normalized">
                <input>fcs/elevator-pos-rad</input>
                <domain>
                    <min>-0.35</min>
                    <max> 0.35</max>
                </domain>
                <range>
                    <min>-1</min>
                    <max> 1</max>
                </range>
                <output>fcs/elevator-pos-norm</output>
            </aerosurface_scale>
        </channel>

        <channel name="Roll">
            <summer name="Roll Trim Sum">
                <input>fcs/aileron-cmd-norm</input>
                <input>fcs/roll-trim-cmd-norm</input>
                <clipto>
                    <min>-1</min>
                    <max> 1</max>
                </clipto>
            </summer>

            <aerosurface_scale name="Left Aileron Control">
                <input>fcs/roll-trim-sum</input>
                <range>
                    <min>-0.35</min>
                    <max> 0.35</max>
                </range>
                <output>fcs/left-aileron-pos-rad</output>
            </aerosurface_scale>

            <aerosurface_scale name="Right Aileron Control">
                <input>-fcs/roll-trim-sum</input>
                <range>
                    <min>-0.35</min>
                    <max> 0.35</max>
                </range>
                <output>fcs/right-aileron-pos-rad</output>
            </aerosurface_scale>

            <aerosurface_scale name="Left aileron Normalized">
                <input>fcs/left-aileron-pos-rad</input>
                <domain>
                    <min>-0.35</min>
                    <max> 0.35</max>
                </domain>
                <range>
                    <min>-1</min>
                    <max> 1</max>
                </range>
                <output>fcs/left-aileron-pos-norm</output>
            </aerosurface_scale>

            <aerosurface_scale name="Right aileron Normalized">
                <input>fcs/right-aileron-pos-rad</input>
                <domain>
                    <min>-0.35</min>
                    <max> 0.35</max>
                </domain>
                <range>
                    <min>-1</min>
                    <max> 1</max>
                </range>
                <output>fcs/right-aileron-pos-norm</output>
            </aerosurface_scale>
        </channel>

        <channel name="Yaw">
            <summer name="Rudder Command Sum">
                <input>fcs/rudder-cmd-norm</input>
                <input>fcs/yaw-trim-cmd-norm</input>
                <clipto>
                    <min>-1</min>
                    <max>1</max>
                </clipto>
            </summer>

            <aerosurface_scale name="Rudder Control">
                <input>fcs/rudder-command-sum</input>
                <range>
                    <min>-0.35</min>
                    <max>0.35</max>
                </range>
                <output>fcs/rudder-pos-rad</output>
            </aerosurface_scale>

            <aerosurface_scale name="Rudder Normalized">
                <input>fcs/rudder-pos-rad</input>
                <domain>
                    <min>-0.35</min>
                    <max> 0.35</max>
                </domain>
                <range>
                    <min>-1</min>
                    <max> 1</max>
                </range>
                <output>fcs/rudder-pos-norm</output>
            </aerosurface_scale>
        </channel>

        <channel name="Flaps">
            <kinematic name="Flaps Control">
                <input>fcs/flap-cmd-norm</input>
                <traverse>
                    <setting>
                        <position>0</position>
                        <time>0</time>
                    </setting>
                    <setting>
                        <position>0.5</position>
                        <time>4</time>
                    </setting>
                    <setting>
                        <position>1</position>
                        <time>3</time>
                    </setting>
                </traverse>
                <output>fcs/flap-pos-norm</output>
            </kinematic>
        </channel>

        <channel name="Landing Gear">
            <kinematic name="Gear Control">
                <input>gear/gear-cmd-norm</input>
                <traverse>
                    <setting>
                        <position>0</position>
                        <time>0</time>
                    </setting>
                    <setting>
                        <position>1</position>
                        <time>5</time>
                    </setting>
                </traverse>
                <output>gear/gear-pos-norm</output>
            </kinematic>
        </channel>

    </flight_control>

    <aerodynamics>

        <axis name="DRAG">
            <function name="aero/coefficient/CD0">
                <description>Drag_at_zero_lift</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                      <table>
                          <independentVar>aero/alpha-rad</independentVar>
                          <tableData>
                              -1.5700	1.5000
                              -0.2600	0.0700
                              0.0000	0.0350
                              0.2600	0.0700
                              1.5700	1.5000
                          </tableData>
                      </table>
                </product>
            </function>
            <function name="aero/coefficient/CDi">
                <description>Induced_drag</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>aero/cl-squared</property>
                    <value>0.0410</value>
                </product>
            </function>
            <function name="aero/coefficient/CDmach">
                <description>Drag_due_to_mach</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                      <table>
                          <independentVar>velocities/mach</independentVar>
                          <tableData>
                              0.0000	0.0000
                              0.7200	0.0000
                              1.1000	0.0230
                              1.8000	0.0150
                          </tableData>
                      </table>
                </product>
            </function>
            <function name="aero/coefficient/CDflap">
                <description>Drag_due_to_flaps</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>fcs/flap-pos-deg</property>
                    <value>0.0013</value>
                </product>
            </function>
            <function name="aero/coefficient/CDgear">
                <description>Drag_due_to_gear</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>gear/gear-pos-norm</property>
                    <value>0.0500</value>
                </product>
            </function>
            <function name="aero/coefficient/CDbeta">
                <description>Drag_due_to_sideslip</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                      <table>
                          <independentVar>aero/beta-rad</independentVar>
                          <tableData>
                              -1.5700	1.2300
                              -0.2600	0.0700
                              0.0000	0.0000
                              0.2600	0.0700
                              1.5700	1.2300
                          </tableData>
                      </table>
                </product>
            </function>
            <function name="aero/coefficient/CDde">
                <description>Drag_due_to_Elevator_Deflection</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>fcs/mag-elevator-pos-rad</property>
                    <value>0.0390</value>
                </product>
            </function>
            <function name="aero/coefficient/dCDprop">
                <description>Drag_due_to_prop_beta</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                      <table>
                          <independentVar>fcs/throttle-pos-norm</independentVar>
                          <tableData>
                              0.0000	0.0700
                              0.0500	0.0000
                              1.0000	0.0000
                          </tableData>
                      </table>
                </product>
            </function>
        </axis>

        <axis name="SIDE">
            <function name="aero/coefficient/CYb">
                <description>Side_force_due_to_beta</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>aero/beta-rad</property>
                    <value>-1.0000</value>
                </product>
            </function>
        </axis>

        <axis name="LIFT">
            <function name="aero/coefficient/Lalpha">
                <description>Lift_due_to_alpha</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                      <table>
                          <independentVar>aero/alpha-rad</independentVar>
                          <tableData>
                             -0.2000   -0.7200
                              0.0000	0.2400
                              0.2200	1.3000
                              0.6000	0.6640
                          </tableData>
                      </table>
                </product>
            </function>
            <function name="aero/coefficient/dLflap">
                <description>Delta_Lift_due_to_flaps</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>fcs/flap-pos-norm</property>
                    <value>0.66</value>
                </product>
            </function>
            <function name="aero/coefficient/Lde">
                <description>Lift_due_to_Elevator_Deflection</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>fcs/elevator-pos-norm</property> 
                    <value>0.2000</value>
                </product>
            </function>
        </axis>

        <axis name="ROLL">
            <function name="aero/coefficient/Clb">
                <description>Roll_moment_due_to_beta</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>aero/beta-rad</property>
                    <value>-0.1000</value>
                </product>
            </function>
            <function name="aero/coefficient/Clp">
                <description>Roll_moment_due_to_roll_rate</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>aero/bi2vel</property>
                    <property>velocities/p-aero-rad_sec</property>
                    <value>-0.4000</value>
                </product>
            </function>
            <function name="aero/coefficient/Clr">
                <description>Roll_moment_due_to_yaw_rate</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>aero/bi2vel</property>
                    <property>velocities/r-aero-rad_sec</property>
                    <value>0.1500</value>
                </product>
            </function>
            <function name="aero/coefficient/Clda">
                <description>Roll_moment_due_to_aileron</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>fcs/left-aileron-pos-rad</property>
                      <table>
                          <independentVar>velocities/mach</independentVar>
                          <tableData>
                              0.0000	0.1700
                              2.0000	0.0570
                          </tableData>
                      </table>
                </product>
            </function>
            <function name="aero/coefficient/Cldr">
                <description>Roll_moment_due_to_rudder</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>fcs/rudder-pos-rad</property>
                    <value>0.0100</value>
                </product>
            </function>
        </axis>

        <axis name="PITCH">
            <function name="aero/coefficient/Cmalpha">
                <description>Pitch_moment_due_to_alpha</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/cbarw-ft</property>
                    <property>aero/alpha-rad</property>
                    <value>-0.4000</value>
                </product>
            </function>
            <function name="aero/coefficient/Cmde">
                <description>Pitch_moment_due_to_elevator</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/cbarw-ft</property>
                    <property>fcs/elevator-pos-rad</property>
                      <table>
                          <independentVar>velocities/mach</independentVar>
                          <tableData>
                              0.0000	-1.0000
                              2.0000	-0.2500
                          </tableData>
                      </table>
                </product>
            </function>
            <function name="aero/coefficient/Cmq">
                <description>Pitch_moment_due_to_pitch_rate</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/cbarw-ft</property>
                    <property>aero/ci2vel</property>
                    <property>velocities/q-aero-rad_sec</property>
                    <value>-22.0000</value>
                </product>
            </function>
            <function name="aero/coefficient/Cmadot">
                <description>Pitch_moment_due_to_alpha_rate</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/cbarw-ft</property>
                    <property>aero/ci2vel</property>
                    <property>aero/alphadot-rad_sec</property>
                    <value>-8.0000</value>
                </product>
            </function>
        </axis>

        <axis name="YAW">
            <function name="aero/coefficient/Cnb">
                <description>Yaw_moment_due_to_beta</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>aero/beta-rad</property>
                    <value>0.2500</value>
                </product>
            </function>
            <function name="aero/coefficient/Cnr">
                <description>Yaw_moment_due_to_yaw_rate</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>aero/bi2vel</property>
                    <property>velocities/r-aero-rad_sec</property>
                    <value>-0.4000</value>
                </product>
            </function>
            <function name="aero/coefficient/Cndr">
                <description>Yaw_moment_due_to_rudder</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>fcs/rudder-pos-rad</property>
                    <value>-0.1000</value>
                </product>
            </function>
            <function name="aero/coefficient/Cnda">
                <description>Adverse_yaw</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>fcs/left-aileron-pos-rad</property>
                    <value>-0.0050</value>
                </product>
            </function>
        </axis>
    </aerodynamics>
</fdm_config>
<?xml version="1.0"?>
<initialize name="reset00">
  <!--
    This file sets up the aircraft to start off
    from the runway in preparation for takeoff.
  -->
  <ubody unit="FT/SEC">    0.0  </ubody>
  <vbody unit="FT/SEC">    0.0  </vbody>
  <wbody unit="FT/SEC">    0.0  </wbody>
  <latitude unit="DEG">   45.0  </latitude>
  <longitude unit="DEG">  90.0  </longitude>
  <phi unit="DEG">         0.0  </phi>
  <theta unit="DEG">       0.0  </theta>
  <psi unit="DEG">       200.0  </psi>
  <altitude unit="FT">     4.0  </altitude>
</initialize>
<?xml version="1.0"?>
<?xml-stylesheet type="text/xsl" href="http://jsbsim.sourceforge.net/JSBSim.xsl"?>

<fdm_config name="Pterosaur" version="2.0" release="ALPHA"
   xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
   xsi:noNamespaceSchemaLocation="http://jsbsim.sourceforge.net/JSBSim.xsd">

 <fileheader>
  <author> Aeromatic v 2.9.9 </author>
  <filecreationdate> 27 Oct 2015 </filecreationdate>
  <version>$Revision: 1.5 $</version>
  <description> Models a Pterosaur. </description>
 </fileheader>

<!--
  File:     Pterosaur.xml
  Inputs:
    name:          Pterosaur
    type:          glider
    max weight:   352.02 lb
    wing span:     36.75 ft
    length:        32.81 ft
    wing area:     47.36 sq-ft

    gear type:     taildragger
    steering type: steering
    retractable?:  yes

  Outputs:
    wing loading:  9.54 lb/sq-ft
    payload:       104.87 lbs
    CL-alpha:      5.50 per radian
    CL-0:          0.25
    CL-max:        1.40
    CD-0:          0.01
    K:             0.02

  References:
   * "Flight in slow motion: aerodynamics of the pterosaur wing"
      http://rspb.royalsocietypublishing.org/content/278/1713/1881.full.pdf

   * "Multi-Body Simulation of a Flying Pterosaur"
      http://www.simpack.com/fileadmin/simpack/doc/newsletter/2012/Dec_2012/SN-2-Dec-2012_DLR_MBS_Flying_Pterosaur.pdf

   * "Student guest blog post: pterosaur weight estimation"
      http://lorenabarba.com/blog/student-guest-blog-post-pterosaur-weight-estimation/

   *  "Pterosaur flight"
      http://www.transitionrig.com/pterosau.htm

      "These animals were capable of active, flapping flight, accelerating from
      launch to cruise in approximately 15-20 wing strokes. The two animals
      both had a very high aspect ratio and did not connect the flight membrane
      (patagium) to the leg (which carried its own uropatagium and together
      with the tiny biological tail, formed an aerodynamic tail structure).
      When soaring, they both had an L/D max on the rough order of 28:1 (about
      equal to the Carbon Dragon and the WinDancer, and in the case of Qn a
      a similar gross weight), and actively modified their wing planform in a
      manner somewhat similar to birds, but controlled sail camber, chord, and
      planform in the outer wing membrane with fine structures called
      aktinofibrils which were generally oriented more diagonally than sail
      battens. The aktinofibrils worked in diagonal tension, maintaining a
      camber somewhat similar to Selig's S1223, but with a thinner airfoil
      section (outboard, that is - inboard at the elbow (which for Qn measured
      10.5 inches from top to bottom, T/C max was about 32% and the
      aktinofibril orientation was more amorphous).

      Throughout the wing, zero lift occurred at about -8 to -10.5 degrees,
      with a quarter chord pitching moment about -0.3."

   * "The principle of flight of ornithopters"
      http://www.ornithopter.de/english/principle.htm
-->

 <metrics>
   <wingarea  unit="FT2">    47.36 </wingarea>
   <wingspan  unit="FT" >    36.75 </wingspan>
   <wing_incidence>           2.00 </wing_incidence>
   <chord     unit="FT" >     1.29 </chord>
   <htailarea unit="FT2">    63.70 </htailarea>
   <htailarm  unit="FT" >    16.46 </htailarm>
   <vtailarea  unit="FT2">    4.74 </vtailarea>
   <vtailarm  unit="FT" >    16.41 </vtailarm>
   <location name="AERORP" unit="IN">
     <x>   188.99 </x>
     <y>     0.00 </y>
     <z>     0.00 </z>
   </location>
   <location name="EYEPOINT" unit="IN">
     <x>    51.18 </x>
     <y>   -18.00 </y>
     <z>    45.00 </z>
   </location>
   <location name="VRP" unit="IN">
     <x>     0.0 </x>
     <y>     0.0 </y>
     <z>     0.0 </z>
   </location>
 </metrics>

 <mass_balance>
   <ixx unit="SLUG*FT2">    528.43 </ixx>
   <iyy unit="SLUG*FT2">    269.14 </iyy>
   <izz unit="SLUG*FT2">    613.46 </izz>
   <emptywt unit="LBS" >    187.26 </emptywt>
   <location name="CG" unit="IN">
     <x>   188.99 </x>
     <y>     0.00 </y>
     <z>    -9.84 </z>
   </location>
 </mass_balance>

 <propulsion>

   <engine file="dummy">
    <feed> 0 </feed>

    <thruster file="direct">
     <sense> 1 </sense>
     <location unit="IN">
       <x>    36.00 </x>
       <y>     0.00 </y>
       <z>     0.00 </z>
     </location>
     <orient unit="DEG">
       <pitch>     0.00 </pitch>
        <roll>     0.00 </roll>
         <yaw>     0.00 </yaw>
     </orient>
    </thruster>
  </engine>
 </propulsion>

 <ground_reactions>

  <contact type="BOGEY" name="TAIL">
    <location unit="IN">
      <x>   253.18 </x>
      <y>     0.00 </y>
      <z>   -65.62 </z>
    </location>
    <static_friction>  0.80 </static_friction>
    <dynamic_friction> 0.50 </dynamic_friction>
    <rolling_friction> 0.20 </rolling_friction>
    <spring_coeff  unit="LBS/FT">     352 </spring_coeff>
    <damping_coeff unit="LBS/FT/SEC"> 352 </damping_coeff>
    <max_steer unit="DEG"> 20.0 </max_steer>
    <brake_group> NONE </brake_group>
    <retractable> 1 </retractable>
  </contact>

  <contact type="BOGEY" name="LEFT_MAIN">
    <location unit="IN">
      <x>   171.98 </x>
      <y>   -39.69 </y>
      <z>   -72.62 </z>
    </location>
    <static_friction>  0.80 </static_friction>
    <dynamic_friction> 0.50 </dynamic_friction>
    <rolling_friction> 0.02 </rolling_friction>
    <spring_coeff  unit="LBS/FT">     352 </spring_coeff>
    <damping_coeff unit="LBS/FT/SEC"> 176 </damping_coeff>
    <max_steer unit="DEG">0</max_steer>
    <brake_group> LEFT </brake_group>
    <retractable> 1 </retractable>
  </contact>

  <contact type="BOGEY" name="RIGHT_MAIN">
    <location unit="IN">
      <x>   171.98 </x>
      <y>    39.69 </y>
      <z>   -72.62 </z>
    </location>
    <static_friction>  0.80 </static_friction>
    <dynamic_friction> 0.50 </dynamic_friction>
    <rolling_friction> 0.02 </rolling_friction>
    <spring_coeff  unit="LBS/FT">     352 </spring_coeff>
    <damping_coeff unit="LBS/FT/SEC"> 176 </damping_coeff>
    <max_steer unit="DEG">0</max_steer>
    <brake_group> RIGHT </brake_group>
    <retractable> 1 </retractable>
  </contact>

  <contact type="BOGEY" name="LEFT_FRONT">
    <location unit="IN">
      <x>   -23.98 </x>
      <y>   -39.69 </y>
      <z>   -45.62 </z>
    </location>
    <static_friction>  0.80 </static_friction>
    <dynamic_friction> 0.50 </dynamic_friction>
    <rolling_friction> 0.02 </rolling_friction>
    <spring_coeff  unit="LBS/FT">     352 </spring_coeff>
    <damping_coeff unit="LBS/FT/SEC"> 176 </damping_coeff>
    <max_steer unit="DEG">0</max_steer>
    <brake_group> LEFT </brake_group>
    <retractable> 1 </retractable>
  </contact>

  <contact type="BOGEY" name="RIGHT_FRONT">
    <location unit="IN">
      <x>   -23.98 </x>
      <y>    39.69 </y>
      <z>   -45.62 </z>
    </location>
    <static_friction>  0.80 </static_friction>
    <dynamic_friction> 0.50 </dynamic_friction>
    <rolling_friction> 0.02 </rolling_friction>
    <spring_coeff  unit="LBS/FT">     352 </spring_coeff>
    <damping_coeff unit="LBS/FT/SEC"> 176 </damping_coeff>
    <max_steer unit="DEG">0</max_steer>
    <brake_group> RIGHT </brake_group>
    <retractable> 1 </retractable>
  </contact>

  <contact type="STRUCTURE" name="BELLY">
    <location unit="IN">
     <x>     0.00 </x>
     <y>     0.00 </y>
     <z>    -9.84 </z>
    </location>
   <static_friction>  0.3 </static_friction>
   <dynamic_friction> 0.2 </dynamic_friction>
   <spring_coeff unit="LBS/FT">      352 </spring_coeff>
   <damping_coeff unit="LBS/FT/SEC"> 550 </damping_coeff>
  </contact>

  <contact type="STRUCTURE" name="LEFT_WING">
    <location unit="IN">
     <x>   188.99 </x>
     <y>   -18.38 </y>
     <z>    -9.84 </z>
    </location>
   <static_friction>  1 </static_friction>
   <dynamic_friction> 1 </dynamic_friction>
   <spring_coeff unit="LBS/FT">      352 </spring_coeff>
   <damping_coeff unit="LBS/FT/SEC"> 550 </damping_coeff>
  </contact>

  <contact type="STRUCTURE" name="RIGHT_WING">
    <location unit="IN">
     <x>   188.99 </x>
     <y>    18.38 </y>
     <z>    -9.84 </z>
    </location>
   <static_friction>  1 </static_friction>
   <dynamic_friction> 1 </dynamic_friction>
   <spring_coeff unit="LBS/FT">      352 </spring_coeff>
   <damping_coeff unit="LBS/FT/SEC"> 550 </damping_coeff>
  </contact>

 </ground_reactions>

 <system file="Ornithopter Controls.xml"/>
 <system file="Landing Gear.xml"/>
 <system file="Wing Motion.xml"/>

 <flight_control name="FCS: Pterosaur">
 </flight_control>

 <aerodynamics>

  <function name="aero/function/kCLge">
    <description>Change_in_lift_due_to_ground_effect</description>
    <table>
      <independentVar>aero/h_b-mac-ft</independentVar>
      <tableData>
        0.0000        1.3910
        0.1000        1.2350
        0.1500        1.1670
        0.2000        1.1350
        0.3000        1.0850
        0.4000        1.1020
        0.5000        1.0350
        0.6000        1.0240
        0.7000        1.0150
        0.8000        1.0110
        0.9000        1.0060
        1.0000        1.0040
        1.1000        1.0000
      </tableData>
    </table>
  </function>

  <axis name="LIFT">

    <function name="aero/force/Lift_alpha">
      <description>Lift due to alpha of the body</description>
      <product>
          <property>aero/qbar-psf</property>
          <property>metrics/Sw-sqft</property>
          <property>aero/function/kCLge</property>
          <table>
            <independentVar lookup="row">aero/alpha-deg</independentVar>
            <tableData>
             -12.0   -0.750
              0.00    0.250
              12.0    1.400
              35.0    0.710
            </tableData>
          </table>
      </product>
    </function>

    <function name="aero/force/Lift_wing_incidence">
      <description>Lift due to alpha of the wings</description>
      <product>
          <property>aero/qbar-psf</property>
          <property>metrics/Sw-sqft</property>
          <property>aero/function/kCLge</property>
          <property>fcs/wing-fold</property>
          <table>
            <independentVar lookup="row">fcs/wing-alpha-deg</independentVar>
            <tableData>
             -15.0    0.0
             -10.0    0.4
              -5.0    1.0
               0.0    1.5
               5.0    2.0
              10.0    1.9
              15.0    1.5
              20.0    1.0
              30.0    0.4
            </tableData>
          </table>
      </product>
    </function>

    <function name="aero/force/Lift_elevator">
       <description>Lift due to Elevator Deflection</description>
       <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <property>fcs/elevator-pos-rad</property>
           <value> 0.0800 </value>
       </product>
    </function>

  </axis>

  <axis name="DRAG">

    <function name="aero/force/Drag_wing_incidence">
       <description>Delta Drag due to wing angle</description>
       <product>
          <property>aero/qbar-psf</property>
          <property>metrics/Sw-sqft</property>
          <property>fcs/wing-fold</property>
          <table>
            <independentVar lookup="row">fcs/wing-alpha-deg</independentVar>
            <tableData>
             -30.0   -0.800
             -25.0   -0.450
             -20.0   -0.275
             -15.0   -0.080
             -10.0   -0.050
              -5.0   -0.030
               0.0    0.000
               5.0    0.000
              10.0    0.001
              15.0    0.021
              20.0    0.054
              25.0    0.100
              30.0    0.220
            </tableData>
          </table>
       </product>
    </function>

    <function name="aero/force/Drag_basic">
       <description>Drag at zero lift</description>
       <product>
          <property>aero/qbar-psf</property>
          <property>metrics/Sw-sqft</property>
          <table>
            <independentVar lookup="row">aero/alpha-deg</independentVar>
            <tableData>
             -90.0    1.5000
             -60.0    0.0110
               0.0    0.0090
              60.0    0.0110
              90.0    1.5000
            </tableData>
          </table>
       </product>
    </function>

    <function name="aero/force/Drag_induced">
       <description>Induced drag</description>
       <product>
         <property>aero/qbar-psf</property>
         <property>metrics/Sw-sqft</property>
         <property>aero/cl-squared</property>
         <value> 0.0095 </value>
       </product>
    </function>

    <function name="aero/force/Drag_beta">
       <description>Drag due to sideslip</description>
       <product>
          <property>aero/qbar-psf</property>
          <property>metrics/Sw-sqft</property>
          <table>
            <independentVar lookup="row">aero/beta-deg</independentVar>
            <tableData>
              -90.0    1.2300
              -15.0    0.0500
               0.00    0.0000
               15.0    0.0500
               90.0    1.2300
            </tableData>
          </table>
       </product>
    </function>

    <function name="aero/force/Drag_gear">
       <description>Drag due to gear</description>
         <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <property>gear/gear-pos-norm</property>
           <value> 0.1110 </value>
         </product>
    </function>

  </axis>

  <axis name="SIDE">

    <function name="aero/force/Side_beta">
       <description>Side force due to beta</description>
       <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <property>aero/beta-rad</property>
           <value> -1.0000 </value>
       </product>
    </function>

  </axis>

  <axis name="PITCH">

    <function name="aero/moment/Pitch_alpha">
       <description>Pitch moment due to alpha</description>
       <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <property>metrics/cbarw-ft</property>
           <property>aero/alpha-rad</property>
           <value> -0.2500 </value>
       </product>
    </function>

    <function name="aero/moment/Pitch_wing_incidence">
      <description>Pitch due to alpha of the wings</description>
      <product>
          <property>aero/qbar-psf</property>
          <property>metrics/Sw-sqft</property>
          <property>metrics/cbarw-ft</property>
          <property>fcs/wing-fold</property>
          <table>
            <independentVar lookup="row">fcs/wing-alpha-deg</independentVar>
            <tableData>
             -10.0   -0.075
              -5.0   -0.095
               0.0   -0.140
               5.0   -0.142
              10.0   -0.115
              15.0   -0.100
              25.0   -0.092
              30.0   -0.068
            </tableData>
          </table>
      </product>
    </function>

    <function name="aero/moment/Pitch_elevator">
       <description>Pitch moment due to elevator</description>
       <product>
          <property>aero/qbar-psf</property>
          <property>metrics/Sw-sqft</property>
          <property>metrics/cbarw-ft</property>
          <property>fcs/elevator-pos-rad</property>
          <value> -1.2000 </value>
       </product>
    </function>

    <function name="aero/moment/Pitch_damp">
       <description>Pitch moment due to pitch rate</description>
       <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <property>metrics/cbarw-ft</property>
           <property>aero/ci2vel</property>
           <property>velocities/q-aero-rad_sec</property>
           <value> -12.0000 </value>
       </product>
    </function>

    <function name="aero/moment/Pitch_alphadot">
       <description>Pitch moment due to alpha rate</description>
       <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <property>metrics/cbarw-ft</property>
           <property>aero/ci2vel</property>
           <property>aero/alphadot-rad_sec</property>
           <value> -9.0000 </value>
       </product>
    </function>

  </axis>

  <axis name="ROLL">

    <function name="aero/moment/Roll_beta">
       <description>Roll moment due to beta</description>
       <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <property>metrics/bw-ft</property>
           <property>aero/beta-rad</property>
           <value> -0.1000 </value>
       </product>
    </function>

    <function name="aero/moment/Roll_damp">
       <description>Roll moment due to roll rate</description>
       <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <property>metrics/bw-ft</property>
           <property>aero/bi2vel</property>
           <property>velocities/p-aero-rad_sec</property>
           <value> -0.4000 </value>
       </product>
    </function>

    <function name="aero/moment/Roll_yaw">
       <description>Roll moment due to yaw rate</description>
       <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <property>metrics/bw-ft</property>
           <property>aero/bi2vel</property>
           <property>velocities/r-aero-rad_sec</property>
           <value> 0.1500 </value>
       </product>
    </function>

    <function name="aero/moment/Roll_aileron">
       <description>Roll moment due to aileron</description>
       <product>
          <property>aero/qbar-psf</property>
          <property>metrics/Sw-sqft</property>
          <property>metrics/bw-ft</property>
          <property>fcs/left-aileron-pos-rad</property>
          <value> 0.0700 </value>
       </product>
    </function>

  </axis>

  <axis name="YAW">

    <function name="aero/moment/Yaw_beta">
       <description>Yaw moment due to beta</description>
       <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <property>metrics/bw-ft</property>
           <property>aero/beta-rad</property>
           <value> 0.1200 </value>
       </product>
    </function>

    <function name="aero/moment/Yaw_damp">
       <description>Yaw moment due to yaw rate</description>
       <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <property>metrics/bw-ft</property>
           <property>aero/bi2vel</property>
           <property>velocities/r-aero-rad_sec</property>
           <value> -0.1500 </value>
       </product>
    </function>

    <function name="aero/moment/Yaw_aileron">
       <description>Adverse yaw</description>
       <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <property>metrics/bw-ft</property>
           <property>fcs/left-aileron-pos-rad</property>
           <value> -0.0100 </value>
       </product>
    </function>

    <function name="aero/moment/Yaw_rudder">
       <description>Yaw moment due to rudder</description>
       <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <property>metrics/bw-ft</property>
           <property>fcs/rudder-pos-rad</property>
           <value>-0.019</value>
       </product>
    </function>

  </axis>

 </aerodynamics>

 <external_reactions>
  <force name="legs" frame="BODY">
   <location unit="IN">
    <x> 188.99 </x>
    <y>   0.00 </y>
    <z>  -9.84 </z>
   </location>
   <direction>
    <x> 1 </x>
    <y> 0 </y>
    <z> 0 </z>
   </direction>
  </force>
 </external_reactions>

</fdm_config>
<?xml version="1.0"?>
<system name="Landing Gear">
  <channel name="Landing Gear">
   <kinematic name="Landing Gear Control">
     <input>gear/gear-cmd-norm</input>
     <traverse>
       <setting>
          <position> 0 </position>
          <time>     0 </time>
       </setting>
       <setting>
          <position> 1 </position>
          <time>     5 </time>
       </setting>
     </traverse>
     <output>gear/gear-pos-norm</output>
   </kinematic>

   <switch name="Gear Weight on Wheels">
     <default value="0"/>
     <test logic="AND" value="1">
        gear/unit[1]/WOW eq 1
        gear/unit[2]/WOW eq 1
        fcs/throttle-pos-norm eq 0
     </test>
     <output>/controls/gear/brake-parking</output>
   </switch>

   <fcs_function name="Running Force">
      <function>
        <product name="Running Force">
          <property>inertia/weight-lbs</property>
          <property>fcs/throttle-pos-norm</property>
          <value>0.3</value>
        </product>
      </function>
      <output>systems/legs/running-force</output>
   </fcs_function>

   <switch name="Running">
     <default value="0"/>
     <test logic="AND" value="systems/legs/running-force">
        gear/unit[1]/WOW eq 1
        gear/unit[2]/WOW eq 1
        fcs/throttle-pos-norm gt 0
     </test>
     <output>external_reactions/legs/magnitude</output>
   </switch>

  </channel>

</system>
<?xml version="1.0"?>
<system name="Conventional Controls">
  <channel name="Pitch">

   <pure_gain name="Pitch rate norm">
      <input>velocities/q-aero-rad_sec</input>
      <gain>6.2</gain>
      <output>fcs/pitch-rate-norm</output>
   </pure_gain>

   <summer name="Pitch Trim error">
      <input>fcs/elevator-cmd-norm</input>
      <input>fcs/pitch-trim-cmd-norm</input>
      <input>fcs/pitch-rate-norm</input>
      <clipto>
        <min> -1 </min>
        <max>  1 </max>
      </clipto>
      <output>fcs/pitch-trim-error</output>
   </summer>

   <pid name="Pitch pid">
      <input>fcs/pitch-trim-error</input>
      <kp> 0.94737 </kp>
      <ki> 0.00050 </ki>
      <kd> 0.000 </kd>
      <clipto>
         <min>-1</min>
         <max>1</max>
      </clipto>
      <output>fcs/pitch-scheduler</output>
   </pid>

   <kinematic name="Elevator Control">
      <input>fcs/pitch-scheduler</input>
      <traverse>
          <setting>
              <position>-1</position>
              <time>0.3</time>
          </setting>
          <setting>
              <position>1</position>
              <time>0.3</time>
          </setting>
      </traverse>
      <output>fcs/elevator-pos-norm</output>
   </kinematic>

   <aerosurface_scale name="fcs/elevator-position">
      <input>fcs/elevator-pos-norm</input>
      <range>
          <min>-0.45</min>
          <max>0.45</max>
      </range>
      <output>fcs/elevator-pos-rad</output>
   </aerosurface_scale>
  </channel>

  <channel name="Roll">
   <summer name="Roll Trim Sum">
      <input>fcs/aileron-cmd-norm</input>
      <input>fcs/roll-trim-cmd-norm</input>
      <clipto>
        <min> -1 </min>
        <max>  1 </max>
      </clipto>
   </summer>

   <aerosurface_scale name="Left Aileron Control">
      <input>fcs/roll-trim-sum</input>
      <range>
        <min> -0.35 </min>
        <max>  0.35 </max>
      </range>
      <output>fcs/left-aileron-pos-rad</output>
   </aerosurface_scale>

   <aerosurface_scale name="Right Aileron Control">
      <input>-fcs/roll-trim-sum</input>
      <range>
        <min> -0.35 </min>
        <max>  0.35 </max>
      </range>
      <output>fcs/right-aileron-pos-rad</output>
   </aerosurface_scale>

   <aerosurface_scale name="Left Aileron Normalization">
      <input>fcs/left-aileron-pos-rad</input>
      <domain>
        <min> -0.35 </min>
        <max>  0.35 </max>
      </domain>
      <range>
        <min> -1 </min>
        <max>  1 </max>
      </range>
      <output>fcs/left-aileron-pos-norm</output>
   </aerosurface_scale>

   <aerosurface_scale name="Right Aileron Normalization">
      <input>fcs/right-aileron-pos-rad</input>
      <domain>
        <min> -0.35 </min>
        <max>  0.35 </max>
      </domain>
      <range>
        <min> -1 </min>
        <max>  1 </max>
      </range>
      <output>fcs/right-aileron-pos-norm</output>
   </aerosurface_scale>
  </channel>

  <channel name="Yaw">
   <pure_gain name="fcs/scheduled-aileron">
      <input>fcs/aileron-cmd-norm</input>
      <gain>-0.25</gain>
   </pure_gain>

   <aerosurface_scale name="Rudder Control">
      <input>fcs/scheduled-aileron</input>
      <range>
        <min> -0.74 </min>                      <!-- UIUC -->
        <max>  0.74 </max>                      <!-- UIUC -->
      </range>
      <output>fcs/rudder-pos-rad</output>
   </aerosurface_scale>
  </channel>

</system>
<?xml version="1.0"?>
<system name="Wing Flapping">

  <property value="0">fcs/wing-pos-linear</property>

  <channel name="Wing Motion">

    <switch name="Wing Fold Request">
     <default value="1"/>
     <test value="0">
        /controls/flight/wing-fold eq 1
     </test>
     <output>fcs/wing-not-fold</output>
   </switch>

    <kinematic name="Winfg Folding Control">
     <input>fcs/wing-not-fold</input>
     <traverse>
       <setting>
          <position> 0 </position>
          <time>     0 </time>
       </setting>
       <setting>
          <position> 1 </position>
          <time>     1.1 </time>
       </setting>
     </traverse>
     <output>fcs/wing-fold</output>
   </kinematic>

    <!--
      bind to: simulation/dt
      Speed up Flapping based on: fcs/throttle-pos-norm
    -->
    <fcs_function name="Wing Flap Frequency Control">
      <function>
        <product name="Wing Flap Frequency Control">
          <property>simulation/dt</property>
          <property>fcs/throttle-pos-norm</property>
          <value>3.33</value>
        </product>
      </function>
      <output>fcs/wing-flap-advance</output>
    </fcs_function>

    <summer name="Wing Position Updater">
      <input>fcs/wing-pos-linear</input>
      <input>fcs/wing-flap-advance</input>
      <output>fcs/wing-pos-linear</output>
    </summer>

    <!-- fcs/wing-pos-linear %= 2π -->
    <fcs_function name="Wing Position Range Limiter">
      <function>
        <ifthen>
          <ge>
            <property>fcs/wing-pos-linear</property>
            <value>6.28318530717958647692</value>
          </ge>
          <sum>
            <property>fcs/wing-pos-linear</property>
            <value>-6.28318530717958647692</value>
          </sum>
          <property>fcs/wing-pos-linear</property>
        </ifthen>
      </function>
      <output>fcs/wing-pos-linear</output>
    </fcs_function>

    <!-- Google: y = 20.0 * cos(x + 0.25*cos(x))         -->
    <fcs_function name="Wing Flap Motion">
      <function>
        <product>	<!-- 20.0 * cos(x + 0.25*cos(0.75*x))     -->
          <value>20.0</value>
          <property>fcs/throttle-pos-norm</property>
          <cos>				<!-- cos(x + 0.25*cos(x)) -->
            <sum>				<!-- x + 0.25*cos(x)      -->
              <property>fcs/wing-pos-linear</property>
              <product>			<!-- 0.25*cos(x)          -->
                <value>0.25</value>
                <cos>				<!-- cos(x)               -->
                  <property>fcs/wing-pos-linear</property>
                </cos>
              </product>
            </sum>
          </cos>
        </product>
      </function>
      <output>fcs/wing-alpha-scaled-deg</output>
    </fcs_function>

    <summer>
      <input>-aero/alpha-deg</input>
      <input>fcs/wing-alpha-scaled-deg</input>
      <output>fcs/wing-alpha-deg</output>
      <clipto>
        <min>-30.0</min>
        <max> 30.0</max>
      </clipto>
    </summer>

  </channel>
</system>
// This file instructs the automatic synchronization utilities where to
// install this aircraft and under what name.
//
// The syntax is easy;
// * the package name at the beginning of a new line followed by a colon
// * a space as a column separator
// * the path and filename relative to the aircraft install directory
//
// Currently known package names are: FlightGear

// Don't install in the FlightGear base package.
//FlightGear:
<?xml version="1.0"?>
<?xml-stylesheet type="text/xsl" href="http://jsbsim.sourceforge.net/JSBSim.xsl"?>
<fdm_config name="sgstest" version="2.0" release="BETA"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:noNamespaceSchemaLocation="http://jsbsim.sourceforge.net/JSBSim.xsd">

    <fileheader>
        <author> Unknown </author>
        <filecreationdate>2001-01-01</filecreationdate>
        <version> $Revision: 1.18 $ </version>
        <description> SGS Glider </description>
      <note>
        This model was created using publicly available data, publicly available
        technical reports, textbooks, and guesses. It contains no proprietary or
        restricted data. If this model has been validated at all, it would be
        only to the extent that it seems to "fly right", and that it possibly
        complies with published, publicly known, performance data (maximum speed,
        endurance, etc.). Thus, this model is meant for educational and entertainment
        purposes only.

        This simulation model is not endorsed by the manufacturer. This model is not
        to be sold.
      </note>
    </fileheader>

    <metrics>
        <wingarea unit="FT2"> 140.72 </wingarea>
        <wingspan unit="FT"> 46.17 </wingspan>
        <chord unit="FT"> 3.28 </chord>
        <htailarea unit="FT2"> 13.15 </htailarea>
        <htailarm unit="FT"> 13 </htailarm>
        <vtailarea unit="FT2"> 10.44 </vtailarea>
        <vtailarm unit="FT"> 0 </vtailarm>
        <location name="AERORP" unit="IN">
            <x> 0 </x>
            <y> 0 </y>
            <z> 12 </z>
        </location>
        <location name="EYEPOINT" unit="IN">
            <x> 0 </x>
            <y> 0 </y>
            <z> 0 </z>
        </location>
        <location name="VRP" unit="IN">
            <x> 0 </x>
            <y> 0 </y>
            <z> 0 </z>
        </location>
    </metrics>

    <mass_balance negated_crossproduct_inertia="true">
        <ixx unit="SLUG*FT2"> 1015 </ixx>
        <iyy unit="SLUG*FT2"> 672 </iyy>
        <izz unit="SLUG*FT2"> 1663 </izz>
        <ixz unit="SLUG*FT2"> -54.5 </ixz>
        <emptywt unit="LBS"> 710 </emptywt>
        <location name="CG" unit="IN">
            <x> 0 </x>
            <y> 0 </y>
            <z> 0 </z>
        </location>
        <pointmass name="name">
            <weight unit="LBS"> 0 </weight>
            <location name="POINTMASS" unit="IN">
                <x> 0 </x>
                <y> 0 </y>
                <z> 0 </z>
            </location>
        </pointmass>
    </mass_balance>

    <ground_reactions>
        <contact type="BOGEY" name="NOSE">
            <location unit="IN">
                <x> 0 </x>
                <y> 0 </y>
                <z> 0 </z>
            </location>
            <static_friction> 0.8 </static_friction>
            <dynamic_friction> 0.5 </dynamic_friction>
            <rolling_friction> 0.02 </rolling_friction>
            <spring_coeff unit="LBS/FT"> 1800 </spring_coeff>
            <damping_coeff unit="LBS/FT/SEC"> 600 </damping_coeff>
            <max_steer unit="DEG"> 10 </max_steer>
            <brake_group> NONE </brake_group>
            <retractable>0</retractable>
        </contact>
        <contact type="BOGEY" name="LEFT_MAIN">
            <location unit="IN">
                <x> 0 </x>
                <y> 0 </y>
                <z> 0 </z>
            </location>
            <static_friction> 0.8 </static_friction>
            <dynamic_friction> 0.5 </dynamic_friction>
            <rolling_friction> 0.02 </rolling_friction>
            <spring_coeff unit="LBS/FT"> 5400 </spring_coeff>
            <damping_coeff unit="LBS/FT/SEC"> 1600 </damping_coeff>
            <max_steer unit="DEG"> 360.0 </max_steer>
            <brake_group> LEFT </brake_group>
            <retractable>0</retractable>
        </contact>
        <contact type="BOGEY" name="RIGHT_MAIN">
            <location unit="IN">
                <x> 0 </x>
                <y> 0 </y>
                <z> 0 </z>
            </location>
            <static_friction> 0.8 </static_friction>
            <dynamic_friction> 0.5 </dynamic_friction>
            <rolling_friction> 0.02 </rolling_friction>
            <spring_coeff unit="LBS/FT"> 5400 </spring_coeff>
            <damping_coeff unit="LBS/FT/SEC"> 1600 </damping_coeff>
            <max_steer unit="DEG"> 360.0 </max_steer>
            <brake_group> RIGHT </brake_group>
            <retractable>0</retractable>
        </contact>
        <contact type="BOGEY" name="TAIL_SKID">
            <location unit="IN">
                <x> 0 </x>
                <y> 0 </y>
                <z> 0 </z>
            </location>
            <static_friction> 0.2 </static_friction>
            <dynamic_friction> 0.2 </dynamic_friction>
            <rolling_friction> 0.2 </rolling_friction>
            <spring_coeff unit="LBS/FT"> 20000 </spring_coeff>
            <damping_coeff unit="LBS/FT/SEC"> 1000 </damping_coeff>
            <max_steer unit="DEG"> 0.0 </max_steer>
            <brake_group> NONE </brake_group>
            <retractable>0</retractable>
        </contact>
        <contact type="BOGEY" name="LEFT_TIP">
            <location unit="IN">
                <x> 0 </x>
                <y> 0 </y>
                <z> 0 </z>
            </location>
            <static_friction> 0.2 </static_friction>
            <dynamic_friction> 0.2 </dynamic_friction>
            <rolling_friction> 0.2 </rolling_friction>
            <spring_coeff unit="LBS/FT"> 10000 </spring_coeff>
            <damping_coeff unit="LBS/FT/SEC"> 2000 </damping_coeff>
            <max_steer unit="DEG"> 0.0 </max_steer>
            <brake_group> NONE </brake_group>
            <retractable>0</retractable>
        </contact>
        <contact type="BOGEY" name="RIGHT_TIP">
            <location unit="IN">
                <x> 0 </x>
                <y> 0 </y>
                <z> 0 </z>
            </location>
            <static_friction> 0.2 </static_friction>
            <dynamic_friction> 0.2 </dynamic_friction>
            <rolling_friction> 0.2 </rolling_friction>
            <spring_coeff unit="LBS/FT"> 10000 </spring_coeff>
            <damping_coeff unit="LBS/FT/SEC"> 2000 </damping_coeff>
            <max_steer unit="DEG"> 0.0 </max_steer>
            <brake_group> NONE </brake_group>
            <retractable>0</retractable>
        </contact>
    </ground_reactions>
    <propulsion>
    </propulsion>
    <flight_control name="FCS: c172">
        <channel name="">
            <summer name="Pitch Trim Sum">
                <input>fcs/elevator-cmd-norm</input>
                <input>fcs/pitch-trim-cmd-norm</input>
                <clipto>
                    <min>-1</min>
                    <max>1</max>
                </clipto>
            </summer>

            <aerosurface_scale name="Elevator Control">
                <input>fcs/pitch-trim-sum</input>
                <gain>0.01745</gain>
                <range>
                    <min>-28</min>
                    <max>23</max>
                </range>
                <output>fcs/elevator-pos-rad</output>
            </aerosurface_scale>
        </channel>
        <channel name="Roll">
            <summer name="Roll Trim Sum">
                <input>fcs/aileron-cmd-norm</input>
                <input>fcs/roll-trim-cmd-norm</input>
                <clipto>
                    <min>-1</min>
                    <max>1</max>
                </clipto>
            </summer>

            <aerosurface_scale name="Aileron Control">
                <input>fcs/aileron-cmd-norm</input>
                <gain>0.01745</gain>
                <range>
                    <min>-20</min>
                    <max>15</max>
                </range>
                <output>fcs/left-aileron-pos-rad</output>
            </aerosurface_scale>
        </channel>
        <channel name="Yaw">
            <summer name="Yaw Trim Sum">
                <input>fcs/rudder-cmd-norm</input>
                <input>fcs/yaw-trim-cmd-norm</input>
                <clipto>
                    <min>-1</min>
                    <max>1</max>
                </clipto>
            </summer>

            <aerosurface_scale name="Rudder Control">
                <input>fcs/rudder-cmd-norm</input>
                <gain>0.01745</gain>
                <range>
                    <min>-16</min>
                    <max>16</max>
                </range>
                <output>fcs/rudder-pos-rad</output>
            </aerosurface_scale>
        </channel>
        <channel name="Flaps">
            <kinematic name="Flaps Control">
                <input>fcs/flap-cmd-norm</input>
                <traverse>
                    <setting>
                        <position>0</position>
                        <time>0</time>
                    </setting>
                    <setting>
                        <position>10</position>
                        <time>2</time>
                    </setting>
                    <setting>
                        <position>20</position>
                        <time>1</time>
                    </setting>
                    <setting>
                        <position>30</position>
                        <time>1</time>
                    </setting>
                </traverse>
                <output>fcs/flap-pos-deg</output>
            </kinematic>
            <aerosurface_scale name="Flap Position Normalizer">
              <input>fcs/flap-pos-deg</input>
              <domain>
                <min>0</min>  <!-- Flaps actual minimum position -->
                <max>30</max>  <!-- Flaps actual maximum position -->
              </domain>
              <range>
                <min>0</min>  <!-- Flaps normalized minimum position -->
                <max>1</max>  <!-- Flaps normalized maximum position -->
              </range>
              <output>fcs/flap-pos-norm</output>
            </aerosurface_scale>
        </channel>
    </flight_control>
    <aerodynamics>

        <function name="aero/function/kCLge">
            <description>Change_in_lift_due_to_ground_effect</description>
            <table>
                <independentVar>aero/h_b-mac-ft</independentVar>
                <tableData>
                    0.0000	1.2030
                    0.1000	1.1270
                    0.1500	1.0900
                    0.2000	1.0730
                    0.3000	1.0460
                    0.4000	1.0550
                    0.5000	1.0190
                    0.6000	1.0130
                    0.7000	1.0080
                    0.8000	1.0060
                    0.9000	1.0030
                    1.0000	1.0020
                    1.1000	1.0000
                </tableData>
            </table>
        </function>

        <axis name="DRAG">
            <function name="aero/coefficient/CDo">
                <description>Drag_at_zero_lift</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <value>0.0007</value>
                </product>
            </function>
            <function name="aero/coefficient/CDwbh">
                <description>Drag_due_to_alpha</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                      <table>
                          <independentVar lookup="row">aero/alpha-rad</independentVar>
                          <!-- <independentVar lookup="column">fcs/flap-pos-deg</independentVar> -->
                          <tableData>
                              -0.0175	0.0100
                              0.0000	0.0150
                              0.0175	0.0200
                              0.0349	0.0250
                              0.0524	0.0300
                              0.0698	0.0350
                              0.0873	0.0400
                              0.1745	0.1000
                              0.2618	0.2300
                              0.3491	0.3700
                              0.4363	0.5000
                              0.5236	0.6000
                              0.6109	0.7600
                              0.6981	0.8500
                              0.7854	0.9600
                              0.8727	1.0600
                              0.9599	1.1400
                              1.0472	1.2200
                              1.2217	1.3800
                              1.3963	1.5000
                              1.5708	1.4600
                          </tableData>
                      </table>
                </product>
            </function>
            <function name="aero/coefficient/CDDe">
                <description>Drag_due_to_Elevator_Deflection</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                      <table>
                          <independentVar>fcs/elevator-pos-norm</independentVar>
                          <tableData>
                              -1.0000	0.1140
                              0.0000	0.0000
                              1.0000	0.1140
                          </tableData>
                      </table>
                </product>
            </function>
        </axis>

        <axis name="SIDE">
            <function name="aero/coefficient/CYb">
                <description>Side_force_due_to_beta</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>aero/beta-rad</property>
                    <value>-0.2850</value>
                </product>
            </function>
            <function name="aero/coefficient/CYda">
                <description>Side_force_due_to_aileron</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>fcs/left-aileron-pos-rad</property>
                    <value>-0.0456</value>
                </product>
            </function>
            <function name="aero/coefficient/CYdr">
                <description>Side_force_due_to_rudder</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>fcs/rudder-pos-rad</property>
                    <value>0.1880</value>
                </product>
            </function>
        </axis>

        <axis name="LIFT">
            <function name="aero/coefficient/CLwbh">
                <description>Lift_due_to_alpha</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>aero/function/kCLge</property>
                      <table>
                          <independentVar>aero/alpha-rad</independentVar>
                          <tableData>
                              -0.0175	0.4300
                              0.0000	0.4800
                              0.0175	0.5600
                              0.0349	0.6400
                              0.0524	0.7100
                              0.0698	0.7800
                              0.0873	0.8200
                              0.1047	0.9200
                              0.1222	0.9900
                              0.1369	1.0600
                              0.1571	1.1000
                              0.1745	1.1600
                              0.1920	1.2200
                              0.2094	1.2500
                              0.2269	1.2600
                              0.2444	1.2500
                              0.2618	1.2400
                              0.2793	1.2100
                              0.2967	1.1600
                              0.3142	1.1400
                              0.3316	1.1400
                              0.3491	1.0900
                              0.4363	0.9800
                              0.5236	0.8800
                              0.6109	0.8300
                              0.6981	0.8400
                              0.7854	0.8200
                              0.8727	0.7900
                              0.9599	0.7400
                              1.0472	0.6600
                              1.2217	0.4700
                              1.3963	0.2600
                              1.5708	0.0300
                          </tableData>
                      </table>
                </product>
            </function>
            <function name="aero/coefficient/CLDe">
                <description>Lift_due_to_Elevator_Deflection</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>fcs/elevator-pos-rad</property>
                    <value>0.3420</value>
                </product>
            </function>
        </axis>

        <axis name="ROLL">
            <function name="aero/coefficient/Clo">
                <description>Roll_moment_due_to_vertical_tail_incidence</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <value>-0.0000</value>
                </product>
            </function>
            <function name="aero/coefficient/Clb">
                <description>Roll_moment_due_to_beta</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>aero/beta-rad</property>
                    <value>-0.0513</value>
                </product>
            </function>
            <function name="aero/coefficient/Clp">
                <description>Roll_moment_due_to_roll_rate_(roll_damping)</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>aero/bi2vel</property>
                    <property>velocities/p-aero-rad_sec</property>
                    <value>-0.4700</value>
                </product>
            </function>
            <function name="aero/coefficient/Clr">
                <description>Roll_moment_due_to_yaw_rate</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>aero/bi2vel</property>
                    <property>velocities/r-aero-rad_sec</property>
                    <value>0.1500</value>
                </product>
            </function>
            <function name="aero/coefficient/Clda">
                <description>Roll_moment_due_to_aileron</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>fcs/left-aileron-pos-rad</property>
                    <value>0.2520</value>
                </product>
            </function>
            <function name="aero/coefficient/Cldr">
                <description>Roll_moment_due_to_rudder</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>fcs/rudder-pos-rad</property>
                    <value>0.0046</value>
                </product>
            </function>
        </axis>

        <axis name="PITCH">
            <function name="aero/coefficient/Cmalpha">
                <description>Pitch_moment_due_to_alpha</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/cbarw-ft</property>
                    <property>aero/alpha-rad</property>
                    <value>-0.5730</value>
                </product>
            </function>
            <function name="aero/coefficient/Cmq">
                <description>Pitch_moment_due_to_pitch_rate</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/cbarw-ft</property>
                    <property>aero/ci2vel</property>
                    <property>velocities/q-aero-rad_sec</property>
                    <value>-9.0000</value>
                </product>
            </function>
            <function name="aero/coefficient/Cmadot">
                <description>Pitch_moment_due_to_alpha_rate</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/cbarw-ft</property>
                    <property>aero/ci2vel</property>
                    <property>aero/alphadot-rad_sec</property>
                    <value>-5.2000</value>
                </product>
            </function>
            <function name="aero/coefficient/Cmo">
                <description>Pitching_moment_at_zero_alpha</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/cbarw-ft</property>
                    <value>0.0000</value>
                </product>
            </function>
            <function name="aero/coefficient/Cmde">
                <description>Pitch_moment_due_to_elevator_deflection</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/cbarw-ft</property>
                    <property>fcs/elevator-pos-rad</property>
                    <value>-1.0088</value>
                </product>
            </function>
        </axis>

        <axis name="YAW">
            <function name="aero/coefficient/Cnb">
                <description>Yaw_moment_due_to_beta</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>aero/beta-rad</property>
                    <value>0.0170</value>
                </product>
            </function>
            <function name="aero/coefficient/Cnp">
                <description>Yaw_moment_due_to_roll_rate</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>aero/bi2vel</property>
                    <property>velocities/p-aero-rad_sec</property>
                    <value>-0.1800</value>
                </product>
            </function>
            <function name="aero/coefficient/Cnr">
                <description>Yaw_moment_due_to_yaw_rate</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>aero/bi2vel</property>
                    <property>velocities/r-aero-rad_sec</property>
                    <value>-0.0250</value>
                </product>
            </function>
            <function name="aero/coefficient/Cnda">
                <description>Yaw_moment_due_to_aileron</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>fcs/left-aileron-pos-rad</property>
                    <value>0.0115</value>
                </product>
            </function>
            <function name="aero/coefficient/Cndr">
                <description>Yaw_moment_due_to_rudder</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>fcs/rudder-pos-rad</property>
                    <value>-0.0740</value>
                </product>
            </function>
        </axis>
    </aerodynamics>
</fdm_config>
<?xml version="1.0"?>
<initialize name="reset00">
  <!--
    This file sets up the aircraft to start off
    from the runway in preparation for takeoff.
  -->
  UBODY       0.0
  VBODY       0.0
  WBODY       0.0
  LATITUDE   47.0
  LONGITUDE 122.0
  PHI         0.0
  THETA       0.0
  PSI       150.0
  ALTITUDE    5.5
  WINDDIR     120.0
  VWIND       20.0
</initialize>
// This file instructs the automatic synchronization utilities where to
// install this aircraft and under what name.
//
// The syntax is easy;
// * the package name at the beginning of a new line followed by a colon
// * a space as a column separator
// * the path and filename relative to the aircraft install directory
//
// Currently known package names are: FlightGear

// Don't install in the FlightGear base package.
//FlightGear:
<?xml version="1.0"?>
<!--

  Short S.23 flying boat flight model for JSBSim.

    Copyright (C) 2008 - 2023  Anders Gidenstam  (anders(at)gidenstam.org)

    This program is free software; you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation; either version 2 of the License, or
    (at your option) any later version.
  
    This program is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.
  
    You should have received a copy of the GNU General Public License
    along with this program; if not, write to the Free Software
    Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA
  
-->
<?xml-stylesheet type="text/xsl" href="http://jsbsim.sourceforge.net/JSBSim.xsl"?>
<fdm_config name="Short S.23" version="2.0" release="BETA"
   xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
   xsi:noNamespaceSchemaLocation="http://jsbsim.sourceforge.net/JSBSim.xsd">

 <fileheader>
  <author>Anders Gidenstam / DATCOM+ / Aeromatic v 0.9</author>
  <email>anders at gidenstam dot org</email>

  <filecreationdate>2008-11-05</filecreationdate>
  <version>$Id: Short_S23.xml,v 1.48 2018/11/12 19:51:36 anders Exp $</version>

  <description>Models a Short S.23 flying boat.</description>

  <license>
   <licenseName>GPL</licenseName>
   <licenseURL>http://www.gnu.org/licenses/gpl.html</licenseURL>
  </license>
  <note>
   This model was created using publicly available data, publicly available
   technical reports, textbooks, and guesses. It contains no proprietary or
   restricted data. It has been validated only to the extent that it may seem
   to "fly right", and possibly to comply to published, publicly known, 
   performance data (maximum speed, endurance, etc.). Thus, this model is
   meant for educational and entertainment purposes only.

   This simulation model is not endorsed by the manufacturer.

   This model is distributed in the hope that it will be useful,
   but WITHOUT ANY WARRANTY; without even the implied warranty of
   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
   GNU General Public License for more details.
  </note>

  <reference refID="Sims:2000:AE"
             author="Phillip E. Sims"
             title="Adventurous Empires  The story of the Short Empire Flying-Boats"
             date="2000"/>
  <reference refID="Cassidy:2004:FE"
             author="Brian Cassidy"
             title="Flying Empires  Short 'C' class flying boats"
             date="2004"/>
  <reference refID="Short:RN-3-1-37"
             author="Short Bros."
             title="Short 'C' class aircraft  Maintenance Handbook"
             date="1937"/>
  <reference refID="ERefs:2008"
             author=""
             title="http://www.seawings.co.uk/EmpireRefspage.htm"
             date="5 Nov 2008"/>
  <reference refID="Dawson:1934:Clipper"
             author="John R. Dawson"
             title="A complete tank test of the hull of the Sikorsky S-40 flying boat - American Clipper Class;  NACA Thechnical Notes #512"
             date="1934"/>
  <reference refID="CAB:1943"
             author="http://www.enginehistory.org/Accessories/Carburetion/Carburetion.shtml"
             title="Carburetion as Applied to Bristol Aero Engines"
             date="1943"/>
  <reference refID="Cassidy:OWM:2013"
             author="Brian Cassidy"
             title="Empire Flying Boat  Owner's Workshop Manual"
             date="2013"/>

 </fileheader>

<!--
  Aeromatic v 0.9 input:
  File:     Short S.23.xml
  Inputs:
    name:          Short S.23
    type:          multi-engine prop transport
    max weight:    40505.85 lb
    wing span:     114.01475 ft
    length:        88.2589 ft
    wing area:     1510.1142 sq-ft
    gear type:     tricycle
    retractable?:  no
    # engines:     4
    engine type:   piston
    engine layout: wings
    yaw damper?    no

  Outputs:
    wing loading:  26.82 lb/sq-ft
    CL-alpha:      4.9 per radian
    CL-0:          0.24
    CL-max:        1.4
    CD-0:          0.028
    K:             0.039

-->

 <documentation>
  The origin of the structural frame is at the nose of the aircraft.
  The coordinate system is aligned with the hull datum line.
  "The line of the keel from Frame 10 aft to Frames 20/21 formed the
   hull datum line." [Cassidy:2004:FE]
  Cf. also the 3d model coordinate system in the model XML file.
 </documentation>

 <metrics>
  <!-- Numbers from DATCOM. Appears to be the theoretical values where not
       manually set. -->
  <wingarea unit="FT2">     1510.0000  </wingarea>
  <wingspan unit="FT">       114.0000  </wingspan>
  <chord unit="FT">           16.4583  </chord>
  <htailarea unit="FT2">     226.6750  </htailarea>
  <htailarm unit="FT">        12.2147  </htailarm>
  <vtailarea unit="FT2">     319.0423  </vtailarea>
  <vtailarm unit="FT">        17.2533  </vtailarm>
<!-- Numbers from Aeromatic -->
<!--
   <wingarea  unit="FT2"> 1510.00 </wingarea>
   <wingspan  unit="FT" >  114.00 </wingspan>
   <wing_incidence>          2.00 </wing_incidence>
   <chord     unit="FT" >   13.24 </chord>
   <htailarea unit="FT2">  241.62 </htailarea>
   <htailarm  unit="FT" >   44.13 </htailarm>
   <vtailarea unit="FT2">  271.82 </vtailarea>
   <vtailarm  unit="FT" >   44.13 </vtailarm>
-->
   <location name="AERORP" unit="M">
     <x> 8.68 </x>
     <y> 0.00 </y>
     <z> 2.35 </z>
   </location>
   <location name="EYEPOINT" unit="M">
     <x> 2.05 </x>
     <y> 2.50 </y>
     <z> 0.00 </z>
   </location>
   <location name="VRP" unit="M">
     <x> 0.00 </x>
     <y> 0.00 </y>
     <z> 0.00 </z>
   </location>
 </metrics>

 <mass_balance>
  <documentation>
   The inertia was estimated by Aeromatic.
   CG location X-coordinate is based on [Short:RN-3-1-37].
   However, the document is not very clear. My assumption is that the
   datum marker plate is located on the bulkhead of frame 15/16.
   "C.G. is 4.56ft aft of datum point measured parallel to hull datum."
   "Datum plate in spar compartment is 19.65 in. aft of datum point measured
    parallel to hull datum. Permissible CG limits 55.5" to 66.8" aft of
    datum point measured parallel to hull datum." ([Short:RN-3-1-37])

   Based on the drawings the frame 15/16 bulkhead is 8.25 meters behind the
   origin of the FDM structural frame.

   Revised datum location based on 1:48 GA drawing: 7.728 meters behind the
   origin of the FDM structural frame.
   The resulting permissible range for the CG x coordinate is
   359.75in to 371.05in in the structural frame.

   Empty weight (incl. oil) according to [Cassidy:2004:FE] p.121: 23451 lbs.

   Tare weight according to [Short:RN-3-1-37]: 27845 lbs
   (including passenger compartments and some equipment.
  </documentation>
  <ixx unit="SLUG*FT2">    251174 </ixx>
  <iyy unit="SLUG*FT2">    180055 </iyy>
  <izz unit="SLUG*FT2">    426351 </izz>
  <emptywt unit="LBS" >     27528 </emptywt>
  <location name="CG" unit="M">
   <x> 9.12 </x>
   <y> 0.00 </y>
   <z> 1.10 </z>
  </location>

  <documentation>
   Adjustable payload pointmasses located according to [Short:RN-3-1-37].
  </documentation>
  <!-- Crew -->
  <pointmass name="Pilot">
   <weight unit="KG"> 85 </weight>
   <location unit="M">
    <x>  2.44 </x>
    <y> -0.5 </y>
    <z>  1.5 </z>
   </location>
  </pointmass>
  <pointmass name="Copilot">
   <weight unit="KG"> 85 </weight>
   <location unit="M">
    <x>  2.44 </x>
    <y>  0.5 </y>
    <z>  1.5 </z>
   </location>
  </pointmass>
  <pointmass name="Steward">
   <weight unit="KG"> 85 </weight>
   <location unit="M">
    <x>  7.0 </x>
    <y>  0.0 </y>
    <z>  0.0 </z>
   </location>
  </pointmass>
  <pointmass name="Flight Clerk">
   <!-- Originally the Flight Clerk's office was located on the aft end of the
        flight deck, but it was soon was moved down into the forward cabin.
   -->
   <weight unit="KG"> 85 </weight>
   <location unit="M">
    <x>  5.4 </x>
    <y>  0.0 </y>
    <z>  0.0 </z>
   </location>
  </pointmass>
  <pointmass name="W/T operator">
   <weight unit="KG"> 85 </weight>
   <location unit="M">
    <x>  3.2 </x>
    <y> -0.5 </y>
    <z>  1.5 </z>
   </location>
  </pointmass>

  <!-- Mail & Freight. -->
  <pointmass name="Spar Mail Compartment">
   <weight unit="KG"> 0.0 </weight>
   <location unit="M">
    <x>  9.3 </x>
    <y>  0.0 </y>
    <z>  1.5 </z>
   </location>
  </pointmass>
  <pointmass name="Forward upper mail compartment">
   <weight unit="KG"> 0.0 </weight>
   <location unit="M">
    <x>  6.2 </x>
    <y>  0.0 </y>
    <z>  1.5 </z>
   </location>
  </pointmass>
  <pointmass name="Rear freight compartment">
   <weight unit="KG"> 345.6 </weight> <!-- To get CG within the range. -->
   <location unit="M">
    <x> 19.1 </x>
    <y>  0.0 </y>
    <z>  1.5 </z>
   </location>
  </pointmass>
  <pointmass name="Freight in the Forward Cabin">
   <!-- Originally there were space for 7 passengers here but the cabin was
        soon converted to contain freight and the Flight Clerk's office. -->
   <weight unit="KG"> 0.0 </weight>
   <location unit="M">
    <x>  4.2 </x>
    <y>  0.0 </y>
    <z> -0.5 </z>
   </location>
  </pointmass>
  <pointmass name="Bullion locker">
   <weight unit="KG"> 0.0 </weight>
   <location unit="M">
    <x>  9.5 </x>
    <y>  0.0 </y>
    <z> -1.0 </z>
   </location>
  </pointmass>

  <!-- Passengers. -->
  <pointmass name="Passengers in the Spar Cabin (max 3)">
   <weight unit="KG"> 0.0 </weight>
   <location unit="M">
    <x>  9.5 </x>
    <y>  0.0 </y>
    <z>  0.0 </z>
   </location>
  </pointmass>
  <pointmass name="Passengers in the Promenade Cabin (max 8)">
   <weight unit="KG"> 0.0 </weight>
   <location unit="M">
    <x> 12.5 </x>
    <y>  0.0 </y>
    <z>  0.0 </z>
   </location>
  </pointmass>
  <pointmass name="Passengers in the Rear Cabin (max 6)">
   <weight unit="KG"> 0.0 </weight>
   <location unit="M">
    <x> 15.9 </x>
    <y>  0.0 </y>
    <z>  0.0 </z>
   </location>
  </pointmass>

  <!-- Fixed weights included in tare weight according to [Short:RN-3-1-37]. -->
  <pointmass name="Radio equipment">
   <weight unit="LBS"> 317.0 </weight>
   <location unit="M">
    <x> 3.8 </x>
    <y> 0.0 </y>
    <z> 0.0 </z>
   </location>
  </pointmass>

  <!--
     Oil tank contents. One mass per engine.
     These will be controlled by the engine model.
  -->
  <pointmass name="Oil Port Outer">
   <weight unit="LBS"> 117.3 </weight>
   <location unit="M">
    <x>  7.6 </x>
    <y> -8.0 </y>
    <z>  2.8 </z>
   </location>
  </pointmass>
  <pointmass name="Oil Port Inner">
   <weight unit="LBS"> 117.3 </weight>
   <location unit="M">
    <x>  7.3 </x>
    <y> -4.0 </y>
    <z>  2.6 </z>
   </location>
  </pointmass>
  <pointmass name="Oil Starboard Inner">
   <weight unit="LBS"> 117.3 </weight>
   <location unit="M">
    <x>  7.3 </x>
    <y>  4.0 </y>
    <z>  2.6 </z>
   </location>
  </pointmass>
  <pointmass name="Oil Starboard Outer">
   <weight unit="LBS"> 117.3 </weight>
   <location unit="M">
    <x>  7.6 </x>
    <y>  8.0 </y>
    <z>  2.8 </z>
   </location>
  </pointmass>

 </mass_balance>

 <ground_reactions>
  <documentation>
   The hydrodynamic interactions of the hull are modelled by external forces.
  </documentation>

  <contact type="STRUCTURE" name="NOSE">
   <location unit="M">
    <x>  0.00 </x>
    <y>  0.00 </y>
    <z>  0.00 </z>
   </location>
   <static_friction>  0.80 </static_friction>
   <dynamic_friction> 0.80 </dynamic_friction>
   <spring_coeff unit="LBS/FT">      2000.00 </spring_coeff>
   <damping_coeff unit="LBS/FT/SEC"> 1500.00 </damping_coeff>
  </contact>

  <contact type="STRUCTURE" name="TAIL">
   <location unit="M">
    <x> 26.80 </x>
    <y>  0.00 </y>
    <z>  3.20 </z>
   </location>
   <static_friction>  0.80 </static_friction>
   <dynamic_friction> 0.80 </dynamic_friction>
   <spring_coeff unit="LBS/FT">      1500.00 </spring_coeff>
   <damping_coeff unit="LBS/FT/SEC"> 1250.00 </damping_coeff>
  </contact>

  <contact type="STRUCTURE" name="LEFT_WING">
   <location unit="M">
    <x>  8.5 </x>
    <y>-17.4 </y>
    <z>  2.3 </z>
   </location>
   <static_friction>  0.80 </static_friction>
   <dynamic_friction> 0.80 </dynamic_friction>
   <spring_coeff unit="LBS/FT">      1000.00 </spring_coeff>
   <damping_coeff unit="LBS/FT/SEC">  700.00 </damping_coeff>
  </contact>

  <contact type="STRUCTURE" name="RIGHT_WING">
   <location unit="M">
    <x>  8.5 </x>
    <y> 17.4 </y>
    <z>  2.3 </z>
   </location>
   <static_friction>  0.80 </static_friction>
   <dynamic_friction> 0.80 </dynamic_friction>
   <spring_coeff unit="LBS/FT">      1000.00 </spring_coeff>
   <damping_coeff unit="LBS/FT/SEC">  700.00 </damping_coeff>
  </contact>

 </ground_reactions>

 <propulsion>
  <documentation>
   Propeller location from the plans by [Cassidy:2004:FE].
   Fuel tank location and capacity according to [Cassidy:2004:FE].

   Mainplane incidence to thrust line:     1 deg 52 min. [Short:RN-3-1-37]
   Mainplane incidence to hull datum line: 3 deg.        [Short:RN-3-1-37]
  </documentation>

  <engine file="eng_PegasusXc">
   <feed>8</feed>
   <thruster file="prop_deHavilland5000">
    <sense>-1</sense>
    <location unit="M">
     <x>  6.30 </x>
     <y> -7.50 </y>
     <z>  2.90 </z>
    </location>
    <orient unit="DEG">
     <pitch> 1.13 </pitch>
     <roll>  0.00 </roll>
     <yaw>   0.00 </yaw>
    </orient>
   </thruster>
  </engine>

  <engine file="eng_PegasusXc">
   <feed>9</feed>
   <thruster file="prop_deHavilland5000">
    <sense>-1</sense>
    <location unit="M">
     <x>  6.00 </x>
     <y> -3.98 </y>
     <z>  2.69 </z>
    </location>
    <orient unit="DEG">
     <pitch> 1.13 </pitch>
     <roll>  0.00 </roll>
     <yaw>   0.00 </yaw>
    </orient>
   </thruster>
  </engine>

  <engine file="eng_PegasusXc">
   <feed>10</feed>
   <thruster file="prop_deHavilland5000">
    <sense>-1</sense>
    <location unit="M">
     <x>  6.00 </x>
     <y>  3.98 </y>
     <z>  2.69 </z>
    </location>
    <orient unit="DEG">
     <pitch> 1.13 </pitch>
     <roll>  0.00 </roll>
     <yaw>   0.00 </yaw>
    </orient>
   </thruster>
  </engine>

  <engine file="eng_PegasusXc">
   <feed>11</feed>
   <thruster file="prop_deHavilland5000">
    <sense>-1</sense>
    <location unit="M">
     <x>  6.30 </x>
     <y>  7.50 </y>
     <z>  2.90 </z>
    </location>
    <orient unit="DEG">
     <pitch> 1.13 </pitch>
     <roll>  0.00 </roll>
     <yaw>   0.00 </yaw>
    </orient>
   </thruster>
  </engine>

  <documentation>
    The S.23 'boats as delivered (with a few exceptions) came with one of
    3 different fuel system types. [Cassidy:2004:FE]
    
    Mk.I (1D) standard:
      one 326 gallon tank in each wing.
    Mk.II (1A/1C) Cavalier, Centarus:
      one 179 and one 326 gallon tank in each wing.
    Mk.III (1B) Cambria, Caledonia:
      one 179, one 326 and one 380 gallon tank in each wing.
      two 280 gallon tanks between the spar frames in the hull.

    [Cassidy:2004:FE] gives the sizes and capacities of the respective tanks as:
      Inboard  380 gals. 65.5in. diam., 31.5in. ht.
      Centre   326 gals. 64in. diam., 28in. ht.
      Outboard 179 gals. 56.5in. long, 41.75in. wide, 19.5in. ht.

    Oil tanks where placed in the nacelles aft of the firewall[Cassidy:2004:FE].
      Mk.I   four  13 1/2 gals.
      Mk.II  four  22 gals.
      Mk.III eight 18 gals.
  </documentation>

  <!-- Centre tanks. Present in all 3 fuel systems. -->
  <tank type="FUEL" number="0">
   <location unit="M">
    <x>  9.21 </x>
    <y> -5.35 </y>
    <z>  2.50 </z>
   </location>
   <radius unit="IN"> 32.0 </radius>
   <capacity unit="LBS"> 2356.9 </capacity>
   <contents unit="LBS"> 2352.0 </contents>
   <density unit="LBS/GAL">6.02 </density>
  </tank>

  <tank type="FUEL" number="1">
   <location unit="M">
    <x>  9.21 </x>
    <y>  5.35 </y>
    <z>  2.50 </z>
   </location>
   <radius unit="IN"> 32.0 </radius>
   <capacity unit="LBS"> 2356.9 </capacity>
   <contents unit="LBS"> 2352.0 </contents>
   <density unit="LBS/GAL">6.02 </density>
  </tank>

  <!-- Outboard tanks. Present in the Mark II and Mark III fuel systems. -->
  <tank type="FUEL" number="2">
   <location unit="M">
    <x>  9.21 </x>
    <y> -6.85 </y>
    <z>  2.55 </z>
   </location>
   <radius unit="IN"> 24.6 </radius>
   <capacity unit="LBS"> 1294.1 </capacity>
   <contents unit="LBS"> 0.00 </contents>
   <density unit="LBS/GAL">6.02 </density>
  </tank>

  <tank type="FUEL" number="3">
   <location unit="M">
    <x>  9.21 </x>
    <y>  6.85 </y>
    <z>  2.55 </z>
   </location>
   <radius unit="IN"> 24.6 </radius>
   <capacity unit="LBS"> 1294.1 </capacity>
   <contents unit="LBS"> 0.00 </contents>
   <density unit="LBS/GAL">6.02 </density>
  </tank>

  <!-- Inboard tanks. Present in the Mark III fuel system. -->
  <tank type="FUEL" number="4">
   <location unit="M">
    <x>  9.21 </x>
    <y> -2.45 </y>
    <z>  2.40 </z>
   </location>
   <radius unit="IN"> 32.75 </radius>
   <capacity unit="LBS"> 2747.3 </capacity>
   <contents unit="LBS"> 0.00 </contents>
   <density unit="LBS/GAL">6.02 </density>
  </tank>

  <tank type="FUEL" number="5">
   <location unit="M">
    <x>  9.21 </x>
    <y>  2.45 </y>
    <z>  2.40 </z>
   </location>
   <radius unit="IN"> 32.75 </radius>
   <capacity unit="LBS"> 2747.3 </capacity>
   <contents unit="LBS"> 0.00 </contents>
   <density unit="LBS/GAL">6.02 </density>
  </tank>

  <!-- Fuselage tanks. Present in the Mark III fuel system. -->
  <tank type="FUEL" number="6">
   <location unit="M">
    <x>  9.21 </x>
    <y> -0.72 </y>
    <z>  2.40 </z>
   </location>
   <radius unit="IN"> 34.0 </radius>
   <capacity unit="LBS"> 2024.3 </capacity>
   <contents unit="LBS"> 0.00 </contents>
   <density unit="LBS/GAL">6.02 </density>
  </tank>

  <tank type="FUEL" number="7">
   <location unit="M">
    <x>  9.21 </x>
    <y>  0.72 </y>
    <z>  2.40 </z>
   </location>
   <radius unit="IN"> 34.0 </radius>
   <capacity unit="LBS"> 2024.3 </capacity>
   <contents unit="LBS"> 0.00 </contents>
   <density unit="LBS/GAL">6.02 </density>
  </tank>

  <!-- Engine feeder tanks (carburettor float chambers). -->
  <tank type="FUEL" number="8">
   <location unit="M">
    <x>  6.80 </x>
    <y> -7.50 </y>
    <z>  2.90 </z>
   </location>
   <capacity unit="LBS"> 0.25 </capacity> <!-- Guess -->
   <contents unit="LBS"> 0.00 </contents>
   <density unit="LBS/GAL">6.02 </density>
  </tank>
  <tank type="FUEL" number="9">
   <location unit="M">
    <x>  6.50 </x>
    <y> -3.98 </y>
    <z>  2.69 </z>
   </location>
   <capacity unit="LBS"> 0.25 </capacity> <!-- Guess -->
   <contents unit="LBS"> 0.00 </contents>
   <density unit="LBS/GAL">6.02 </density>
  </tank>
  <tank type="FUEL" number="10">
   <location unit="M">
    <x>  6.50 </x>
    <y>  3.98 </y>
    <z>  2.69 </z>
   </location>
   <capacity unit="LBS"> 0.25 </capacity> <!-- Guess -->
   <contents unit="LBS"> 0.00 </contents>
   <density unit="LBS/GAL">6.02 </density>
  </tank>
  <tank type="FUEL" number="11">
   <location unit="M">
    <x>  6.80 </x>
    <y>  7.50 </y>
    <z>  2.90 </z>
   </location>
   <capacity unit="LBS"> 0.25 </capacity> <!-- Guess -->
   <contents unit="LBS"> 0.00 </contents>
   <density unit="LBS/GAL">6.02 </density>
  </tank>

 </propulsion>

 <flight_control name="FCS: Short S.23">
  <documentation>
   The flight control system creates the properties needed by the
   Aeromatic generated aerodynamic section as well as those needed by the
   DATCOM+ generated aerodynamic section.

   Control surface movements according to [Short:RN-3-1-37]:
     Ailerons : +/-19.5 deg
     Elevator : +/-18 deg
     Rudder   : +/-22.5 deg

  </documentation>

  <!-- FlightGear multiplayer dual control properties. -->
  <!-- Also used by the take-off autopilot. -->
  <property value="0.0">fcs/copilot/aileron-cmd-norm</property>
  <property value="0.0">fcs/copilot/elevator-cmd-norm</property>
  <property value="0.0">fcs/copilot/rudder-cmd-norm</property>

  <!-- The output from the Sperry autopilot actuators. -->
  <property value="0.0">sperry-autopilot/aileron-cmd-norm</property>
  <property value="0.0">sperry-autopilot/elevator-cmd-norm</property>
  <property value="0.0">sperry-autopilot/rudder-cmd-norm</property>

  <channel name="Elevator">

   <summer name="fcs/elevator/cmd-sum-norm">
    <input>fcs/elevator-cmd-norm</input>
    <input>fcs/copilot/elevator-cmd-norm</input>
    <input>sperry-autopilot/elevator-cmd-norm</input>
    <input>fcs/pitch-trim-cmd-norm</input>
    <clipto>
     <min> -1 </min>
     <max>  1 </max>
    </clipto>
   </summer>

   <aerosurface_scale name="fcs/elevator/pos-rad">
    <input>fcs/elevator/cmd-sum-norm</input>
    <range>
     <min> -0.3142 </min>
     <max>  0.3142 </max>
    </range>
    <output>fcs/elevator-pos-rad</output>
   </aerosurface_scale>

   <pure_gain name="fcs/elevator/pos-deg">
    <input>fcs/elevator/pos-rad</input>
    <gain> 57.29578 </gain>
    <output>fcs/elevator-pos-deg</output>
   </pure_gain>

   <aerosurface_scale name="fcs/elevator/pos-norm">
    <input>fcs/elevator/pos-rad</input>
    <domain>
     <min> -0.3142 </min>
     <max>  0.3142 </max>
    </domain>
    <range>
     <min> -1 </min>
     <max>  1 </max>
    </range>
    <output>fcs/elevator-pos-norm</output>
   </aerosurface_scale>

  </channel>

  <channel name="Aileron">

   <summer name="fcs/aileron/cmd-sum-norm">
    <input>fcs/aileron-cmd-norm</input>
    <input>fcs/copilot/aileron-cmd-norm</input>
    <input>sperry-autopilot/aileron-cmd-norm</input>
    <input>fcs/roll-trim-cmd-norm</input>
    <clipto>
     <min> -1 </min>
     <max>  1 </max>
    </clipto>
   </summer>

   <aerosurface_scale name="fcs/aileron/left-pos-rad">
    <input>fcs/aileron/cmd-sum-norm</input>
    <range>
     <min> -0.3403 </min>
     <max>  0.3403 </max>
    </range>
    <output>fcs/left-aileron-pos-rad</output>
   </aerosurface_scale>

   <pure_gain name="fcs/aileron/left-pos-deg">
    <input>fcs/aileron/left-pos-rad</input>
    <gain> 57.29578 </gain>
    <output>fcs/left-aileron-pos-deg</output>
   </pure_gain>

   <aerosurface_scale name="fcs/aileron/left-pos-norm">
    <input>fcs/aileron/left-pos-rad</input>
    <domain>
     <min> -0.3403 </min>
     <max>  0.3403 </max>
    </domain>
    <range>
     <min> -1 </min>
     <max>  1 </max>
    </range>
    <output>fcs/left-aileron-pos-norm</output>
   </aerosurface_scale>


   <aerosurface_scale name="fcs/aileron/right-pos-rad">
    <input>fcs/aileron/cmd-sum-norm</input>
    <range>
     <min> -0.3403 </min>
     <max>  0.3403 </max>
    </range>
    <output>fcs/right-aileron-pos-rad</output>
   </aerosurface_scale>

   <pure_gain name="fcs/aileron/right-pos-deg">
    <input>fcs/aileron/right-pos-rad</input>
    <gain> 57.29578 </gain>
    <output>fcs/right-aileron-pos-deg</output>
   </pure_gain>

   <aerosurface_scale name="fcs/aileron/right-pos-norm">
    <input>fcs/aileron/right-pos-rad</input>
    <domain>
     <min> -0.3403 </min>
     <max>  0.3403 </max>
    </domain>
    <range>
     <min> -1 </min>
     <max>  1 </max>
    </range>
    <output>fcs/right-aileron-pos-norm</output>
   </aerosurface_scale>

  </channel>

  <channel name="Rudder">

   <summer name="fcs/rudder/cmd-sum-norm">
    <input>fcs/rudder-cmd-norm</input>
    <input>fcs/copilot/rudder-cmd-norm</input>
    <input>sperry-autopilot/rudder-cmd-norm</input>
    <input>fcs/yaw-trim-cmd-norm</input>
    <clipto>
     <min> -1.0 </min>
     <max>  1.0 </max>
    </clipto>
   </summer>
   
   <aerosurface_scale name="fcs/rudder/pos-rad">
    <input>fcs/rudder/cmd-sum-norm</input>
    <range>
     <min> -0.3927 </min>
     <max>  0.3927 </max>
    </range>
    <output>fcs/rudder-pos-rad</output>
   </aerosurface_scale>

   <pure_gain name="fcs/rudder/pos-deg">
    <input>fcs/rudder/pos-rad</input>
    <gain> 57.29578 </gain>
    <output>fcs/rudder-pos-deg</output>
   </pure_gain>

   <aerosurface_scale name="fcs/rudder/pos-norm">
    <input>fcs/rudder/pos-rad</input>
    <domain>
     <min> -0.393 </min>
     <max>  0.393 </max>
    </domain>
    <range>
     <min> -1 </min>
     <max>  1 </max>
    </range>
    <output>fcs/rudder-pos-norm</output>
   </aerosurface_scale>

  </channel>

 </flight_control>

 <external_reactions>

  <force name="hydro-X" frame="LOCAL">
   <location unit="M">
    <x>  8.68 </x>
    <y>  0.00 </y>
    <z>  0.00 </z>
   </location>
   <direction>
    <x> 1.0 </x>
    <y> 0.0 </y>
    <z> 0.0 </z>
   </direction>
  </force>
  <force name="hydro-Y" frame="LOCAL">
   <location unit="M">
    <x>  8.68 </x>
    <y>  0.00 </y>
    <z>  0.00 </z>
   </location>
   <direction>
    <x> 0.0 </x>
    <y> 1.0 </y>
    <z> 0.0 </z>
   </direction>
  </force>
  <force name="hydro-Z" frame="LOCAL">
   <location unit="M">
    <x>  8.68 </x>
    <y>  0.00 </y>
    <z>  0.00 </z>
   </location>
   <direction>
    <x> 0.0 </x>
    <y> 0.0 </y>
    <z>-1.0 </z>
   </direction>
  </force>

  <moment name="hydro-pitch" frame="BODY" unit="LBSFT">
   <direction>
    <x> 0.0 </x>
    <y> 1.0 </y>
    <z> 0.0 </z>
   </direction>
  </moment>
  <moment name="hydro-roll" frame="BODY" unit="LBSFT">
   <direction>
    <x> 1.0 </x>
    <y> 0.0 </y>
    <z> 0.0 </z>
   </direction>
  </moment>
  <moment name="hydro-yaw" frame="BODY" unit="LBSFT">
   <direction>
    <x> 0.0 </x>
    <y> 0.0 </y>
    <z> 1.0 </z>
   </direction>
  </moment>

 </external_reactions>

 <system file="hydrodynamics"/>
 <system file="hydrodynamic-planing-floats">
  <!-- Parameters defining the planing surfaces of the wing tip floats. -->
  <!-- NOTE: Coordinates in the frame with
             origin at hydro RP and x/y/z = aft/right/up
  -->
  <property value="7.38">hydro/planing-floats/forebody-length-ft[0]</property>
  <property value="3.48">hydro/planing-floats/forebody-beam-ft[0]</property>
  <property value="-32.09">hydro/planing-floats/forebody-keel-y-ft[0]</property>
  <property value="-1.71">hydro/planing-floats/forebody-keel-z-ft[0]</property>
  <property value="4.72">hydro/planing-floats/forebody-end-x-ft[0]</property>
  <property value="5.31">hydro/planing-floats/afterbody-length-ft[0]</property>
  <property value="3.40">hydro/planing-floats/afterbody-beam-ft[0]</property>
  <property value="-32.09">hydro/planing-floats/afterbody-keel-y-ft[0]</property>
  <property value="-1.64">hydro/planing-floats/afterbody-keel-z-ft[0]</property>
  <property value="10.04">hydro/planing-floats/afterbody-end-x-ft[0]</property>

  <property value="0.40">hydro/planing-floats/forebody-normal-force-factor[0]</property>
  <property value="0.30">hydro/planing-floats/afterbody-normal-force-factor[0]</property>
  <property value="0.0010">hydro/planing-floats/forebody-skin-friction-coefficient[0]</property>
  <property value="0.0010">hydro/planing-floats/afterbody-skin-friction-coefficient[0]</property>

  <property value="7.38">hydro/planing-floats/forebody-length-ft[1]</property>
  <property value="3.48">hydro/planing-floats/forebody-beam-ft[1]</property>
  <property value="32.09">hydro/planing-floats/forebody-keel-y-ft[1]</property>
  <property value="-1.71">hydro/planing-floats/forebody-keel-z-ft[1]</property>
  <property value="4.72">hydro/planing-floats/forebody-end-x-ft[1]</property>
  <property value="5.31">hydro/planing-floats/afterbody-length-ft[1]</property>
  <property value="3.40">hydro/planing-floats/afterbody-beam-ft[1]</property>
  <property value="32.09">hydro/planing-floats/afterbody-keel-y-ft[1]</property>
  <property value="-1.64">hydro/planing-floats/afterbody-keel-z-ft[1]</property>
  <property value="10.04">hydro/planing-floats/afterbody-end-x-ft[1]</property>

  <property value="0.40">hydro/planing-floats/forebody-normal-force-factor[1]</property>
  <property value="0.30">hydro/planing-floats/afterbody-normal-force-factor[1]</property>
  <property value="0.0010">hydro/planing-floats/forebody-skin-friction-coefficient[1]</property>
  <property value="0.0010">hydro/planing-floats/afterbody-skin-friction-coefficient[1]</property>
 </system>
 <system file="Short_S23-hydrodynamics"/>

 <!-- Sperry A-2 autopilot. -->
 <system file="sperry-a2-autopilot"/>

 <!-- Autopilot for JSBSim/standalone. -->
 <system file="take-off-ap"/>

 <!-- Engine controls. -->
 <system file="engines"/>
 <system file="fuel-system"/>

 <!-- Electrical system. -->
 <system file="electrical"/>

 <!-- Control system for the flaps. -->
 <system file="flaps"/>

 <aerodynamics file="Systems/datcom_aero.xml"/>

</fdm_config>
<?xml version="1.0"?>
<!--

  Short S.23 flying boat flight model for JSBSim.

    Copyright (C) 2008 - 2018  Anders Gidenstam  (anders(at)gidenstam.org)

    This program is free software; you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation; either version 2 of the License, or
    (at your option) any later version.
  
    This program is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.
  
    You should have received a copy of the GNU General Public License
    along with this program; if not, write to the Free Software
    Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA
  
-->
<system name="Short S.23 hydrodynamics">

 <documentation>
  This system computes forces and moments due to the hull's interaction
  with water, both hydrostatic and hydrodynamic, with respect to the
  hydrodynamic reference point (HRP).
  
  The coordinate system for the forces and moments is similar to the
  wind system but is always aligned with the water surface (which is
  assumed to be horizontal).

  The forces are split into the channels:
  - Drag - opposing the relative water flow.
  - Side - 90 degrees right from the relative water flow in the surface plane.
  - Lift - up (the same as -Z in the local frame).
  The moments are split into the channels:
  - Pitch
  - Yaw
  - Roll
 </documentation>

 <!-- HRP location -->
 <property value="341.73">metrics/hydro-rp-x-in</property>
 <property value="0.0">metrics/hydro-rp-y-in</property>
 <property value="0.0">metrics/hydro-rp-z-in</property>

 <property value="10.0">metrics/hydro-beam-ft</property>
 <property value="56.0">metrics/hydro-length-ft</property>

 <!-- Model parameters -->
 <documentation>
  The hydrodynamic coefficients are assumed to be defined as in
  [Dawson:1934:Clipper], that is the hull beam is used as the
  reference length and to define both reference area and volume.
 </documentation>
 <property value="10.0">hydro/hull-beam-ft</property>
 <property value="100.0">hydro/hull-beam-ft2</property>
 <property value="1000.0">hydro/hull-beam-ft3</property>
 <property value="10000.0">hydro/hull-beam-ft4</property>

 <property value="3.55">hydro/float-beam-ft</property>
 <property value="44.74">hydro/float-beam-ft3</property>
 <property value="158.8">hydro/float-beam-ft4</property>

 <property value="-31.99">hydro/float-arm-y-ft[0]</property>
 <property value="31.99">hydro/float-arm-y-ft[1]</property>
 <property value="-1.71">hydro/float-arm-z-ft[0]</property>
 <property value="-1.71">hydro/float-arm-z-ft[1]</property>

 <property value="56.0">hydro/hull-length-ft</property>

 <!-- Tweak factors. :) -->
 <property value="0.5">hydro/drag-tweak-factor</property>
 <property value="20.0">hydro/lift-tweak-factor</property>
 <property value="1.5">hydro/pitch-tweak-factor</property>
 <property value="4.0">hydro/yaw-tweak-factor</property>

  <channel name="Enable/disable">

  <fcs_function name="hydro/active-norm">
   <description>
    A property that is 0 when no part of the hull is in the water.
    The maximum value is 1.
   </description>
   <function>
    <product>
     <value>0.01</value>
     <lt>
      <value>-100.0</value>
      <property>hydro/hull/roll-deg</property>
     </lt>
     <lt>
      <property>hydro/hull/roll-deg</property>
      <value>100.0</value>
     </lt>
     <sum>
      <property>hydro/buoyancy-lbs</property>
      <property>hydro/float-buoyancy-lbs[0]</property>
      <property>hydro/float-buoyancy-lbs[1]</property>
      <property>hydro/hull-lift-lbs</property>
      <property>hydro/float-planing-lift-lbs[0]</property>
      <property>hydro/float-planing-lift-lbs[1]</property>
     </sum>
     <!-- not>
      <and>
       <property>gear/unit[0]/solid</property>
       <property>gear/unit[4]/solid</property>
      </and>
     </not -->
    </product>
   </function>
    <clipto>
     <min>0.0</min>
     <max>1.0</max>
    </clipto>
  </fcs_function>

 </channel>

 <channel name="Effective hull position and orientation">

  <fcs_function name="hydro/hull/height-agl-ft">
   <description>
    The hull height with waves applied.
   </description>
   <function>
    <sum>
     <property>hydro/height-agl-ft</property>
     <product>
      <value>-1.0</value>
      <max>
       <value>-100.0</value>
       <min>
        <property>hydro/environment/wave/level-at-hrp-ft</property>
        <value>100.0</value>
       </min>
      </max>
     </product>
    </sum>
   </function>
  </fcs_function>

  <fcs_function name="hydro/hull/pitch-deg">
   <description>
    The hull pitch with the trim change due to waves applied.
   </description>
   <function>
    <sum>
     <property>hydro/pitch-deg</property>
     <product>
      <value>1.0</value>
      <max>
       <value>-30.0</value>
       <min>
        <property>hydro/orientation/wave-pitch-trim-change-deg</property>
        <value>30.0</value>
       </min>
      </max>
     </product>
    </sum>
   </function>
  </fcs_function>

  <fcs_function name="hydro/hull/roll-deg">
   <description>
    The hull roll with the trim change due to waves applied.
   </description>
   <function>
    <sum>
     <property>hydro/roll-deg</property>
     <product>
      <value>1.0</value>
      <max>
       <value>-50.0</value>
       <min>
        <property>hydro/orientation/wave-roll-trim-change-deg</property>
        <value>50.0</value>
       </min>
      </max>
     </product>
    </sum>
   </function>
  </fcs_function>

 </channel>

 <channel name ="Hydrodynamic coefficients">

  <fcs_function name="hydro/coefficients/C_Delta">
   <documentation>
    Unitless load on water coefficient. [Dawson:1934:Clipper]
    Will lag one time-step behind the true value.
   </documentation>
   <function>
    <product>
     <value>0.60</value> <!-- Tweak. The S-40 seems to have a lower load. -->
     <quotient>
      <property> external_reactions/hydro-Z/magnitude </property>
      <product>
       <value> 63.5 </value>
       <property>hydro/hull-beam-ft3</property>
      </product>
     </quotient>
    </product>
   </function>
  </fcs_function> 

  <fcs_function name="hydro/coefficients/C_V">
   <documentation>
    Unitless speed coefficient. [Dawson:1934:Clipper]
   </documentation>
   <function>
    <quotient>
     <property> hydro/v-fps </property>
     <pow>
      <product>
       <value> 32.185039 </value>
       <property>hydro/hull-beam-ft</property>
      </product>
      <value> 0.5 </value>
     </pow>
    </quotient>
   </function>
  </fcs_function> 

  <fcs_function name="hydro/s40-pitch-deg">
   <documentation>
    Some of the hydrodynamic coefficients are based on
    data from the Sikorsky S-40 'boat [Dawson:1934:Clipper].
    As it's hull has a different datum line and behaviour
    the pitch trim angle needs to be adjusted.
    This is rough guess based on the reported trim
    angles for the S.23 and the best trim angles for
    the S-40.
    Best trim angles
             At rest  15kt  25kt  30kt  78kt
      C_V    0.0      1.41  2.35  2.82  7.34
      S.23   4.08      7.0  10.0  13.0  12.0
      S-40   3.00      6.5   7.1   6.2   4.0

    Note: "Arthur Gouge quoted a minimum 9 deg. positive angle from
    datum as the trim angle of an Empire 'boat as it was about to
    leave the water rather than the 12 deg. angle of the tank tests" ([Cassidy:2004:FE], page 29)
   </documentation>
   <function>
    <table>
     <independentVar lookup="row">hydro/coefficients/C_V</independentVar>
     <independentVar lookup="column">hydro/hull/pitch-deg</independentVar>
     <tableData>
              -10.0  4.08  6.50  8.00  10.0  11.0  20.0
       0.0    -10.0   3.0   6.5   8.0  10.0  11.0  20.0 
       1.41   -10.0   3.0   6.5   8.0   9.0  11.0  20.0
       2.35   -10.0   3.0   6.0   7.1   8.0  10.0  20.0
       2.82   -10.0   2.0   4.0   5.0   6.0   6.2  20.0
       7.34   -10.0   1.0   2.0   3.0   4.0   5.0  20.0
     </tableData>
    </table>
   </function>
  </fcs_function>

  <fcs_function name="hydro/coefficients/C_M">
   <documentation>
    Unitless moment coefficient based on [Dawson:1934:Clipper].
    Modelled as a function of trim angle, speed coefficient and
    load coefficient.
    The curve for C_M as a function of C_V was interpolated from
    the experimental data in [Dawson:1934:Clipper] for each trim
    angle and load. The data is for the hull of a Sikorsky S-40 'boat.
   </documentation>
   <function>
    <table>
     <independentVar lookup="row">hydro/s40-pitch-deg</independentVar>
     <independentVar lookup="column">hydro/coefficients/C_V</independentVar>
     <independentVar lookup="table">hydro/coefficients/C_Delta</independentVar>
     <tableData breakPoint="0.0">
            0.0  0.1  1.0  2.0  3.0  4.0  5.0  6.0  7.0  8.0  9.0  10.0
       2.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0
       3.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0
       5.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0
       7.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0
       9.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0
     </tableData>
     <tableData breakPoint="0.19">
            0.0  0.1  1.0      2.0      3.0      4.0      5.0      6.0      7.0      8.0      9.0      10.0
       2.0  0.0  0.0  0.04398  0.07357  0.09161  0.10097  0.10449  0.10503  0.05779  0.05252  0.05252  0.05252
       3.0  0.0  0.0  0.08723  0.13430  0.15360  0.15752  0.17497  0.10503  0.10503  0.05252  0.05252  0.07194
       5.0  0.0  0.0  0.02112  0.03711  0.04763  0.05230  0.05252  0.05252  0.14933  0.15755  0.15755  0.15755
       7.0  0.0  0.0  0.02856  0.04427  0.05096  0.05249  0.00000 -0.00110 -0.05224 -0.05252 -0.08902 -0.15491
       9.0  0.0  0.0 -0.10803 -0.15569 -0.16770 -0.08473 -0.09804 -0.13626 -0.14640 -0.15283 -0.15629 -0.15751
     </tableData>
     <tableData breakPoint="0.39">
            0.0  0.1  1.0      2.0      3.0      4.0      5.0      6.0      7.0      8.0      9.0      10.0
       2.0  0.0  0.0  0.10280  0.17464  0.22103  0.24747  0.25948  0.26255  0.22409  0.15879  0.15755  0.15755
       3.0  0.0  0.0  0.17197  0.26619  0.30606  0.31497  0.23508  0.24354  0.25258  0.12321  0.13262  0.14266
       5.0  0.0  0.0  0.00212  0.00939  0.02316  0.04479  0.10503  0.10503  0.15643  0.11137  0.12050  0.14479
       7.0  0.0  0.0  0.05794  0.08933  0.10231  0.10501  0.03098 -0.05835 -0.09931 -0.25485 -0.21067 -0.30629
       9.0  0.0  0.0 -0.10803 -0.15569 -0.16770 -0.08473 -0.09804 -0.13626 -0.14640 -0.15283 -0.15629 -0.15751
     </tableData>
     <tableData breakPoint="0.78">
            0.0  0.1  1.0      2.0      3.0      4.0      5.0      6.0      7.0      8.0      9.0      10.0
       2.0  0.0  0.0  0.10280  0.17464  0.22103  0.24747  0.25948  0.26255  0.22409  0.15879  0.15755  0.15755
       3.0  0.0  0.0  0.18681  0.35423  0.50598  0.62213  0.57769  0.55315  0.47693  0.36774  0.31510  0.31510
       5.0  0.0  0.0  0.12694  0.21441  0.25822  0.24610  0.22481  0.16173  0.15755  0.08773  0.06798  0.13887
       7.0  0.0  0.0  0.00840  0.03370  0.07600  0.15011  0.06505 -0.00067 -0.13857 -0.35100 -0.55688 -0.61862
       9.0  0.0  0.0 -0.54015 -0.77845 -0.83849 -0.42363 -0.49019 -0.68132 -0.73200 -0.76415 -0.78144 -0.78755
     </tableData>
    </table>
   </function>
  </fcs_function>

  <fcs_function name="hydro/coefficients/C_R">
   <documentation>
    Unitless resistance coefficient based on [Dawson:1934:Clipper].
    Modelled as a function of trim angle, speed coefficient and
    load coefficient.
    The curve for C_R as a function of C_V was interpolated from
    the experimental data in [Dawson:1934:Clipper] for each trim
    angle and load. The data is for the hull of a Sikorsky S-40 'boat.
   </documentation>
   <function>
    <table>
     <independentVar lookup="row">hydro/s40-pitch-deg</independentVar>
     <independentVar lookup="column">hydro/coefficients/C_V</independentVar>
     <independentVar lookup="table">hydro/coefficients/C_Delta</independentVar>
     <tableData breakPoint="0.0">
            0.0  0.01  0.1  1.0  2.0  3.0  4.0  5.0  6.0  7.0  8.0  9.0  10.0
       2.0  0.0  0.0   0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0
       3.0  0.0  0.0   0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0
       5.0  0.0  0.0   0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0
       7.0  0.0  0.0   0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0
       9.0  0.0  0.0   0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0
     </tableData>
     <tableData breakPoint="0.19">
            0.0  0.01 1.0      2.0      3.0      4.0      5.0      6.0      7.0      8.0      9.0      10.0
       2.0  0.0  0.0  0.03841  0.07404  0.10711  0.13783  0.16644  0.19316  0.21477  0.26320  0.28304  0.32647
       3.0  0.0  0.0  0.01662  0.03801  0.06297  0.09032  0.12465  0.14866  0.16747  0.21471  0.25808  0.27417
       5.0  0.0  0.0  0.03789  0.06255  0.07629  0.08141  0.08045  0.13011  0.16566  0.21599  0.26929  0.33215
       7.0  0.0  0.0  0.00692  0.02605  0.05495  0.09120  0.14758  0.20436  0.27640  0.34443  0.41282  0.45606
     </tableData>
     <tableData breakPoint="0.39">
            0.0  0.01 1.0      2.0      3.0      4.0      5.0      6.0      7.0      8.0      9.0      10.0
       2.0  0.0  0.0  0.04107  0.08456  0.13015  0.17751  0.22632  0.27627  0.33090  0.36963  0.40992  0.42751
       3.0  0.0  0.0  0.01460  0.04363  0.08296  0.12844  0.17623  0.21049  0.26559  0.27830  0.32475  0.38257
       5.0  0.0  0.0  0.03967  0.07145  0.09574  0.11295  0.12307  0.16221  0.20271  0.26918  0.33684  0.38637
       7.0  0.0  0.0  0.01937  0.04693  0.08053  0.11804  0.16738  0.24008  0.30799  0.39579  0.46271  0.52537
     </tableData>
     <tableData breakPoint="0.78">
            0.0  0.01 1.0      2.0      3.0      4.0      5.0      6.0      7.0      8.0      9.0      10.0
       2.0  0.0  0.0  0.04107  0.08456  0.13015  0.17751  0.22632  0.27627  0.33090  0.36963  0.40992  0.42751
       3.0  0.0  0.0  0.05351  0.10187  0.14608  0.18820  0.25167  0.30893  0.36593  0.41842  0.46725  0.50670
       5.0  0.0  0.0  0.04621  0.08960  0.13080  0.16778  0.19043  0.22750  0.27973  0.35972  0.40521  0.46899
       7.0  0.0  0.0  0.06387  0.11098  0.14178  0.15820  0.22145  0.29636  0.39455  0.47031  0.54559  0.62306
       9.0  0.0  0.0  0.04724  0.10109  0.15964  0.22221  0.28927  0.38092  0.48972  0.61576  0.76097  0.92730
     </tableData>
    </table>
   </function>
  </fcs_function>

 </channel>

 <channel name="Effective float position and orientation">

  <fcs_function name="hydro/floats/height-agl-ft[0]">
   <description>
    The float height with waves applied.
   </description>
   <function>
    <sum>
     <property>hydro/height-agl-ft</property>
     <product>
      <value>-1.0</value>
      <property>hydro/float-arm-y-ft[0]</property>
      <sin><property>attitude/phi-rad</property></sin>
     </product>
     <product>
      <value>-1.0</value>
      <table>
       <independentVar lookup="row">hydro/environment/wave-length-ft</independentVar>
       <tableData>
           0.0  0.0
         100.0  1.0
       </tableData>
      </table>
      <max>
       <value>-100.0</value>
       <min>
        <!-- Water level change at the float position. -->
        <product>
         <property>hydro/environment/wave-amplitude-ft</property>
         <cos>
          <difference>
           <product>
            <property>hydro/float-arm-y-ft[0]</property>
            <property>hydro/environment/wave/hull-y-factor</property>
            <property>hydro/environment/wave/wave-number-rad_ft</property>
           </product>
           <product>
            <property>hydro/environment/wave/angular-frequency-rad_sec</property>
            <property>simulation/sim-time-sec</property>
           </product>
          </difference>
         </cos>
        </product>
        <value>100.0</value>
       </min>
      </max>
     </product>
    </sum>
   </function>
  </fcs_function>
  <fcs_function name="hydro/floats/height-agl-ft[1]">
   <description>
    The float height with waves applied.
   </description>
   <function>
    <sum>
     <property>hydro/height-agl-ft</property>
     <product>
      <value>-1.0</value>
      <property>hydro/float-arm-y-ft[1]</property>
      <sin><property>attitude/phi-rad</property></sin>
     </product>
     <product>
      <value>-1.0</value>
      <table>
       <independentVar lookup="row">hydro/environment/wave-length-ft</independentVar>
       <tableData>
           0.0  0.0
         100.0  1.0
       </tableData>
      </table>
      <max>
       <value>-100.0</value>
       <min>
        <!-- Water level change at the float position. -->
        <product>
         <property>hydro/environment/wave-amplitude-ft</property>
         <cos>
          <difference>
           <product>
            <property>hydro/float-arm-y-ft[1]</property>
            <property>hydro/environment/wave/hull-y-factor</property>
            <property>hydro/environment/wave/wave-number-rad_ft</property>
           </product>
           <product>
            <property>hydro/environment/wave/angular-frequency-rad_sec</property>
            <property>simulation/sim-time-sec</property>
           </product>
          </difference>
         </cos>
        </product>
        <value>100.0</value>
       </min>
      </max>
     </product>
    </sum>
   </function>
  </fcs_function>

  <fcs_function name="hydro/float-submersion-ft[0]">
   <description>
    The submersion of the left float.
   </description>
   <function>
    <max>
     <value>0.0</value>
     <product>
      <value>-1.0</value>
      <sum>
       <!-- Float HRP height over water level at the float. -->
       <property>hydro/floats/height-agl-ft[0]</property>
       <!-- Level of the bottom of the float w.r.t. the HRP. -->
       <product>
        <property>hydro/float-arm-z-ft[0]</property>
        <cos><property>attitude/roll-rad</property></cos>
       </product>
      </sum>
      <property>hydro/height-agl-ft</property>
     </product>
    </max>
   </function>
  </fcs_function>

  <fcs_function name="hydro/float-submersion-ft[1]">
   <description>
    The submersion of the right float.
   </description>
   <function>
    <max>
     <value>0.0</value>
     <product>
      <value>-1.0</value>
      <sum>
       <!-- Float HRP height over water level at the float. -->
       <property>hydro/floats/height-agl-ft[1]</property>
       <!-- Level of the bottom of the float w.r.t. the HRP. -->
       <product>
        <property>hydro/float-arm-z-ft[1]</property>
        <cos><property>attitude/roll-rad</property></cos>
       </product>
      </sum>
      <property>hydro/height-agl-ft</property>
     </product>
    </max>
   </function>
  </fcs_function>

  <!-- FIXME: Account for the waves at the float's position. -->
  <fcs_function name="hydro/floats/pitch-deg[0]">
   <description>
    The float pitch with the trim change due to waves and
    the displacement wave applied.
   </description>
   <function>
    <sum>
     <property>hydro/pitch-deg</property>
     <product>
      <value>1.0</value>
      <max>
       <value>-30.0</value>
       <min>
        <property>hydro/orientation/wave-pitch-trim-change-deg</property>
        <value>30.0</value>
       </min>
      </max>
     </product>
    </sum>
   </function>
  </fcs_function>
  <fcs_function name="hydro/floats/pitch-rad[0]">
   <description>
    The float pitch with the trim change due to waves and
    the displacement wave applied.
   </description>
   <function>
    <product>
     <value>0.017453293</value>
     <property>hydro/floats/pitch-deg[0]</property>
    </product>
   </function>
  </fcs_function>

  <fcs_function name="hydro/floats/pitch-deg[1]">
   <description>
    The float pitch with the trim change due to waves and
    the displacement wave applied.
   </description>
   <function>
    <sum>
     <property>hydro/pitch-deg</property>
     <product>
      <value>1.0</value>
      <max>
       <value>-30.0</value>
       <min>
        <property>hydro/orientation/wave-pitch-trim-change-deg</property>
        <value>30.0</value>
       </min>
      </max>
     </product>
    </sum>
   </function>
  </fcs_function>
  <fcs_function name="hydro/floats/pitch-rad[1]">
   <description>
    The float pitch with the trim change due to waves and
    the displacement wave applied.
   </description>
   <function>
    <product>
     <value>0.017453293</value>
     <property>hydro/floats/pitch-deg[1]</property>
    </product>
   </function>
  </fcs_function>

  <fcs_function name="hydro/floats/roll-deg[0]">
   <description>
    The float roll with the trim change due to waves applied.
   </description>
   <function>
    <sum>
     <property>hydro/roll-deg</property>
     <product>
      <value>1.0</value>
      <max>
       <value>-50.0</value>
       <min>
        <property>hydro/orientation/wave-roll-trim-change-deg</property>
        <value>50.0</value>
       </min>
      </max>
     </product>
    </sum>
   </function>
  </fcs_function>
  <fcs_function name="hydro/floats/roll-rad[0]">
   <description>
    The float roll with the trim change due to waves applied.
   </description>
   <function>
    <product>
     <value>0.017453293</value>
     <property>hydro/floats/roll-deg[0]</property>
    </product>
   </function>
  </fcs_function>

  <fcs_function name="hydro/floats/roll-deg[1]">
   <description>
    The float roll with the trim change due to waves applied.
   </description>
   <function>
    <sum>
     <property>hydro/roll-deg</property>
     <product>
      <value>1.0</value>
      <max>
       <value>-50.0</value>
       <min>
        <property>hydro/orientation/wave-roll-trim-change-deg</property>
        <value>50.0</value>
       </min>
      </max>
     </product>
    </sum>
   </function>
  </fcs_function>
  <fcs_function name="hydro/floats/roll-rad[1]">
   <description>
    The float roll with the trim change due to waves applied.
   </description>
   <function>
    <product>
     <value>0.017453293</value>
     <property>hydro/floats/roll-deg[1]</property>
    </product>
   </function>
  </fcs_function>

 </channel>

 <!-- Unused inputs to the hydrodynamics system. -->
 <property value="0.0">hydro/fbx-lbs</property>
 <property value="0.0">hydro/fby-lbs</property>

 <channel name="Force Z (up)">

  <fcs_function name="hydro/buoyancy-lbs">
   <documentation>
    Lift due to buoyancy.
    This data was computed in Gerris using the S.23 3d model.
   </documentation>
   <function>
    <product>
     <value> 0.22480894 </value>
     <table>
      <independentVar lookup="row">hydro/hull/pitch-deg</independentVar>
      <independentVar lookup="column">hydro/hull/roll-deg</independentVar>
      <independentVar lookup="table">hydro/hull/height-agl-ft</independentVar>
      <tableData breakPoint="0.0">
            -4.0  -2.0   0.0   2.0   4.0
       -4 471513 529318 451948 529318 471781
       -2 484533 543473 459442 543474 484532
        0 506037 558098 469308 558098 506037
        2 499140 575971 480809 575968 499140
        4 534647 628964 511795 628966 534647
        8 534555 637509 526837 637509 534564
       12 542667 601706 498387 601991 542954
      </tableData>
      <tableData breakPoint="1.0">
            -4.0  -2.0   0.0   2.0   4.0
       -4 363495 391944 348233 391944 363495
       -2 346845 392606 337550 392607 346845
        0 344195 387374 331658 387375 344195
        2 355479 395111 338248 395111 355479
        4 385920 421173 355773 421416 385954
        8 427173 504216 415554 504217 427173
       12 380347 490098 413565 490098 380348
      </tableData>
      <tableData breakPoint="2.0">
            -4.0  -2.0   0.0   2.0   4.0
       -4 252919 275644 240065 275644 252919
       -2 246111 263012 227493 263013 246111
        0 220136 252142 216287 252142 220136
        2 228135 254079 215431 254079 228135
        4 215240 265381 224238 265381 215240
        8 279353 332682 280414 332682 279353
       12 302922 391924 327264 391889 302922
      </tableData>
      <tableData breakPoint="3.0"> <!-- NOTE: pitch 12 roll +/-2 bogus -->
            -4.0  -2.0   0.0   2.0   4.0
       -4 142120 171015 148729 171015 142120
       -2 127612 157092 135542 157092 127612
        0 114230 145509 122383 145509 114230
        2 107857 138234 116358 138235 107857
        4 110378 143678 120266 143678 110379
        8 161820 193024 162847 193024 161820
       12 234083 234083 237382 234083 234083
      </tableData>
      <tableData breakPoint="4.0">
            -4.0  -2.0   0.0   2.0   4.0
       -4 71870 89246.7 76693.2 89246.8 71870
       -2 56038 71705 61308.3 71705.1 56038
        0 50762.8 63663.5 53743.8 63663.5 50762.8
        2 46220.4 57930.7 48733 57978 46220.9
        4 46287.5 56769.4 46230.2 56770.1 46287.3
        8 74002.1 91338.7 78464.5 91338.9 74002.1
       12 150252 177944 154273 177944 150252
      </tableData>
      <tableData breakPoint="5.0">
            -4.0  -2.0   0.0   2.0   4.0
       -4 26962.2 33549.8 28893.6 33550 26962.3
       -2 17047.2 22493.5 20145.2 22498.6 17047.3
        0 12329.3 16034.7 12939.3 16035.5 12329.5
        2 9901.83 12502.6 11214.6 12502.5 9902.02
        4 10057.6 13165.6 12146.2 13165.9 10057.6
        8 21312.2 28314.1 25030.5 28314.4 21312.2
       12 79560.7 92543.9 80100.7 92544.1 79560.9
      </tableData>
      <tableData breakPoint="6.0">
            -4.0  -2.0   0.0   2.0   4.0
       -4 4843.47 4359.17 5193.03 4359.18 4843.48
       -2 3701.01 3643.21 3921.95 3643.21 3701.01
        0 2984.28 3432.53 3640.74 3432.52 2984.28
        2 2883.82 2860.71 3139.31 2860.69 2883.83
        4 3191.52 3148.69 3350.45 3148.69 3191.59
        8 4402.81 4496.28 5093.11 4496.3 4402.84
       12 26632.9 33492 28864.3 33492 26632.7
      </tableData>
      <tableData breakPoint="7.0">
            -4.0  -2.0   0.0   2.0   4.0
       -4 2513.48 2615.09 2602.83 2614.99 2513.47
       -2 2268.19 2362.97 2444.06 2362.98 2268.19
        0 2660.55 2415.71 2566.3 2415.72 2660.55
        2 2199.33 2154.26 2230.72 2154.26 2199.32
        4 2304.66 2248.22 2349.64 2248.22 2304.66
        8 2558.24 2481.7 2580.57 2481.8 2558.44
       12 7147.6 6815.41 7176.91 6815.46 7147.66
      </tableData>
      <tableData breakPoint="8.0">
            -4.0  -2.0   0.0   2.0   4.0
       -4 2614.97 2617.15 2629.4 2617.15 2614.88
       -2 2617 2595.28 2636.16 2595.27 2617
        0 2587.25 2675.29 2703.01 2675.29 2587.25
        2 2492.4 2567.07 2552.65 2567.02 2492.4
        4 2511.89 2577.28 2524.28 2577.28 2511.89
        8 2578.84 2572.92 2624.14 2572.91 2578.89
       12 2836.84 3018.86 3030.04 3019.24 2836.84
      </tableData>
<!--
      <tableData breakPoint="9.0">
            -4.0  -2.0   0.0   2.0   4.0
       -4 2438.78 2522.59 2538.88 2522.47 2438.78
       -2 2414.23 2418.61 2457.88 2418.86 2414.19
        0 2473.96 2531.05 2542.79 2531.05 2473.96
        2 2499.91 2468.16 2489.68 2468.49 2499.89
        4 2425.66 2411.13 2383.13 2411.03 2425.65
        8 2438.66 2420.7 2450.45 2420.69 2430.23
       12 2454.65 2322.08 2287.79 2322.42 2455.03
      </tableData>
      <tableData breakPoint="10.0">
            -4.0  -2.0   0.0   2.0   4.0
       -4 2436.31 2467.89 2434.47 2467.89 2436.31
       -2 2397.55 2406.87 2465.42 2406.87 2397.55
        0 2451.36 2514.61 2496.55 2514.61 2451.36
        2 2427.12 2420.3 2455.71 2420.3 2427.9
        4 2393.36 2410.91 2421.76 2410.91 2393.68
        8 2322.52 2380.65 2389.54 2380.65 2322.73
       12 2300.35 2486.93 2416.24 2486.95 2300.35
      </tableData>
-->
      <tableData breakPoint="9.0" >
            -4       -2       0        2        4
       -4   0.0      0.0      0.0      0.0      0.0
       -2   0.0      0.0      0.0      0.0      0.0
        0   0.0      0.0      0.0      0.0      0.0
        2   0.0      0.0      0.0      0.0      0.0
        4   0.0      0.0      0.0      0.0      0.0
        8   0.0      0.0      0.0      0.0      0.0
       12   0.0      0.0      0.0      0.0      0.0
      </tableData>      
     </table>
    </product>
   </function>
  </fcs_function>

  <fcs_function name="hydro/hull-lift-lbs">
   <function>
    <description>Lift due to hull moving in water</description>
    <product>
     <property>hydro/hull-beam-ft3</property>
     <property>hydro/lift-tweak-factor</property>
     <!-- From Boeing314A: Lift_at_step -->
     <table>
      <independentVar lookup="row">attitude/roll-rad</independentVar>
      <independentVar lookup="column">hydro/v-kt</independentVar>
      <independentVar lookup="table">hydro/hull/height-agl-ft</independentVar>
      <tableData breakPoint="0.0">
                                        0.0   34.0000  44.0000
                             -0.0690    0.0   0.0000   0.0000
                             -0.0590    0.0   0.0000   0.5000
                             -0.0490    0.0   0.5000   1.0000
                             -0.0290    0.0   1.0000   1.0000
                              0.0290    0.0   1.0000   1.0000
                              0.0490    0.0   0.5000   1.0000
                              0.0590    0.0   0.0000   0.5000
                              0.0690    0.0   0.0000   0.0000
      </tableData>
      <tableData breakPoint="5.9">
                                        0.0   34.0000  44.0000
                             -0.0690    0.0   0.0000   0.0000
                             -0.0590    0.0   0.0000   0.5000
                             -0.0490    0.0   0.5000   1.0000
                             -0.0290    0.0   1.0000   1.0000
                              0.0290    0.0   1.0000   1.0000
                              0.0490    0.0   0.5000   1.0000
                              0.0590    0.0   0.0000   0.5000
                              0.0690    0.0   0.0000   0.0000
      </tableData>
      <tableData breakPoint="6.5">
                                        0.0   34.0000  44.0000
                             -0.0690    0.0   0.0000   0.0000
                             -0.0590    0.0   0.0000   0.0000
                             -0.0490    0.0   0.0000   0.0000
                             -0.0290    0.0   0.0000   0.0000
                              0.0290    0.0   0.0000   0.0000
                              0.0490    0.0   0.0000   0.0000
                              0.0590    0.0   0.0000   0.0000
                              0.0690    0.0   0.0000   0.0000
      </tableData>
     </table>
    </product>
   </function>
  </fcs_function>

  <fcs_function name="hydro/float-buoyancy-lbs[0]">
   <description>
    Lift due to buoyancy from the left float.
    Total bouyancy of a Type 2 float is 5000lb.
   </description>
   <function>
    <table>
     <independentVar lookup="row">hydro/float-submersion-ft</independentVar>
     <tableData>
       0.0      0.0
       1.0   2500.0
       3.3   5000.0
     </tableData>
    </table>
   </function>
  </fcs_function>

  <fcs_function name="hydro/float-buoyancy-lbs[1]">
   <description>
    Lift due to buoyancy from the right float.
    Total bouyancy of a Type 2 float is 5000lb.
   </description>
   <function>
    <table>
     <independentVar lookup="row">hydro/float-submersion-ft[1]</independentVar>
     <tableData>
       0.0      0.0
       1.0   2500.0
       3.3   5000.0
     </tableData>
    </table>
   </function>
  </fcs_function>

  <fcs_function name="hydro/float-planing-lift-lbs[0]">
   <function>
    <description>Float lift due to planing.</description>
    <sum>
     <property>hydro/planing-floats/forebody-lift-force-lbs[0]</property>
     <property>hydro/planing-floats/afterbody-lift-force-lbs[0]</property>
    </sum>
   </function>
  </fcs_function>
  <fcs_function name="hydro/float-planing-lift-lbs[1]">
   <function>
    <description>Float lift due to planing.</description>
    <sum>
     <property>hydro/planing-floats/forebody-lift-force-lbs[1]</property>
     <property>hydro/planing-floats/afterbody-lift-force-lbs[1]</property>
    </sum>
   </function>
  </fcs_function>

  <fcs_function name="hydro/damping-lift-lbs">
   <function>
    <product>
     <property>velocities/v-down-fps</property>
     <value> -0.25 </value>
     <table>
      <independentVar lookup="row">hydro/coefficients/C_Delta</independentVar>
      <tableData>
       0.0      0.0
       0.1  -5000.0
       0.4  -7000.0
       1.0 -13000.0
      </tableData>
     </table>
    </product>
   </function>
  </fcs_function>

  <fcs_function name="hydro/fbz-lbs">
   <function>
    <product>
     <value>1.0</value>
     <property>hydro/active-norm</property>
     <sum>
      <property>hydro/buoyancy-lbs</property>
      <property>hydro/hull-lift-lbs</property>
      <property>hydro/float-buoyancy-lbs[0]</property>
      <property>hydro/float-buoyancy-lbs[1]</property>
      <property>hydro/float-planing-lift-lbs[0]</property>
      <property>hydro/float-planing-lift-lbs[1]</property>
      <property>hydro/damping-lift-lbs</property>
     </sum>
    </product>
   </function>
  </fcs_function>

 </channel>

 <channel name="Drag">

  <fcs_function name="hydro/hull-drag-lbs">
   <function>
    <description>Drag due to hull</description>
    <product>
     <value>63.5</value>
     <property>hydro/hull-beam-ft3</property>
     <property>hydro/drag-tweak-factor</property>
     <property>hydro/coefficients/C_R</property>
     <!-- Drag should increase dramatically with beta. -->
     <sum>
      <value>1.0</value>
      <product>  <!-- Increase drag with beta. -->
       <value>20.0</value>
       <abs><sin><property>hydro/beta-rad</property></sin></abs>
      </product>
     </sum>
    </product>
   </function>
  </fcs_function>

  <fcs_function name="hydro/left-float-drag-lbs">
   <function>
    <description>Drag due to left float</description>
    <product>
     <value> 2.0 </value>
     <property>hydro/float-beam-ft3</property>
     <property>hydro/drag-tweak-factor</property>
     <!-- From Boeing314A: Hull_resistance (beta=0) -->
     <table>
      <independentVar lookup="row">hydro/v-kt</independentVar>
      <independentVar lookup="column">hydro/float-submersion-ft</independentVar>
      <tableData>
                                        0.0     1.0
                          0.0000        0.0     0.0000
                          3.7000        0.0     0.0678
                          6.0000        0.0     0.1356
                          8.3000        0.0     0.2288
                          10.6000       0.0     0.3559
                          12.5000       0.0     0.4576
                          14.3000       0.0     0.5593
                          15.9000       0.0     0.6186
                          18.5000       0.0     0.7203
                          21.1000       0.0     0.8051
                          24.5000       0.0     0.8983
                          26.4000       0.0     0.9322
                          28.7000       0.0     0.9576
                          31.3000       0.0     0.9915
                          34.0000       0.0     1.0000
                          36.2000       0.0     0.9915
                          38.9000       0.0     0.9961
                          41.5000       0.0     0.9068
                          44.9000       0.0     0.7119
                          48.7000       0.0     0.6186
                          52.5000       0.0     0.4915
                          57.4000       0.0     0.1949
      </tableData>
     </table>
     <!-- Drag should increase dramatically with beta. -->
     <sum>
      <value>1.0</value>
      <product>  <!-- Increase drag with beta. -->
       <value>20.0</value>
       <abs><sin><property>hydro/beta-rad</property></sin></abs>
      </product>
     </sum>
    </product>
   </function>
  </fcs_function>

  <fcs_function name="hydro/right-float-drag-lbs">
   <function>
    <description>Drag due to right float</description>
    <product>
     <value> 2.0 </value>
     <property>hydro/float-beam-ft3</property>
     <property>hydro/drag-tweak-factor</property>
     <!-- From Boeing314A: Hull_resistance (beta=0) -->
     <table>
      <independentVar lookup="row">hydro/v-kt</independentVar>
      <independentVar lookup="column">hydro/float-submersion-ft[1]</independentVar>
      <tableData>
                                        0.0     1.0
                          0.0000        0.0     0.0000
                          3.7000        0.0     0.0678
                          6.0000        0.0     0.1356
                          8.3000        0.0     0.2288
                          10.6000       0.0     0.3559
                          12.5000       0.0     0.4576
                          14.3000       0.0     0.5593
                          15.9000       0.0     0.6186
                          18.5000       0.0     0.7203
                          21.1000       0.0     0.8051
                          24.5000       0.0     0.8983
                          26.4000       0.0     0.9322
                          28.7000       0.0     0.9576
                          31.3000       0.0     0.9915
                          34.0000       0.0     1.0000
                          36.2000       0.0     0.9915
                          38.9000       0.0     0.9961
                          41.5000       0.0     0.9068
                          44.9000       0.0     0.7119
                          48.7000       0.0     0.6186
                          52.5000       0.0     0.4915
                          57.4000       0.0     0.1949
      </tableData>
     </table>
     <!-- Drag should increase dramatically with beta. -->
     <sum>
      <value>1.0</value>
      <product>  <!-- Increase drag with beta. -->
       <value>20.0</value>
       <abs><sin><property>hydro/beta-rad</property></sin></abs>
      </product>
     </sum>
    </product>
   </function>
  </fcs_function>

  <summer name="hydro/fdrag-lbs">
   <input> hydro/hull-drag-lbs </input>
   <input> hydro/left-float-drag-lbs </input>
   <input> hydro/right-float-drag-lbs </input>
  </summer>

 </channel>

 <channel name="Side">

  <fcs_function name="hydro/hull-side-lbs">
   <function>
    <description>Side force due to hull. Guessed.</description>
    <product>
     <value>-1.0</value>
     <property>hydro/coefficients/C_Delta</property>
     <property>hydro/qbar-u-psf</property>
     <property>hydro/hull-beam-ft2</property>
     <sin><property>hydro/beta-rad</property></sin>
     <value>0.20</value>
    </product>
   </function>
  </fcs_function>

  <summer name="hydro/fside-lbs">
   <input>hydro/hull-side-lbs</input>
  </summer>

 </channel>

 <channel name="Pitch">

  <fcs_function name="hydro/buoyancy-pitch-moment-lbsft">
   <documentation>
    Pitch moment due to buoyancy.
    This data was computed in Gerris using the S.23 3d model.
   </documentation>
   <function>
    <product>
     <value> 0.73756215 </value>
     <table>
      <independentVar lookup="row">hydro/hull/pitch-deg</independentVar>
      <independentVar lookup="column">hydro/hull/roll-deg</independentVar>
      <independentVar lookup="table">hydro/hull/height-agl-ft</independentVar>
      <tableData breakPoint="0.0">
            -4.0  -2.0   0.0   2.0   4.0
       -4 794395 873072 768282 873072 794769
       -2 565277 616841 536860 616841 565279
        0 258473 273597 243000 273596 258472
        2 -140793 -189274 -138808 -189236 -140793
        4 -636405 -791097 -616951 -791091 -636405
        8 -1.12718e+06 -1.31198e+06 -1.12603e+06 -1.31198e+06 -1.12729e+06
       12 -1.34168e+06 -1.51067e+06 -1.27753e+06 -1.51135e+06 -1.3423e+06
      </tableData>
      <tableData breakPoint="1.0">
            -4.0  -2.0   0.0   2.0   4.0
       -4 742041 801459 716430 801452 742041
       -2 526964 594374 514582 594374 526964
        0 279133 305057 267611 305057 279132
        2 -18360.3 -22716.6 -14948 -22717.4 -18360.6
        4 -411026 -457989 -378280 -458289 -411400
        8 -1.14223e+06 -1.33748e+06 -1.13448e+06 -1.33748e+06 -1.14224e+06
       12 -1.21429e+06 -1.49274e+06 -1.29324e+06 -1.49274e+06 -1.2143e+06
      </tableData>
      <tableData breakPoint="2.0">
            -4.0  -2.0   0.0   2.0   4.0
       -4 601872 656289 571272 656289 601871
       -2 438008 473242 407863 473242 438008
        0 236145 271280 231674 271280 236144
        2 37655.4 42630.8 34111.9 42630.6 37655.3
        4 -195202 -240916 -201747 -240918 -195202
        8 -889810 -1.04415e+06 -894807 -1.04415e+06 -889816
       12 -1.19137e+06 -1.48196e+06 -1.258e+06 -1.48151e+06 -1.19137e+06
      </tableData>
      <tableData breakPoint="3.0"> <!-- NOTE: pitch 12 roll +/-2 bogus -->
            -4.0  -2.0   0.0   2.0   4.0
       -4 371781 451925 387907 451925 371784
       -2 252780 312081 265248 312082 252780
        0 140401 180943 149911 180942 140401
        2 35641.6 46879.8 39839.3 46879.7 35641.8
        4 -86450 -115375 -95265.5 -115375 -86450.6
        8 -553639 -647123 -547275 -647123 -553640
       12 -1.08928e+06 -1.08928e+06 -1.09356e+06 -1.08928e+06 -1.08928e+06
      </tableData>
      <tableData breakPoint="4.0">
            -4.0  -2.0   0.0   2.0   4.0
       -4 201320 254145 213503 254145 201320
       -2 116673 151664 125742 151664 116672
        0 62141.4 82234.8 66592.1 82234.8 62141.4
        2 16280.4 23777.5 17640.8 23809.9 16276.3
        4 -31320.7 -33945.7 -30333.3 -33951.6 -31322.5
        8 -257126 -314051 -266728 -314052 -257126
       12 -805205 -948455 -827608 -948455 -805205
      </tableData>
      <tableData breakPoint="5.0">
            -4.0  -2.0   0.0   2.0   4.0
       -4 79727.1 102478 83412 102477 79727.1
       -2 34802.1 50035.5 40687.5 49981.8 34802.2
        0 13121.2 19563.2 11778.3 19553.9 13121.1
        2 662.807 2997.44 457.508 3000.47 661.053
        4 -9234.21 -10904.7 -10290.1 -10904.8 -9234.21
        8 -72752.2 -99287 -83972.4 -99288.2 -72752.8
       12 -485911 -569014 -489666 -569016 -485913
      </tableData>
      <tableData breakPoint="6.0">
            -4.0  -2.0   0.0   2.0   4.0
       -4 9856.35 11651.3 10816.3 11651.4 9856.35
       -2 2893.69 2538.61 1924.94 2538.64 2893.71
        0 -55.4567 654.824 610.936 654.824 -55.4995
        2 -832.434 -746.173 -924.108 -746.13 -832.434
        4 -2543.06 -2476.83 -2447.66 -2476.82 -2542.75
        8 -10982.2 -11935.5 -12778.1 -11935.6 -10982.3
       12 -175102 -236119 -193187 -236119 -175098
      </tableData>
      <tableData breakPoint="7.0">
            -4.0  -2.0   0.0   2.0   4.0
       -4 1277.87 957.499 990.988 958.278 1277.94
       -2 -166.13 44.5178 193.53 44.424 -166.155
        0 -1062.69 -1042.51 -1315.64 -1042.48 -1062.76
        2 -1226.66 -1318.77 -1272.68 -1318.73 -1226.65
        4 -1815 -1794.62 -1913.66 -1794.61 -1814.99
        8 -4541.25 -4448.52 -4842.38 -4448.25 -4542.99
       12 -43909.1 -39749.6 -38314.9 -39749.9 -43909.6
      </tableData>
      <tableData breakPoint="8.0">
            -4.0  -2.0   0.0   2.0   4.0
       -4 -539.871 -599.041 -567.42 -599.04 -538.624
       -2 -916.836 -872.569 -791.409 -872.777 -916.83
        0 -1262.84 -1325.61 -1287.74 -1325.61 -1262.85
        2 -1564.8 -1626.85 -1699.42 -1627.17 -1564.8
        4 -1953.53 -1988.31 -1965.56 -1988.3 -1953.53
        8 -2874.48 -2936.27 -2938.92 -2936.26 -2874.21
       12 -8592.15 -9474.87 -9381 -9479.34 -8592.15
      </tableData>
<!--
      <tableData breakPoint="9.0">
            -4.0  -2.0   0.0   2.0   4.0
       -4 -625.455 -601.809 -460.689 -600.832 -625.265
       -2 -1040.53 -1105.1 -1105.74 -1107.19 -1040.18
        0 -1221.91 -1311.27 -1446.95 -1311.32 -1221.92
        2 -1621.45 -1699.61 -1699.57 -1702.35 -1621.42
        4 -1914.57 -1889.33 -2018.82 -1889.45 -1914.54
        8 -2476.94 -2462.8 -2401.37 -2462.74 -2472.12
       12 -3803.03 -3579.03 -3554.87 -3582.25 -3806.89
      </tableData>
      <tableData breakPoint="10.0">
            -4.0  -2.0   0.0   2.0   4.0
       -4 -475.855 -478.4 -484.169 -478.349 -475.972
       -2 -872.44 -847.823 -846.027 -847.823 -872.434
        0 -1047.45 -1125.91 -1104.92 -1125.91 -1047.44
        2 -1505.76 -1525.5 -1559.25 -1525.46 -1514.2
        4 -1962.69 -1943.74 -2069.74 -1943.72 -1965.56
        8 -2389.04 -2423.44 -2348.17 -2423.06 -2393.5
       12 -3074.16 -3329.39 -3275.16 -3329.36 -3074.12
      </tableData>
-->
      <tableData breakPoint="9.0">
            -4       -2       0        2        4
       -4   0.0      0.0      0.0      0.0      0.0
       -2   0.0      0.0      0.0      0.0      0.0
        0   0.0      0.0      0.0      0.0      0.0
        2   0.0      0.0      0.0      0.0      0.0
        4   0.0      0.0      0.0      0.0      0.0
        8   0.0      0.0      0.0      0.0      0.0
        12  0.0      0.0      0.0      0.0      0.0
      </tableData>
     </table>
    </product>
   </function>
  </fcs_function>

  <fcs_function name="hydro/damping-pitch-moment-lbsft">
   <function>
    <product>
     <property>velocities/thetadot-rad_sec</property>
     <value> 2.0 </value>
     <table>
      <independentVar lookup="row">hydro/coefficients/C_Delta</independentVar>
      <tableData>
       0.0       0.0
       0.1  -60000.0
       0.4 -100000.0
       1.0 -200000.0
      </tableData>
     </table>
    </product>
   </function>
  </fcs_function>

  <fcs_function name="hydro/hull-pitch-moment-lbsft">
   <function>
    <description>Hydrodynamic pitch moment due to hull</description>
    <product>
     <value>63.5</value>
     <property>hydro/hull-beam-ft4</property>
     <property>hydro/pitch-tweak-factor</property>
     <property>hydro/coefficients/C_M</property>
    </product>
   </function>
  </fcs_function>

  <fcs_function name="hydro/step-pitch-moment-lbsft">
   <function>
    <description>Step moment</description>
    <product>
     <property>hydro/hull-beam-ft4</property>
     <property>hydro/pitch-tweak-factor</property>
     <!-- From Boeing314A: Step_moment -->
     <table>
      <independentVar lookup="row">hydro/v-kt</independentVar>
      <independentVar lookup="column">hydro/hull/height-agl-ft</independentVar>
      <tableData>
                                        4.1     5.0     5.9
                          0.0000        0.0000  0.0000  0.0000
                          17.0000      -1.6000 -1.2800  0.0000
                          34.0000       0.8000  0.6400  0.0000
                          51.0000       0.0000  0.0000  0.0000
                          57.000       -0.1000 -0.0800  0.0000
      </tableData>
     </table>
    </product>
   </function>
  </fcs_function>

  <summer name="hydro/pitch-moment-lbsft">
   <input> hydro/buoyancy-pitch-moment-lbsft </input>
   <input> hydro/damping-pitch-moment-lbsft </input>
   <input> hydro/hull-pitch-moment-lbsft </input>
   <!-- input> hydro/step-pitch-moment-lbsft </input -->
  </summer>

 </channel>

 <channel name="Yaw">

  <fcs_function name="hydro/hull-yaw-moment-lbsft">
   <documentation>
    Guess based on the shape of the hull (essentially length of water line
    forward and aft of CoG guesstimated in blender).
   </documentation>
   <function>
    <description>Hydrodynamic yaw moment due to hull (per deg beta)</description>
    <product>
     <property>hydro/qbar-psf</property>
     <property>hydro/hull-beam-ft3</property>
     <property>hydro/beta-rad</property>
     <value>-0.02</value>
     <table>
      <independentVar lookup="row">hydro/hull/pitch-deg</independentVar>
      <independentVar lookup="column">hydro/hull/height-agl-ft</independentVar>
      <tableData breakpoint="">
               0.0    3.0    4.0    6.0    7.0
        0.0   -0.10   0.10   0.10   0.10   0.0
        1.0   -0.105  0.075  0.30  -0.05   0.0
        2.0   -0.11  -0.05   0.05  -0.10   0.0
        3.0   -0.12  -0.10   0.00  -0.12   0.0
        4.0   -0.13  -0.13  -0.10  -0.13   0.0
        9.0   -0.20  -0.20  -0.20  -0.20   0.0
      </tableData>
     </table>
    </product>
   </function>
  </fcs_function>


  <fcs_function name="hydro/damping-yaw-moment-lbsft">
   <documentation>
    Dampen yaw movements while in the water. Guessed.
   </documentation>
   <function>
    <product>
     <property>hydro/yaw-tweak-factor</property>
     <property>velocities/psidot-rad_sec</property>
     <value>0.15</value>
     <table>
      <independentVar lookup="row">hydro/coefficients/C_Delta</independentVar>
      <tableData>
       0.0        0.0
       0.1   -40000.0
       0.4  -600000.0
       1.0 -1000000.0
      </tableData>
     </table>
    </product>
   </function>
  </fcs_function>

  <fcs_function name="hydro/floats-yaw-moment-lbsft">
   <documentation>
    Yaw moment due to drag from the floats.
    Assumption: the longitudal position of the floats coincide with the HRP.
   </documentation>
   <function>
    <product>
     <property>hydro/float-arm-y-ft[1]</property>
     <cos>
      <property>hydro/beta-rad</property>
     </cos>
     <difference>
      <property>hydro/right-float-drag-lbs</property>
      <property>hydro/left-float-drag-lbs</property>
     </difference>
    </product>
   </function>
  </fcs_function>

  <summer name="hydro/yaw-moment-lbsft">
   <input> hydro/hull-yaw-moment-lbsft </input>
   <input> hydro/floats-yaw-moment-lbsft </input>
   <input> hydro/damping-yaw-moment-lbsft </input>
  </summer>

 </channel>

 <channel name="Roll">

  <fcs_function name="hydro/buoyancy-roll-moment-lbsft">
   <documentation>
    Roll moment due to buoyancy.
    This data was computed in Gerris using the S.23 3d model.
   </documentation>
   <function>
    <product>
     <value> 0.73756215 </value>
     <table>
      <independentVar lookup="row">hydro/hull/pitch-deg</independentVar>
      <independentVar lookup="column">hydro/hull/roll-deg</independentVar>
      <independentVar lookup="table">hydro/hull/height-agl-ft</independentVar>
      <tableData breakPoint="0.0" >
            -4.0  -2.0   0.0   2.0   4.0
       -4 1132.91 3144.73 -1.83506 -3144.02 -1136.26
       -2 -1717.66 3152.52 4.91177 -3151.83 1716.43
        0 -965.733 -241.478 3.56414 242.449 965.181
        2 -653.653 -3983.77 2.90621 3984.45 651.893
        4 -230.997 -19051.6 4.69397 19054.6 232.588
        8 10091.8 -1170.76 5.92693 1173.2 -9597.37
       12 19839.1 15307.4 2.42165 -15335.5 -19907.2
      </tableData>
      <tableData breakPoint="1.0" >
            -4.0  -2.0   0.0   2.0   4.0
       -4 -4489.47 647.865 2.74016 -596.378 4488.68
       -2 -4101.75 -1286.95 1.15452 1287.21 4101.51
        0 -3830.27 -2724.95 1.61639 2725.98 3829.93
        2 2658.57 -1033.81 2.44355 1034.29 -2657.73
        4 -1962.31 -2708.62 5.36615 2714.18 1579.45
        8 8099.01 -5944.68 -0.507029 5951.06 -8096.13
       12 6195.87 3414.35 4.13887 -3412.46 -6193.73
      </tableData>
      <tableData breakPoint="2.0" >
            -4.0  -2.0   0.0   2.0   4.0
       -4 -1367.18 778.049 2.52421 -777.105 1366.99
       -2 -1923.67 873.256 0.535026 -873.127 1923.41
        0 1016.54 716.97 0.605134 -716.694 -1016.64
        2 1483.96 2776.27 1.69169 -2776.38 -1484.18
        4 1198.89 -307.846 2.26077 308.429 -1198.73
        8 -3740.97 -5590.15 5.33952 5592.13 3741.46
       12 35.7637 -8727.34 3.65246 5085.2 -34.975
      </tableData>
      <tableData breakPoint="3.0" > <!-- NOTE: pitch 12 roll +/-2 bogus -->
            -4.0  -2.0   0.0   2.0   4.0
       -4 1470.91 3445.06 0.269221 -3444.97 -1551.11
       -2 429.955 730.729 0.364612 -697.663 -431.632
        0 1271.64 1451 0.537519 -1451 -1268.92
        2 1345.16 2159.73 -0.330731 -2159.71 -1345.42
        4 1579.92 3102.36 1.68181 -3102.6 -1579.94
        8 -1846.23 -7214.52 5.08205 7216.6 1846.62
       12 553.978 553.978 5.38245 -553.439 -553.439
      </tableData>
      <tableData breakPoint="4.0" >
            -4.0  -2.0   0.0   2.0   4.0
       -4 846.48 898.461 -0.197694 -898.394 -845.849
       -2 827.234 633.996 -0.120358 -633.947 -827.259
        0 795.787 -251.329 0.856818 251.527 -795.775
        2 237.628 201.946 0.250281 -201.567 -240.294
        4 766.737 1272.77 -1.21915 -1279.27 -766.805
        8 2730.29 3019.37 4.27939 -3019.38 -2730.05
       12 -6023.97 -5768.18 6.66964 5768.38 6024.6
      </tableData>
      <tableData breakPoint="5.0" >
            -4.0  -2.0   0.0   2.0   4.0
       -4 856.707 1844.57 -0.618471 -1844.88 -857.057
       -2 849.172 902.428 -0.472863 -818.044 -849.166
        0 1118.87 1917.84 -0.425374 -1919.15 -1118.35
        2 152.709 130.985 0.549974 -135.42 -155.465
        4 -148.869 716.835 -0.357189 -716.762 148.917
        8 2402.38 1193.88 0.719134 -1194.61 -2402.17
       12 2740.13 -5122.88 5.24414 5123.6 -2739.61
      </tableData>
      <tableData breakPoint="6.0" >
            -4.0  -2.0   0.0   2.0   4.0
       -4 -262.034 200.418 -0.204909 -199.837 263.028
       -2 -64.754 44.2375 -0.14505 -44.2841 64.735
        0 -1.02471 58.2872 0.0757767 -58.3176 1.11618
        2 81.9092 126.845 0.577447 -126.813 -81.916
        4 -73.0912 30.3084 0.992686 -30.3054 73.0998
        8 519.597 362.223 -0.149887 -362.191 -519.582
       12 4485.08 2469.31 5.44404 -2469.43 -4485.06
      </tableData>
      <tableData breakPoint="7.0" >
            -4.0  -2.0   0.0   2.0   4.0
       -4 -6.45455 42.088 -0.0897964 -42.6245 5.5806
       -2 -7.76596 36.3943 -0.211349 -36.4629 7.66014
        0 121.894 93.0656 -0.250723 -93.0767 -121.903
        2 88.9589 1.74412 0.0136017 -1.76603 -88.962
        4 106.055 79.957 0.644695 -79.9589 -106.061
        8 -497.319 -199.786 1.58978 199.909 496.931
       12 2355.34 633.708 1.33159 -633.616 -2355.25
      </tableData>
      <tableData breakPoint="8.0" >
            -4.0  -2.0   0.0   2.0   4.0
       -4 116.821 57.4184 -0.394429 -59.4196 -116.495
       -2 155.847 71.3015 0.128816 -71.4714 -155.853
        0 56.5965 32.2282 0.225545 -32.2187 -56.6447
        2 -10.8683 -36.5665 0.0066792 36.5575 10.8676
        4 83.6683 55.2516 0.330561 -55.2509 -83.6793
        8 -73.632 5.52166 -0.046139 -5.53083 73.6375
       12 249.164 305.038 -0.0882072 -307.445 -249.183
      </tableData>
      <tableData breakPoint="9.0">
            -4       -2       0        2        4
       -4   0.0      0.0      0.0      0.0      0.0
       -2   0.0      0.0      0.0      0.0      0.0
        0   0.0      0.0      0.0      0.0      0.0
        2   0.0      0.0      0.0      0.0      0.0
        4   0.0      0.0      0.0      0.0      0.0
        8   0.0      0.0      0.0      0.0      0.0
        12  0.0      0.0      0.0      0.0      0.0
      </tableData>
     </table>
    </product>
   </function>
  </fcs_function>

  <fcs_function name="hydro/floats-roll-moment-lbsft">
   <documentation>
    Roll moment due to lift from the floats.
    Assumption: the longitudal position of the floats coincide with the HRP.
   </documentation>
   <function>
    <product>
     <property>hydro/float-arm-y-ft[1]</property>
     <difference>
      <sum>
       <property>hydro/float-buoyancy-lbs[0]</property>
       <property>hydro/float-planing-lift-lbs[0]</property>
      </sum>
      <sum>
       <property>hydro/float-buoyancy-lbs[1]</property>
       <property>hydro/float-planing-lift-lbs[1]</property>
      </sum>
     </difference>
    </product>
   </function>
  </fcs_function>

  <fcs_function name="hydro/damping-roll-moment-lbsft">
   <function>
    <product>
     <value>5.0</value>
     <property>velocities/phidot-rad_sec</property>
     <table>
      <independentVar lookup="row">hydro/coefficients/C_Delta</independentVar>
      <tableData>
       0.0      0.0
       0.1 -10000.0
       0.5 -50000.0
       1.0 -80000.0
      </tableData>
     </table>
    </product>
   </function>
  </fcs_function>

  <summer name="hydro/roll-moment-lbsft">
   <input> hydro/buoyancy-roll-moment-lbsft </input>
   <input> hydro/floats-roll-moment-lbsft </input>
   <input> hydro/damping-roll-moment-lbsft </input>
  </summer>

 </channel>

</system>
<?xml version="1.0"?>
<!--


  ****************** IMPORTANT NOTICES **********************

   This file was generated by Datcom+, a superset of 
    the USAF Digital DATCOM program.
   This file is considered an intermediary file in the 
   DATCOM/JSBSim process. This file may be overwritten without
   warning, so any changes that you make in here may be lost.

   If you intend to use this file as it is and modify it, make
   sure that you take the necessary precautions to prevent it 
   from being overwritten, like renaming it.


   ***********************************************************


   DISCLAIMER REQUIRED BY HQ USAF FOR PUBLIC RELEASE APPROVAL

   THIS SOFTWARE AND ANY ACCOMPANYING DOCUMENTATION
   IS RELEASED "AS IS".  THE U.S. GOVERNMENT MAKES NO
   WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, CONCERNING
   THIS SOFTWARE AND ANY ACCOMPANYING DOCUMENTATION,
   INCLUDING, WITHOUT LIMITATION, ANY WARRANTIES OF
   MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE.
   IN NO EVENT WILL THE U.S. GOVERNMENT BE LIABLE FOR ANY
   DAMAGES, INCLUDING LOST PROFITS, LOST SAVINGS OR OTHER
   INCIDENTAL OR CONSEQUENTIAL DAMAGES ARISING OUT OF THE 
   USE, OR INABILITY TO USE, THIS SOFTWARE OR ANY
   ACCOMPANYING DOCUMENTATION, EVEN IF INFORMED IN ADVANCE
   OF THE POSSIBILITY OF SUCH DAMAGES.


   ***********************************************************
-->



<!-- **********************************************************************
        AERODYNAMICS
     *******************************************************************-->

   <aerodynamics>

      <alphalimits unit="RAD">
         <min>  -.2793    </min>
         <max>   .4189    </max>
      </alphalimits>




      <!-- ************************* 
                Sign Conventions    
           ************************* 

           Control displacements
                Stick    FWD  + / Aft -
                Stick    Left + / Right -
                Wheel    CCW  + / CW -
                Pedal    Left + / Right -
                Elevator trim Nose Up + / Nose down -

           Surfaces
                Elevator  TED + / TEU -
                R Ail     TED + / TEU -
                L Ail     TED + / TEU -
                Rudder    TEL + / TER -

           F&M, Accel, Rates, Displacements
                Pitch     Up  + / Down -
                Roll      Rgt + / Left -
                Yaw       Rgt + / Left -

           Other
                Alpha     Up  + / Down -
                Beta Wind in right ear + / Wind in left ear -
                Slip Ball right of center + / left of center -
      -->




      <!-- ************************************** 
                ASSUMPTIONS AND LIMITATIONS

           There is no interaction between deflected surfaces modeled
           so there is no change in elevator effects with the flaps
           deflected, for example.

           Terms known to be missing from DATCOM:
              Power effects
              Ground effects
              Cyr, CyDr, Cyda, ClDr, Cndr

           **************************************
      -->


      <!--
           The following ground effect tables are NOT generated
           by DATCOM, but provide representative effects.
           These terms are not currently used in this model.
      -->


      <function name="aero/function/ground-effect-factor-lift">
         <description>Change in lift due to ground effect factor</description>
         <product>
            <table>
               <independentVar lookup="row">aero/h_b-mac-ft</independentVar>
               <tableData>
                  0.0  1.203
                  0.1  1.127
                  0.15 1.090
                  0.2  1.073
                  0.3  1.046
                  0.4  1.055
                  0.5  1.019
                  0.6  1.013
                  0.7  1.008
                  0.8  1.006
                  0.9  1.003
                  1.0  1.002
                  1.1  1.0
               </tableData>
            </table>
         </product>
      </function>

      <function name="aero/function/ground-effect-factor-drag">
         <description>Change in drag due to ground effect</description>
         <product>
            <table>
               <independentVar lookup="row">aero/h_b-mac-ft</independentVar>
               <tableData>
                  0.0  0.480
                  0.1  0.515
                  0.15 0.629
                  0.2  0.709
                  0.3  0.815
                  0.4  0.882
                  0.5  0.928
                  0.6  0.962
                  0.7  0.988
                  0.8  1.0
                  0.9  1.0
                  1.0  1.0
                  1.1  1.0
               </tableData>
            </table>
         </product>
      </function>





<!-- ********************************************************************** -->


     <axis name="LIFT">

         <function name="aero/coefficient/CLwbh">
            <description>
               Lift due to alpha
               Increase in CL decreases Period and damping,Dutch Roll damping
               CL is low for landing
            </description>
            <product>
               <property>aero/function/ground-effect-factor-lift</property>
               <property>aero/qbar-psf</property>
               <property>metrics/Sw-sqft</property>
               <!-- The wing incidence is 3 deg. -->
               <!-- value>0.90</value --> <!-- Make CL at 17-3 deg. 1.65. -->
               <value>0.83</value> <!-- Make CL at 12-3 deg. 1.30. -->
               <table>
                  <independentVar lookup="row">aero/alpha-rad</independentVar>
                  <tableData>
                       -.2793        -1.205    
                       -.1745        -.5125    
                       -.1396        -.2906    
                       -.1047        -.7663E-01
                       -.6981E-01     .1375    
                       -.3491E-01     .3586    
                         .000         .5854    
                        .3491E-01     .8176    
                        .6981E-01     1.055    
                        .1396         1.490    
                        .1745         1.654    
                        .2094         1.776    
                        .2443         1.845    
                        .2618         1.837    
                        .2793         1.807    
                        .2967         1.554    
                        .3142         1.203    
                        .3491         .6313    
                        .3840         .1405    
                        .4189        -.2022    
                  </tableData>
               </table>
            </product>
         </function>

         <function name="aero/coefficient/CLq">
            <description>
               Basic Lift Coefficient due to pitch rate(per radian)
            </description>
            <product>
               <property>velocities/q-aero-rad_sec</property>
               <property>aero/qbar-psf</property>
               <property>metrics/Sw-sqft</property>
               <property>aero/ci2vel</property>
               <table>
                  <independentVar lookup="row">aero/alpha-rad</independentVar>
                  <tableData>
                       -.2793         7.488    
                       -.1745         7.488    
                       -.1396         7.488    
                       -.1047         7.488    
                       -.6981E-01     7.488    
                       -.3491E-01     7.488    
                         .000         7.488    
                        .3491E-01     7.488    
                        .6981E-01     7.488    
                        .1396         7.488    
                        .1745         7.488    
                        .2094         7.488    
                        .2443         7.488    
                        .2618         7.488    
                        .2793         7.488    
                        .2967         7.488    
                        .3142         7.488    
                        .3491         7.488    
                        .3840         7.488    
                        .4189         7.488    
                  </tableData>
               </table>
            </product>
         </function>

         <function name="aero/coefficient/CLad">
            <description>
               Basic Lift Coefficient due to AOA rate
               Important contributor to Short-Period damping
               For low Cla, aircraft must land at high alpha
            </description>
            <product>
               <property>aero/alphadot-rad_sec</property>
               <property>aero/qbar-psf</property>
               <property>metrics/Sw-sqft</property>
               <property>aero/ci2vel</property>
               <table>
                  <independentVar lookup="row">aero/alpha-rad</independentVar>
                  <tableData>
                       -.2793         1.783    
                       -.1745         1.841    
                       -.1396         1.857    
                       -.1047         1.881    
                       -.6981E-01     1.954    
                       -.3491E-01     2.044    
                         .000         2.118    
                        .3491E-01     2.079    
                        .6981E-01     1.933    
                        .1396         1.536    
                        .1745         1.196    
                        .2094         .7401    
                        .2443         .3574    
                        .2618        -.6955    
                        .2793        -1.752    
                        .2967        -3.991    
                        .3142        -5.246    
                        .3491        -3.057    
                        .3840        -2.436    
                        .4189        -2.063    
                  </tableData>
               </table>
            </product>
         </function>

         <function name="aero/coefficient/CLdF3L">
            <description>
               Lift Coefficient due to Left Fowler Flaps Deflection
               Positive surface deflection is trailing edge down
               Ultimately, we will feed this left flap pos
            </description>
            <product>
               <property>aero/qbar-psf</property>
               <property>metrics/Sw-sqft</property>
               <table>
                  <independentVar lookup="row">fcs/flap-pos-deg</independentVar>
                  <tableData>
                         .000          .000    
                        8.000         .2988E-01
                        12.00         .5975E-01
                        25.00         .1285    
                  </tableData>
               </table>
            </product>
         </function>

         <function name="aero/coefficient/CLdF3R">
            <description>
               Lift Coefficient due to Right Fowler Flaps Deflection
               Positive surface deflection is trailing edge down
               Ultimately, we will feed this right flap pos
            </description>
            <product>
               <property>aero/qbar-psf</property>
               <property>metrics/Sw-sqft</property>
               <table>
                  <independentVar lookup="row">fcs/flap-pos-deg</independentVar>
                  <tableData>
                         .000          .000    
                        8.000         .2988E-01
                        12.00         .5975E-01
                        25.00         .1285    
                  </tableData>
               </table>
            </product>
         </function>

         <function name="aero/coefficient/CLDe">
            <description>
               Lift Coefficient due to Elevator Deflection
               Positive surface deflection is trailing edge down
            </description>
            <product>
               <property>aero/qbar-psf</property>
               <property>metrics/Sw-sqft</property>
               <table>
                  <independentVar lookup="row">fcs/elevator-pos-rad</independentVar>
                  <tableData>
                       -.3491        -.1026    
                       -.2618        -.9847E-01
                       -.1745        -.7035E-01
                       -.8727E-01    -.3518E-01
                         .000         .7035E-04
                        .8727E-01     .3518E-01
                        .1745         .7035E-01
                        .2618         .9847E-01
                        .3491         .1026    
                  </tableData>
               </table>
            </product>
         </function>

     </axis>




<!-- ********************************************************************** -->


     <axis name="DRAG">

         <function name="aero/coefficient/CD">
            <description>
               Basic Drag Coefficient
               Sense: Always positive
               Main contributor to Phugoid damping: Greater Cd, Better damping
            </description>
            <product>
               <property>aero/function/ground-effect-factor-drag</property>
               <property>aero/qbar-psf</property>
               <property>metrics/Sw-sqft</property>
               <value>1.23</value> <!-- Adjusted for climb time. -->
               <table>
                  <independentVar lookup="row">aero/alpha-rad</independentVar>
                  <tableData>
                       -.2793         .7340E-01
                       -.1745         .2602E-01
                       -.1396         .1883E-01
                       -.1047         .1537E-01
                       -.6981E-01     .1568E-01
                       -.3491E-01     .1983E-01
                         .000         .2837E-01
                        .3491E-01     .4131E-01
                        .6981E-01     .5898E-01
                        .1396         .1021    
                        .1745         .1211    
                        .2094         .1365    
                        .2443         .1458    
                        .2618         .1429    
                        .2793         .1390    
                        .2967         .1005    
                        .3142         .7088E-01
                        .3491         .4924E-01
                        .3840         .4910E-01
                        .4189         .5829E-01
                  </tableData>
               </table>
            </product>
         </function>

         <function name="aero/coefficient/CdDf3L">
            <description>
               Drag Coefficient due to Left Fowler Flaps Deflection
               Positive surface deflection is trailing edge down
               Ultimately, we will feed this left flap pos
            </description>
            <product>
               <property>aero/qbar-psf</property>
               <property>metrics/Sw-sqft</property>
               <table>
                  <independentVar lookup="row">aero/alpha-deg</independentVar>
                  <independentVar lookup="column">fcs/flap-pos-deg</independentVar>
                  <tableData>
                                       .000         8.000         12.00         25.00    
                       -16.00          .000        -.2250E-02    -.4354E-02    -.8641E-02
                       -10.00          .000        -.1154E-02    -.2163E-02    -.3929E-02
                       -8.000          .000        -.7889E-03    -.1432E-02    -.2359E-02
                       -6.000          .000        -.4237E-03    -.7018E-03    -.7887E-03
                       -4.000          .000        -.5849E-04     .2865E-04     .7817E-03
                       -2.000          .000         .3067E-03     .7591E-03     .2352E-02
                         .000          .000         .6719E-03     .1489E-02     .3922E-02
                        2.000          .000         .1037E-02     .2220E-02     .5493E-02
                        4.000          .000         .1402E-02     .2950E-02     .7063E-02
                        8.000          .000         .2133E-02     .4411E-02     .1020E-01
                        10.00          .000         .2498E-02     .5142E-02     .1177E-01
                        12.00          .000         .2863E-02     .5872E-02     .1334E-01
                        14.00          .000         .3228E-02     .6602E-02     .1492E-01
                        15.00          .000         .3411E-02     .6968E-02     .1570E-01
                        16.00          .000         .3594E-02     .7333E-02     .1649E-01
                        17.00          .000         .3776E-02     .7698E-02     .1727E-01
                        18.00          .000         .3959E-02     .8063E-02     .1806E-01
                        20.00          .000         .4324E-02     .8794E-02     .1963E-01
                        22.00          .000         .4689E-02     .9524E-02     .2120E-01
                        24.00          .000         .5054E-02     .1025E-01     .2277E-01
                  </tableData>
               </table>
            </product>
         </function>

         <function name="aero/coefficient/CdDf3R">
            <description>
               Drag Coefficient due to Right Fowler Flaps Deflection
               Positive surface deflection is trailing edge down
               Ultimately, we will feed this right flap pos
            </description>
            <product>
               <property>aero/qbar-psf</property>
               <property>metrics/Sw-sqft</property>
               <table>
                  <independentVar lookup="row">aero/alpha-deg</independentVar>
                  <independentVar lookup="column">fcs/flap-pos-deg</independentVar>
                  <tableData>
                                       .000         8.000         12.00         25.00    
                       -16.00          .000        -.2250E-02    -.4354E-02    -.8641E-02
                       -10.00          .000        -.1154E-02    -.2163E-02    -.3929E-02
                       -8.000          .000        -.7889E-03    -.1432E-02    -.2359E-02
                       -6.000          .000        -.4237E-03    -.7018E-03    -.7887E-03
                       -4.000          .000        -.5849E-04     .2865E-04     .7817E-03
                       -2.000          .000         .3067E-03     .7591E-03     .2352E-02
                         .000          .000         .6719E-03     .1489E-02     .3922E-02
                        2.000          .000         .1037E-02     .2220E-02     .5493E-02
                        4.000          .000         .1402E-02     .2950E-02     .7063E-02
                        8.000          .000         .2133E-02     .4411E-02     .1020E-01
                        10.00          .000         .2498E-02     .5142E-02     .1177E-01
                        12.00          .000         .2863E-02     .5872E-02     .1334E-01
                        14.00          .000         .3228E-02     .6602E-02     .1492E-01
                        15.00          .000         .3411E-02     .6968E-02     .1570E-01
                        16.00          .000         .3594E-02     .7333E-02     .1649E-01
                        17.00          .000         .3776E-02     .7698E-02     .1727E-01
                        18.00          .000         .3959E-02     .8063E-02     .1806E-01
                        20.00          .000         .4324E-02     .8794E-02     .1963E-01
                        22.00          .000         .4689E-02     .9524E-02     .2120E-01
                        24.00          .000         .5054E-02     .1025E-01     .2277E-01
                  </tableData>
               </table>
            </product>
         </function>

         <function name="aero/coefficient/CdDe">
            <description>
               Drag Coefficient due to Elevator Deflection
               Positive surface deflection is trailing edge down
            </description>
            <product>
               <property>aero/qbar-psf</property>
               <property>metrics/Sw-sqft</property>
               <table>
                  <independentVar lookup="row">aero/alpha-rad</independentVar>
                  <independentVar lookup="column">fcs/elevator-pos-rad</independentVar>
                  <tableData>
                                     -.3491        -.2618        -.1745        -.8727E-01      .000         .8727E-01     .1745         .2618         .3491    
                       -.2793         .1322E-01     .1247E-01     .7884E-02     .3304E-02    -.5331E-05    -.2029E-02    -.2784E-02    -.2468E-02    -.2352E-02
                       -.1745         .1010E-01     .9482E-02     .5748E-02     .2237E-02    -.3196E-05    -.9616E-03    -.6481E-03     .5232E-03     .7662E-03
                       -.1396         .9101E-02     .8520E-02     .5061E-02     .1893E-02    -.2508E-05    -.6180E-03     .3911E-04     .1486E-02     .1770E-02
                       -.1047         .8094E-02     .7554E-02     .4371E-02     .1548E-02    -.1819E-05    -.2732E-03     .7287E-03     .2452E-02     .2776E-02
                       -.6981E-01     .7113E-02     .6613E-02     .3699E-02     .1212E-02    -.1147E-05     .6281E-04     .1401E-02     .3393E-02     .3757E-02
                       -.3491E-01     .6175E-02     .5712E-02     .3056E-02     .8907E-03    -.5039E-06     .3843E-03     .2044E-02     .4293E-02     .4696E-02
                         .000         .5277E-02     .4851E-02     .2442E-02     .5833E-03     .1110E-06     .6917E-03     .2658E-02     .5155E-02     .5594E-02
                        .3491E-01     .4408E-02     .4017E-02     .1846E-02     .2855E-03     .7066E-06     .9895E-03     .3254E-02     .5989E-02     .6463E-02
                        .6981E-01     .3474E-02     .3121E-02     .1206E-02    -.3437E-04     .1346E-05     .1309E-02     .3894E-02     .6885E-02     .7397E-02
                        .1396         .1391E-02     .1122E-02    -.2204E-03    -.7477E-03     .2773E-05     .2023E-02     .5320E-02     .8883E-02     .9480E-02
                        .1745         .1802E-03    -.3896E-04    -.1049E-02    -.1162E-02     .3602E-05     .2437E-02     .6150E-02     .1004E-01     .1069E-01
                        .2094        -.1233E-02    -.1395E-02    -.2018E-02    -.1646E-02     .4570E-05     .2921E-02     .7118E-02     .1140E-01     .1210E-01
                        .2443        -.2847E-02    -.2943E-02    -.3123E-02    -.2199E-02     .5675E-05     .3474E-02     .8223E-02     .1295E-01     .1372E-01
                        .2618        -.3708E-02    -.3769E-02    -.3713E-02    -.2494E-02     .6265E-05     .3769E-02     .8813E-02     .1377E-01     .1458E-01
                        .2793        -.5045E-02    -.5052E-02    -.4629E-02    -.2952E-02     .7182E-05     .4227E-02     .9729E-02     .1506E-01     .1592E-01
                        .2967        -.6388E-02    -.6341E-02    -.5549E-02    -.3412E-02     .8102E-05     .4687E-02     .1065E-01     .1635E-01     .1726E-01
                        .3142        -.8765E-02    -.8621E-02    -.7177E-02    -.4226E-02     .9724E-05     .5501E-02     .1228E-01     .1863E-01     .1964E-01
                        .3491        -.1217E-01    -.1188E-01    -.9506E-02    -.5391E-02     .1206E-04     .6666E-02     .1461E-01     .2189E-01     .2304E-01
                        .3840        -.1534E-01    -.1493E-01    -.1168E-01    -.6477E-02     .1424E-04     .7752E-02     .1678E-01     .2493E-01     .2621E-01
                        .4189        -.1816E-01    -.1764E-01    -.1361E-01    -.7444E-02     .1615E-04     .8719E-02     .1871E-01     .2764E-01     .2903E-01
                  </tableData>
               </table>
            </product>
         </function>

     </axis>




<!-- ********************************************************************** -->


     <axis name="SIDE">

         <function name="aero/coefficient/Cyb">
            <description>
               Side Force coefficient due to Sideslip
                Contributes to damping of Dutch Roll mode
            </description>
            <product>
               <property>aero/qbar-psf</property>
               <property>metrics/Sw-sqft</property>
               <sin><property>aero/beta-rad</property></sin>
               <table>
                  <independentVar lookup="row">aero/alpha-rad</independentVar>
                  <tableData>
                       -.2793        -.5277    
                       -.1745        -.5277    
                       -.1396        -.5277    
                       -.1047        -.5277    
                       -.6981E-01    -.5277    
                       -.3491E-01    -.5277    
                         .000        -.5277    
                        .3491E-01    -.5277    
                        .6981E-01    -.5277    
                        .1396        -.5277    
                        .1745        -.5277    
                        .2094        -.5277    
                        .2443        -.5277    
                        .2618        -.5277    
                        .2793        -.5277    
                        .2967        -.5277    
                        .3142        -.5277    
                        .3491        -.5277    
                        .3840        -.5277    
                        .4189        -.5277    
                  </tableData>
               </table>
            </product>
         </function>

         <function name="aero/coefficient/Cyp">
            <description>
               Side Force Coefficient due to Roll Rate
            </description>
            <product>
               <property>velocities/p-aero-rad_sec</property>
               <property>aero/qbar-psf</property>
               <property>metrics/Sw-sqft</property>
               <property>aero/bi2vel</property>
               <table>
                  <independentVar lookup="row">aero/alpha-rad</independentVar>
                  <tableData>
                       -.2793        -.8364E-01
                       -.1745        -.1082    
                       -.1396        -.1154    
                       -.1047        -.1221    
                       -.6981E-01    -.1295    
                       -.3491E-01    -.1385    
                         .000        -.1496    
                        .3491E-01    -.1635    
                        .6981E-01    -.1827    
                        .1396         .1989    
                        .1745        -.1426    
                        .2094        -.1626    
                        .2443        -.1731    
                        .2618        -.1675    
                        .2793        -.1696    
                        .2967        -.1282    
                        .3142        -.7662E-01
                        .3491         .3365E-02
                        .3840         .7152E-01
                        .4189         .1194    
                  </tableData>
               </table>
            </product>
         </function>


         <!-- ************************
              Not calculated by DATCOM
              ************************
         -->

         <function name="aero/coefficient/Cyr">
            <description>
               Side Force due to Yaw Rate      (DATCOM does not calculate)
               Effect is small
            </description>
            <product>
               <property>aero/qbar-psf</property>
               <property>metrics/Sw-sqft</property>
               <property>aero/bi2vel</property>
               <property>velocities/r-aero-rad_sec</property>
               <value>    .000    </value>
            </product>
         </function>


         <!-- ************************
              Not calculated by DATCOM
              ************************
         -->

         <function name="aero/coefficient/CyDr">
            <description>
               Side Force due to rudder          (DATCOM does not calculate)
            </description>
            <product>
               <property>aero/qbar-psf</property>
               <property>metrics/Sw-sqft</property>
               <property>fcs/rudder-pos-rad</property>
               <value>    .000    </value>
            </product>
         </function>


         <!-- ************************
              Not calculated by DATCOM
              ************************
         -->

         <function name="aero/coefficient/CyDa">
            <description>
               Side Force due to aileron        (DATCOM does not calculate)
               Usually neglected
            </description>
            <product>
               <property>aero/qbar-psf</property>
               <property>metrics/Sw-sqft</property>
               <property>metrics/Sw-sqft</property>
               <property>fcs/left-aileron-pos-rad</property>
               <value>    .000    </value>
            </product>
         </function>

     </axis>




<!-- ********************************************************************** -->


     <axis name="ROLL">

         <function name="aero/coefficient/Clb">
            <description>
               Roll Moment coefficient due to Beta
               Decrease of Clb to small negative value improves Dutch Roll Damping
               High Positive value leads to excessive spiral instability
            </description>
            <product>
               <property>aero/qbar-psf</property>
               <property>metrics/Sw-sqft</property>
               <property>metrics/bw-ft</property>
               <sin><property>aero/beta-rad</property></sin>
               <table>
                  <independentVar lookup="row">aero/alpha-rad</independentVar>
                  <tableData>
                       -.2793        -.1357    
                       -.1745        -.1271    
                       -.1396        -.1240    
                       -.1047        -.1208    
                       -.6981E-01    -.1175    
                       -.3491E-01    -.1142    
                         .000        -.1110    
                        .3491E-01    -.1079    
                        .6981E-01    -.1048    
                        .1396        -.9820E-01
                        .1745        -.9428E-01
                        .2094        -.8986E-01
                        .2443        -.8483E-01
                        .2618        -.8170E-01
                        .2793        -.7824E-01
                        .2967        -.7208E-01
                        .3142        -.6456E-01
                        .3491        -.5134E-01
                        .3840        -.3930E-01
                        .4189        -.2910E-01
                  </tableData>
               </table>
            </product>
         </function>

         <function name="aero/coefficient/Clp">
            <description>
               Roll Moment coefficient due to roll rate
               Clp alone determines damping-in-roll characteristics
            </description>
            <product>
               <property>aero/qbar-psf</property>
               <property>metrics/Sw-sqft</property>
               <property>metrics/bw-ft</property>
               <property>aero/bi2vel</property>
               <property>velocities/p-aero-rad_sec</property>
               <value>-1.0</value>
               <table>
                  <independentVar lookup="row">aero/alpha-deg</independentVar>
                  <tableData>
                       -16.00         .3294    
                       -10.00         .3162    
                       -8.000         .3085    
                       -6.000         .3066    
                       -4.000         .3176    
                       -2.000         .3313    
                         .000         .3415    
                        2.000         .3479    
                        4.000         .3366    
                        8.000         .2403    
                        10.00         .1712    
                        12.00         .9202E-01
                        14.00        -.8719E-01
                        15.00        -.1715    
                        16.00        -.6740    
                        17.00        -1.212    
                        18.00        -1.159    
                        20.00        -.8836    
                        22.00        -.6817    
                        24.00        -.4080    
                  </tableData>
               </table>
            </product>
         </function>

         <function name="aero/coefficient/Clr">
            <description>
               Roll Moment coefficient due to yaw rate
               Considerable effect on Spiral mode. Large 
               positive values leads to strong sprial instability
            </description>
            <product>
               <property>aero/qbar-psf</property>
               <property>metrics/Sw-sqft</property>
               <property>metrics/bw-ft</property>
               <property>aero/bi2vel</property>
               <property>velocities/r-aero-rad_sec</property>
               <table>
                  <independentVar lookup="row">aero/alpha-deg</independentVar>
                  <tableData>
                       -16.00        -.1690    
                       -10.00        -.4933E-01
                       -8.000        -.1181E-01
                       -6.000         .2396E-01
                       -4.000         .6027E-01
                       -2.000         .9837E-01
                         .000         .1379    
                        2.000         .1786    
                        4.000         .2199    
                        8.000         .2927    
                        10.00         .3160    
                        12.00         .3307    
                        14.00         .3341    
                        15.00         .3227    
                        16.00         .3091    
                        17.00         .2319    
                        18.00         .1476    
                        20.00         .2074E-01
                        22.00        -.8871E-01
                        24.00        -.1616    
                  </tableData>
               </table>
            </product>
         </function>

         <function name="aero/coefficient/ClDs4">
            <description>
               Roll Moment coefficient due to Left Double Slotted Flaps Deflection
            </description>
            <product>
               <property>aero/qbar-psf</property>
               <property>metrics/Sw-sqft</property>
               <property>metrics/bw-ft</property>
               <table>
                  <independentVar lookup="row">fcs/left-aileron-pos-rad</independentVar>
                  <tableData>
                       -.6981        -.7359E-01
                       -.3491        -.4245E-01
                       -.1745        -.2123E-01
                       -.8727E-01    -.1061E-01
                         .000          .000    
                        .8727E-01     .1061E-01
                        .1745         .2123E-01
                        .3491         .4245E-01
                        .6981         .7359E-01
                  </tableData>
               </table>
            </product>
         </function>

         <function name="aero/coefficient/CldF3">
            <description>
               Roll Moment Coefficient due to Asymetrical Fowler Flaps Deflection
               calculated as difference between left and right flap lift coef,
               times distance from centerline to MAC of surface.
            </description>
            <product>
               <value>     12.24</value>
               <difference>
                  <property>aero/coefficient/CLdF3R</property>
                  <property>aero/coefficient/CLdF3L</property>
               </difference>
            </product>
         </function>


         <!-- ************************
              Not calculated by DATCOM
              ************************
         -->

         <function name="aero/coefficient/ClDr">
            <description>
               Roll moment due to rudder        (DATCOM does not calculate)
               Usually insignificant in dynamic stability considerations
               but is used in autopilot work
            </description>
            <product>
               <property>metrics/bw-ft</property>
               <property>aero/qbar-psf</property>
               <property>metrics/Sw-sqft</property>
               <property>fcs/rudder-pos-rad</property>
               <value>    .000    </value>
            </product>
         </function>

     </axis>




<!-- ********************************************************************** -->


     <axis name="PITCH">

         <function name="aero/coefficient/Cm_basic">
            <description>
               Basic_Pitch_moment_coefficient
            </description>
            <product>
               <property>aero/qbar-psf</property>
               <property>metrics/Sw-sqft</property>
               <property>metrics/cbarw-ft</property>
               <table>
                  <independentVar lookup="row">aero/alpha-rad</independentVar>
                  <tableData>
                       -.2793         .3419    
                       -.1745         .2024    
                       -.1396         .1567    
                       -.1047         .1096    
                       -.6981E-01     .6524E-01
                       -.3491E-01     .2272E-01
                         .000        -.1663E-01
                        .3491E-01    -.5525E-01
                        .6981E-01    -.9550E-01
                        .1396        -.1824    
                        .1745        -.2293    
                        .2094        -.2787    
                        .2443        -.2787    
                        .2618        -.2787    
                        .2793        -.2787    
                        .2967        -.2787    
                        .3142        -.2787    
                        .3491        -.2787    
                        .3840        -.2787    
                        .4189        -.2787    
                  </tableData>
               </table>
            </product>
         </function>

         <function name="aero/coefficient/Cmq">
            <description>
               Pitch moment coefficient due to pitch rate(per radian)
                Pitch Damping Derivative
               Very important to Short Period damping of oscillations
            </description>
            <product>
               <property>aero/qbar-psf</property>
               <property>metrics/Sw-sqft</property>
               <property>metrics/cbarw-ft</property>
               <property>aero/ci2vel</property>
               <property>velocities/q-aero-rad_sec</property>
               <table>
                  <independentVar lookup="row">aero/alpha-rad</independentVar>
                  <tableData>
                       -.2793        -11.21    
                       -.1745        -11.21    
                       -.1396        -11.21    
                       -.1047        -11.21    
                       -.6981E-01    -11.21    
                       -.3491E-01    -11.21    
                         .000        -11.21    
                        .3491E-01    -11.21    
                        .6981E-01    -11.21    
                        .1396        -11.21    
                        .1745        -11.21    
                        .2094        -11.21    
                        .2443        -11.21    
                        .2618        -11.21    
                        .2793        -11.21    
                        .2967        -11.21    
                        .3142        -11.21    
                        .3491        -11.21    
                        .3840        -11.21    
                        .4189        -11.21    
                  </tableData>
               </table>
            </product>
         </function>

         <function name="aero/coefficient/Cmadot">
            <description>
               Pitch moment coefficient due to AOA rate(per radian)
               Negitive Cmad increase Short Period damping
            </description>
            <product>
               <property>aero/qbar-psf</property>
               <property>metrics/Sw-sqft</property>
               <property>metrics/cbarw-ft</property>
               <property>aero/ci2vel</property>
               <property>aero/alphadot-rad_sec</property>
               <table>
                  <independentVar lookup="row">aero/alpha-rad</independentVar>
                  <tableData>
                       -.2793        -5.541    
                       -.1745        -5.721    
                       -.1396        -5.770    
                       -.1047        -5.845    
                       -.6981E-01    -6.073    
                       -.3491E-01    -6.351    
                         .000        -6.583    
                        .3491E-01    -6.461    
                        .6981E-01    -6.006    
                        .1396        -4.772    
                        .1745        -3.715    
                        .2094        -2.300    
                        .2443        -1.111    
                        .2618         2.161    
                        .2793         5.443    
                        .2967         12.40    
                        .3142         16.30    
                        .3491         9.499    
                        .3840         7.571    
                        .4189         6.410    
                  </tableData>
               </table>
            </product>
         </function>

         <function name="aero/coefficient/CmDe">
            <description>
               Pitch moment coefficient due to elevator deflection
               Positive surface deflection is trailing edge down
            </description>
            <product>
               <property>aero/qbar-psf</property>
               <property>metrics/Sw-sqft</property>
               <property>metrics/cbarw-ft</property>
               <table>
                  <independentVar lookup="row">fcs/elevator-pos-rad</independentVar>
                  <tableData>
                       -.3491         .2876    
                       -.2618         .2748    
                       -.1745         .1961    
                       -.8727E-01     .9804E-01
                         .000        -.1961E-03
                        .8727E-01    -.9804E-01
                        .1745        -.1961    
                        .2618        -.2748    
                        .3491        -.2880    
                  </tableData>
               </table>
            </product>
         </function>

         <function name="aero/coefficient/CmDf3L">
            <description>
               Pitch moment coefficient due to left Fowler Flaps Deflection
               Positive surface deflection is trailing edge down
               Ultimately, we will feed this left flap pos
            </description>
            <product>
               <property>aero/qbar-psf</property>
               <property>metrics/Sw-sqft</property>
               <property>metrics/cbarw-ft</property>
               <table>
                  <independentVar lookup="row">fcs/flap-pos-deg</independentVar>
                  <tableData>
                         .000          .000    
                        8.000        -.1259E-02
                        12.00        -.2519E-02
                        25.00        -.5416E-02
                  </tableData>
               </table>
            </product>
         </function>

         <function name="aero/coefficient/CmDf3R">
            <description>
               Pitch moment coefficient due to right Fowler Flaps Deflection
               Positive surface deflection is trailing edge down
               Ultimately, we will feed this right flap pos
            </description>
            <product>
               <property>aero/qbar-psf</property>
               <property>metrics/Sw-sqft</property>
               <property>metrics/cbarw-ft</property>
               <table>
                  <independentVar lookup="row">fcs/flap-pos-deg</independentVar>
                  <tableData>
                         .000          .000    
                        8.000        -.1259E-02
                        12.00        -.2519E-02
                        25.00        -.5416E-02
                  </tableData>
               </table>
            </product>
         </function>

     </axis>




<!-- ********************************************************************** -->


     <axis name="YAW">

         <function name="aero/coefficient/Cnb">
            <description>
               Yaw moment coefficient due to sideslip(per radian)
               Determines Dutch Roll and Spiral characteristics
               Prevents side-slip and yawing moments
            </description>
            <product>
               <property>aero/qbar-psf</property>
               <property>metrics/Sw-sqft</property>
               <property>metrics/bw-ft</property>
               <sin><property>aero/beta-rad</property></sin>
               <table>
                  <independentVar lookup="row">aero/alpha-rad</independentVar>
                  <tableData>
                       -.2793         .7888E-01
                       -.1745         .7888E-01
                       -.1396         .7888E-01
                       -.1047         .7888E-01
                       -.6981E-01     .7888E-01
                       -.3491E-01     .7888E-01
                         .000         .7888E-01
                        .3491E-01     .7888E-01
                        .6981E-01     .7888E-01
                        .1396         .7888E-01
                        .1745         .7888E-01
                        .2094         .7888E-01
                        .2443         .7888E-01
                        .2618         .7888E-01
                        .2793         .7888E-01
                        .2967         .7888E-01
                        .3142         .7888E-01
                        .3491         .7888E-01
                        .3840         .7888E-01
                        .4189         .7888E-01
                  </tableData>
               </table>
            </product>
         </function>

         <function name="aero/coefficient/Cnp">
            <description>
               Yaw moment coefficient due to roll rate(per radian)
               Reduces Dutch Roll damping
               positive value desireable
            </description>
            <product>
               <property>aero/qbar-psf</property>
               <property>metrics/Sw-sqft</property>
               <property>metrics/bw-ft</property>
               <property>aero/bi2vel</property>
               <property>velocities/p-aero-rad_sec</property>
               <table>
                  <independentVar lookup="row">aero/alpha-rad</independentVar>
                  <tableData>
                       -.2793         .1331    
                       -.1745         .6090E-01
                       -.1396         .3657E-01
                       -.1047         .1245E-01
                       -.6981E-01    -.1281E-01
                       -.3491E-01    -.4026E-01
                         .000        -.7038E-01
                        .3491E-01    -.1042    
                        .6981E-01    -.1439    
                        .1396         .3362    
                        .1745        -.1310    
                        .2094        -.1723    
                        .2443        -.1992    
                        .2618        -.2013    
                        .2793        -.2039    
                        .2967        -.1671    
                        .3142        -.1321    
                        .3491        -.8233E-01
                        .3840        -.3845E-01
                        .4189        -.1051E-01
                  </tableData>
               </table>
            </product>
         </function>

         <function name="aero/coefficient/Cnr">
            <description>
               Yaw Moment coefficient due to yaw rate(per radian)
               Main contributor to damping of Dutch Roll
            </description>
            <product>
               <property>aero/qbar-psf</property>
               <property>metrics/Sw-sqft</property>
               <property>metrics/bw-ft</property>
               <property>aero/bi2vel</property>
               <property>velocities/r-aero-rad_sec</property>
               <table>
                  <independentVar lookup="row">aero/alpha-rad</independentVar>
                  <tableData>
                       -.2793        -.1414    
                       -.1745        -.1455    
                       -.1396        -.1472    
                       -.1047        -.1490    
                       -.6981E-01    -.1509    
                       -.3491E-01    -.1528    
                         .000        -.1549    
                        .3491E-01    -.1571    
                        .6981E-01    -.1595    
                        .1396        -.1641    
                        .1745        -.1653    
                        .2094        -.1656    
                        .2443        -.1647    
                        .2618        -.1630    
                        .2793        -.1610    
                        .2967        -.1543    
                        .3142        -.1486    
                        .3491        -.1422    
                        .3840        -.1388    
                        .4189        -.1367    
                  </tableData>
               </table>
            </product>
         </function>

         <function name="aero/coefficient/CnDf3">
            <description>
               Yaw Moment Coefficient due to Asymetrical Fowler Flaps Deflection
               calculated as difference between left and right flap drag coef,
               times distance from centerline to MAC of surface.
            </description>
            <product>
               <value>     12.24</value>
               <difference>
                  <property>aero/coefficient/CdDf3R</property>
                  <property>aero/coefficient/CdDf3L</property>
               </difference>
            </product>
         </function>

         <function name="aero/coefficient/CnDa">
            <description>
               Yaw Moment coefficient due to plain flap aileron deflection
            </description>
            <product>
               <property>aero/qbar-psf</property>
               <property>metrics/Sw-sqft</property>
               <property>metrics/bw-ft</property>
               <table>
                  <independentVar lookup="row">aero/alpha-rad</independentVar>
                  <independentVar lookup="column">fcs/left-aileron-pos-rad                </independentVar>
                  <tableData>
                                     -.6981        -.3491        -.1745        -.8727E-01      .000         .8727E-01     .1745         .3491         .6981    
                       -.2793        -.9212E-02    -.5320E-02    -.2660E-02    -.1330E-02      .000         .1330E-02     .2660E-02     .5320E-02     .9212E-02
                       -.1745        -.3389E-02    -.1957E-02    -.9785E-03    -.4893E-03      .000         .4893E-03     .9785E-03     .1957E-02     .3389E-02
                       -.1396        -.1536E-02    -.8868E-03    -.4434E-03    -.2217E-03      .000         .2217E-03     .4434E-03     .8868E-03     .1536E-02
                       -.1047         .2470E-03     .1427E-03     .7133E-04     .3566E-04      .000        -.3566E-04    -.7133E-04    -.1427E-03    -.2470E-03
                       -.6981E-01     .2059E-02     .1189E-02     .5945E-03     .2973E-03      .000        -.2973E-03    -.5945E-03    -.1189E-02    -.2059E-02
                       -.3491E-01     .3954E-02     .2283E-02     .1142E-02     .5709E-03      .000        -.5709E-03    -.1142E-02    -.2283E-02    -.3954E-02
                         .000         .5916E-02     .3416E-02     .1708E-02     .8541E-03      .000        -.8541E-03    -.1708E-02    -.3416E-02    -.5916E-02
                        .3491E-01     .7928E-02     .4578E-02     .2289E-02     .1145E-02      .000        -.1145E-02    -.2289E-02    -.4578E-02    -.7928E-02
                        .6981E-01     .9972E-02     .5759E-02     .2879E-02     .1440E-02      .000        -.1440E-02    -.2879E-02    -.5759E-02    -.9972E-02
                        .1396         .1362E-01     .7866E-02     .3933E-02     .1967E-02      .000        -.1967E-02    -.3933E-02    -.7866E-02    -.1362E-01
                        .1745         .1487E-01     .8588E-02     .4294E-02     .2147E-02      .000        -.2147E-02    -.4294E-02    -.8588E-02    -.1487E-01
                        .2094         .1574E-01     .9088E-02     .4544E-02     .2272E-02      .000        -.2272E-02    -.4544E-02    -.9088E-02    -.1574E-01
                        .2443         .1611E-01     .9301E-02     .4651E-02     .2325E-02      .000        -.2325E-02    -.4651E-02    -.9301E-02    -.1611E-01
                        .2618         .1571E-01     .9074E-02     .4537E-02     .2269E-02      .000        -.2269E-02    -.4537E-02    -.9074E-02    -.1571E-01
                        .2793         .1522E-01     .8791E-02     .4396E-02     .2198E-02      .000        -.2198E-02    -.4396E-02    -.8791E-02    -.1522E-01
                        .2967         .1194E-01     .6897E-02     .3449E-02     .1724E-02      .000        -.1724E-02    -.3449E-02    -.6897E-02    -.1194E-01
                        .3142         .8353E-02     .4824E-02     .2412E-02     .1206E-02      .000        -.1206E-02    -.2412E-02    -.4824E-02    -.8353E-02
                        .3491         .2989E-02     .1726E-02     .8630E-03     .4315E-03      .000        -.4315E-03    -.8630E-03    -.1726E-02    -.2989E-02
                        .3840        -.1619E-02    -.9348E-03    -.4674E-03    -.2337E-03      .000         .2337E-03     .4674E-03     .9348E-03     .1619E-02
                        .4189        -.4633E-02    -.2676E-02    -.1338E-02    -.6689E-03      .000         .6689E-03     .1338E-02     .2676E-02     .4633E-02
                  </tableData>
               </table>
            </product>
         </function>


         <!-- *****************************************************
              CnDr is not calculated by DATCOM, but a default value
              is supplied
              *****************************************************-->

         <function name="aero/coefficient/CnDr">
            <description>
               Yaw Coefficient due to rudder    (DATCOM does not calculate)
               High value for controllablity, low value
               for good dynamic stability
            </description>
            <product>
               <property>aero/qbar-psf</property>
               <property>metrics/Sw-sqft</property>
               <property>metrics/bw-ft</property>
               <property>fcs/rudder-pos-rad</property>
               <value>  -.6000E-01</value>
            </product>
         </function>

     </axis>




<!-- ********************************************************************** -->


      <function name="aero/elev_hinge_moment_ft_lbs">
         <description>
            Elevator hinge moment in ft-lbs
            HM = q * S * Cbar * ( Ch0 + Cha*alpha + Chd*delta )
            Positive causes trailing edge down movement
            Ch0 is used to artifically trim HM to zero
         </description>
         <product>
               <property>aero/qbar-psf</property>
               <property>metrics/Sw-sqft</property>
            <value>   41.86    </value>	<!-- surface area of elevator -->
            <value>   3.113    </value>	<!-- MAC of elevator -->
            <sum>
 <!--
               <property>aero/Ch0_elev</property>	
 -->
               <product>
                  <property>aero/alpha-rad</property>
                  <table>                            	<!-- Ch-alpha -->
                     <independentVar lookup="row">
                     aero/alpha-rad</independentVar>
                     <tableData>
                          -.2793    	  -.7460E-02
                          -.1745    	  -.7460E-02
                          -.1396    	  -.7460E-02
                          -.1047    	  -.7460E-02
                          -.6981E-01	  -.7460E-02
                          -.3491E-01	  -.7460E-02
                            .000    	  -.7460E-02
                           .3491E-01	  -.7460E-02
                           .6981E-01	  -.7460E-02
                           .1396    	  -.7460E-02
                           .1745    	  -.1254E-01
                           .2094    	  -.1145E-01
                           .2443    	  -.1110E-01
                           .2618    	  -.1110E-01
                           .2793    	  -.1110E-01
                           .2967    	  -.1110E-01
                           .3142    	  -.1110E-01
                           .3491    	  -.1145E-01
                           .3840    	  -.1254E-01
                           .4189    	  -.1110E-01
                     </tableData>
                  </table>
               </product>
               <product>
                  <property>fcs/elevator-pos-rad</property>
                  <table>                            	<!-- Ch-delta elevator -->
                     <independentVar lookup="row">
                     fcs/elevator-pos-rad</independentVar>
                     <tableData>
                          -.3491    	  -.1254E-01
                          -.2618    	  -.1145E-01
                          -.1745    	  -.1110E-01
                          -.8727E-01	  -.1110E-01
                            .000    	  -.1110E-01
                           .8727E-01	  -.1110E-01
                           .1745    	  -.1110E-01
                           .2618    	  -.1145E-01
                           .3491    	  -.1254E-01
                     </tableData>
                  </table>
               </product>
            </sum>
         </product>
      </function>

   </aerodynamics>
<?xml version="1.0"?>
<!--

  Short S.23 flying boat flight model for JSBSim.

    Copyright (C) 2012  Anders Gidenstam  (anders(at)gidenstam.org)

    This program is free software; you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation; either version 2 of the License, or
    (at your option) any later version.
  
    This program is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.
  
    You should have received a copy of the GNU General Public License
    along with this program; if not, write to the Free Software
    Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA
  
-->
<system name="electrical">

 <documentation>
  Electrical services according to [Short:RN-3-1-37]:
    24 volts
      Navigation lights
      Landing searchlights (240W and 500W)
      W/T power supply
      Internal lighting
      Steward's call signals
      Power for flap motor
    12 volts
      Instrument lighting
      Engine starting
 </documentation>

 <documentation>
  Drawings and other important information in [Short:RN-3-1-37]:
    page
     124   Instrument lighting circuits.
     127   Fig. 18 Wireless power supply circuit diagram.
     142   Fig. 33 Cabin heating and ventilating.
     148   Fig. 38 Wireless short and medium wave.
     168   Fig. 53 Wiring for forward cabin.
     169   Fig. 54 Instruments and pitot heater circuit diagram.
     176   Fig. 20 Lighting services circuit diagram.
 </documentation>

 <documentation>
  Fuse circuits according to [Short:RN-3-1-37]:
    Control panel
      Switch No  Fuse No  Volt. Power  What
        1                 24V          Voltmeter
        2         1  8A   12V    48W   Instruments
        2         2  8A   12V    48W   Instruments
                  3  4A   24V    20W   Anchor and Steaming lights
                  4  4A   24V    12W   Identification light
                  5  4A   24V    24W   Steward's call signals
 One or 3         6  4A   24V    18W   Cockpit and wireless lights(wiring diag.)
  both? 3         6 12A   24V     ?W   Instrument heater (Fig 54, page 169)
                                       -> Later modification?
        4         7  8A   24V   108W   Corridor fwd and centre cabin
        4         8  8A   24V    72W   Promenade and aft cabin
        4         9  4A   24V    48W   Chart table, mail room, ...
        5        10 12A   24V   126W   Fwd and centre cabin roof, mooring comp.
        5        11 12A   24V   204W   Prom. and aft cabin and freight room roof
        6        12  4A   24V    20W   Port navigation light 
        6        13  4A   24V    30W   Tail and Starboard navigation light
                 14  4A   12V    30W   Signalling lamp
                 F   4A                Dynamo field
                 F   4A                Dynamo field

  Additional fuses on the main switch board according to [Cassidy:2004:FE]:
    Type          Fuse    What
    Rotax N5 EB   15A     Engine starting (solenoid)
    Rotax N5       4A     Flap indicator
    Rotax N5 EB   15A     Flap motor changeover switch
    Rotax N5 DN   50A     Flap motor (motor power 0.5hp [Short:RN-3-1-37])
    Rotax N5 EB   20A     Bow searchlight
    Rotax N5 EB   50A     Wing searchlight
    Rotax N5 EB   15A     Searchlight solenoid
    Rotax N5 EB   15A     Instrument heaters
    Rotax N4 EB    4A     Thermo-electric control of cabin heating. (fr. Fig.33)
 </documentation>

 <!-- ======================================================================
      Switches
 -->
 <!-- On the main switchboard switchbox. Range: 0 and 1. -->
 <property value="0.0">electrical/main-switchbox/switch-cmd-norm[0]</property>
 <property value="0.0">electrical/main-switchbox/switch-cmd-norm[1]</property>
 <property value="0.0">electrical/main-switchbox/switch-cmd-norm[2]</property>
 <property value="0.0">electrical/main-switchbox/switch-cmd-norm[3]</property>
 <property value="0.0">electrical/main-switchbox/switch-cmd-norm[4]</property>
 <property value="0.0">electrical/main-switchbox/switch-cmd-norm[5]</property>

 <!-- The four brass switches on the main switchboard rack. Range: 0 and 1.
      Assumed order: left top and bottom; right top and bottom.
      The upper right one is a double switch.
      The chart table light switch is at the chart table. -->
 <property value="0.0">electrical/control-panel/loading-cmd-norm[0]</property>
 <property value="0.0">electrical/control-panel/receiving-cmd-norm[0]</property>
 <property value="0.0">electrical/control-panel/mail-cmd-norm[0]</property>
 <property value="0.0">electrical/control-panel/mail-cmd-norm[1]</property>
 <property value="0.0">electrical/control-panel/stowage-cmd-norm[0]</property>
 <property value="0.0">electrical/control-panel/chart-cmd-norm[0]</property>

 <!-- Rheostats on the instrument lighting panel. Range: 0 to 1. -->
 <property value="0.0">electrical/instrument-lights/switch-cmd-norm[0]</property>
 <property value="0.0">electrical/instrument-lights/switch-cmd-norm[1]</property>
 <property value="0.0">electrical/instrument-lights/switch-cmd-norm[2]</property>
 <property value="0.0">electrical/instrument-lights/switch-cmd-norm[3]</property>
 <property value="0.0">electrical/instrument-lights/switch-cmd-norm[4]</property>
 <property value="0.0">electrical/instrument-lights/switch-cmd-norm[5]</property>
 <property value="0.0">electrical/instrument-lights/switch-cmd-norm[6]</property>
 <property value="0.0">electrical/instrument-lights/switch-cmd-norm[7]</property>
 <property value="0.0">electrical/instrument-lights/switch-cmd-norm[8]</property>

 <!-- Switches on the light switch panel. -->
 <!-- Range: 0 and 1. -->
 <property value="0.0">electrical/light-switch-panel/steaming-cmd-norm</property>
 <property value="0.0">electrical/light-switch-panel/identification-cmd-norm</property>
 <!-- Range: 0, 0.5 and 1. -->
 <property value="0.0">electrical/light-switch-panel/landing-cmd-norm</property>
 <!-- Range: 0 to 1. -->
 <property value="0.0">electrical/light-switch-panel/roof-cmd-norm[0]</property>
 <property value="0.0">electrical/light-switch-panel/roof-cmd-norm[1]</property>
 <!-- Range: 0 and 1. Actually located at the bow. -->
 <property value="0.0">electrical/light-switch-panel/anchor-cmd-norm</property>

 <!-- ======================================================================
      Fuses
 -->
 <property value="1.0">electrical/main-switchbox/fuse-serviceable[0]</property>
 <property value="1.0">electrical/main-switchbox/fuse-serviceable[1]</property>
 <property value="1.0">electrical/main-switchbox/fuse-serviceable[2]</property>
 <property value="1.0">electrical/main-switchbox/fuse-serviceable[3]</property>
 <property value="1.0">electrical/main-switchbox/fuse-serviceable[4]</property>
 <property value="1.0">electrical/main-switchbox/fuse-serviceable[5]</property>
 <property value="1.0">electrical/main-switchbox/fuse-serviceable[6]</property>
 <property value="1.0">electrical/main-switchbox/fuse-serviceable[7]</property>
 <property value="1.0">electrical/main-switchbox/fuse-serviceable[8]</property>
 <property value="1.0">electrical/main-switchbox/fuse-serviceable[9]</property>
 <property value="1.0">electrical/main-switchbox/fuse-serviceable[10]</property>
 <property value="1.0">electrical/main-switchbox/fuse-serviceable[11]</property>
 <property value="1.0">electrical/main-switchbox/fuse-serviceable[12]</property>
 <property value="1.0">electrical/main-switchbox/fuse-serviceable[13]</property>

 <!-- ======================================================================
      Battery
 -->
 <documentation>
  "The battery was a 24 volt 18 cell NiFe alkaline battery with a
  capacity of 55 ampere hours." ([Short:RN-3-1-37],[Cassidy:2004:FE])
 </documentation>

 <!-- Battery inputs. -->
 <property value="0.0">electrical/battery/current-A[0]</property> <!-- 24V -->
 <property value="0.0">electrical/battery/current-A[1]</property> <!-- 12V -->

 <!-- Battery properties. -->
 <property value="50.0">electrical/battery/initial-capacity-Ah</property>
 <property value="55.0">electrical/battery/max-capacity-Ah</property>
 <property value="0.015">electrical/battery/internal-resistance-ohm</property>
 <channel name="Battery">

  <fcs_function name="electrical/battery/capacity-Ah">
   <function>
    <difference>
     <property>electrical/battery/initial-capacity-Ah</property>
     <property>electrical/battery/consumed-Ah</property>
    </difference>
   </function>
   <clipto>
    <min>0.0</min>
    <max>electrical/battery/max-capacity-Ah</max>
   </clipto>
  </fcs_function>

  <fcs_function name="electrical/battery/open-circuit-voltage-V">
   <function>
    <table>
     <independentVar lookup="row">electrical/battery/capacity-Ah</independentVar>
     <tableData> <!-- Guessed. -->
        0.0  0.0
        2.0 12.0
       20.0 20.0
       55.0 24.0
     </tableData>
    </table>
   </function>
  </fcs_function>

  <fcs_function name="electrical/battery/voltage-V">
   <function>
    <difference>
     <property>electrical/battery/open-circuit-voltage-V</property>
     <sum>
      <product>
       <property>electrical/battery/internal-resistance-ohm</property>
       <max>
        <value>0.0</value>
        <property>electrical/battery/current-A[0]</property>
       </max>
      </product>
      <product>
       <value>0.5</value>
       <property>electrical/battery/internal-resistance-ohm</property>
       <max>
        <value>0.0</value>
        <property>electrical/battery/current-A[1]</property>
       </max>
      </product>
     </sum>
    </difference>
   </function>
   <clipto>
    <min>0.0</min>
    <max>48.0</max>
   </clipto>
  </fcs_function>

  <summer name="electrical/battery/total-current-A">
   <input>electrical/battery/current-A[0]</input>
   <input>electrical/battery/current-A[1]</input>
  </summer>

  <integrator name="electrical/battery/consumed-Ah">
   <input>electrical/battery/total-current-A</input>
   <c1>0.0002778</c1>
   <!-- clipto>
    <min>0.0</min>
    <max>electrical/battery/max-capacity-Ah</max>
   </clipto -->
  </integrator>

 </channel>

 <!-- ======================================================================
      Supply buses
 -->
 <channel name="Supply">

  <!-- The 24V bus. This bus is powered by the battery and the generators. -->
  <fcs_function name="electrical/bus[0]/voltage-V">
   <function>
    <max>
     <property>electrical/battery/voltage-V</property>
     <property>propulsion/engine[1]/generator-voltage-V</property>
     <property>propulsion/engine[2]/generator-voltage-V</property>
    </max>
   </function>
   <clipto>
    <min>0.0</min>
    <max>48.0</max>
   </clipto>
  </fcs_function>

  <!-- The 12V bus. This bus is powered only by the battery. -->
  <fcs_function name="electrical/bus[1]/voltage-V">
   <function>
    <product>
     <value>0.5</value>
     <property>electrical/battery/voltage-V</property>
    </product>
   </function>
   <clipto>
    <min>0.0</min>
    <max>48.0</max>
   </clipto>
  </fcs_function>

 </channel>

 <!-- ======================================================================
      Main switchbox switch 1 - Voltmeter.
 -->
 <channel name="Voltmeter">

  <switch name="electrical/main-switchbox/switch-voltage-V[0]">
   <default value="0.0"/>
   <test logic="AND" value="electrical/bus[0]/voltage-V">
     electrical/main-switchbox/switch-cmd-norm[0] GT 0.5
   </test>
  </switch>

  <lag_filter name="electrical/main-switchbox/voltmeter-voltage-V">
   <input>electrical/main-switchbox/switch-voltage-V[0]</input>
   <c1>4.0</c1>
  </lag_filter>

 </channel>
 <channel name="Ammeter">

  <!-- FIXME: This isn't really the right current to display. -->
  <lag_filter name="electrical/main-switchbox/ammeter-current-A">
   <input>electrical/voltage-regulators/battery-current-A</input>
   <c1>4.0</c1>
  </lag_filter>

 </channel>

 <!-- ======================================================================
      Main switchbox switch 2, fuse 1 and 2 circuits - Instrument lights
 -->
 <documentation>
  Instrument lighting circuits from [Short:RN-3-1-37] page 124:
    Rheostat #bulbs Fuse What
      1       3      1     Captain's altimeter, DG, AI
      2       2      1     Captain's ASI, turn indicator, clock
      3       1      1     Captain's VSI, fore-aft lever
      4       2      2     Engine speed indicators
      5       2      2     First officer's ASI, turn indicator, oil pressure
      6       2      2     Boost gauges, First officer's altimeter
      7       4      1     First officer's compass (+ 15.4 ohm resistor)
      8       4      2     Captain's compass       (+ 15.4 ohm resistor)
      9       2      1     Autopilot

  Assumptions:
    The "typical" light bulb is a 4W 12V one (internal resistance 36 ohm).
    All light bulbs are connected in parallel.
 </documentation>
 <channel name="Instrument lights">

  <switch name="electrical/main-switchbox/switch-voltage-V[1]">
   <default value="0.0"/>
   <test logic="AND" value="electrical/bus[1]/voltage-V">
     electrical/main-switchbox/switch-cmd-norm[1] GT 0.5
   </test>
  </switch>

  <fcs_function name="electrical/main-switchbox/fuse-voltage-V[0]">
   <function>
    <product>
     <property>electrical/main-switchbox/fuse-serviceable[0]</property>
     <property>electrical/main-switchbox/switch-voltage-V[1]</property>
    </product>
   </function>
  </fcs_function>
  <fcs_function name="electrical/main-switchbox/fuse-voltage-V[1]">
   <function>
    <product>
     <property>electrical/main-switchbox/fuse-serviceable[1]</property>
     <property>electrical/main-switchbox/switch-voltage-V[1]</property>
    </product>
   </function>
  </fcs_function>

  <fcs_function name="electrical/instrument-lights/switch-resistance-ohm[0]">
   <function>
    <table>
     <independentVar lookup="row">electrical/instrument-lights/switch-cmd-norm[0]</independentVar>
     <tableData> <!-- Guessed: 300*(1-cmd.^0.25) -->
       0.00000   300.00000
       0.10000   131.29760
       0.20000    99.37791
       0.30000    77.97516
       0.40000    61.41878
       0.50000    47.73108
       0.60000    35.96648
       0.70000    25.59263
       0.80000    16.27752
       0.90000     7.79888
       1.00000     0.00000
     </tableData>
    </table>
   </function>
  </fcs_function>
  <fcs_function name="electrical/instrument-lights/switch-resistance-ohm[1]">
   <function>
    <table>
     <independentVar lookup="row">electrical/instrument-lights/switch-cmd-norm[1]</independentVar>
     <tableData> <!-- Guessed: 300*(1-cmd.^0.25) -->
       0.00000   300.00000
       0.10000   131.29760
       0.20000    99.37791
       0.30000    77.97516
       0.40000    61.41878
       0.50000    47.73108
       0.60000    35.96648
       0.70000    25.59263
       0.80000    16.27752
       0.90000     7.79888
       1.00000     0.00000
     </tableData>
    </table>
   </function>
  </fcs_function>
  <fcs_function name="electrical/instrument-lights/switch-resistance-ohm[2]">
   <function>
    <table>
     <independentVar lookup="row">electrical/instrument-lights/switch-cmd-norm[2]</independentVar>
     <tableData> <!-- Guessed: 300*(1-cmd.^0.25) -->
       0.00000   300.00000
       0.10000   131.29760
       0.20000    99.37791
       0.30000    77.97516
       0.40000    61.41878
       0.50000    47.73108
       0.60000    35.96648
       0.70000    25.59263
       0.80000    16.27752
       0.90000     7.79888
       1.00000     0.00000
     </tableData>
    </table>
   </function>
  </fcs_function>
  <fcs_function name="electrical/instrument-lights/switch-resistance-ohm[3]">
   <function>
    <table>
     <independentVar lookup="row">electrical/instrument-lights/switch-cmd-norm[3]</independentVar>
     <tableData> <!-- Guessed: 300*(1-cmd.^0.25) -->
       0.00000   300.00000
       0.10000   131.29760
       0.20000    99.37791
       0.30000    77.97516
       0.40000    61.41878
       0.50000    47.73108
       0.60000    35.96648
       0.70000    25.59263
       0.80000    16.27752
       0.90000     7.79888
       1.00000     0.00000
     </tableData>
    </table>
   </function>
  </fcs_function>
  <fcs_function name="electrical/instrument-lights/switch-resistance-ohm[4]">
   <function>
    <table>
     <independentVar lookup="row">electrical/instrument-lights/switch-cmd-norm[4]</independentVar>
     <tableData> <!-- Guessed: 300*(1-cmd.^0.25) -->
       0.00000   300.00000
       0.10000   131.29760
       0.20000    99.37791
       0.30000    77.97516
       0.40000    61.41878
       0.50000    47.73108
       0.60000    35.96648
       0.70000    25.59263
       0.80000    16.27752
       0.90000     7.79888
       1.00000     0.00000
     </tableData>
    </table>
   </function>
  </fcs_function>
  <fcs_function name="electrical/instrument-lights/switch-resistance-ohm[5]">
   <function>
    <table>
     <independentVar lookup="row">electrical/instrument-lights/switch-cmd-norm[5]</independentVar>
     <tableData> <!-- Guessed: 300*(1-cmd.^0.25) -->
       0.00000   300.00000
       0.10000   131.29760
       0.20000    99.37791
       0.30000    77.97516
       0.40000    61.41878
       0.50000    47.73108
       0.60000    35.96648
       0.70000    25.59263
       0.80000    16.27752
       0.90000     7.79888
       1.00000     0.00000
     </tableData>
    </table>
   </function>
  </fcs_function>
  <fcs_function name="electrical/instrument-lights/switch-resistance-ohm[6]">
   <function>
    <table>
     <independentVar lookup="row">electrical/instrument-lights/switch-cmd-norm[6]</independentVar>
     <tableData> <!-- Guessed: 300*(1-cmd.^0.25) -->
       0.00000   300.00000
       0.10000   131.29760
       0.20000    99.37791
       0.30000    77.97516
       0.40000    61.41878
       0.50000    47.73108
       0.60000    35.96648
       0.70000    25.59263
       0.80000    16.27752
       0.90000     7.79888
       1.00000     0.00000
     </tableData>
    </table>
   </function>
  </fcs_function>
  <fcs_function name="electrical/instrument-lights/switch-resistance-ohm[7]">
   <function>
    <table>
     <independentVar lookup="row">electrical/instrument-lights/switch-cmd-norm[7]</independentVar>
     <tableData> <!-- Guessed: 300*(1-cmd.^0.25) -->
       0.00000   300.00000
       0.10000   131.29760
       0.20000    99.37791
       0.30000    77.97516
       0.40000    61.41878
       0.50000    47.73108
       0.60000    35.96648
       0.70000    25.59263
       0.80000    16.27752
       0.90000     7.79888
       1.00000     0.00000
     </tableData>
    </table>
   </function>
  </fcs_function>
  <fcs_function name="electrical/instrument-lights/switch-resistance-ohm[8]">
   <function>
    <table>
     <independentVar lookup="row">electrical/instrument-lights/switch-cmd-norm[8]</independentVar>
     <tableData> <!-- Guessed: 300*(1-cmd.^0.25) -->
       0.00000   300.00000
       0.10000   131.29760
       0.20000    99.37791
       0.30000    77.97516
       0.40000    61.41878
       0.50000    47.73108
       0.60000    35.96648
       0.70000    25.59263
       0.80000    16.27752
       0.90000     7.79888
       1.00000     0.00000
     </tableData>
    </table>
   </function>
  </fcs_function>

  <fcs_function name="electrical/instrument-lights/switch-current-A[0]">
   <function>
    <quotient>
     <property>electrical/main-switchbox/fuse-voltage-V[0]</property>
     <sum>
      <property>electrical/instrument-lights/switch-resistance-ohm[0]</property>
      <value>12.0</value> <!-- 3 bulbs in parallel. -->
     </sum>
    </quotient>
   </function>
  </fcs_function>
  <fcs_function name="electrical/instrument-lights/switch-current-A[1]">
   <function>
    <quotient>
     <property>electrical/main-switchbox/fuse-voltage-V[0]</property>
     <sum>
      <property>electrical/instrument-lights/switch-resistance-ohm[1]</property>
      <value>18.0</value> <!-- 2 bulbs in parallel. -->
     </sum>
    </quotient>
   </function>
  </fcs_function>
  <fcs_function name="electrical/instrument-lights/switch-current-A[2]">
   <function>
    <quotient>
     <property>electrical/main-switchbox/fuse-voltage-V[0]</property>
     <sum>
      <property>electrical/instrument-lights/switch-resistance-ohm[2]</property>
      <value>36.0</value> <!-- 1 bulbs in parallel. -->
     </sum>
    </quotient>
   </function>
  </fcs_function>
  <fcs_function name="electrical/instrument-lights/switch-current-A[3]">
   <function>
    <quotient>
     <property>electrical/main-switchbox/fuse-voltage-V[1]</property>
     <sum>
      <property>electrical/instrument-lights/switch-resistance-ohm[3]</property>
      <value>18.0</value> <!-- 2 bulbs in parallel. -->
     </sum>
    </quotient>
   </function>
  </fcs_function>
  <fcs_function name="electrical/instrument-lights/switch-current-A[4]">
   <function>
    <quotient>
     <property>electrical/main-switchbox/fuse-voltage-V[1]</property>
     <sum>
      <property>electrical/instrument-lights/switch-resistance-ohm[4]</property>
      <value>18.0</value> <!-- 2 bulbs in parallel. -->
     </sum>
    </quotient>
   </function>
  </fcs_function>
  <fcs_function name="electrical/instrument-lights/switch-current-A[5]">
   <function>
    <quotient>
     <property>electrical/main-switchbox/fuse-voltage-V[1]</property>
     <sum>
      <property>electrical/instrument-lights/switch-resistance-ohm[5]</property>
      <value>18.0</value> <!-- 2 bulbs in parallel. -->
     </sum>
    </quotient>
   </function>
  </fcs_function>
  <fcs_function name="electrical/instrument-lights/switch-current-A[6]">
   <function>
    <quotient>
     <property>electrical/main-switchbox/fuse-voltage-V[0]</property>
     <sum>
      <property>electrical/instrument-lights/switch-resistance-ohm[6]</property>
      <value>9.0</value> <!-- 4 bulbs in parallel. -->
     </sum>
    </quotient>
   </function>
  </fcs_function>
  <fcs_function name="electrical/instrument-lights/switch-current-A[7]">
   <function>
    <quotient>
     <property>electrical/main-switchbox/fuse-voltage-V[1]</property>
     <sum>
      <property>electrical/instrument-lights/switch-resistance-ohm[7]</property>
      <value>9.0</value> <!-- 4 bulbs in parallel. -->
     </sum>
    </quotient>
   </function>
  </fcs_function>
  <fcs_function name="electrical/instrument-lights/switch-current-A[8]">
   <function>
    <quotient>
     <property>electrical/main-switchbox/fuse-voltage-V[0]</property>
     <sum>
      <property>electrical/instrument-lights/switch-resistance-ohm[8]</property>
      <value>18.0</value> <!-- 2 bulbs in parallel. -->
     </sum>
    </quotient>
   </function>
  </fcs_function>

  <fcs_function name="electrical/instrument-lights/switch-power-W[0]">
   <function>
    <product>
     <property>electrical/instrument-lights/switch-current-A[0]</property>
     <difference>
      <property>electrical/main-switchbox/fuse-voltage-V[0]</property>
      <product>
       <property>electrical/instrument-lights/switch-current-A[0]</property>
       <property>electrical/instrument-lights/switch-resistance-ohm[0]</property>
      </product>
     </difference>
    </product>
   </function>
  </fcs_function>

  <fcs_function name="electrical/instrument-lights/altimeter-power-W[0]">
   <function>
    <product>
     <value>0.333333</value>
     <property>electrical/instrument-lights/switch-power-W[0]</property>
    </product>
   </function>
   <output>/systems/electrical/lamps/instruments/altimeter-power-W[0]</output>
  </fcs_function>

  <fcs_function name="electrical/instrument-lights/directional-power-W">
   <function>
    <product>
     <value>0.333333</value>
     <property>electrical/instrument-lights/switch-power-W[0]</property>
    </product>
   </function>
   <output>/systems/electrical/lamps/instruments/directional-power-W</output>
  </fcs_function>

  <fcs_function name="electrical/instrument-lights/attitude-power-W">
   <function>
    <product>
     <value>0.333333</value>
     <property>electrical/instrument-lights/switch-power-W[0]</property>
    </product>
   </function>
   <output>/systems/electrical/lamps/instruments/attitude-power-W</output>
  </fcs_function>

  <fcs_function name="electrical/instrument-lights/switch-power-W[1]">
   <function>
    <product>
     <property>electrical/instrument-lights/switch-current-A[1]</property>
     <difference>
      <property>electrical/main-switchbox/fuse-voltage-V[0]</property>
      <product>
       <property>electrical/instrument-lights/switch-current-A[1]</property>
       <property>electrical/instrument-lights/switch-resistance-ohm[1]</property>
      </product>
     </difference>
    </product>
   </function>
  </fcs_function>
  <fcs_function name="electrical/instrument-lights/asi-power-W">
   <function>
    <product>
     <value>0.5</value>
     <property>electrical/instrument-lights/switch-power-W[1]</property>
    </product>
   </function>
   <output>/systems/electrical/lamps/instruments/asi-power-W</output>
  </fcs_function>
  <fcs_function name="electrical/instrument-lights/turn-power-W[0]">
   <function>
    <product>
     <value>0.5</value>
     <property>electrical/instrument-lights/switch-power-W[1]</property>
    </product>
   </function>
   <output>/systems/electrical/lamps/instruments/turn-power-W[0]</output>
  </fcs_function>
  <fcs_function name="electrical/instrument-lights/clock-power-W">
   <function>
    <product>
     <value>0.5</value>
     <property>electrical/instrument-lights/switch-power-W[1]</property>
    </product>
   </function>
   <output>/systems/electrical/lamps/instruments/clock-power-W</output>
  </fcs_function>

  <fcs_function name="electrical/instrument-lights/switch-power-W[2]">
   <function>
    <product>
     <property>electrical/instrument-lights/switch-current-A[2]</property>
     <difference>
      <property>electrical/main-switchbox/fuse-voltage-V[0]</property>
      <product>
       <property>electrical/instrument-lights/switch-current-A[2]</property>
       <property>electrical/instrument-lights/switch-resistance-ohm[2]</property>
      </product>
     </difference>
    </product>
   </function>
  </fcs_function>
  <fcs_function name="electrical/instrument-lights/vsi-power-W">
   <function>
    <property>electrical/instrument-lights/switch-power-W[2]</property>
   </function>
   <output>/systems/electrical/lamps/instruments/vsi-power-W</output>
  </fcs_function>
  <fcs_function name="electrical/instrument-lights/fore-aft-lever-power-W">
   <function>
    <property>electrical/instrument-lights/switch-power-W[2]</property>
   </function>
   <output>/systems/electrical/lamps/instruments/fore-aft-level-power-W</output>
  </fcs_function>

  <fcs_function name="electrical/instrument-lights/switch-power-W[3]">
   <function>
    <product>
     <property>electrical/instrument-lights/switch-current-A[3]</property>
     <difference>
      <property>electrical/main-switchbox/fuse-voltage-V[1]</property>
      <product>
       <property>electrical/instrument-lights/switch-current-A[3]</property>
       <property>electrical/instrument-lights/switch-resistance-ohm[3]</property>
      </product>
     </difference>
    </product>
   </function>
  </fcs_function>
  <fcs_function name="electrical/instrument-lights/engine-speed-power-W[0]">
   <function>
    <product>
     <value>0.5</value>
     <property>electrical/instrument-lights/switch-power-W[3]</property>
    </product>
   </function>
   <output>/systems/electrical/lamps/instruments/engine-speed-power-W[0]</output>
  </fcs_function>
  <fcs_function name="electrical/instrument-lights/engine-speed-power-W[1]">
   <function>
    <product>
     <value>0.5</value>
     <property>electrical/instrument-lights/switch-power-W[3]</property>
    </product>
   </function>
   <output>/systems/electrical/lamps/instruments/engine-speed-power-W[1]</output>
  </fcs_function>

  <fcs_function name="electrical/instrument-lights/switch-power-W[4]">
   <function>
    <product>
     <property>electrical/instrument-lights/switch-current-A[4]</property>
     <difference>
      <property>electrical/main-switchbox/fuse-voltage-V[1]</property>
      <product>
       <property>electrical/instrument-lights/switch-current-A[4]</property>
       <property>electrical/instrument-lights/switch-resistance-ohm[4]</property>
      </product>
     </difference>
    </product>
   </function>
  </fcs_function>
  <fcs_function name="electrical/instrument-lights/oil-pressure-power-W[0]">
   <function>
    <product>
     <value>0.5</value>
     <property>electrical/instrument-lights/switch-power-W[4]</property>
    </product>
   </function>
   <output>/systems/electrical/lamps/instruments/oil-pressure-power-W</output>
  </fcs_function>
  <fcs_function name="electrical/instrument-lights/asi-power-W[1]">
   <function>
    <product>
     <value>0.5</value>
     <property>electrical/instrument-lights/switch-power-W[4]</property>
    </product>
   </function>
   <output>/systems/electrical/lamps/instruments/asi-power-W[1]</output>
  </fcs_function>
  <fcs_function name="electrical/instrument-lights/turn-power-W[1]">
   <function>
    <product>
     <value>0.5</value>
     <property>electrical/instrument-lights/switch-power-W[4]</property>
    </product>
   </function>
   <output>/systems/electrical/lamps/instruments/turn-power-W[1]</output>
  </fcs_function>

  <fcs_function name="electrical/instrument-lights/switch-power-W[5]">
   <function>
    <product>
     <property>electrical/instrument-lights/switch-current-A[5]</property>
     <difference>
      <property>electrical/main-switchbox/fuse-voltage-V[1]</property>
      <product>
       <property>electrical/instrument-lights/switch-current-A[5]</property>
       <property>electrical/instrument-lights/switch-resistance-ohm[5]</property>
      </product>
     </difference>
    </product>
   </function>
  </fcs_function>
  <fcs_function name="electrical/instrument-lights/boost-power-W">
   <function>
    <product>
     <value>0.5</value>
     <property>electrical/instrument-lights/switch-power-W[5]</property>
    </product>
   </function>
   <output>/systems/electrical/lamps/instruments/boost-power-W</output>
  </fcs_function>
  <fcs_function name="electrical/instrument-lights/altimeter-power-W[1]">
   <function>
    <product>
     <value>0.5</value>
     <property>electrical/instrument-lights/switch-power-W[5]</property>
    </product>
   </function>
   <output>/systems/electrical/lamps/instruments/altimeter-power-W[1]</output>
  </fcs_function>

  <fcs_function name="electrical/instrument-lights/switch-power-W[6]">
   <function>
    <product>
     <property>electrical/instrument-lights/switch-current-A[6]</property>
     <difference>
      <property>electrical/main-switchbox/fuse-voltage-V[0]</property>
      <product>
       <property>electrical/instrument-lights/switch-current-A[6]</property>
       <property>electrical/instrument-lights/switch-resistance-ohm[6]</property>
      </product>
     </difference>
    </product>
   </function>
  </fcs_function>
  <fcs_function name="electrical/instrument-lights/compass-power-W[1]">
   <function>
    <property>electrical/instrument-lights/switch-power-W[6]</property>
   </function>
   <output>/systems/electrical/lamps/instruments/compass-power-W[1]</output>
  </fcs_function>

  <fcs_function name="electrical/instrument-lights/switch-power-W[7]">
   <function>
    <product>
     <property>electrical/instrument-lights/switch-current-A[7]</property>
     <difference>
      <property>electrical/main-switchbox/fuse-voltage-V[1]</property>
      <product>
       <property>electrical/instrument-lights/switch-current-A[7]</property>
       <property>electrical/instrument-lights/switch-resistance-ohm[7]</property>
      </product>
     </difference>
    </product>
   </function>
  </fcs_function>
  <fcs_function name="electrical/instrument-lights/compass-power-W[0]">
   <function>
    <property>electrical/instrument-lights/switch-power-W[7]</property>
   </function>
   <output>/systems/electrical/lamps/instruments/compass-power-W[0]</output>
  </fcs_function>

  <fcs_function name="electrical/instrument-lights/switch-power-W[8]">
   <function>
    <product>
     <property>electrical/instrument-lights/switch-current-A[8]</property>
     <difference>
      <property>electrical/main-switchbox/fuse-voltage-V[0]</property>
      <product>
       <property>electrical/instrument-lights/switch-current-A[8]</property>
       <property>electrical/instrument-lights/switch-resistance-ohm[8]</property>
      </product>
     </difference>
    </product>
   </function>
  </fcs_function>
  <fcs_function name="electrical/instrument-lights/autopilot-power-W">
   <function>
    <property>electrical/instrument-lights/switch-power-W[8]</property>
   </function>
   <output>/systems/electrical/lamps/instruments/autopilot-power-W</output>
  </fcs_function>

  <summer name="electrical/main-switchbox/fuse-current-A[0]">
   <input>electrical/instrument-lights/switch-current-A[0]</input>
   <input>electrical/instrument-lights/switch-current-A[1]</input>
   <input>electrical/instrument-lights/switch-current-A[2]</input>
   <input>electrical/instrument-lights/switch-current-A[6]</input>
   <input>electrical/instrument-lights/switch-current-A[8]</input>
  </summer>

  <summer name="electrical/main-switchbox/fuse-current-A[1]">
   <input>electrical/instrument-lights/switch-current-A[3]</input>
   <input>electrical/instrument-lights/switch-current-A[4]</input>
   <input>electrical/instrument-lights/switch-current-A[5]</input>
   <input>electrical/instrument-lights/switch-current-A[7]</input>
  </summer>

 </channel>

 <!-- ======================================================================
      Main switchbox fuse 3 circuit - anchor and steaming lights 
 -->
 <channel name="Anchor and steaming lights">

  <switch name="electrical/light-switch-panel/anchor-voltage-V">
   <default value="0.0"/>
   <test logic="AND" value="electrical/bus[0]/voltage-V">
     electrical/light-switch-panel/anchor-cmd-norm GT 0.5
     electrical/main-switchbox/fuse-serviceable[2] GT 0.5
   </test>
  </switch>

  <switch name="electrical/light-switch-panel/steaming-voltage-V">
   <default value="0.0"/>
   <test logic="AND" value="electrical/bus[0]/voltage-V">
     electrical/light-switch-panel/steaming-cmd-norm GT 0.5
     electrical/main-switchbox/fuse-serviceable[2] GT 0.5
   </test>
  </switch>

  <fcs_function name="electrical/lamps/navigation/anchor-current-A">
   <function>
    <quotient>
     <property>electrical/light-switch-panel/anchor-voltage-V</property>
     <value>57.6</value>
    </quotient>
   </function>
  </fcs_function>

  <fcs_function name="electrical/lamps/navigation/steaming-current-A">
   <function>
    <quotient>
     <property>electrical/light-switch-panel/steaming-voltage-V</property>
     <value>57.6</value>
    </quotient>
   </function>
  </fcs_function>

  <fcs_function name="electrical/lamps/navigation/anchor-power-W">
   <function>
    <product>
     <property>electrical/light-switch-panel/anchor-voltage-V</property>
     <property>electrical/lamps/navigation/anchor-current-A</property>
    </product>
   </function>
   <output>/systems/electrical/lamps/navigation/anchor-power-W</output>
  </fcs_function>

  <fcs_function name="electrical/lamps/navigation/steaming-power-W">
   <function>
    <product>
     <property>electrical/light-switch-panel/steaming-voltage-V</property>
     <property>electrical/lamps/navigation/steaming-current-A</property>
    </product>
   </function>
   <output>/systems/electrical/lamps/navigation/steaming-power-W</output>
  </fcs_function>

  <summer name="electrical/main-switchbox/fuse-current-A[2]">
   <input>electrical/lamps/navigation/anchor-current-A</input>
   <input>electrical/lamps/navigation/steaming-current-A</input>
  </summer>

 </channel>

 <!-- ======================================================================
      Main switchbox fuse 4 circuit - identification light
 -->
 <channel name="Identification light">

  <switch name="electrical/light-switch-panel/identification-voltage-V">
   <default value="0.0"/>
   <test logic="AND" value="electrical/bus[0]/voltage-V">
     electrical/light-switch-panel/identification-cmd-norm GT 0.5
     electrical/main-switchbox/fuse-serviceable[3] GT 0.5
   </test>
  </switch>

  <fcs_function name="electrical/lamps/navigation/identification-current-A">
   <function>
    <quotient>
     <property>electrical/light-switch-panel/identification-voltage-V</property>
     <value>48.0</value>
    </quotient>
   </function>
  </fcs_function>

  <fcs_function name="electrical/lamps/navigation/identification-power-W">
   <function>
    <product>
     <property>electrical/light-switch-panel/identification-voltage-V</property>
     <property>electrical/lamps/navigation/identification-current-A</property>
    </product>
   </function>
   <output>/systems/electrical/lamps/navigation/identification-power-W</output>
  </fcs_function>

  <summer name="electrical/main-switchbox/fuse-current-A[3]">
   <input>electrical/lamps/navigation/identification-current-A</input>
  </summer>

 </channel>

 <!-- ======================================================================
      Main switchbox switch 3 fuse 6 circuit - flight-deck roof lights
 -->
 <channel name="Flight-deck roof lights">

  <switch name="electrical/main-switchbox/switch-voltage-V[2]">
   <default value="0.0"/>
   <test logic="AND" value="electrical/bus[0]/voltage-V">
     electrical/main-switchbox/switch-cmd-norm[2] GT 0.5
     electrical/main-switchbox/fuse-serviceable[5] GT 0.5
   </test>
  </switch>

  <fcs_function name="electrical/light-switch-panel/dimmer-resistance-ohm[0]">
   <function>
    <table>
     <independentVar lookup="row">electrical/light-switch-panel/roof-cmd-norm[0]</independentVar>
     <tableData> <!-- Guessed: 1000*(1-cmd.^0.25) -->
       0.0000e+00   1.0000e+03
       1.0000e-01   4.3766e+02
       2.0000e-01   3.3126e+02
       3.0000e-01   2.5992e+02
       4.0000e-01   2.0473e+02
       5.0000e-01   1.5910e+02
       6.0000e-01   1.1989e+02
       7.0000e-01   8.5309e+01
       8.0000e-01   5.4258e+01
       9.0000e-01   2.5996e+01
       1.0000e+00   0.0000e+00
     </tableData>
    </table>
   </function>
  </fcs_function>

  <fcs_function name="electrical/light-switch-panel/dimmer-resistance-ohm[1]">
   <function>
    <table>
     <independentVar lookup="row">electrical/light-switch-panel/roof-cmd-norm[1]</independentVar>
     <tableData> <!-- Guessed: 1000*(1-cmd.^0.25) -->
       0.0000e+00   1.0000e+03
       1.0000e-01   4.3766e+02
       2.0000e-01   3.3126e+02
       3.0000e-01   2.5992e+02
       4.0000e-01   2.0473e+02
       5.0000e-01   1.5910e+02
       6.0000e-01   1.1989e+02
       7.0000e-01   8.5309e+01
       8.0000e-01   5.4258e+01
       9.0000e-01   2.5996e+01
       1.0000e+00   0.0000e+00
     </tableData>
    </table>
   </function>
  </fcs_function>

  <fcs_function name="electrical/lamps/flight-deck/roof-current-A[0]">
   <function>
    <quotient>
     <property>electrical/main-switchbox/switch-voltage-V[2]</property>
     <sum>
      <property>electrical/light-switch-panel/dimmer-resistance-ohm[0]</property>
      <value>96.0</value>
     </sum>
    </quotient>
   </function>
  </fcs_function>

  <fcs_function name="electrical/lamps/flight-deck/roof-current-A[1]">
   <function>
    <quotient>
     <property>electrical/main-switchbox/switch-voltage-V[2]</property>
     <sum>
      <property>electrical/light-switch-panel/dimmer-resistance-ohm[1]</property>
      <value>96.0</value>
     </sum>
    </quotient>
   </function>
  </fcs_function>

  <fcs_function name="electrical/lamps/flight-deck/roof-power-W[0]">
   <function>
    <product>
     <value>96.0</value>
     <property>electrical/lamps/flight-deck/roof-current-A[0]</property>
     <property>electrical/lamps/flight-deck/roof-current-A[0]</property>
    </product>
   </function>
   <output>/systems/electrical/lamps/flight-deck/roof-power-W[0]</output>
  </fcs_function>
  <fcs_function name="electrical/lamps/flight-deck/roof-power-norm[0]">
   <function>
    <quotient>
     <property>electrical/lamps/flight-deck/roof-power-W[0]</property>
     <value>6.0</value>
    </quotient>
   </function>
   <output>/systems/electrical/lamps/flight-deck/roof-power-norm[0]</output>
  </fcs_function>

  <fcs_function name="electrical/lamps/flight-deck/roof-power-W[1]">
   <function>
    <product>
     <value>96.0</value>
     <property>electrical/lamps/flight-deck/roof-current-A[1]</property>
     <property>electrical/lamps/flight-deck/roof-current-A[1]</property>
    </product>
   </function>
   <output>/systems/electrical/lamps/flight-deck/roof-power-W[1]</output>
  </fcs_function>
  <fcs_function name="electrical/lamps/flight-deck/roof-power-norm[1]">
   <function>
    <quotient>
     <property>electrical/lamps/flight-deck/roof-power-W[1]</property>
     <value>6.0</value>
    </quotient>
   </function>
   <output>/systems/electrical/lamps/flight-deck/roof-power-norm[1]</output>
  </fcs_function>

  <summer name="electrical/main-switchbox/fuse-current-A[5]">
   <input>electrical/lamps/flight-deck/roof-current-A[0]</input>
   <input>electrical/lamps/flight-deck/roof-current-A[1]</input>
  </summer>

 </channel>

 <!-- ======================================================================
      Main switchbox switch 4, fuse 7 circuits - Fore, Corridor, Centre cabins. 
 -->
 <channel name="Main switchbox switch 4 fuse 7">

  <switch name="electrical/main-switchbox/switch-voltage-V[3]">
   <default value="0.0"/>
   <test logic="AND" value="electrical/bus[0]/voltage-V">
     electrical/main-switchbox/switch-cmd-norm[3] GT 0.5
   </test>
  </switch>

  <fcs_function name="electrical/main-switchbox/fuse-voltage-V[6]">
   <function>
    <product>
     <property>electrical/main-switchbox/fuse-serviceable[6]</property>
     <property>electrical/main-switchbox/switch-voltage-V[3]</property>
    </product>
   </function>
  </fcs_function>

  <!-- summer name="electrical/main-switchbox/fuse-current-A[6]">
  </summer -->

 </channel>

 <!-- ======================================================================
      Main switchbox switch 4, fuse 8 circuits - Promenade and Aft cabins
 -->
 <channel name="Main switchbox switch 4 fuse 8">

  <fcs_function name="electrical/main-switchbox/fuse-voltage-V[7]">
   <function>
    <product>
     <property>electrical/main-switchbox/fuse-serviceable[7]</property>
     <property>electrical/main-switchbox/switch-voltage-V[3]</property>
    </product>
   </function>
  </fcs_function>

  <!-- summer name="electrical/main-switchbox/fuse-current-A[7]">
  </summer -->

 </channel>

 <!-- ======================================================================
      Main switchbox switch 4, fuse 9 circuits - Flight deck aft lights 
 -->
 <documentation>
  Fuse 9 lighting circuits from [Short:RN-3-1-37] page 175:
    Power  Switches       Description      Remark
     6W     at lamp        Chart table
     6W     ctrl panel #1  Loading          On the mail hatch?
     6W     ctrl panel #2  Receiving        Over the main switchboard?
     6+6W   ctrl panel #3  Mail room        2-in-1 switch
     6W     ctrl panel #3  Mail room
     6+6W   ctrl panel #4  Stowage room     In the spar compartment?

  The fuse load is noted as 48W.
 </documentation>
 <channel name="Main switchbox switch 4 fuse 9">

  <fcs_function name="electrical/main-switchbox/fuse-voltage-V[8]">
   <function>
    <product>
     <property>electrical/main-switchbox/fuse-serviceable[8]</property>
     <property>electrical/main-switchbox/switch-voltage-V[3]</property>
    </product>
   </function>
  </fcs_function>

  <switch name="electrical/control-panel/chart-voltage-V">
   <default value="0.0"/>
   <test logic="AND" value="electrical/main-switchbox/fuse-voltage-V[8]">
     electrical/control-panel/chart-cmd-norm GT 0.5
   </test>
  </switch>

  <switch name="electrical/control-panel/loading-voltage-V">
   <default value="0.0"/>
   <test logic="AND" value="electrical/main-switchbox/fuse-voltage-V[8]">
     electrical/control-panel/loading-cmd-norm GT 0.5
   </test>
  </switch>

  <switch name="electrical/control-panel/receiving-voltage-V">
   <default value="0.0"/>
   <test logic="AND" value="electrical/main-switchbox/fuse-voltage-V[8]">
     electrical/control-panel/receiving-cmd-norm GT 0.5
   </test>
  </switch>

  <switch name="electrical/control-panel/mail-voltage-V[0]">
   <default value="0.0"/>
   <test logic="AND" value="electrical/main-switchbox/fuse-voltage-V[8]">
     electrical/control-panel/mail-cmd-norm[0] GT 0.5
   </test>
  </switch>
  <switch name="electrical/control-panel/mail-voltage-V[1]">
   <default value="0.0"/>
   <test logic="AND" value="electrical/main-switchbox/fuse-voltage-V[8]">
     electrical/control-panel/mail-cmd-norm[1] GT 0.5
   </test>
  </switch>

  <switch name="electrical/control-panel/stowage-voltage-V[0]">
   <default value="0.0"/>
   <test logic="AND" value="electrical/main-switchbox/fuse-voltage-V[8]">
     electrical/control-panel/stowage-cmd-norm[0] GT 0.5
   </test>
  </switch>

  <fcs_function name="electrical/lamps/flight-deck/chart-current-A">
   <function>
    <quotient>
     <property>electrical/control-panel/chart-voltage-V</property>
     <value>96.0</value>
    </quotient>
   </function>
  </fcs_function>
  <fcs_function name="electrical/lamps/flight-deck/chart-power-W">
   <function>
    <product>
     <property>electrical/control-panel/chart-voltage-V</property>
     <property>electrical/lamps/flight-deck/chart-current-A</property>
    </product>
   </function>
   <output>/systems/electrical/lamps/flight-deck/chart-power-W</output>
  </fcs_function>
  <fcs_function name="electrical/lamps/flight-deck/chart-power-norm[0]">
   <function>
    <quotient>
     <property>electrical/lamps/flight-deck/chart-power-W[0]</property>
     <value>6.0</value>
    </quotient>
   </function>
   <output>/systems/electrical/lamps/flight-deck/chart-power-norm[0]</output>
  </fcs_function>

  <fcs_function name="electrical/lamps/flight-deck/loading-current-A">
   <function>
    <quotient>
     <property>electrical/control-panel/loading-voltage-V</property>
     <value>96.0</value>
    </quotient>
   </function>
  </fcs_function>
  <fcs_function name="electrical/lamps/flight-deck/loading-power-W">
   <function>
    <product>
     <property>electrical/control-panel/loading-voltage-V</property>
     <property>electrical/lamps/flight-deck/loading-current-A</property>
    </product>
   </function>
   <output>/systems/electrical/lamps/flight-deck/loading-power-W</output>
  </fcs_function>
  <fcs_function name="electrical/lamps/flight-deck/loading-power-norm[0]">
   <function>
    <quotient>
     <property>electrical/lamps/flight-deck/loading-power-W[0]</property>
     <value>6.0</value>
    </quotient>
   </function>
   <output>/systems/electrical/lamps/flight-deck/loading-power-norm[0]</output>
  </fcs_function>

  <fcs_function name="electrical/lamps/flight-deck/receiving-current-A">
   <function>
    <quotient>
     <property>electrical/control-panel/receiving-voltage-V</property>
     <value>96.0</value>
    </quotient>
   </function>
  </fcs_function>
  <fcs_function name="electrical/lamps/flight-deck/receiving-power-W">
   <function>
    <product>
     <property>electrical/control-panel/receiving-voltage-V</property>
     <property>electrical/lamps/flight-deck/receiving-current-A</property>
    </product>
   </function>
   <output>/systems/electrical/lamps/flight-deck/receiving-power-W</output>
  </fcs_function>
  <fcs_function name="electrical/lamps/flight-deck/receiving-power-norm[0]">
   <function>
    <quotient>
     <property>electrical/lamps/flight-deck/receiving-power-W[0]</property>
     <value>6.0</value>
    </quotient>
   </function>
   <output>/systems/electrical/lamps/flight-deck/receiving-power-norm[0]</output>
  </fcs_function>

  <fcs_function name="electrical/lamps/flight-deck/mail-current-A[0]">
   <function>
    <quotient>
     <property>electrical/control-panel/mail-voltage-V[0]</property>
     <value>48.0</value>
    </quotient>
   </function>
  </fcs_function>
  <fcs_function name="electrical/lamps/flight-deck/mail-power-W[0]">
   <function>
    <product>
     <property>electrical/control-panel/mail-voltage-V[0]</property>
     <property>electrical/lamps/flight-deck/mail-current-A[0]</property>
    </product>
   </function>
   <output>/systems/electrical/lamps/flight-deck/mail-power-W[0]</output>
  </fcs_function>
  <fcs_function name="electrical/lamps/flight-deck/mail-power-norm[0]">
   <function>
    <quotient>
     <property>electrical/lamps/flight-deck/mail-power-W[0]</property>
     <value>12.0</value>
    </quotient>
   </function>
   <output>/systems/electrical/lamps/flight-deck/mail-power-norm[0]</output>
  </fcs_function>

  <fcs_function name="electrical/lamps/flight-deck/mail-current-A[1]">
   <function>
    <quotient>
     <property>electrical/control-panel/mail-voltage-V[1]</property>
     <value>96.0</value>
    </quotient>
   </function>
  </fcs_function>
  <fcs_function name="electrical/lamps/flight-deck/mail-power-W[1]">
   <function>
    <product>
     <property>electrical/control-panel/mail-voltage-V[1]</property>
     <property>electrical/lamps/flight-deck/mail-current-A[1]</property>
    </product>
   </function>
   <output>/systems/electrical/lamps/flight-deck/mail-power-W[1]</output>
  </fcs_function>
  <fcs_function name="electrical/lamps/flight-deck/mail-power-norm[1]">
   <function>
    <quotient>
     <property>electrical/lamps/flight-deck/mail-power-W[1]</property>
     <value>6.0</value>
    </quotient>
   </function>
   <output>/systems/electrical/lamps/flight-deck/mail-power-norm[1]</output>
  </fcs_function>

  <fcs_function name="electrical/lamps/flight-deck/stowage-current-A">
   <function>
    <quotient>
     <property>electrical/control-panel/stowage-voltage-V</property>
     <value>48.0</value>
    </quotient>
   </function>
  </fcs_function>
  <fcs_function name="electrical/lamps/flight-deck/stowage-power-W">
   <function>
    <product>
     <property>electrical/control-panel/stowage-voltage-V</property>
     <property>electrical/lamps/flight-deck/stowage-current-A</property>
    </product>
   </function>
   <output>/systems/electrical/lamps/flight-deck/stowage-power-W</output>
  </fcs_function>
  <fcs_function name="electrical/lamps/flight-deck/stowage-power-norm[0]">
   <function>
    <quotient>
     <property>electrical/lamps/flight-deck/stowage-power-W[0]</property>
     <value>12.0</value>
    </quotient>
   </function>
   <output>/systems/electrical/lamps/flight-deck/stowage-power-norm[0]</output>
  </fcs_function>

  <summer name="electrical/main-switchbox/fuse-current-A[8]">
   <input>electrical/lamps/flight-deck/chart-current-A</input>
   <input>electrical/lamps/flight-deck/loading-current-A</input>
   <input>electrical/lamps/flight-deck/receiving-current-A</input>
   <input>electrical/lamps/flight-deck/mail-current-A[0]</input>
   <input>electrical/lamps/flight-deck/mail-current-A[1]</input>
   <input>electrical/lamps/flight-deck/stowage-current-A</input>
  </summer>

 </channel>

 <!-- ======================================================================
      Main switchbox switch 6 fuse 12 and 13 circuits - Navigation lights
 -->
 <channel name="Navigation lights">

  <switch name="electrical/main-switchbox/switch-voltage-V[5]">
   <default value="0.0"/>
   <test logic="AND" value="electrical/bus[0]/voltage-V">
     electrical/main-switchbox/switch-cmd-norm[5] GT 0.5
   </test>
  </switch>

  <fcs_function name="electrical/lamps/navigation/port-current-A">
   <function>
    <product>
     <property>electrical/main-switchbox/fuse-serviceable[11]</property>
     <quotient>
      <property>electrical/main-switchbox/switch-voltage-V[5]</property>
      <value>28.8</value>
     </quotient>
    </product>
   </function>
  </fcs_function>
  <fcs_function name="electrical/lamps/navigation/port-power-W">
   <function>
    <product>
     <property>electrical/main-switchbox/switch-voltage-V[5]</property>
     <property>electrical/lamps/navigation/port-current-A</property>
    </product>
   </function>
   <output>/systems/electrical/lamps/navigation/port-power-W</output>
  </fcs_function>

  <fcs_function name="electrical/lamps/navigation/starboard-current-A">
   <function>
    <product>
     <property>electrical/main-switchbox/fuse-serviceable[12]</property>
     <quotient>
      <property>electrical/main-switchbox/switch-voltage-V[5]</property>
      <value>28.8</value>
     </quotient>
    </product>
   </function>
  </fcs_function>
  <fcs_function name="electrical/lamps/navigation/starboard-power-W">
   <function>
    <product>
     <property>electrical/main-switchbox/switch-voltage-V[5]</property>
     <property>electrical/lamps/navigation/starboard-current-A</property>
    </product>
   </function>
   <output>/systems/electrical/lamps/navigation/starboard-power-W</output>
  </fcs_function>

  <fcs_function name="electrical/lamps/navigation/tail-current-A">
   <function>
    <product>
     <property>electrical/main-switchbox/fuse-serviceable[12]</property>
     <quotient>
      <property>electrical/main-switchbox/switch-voltage-V[5]</property>
      <value>57.6</value>
     </quotient>
    </product>
   </function>
  </fcs_function>
  <fcs_function name="electrical/lamps/navigation/tail-power-W">
   <function>
    <product>
     <property>electrical/main-switchbox/switch-voltage-V[5]</property>
     <property>electrical/lamps/navigation/tail-current-A</property>
    </product>
   </function>
   <output>/systems/electrical/lamps/navigation/tail-power-W</output>
  </fcs_function>

  <summer name="electrical/main-switchbox/fuse-current-A[11]">
   <input>electrical/lamps/navigation/port-current-A</input>
  </summer>

  <summer name="electrical/main-switchbox/fuse-current-A[12]">
   <input>electrical/lamps/navigation/starboard-current-A</input>
   <input>electrical/lamps/navigation/tail-current-A</input>
  </summer>

 </channel>

 <!-- ======================================================================
      Main switchbox fuse 14 circuit - Signalling light
 -->
 <channel name="Main switchbox fuse 14">

  <fcs_function name="electrical/main-switchbox/fuse-voltage-V[13]">
   <function>
    <product>
     <property>electrical/main-switchbox/fuse-serviceable[13]</property>
     <property>electrical/bus[1]/voltage-V</property>
    </product>
   </function>
  </fcs_function>

  <!-- summer name="electrical/main-switchbox/fuse-current-A[13]">
  </summer -->

 </channel>


 <!-- ======================================================================
      Landing search lights
 -->
 <channel name="Landing lights">

  <switch name="electrical/light-switch-panel/landing-voltage-V[0]">
   <default value="0.0"/>
   <test logic="AND" value="electrical/bus[0]/voltage-V">
     electrical/light-switch-panel/landing-cmd-norm GT 0.25
     electrical/light-switch-panel/landing-cmd-norm LT 0.75
   </test>
  </switch>

  <switch name="electrical/light-switch-panel/landing-voltage-V[1]">
   <default value="0.0"/>
   <test logic="AND" value="electrical/bus[0]/voltage-V">
     electrical/light-switch-panel/landing-cmd-norm GT 0.75
   </test>
  </switch>

  <fcs_function name="electrical/lamps/landing/bow-current-A">
   <function>
     <quotient>
      <property>electrical/light-switch-panel/landing-voltage-V[0]</property>
      <value>2.4</value>
     </quotient>
   </function>
  </fcs_function>

  <fcs_function name="electrical/lamps/landing/wing-current-A">
   <function>
     <quotient>
      <property>electrical/light-switch-panel/landing-voltage-V[1]</property>
      <value>1.152</value>
     </quotient>
   </function>
  </fcs_function>

  <fcs_function name="electrical/lamps/landing/bow-power-W">
   <function>
    <product>
     <property>electrical/light-switch-panel/landing-voltage-V[0]</property>
     <property>electrical/lamps/landing/bow-current-A</property>
    </product>
   </function>
   <output>/systems/electrical/lamps/landing/bow-power-W</output>
  </fcs_function>

  <fcs_function name="electrical/lamps/landing/wing-power-W">
   <function>
    <product>
     <property>electrical/light-switch-panel/landing-voltage-V[1]</property>
     <property>electrical/lamps/landing/wing-current-A</property>
    </product>
   </function>
   <output>/systems/electrical/lamps/landing/wing-power-W</output>
  </fcs_function>

 </channel>

 <!-- ======================================================================
      Engine starters.

      See also the engine file, Engines/eng_PegasusXc.xml, and
      Systems/engines.xml

      Input to the engine starter
        propulsion/engine[#]/starter-voltage-V
      Output from the engine starter:
        propulsion/engine[#]/starter-current-A

 -->
 <channel name="Engine starters">

  <switch name="propulsion/engine[0]/starter-voltage-V">
   <default value="0.0"/>
   <test logic="AND" value="electrical/bus[1]/voltage-V">
     fcs/starter-cmd-norm[0] GT 0.5
   </test>
  </switch>
  <switch name="propulsion/engine[1]/starter-voltage-V">
   <default value="0.0"/>
   <test logic="AND" value="electrical/bus[1]/voltage-V">
     fcs/starter-cmd-norm[1] GT 0.5
   </test>
  </switch>
  <switch name="propulsion/engine[2]/starter-voltage-V">
   <default value="0.0"/>
   <test logic="AND" value="electrical/bus[1]/voltage-V">
     fcs/starter-cmd-norm[2] GT 0.5
   </test>
  </switch>
  <switch name="propulsion/engine[3]/starter-voltage-V">
   <default value="0.0"/>
   <test logic="AND" value="electrical/bus[1]/voltage-V">
     fcs/starter-cmd-norm[3] GT 0.5
   </test>
  </switch>

 </channel>

 <!-- ======================================================================
      Flap motor system.
      See also System/flaps.xml
 -->
 <channel name="Flaps">

  <fcs_function name="electrical/fuses/flap-motor-voltage-V">
   <function>
    <property>electrical/bus[0]/voltage-V</property>
   </function>
  </fcs_function>

 </channel>

 <channel name="Bus currents">

  <!-- The 24V bus. -->
  <summer name="electrical/bus[0]/current-A">
   <input>electrical/main-switchbox/fuse-current-A[2]</input>
   <input>electrical/main-switchbox/fuse-current-A[3]</input>
   <!-- input>electrical/main-switchbox/fuse-current-A[4]</input -->
   <input>electrical/main-switchbox/fuse-current-A[5]</input>
   <!-- input>electrical/main-switchbox/fuse-current-A[6]</input -->
   <!-- input>electrical/main-switchbox/fuse-current-A[7]</input -->
   <input>electrical/main-switchbox/fuse-current-A[8]</input>
   <!-- input>electrical/main-switchbox/fuse-current-A[9]</input -->
   <!-- input>electrical/main-switchbox/fuse-current-A[10]</input -->
   <input>electrical/main-switchbox/fuse-current-A[11]</input>
   <input>electrical/main-switchbox/fuse-current-A[12]</input>
   <input>electrical/flap-motor/current-A</input>
   <input>electrical/lamps/flaps/pilot-current-A</input>
   <input>electrical/lamps/flaps/warning-current-A</input>
   <input>electrical/lamps/landing/bow-current-A</input>
   <input>electrical/lamps/landing/wing-current-A</input>
  </summer>

  <!-- The 12V bus. -->
  <summer name="electrical/bus[1]/current-A">
   <input>propulsion/engine[0]/starter-current-A</input>
   <input>propulsion/engine[1]/starter-current-A</input>
   <input>propulsion/engine[2]/starter-current-A</input>
   <input>propulsion/engine[3]/starter-current-A</input>
   <input>electrical/main-switchbox/fuse-current-A[0]</input>
   <input>electrical/main-switchbox/fuse-current-A[1]</input>
   <!-- input>electrical/main-switchbox/fuse-current-A[13]</input -->
   <output>electrical/battery/current-A[1]</output>
  </summer>

 </channel>

 <!-- ======================================================================
      Generators and voltage regulators
 -->
 <channel name="Voltage regulators">

  <switch name="electrical/voltage-regulators/online[0]">
   <default value="0.0"/>
   <test logic="AND" value="1.0">
     propulsion/engine[1]/generator-voltage-V GT 20.0
     propulsion/engine[1]/generator-voltage-V GE electrical/bus[0]/voltage-V
   </test>
  </switch>

  <switch name="electrical/voltage-regulators/online[1]">
   <default value="0.0"/>
   <test logic="AND" value="1.0">
     propulsion/engine[2]/generator-voltage-V GT 20.0
     propulsion/engine[2]/generator-voltage-V GE electrical/bus[0]/voltage-V
   </test>
  </switch>

  <fcs_function name="electrical/voltage-regulators/current-available-A">
   <function>
    <sum>
     <product>
      <property>electrical/voltage-regulators/online[0]</property>
      <property>propulsion/engine[1]/generator-max-current-A</property>
     </product>
     <product>
      <property>electrical/voltage-regulators/online[1]</property>
      <property>propulsion/engine[2]/generator-max-current-A</property>
     </product>
    </sum>
   </function>
  </fcs_function>

  <fcs_function name="electrical/voltage-regulators/battery-current-A">
   <function>
    <sum>
     <!-- Charging. -->
     <product>
      <value>-0.01</value> <!-- Reverse current when charging. -->
      <lt>
       <property>electrical/bus[0]/current-A</property>
       <property>electrical/voltage-regulators/current-available-A</property>
      </lt>
      <max>
       <value>0.1</value> <!-- Trickle charge. -->
       <quotient>
        <difference>
         <property>electrical/bus[0]/voltage-V</property>
         <property>electrical/battery/open-circuit-voltage-V</property>
        </difference>
        <property>electrical/battery/internal-resistance-ohm</property>
       </quotient>
      </max>
     </product>
     <!-- No charging. -->
     <product>
      <ge>
       <property>electrical/bus[0]/current-A</property>
       <property>electrical/voltage-regulators/current-available-A</property>
      </ge>
      <difference>
       <property>electrical/bus[0]/current-A</property>
       <property>electrical/voltage-regulators/current-available-A</property>
      </difference>
     </product>
    </sum>
   </function>
   <output>electrical/battery/current-A[0]</output>
  </fcs_function>

  <fcs_function name="electrical/voltage-regulators/current-A[0]">
   <function>
    <product>
     <property>electrical/voltage-regulators/online[0]</property>
     <difference>
      <property>electrical/bus[0]/current-A</property>
      <property>electrical/voltage-regulators/battery-current-A</property>
     </difference>
     <difference>
      <value>1.0</value>
      <product>
       <value>0.5</value>
       <property>electrical/voltage-regulators/online[1]</property>
      </product>
     </difference>
    </product>
   </function>
  </fcs_function>

  <fcs_function name="electrical/voltage-regulators/current-A[1]">
   <function>
    <product>
     <property>electrical/voltage-regulators/online[1]</property>
     <difference>
      <property>electrical/bus[0]/current-A</property>
      <property>electrical/voltage-regulators/battery-current-A</property>
     </difference>
     <difference>
      <value>1.0</value>
      <product>
       <value>0.5</value>
       <property>electrical/voltage-regulators/online[0]</property>
      </product>
     </difference>
    </product>
   </function>
  </fcs_function>

 </channel>

</system>
<?xml version="1.0"?>
<!--

  Short S.23 flying boat flight model for JSBSim.

    Copyright (C) 2008 - 2013  Anders Gidenstam  (anders(at)gidenstam.org)

    This program is free software; you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation; either version 2 of the License, or
    (at your option) any later version.
  
    This program is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.
  
    You should have received a copy of the GNU General Public License
    along with this program; if not, write to the Free Software
    Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA
  
-->
<system name="engines">

 <documentation>
  Engine controls (from pictures of the engine control box and other sources)
  - Throttle levers
    - Sets auto boost datum.
    - fcs/throttle-cmd-norm[0|1|2|3]
  - Mixture levers
    - Sets auto mixture datum: WEAK - NORMAL - RICH - ...
      Might have the positions NORMAL - RICH - +1 PSI - +3 PSI
      The latter two settings are some sort of boost override positions.
      Here full rich mixture bumps the maximum boost from 2.5 to 4.25 PSI.
    - fcs/mixture-cmd-norm[0|1|2|3]
  - Airscrew pitch control levers
    - Has the positions COARSE and FINE. No feathering was available.
    - fcs/advance-cmd-norm[0|1|2|3]
  - Engine cut-out levers
    - Two levers cutting the fuel to the inner and outer engines, respectively.
      Has the positions ON and OFF.
    - fcs/inner-engines-cutoff-cmd-norm
    - fcs/outer-engines-cutoff-cmd-norm
 </documentation>

 <property value="0.0">fcs/throttle-cmd-norm[0]</property>
 <property value="0.0">fcs/throttle-cmd-norm[1]</property>
 <property value="0.0">fcs/throttle-cmd-norm[2]</property>
 <property value="0.0">fcs/throttle-cmd-norm[3]</property>

 <property value="0.0">fcs/advance-cmd-norm[0]</property>
 <property value="0.0">fcs/advance-cmd-norm[1]</property>
 <property value="0.0">fcs/advance-cmd-norm[2]</property>
 <property value="0.0">fcs/advance-cmd-norm[3]</property>

 <property value="0.0">fcs/mixture-cmd-norm[0]</property>
 <property value="0.0">fcs/mixture-cmd-norm[1]</property>
 <property value="0.0">fcs/mixture-cmd-norm[2]</property>
 <property value="0.0">fcs/mixture-cmd-norm[3]</property>

 <property value="0.0">fcs/inner-engines-cutoff-cmd-norm</property>
 <property value="0.0">fcs/outer-engines-cutoff-cmd-norm</property>

 <!-- Starter commands -->
 <property value="0.0">fcs/starter-cmd-norm[0]</property>
 <property value="0.0">fcs/starter-cmd-norm[1]</property>
 <property value="0.0">fcs/starter-cmd-norm[2]</property>
 <property value="0.0">fcs/starter-cmd-norm[3]</property>

 <!-- Starter status -->
 <property value="1.0">propulsion/engine[0]/starter-serviceable</property>
 <property value="1.0">propulsion/engine[1]/starter-serviceable</property>
 <property value="1.0">propulsion/engine[2]/starter-serviceable</property>
 <property value="1.0">propulsion/engine[3]/starter-serviceable</property>

 <!-- Fuel pump status -->
 <property value="1.0">propulsion/engine[0]/fuel-pump-serviceable</property>
 <property value="1.0">propulsion/engine[1]/fuel-pump-serviceable</property>
 <property value="1.0">propulsion/engine[2]/fuel-pump-serviceable</property>
 <property value="1.0">propulsion/engine[3]/fuel-pump-serviceable</property>

 <!-- Auxiliary equipment status -->
 <property value="1.0">propulsion/engine[1]/generator-serviceable</property>
 <property value="1.0">propulsion/engine[1]/servo-oil-pump-serviceable</property>
 <property value="1.0">propulsion/engine[2]/generator-serviceable</property>
 <property value="1.0">propulsion/engine[2]/vacuum-pump-serviceable</property>
 <property value="1.0">propulsion/engine[3]/vacuum-pump-serviceable</property>

 <documentation>
   According to [Cassidy:2004:FE] the Pegasus engines had automatic
   boost and mixture controls. I think take-off boost (boost override) was only
   available with the mixture levers moved through a gate past the
   RICH position.

   [Cassidy:2004:FE] pp 152:
   "The mixture control check was normally done by the First
    Officer. For each engine in turn, he moved the mixture control
    lever back from NORMAL to RICH -. + 1 lb. sq. in, then through the
    gate to +3 lb. sq. in. and back to NORMAL."

   [Cassidy:2004:FE]: Fuel consumption for "normal" operation varied
   between 107.5 gal. per hour and 118.8 gal. per hour. A good average
   was 115 gal. per hour. Over 141 gal. per hour was considered excessive.
   [Cassidy:2004:FE]: Oil consumption normally varied between
   8 pints to 3 1/2 gallons per hour for a Pegasus engine.
 </documentation>

 <documentation>
  "The two engine cut-out control levers were mounted either side of
  the throttle box. The two inner engines were controlled by the
  port side lever, while the starboard lever controlled the two
  outer engines.", [Cassidy:2004:FE]
 </documentation>

 <documentation>
  Engine automatic mixture system.
  The Pegasus X.C. used a Claudel-Hobson A.V.T. 85E type carburetter with
  variable datum boost control and automatic mixture control.

  See [CAB:1943].

  "The corresponding fuel:air ratios over the range are: Take-off, 1:10;
  Rated, 1:11; Normal Cruising, 1:12; and Economical Cruising, 1:16."
  [CAB:1943]
 </documentation>
 <property value="0.50">fcs/mixture/manual-control-factor</property>
 <channel name="Mixture">

  <fcs_function name="fcs/mixture/altitude-standard-pos">
   <function>
    <description>Standard mixture position from airpressure.</description>
    <!-- Needs to be tuned. -->
    <table>
      <independentVar lookup="row">atmosphere/P-psf</independentVar>
      <tableData>
          50  0.075
         990  0.45
        1300  0.6
        2100  1.0
      </tableData>
    </table>
   </function>
  </fcs_function>

  <fcs_function name="fcs/mixture/pos-norm[0]">
   <function>
    <product>
     <le>
      <property>fcs/outer-engines-cutoff-cmd-norm</property>
      <value>0.0</value>
     </le>
     <property>fcs/mixture/altitude-standard-pos</property>
     <sum>
      <value>1.0</value>
      <product>
       <property>fcs/mixture/manual-control-factor</property>
       <difference>
        <property>fcs/mixture-cmd-norm[0]</property>
        <value>0.5</value>
       </difference>
      </product>
     </sum>
    </product>
   </function>
   <clipto>
    <min>0.0</min>
    <max>1.0</max>
   </clipto>
   <output>fcs/mixture-pos-norm[0]</output>
  </fcs_function>

  <fcs_function name="fcs/mixture/pos-norm[1]">
   <function>
    <product>
     <le>
      <property>fcs/inner-engines-cutoff-cmd-norm</property>
      <value>0.0</value>
     </le>
     <property>fcs/mixture/altitude-standard-pos</property>
     <sum>
      <value>1.0</value>
      <product>
       <property>fcs/mixture/manual-control-factor</property>
       <difference>
        <property>fcs/mixture-cmd-norm[1]</property>
        <value>0.5</value>
       </difference>
      </product>
     </sum>
    </product>
   </function>
   <clipto>
    <min>0.0</min>
    <max>1.0</max>
   </clipto>
   <output>fcs/mixture-pos-norm[1]</output>
  </fcs_function>

  <fcs_function name="fcs/mixture/pos-norm[2]">
   <function>
    <product>
     <le>
      <property>fcs/inner-engines-cutoff-cmd-norm</property>
      <value>0.0</value>
     </le>
     <property>fcs/mixture/altitude-standard-pos</property>
     <sum>
      <value>1.0</value>
      <product>
       <property>fcs/mixture/manual-control-factor</property>
       <difference>
        <property>fcs/mixture-cmd-norm[2]</property>
        <value>0.5</value>
       </difference>
      </product>
     </sum>
    </product>
   </function>
   <clipto>
    <min>0.0</min>
    <max>1.0</max>
   </clipto>
   <output>fcs/mixture-pos-norm[2]</output>
  </fcs_function>

  <fcs_function name="fcs/mixture/pos-norm[3]">
   <function>
    <product>
     <le>
      <property>fcs/outer-engines-cutoff-cmd-norm</property>
      <value>0.0</value>
     </le>
     <property>fcs/mixture/altitude-standard-pos</property>
     <sum>
      <value>1.0</value>
      <product>
       <property>fcs/mixture/manual-control-factor</property>
       <difference>
        <property>fcs/mixture-cmd-norm[3]</property>
        <value>0.5</value>
       </difference>
      </product>
     </sum>
    </product>
   </function>
   <clipto>
    <min>0.0</min>
    <max>1.0</max>
   </clipto>
   <output>fcs/mixture-pos-norm[3]</output>
  </fcs_function>

 </channel>

 <documentation>
  Compute MAP boost in PSI for the boost gauges.
  Boost is measured in PSI with normal sealevel pressure as 0.
 </documentation>
 <channel name="Boost">

  <fcs_function name="propulsion/engine[0]/boost-psi">
   <function>
    <difference>
     <product>
      <value>0.49115415</value>
      <property>propulsion/engine[0]/map-inhg</property>
     </product>
     <value>14.696</value>
    </difference>
   </function>
  </fcs_function>
  <fcs_function name="propulsion/engine[1]/boost-psi">
   <function>
    <difference>
     <product>
      <value>0.49115415</value>
      <property>propulsion/engine[1]/map-inhg</property>
     </product>
     <value>14.696</value>
    </difference>
   </function>
  </fcs_function>
  <fcs_function name="propulsion/engine[2]/boost-psi">
   <function>
    <difference>
     <product>
      <value>0.49115415</value>
      <property>propulsion/engine[2]/map-inhg</property>
     </product>
     <value>14.696</value>
    </difference>
   </function>
  </fcs_function>
  <fcs_function name="propulsion/engine[3]/boost-psi">
   <function>
    <difference>
     <product>
      <value>0.49115415</value>
      <property>propulsion/engine[3]/map-inhg</property>
     </product>
     <value>14.696</value>
    </difference>
   </function>
  </fcs_function>

 </channel>

 <documentation>
  Engine autmatic boost control system.
  The Pegasus X.C. used a Claudel-Hobson A.V.T. 85E type carburetter with
  variable datum boost control.

  See [CAB:1943].
 </documentation>
 <property value="0.050">fcs/boost/control-rate-factor</property>
 <property value="0.500">fcs/boost/control-range-norm</property>
 <channel name="Variable datum boost control">

  <switch name="fcs/boost/override-norm[0]">
   <default value="0.0"/>
   <test logic="AND" value="1.0">
     fcs/mixture-cmd-norm[0] GE 0.99
   </test>
  </switch>
  <switch name="fcs/boost/override-norm[1]">
   <default value="0.0"/>
   <test logic="AND" value="1.0">
     fcs/mixture-cmd-norm[1] GE 0.99
   </test>
  </switch>
  <switch name="fcs/boost/override-norm[2]">
   <default value="0.0"/>
   <test logic="AND" value="1.0">
     fcs/mixture-cmd-norm[2] GE 0.99
   </test>
  </switch>
  <switch name="fcs/boost/override-norm[3]">
   <default value="0.0"/>
   <test logic="AND" value="1.0">
     fcs/mixture-cmd-norm[3] GE 0.99
   </test>
  </switch>

  <fcs_function name="fcs/boost/datum-psi[0]">
   <function>
    <description>
     Converts throttle lever position to datum/target boost.
     The target boost at closed throttle is guessed to be about minmp.
    </description>
    <table>
     <independentVar lookup="row">fcs/throttle-cmd-norm[0]</independentVar>
     <independentVar lookup="column">fcs/boost/override-norm[0]</independentVar>
     <tableData>
             0.0      1.0 
        0.0  -11.00   -11.00
        1.0    2.50     4.25
     </tableData>
    </table>
   </function>
  </fcs_function>
  <fcs_function name="fcs/boost/datum-psi[1]">
   <function>
    <description>
     Converts throttle lever position to datum/target boost.
     The target boost at closed throttle is guessed to be about minmp.
    </description>
    <table>
     <independentVar lookup="row">fcs/throttle-cmd-norm[1]</independentVar>
     <independentVar lookup="column">fcs/boost/override-norm[1]</independentVar>
     <tableData>
             0.0      1.0 
        0.0  -11.00   -11.00
        1.0    2.50     4.25
     </tableData>
    </table>
   </function>
  </fcs_function>
  <fcs_function name="fcs/boost/datum-psi[2]">
   <function>
    <description>
     Converts throttle lever position to datum/target boost.
     The target boost at closed throttle is guessed to be about minmp.
    </description>
    <table>
     <independentVar lookup="row">fcs/throttle-cmd-norm[2]</independentVar>
     <independentVar lookup="column">fcs/boost/override-norm[2]</independentVar>
     <tableData>
             0.0      1.0 
        0.0  -11.00   -11.00
        1.0    2.50     4.25
     </tableData>
    </table>
   </function>
  </fcs_function>
  <fcs_function name="fcs/boost/datum-psi[3]">
   <function>
    <description>
     Converts throttle lever position to datum/target boost.
     The target boost at closed throttle is guessed to be about minmp.
    </description>
    <table>
     <independentVar lookup="row">fcs/throttle-cmd-norm[3]</independentVar>
     <independentVar lookup="column">fcs/boost/override-norm[3]</independentVar>
     <tableData>
             0.0      1.0 
        0.0  -11.00   -11.00
        1.0    2.50     4.25
     </tableData>
    </table>
   </function>
  </fcs_function>

  <fcs_function name="fcs/boost/error-psi[0]">
   <function>
    <description>
     Boost error.
    </description>
    <difference>
     <property>propulsion/engine[0]/boost-psi</property>
     <property>fcs/boost/datum-psi[0]</property>
    </difference>
   </function>
  </fcs_function>
  <fcs_function name="fcs/boost/error-psi[1]">
   <function>
    <description>
     Boost error.
    </description>
    <difference>
     <property>propulsion/engine[1]/boost-psi</property>
     <property>fcs/boost/datum-psi[1]</property>
    </difference>
   </function>
  </fcs_function>
  <fcs_function name="fcs/boost/error-psi[2]">
   <function>
    <description>
     Boost error.
    </description>
    <difference>
     <property>propulsion/engine[2]/boost-psi</property>
     <property>fcs/boost/datum-psi[2]</property>
    </difference>
   </function>
  </fcs_function>
  <fcs_function name="fcs/boost/error-psi[3]">
   <function>
    <description>
     Boost error.
    </description>
    <difference>
     <property>propulsion/engine[3]/boost-psi</property>
     <property>fcs/boost/datum-psi[3]</property>
    </difference>
   </function>
  </fcs_function>

  <fcs_function name="fcs/boost/control-rate-norm[0]">
   <function>
    <description>
     Boost control piston movement rate.
    </description>
    <product>
     <value>-1.0</value>
     <property>fcs/boost/control-rate-factor</property>
     <gt>
      <property>propulsion/engine[0]/propeller-rpm</property>
      <value>200.0</value>
     </gt>
     <property>fcs/boost/error-psi[0]</property>
     <sum>
      <product>
       <lt>
        <property>fcs/boost/error-psi[0]</property>
        <value>0.0</value>
       </lt>
       <lt>
        <property>fcs/boost/throttle-adjustment-norm[0]</property>
        <property>fcs/boost/control-range-norm</property>
       </lt>
       <lt>
        <property>fcs/boost/throttle-pos-norm[0]</property>
        <value>1.0</value>
       </lt>
      </product>
      <product>
       <gt>
        <property>fcs/boost/error-psi[0]</property>
        <value>0.0</value>
       </gt>
       <gt>
        <property>fcs/boost/throttle-adjustment-norm[0]</property>
        <product>
         <value>-1.0</value>
         <property>fcs/boost/control-range-norm</property>
        </product>
       </gt>
       <gt>
        <property>fcs/boost/throttle-pos-norm[0]</property>
        <value>0.0</value>
       </gt>
      </product>
     </sum>
    </product>
   </function>
  </fcs_function>
  <fcs_function name="fcs/boost/control-rate-norm[1]">
   <function>
    <description>
     Boost control piston movement rate.
    </description>
    <product>
     <value>-1.0</value>
     <property>fcs/boost/control-rate-factor</property>
     <gt>
      <property>propulsion/engine[1]/propeller-rpm</property>
      <value>200.0</value>
     </gt>
     <property>fcs/boost/error-psi[1]</property>
     <sum>
      <product>
       <lt>
        <property>fcs/boost/error-psi[1]</property>
        <value>0.0</value>
       </lt>
       <lt>
        <property>fcs/boost/throttle-adjustment-norm[1]</property>
        <property>fcs/boost/control-range-norm</property>
       </lt>
       <lt>
        <property>fcs/boost/throttle-pos-norm[1]</property>
        <value>1.0</value>
       </lt>
      </product>
      <product>
       <gt>
        <property>fcs/boost/error-psi[1]</property>
        <value>0.0</value>
       </gt>
       <gt>
        <property>fcs/boost/throttle-adjustment-norm[1]</property>
        <product>
         <value>-1.0</value>
         <property>fcs/boost/control-range-norm</property>
        </product>
       </gt>
       <gt>
        <property>fcs/boost/throttle-pos-norm[1]</property>
        <value>0.0</value>
       </gt>
      </product>
     </sum>
    </product>
   </function>
  </fcs_function>
  <fcs_function name="fcs/boost/control-rate-norm[2]">
   <function>
    <description>
     Boost control piston movement rate.
    </description>
    <product>
     <value>-1.0</value>
     <property>fcs/boost/control-rate-factor</property>
     <gt>
      <property>propulsion/engine[2]/propeller-rpm</property>
      <value>200.0</value>
     </gt>
     <property>fcs/boost/error-psi[2]</property>
     <sum>
      <product>
       <lt>
        <property>fcs/boost/error-psi[2]</property>
        <value>0.0</value>
       </lt>
       <lt>
        <property>fcs/boost/throttle-adjustment-norm[2]</property>
        <property>fcs/boost/control-range-norm</property>
       </lt>
       <lt>
        <property>fcs/boost/throttle-pos-norm[2]</property>
        <value>1.0</value>
       </lt>
      </product>
      <product>
       <gt>
        <property>fcs/boost/error-psi[2]</property>
        <value>0.0</value>
       </gt>
       <gt>
        <property>fcs/boost/throttle-adjustment-norm[2]</property>
        <product>
         <value>-1.0</value>
         <property>fcs/boost/control-range-norm</property>
        </product>
       </gt>
       <gt>
        <property>fcs/boost/throttle-pos-norm[2]</property>
        <value>0.0</value>
       </gt>
      </product>
     </sum>
    </product>
   </function>
  </fcs_function>
  <fcs_function name="fcs/boost/control-rate-norm[3]">
   <function>
    <description>
     Boost control piston movement rate.
    </description>
    <product>
     <value>-1.0</value>
     <property>fcs/boost/control-rate-factor</property>
     <gt>
      <property>propulsion/engine[3]/propeller-rpm</property>
      <value>200.0</value>
     </gt>
     <property>fcs/boost/error-psi[3]</property>
     <sum>
      <product>
       <lt>
        <property>fcs/boost/error-psi[3]</property>
        <value>0.0</value>
       </lt>
       <lt>
        <property>fcs/boost/throttle-adjustment-norm[3]</property>
        <property>fcs/boost/control-range-norm</property>
       </lt>
       <lt>
        <property>fcs/boost/throttle-pos-norm[3]</property>
        <value>1.0</value>
       </lt>
      </product>
      <product>
       <gt>
        <property>fcs/boost/error-psi[3]</property>
        <value>0.0</value>
       </gt>
       <gt>
        <property>fcs/boost/throttle-adjustment-norm[3]</property>
        <product>
         <value>-1.0</value>
         <property>fcs/boost/control-range-norm</property>
        </product>
       </gt>
       <gt>
        <property>fcs/boost/throttle-pos-norm[3]</property>
        <value>0.0</value>
       </gt>
      </product>
     </sum>
    </product>
   </function>
  </fcs_function>

  <integrator name="fcs/boost/throttle-adjustment-norm[0]">
   <description>
    Boost control piston position.
   </description>
   <input>fcs/boost/control-rate-norm[0]</input>
   <c1>1.0</c1>
   <clipto>
    <min>-fcs/boost/control-range-norm</min>
    <max>fcs/boost/control-range-norm</max>
   </clipto>
  </integrator>
  <integrator name="fcs/boost/throttle-adjustment-norm[1]">
   <description>
    Boost control piston position.
   </description>
   <input>fcs/boost/control-rate-norm[1]</input>
   <c1>1.0</c1>
   <clipto>
    <min>-fcs/boost/control-range-norm</min>
    <max>fcs/boost/control-range-norm</max>
   </clipto>
  </integrator>
  <integrator name="fcs/boost/throttle-adjustment-norm[2]">
   <description>
    Boost control piston position.
   </description>
   <input>fcs/boost/control-rate-norm[2]</input>
   <c1>1.0</c1>
   <clipto>
    <min>-fcs/boost/control-range-norm</min>
    <max>fcs/boost/control-range-norm</max>
   </clipto>
  </integrator>
  <integrator name="fcs/boost/throttle-adjustment-norm[3]">
   <description>
    Boost control piston position.
   </description>
   <input>fcs/boost/control-rate-norm[3]</input>
   <c1>1.0</c1>
   <clipto>
    <min>-fcs/boost/control-range-norm</min>
    <max>fcs/boost/control-range-norm</max>
   </clipto>
  </integrator>

  <fcs_function name="fcs/boost/throttle-pos-norm[0]">
   <function>
    <description>Final throttle position.</description>
    <sum>
     <property>fcs/throttle-cmd-norm[0]</property>
     <property>fcs/boost/throttle-adjustment-norm[0]</property>
    </sum>
   </function>
   <clipto>
    <min>0.0</min>
    <max>1.0</max>
   </clipto>
   <output>fcs/throttle-pos-norm[0]</output>
  </fcs_function>
  <fcs_function name="fcs/boost/throttle-pos-norm[1]">
   <function>
    <description>Final throttle position.</description>
    <sum>
     <property>fcs/throttle-cmd-norm[1]</property>
     <property>fcs/boost/throttle-adjustment-norm[1]</property>
    </sum>
   </function>
   <clipto>
    <min>0.0</min>
    <max>1.0</max>
   </clipto>
   <output>fcs/throttle-pos-norm[1]</output>
  </fcs_function>
  <fcs_function name="fcs/boost/throttle-pos-norm[2]">
   <function>
    <description>Final throttle position.</description>
    <sum>
     <property>fcs/throttle-cmd-norm[2]</property>
     <property>fcs/boost/throttle-adjustment-norm[2]</property>
    </sum>
   </function>
   <clipto>
    <min>0.0</min>
    <max>1.0</max>
   </clipto>
   <output>fcs/throttle-pos-norm[2]</output>
  </fcs_function>
  <fcs_function name="fcs/boost/throttle-pos-norm[3]">
   <function>
    <description>Final throttle position.</description>
    <sum>
     <property>fcs/throttle-cmd-norm[3]</property>
     <property>fcs/boost/throttle-adjustment-norm[3]</property>
    </sum>
   </function>
   <clipto>
    <min>0.0</min>
    <max>1.0</max>
   </clipto>
   <output>fcs/throttle-pos-norm[3]</output>
  </fcs_function>

 </channel>

 <documentation>
   The propeller pitch control only had the settings FINE and COARSE.
 </documentation>
 <channel name="Propeller pitch">

  <switch name="fcs/propeller/blade-angle-deg[0]">
   <default value="20.0"/>
   <test value="28.0">
     fcs/advance-cmd-norm[0] GT 0.5
   </test>
   <output>propulsion/engine[0]/blade-angle</output>
  </switch>

  <switch name="fcs/propeller/blade-angle-deg[1]">
   <default value="20.0"/>
   <test value="28.0">
     fcs/advance-cmd-norm[1] GT 0.5
   </test>
   <output>propulsion/engine[1]/blade-angle</output>
  </switch>

  <switch name="fcs/propeller/blade-angle-deg[2]">
   <default value="20.0"/>
   <test value="28.0">
     fcs/advance-cmd-norm[2] GT 0.5
   </test>
   <output>propulsion/engine[2]/blade-angle</output>
  </switch>

  <switch name="fcs/propeller/blade-angle-deg[3]">
   <default value="20.0"/>
   <test value="28.0">
     fcs/advance-cmd-norm[3] GT 0.5
   </test>
   <output>propulsion/engine[3]/blade-angle</output>
  </switch>

 </channel>

 <documentation>
  The definition inside the engine file cannot write to the starter-norm
  property. Hence, it has to be done here.
  See also Engines/eng_PegasusXc.xml and Systems/electrical.xml.
 </documentation>
 <channel name="Engine starters">

  <fcs_function name="tmp/sn[0]">
   <function>
    <property>propulsion/engine[0]/starter-running-norm</property>
   </function>
   <output>propulsion/engine[0]/starter-norm</output>
  </fcs_function>
  <fcs_function name="tmp/sn[1]">
   <function>
    <property>propulsion/engine[1]/starter-running-norm</property>
   </function>
   <output>propulsion/engine[1]/starter-norm</output>
  </fcs_function>
  <fcs_function name="tmp/sn[2]">
   <function>
    <property>propulsion/engine[2]/starter-running-norm</property>
   </function>
   <output>propulsion/engine[2]/starter-norm</output>
  </fcs_function>
  <fcs_function name="tmp/sn[3]">
   <function>
    <property>propulsion/engine[3]/starter-running-norm</property>
   </function>
   <output>propulsion/engine[3]/starter-norm</output>
  </fcs_function>

 </channel>

 <documentation>
  "The fuel pumps were Bristol vane-type Duplex pumps, driven at engine
  speed.", [Cassidy:2004:FE].
 </documentation>
 <channel name="Fuel pumps">

  <fcs_function name="propulsion/engine[0]/fuel-pump-running-norm">
   <function>
    <product>
     <property>propulsion/engine[0]/fuel-pump-serviceable</property>
     <quotient>
      <property>propulsion/engine[0]/engine-rpm</property>
      <value>2600.0</value>
     </quotient>
    </product>
   </function>
  </fcs_function>

  <fcs_function name="propulsion/engine[1]/fuel-pump-running-norm">
   <function>
    <product>
     <property>propulsion/engine[1]/fuel-pump-serviceable</property>
     <quotient>
      <property>propulsion/engine[1]/engine-rpm</property>
      <value>2600.0</value>
     </quotient>
    </product>
   </function>
  </fcs_function>

  <fcs_function name="propulsion/engine[2]/fuel-pump-running-norm">
   <function>
    <product>
     <property>propulsion/engine[2]/fuel-pump-serviceable</property>
     <quotient>
      <property>propulsion/engine[2]/engine-rpm</property>
      <value>2600.0</value>
     </quotient>
    </product>
   </function>
  </fcs_function>

  <fcs_function name="propulsion/engine[3]/fuel-pump-running-norm">
   <function>
    <product>
     <property>propulsion/engine[3]/fuel-pump-serviceable</property>
     <quotient>
      <property>propulsion/engine[3]/engine-rpm</property>
      <value>2600.0</value>
     </quotient>
    </product>
   </function>
  </fcs_function>

 </channel>

 <documentation>
  Engine auxiliaries (from [Short:RN-3-1-37] and [Cassidy:2004:FE])
  - Port Outer
  - Port Inner
    - Rotax generator Dynamo N2 BW, 1000W at 24V
    - Northern oil pump (for the autopilot)
  - Starboard Inner
    - Rotax generator Dynamo N2 BW, 1000W at 24V
    - Romeo vacuum pump
  - Starboard Outer
    - Romeo vaccum pump
 </documentation>
 <property value="41.67">propulsion/engine[1]/generator-max-current-A</property>
 <property value="41.67">propulsion/engine[2]/generator-max-current-A</property>
 <!-- Input from the electrical system. -->
 <property>propulsion/engine[1]/generator-current-A</property>
 <property>propulsion/engine[2]/generator-current-A</property>
 <channel name="Generators">

  <fcs_function name="propulsion/engine[1]/generator-voltage-V">
   <function>
    <product>
     <property>propulsion/engine[1]/generator-serviceable</property>
     <table>
      <independentVar lookup="row">propulsion/engine[1]/engine-rpm</independentVar>
      <tableData> <!-- Guessed. -->
          0 0.00
        800 24.0
       2600 25.0
      </tableData>
     </table>
    </product>
   </function>
  </fcs_function>

  <fcs_function name="propulsion/engine[2]/generator-voltage-V">
   <function>
    <product>
     <property>propulsion/engine[2]/generator-serviceable</property>
     <table>
      <independentVar lookup="row">propulsion/engine[2]/engine-rpm</independentVar>
      <tableData> <!-- Guessed. -->
          0 0.00
        800 24.0
       2600 25.0
      </tableData>
     </table>
    </product>
   </function>
  </fcs_function>

  <fcs_function name="propulsion/engine[1]/generator-power-W">
   <function>
    <product>
     <property>propulsion/engine[1]/generator-voltage-V</property>
     <property>propulsion/engine[1]/generator-current-A</property>
    </product>
   </function>
  </fcs_function>

  <fcs_function name="propulsion/engine[2]/generator-power-W">
   <function>
    <product>
     <property>propulsion/engine[2]/generator-voltage-V</property>
     <property>propulsion/engine[2]/generator-current-A</property>
    </product>
   </function>
  </fcs_function>

 </channel>

</system>
<?xml version="1.0"?>
<!--

  Short S.23 flying boat flight model for JSBSim.

    Copyright (C) 2012  Anders Gidenstam  (anders(at)gidenstam.org)

    This program is free software; you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation; either version 2 of the License, or
    (at your option) any later version.
  
    This program is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.
  
    You should have received a copy of the GNU General Public License
    along with this program; if not, write to the Free Software
    Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA
  
-->
<system name="flaps">

 <documentation>
  The flap control system consists of a
  - power switch
    - fcs/flap-power-cmd-norm
  - an operating switch (values -1.0/IN, 0.0/STOP, 1.0/OUT)
    - fcs/flap-motor-cmd-norm

  "The flaps on standard S. 23 'boats were moved by a single small
  electric motor, which took a full minute to wind them out to the
  full flap position of 25 deg. and a minute and a half to retract
  them." ([Cassidy:2004:FE], pp.30)

  "The Captain called the flap setting and the First Officer reached
  up to pull the flap motor switch - BLUE light ON - and moved the
  controller flaps operating switch down to FLAPS OUT. As the flaps
  start to move, he confirmed "Flaps going OUT, Sir" while watching
  the flap position indicator move round the dial - the RED light
  coming ON as the flaps moved past the 1/3 OUT position. Flap
  settings were 1/2 3/4 and FULL for heavy swell conditions with a
  maximum speed of 102 knots (188 km .per hr.) for FULL flap."
  ([Cassidy:2004:FE], pp.170)
 </documentation>

 <!--
      Flap control and motor system.
      Inputs:
        electrical/fuses/flap-motor-voltage-V
        fcs/flap-power-cmd-norm
        fcs/flap-motor-cmd-norm

      Outputs:
        electrical/flap-motor/current-A
        electrical/flap-motor/power-W
        electrical/lamps/flaps/pilot-voltage-V
        electrical/lamps/flaps/pilot-current-A
        electrical/lamps/flaps/pilot-power-W
        electrical/lamps/flaps/warning-voltage-V
        electrical/lamps/flaps/warning-current-A
        electrical/lamps/flaps/warning-power-W
        fcs/flap-pos-norm
        fcs/flap-pos-deg
 -->

 <!-- The flap motor/power switch. -->
 <property value="0.0">fcs/flap-power-cmd-norm</property>

 <!-- The flap operating switch. -->
 <property value="0.0">fcs/flap-motor-cmd-norm</property>

 <channel name="Flap indicator lights">

  <switch name="electrical/lamps/flaps/pilot-voltage-V">
   <default value="0.0"/>
   <test logic="AND" value="electrical/fuses/flap-motor-voltage-V">
    fcs/flap-power-cmd-norm GE 0.5
   </test>
  </switch>

  <switch name="electrical/lamps/flaps/warning-voltage-V">
   <default value="0.0"/>
   <test logic="AND" value="electrical/fuses/flap-motor-voltage-V">
    fcs/flap-power-cmd-norm GE 0.5
    fcs/flap-pos-norm       GT 0.334
   </test>
  </switch>

  <fcs_function name="electrical/lamps/flaps/pilot-current-A">
   <function>
    <quotient>
     <property>electrical/lamps/flaps/pilot-voltage-V</property>
     <value>288.0</value> <!-- Resistance of pilot lamp. Assumed to be 2 W. -->
    </quotient>
   </function>
  </fcs_function>
  <fcs_function name="electrical/lamps/flaps/warning-current-A">
   <function>
    <quotient>
     <property>electrical/lamps/flaps/warning-voltage-V</property>
     <value>192.0</value> <!-- Resistance of warning lamp. Assumed to be 3 W.-->
    </quotient>
   </function>
  </fcs_function>

  <fcs_function name="electrical/lamps/flaps/pilot-power-W">
   <function>
    <product>
     <property>electrical/lamps/flaps/pilot-voltage-V</property>
     <property>electrical/lamps/flaps/pilot-current-A</property>
    </product>
   </function>
   <output>/systems/electrical/lamps/flaps/pilot-power-W</output>
  </fcs_function>
  <fcs_function name="electrical/lamps/flaps/pilot-power-norm[0]">
   <function>
    <quotient>
     <property>electrical/lamps/flaps/pilot-power-W[0]</property>
     <value>2.0</value>
    </quotient>
   </function>
   <output>/systems/electrical/lamps/flaps/pilot-power-norm[0]</output>
  </fcs_function>

  <fcs_function name="electrical/lamps/flaps/warning-power-W">
   <function>
    <product>
     <property>electrical/lamps/flaps/warning-voltage-V</property>
     <property>electrical/lamps/flaps/warning-current-A</property>
    </product>
   </function>
   <output>/systems/electrical/lamps/flaps/warning-power-W</output>
  </fcs_function>
  <fcs_function name="electrical/lamps/flaps/warning-power-norm[0]">
   <function>
    <quotient>
     <property>electrical/lamps/flaps/warning-power-W[0]</property>
     <value>3.0</value>
    </quotient>
   </function>
   <output>/systems/electrical/lamps/flaps/warning-power-norm[0]</output>
  </fcs_function>

 </channel>

 <channel name="Flap motor">

  <switch name="electrical/flap-motor/voltage-V">
   <default value="0.0"/>
   <test logic="AND" value="electrical/fuses/flap-motor-voltage-V">
    fcs/flap-power-cmd-norm GE 0.5
    fcs/flap-motor-cmd-norm GE 0.10
    fcs/flap-pos-norm LT 1.00
   </test>
   <test logic="AND" value="electrical/fuses/flap-motor-voltage-V">
    fcs/flap-power-cmd-norm GE 0.5
    fcs/flap-motor-cmd-norm LE -0.10
    fcs/flap-pos-norm GT 0.0
   </test>
  </switch>

  <fcs_function name="electrical/flap-motor/current-A">
   <function>
    <quotient>
     <property>electrical/flap-motor/voltage-V</property>
     <value>1.545</value> <!-- Resistance of motor, derived from max power. -->
    </quotient>
   </function>
  </fcs_function>

  <fcs_function name="electrical/flap-motor/power-W">
   <function>
    <product>
     <property>electrical/flap-motor/voltage-V</property>
     <property>electrical/flap-motor/current-A</property>
    </product>
   </function>
  </fcs_function>

 </channel>

 <channel name="Flaps">

  <switch name="fcs/flap/motor-load-inv-norm">
   <default value="0.0"/>
   <test logic="AND" value="1.0">
    fcs/flap-motor-cmd-norm GE 0.10
    fcs/flap-pos-norm LT 1.00
   </test>
   <test logic="AND" value="-0.667">
    fcs/flap-motor-cmd-norm LE -0.10
    fcs/flap-pos-norm GT 0.0
   </test>
  </switch>

  <fcs_function name="fcs/flap/motor-speed-norm">
   <function>
    <product>
     <property>fcs/flap/motor-load-inv-norm</property>
     <quotient>     
      <property>electrical/flap-motor/power-W</property>
      <value>372.8</value> <!-- Max power of the motor. -->
     </quotient>
    </product>
   </function>
  </fcs_function>

  <integrator name="fcs/flap/pos-norm">
   <input>fcs/flap/motor-speed-norm</input>
   <c1>0.016667</c1>
   <clipto>
    <min>0.0</min>
    <max>1.0</max>
   </clipto>
   <output>fcs/flap-pos-norm</output>
  </integrator>

  <aerosurface_scale name="fcs/flap/pos-deg">
   <input>fcs/flap/pos-norm</input>
   <domain>
    <min> 0 </min>
    <max> 1 </max>
   </domain>
   <range>
    <min>  0 </min>
    <max> 25 </max>
   </range>
   <output>fcs/flap-pos-deg</output>
  </aerosurface_scale>

 </channel>

</system>
<?xml version="1.0"?>
<!--

  Short S.23 flying boat flight model for JSBSim.

    Copyright (C) 2008 - 2011  Anders Gidenstam  (anders(at)gidenstam.org)

    This program is free software; you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation; either version 2 of the License, or
    (at your option) any later version.
  
    This program is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.
  
    You should have received a copy of the GNU General Public License
    along with this program; if not, write to the Free Software
    Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA
  
-->
<system name="fuel-system">

 <documentation>
   The S.23 'boats as delivered (with a few exceptions) came with one of
   3 different fuel system types. [Cassidy:2004:FE]
    
    Mk.I (1D) standard:
      one 326 gallon tank in each wing.
    Mk.II (1A/1C) Cavalier, Centarus:
      one 179 and one 326 gallon tank in each wing.
    Mk.III (1B) Cambria, Caledonia:
      one 179, one 326 and one 380 gallon tank in each wing.
      two 280 gallon tanks between the spar frames in the hull.
 </documentation>

 <property value="1.0">fcs/fuel-system/mark</property>
 <!-- 1, 2 or 3 for Mark I, Mark II or Mark III. -->

 <documentation>
   - Fuel cocks for feeding into the common supply.
     - Mark I fuel system:
       - One for the left tank, one for the right tank and one for balancing.
       - Positions are OFF and ON.
       - fcs/fuel-system/left-tank-cock-cmd-norm
       - fcs/fuel-system/right-tank-cock-cmd-norm
       - fcs/fuel-system/balance-cock-cmd-norm

     - Mark II adds:
       - Two for the outboard left and right tanks.
       - fcs/fuel-system/left-tank-cock-cmd-norm[1]
       - fcs/fuel-system/right-tank-cock-cmd-norm[1]
    
     - Mark III adds (over Mark II):
       - Two for the inboard left and right tanks and two for the fuselage
         tanks.
       - fcs/fuel-system/left-tank-cock-cmd-norm[2]
       - fcs/fuel-system/right-tank-cock-cmd-norm[2]
       - fcs/fuel-system/left-tank-cock-cmd-norm[3]
       - fcs/fuel-system/right-tank-cock-cmd-norm[3]

   - Test cocks for isolating the engine fuel pumps
     - fcs/fuel-system/left-test-cock-cmd-norm
     - fcs/fuel-system/right-test-cock-cmd-norm
     - fcs/fuel-system/center-test-cock-cmd-norm
 </documentation>

 <!-- All marks. -->
 <property value="1.0">fcs/fuel-system/left-tank-cock-cmd-norm</property>
 <property value="1.0">fcs/fuel-system/right-tank-cock-cmd-norm</property>
 <property value="1.0">fcs/fuel-system/balance-cock-cmd-norm</property>

 <property value="1.0">fcs/fuel-system/left-test-cock-cmd-norm</property>
 <property value="1.0">fcs/fuel-system/right-test-cock-cmd-norm</property>
 <property value="1.0">fcs/fuel-system/center-test-cock-cmd-norm</property>

 <!-- Mark II and III only. -->
 <property value="1.0">fcs/fuel-system/left-tank-cock-cmd-norm[1]</property>
 <property value="1.0">fcs/fuel-system/right-tank-cock-cmd-norm[1]</property>

 <!-- Mark III only. -->
 <property value="1.0">fcs/fuel-system/left-tank-cock-cmd-norm[2]</property>
 <property value="1.0">fcs/fuel-system/right-tank-cock-cmd-norm[2]</property>
 <property value="1.0">fcs/fuel-system/left-tank-cock-cmd-norm[3]</property>
 <property value="1.0">fcs/fuel-system/right-tank-cock-cmd-norm[3]</property>

 <!-- Extra tank constants. -->
 <property value="0.022206">propulsion/fuel-specific-volume-ft3_lbs</property>

 <property value="2356.9">propulsion/tank[0]/capacity-lbs</property>
 <property value="22.34">propulsion/tank[0]/area-ft2</property>
 <property value="-17.55">propulsion/tank[0]/position-y-ft</property>
 <property value="8.20">propulsion/tank[0]/position-z-ft</property>
 <property value="2356.9">propulsion/tank[1]/capacity-lbs</property>
 <property value="22.34">propulsion/tank[1]/area-ft2</property>
 <property value="17.55">propulsion/tank[1]/position-y-ft</property>
 <property value="8.20">propulsion/tank[1]/position-z-ft</property>

 <property value="1294.1">propulsion/tank[2]/capacity-lbs</property>
 <property value="13.20">propulsion/tank[2]/area-ft2</property>
 <property value="-22.47">propulsion/tank[2]/position-y-ft</property>
 <property value="8.37">propulsion/tank[2]/position-z-ft</property>
 <property value="1294.1">propulsion/tank[3]/capacity-lbs</property>
 <property value="13.20">propulsion/tank[3]/area-ft2</property>
 <property value="22.47">propulsion/tank[3]/position-y-ft</property>
 <property value="8.37">propulsion/tank[3]/position-z-ft</property>

 <property value="2747.3">propulsion/tank[4]/capacity-lbs</property>
 <property value="23.40">propulsion/tank[4]/area-ft2</property>
 <property value="-8.04">propulsion/tank[4]/position-y-ft</property>
 <property value="7.87">propulsion/tank[4]/position-z-ft</property>
 <property value="2747.3">propulsion/tank[5]/capacity-lbs</property>
 <property value="23.40">propulsion/tank[5]/area-ft2</property>
 <property value="8.04">propulsion/tank[5]/position-y-ft</property>
 <property value="7.87">propulsion/tank[5]/position-z-ft</property>

 <property value="2024.3">propulsion/tank[6]/capacity-lbs</property>
 <property value="25.22">propulsion/tank[6]/area-ft2</property>
 <property value="-2.36">propulsion/tank[6]/position-y-ft</property>
 <property value="7.87">propulsion/tank[6]/position-z-ft</property>
 <property value="2024.3">propulsion/tank[7]/capacity-lbs</property>
 <property value="25.22">propulsion/tank[7]/area-ft2</property>
 <property value="2.36">propulsion/tank[7]/position-y-ft</property>
 <property value="7.87">propulsion/tank[7]/position-z-ft</property>

 <property value="1.0">propulsion/engine[0]/fuel-pump-capacity-pps</property>
 <property value="1.0">propulsion/engine[1]/fuel-pump-capacity-pps</property>
 <property value="1.0">propulsion/engine[2]/fuel-pump-capacity-pps</property>
 <property value="1.0">propulsion/engine[3]/fuel-pump-capacity-pps</property>

 <channel name="Extra fuel tank properties">

  <switch name="propulsion/tank[0]/empty">
   <default value="1.0"/>
   <test value="0.0" logic="AND">
     propulsion/tank[0]/contents-lbs GT 0.0
   </test>
  </switch>

  <switch name="propulsion/tank[1]/empty">
   <default value="1.0"/>
   <test value="0.0" logic="AND">
     propulsion/tank[1]/contents-lbs GT 0.0
   </test>
  </switch>

  <switch name="propulsion/tank[2]/empty">
   <default value="1.0"/>
   <test value="0.0" logic="AND">
     propulsion/tank[2]/contents-lbs GT 0.0
   </test>
  </switch>

  <switch name="propulsion/tank[3]/empty">
   <default value="1.0"/>
   <test value="0.0" logic="AND">
     propulsion/tank[3]/contents-lbs GT 0.0
   </test>
  </switch>

  <switch name="propulsion/tank[4]/empty">
   <default value="1.0"/>
   <test value="0.0" logic="AND">
     propulsion/tank[4]/contents-lbs GT 0.0
   </test>
  </switch>

  <switch name="propulsion/tank[5]/empty">
   <default value="1.0"/>
   <test value="0.0" logic="AND">
     propulsion/tank[5]/contents-lbs GT 0.0
   </test>
  </switch>

  <switch name="propulsion/tank[6]/empty">
   <default value="1.0"/>
   <test value="0.0" logic="AND">
     propulsion/tank[6]/contents-lbs GT 0.0
   </test>
  </switch>

  <switch name="propulsion/tank[7]/empty">
   <default value="1.0"/>
   <test value="0.0" logic="AND">
     propulsion/tank[7]/contents-lbs GT 0.0
   </test>
  </switch>

  <!-- TODO: Extend these to consider acceleration. -->
  <fcs_function name="propulsion/tank[0]/relative-level-ft">
   <function>
    <sum>
     <product>
      <property>propulsion/tank[0]/empty</property>
      <value>-1000.0</value>
     </product>
     <property>propulsion/tank[0]/position-z-ft</property>
     <product>
      <value>-1.0</value>
      <property>propulsion/tank[0]/position-y-ft</property>
      <sin>
       <property>attitude/phi-rad</property>
      </sin>
     </product>
     <quotient>
      <product>
       <property>propulsion/fuel-specific-volume-ft3_lbs</property>
       <property>propulsion/tank[0]/contents-lbs</property>
      </product>
      <property>propulsion/tank[0]/area-ft2</property>
     </quotient>
    </sum>
   </function>
  </fcs_function>

  <fcs_function name="propulsion/tank[1]/relative-level-ft">
   <function>
    <sum>
     <product>
      <property>propulsion/tank[1]/empty</property>
      <value>-1000.0</value>
     </product>
     <property>propulsion/tank[1]/position-z-ft</property>
     <product>
      <value>-1.0</value>
      <property>propulsion/tank[1]/position-y-ft</property>
      <sin>
       <property>attitude/phi-rad</property>
      </sin>
     </product>
     <quotient>
      <product>
       <property>propulsion/fuel-specific-volume-ft3_lbs</property>
       <property>propulsion/tank[1]/contents-lbs</property>
      </product>
      <property>propulsion/tank[1]/area-ft2</property>
     </quotient>
    </sum>
   </function>
  </fcs_function>

  <fcs_function name="propulsion/tank[2]/relative-level-ft">
   <function>
    <sum>
     <product>
      <property>propulsion/tank[2]/empty</property>
      <value>-1000.0</value>
     </product>
     <property>propulsion/tank[2]/position-z-ft</property>
     <product>
      <value>-1.0</value>
      <property>propulsion/tank[2]/position-y-ft</property>
      <sin>
       <property>attitude/phi-rad</property>
      </sin>
     </product>
     <quotient>
      <product>
       <property>propulsion/fuel-specific-volume-ft3_lbs</property>
       <property>propulsion/tank[2]/contents-lbs</property>
      </product>
      <property>propulsion/tank[2]/area-ft2</property>
     </quotient>
    </sum>
   </function>
  </fcs_function>

  <fcs_function name="propulsion/tank[3]/relative-level-ft">
   <function>
    <sum>
     <product>
      <property>propulsion/tank[3]/empty</property>
      <value>-1000.0</value>
     </product>
     <property>propulsion/tank[3]/position-z-ft</property>
     <product>
      <value>-1.0</value>
      <property>propulsion/tank[3]/position-y-ft</property>
      <sin>
       <property>attitude/phi-rad</property>
      </sin>
     </product>
     <quotient>
      <product>
       <property>propulsion/fuel-specific-volume-ft3_lbs</property>
       <property>propulsion/tank[3]/contents-lbs</property>
      </product>
      <property>propulsion/tank[3]/area-ft2</property>
     </quotient>
    </sum>
   </function>
  </fcs_function>

  <fcs_function name="propulsion/tank[4]/relative-level-ft">
   <function>
    <sum>
     <product>
      <property>propulsion/tank[4]/empty</property>
      <value>-1000.0</value>
     </product>
     <property>propulsion/tank[4]/position-z-ft</property>
     <product>
      <property>propulsion/tank[4]/position-y-ft</property>
      <value>-1.0</value>
      <sin>
       <property>attitude/phi-rad</property>
      </sin>
     </product>
     <quotient>
      <product>
       <property>propulsion/fuel-specific-volume-ft3_lbs</property>
       <property>propulsion/tank[4]/contents-lbs</property>
      </product>
      <property>propulsion/tank[4]/area-ft2</property>
     </quotient>
    </sum>
   </function>
  </fcs_function>

  <fcs_function name="propulsion/tank[5]/relative-level-ft">
   <function>
    <sum>
     <product>
      <property>propulsion/tank[5]/empty</property>
      <value>-1000.0</value>
     </product>
     <property>propulsion/tank[5]/position-z-ft</property>
     <product>
      <value>-1.0</value>
      <property>propulsion/tank[5]/position-y-ft</property>
      <sin>
       <property>attitude/phi-rad</property>
      </sin>
     </product>
     <quotient>
      <product>
       <property>propulsion/fuel-specific-volume-ft3_lbs</property>
       <property>propulsion/tank[5]/contents-lbs</property>
      </product>
      <property>propulsion/tank[5]/area-ft2</property>
     </quotient>
    </sum>
   </function>
  </fcs_function>

  <fcs_function name="propulsion/tank[6]/relative-level-ft">
   <function>
    <sum>
     <product>
      <property>propulsion/tank[6]/empty</property>
      <value>-1000.0</value>
     </product>
     <property>propulsion/tank[6]/position-z-ft</property>
     <product>
      <value>-1.0</value>
      <property>propulsion/tank[6]/position-y-ft</property>
      <sin>
       <property>attitude/phi-rad</property>
      </sin>
     </product>
     <quotient>
      <product>
       <property>propulsion/fuel-specific-volume-ft3_lbs</property>
       <property>propulsion/tank[6]/contents-lbs</property>
      </product>
      <property>propulsion/tank[6]/area-ft2</property>
     </quotient>
    </sum>
   </function>
  </fcs_function>

  <fcs_function name="propulsion/tank[7]/relative-level-ft">
   <function>
    <sum>
     <product>
      <property>propulsion/tank[7]/empty</property>
      <value>-1000.0</value>
     </product>
     <property>propulsion/tank[7]/position-z-ft</property>
     <product>
      <value>-1.0</value>
      <property>propulsion/tank[7]/position-y-ft</property>
      <sin>
       <property>attitude/phi-rad</property>
      </sin>
     </product>
     <quotient>
      <product>
       <property>propulsion/fuel-specific-volume-ft3_lbs</property>
       <property>propulsion/tank[7]/contents-lbs</property>
      </product>
      <property>propulsion/tank[7]/area-ft2</property>
     </quotient>
    </sum>
   </function>
  </fcs_function>

 </channel>

 <channel name="Center wing tanks">

  <switch name="fcs/fuel-system/tank-cocks/left-open">
   <default value="0.0"/>
   <test value="1.0">
     fcs/fuel-system/left-tank-cock-cmd-norm GT 0.5
   </test>
  </switch>

  <switch name="fcs/fuel-system/tank-cocks/right-open">
   <default value="0.0"/>
   <test value="1.0">
     fcs/fuel-system/right-tank-cock-cmd-norm GT 0.5
   </test>
  </switch>

  <switch name="fcs/fuel-system/tank-cocks/balance-open">
   <default value="0.0"/>
   <test value="1.0">
     fcs/fuel-system/balance-cock-cmd-norm GT 0.5
   </test>
  </switch>
  <switch name="fcs/fuel-system/tank-cocks/balance-closed">
   <default value="1.0"/>
   <test value="0.0">
     fcs/fuel-system/balance-cock-cmd-norm GT 0.5
   </test>
  </switch>

 </channel>

 <channel name="Outboard wing tank cocks">

  <switch name="fcs/fuel-system/tank-cocks/left-open[1]">
   <default value="0.0"/>
   <test value="1.0" logic="AND">
     fcs/fuel-system/mark GE 2
     fcs/fuel-system/left-tank-cock-cmd-norm[1] GT 0.5
   </test>
  </switch>
  <switch name="fcs/fuel-system/tank-cocks/right-open[1]">
   <default value="0.0"/>
   <test value="1.0" logic="AND">
     fcs/fuel-system/mark GE 2
     fcs/fuel-system/right-tank-cock-cmd-norm[1] GT 0.5
   </test>
  </switch>

  <switch name="fcs/fuel-system/internals/outboard-tank-contents-lbs[0]">
   <default value="0"/>
   <test value="propulsion/tank[2]/contents-lbs">
     fcs/fuel-system/mark GE 2
   </test>
   <output>propulsion/tank[2]/contents-lbs</output>
  </switch>
  <switch name="fcs/fuel-system/internals/outboard-tank-contents-lbs[1]">
   <default value="0"/>
   <test value="propulsion/tank[3]/contents-lbs">
     fcs/fuel-system/mark GE 2
   </test>
   <output>propulsion/tank[3]/contents-lbs</output>
  </switch>

 </channel>

 <channel name="Inboard wing tank cocks">

  <switch name="fcs/fuel-system/tank-cocks/left-open[2]">
   <default value="0.0"/>
   <test value="1.0" logic="AND">
     fcs/fuel-system/mark GE 3
     fcs/fuel-system/left-tank-cock-cmd-norm[2] GT 0.5
   </test>
  </switch>
  <switch name="fcs/fuel-system/tank-cocks/right-open[2]">
   <default value="0.0"/>
   <test value="1.0" logic="AND">
     fcs/fuel-system/mark GE 3
     fcs/fuel-system/right-tank-cock-cmd-norm[2] GT 0.5
   </test>
  </switch>

  <switch name="fcs/fuel-system/internals/inboard-tank-contents-lbs[0]">
   <default value="0"/>
   <test value="propulsion/tank[4]/contents-lbs">
     fcs/fuel-system/mark GE 3
   </test>
   <output>propulsion/tank[4]/contents-lbs</output>
  </switch>
  <switch name="fcs/fuel-system/internals/inboard-tank-contents-lbs[1]">
   <default value="0"/>
   <test value="propulsion/tank[5]/contents-lbs">
     fcs/fuel-system/mark GE 3
   </test>
   <output>propulsion/tank[5]/contents-lbs</output>
  </switch>

 </channel>

 <channel name="Fuselage tank cocks">

  <switch name="fcs/fuel-system/tank-cocks/left-open[3]">
   <default value="0.0"/>
   <test value="1.0" logic="AND">
     fcs/fuel-system/mark GE 3
     fcs/fuel-system/left-tank-cock-cmd-norm[3] GT 0.5
   </test>
  </switch>
  <switch name="fcs/fuel-system/tank-cocks/right-open[3]">
   <default value="0.0"/>
   <test value="1.0" logic="AND">
     fcs/fuel-system/mark GE 3
     fcs/fuel-system/right-tank-cock-cmd-norm[3] GT 0.5
   </test>
  </switch>

  <switch name="fcs/fuel-system/internals/fuselage-tank-contents-lbs[0]">
   <default value="0"/>
   <test value="propulsion/tank[6]/contents-lbs">
     fcs/fuel-system/mark GE 3
   </test>
   <output>propulsion/tank[6]/contents-lbs</output>
  </switch>
  <switch name="fcs/fuel-system/internals/fuselage-tank-contents-lbs[1]">
   <default value="0"/>
   <test value="propulsion/tank[7]/contents-lbs">
     fcs/fuel-system/mark GE 3
   </test>
   <output>propulsion/tank[7]/contents-lbs</output>
  </switch>

 </channel>

 <channel name="Fuel supply">

  <fcs_function name="fcs/fuel-system/supply/total-max-tank-level-ft">
   <function>
    <max>
     <product>
      <property>fcs/fuel-system/tank-cocks/left-open[0]</property>
      <property>propulsion/tank[0]/relative-level-ft</property>
     </product>
     <product>
      <property>fcs/fuel-system/tank-cocks/right-open[0]</property>
      <property>propulsion/tank[1]/relative-level-ft</property>
     </product>
     <product>
      <property>fcs/fuel-system/tank-cocks/left-open[1]</property>
      <property>propulsion/tank[2]/relative-level-ft</property>
     </product>
     <product>
      <property>fcs/fuel-system/tank-cocks/right-open[1]</property>
      <property>propulsion/tank[3]/relative-level-ft</property>
     </product>
     <product>
      <property>fcs/fuel-system/tank-cocks/left-open[2]</property>
      <property>propulsion/tank[4]/relative-level-ft</property>
     </product>
     <product>
      <property>fcs/fuel-system/tank-cocks/right-open[2]</property>
      <property>propulsion/tank[5]/relative-level-ft</property>
     </product>
     <product>
      <property>fcs/fuel-system/tank-cocks/left-open[3]</property>
      <property>propulsion/tank[6]/relative-level-ft</property>
     </product>
     <product>
      <property>fcs/fuel-system/tank-cocks/right-open[3]</property>
      <property>propulsion/tank[7]/relative-level-ft</property>
     </product>
    </max>
   </function>
  </fcs_function>

  <fcs_function name="fcs/fuel-system/supply/left-max-tank-level-ft">
   <function>
    <max>
     <product>
      <property>fcs/fuel-system/tank-cocks/left-open[0]</property>
      <property>propulsion/tank[0]/relative-level-ft</property>
     </product>
     <product>
      <property>fcs/fuel-system/tank-cocks/left-open[1]</property>
      <property>propulsion/tank[2]/relative-level-ft</property>
     </product>
     <product>
      <property>fcs/fuel-system/tank-cocks/left-open[2]</property>
      <property>propulsion/tank[4]/relative-level-ft</property>
     </product>
     <product>
      <property>fcs/fuel-system/tank-cocks/left-open[3]</property>
      <property>propulsion/tank[6]/relative-level-ft</property>
     </product>
    </max>
   </function>
  </fcs_function>

  <fcs_function name="fcs/fuel-system/supply/right-max-tank-level-ft">
   <function>
    <max>
     <product>
      <property>fcs/fuel-system/tank-cocks/right-open[0]</property>
      <property>propulsion/tank[1]/relative-level-ft</property>
     </product>
     <product>
      <property>fcs/fuel-system/tank-cocks/right-open[1]</property>
      <property>propulsion/tank[3]/relative-level-ft</property>
     </product>
     <product>
      <property>fcs/fuel-system/tank-cocks/right-open[2]</property>
      <property>propulsion/tank[5]/relative-level-ft</property>
     </product>
     <product>
      <property>fcs/fuel-system/tank-cocks/right-open[3]</property>
      <property>propulsion/tank[7]/relative-level-ft</property>
     </product>
    </max>
   </function>
  </fcs_function>

  <switch name="fcs/fuel-system/supply/tank-supplying[0]">
   <default value="0.0"/>
   <test value="1.0" logic="AND">
     fcs/fuel-system/tank-cocks/balance-open  GT 0.5
     fcs/fuel-system/tank-cocks/left-open[0]  GT 0.5
     propulsion/tank[0]/contents-lbs          GT 0.0
     propulsion/tank[0]/relative-level-ft     GE fcs/fuel-system/supply/total-max-tank-level-ft
   </test>
   <test value="1.0" logic="AND">
     fcs/fuel-system/tank-cocks/balance-open  LT 0.5
     fcs/fuel-system/tank-cocks/left-open[0]  GT 0.5
     propulsion/tank[0]/contents-lbs          GT 0.0
     propulsion/tank[0]/relative-level-ft     GE fcs/fuel-system/supply/left-max-tank-level-ft
   </test>
  </switch>

  <switch name="fcs/fuel-system/supply/tank-supplying[1]">
   <default value="0.0"/>
   <test value="1.0" logic="AND">
     fcs/fuel-system/tank-cocks/balance-open  GT 0.5
     fcs/fuel-system/tank-cocks/right-open[0] GT 0.5
     propulsion/tank[1]/contents-lbs          GT 0.0
     propulsion/tank[1]/relative-level-ft     GE fcs/fuel-system/supply/total-max-tank-level-ft
   </test>
   <test value="1.0" logic="AND">
     fcs/fuel-system/tank-cocks/balance-open  LT 0.5
     fcs/fuel-system/tank-cocks/right-open[0] GT 0.5
     propulsion/tank[1]/contents-lbs          GT 0.0
     propulsion/tank[1]/relative-level-ft     GE fcs/fuel-system/supply/right-max-tank-level-ft
   </test>
  </switch>

  <switch name="fcs/fuel-system/supply/tank-supplying[2]">
   <default value="0.0"/>
   <test value="1.0" logic="AND">
     fcs/fuel-system/tank-cocks/balance-open  GT 0.5
     fcs/fuel-system/tank-cocks/left-open[1]  GT 0.5
     propulsion/tank[2]/contents-lbs          GT 0.0
     propulsion/tank[2]/relative-level-ft     GE fcs/fuel-system/supply/total-max-tank-level-ft
   </test>
   <test value="1.0" logic="AND">
     fcs/fuel-system/tank-cocks/balance-open  LT 0.5
     fcs/fuel-system/tank-cocks/left-open[1]  GT 0.5
     propulsion/tank[2]/contents-lbs          GT 0.0
     propulsion/tank[2]/relative-level-ft     GE fcs/fuel-system/supply/left-max-tank-level-ft
   </test>
  </switch>

  <switch name="fcs/fuel-system/supply/tank-supplying[3]">
   <default value="0.0"/>
   <test value="1.0" logic="AND">
     fcs/fuel-system/tank-cocks/balance-open  GT 0.5
     fcs/fuel-system/tank-cocks/right-open[1] GT 0.5
     propulsion/tank[3]/contents-lbs          GT 0.0
     propulsion/tank[3]/relative-level-ft     GE fcs/fuel-system/supply/total-max-tank-level-ft
   </test>
   <test value="1.0" logic="AND">
     fcs/fuel-system/tank-cocks/balance-open  LT 0.5
     fcs/fuel-system/tank-cocks/right-open[1] GT 0.5
     propulsion/tank[3]/contents-lbs          GT 0.0
     propulsion/tank[3]/relative-level-ft     GE fcs/fuel-system/supply/right-max-tank-level-ft
   </test>
  </switch>

  <switch name="fcs/fuel-system/supply/tank-supplying[4]">
   <default value="0.0"/>
   <test value="1.0" logic="AND">
     fcs/fuel-system/tank-cocks/balance-open  GT 0.5
     fcs/fuel-system/tank-cocks/left-open[2]  GT 0.5
     propulsion/tank[4]/contents-lbs          GT 0.0
     propulsion/tank[4]/relative-level-ft     GE fcs/fuel-system/supply/total-max-tank-level-ft
   </test>
   <test value="1.0" logic="AND">
     fcs/fuel-system/tank-cocks/balance-open  LT 0.5
     fcs/fuel-system/tank-cocks/left-open[2]  GT 0.5
     propulsion/tank[4]/contents-lbs          GT 0.0
     propulsion/tank[4]/relative-level-ft     GE fcs/fuel-system/supply/left-max-tank-level-ft
   </test>
  </switch>

  <switch name="fcs/fuel-system/supply/tank-supplying[5]">
   <default value="0.0"/>
   <test value="1.0" logic="AND">
     fcs/fuel-system/tank-cocks/balance-open  GT 0.5
     fcs/fuel-system/tank-cocks/right-open[2] GT 0.5
     propulsion/tank[5]/contents-lbs          GT 0.0
     propulsion/tank[5]/relative-level-ft     GE fcs/fuel-system/supply/total-max-tank-level-ft
   </test>
   <test value="1.0" logic="AND">
     fcs/fuel-system/tank-cocks/balance-open  LT 0.5
     fcs/fuel-system/tank-cocks/right-open[2] GT 0.5
     propulsion/tank[5]/contents-lbs          GT 0.0
     propulsion/tank[5]/relative-level-ft     GE fcs/fuel-system/supply/right-max-tank-level-ft
   </test>
  </switch>

  <switch name="fcs/fuel-system/supply/tank-supplying[6]">
   <default value="0.0"/>
   <test value="1.0" logic="AND">
     fcs/fuel-system/tank-cocks/balance-open  GT 0.5
     fcs/fuel-system/tank-cocks/left-open[3]  GT 0.5
     propulsion/tank[6]/contents-lbs          GT 0.0
     propulsion/tank[6]/relative-level-ft     GE fcs/fuel-system/supply/total-max-tank-level-ft
   </test>
   <test value="1.0" logic="AND">
     fcs/fuel-system/tank-cocks/balance-open  LT 0.5
     fcs/fuel-system/tank-cocks/left-open[3]  GT 0.5
     propulsion/tank[6]/contents-lbs          GT 0.0
     propulsion/tank[6]/relative-level-ft     GE fcs/fuel-system/supply/left-max-tank-level-ft
   </test>
  </switch>

  <switch name="fcs/fuel-system/supply/tank-supplying[7]">
   <default value="0.0"/>
   <test value="1.0" logic="AND">
     fcs/fuel-system/tank-cocks/balance-open  GT 0.5
     fcs/fuel-system/tank-cocks/right-open[3] GT 0.5
     propulsion/tank[7]/contents-lbs          GT 0.0
     propulsion/tank[7]/relative-level-ft     GE fcs/fuel-system/supply/total-max-tank-level-ft
   </test>
   <test value="1.0" logic="AND">
     fcs/fuel-system/tank-cocks/balance-open  LT 0.5
     fcs/fuel-system/tank-cocks/right-open[3] GT 0.5
     propulsion/tank[7]/contents-lbs          GT 0.0
     propulsion/tank[7]/relative-level-ft     GE fcs/fuel-system/supply/right-max-tank-level-ft
   </test>
  </switch>

  <fcs_function name="fcs/fuel-system/supply/total-supply-available">
   <function>
    <product>
     <property>fcs/fuel-system/tank-cocks/balance-open</property>
     <max>
      <property>fcs/fuel-system/supply/tank-supplying[0]</property>
      <property>fcs/fuel-system/supply/tank-supplying[1]</property>
      <property>fcs/fuel-system/supply/tank-supplying[2]</property>
      <property>fcs/fuel-system/supply/tank-supplying[3]</property>
      <property>fcs/fuel-system/supply/tank-supplying[4]</property>
      <property>fcs/fuel-system/supply/tank-supplying[5]</property>
      <property>fcs/fuel-system/supply/tank-supplying[6]</property>
      <property>fcs/fuel-system/supply/tank-supplying[7]</property>
     </max>
    </product>
   </function>
   <clipto>
    <min>0.0</min>
    <max>1.0</max>
   </clipto>
  </fcs_function>

  <fcs_function name="fcs/fuel-system/supply/left-supply-available">
   <function>
    <product>
     <difference>
      <value>1.0</value>
      <property>fcs/fuel-system/tank-cocks/balance-open</property>
     </difference>
     <max>
      <property>fcs/fuel-system/supply/tank-supplying[0]</property>
      <property>fcs/fuel-system/supply/tank-supplying[2]</property>
      <property>fcs/fuel-system/supply/tank-supplying[4]</property>
      <property>fcs/fuel-system/supply/tank-supplying[6]</property>
     </max>
    </product>
   </function>
   <clipto>
    <min>0.0</min>
    <max>1.0</max>
   </clipto>
  </fcs_function>

  <fcs_function name="fcs/fuel-system/supply/right-supply-available">
   <function>
    <product>
     <difference>
      <value>1.0</value>
      <property>fcs/fuel-system/tank-cocks/balance-open</property>
     </difference>
     <max>
      <property>fcs/fuel-system/supply/tank-supplying[1]</property>
      <property>fcs/fuel-system/supply/tank-supplying[3]</property>
      <property>fcs/fuel-system/supply/tank-supplying[5]</property>
      <property>fcs/fuel-system/supply/tank-supplying[7]</property>
     </max>
    </product>
   </function>
   <clipto>
    <min>0.0</min>
    <max>1.0</max>
   </clipto>
  </fcs_function>

 </channel>

 <channel name="Fuel pump flows">

  <fcs_function name="propulsion/engine[0]/fuel-pump-flow-pps">
   <function>
    <product>
     <sum>
      <property>fcs/fuel-system/supply/total-supply-available</property>
      <property>fcs/fuel-system/supply/left-supply-available</property>
     </sum>
     <property>propulsion/engine[0]/fuel-pump-running-norm</property>
     <property>propulsion/engine[0]/fuel-pump-capacity-pps</property>
    </product>
   </function>
  </fcs_function>

  <fcs_function name="propulsion/engine[1]/fuel-pump-flow-pps">
   <function>
    <product>
     <sum>
      <property>fcs/fuel-system/supply/total-supply-available</property>
      <property>fcs/fuel-system/supply/left-supply-available</property>
     </sum>
     <property>propulsion/engine[1]/fuel-pump-running-norm</property>
     <property>propulsion/engine[1]/fuel-pump-capacity-pps</property>
    </product>
   </function>
  </fcs_function>

  <fcs_function name="propulsion/engine[2]/fuel-pump-flow-pps">
   <function>
    <product>
     <sum>
      <property>fcs/fuel-system/supply/total-supply-available</property>
      <property>fcs/fuel-system/supply/right-supply-available</property>
     </sum>
     <property>propulsion/engine[2]/fuel-pump-running-norm</property>
     <property>propulsion/engine[2]/fuel-pump-capacity-pps</property>
    </product>
   </function>
  </fcs_function>

  <fcs_function name="propulsion/engine[3]/fuel-pump-flow-pps">
   <function>
    <product>
     <sum>
      <property>fcs/fuel-system/supply/total-supply-available</property>
      <property>fcs/fuel-system/supply/right-supply-available</property>
     </sum>
     <property>propulsion/engine[3]/fuel-pump-running-norm</property>
     <property>propulsion/engine[3]/fuel-pump-capacity-pps</property>
    </product>
   </function>
  </fcs_function>

 </channel>

 <channel name="Fuel feed test cocks">

  <switch name="fcs/fuel-system/test-cocks/left-open">
   <default value="0.0"/>
   <test value="1.0">
     fcs/fuel-system/left-test-cock-cmd-norm GE 0.5
   </test>
  </switch>
  <switch name="fcs/fuel-system/test-cocks/left-closed">
   <default value="1.0"/>
   <test value="0.0">
     fcs/fuel-system/left-test-cock-cmd-norm GE 0.5
   </test>
  </switch>
  <switch name="fcs/fuel-system/test-cocks/right-open">
   <default value="0.0"/>
   <test value="1.0">
     fcs/fuel-system/right-test-cock-cmd-norm GE 0.5
   </test>
  </switch>
  <switch name="fcs/fuel-system/test-cocks/right-closed">
   <default value="1.0"/>
   <test value="0.0">
     fcs/fuel-system/right-test-cock-cmd-norm GE 0.5
   </test>
  </switch>
  <switch name="fcs/fuel-system/test-cocks/center-open">
   <default value="0.0"/>
   <test value="1.0">
     fcs/fuel-system/center-test-cock-cmd-norm GE 0.5
   </test>
  </switch>
  <switch name="fcs/fuel-system/test-cocks/center-closed">
   <default value="1.0"/>
   <test value="0.0">
     fcs/fuel-system/center-test-cock-cmd-norm GE 0.5
   </test>
  </switch>

 </channel>

 <channel name="Fuel feed line">

  <fcs_function name="fcs/fuel-system/feed-line/total-available-pps">
   <function>
    <product>
     <property>fcs/fuel-system/test-cocks/left-open</property>
     <property>fcs/fuel-system/test-cocks/center-open</property>
     <property>fcs/fuel-system/test-cocks/right-open</property>
     <sum>
      <property>propulsion/engine[0]/fuel-pump-flow-pps</property>
      <property>propulsion/engine[1]/fuel-pump-flow-pps</property>
      <property>propulsion/engine[2]/fuel-pump-flow-pps</property>
      <property>propulsion/engine[3]/fuel-pump-flow-pps</property>
     </sum>
    </product>
   </function>
  </fcs_function>

  <fcs_function name="fcs/fuel-system/feed-line/left-wing-available-pps">
   <function>
    <product>
     <property>fcs/fuel-system/test-cocks/left-open</property>
     <property>fcs/fuel-system/test-cocks/center-closed</property>
     <sum>
      <property>propulsion/engine[0]/fuel-pump-flow-pps</property>
      <property>propulsion/engine[1]/fuel-pump-flow-pps</property>
     </sum>
    </product>
   </function>
  </fcs_function>

  <fcs_function name="fcs/fuel-system/feed-line/right-wing-available-pps">
   <function>
    <product>
     <property>fcs/fuel-system/test-cocks/center-closed</property>
     <property>fcs/fuel-system/test-cocks/right-open</property>
     <sum>
      <property>propulsion/engine[2]/fuel-pump-flow-pps</property>
      <property>propulsion/engine[3]/fuel-pump-flow-pps</property>
     </sum>
    </product>
   </function>
  </fcs_function>

  <fcs_function name="fcs/fuel-system/feed-line/center-available-pps">
   <function>
    <product>
     <property>fcs/fuel-system/test-cocks/left-closed</property>
     <property>fcs/fuel-system/test-cocks/center-open</property>
     <property>fcs/fuel-system/test-cocks/right-closed</property>
     <sum>
      <property>propulsion/engine[1]/fuel-pump-flow-pps</property>
      <property>propulsion/engine[2]/fuel-pump-flow-pps</property>
     </sum>
    </product>
   </function>
  </fcs_function>

  <fcs_function name="fcs/fuel-system/feed-line/left-center-available-pps">
   <function>
    <product>
     <property>fcs/fuel-system/test-cocks/left-open</property>
     <property>fcs/fuel-system/test-cocks/center-open</property>
     <property>fcs/fuel-system/test-cocks/right-closed</property>
     <sum>
      <property>propulsion/engine[0]/fuel-pump-flow-pps</property>
      <property>propulsion/engine[1]/fuel-pump-flow-pps</property>
      <property>propulsion/engine[2]/fuel-pump-flow-pps</property>
     </sum>
    </product>
   </function>
  </fcs_function>

  <fcs_function name="fcs/fuel-system/feed-line/right-center-available-pps">
   <function>
    <product>
     <property>fcs/fuel-system/test-cocks/left-closed</property>
     <property>fcs/fuel-system/test-cocks/center-open</property>
     <property>fcs/fuel-system/test-cocks/right-open</property>
     <sum>
      <property>propulsion/engine[0]/fuel-pump-flow-pps</property>
      <property>propulsion/engine[1]/fuel-pump-flow-pps</property>
      <property>propulsion/engine[2]/fuel-pump-flow-pps</property>
     </sum>
    </product>
   </function>
  </fcs_function>

  <fcs_function name="fcs/fuel-system/feed-line/left-outer-available-pps">
   <function>
    <product>
     <property>fcs/fuel-system/test-cocks/left-closed</property>
     <property>propulsion/engine[0]/fuel-pump-flow-pps</property>
    </product>
   </function>
  </fcs_function>

  <fcs_function name="fcs/fuel-system/feed-line/left-inner-available-pps">
   <function>
    <product>
     <property>fcs/fuel-system/test-cocks/left-closed</property>
     <property>fcs/fuel-system/test-cocks/center-closed</property>
     <property>propulsion/engine[1]/fuel-pump-flow-pps</property>
    </product>
   </function>
  </fcs_function>

  <fcs_function name="fcs/fuel-system/feed-line/right-inner-available-pps">
   <function>
    <product>
     <property>fcs/fuel-system/test-cocks/center-closed</property>
     <property>fcs/fuel-system/test-cocks/right-closed</property>
     <property>propulsion/engine[2]/fuel-pump-flow-pps</property>
    </product>
   </function>
  </fcs_function>

  <fcs_function name="fcs/fuel-system/feed-line/right-outer-available-pps">
   <function>
    <product>
     <property>fcs/fuel-system/test-cocks/right-closed</property>
     <property>propulsion/engine[3]/fuel-pump-flow-pps</property>
    </product>
   </function>
  </fcs_function>

 </channel>

 <channel name="Carburettor feed">

  <switch name="fcs/fuel-system/feed-line/carburettor-float-open[0]">
   <default value="0.0"/>
   <test value="1.0">
     propulsion/tank[8]/contents-lbs LT 0.1
   </test>
  </switch>
  <switch name="fcs/fuel-system/feed-line/carburettor-float-open[1]">
   <default value="0.0"/>
   <test value="1.0">
     propulsion/tank[9]/contents-lbs LT 0.1
   </test>
  </switch>
  <switch name="fcs/fuel-system/feed-line/carburettor-float-open[2]">
   <default value="0.0"/>
   <test value="1.0">
     propulsion/tank[10]/contents-lbs LT 0.1
   </test>
  </switch>
  <switch name="fcs/fuel-system/feed-line/carburettor-float-open[3]">
   <default value="0.0"/>
   <test value="1.0">
     propulsion/tank[11]/contents-lbs LT 0.1
   </test>
  </switch>

  <fcs_function name="fcs/fuel-system/feed-line/total-carburettor-open">
   <function>
    <sum>
     <property>fcs/fuel-system/feed-line/carburettor-float-open[0]</property>
     <property>fcs/fuel-system/feed-line/carburettor-float-open[1]</property>
     <property>fcs/fuel-system/feed-line/carburettor-float-open[2]</property>
     <property>fcs/fuel-system/feed-line/carburettor-float-open[3]</property>
    </sum>
   </function>
  </fcs_function>

  <fcs_function name="fcs/fuel-system/feed-line/left-wing-carburettor-open">
   <function>
    <sum>
     <property>fcs/fuel-system/feed-line/carburettor-float-open[0]</property>
     <property>fcs/fuel-system/feed-line/carburettor-float-open[1]</property>
    </sum>
   </function>
  </fcs_function>

  <fcs_function name="fcs/fuel-system/feed-line/right-wing-carburettor-open">
   <function>
    <sum>
     <property>fcs/fuel-system/feed-line/carburettor-float-open[2]</property>
     <property>fcs/fuel-system/feed-line/carburettor-float-open[3]</property>
    </sum>
   </function>
  </fcs_function>

  <fcs_function name="fcs/fuel-system/feed-line/center-carburettor-open">
   <function>
    <sum>
     <property>fcs/fuel-system/feed-line/carburettor-float-open[1]</property>
     <property>fcs/fuel-system/feed-line/carburettor-float-open[2]</property>
    </sum>
   </function>
  </fcs_function>

  <fcs_function name="fcs/fuel-system/feed-line/left-center-carburettor-open">
   <function>
    <sum>
     <property>fcs/fuel-system/feed-line/carburettor-float-open[0]</property>
     <property>fcs/fuel-system/feed-line/carburettor-float-open[1]</property>
     <property>fcs/fuel-system/feed-line/carburettor-float-open[2]</property>
    </sum>
   </function>
  </fcs_function>

  <fcs_function name="fcs/fuel-system/feed-line/right-center-carburettor-open">
   <function>
    <sum>
     <property>fcs/fuel-system/feed-line/carburettor-float-open[1]</property>
     <property>fcs/fuel-system/feed-line/carburettor-float-open[2]</property>
     <property>fcs/fuel-system/feed-line/carburettor-float-open[3]</property>
    </sum>
   </function>
  </fcs_function>

  <fcs_function name="fcs/fuel-system/feed-line/carburettor-flow-pps[0]">
   <function>
    <product>
     <property>fcs/fuel-system/feed-line/carburettor-float-open[0]</property>
     <sum>
      <!-- Isolated. -->
      <property>fcs/fuel-system/feed-line/left-outer-available-pps</property>
      <!-- Left wing. -->
      <quotient>
       <property>fcs/fuel-system/feed-line/left-wing-available-pps</property>
       <value>2.0</value>
      </quotient>
      <!-- Left wing + center. --> 
      <quotient>
       <property>fcs/fuel-system/feed-line/left-center-available-pps</property>
       <value>3.0</value>
      </quotient>
      <!-- All test cocks open. -->
      <quotient>
       <property>fcs/fuel-system/feed-line/total-available-pps</property>
       <value>4.0</value>
      </quotient>
     </sum>
    </product>
   </function>
   <output>propulsion/tank[8]/external-flow-rate-pps</output>
  </fcs_function>

  <fcs_function name="fcs/fuel-system/feed-line/carburettor-flow-pps[1]">
   <function>
    <product>
     <property>fcs/fuel-system/feed-line/carburettor-float-open[1]</property>
     <sum>
      <!-- Isolated. -->
      <property>fcs/fuel-system/feed-line/left-inner-available-pps</property>
      <!-- Left wing. -->
      <quotient>
       <property>fcs/fuel-system/feed-line/left-wing-available-pps</property>
       <value>2.0</value>
      </quotient>
      <!-- Center. --> 
      <quotient>
       <property>fcs/fuel-system/feed-line/center-available-pps</property>
       <value>2.0</value>
      </quotient>
      <!-- Left wing + center. --> 
      <quotient>
       <property>fcs/fuel-system/feed-line/left-center-available-pps</property>
       <value>3.0</value>
      </quotient>
      <!-- Right wing + center. --> 
      <quotient>
       <property>fcs/fuel-system/feed-line/right-center-available-pps</property>
       <value>3.0</value>
      </quotient>
      <!-- All test cocks open. -->
      <quotient>
       <property>fcs/fuel-system/feed-line/total-available-pps</property>
       <value>4.0</value>
      </quotient>
     </sum>
    </product>
   </function>
   <output>propulsion/tank[9]/external-flow-rate-pps</output>
  </fcs_function>

  <fcs_function name="fcs/fuel-system/feed-line/carburettor-flow-pps[2]">
   <function>
    <product>
     <property>fcs/fuel-system/feed-line/carburettor-float-open[2]</property>
     <sum>
      <!-- Isolated. -->
      <property>fcs/fuel-system/feed-line/right-inner-available-pps</property>
      <!-- Right wing. -->
      <quotient>
       <property>fcs/fuel-system/feed-line/right-wing-available-pps</property>
       <value>2.0</value>
      </quotient>
      <!-- Center. --> 
      <quotient>
       <property>fcs/fuel-system/feed-line/center-available-pps</property>
       <value>2.0</value>
      </quotient>
      <!-- Left wing + center. --> 
      <quotient>
       <property>fcs/fuel-system/feed-line/left-center-available-pps</property>
       <value>3.0</value>
      </quotient>
      <!-- Right wing + center. --> 
      <quotient>
       <property>fcs/fuel-system/feed-line/right-center-available-pps</property>
       <value>3.0</value>
      </quotient>
      <!-- All test cocks open. -->
      <quotient>
       <property>fcs/fuel-system/feed-line/total-available-pps</property>
       <value>4.0</value>
      </quotient>
     </sum>
    </product>
   </function>
   <output>propulsion/tank[10]/external-flow-rate-pps</output>
  </fcs_function>

  <fcs_function name="fcs/fuel-system/feed-line/carburettor-flow-pps[3]">
   <function>
    <product>
     <property>fcs/fuel-system/feed-line/carburettor-float-open[3]</property>
     <sum>
      <!-- Isolated. -->
      <property>fcs/fuel-system/feed-line/right-outer-available-pps</property>
      <!-- Right wing. -->
      <quotient>
       <property>fcs/fuel-system/feed-line/right-wing-available-pps</property>
       <value>2.0</value>
      </quotient>
      <!-- Right wing + center. --> 
      <quotient>
       <property>fcs/fuel-system/feed-line/right-center-available-pps</property>
       <value>3.0</value>
      </quotient>
      <!-- All test cocks open. -->
      <quotient>
       <property>fcs/fuel-system/feed-line/total-available-pps</property>
       <value>4.0</value>
      </quotient>
     </sum>
    </product>
   </function>
   <output>propulsion/tank[11]/external-flow-rate-pps</output>
  </fcs_function>

 </channel>

 <channel name="Supply consumption">

  <!-- FIXME: This is simplified a bit too far.
              The test cocks are assumed to be open.
  -->

  <fcs_function name="fcs/fuel-system/feed-line/total-backfeed-pps">
   <function>
    <difference>
     <sum>
      <property>propulsion/engine[0]/fuel-pump-flow-pps</property>
      <property>propulsion/engine[1]/fuel-pump-flow-pps</property>
      <property>propulsion/engine[2]/fuel-pump-flow-pps</property>
      <property>propulsion/engine[3]/fuel-pump-flow-pps</property>
     </sum>
     <sum>
      <property>fcs/fuel-system/feed-line/carburettor-flow-pps[0]</property>
      <property>fcs/fuel-system/feed-line/carburettor-flow-pps[1]</property>
      <property>fcs/fuel-system/feed-line/carburettor-flow-pps[2]</property>
      <property>fcs/fuel-system/feed-line/carburettor-flow-pps[3]</property>
     </sum>
    </difference>
   </function>
  </fcs_function>

  <fcs_function name="fcs/fuel-system/feed-line/total-consumption-pps">
   <function>
    <difference>
     <sum>
      <property>fcs/fuel-system/feed-line/total-available-pps</property>
      <property>fcs/fuel-system/feed-line/left-wing-available-pps</property>
      <property>fcs/fuel-system/feed-line/right-wing-available-pps</property>
      <property>fcs/fuel-system/feed-line/center-available-pps</property>
      <property>fcs/fuel-system/feed-line/left-center-available-pps</property>
      <property>fcs/fuel-system/feed-line/right-center-available-pps</property>
      <property>fcs/fuel-system/feed-line/left-outer-available-pps</property>
      <property>fcs/fuel-system/feed-line/left-inner-available-pps</property>
      <property>fcs/fuel-system/feed-line/right-inner-available-pps</property>
      <property>fcs/fuel-system/feed-line/right-outer-available-pps</property>
     </sum>
     <property>fcs/fuel-system/feed-line/total-backfeed-pps</property>
    </difference>
   </function>
   <clipto>
    <min>0.0</min>
    <max>1000.0</max>
   </clipto>
  </fcs_function>

  <fcs_function name="fcs/fuel-system/supply/tank-flow-pps[0]">
   <function>
    <product>
     <value>-1.0</value>
     <property>fcs/fuel-system/supply/tank-supplying[0]</property>
     <sum>
      <product>
       <property>fcs/fuel-system/supply/total-supply-available</property>
       <property>fcs/fuel-system/feed-line/total-consumption-pps</property>
      </product>
      <product>
       <property>fcs/fuel-system/supply/left-supply-available</property>
       <quotient>
        <property>fcs/fuel-system/feed-line/total-consumption-pps</property>
        <value>2.0</value>
       </quotient>
      </product>
     </sum>
    </product>
   </function>
   <output>propulsion/tank[0]/external-flow-rate-pps</output>
  </fcs_function>

  <fcs_function name="fcs/fuel-system/supply/tank-flow-pps[1]">
   <function>
    <product>
     <value>-1.0</value>
     <property>fcs/fuel-system/supply/tank-supplying[1]</property>
     <sum>
      <product>
       <property>fcs/fuel-system/supply/total-supply-available</property>
       <property>fcs/fuel-system/feed-line/total-consumption-pps</property>
      </product>
      <product>
       <property>fcs/fuel-system/supply/right-supply-available</property>
       <quotient>
        <property>fcs/fuel-system/feed-line/total-consumption-pps</property>
        <value>2.0</value>
       </quotient>
      </product>
     </sum>
    </product>
   </function>
   <output>propulsion/tank[1]/external-flow-rate-pps</output>
  </fcs_function>

  <fcs_function name="fcs/fuel-system/supply/tank-flow-pps[2]">
   <function>
    <product>
     <value>-1.0</value>
     <property>fcs/fuel-system/supply/tank-supplying[2]</property>
     <sum>
      <product>
       <property>fcs/fuel-system/supply/total-supply-available</property>
       <property>fcs/fuel-system/feed-line/total-consumption-pps</property>
      </product>
      <product>
       <property>fcs/fuel-system/supply/left-supply-available</property>
       <quotient>
        <property>fcs/fuel-system/feed-line/total-consumption-pps</property>
        <value>2.0</value>
       </quotient>
      </product>
     </sum>
    </product>
   </function>
   <output>propulsion/tank[2]/external-flow-rate-pps</output>
  </fcs_function>

  <fcs_function name="fcs/fuel-system/supply/tank-flow-pps[3]">
   <function>
    <product>
     <value>-1.0</value>
     <property>fcs/fuel-system/supply/tank-supplying[3]</property>
     <sum>
      <product>
       <property>fcs/fuel-system/supply/total-supply-available</property>
       <property>fcs/fuel-system/feed-line/total-consumption-pps</property>
      </product>
      <product>
       <property>fcs/fuel-system/supply/right-supply-available</property>
       <quotient>
        <property>fcs/fuel-system/feed-line/total-consumption-pps</property>
        <value>2.0</value>
       </quotient>
      </product>
     </sum>
    </product>
   </function>
   <output>propulsion/tank[3]/external-flow-rate-pps</output>
  </fcs_function>

  <fcs_function name="fcs/fuel-system/supply/tank-flow-pps[4]">
   <function>
    <product>
     <value>-1.0</value>
     <property>fcs/fuel-system/supply/tank-supplying[4]</property>
     <sum>
      <product>
       <property>fcs/fuel-system/supply/total-supply-available</property>
       <property>fcs/fuel-system/feed-line/total-consumption-pps</property>
      </product>
      <product>
       <property>fcs/fuel-system/supply/left-supply-available</property>
       <quotient>
        <property>fcs/fuel-system/feed-line/total-consumption-pps</property>
        <value>2.0</value>
       </quotient>
      </product>
     </sum>
    </product>
   </function>
   <output>propulsion/tank[4]/external-flow-rate-pps</output>
  </fcs_function>

  <fcs_function name="fcs/fuel-system/supply/tank-flow-pps[5]">
   <function>
    <product>
     <value>-1.0</value>
     <property>fcs/fuel-system/supply/tank-supplying[5]</property>
     <sum>
      <product>
       <property>fcs/fuel-system/supply/total-supply-available</property>
       <property>fcs/fuel-system/feed-line/total-consumption-pps</property>
      </product>
      <product>
       <property>fcs/fuel-system/supply/right-supply-available</property>
       <quotient>
        <property>fcs/fuel-system/feed-line/total-consumption-pps</property>
        <value>2.0</value>
       </quotient>
      </product>
     </sum>
    </product>
   </function>
   <output>propulsion/tank[5]/external-flow-rate-pps</output>
  </fcs_function>

  <fcs_function name="fcs/fuel-system/supply/tank-flow-pps[6]">
   <function>
    <product>
     <value>-1.0</value>
     <property>fcs/fuel-system/supply/tank-supplying[6]</property>
     <sum>
      <product>
       <property>fcs/fuel-system/supply/total-supply-available</property>
       <property>fcs/fuel-system/feed-line/total-consumption-pps</property>
      </product>
      <product>
       <property>fcs/fuel-system/supply/left-supply-available</property>
       <quotient>
        <property>fcs/fuel-system/feed-line/total-consumption-pps</property>
        <value>2.0</value>
       </quotient>
      </product>
     </sum>
    </product>
   </function>
   <output>propulsion/tank[6]/external-flow-rate-pps</output>
  </fcs_function>

  <fcs_function name="fcs/fuel-system/supply/tank-flow-pps[7]">
   <function>
    <product>
     <value>-1.0</value>
     <property>fcs/fuel-system/supply/tank-supplying[7]</property>
     <sum>
      <product>
       <property>fcs/fuel-system/supply/total-supply-available</property>
       <property>fcs/fuel-system/feed-line/total-consumption-pps</property>
      </product>
      <product>
       <property>fcs/fuel-system/supply/right-supply-available</property>
       <quotient>
        <property>fcs/fuel-system/feed-line/total-consumption-pps</property>
        <value>2.0</value>
       </quotient>
      </product>
     </sum>
    </product>
   </function>
   <output>propulsion/tank[7]/external-flow-rate-pps</output>
  </fcs_function>

 </channel>

 <channel name="Debug">

  <fcs_function name="fcs/fuel-system/debug/total-engine-fuel-consumption-pps">
   <function>
    <sum>
     <property>propulsion/engine[0]/fuel-flow-rate-pps</property>
     <property>propulsion/engine[1]/fuel-flow-rate-pps</property>
     <property>propulsion/engine[2]/fuel-flow-rate-pps</property>
     <property>propulsion/engine[3]/fuel-flow-rate-pps</property>
    </sum>
   </function>
  </fcs_function>
  
  <integrator name="fcs/fuel-system/debug/total-engine-fuel-consumed-lbs">
   <input>fcs/fuel-system/debug/total-engine-fuel-consumption-pps</input>
   <c1>1.00</c1>
  </integrator>

  <integrator name="fcs/fuel-system/debug/total-fuel-supply-consumed-lbs">
   <input>fcs/fuel-system/feed-line/total-consumption-pps</input>
   <c1>1.00</c1>
  </integrator>

  <fcs_function name="fcs/fuel-system/debug/consumption-error-lbs">
   <function>
    <difference>
     <property>fcs/fuel-system/debug/total-fuel-supply-consumed-lbs</property>
     <sum>
      <property>fcs/fuel-system/debug/total-engine-fuel-consumed-lbs</property>
      <property>propulsion/tank[8]/contents-lbs</property>
      <property>propulsion/tank[9]/contents-lbs</property>
      <property>propulsion/tank[10]/contents-lbs</property>
      <property>propulsion/tank[11]/contents-lbs</property>
     </sum>
    </difference>
   </function>
  </fcs_function>

 </channel>

</system>
<?xml version="1.0"?>
<!--

  Short S.23 flying boat flight model for JSBSim.

    Copyright (C) 2008 - 2011  Anders Gidenstam  (anders(at)gidenstam.org)

    This program is free software; you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation; either version 2 of the License, or
    (at your option) any later version.
  
    This program is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.
  
    You should have received a copy of the GNU General Public License
    along with this program; if not, write to the Free Software
    Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA
  
-->
<system name="take-off-ap">

 <documentation>
  This system provides autopilot components for scripting
  take-offs in JSBSim/standalone.
 </documentation>

 <property value="0.0">take-off-ap/enabled</property>
 <property value="0.0">take-off-ap/landing</property>

 <channel name="Take-off aileron">

  <pid name="take-off-ap/aileron-cmd-norm"> 
   <input> hydro/roll-deg </input>
   <kp>   -3.000 </kp>
   <ki>    0.000 </ki>
   <kd>    0.000 </kd>
   <clipto>
    <min>-1.0</min>
    <max> 1.0</max>
   </clipto>
  </pid>

  <switch name="take-off-ap/aileron-switch-norm">
   <default value="0.0"/>
   <test value="take-off-ap/aileron-cmd-norm">
     take-off-ap/enabled GT 0.5
   </test>
   <output>fcs/copilot/aileron-cmd-norm</output>
  </switch>

 </channel>

 <channel name="Take-off elevator">

  <fcs_function name="take-off-ap/pitch-error-deg">
   <documentation>
    Deviation from target pitch angles during take-off run.
    Based on the real aircraft.
   </documentation>
   <function>
    <difference>
     <table>
      <independentVar lookup="row">hydro/v-kt</independentVar>
      <independentVar lookup="column">take-off-ap/landing</independentVar>
      <!--  Real take-off pitch data, except the last five. -->
      <tableData>
                0.0    1.0
        0.0     4.2    4.0
        15.0    7.0    6.0
        25.0    9.0    9.0
        30.0   11.0   12.0 
        60.0   10.0   11.0
        70.0    9.5    7.0
        80.0    7.0    6.0
        90.0    5.0    6.0
        93.0    4.0    5.5
        100.0   8.0    5.0
        110.0  15.0    0.0
      </tableData>
     </table>
     <property>hydro/pitch-deg</property>
    </difference>
   </function>
   <clipto>
    <min>-1.0</min>
    <max> 1.0</max>
   </clipto>
  </fcs_function>

  <switch name="take-off-ap/pid-trigger">
   <default value="0.0"/>
   <test value="1.0" logic="AND">
     take-off-ap/enabled LE 0.5
   </test>
   <test value="1.0" logic="AND">
     take-off-ap/elevator-cmd-norm EQ -1.0
     take-off-ap/pitch-error-deg GT 0.0
   </test>
  </switch>

  <pid name="take-off-ap/elevator-cmd-norm"> 
   <input>-take-off-ap/pitch-error-deg</input>
   <kp>    0.400 </kp>
   <ki>    0.500 </ki>
   <kd>    0.000 </kd>
   <trigger>take-off-ap/pid-trigger</trigger>
   <clipto>
    <min>-1.0</min>
    <max> 1.0</max>
   </clipto>
  </pid>

  <switch name="take-off-ap/elevator-switch-norm">
   <default value="0.0"/>
   <test value="-1.0">
     take-off-ap/enabled GT 0.5
     hydro/coefficients/C_V LE 1.0
   </test>
   <test value="take-off-ap/elevator-cmd-norm">
     take-off-ap/enabled GT 0.5
     hydro/coefficients/C_V GT 1.0
   </test>
   <output>fcs/copilot/elevator-cmd-norm</output>
  </switch>

 </channel>

 <channel name="Take-off Rudder">

  <pid name="take-off-ap/rudder-cmd-norm"> 
   <input> hydro/beta-deg </input>
   <kp>   -1.000 </kp>
   <ki>    0.000 </ki>
   <kd>    0.000 </kd>
   <clipto>
    <min>-1.0</min>
    <max> 1.0</max>
   </clipto>
  </pid>

  <switch name="take-off-ap/rudder-switch-norm">
   <default value="0.0"/>
   <test value="take-off-ap/rudder-cmd-norm">
     take-off-ap/enabled GT 0.5
     hydro/height-agl-ft LT 20.0
   </test>
   <output>fcs/copilot/rudder-cmd-norm</output>
  </switch>

 </channel>

 <property value="0.0">auto-boost/enabled-norm</property>
 <property value="0.0">auto-boost/target-psi</property>

 <!-- Parameters. -->
 <property value="0.00">auto-boost/pid-kp</property>
 <property value="0.10">auto-boost/pid-ki</property>
 <property value="0.00">auto-boost/pid-kd</property>
 <property value="1.00"> auto-boost/max-error</property>

 <channel name="Boost control">

  <switch name="auto-boost/disabled-norm">
   <default value="1.0"/>
   <test value="0.0">
    auto-boost/enabled-norm GT 0.0
   </test>
  </switch>

  <fcs_function name="auto-boost/boost-error[0]">
   <function>
    <sum>
     <product>
      <property>auto-boost/enabled-norm</property>
      <difference>
       <property>auto-boost/target-psi</property> 
       <property>propulsion/engine[0]/boost-psi</property>
      </difference>
     </product>
     <product>
      <property>auto-boost/disabled-norm</property>
      <difference>
       <property>fcs/throttle-pos-norm[0]</property> 
       <property>auto-boost/throttle-cmd[0]</property>
      </difference>
     </product>
    </sum>
   </function>
   <clipto>
    <min>-auto-boost/max-error</min>
    <max> auto-boost/max-error</max>
   </clipto>
  </fcs_function>

  <fcs_function name="auto-boost/boost-error[1]">
   <function>
    <sum>
     <product>
      <property>auto-boost/enabled-norm</property>
      <difference>
       <property>auto-boost/target-psi</property> 
       <property>propulsion/engine[1]/boost-psi</property>
      </difference>
     </product>
     <product>
      <property>auto-boost/disabled-norm</property>
      <difference>
       <property>fcs/throttle-pos-norm[1]</property> 
       <property>auto-boost/throttle-cmd[1]</property>
      </difference>
     </product>
    </sum>
   </function>
   <clipto>
    <min>-auto-boost/max-error</min>
    <max> auto-boost/max-error</max>
   </clipto>
  </fcs_function>

  <fcs_function name="auto-boost/boost-error[2]">
   <function>
    <sum>
     <product>
      <property>auto-boost/enabled-norm</property>
      <difference>
       <property>auto-boost/target-psi</property> 
       <property>propulsion/engine[2]/boost-psi</property>
      </difference>
     </product>
     <product>
      <property>auto-boost/disabled-norm</property>
      <difference>
       <property>fcs/throttle-pos-norm[2]</property> 
       <property>auto-boost/throttle-cmd[2]</property>
      </difference>
     </product>
    </sum>
   </function>
   <clipto>
    <min>-auto-boost/max-error</min>
    <max> auto-boost/max-error</max>
   </clipto>
  </fcs_function>

  <fcs_function name="auto-boost/boost-error[3]">
   <function>
    <sum>
     <product>
      <property>auto-boost/enabled-norm</property>
      <difference>
       <property>auto-boost/target-psi</property> 
       <property>propulsion/engine[3]/boost-psi</property>
      </difference>
     </product>
     <product>
      <property>auto-boost/disabled-norm</property>
      <difference>
       <property>fcs/throttle-pos-norm[3]</property> 
       <property>auto-boost/throttle-cmd[3]</property>
      </difference>
     </product>
    </sum>
   </function>
   <clipto>
    <min>-auto-boost/max-error</min>
    <max> auto-boost/max-error</max>
   </clipto>
  </fcs_function>

  <pid name="auto-boost/throttle-cmd[0]">
   <input>auto-boost/boost-error[0]</input>
   <kp>auto-boost/pid-kp</kp>
   <ki>auto-boost/pid-ki</ki>
   <kd>auto-boost/pid-kd</kd>
   <clipto>
    <min>0.0</min>
    <max>1.0</max>
   </clipto>
  </pid>

  <pid name="auto-boost/throttle-cmd[1]">
   <input>auto-boost/boost-error[1]</input>
   <kp>auto-boost/pid-kp</kp>
   <ki>auto-boost/pid-ki</ki>
   <kd>auto-boost/pid-kd</kd>
   <clipto>
    <min>0.0</min>
    <max>1.0</max>
   </clipto>
  </pid>

  <pid name="auto-boost/throttle-cmd[2]">
   <input>auto-boost/boost-error[2]</input>
   <kp>auto-boost/pid-kp</kp>
   <ki>auto-boost/pid-ki</ki>
   <kd>auto-boost/pid-kd</kd>
   <clipto>
    <min>0.0</min>
    <max>1.0</max>
   </clipto>
  </pid>

  <pid name="auto-boost/throttle-cmd[3]">
   <input>auto-boost/boost-error[3]</input>
   <kp>auto-boost/pid-kp</kp>
   <ki>auto-boost/pid-ki</ki>
   <kd>auto-boost/pid-kd</kd>
   <clipto>
    <min>0.0</min>
    <max>1.0</max>
   </clipto>
  </pid>


  <switch name="auto-boost/throttle-cmd-norm[0]">
   <default value="fcs/throttle-cmd-norm[0]"/>
   <test value="auto-boost/throttle-cmd[0]">
    auto-boost/enabled-norm GT 0.0
   </test>
   <output>fcs/throttle-cmd-norm[0]</output>
  </switch>

  <switch name="auto-boost/throttle-cmd-norm[1]">
   <default value="fcs/throttle-cmd-norm[1]"/>
   <test value="auto-boost/throttle-cmd[1]">
    auto-boost/enabled-norm GT 0.0
   </test>
   <output>fcs/throttle-cmd-norm[1]</output>
  </switch>

  <switch name="auto-boost/throttle-cmd-norm[2]">
   <default value="fcs/throttle-cmd-norm[2]"/>
   <test value="auto-boost/throttle-cmd[2]">
    auto-boost/enabled-norm GT 0.0
   </test>
   <output>fcs/throttle-cmd-norm[2]</output>
  </switch>

  <switch name="auto-boost/throttle-cmd-norm[3]">
   <default value="fcs/throttle-cmd-norm[3]"/>
   <test value="auto-boost/throttle-cmd[3]">
    auto-boost/enabled-norm GT 0.0
   </test>
   <output>fcs/throttle-cmd-norm[3]</output>
  </switch>

 </channel>

</system>
<?xml version="1.0"?>
<output name="datalog.csv" type="CSV" rate="10">
    <rates> ON </rates>
    <velocities> ON </velocities>
    <forces> ON </forces>
    <moments> ON </moments>
    <position> ON </position>
    <propulsion> ON </propulsion>
    <aerosurfaces> ON </aerosurfaces>
    <fcs> ON </fcs>
    <ground_reactions> ON </ground_reactions>
</output>
<?xml version="1.0"?>
<initialize name="reset00">
  <!--
    This file sets up the aircraft to start off
    from the runway in preparation for takeoff.
  -->
  <ubody unit="FT/SEC">    0.0   </ubody>
  <vbody unit="FT/SEC">    0.0   </vbody>
  <wbody unit="FT/SEC">    0.0   </wbody>
  <latitude unit="DEG">   37.86  </latitude>
  <longitude unit="DEG">-122.34  </longitude>
  <phi unit="DEG">         0.0   </phi>
  <theta unit="DEG">       0.0   </theta>
  <psi unit="DEG">       190.0   </psi>
  <altitude unit="M">      0.0   </altitude>
  <!-- Sea level at SP01 in FlightGear. -->
  <elevation unit="FT">   -4.04  </elevation>
</initialize>
<?xml version="1.0"?>
<initialize name="reset01">
  <!--
    This file sets up the aircraft to cruise at 143kt indicated at 3000 ft.
  -->
  <ubody unit="KTS">     150.0   </ubody>
  <vbody unit="FT/SEC">    0.0   </vbody>
  <wbody unit="FT/SEC">    0.0   </wbody>
  <latitude unit="DEG">   37.86  </latitude>
  <longitude unit="DEG">-122.34  </longitude>
  <phi unit="DEG">         0.0   </phi>
  <theta unit="DEG">      -1.0   </theta>
  <psi unit="DEG">       180.0   </psi>
  <altitude unit="FT">  3000.0   </altitude>
</initialize>
<?xml version="1.0"?>
<initialize name="reset02">
  <!--
    This file sets up the aircraft to cruise at 172kt indicated at 5500 ft.
  -->
  <vc unit="KTS">        172.0   </vc>
  <latitude unit="DEG">   37.86  </latitude>
  <longitude unit="DEG">-122.34  </longitude>
  <phi unit="DEG">         0.0   </phi>
  <theta unit="DEG">      -1.0   </theta>
  <psi unit="DEG">       180.0   </psi>
  <altitude unit="FT">  5500.0   </altitude>
</initialize>
<?xml version="1.0"?>
<initialize name="reset03">
  <!--
    This file sets up the aircraft to climb at 104kt indicated from 400 ft.
  -->
  <vc unit="KTS">        104.0   </vc>
  <latitude unit="DEG">   37.86  </latitude>
  <longitude unit="DEG">-122.34  </longitude>
  <phi unit="DEG">         0.0   </phi>
  <theta unit="DEG">       1.0   </theta>
  <psi unit="DEG">       180.0   </psi>
  <altitude unit="FT">   400.0   </altitude>
</initialize>
// This file instructs the automatic synchronization utilities where to
// install this aircraft and under what name.
//
// The syntax is easy;
// * the package name at the beginning of a new line followed by a colon
// * a space as a column separator
// * the path and filename relative to the aircraft install directory
//
// Currently known package names are: FlightGear

FlightGear:
<?xml version="1.0"?>
<?xml-stylesheet type="text/xsl" href="http://jsbsim.sourceforge.net/JSBSim.xsl"?>
<fdm_config name="Space Shuttle" version="2.0" release="BETA"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:noNamespaceSchemaLocation="http://jsbsim.sourceforge.net/JSBSim.xsd">

    <fileheader>
        <author> Jon Berndt </author>
        <filecreationdate> 2001-01-01 </filecreationdate>
        <version> $Revision: 1.2 $ </version>
        <description> Space Shuttle </description>
        <license>
          <licenseName>GPL (General Public License)</licenseName>
          <licenseURL>http://www.gnu.org/licenses/gpl.html</licenseURL>
        </license>
        <note>
        This model was created using publicly available data, publicly available
        technical reports, textbooks, and guesses. It contains no proprietary or
        restricted data. If this model has been validated at all, it would be
        only to the extent that it seems to "fly right", and that it possibly
        complies with published, publicly known, performance data (maximum speed,
        endurance, etc.). Thus, this model is meant for educational and entertainment
        purposes only.

        This simulation model is not endorsed by the manufacturer. This model is not
        to be sold.
        </note>
    </fileheader>

    <metrics>
        <wingarea unit="FT2"> 2690 </wingarea>
        <wingspan unit="FT"> 78 </wingspan>
        <chord unit="FT"> 39.6 </chord>
        <htailarea unit="FT2"> 0 </htailarea>
        <htailarm unit="FT"> 0 </htailarm>
        <vtailarea unit="FT2"> 0 </vtailarea>
        <vtailarm unit="FT"> 0 </vtailarm>
        <location name="AERORP" unit="IN">
            <x> 1074 </x>
            <y> 0 </y>
            <z> 373 </z>
        </location>
        <location name="EYEPOINT" unit="IN">
            <x> 498 </x>
            <y> -22 </y>
            <z> 469 </z>
        </location>
        <location name="VRP" unit="IN">
            <x> 0 </x>
            <y> 0 </y>
            <z> 0 </z>
        </location>
    </metrics>

    <mass_balance negated_crossproduct_inertia="true">
        <ixx unit="SLUG*FT2"> 953159 </ixx>
        <iyy unit="SLUG*FT2"> 7.46508e+06 </iyy>
        <izz unit="SLUG*FT2"> 7.74758e+06 </izz>
        <ixz unit="SLUG*FT2"> 140307 </ixz>
        <emptywt unit="LBS"> 231300 </emptywt>
        <location name="CG" unit="IN">
            <x> 1080 </x>
            <y> 0 </y>
            <z> 373 </z>
        </location>
    </mass_balance>

    <ground_reactions>
        <contact type="BOGEY" name="NOSE">
            <location unit="IN">
                <x> 375 </x>
                <y> 0 </y>
                <z> 225 </z>
            </location>
            <static_friction> 0.5 </static_friction>
            <dynamic_friction> 0.02 </dynamic_friction>
            <rolling_friction> 0.02 </rolling_friction>
            <spring_coeff unit="LBS/FT"> 150000 </spring_coeff>
            <damping_coeff unit="LBS/FT/SEC"> 10000 </damping_coeff>
            <max_steer unit="DEG"> 15 </max_steer>
            <brake_group> NONE </brake_group>
            <retractable>0</retractable>
        </contact>
        <contact type="BOGEY" name="LEFT_WHEEL">
            <location unit="IN">
                <x> 1172 </x>
                <y> -136 </y>
                <z> 171 </z>
            </location>
            <static_friction> 0.5 </static_friction>
            <dynamic_friction> 0.02 </dynamic_friction>
            <rolling_friction> 0.02 </rolling_friction>
            <spring_coeff unit="LBS/FT"> 150000 </spring_coeff>
            <damping_coeff unit="LBS/FT/SEC"> 10000 </damping_coeff>
            <max_steer unit="DEG"> 0.0 </max_steer>
            <brake_group> LEFT </brake_group>
            <retractable>0</retractable>
        </contact>
        <contact type="BOGEY" name="RIGHT_WHEEL">
            <location unit="IN">
                <x> 1172 </x>
                <y> 136 </y>
                <z> 171 </z>
            </location>
            <static_friction> 0.5 </static_friction>
            <dynamic_friction> 0.02 </dynamic_friction>
            <rolling_friction> 0.02 </rolling_friction>
            <spring_coeff unit="LBS/FT"> 150000 </spring_coeff>
            <damping_coeff unit="LBS/FT/SEC"> 10000 </damping_coeff>
            <max_steer unit="DEG"> 0.0 </max_steer>
            <brake_group> RIGHT </brake_group>
            <retractable>0</retractable>
        </contact>
    </ground_reactions>
    <propulsion>
    </propulsion>
    <flight_control name="X-15 SAS">
        <channel name="Pitch">
            <summer name="Pitch Trim Sum">
                <input>fcs/elevator-cmd-norm</input>
                <input>fcs/pitch-trim-cmd-norm</input>
                <clipto>
                    <min>-1</min>
                    <max>1</max>
                </clipto>
            </summer>

            <aerosurface_scale name="Pitch Command Scale">
                <input>fcs/pitch-trim-sum</input>
                <range>
                    <min>-50</min>
                    <max>50</max>
                </range>
            </aerosurface_scale>

            <pure_gain name="Pitch Gain 1">
                <input>fcs/pitch-command-scale</input>
                <gain>-0.36</gain>
            </pure_gain>

            <scheduled_gain name="Pitch Scheduled Gain 1">
                <input>fcs/pitch-gain-1</input>
                <gain>0.017</gain>
                <table>
                    <independentVar>fcs/elevator-pos-rad</independentVar>
                    <tableData>
                        -0.68  -26.548
                        -0.595 -20.513
                        -0.51  -15.328
                        -0.425 -10.993
                        -0.34   -7.508
                        -0.255  -4.873
                        -0.17   -3.088
                        -0.085  -2.153
                         0      -2.068
                         0.085  -2.833
                         0.102  -3.088
                         0.119  -3.377
                         0.136  -3.7
                         0.153  -4.057
                         0.17   -4.448
                         0.187  -4.873
                         0.272  -7.508
                         0.357 -10.993
                         0.442 -15.328
                         0.527 -20.513
                         0.612 -26.548
                         0.697 -33.433
                    </tableData>
                </table>
            </scheduled_gain>

            <pure_gain name="Pitch SAS Feedback">
                <input>velocities/q-rad_sec</input>
                <gain>0.75</gain>
            </pure_gain>

            <summer name="Elevator Positioning">
                <input>fcs/pitch-scheduled-gain-1</input>
                <input>fcs/pitch-sas-feedback</input>
                <clipto>
                    <min>-0.26</min>
                    <max>0.61</max>
                </clipto>
            </summer>

            <lag_filter name="Elevator Filter">
                <input>fcs/elevator-positioning</input>
                <c1>600</c1>
                <output>fcs/elevator-pos-rad</output>
            </lag_filter>

        </channel>

        <channel name="Roll">

            <aerosurface_scale name="Roll Command Scale">
                <input>fcs/aileron-cmd-norm</input>
                <range>
                    <min>-20</min>
                    <max>20</max>
                </range>
            </aerosurface_scale>

            <pure_gain name="Roll Gain 1">
                <input>fcs/roll-command-scale</input>
                <gain>0.42</gain>
            </pure_gain>

            <pure_gain name="Roll Gain 2">
                <input>fcs/roll-gain-1</input>
                <gain>0.027</gain>
            </pure_gain>

            <pure_gain name="Yaw-Roll Crossover Gain">
                <input>velocities/r-rad_sec</input>
                <gain>-0.9</gain>
            </pure_gain>

            <summer name="Yaw Coupled Aileron Feedback Sum">
                <input>velocities/p-rad_sec</input>
                <input>fcs/yaw-roll-crossover-gain</input>
            </summer>

            <pure_gain name="Roll SAS Gain">
                <input>fcs/yaw-coupled-aileron-feedback-sum</input>
                <gain>-0.5</gain>
            </pure_gain>

            <summer name="Aileron Positioning">
                <input>fcs/roll-gain-2</input>
                <input>fcs/roll-sas-gain</input>
                <clipto>
                    <min>-0.35</min>
                    <max>0.35</max>
                </clipto>
                <output>fcs/left-aileron-pos-rad</output>
            </summer>

        </channel>

        <channel name="Yaw">

            <aerosurface_scale name="Yaw Command Scale">
                <input>fcs/rudder-cmd-norm</input>
                <range>
                    <min>-250</min>
                    <max>250</max>
                </range>
            </aerosurface_scale>

            <pure_gain name="Yaw Gain 1">
                <input>fcs/yaw-command-scale</input>
                <gain>0.082</gain>
            </pure_gain>

            <pure_gain name="Yaw Gain 2">
                <input>fcs/yaw-gain-1</input>
                <gain>0.04</gain>
            </pure_gain>

            <pure_gain name="Yaw SAS Gain">
                <input>velocities/r-rad_sec</input>
                <gain>0.3</gain>
            </pure_gain>

            <summer name="Rudder Positioning">
                <input>fcs/yaw-gain-2</input>
                <input>fcs/yaw-sas-gain</input>
                <clipto>
                    <min>-0.52</min>
                    <max>0.52</max>
                </clipto>
                <output>fcs/rudder-pos-rad</output>
            </summer>
        </channel>
    </flight_control>
    <aerodynamics>

        <axis name="DRAG">
            <function name="aero/coefficient/CDmin">
                <description>Drag_minimum</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <value>0.061</value>
                </product>
            </function>
            <function name="aero/coefficient/CDi">
                <description>Drag_induced</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>aero/cl-squared</property>
                      <table>
                          <independentVar>velocities/mach</independentVar>
                          <tableData>
                              0.0000	0.2000
                              0.5000	0.2000
                              1.0000	0.2300
                              1.5000	0.4000
                              2.0000	0.5000
                              3.0000	0.8000
                              4.0000	0.9300
                              5.0000	1.0500
                              6.0000	1.1500
                              9.0000	1.3300
                          </tableData>
                      </table>
                </product>
            </function>
        </axis>

        <axis name="SIDE">
            <function name="aero/coefficient/CYb">
                <description>Side_force_due_to_beta</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>aero/beta-rad</property>
                    <value>-1.4000</value>
                </product>
            </function>
            <function name="aero/coefficient/CYda">
                <description>Side_force_due_to_aileron</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>fcs/left-aileron-pos-rad</property>
                    <value>-0.0500</value>
                </product>
            </function>
            <function name="aero/coefficient/CYdr">
                <description>Side_force_due_to_rudder</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>fcs/rudder-pos-rad</property>
                    <value>0.4500</value>
                </product>
            </function>
        </axis>

        <axis name="LIFT">
            <function name="aero/coefficient/CLalpha">
                <description>Lift_due_to_alpha</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>aero/alpha-rad</property>
                    <value>6.0000</value>
                </product>
            </function>
            <function name="aero/coefficient/CLDe">
                <description>Lift_due_to_Elevator_Deflection</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>fcs/elevator-pos-rad</property>
                      <table>
                          <independentVar>velocities/mach</independentVar>
                          <tableData>
                              0.0000	1.0000
                              0.6000	1.0500
                              1.0000	1.1500
                              1.2000	1.0000
                              1.6000	0.6600
                              2.0000	0.5000
                              2.4000	0.4000
                              3.0000	0.3100
                              5.6000	0.2100
                              6.0000	0.2000
                              9.0000	0.2000
                          </tableData>
                      </table>
                </product>
            </function>
        </axis>

        <axis name="ROLL">
            <function name="aero/coefficient/Clb">
                <description>Roll_moment_due_to_beta</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>aero/beta-rad</property>
                    <value>-0.0100</value>
                </product>
            </function>
            <function name="aero/coefficient/Clp">
                <description>Roll_moment_due_to_roll_rate_(roll_damping)</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>aero/bi2vel</property>
                    <property>velocities/p-rad_sec</property>
                    <value>-0.3500</value>
                </product>
            </function>
            <function name="aero/coefficient/Clr">
                <description>Roll_moment_due_to_yaw_rate</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>aero/bi2vel</property>
                    <property>velocities/r-rad_sec</property>
                    <value>0.0400</value>
                </product>
            </function>
            <function name="aero/coefficient/Clda">
                <description>Roll_moment_due_to_aileron</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>fcs/left-aileron-pos-rad</property>
                      <table>
                          <independentVar lookup="row">velocities/mach</independentVar>
                          <independentVar lookup="column">position/h-sl-ft</independentVar>
                          <tableData>
                                0.0000	80000.0000
                              0.0000	0.0500	0.0500
                              0.4000	0.0700	0.0500
                              0.6000	0.0800	0.0500
                              1.0000	0.1100	0.0500
                              1.4000	0.0800	0.0600
                              1.6000	0.0700	0.0600
                              2.4000	0.0600	0.0500
                              6.0000	0.0300	0.0200
                          </tableData>
                      </table>
                </product>
            </function>
            <function name="aero/coefficient/Cldr">
                <description>Roll_moment_due_to_rudder</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>fcs/rudder-pos-rad</property>
                    <value>0.0120</value>
                </product>
            </function>
        </axis>

        <axis name="PITCH">
            <function name="aero/coefficient/Cmalpha">
                <description>Pitch_moment_due_to_alpha</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/cbarw-ft</property>
                    <property>aero/alpha-rad</property>
                    <value>-1.2000</value>
                </product>
            </function>
            <function name="aero/coefficient/Cmq">
                <description>Pitch_moment_due_to_pitch_rate</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/cbarw-ft</property>
                    <property>aero/ci2vel</property>
                    <property>velocities/q-rad_sec</property>
                    <value>-6.2000</value>
                </product>
            </function>
            <function name="aero/coefficient/Cmadot">
                <description>Pitch_moment_due_to_alpha_rate</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/cbarw-ft</property>
                    <property>aero/ci2vel</property>
                    <property>aero/alphadot-rad_sec</property>
                    <value>0.0000</value>
                </product>
            </function>
            <function name="aero/coefficient/CmM">
                <description>Pitch_moment_due_to_Mach</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/cbarw-ft</property>
                    <property>velocities/mach</property>
                      <table>
                          <independentVar lookup="row">velocities/mach</independentVar>
                          <independentVar lookup="column">position/h-sl-ft</independentVar>
                          <tableData>
                                0.0000	40000.0000	60000.0000	80000.0000
                              0.0000	0.0000	0.0000	0.0000	0.0000
                              0.6000	0.0000	-0.0100	-0.0100	0.0000
                              0.8000	0.0000	-0.1300	-0.1300	0.0000
                              1.0000	0.0000	-0.1100	-0.1800	0.0000
                              1.1000	0.0000	-0.1600	-0.1800	0.0000
                              1.2000	0.0000	-0.2500	-0.1700	0.0000
                              1.4000	0.0000	-0.0600	-0.1500	0.0000
                              1.7000	0.0000	-0.0300	-0.0300	0.0000
                              2.0000	0.0000	-0.0100	-0.0100	0.0000
                              9.0000	0.0000	0.0000	0.0000	0.0000
                          </tableData>
                      </table>
                </product>
            </function>
            <function name="aero/coefficient/Cmde">
                <description>Pitch_moment_due_to_elevator_deflection</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/cbarw-ft</property>
                    <property>fcs/elevator-pos-rad</property>
                      <table>
                          <independentVar>velocities/mach</independentVar>
                          <tableData>
                              0.0000	-0.5200
                              0.2500	-0.5200
                              2.0000	-0.1900
                              8.0000	-0.0370
                          </tableData>
                      </table>
                </product>
            </function>
        </axis>

        <axis name="YAW">
            <function name="aero/coefficient/Cnb">
                <description>Yaw_moment_due_to_beta</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>aero/beta-rad</property>
                    <value>0.5000</value>
                </product>
            </function>
            <function name="aero/coefficient/Cnp">
                <description>Yaw_moment_due_to_roll_rate</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>aero/bi2vel</property>
                    <property>velocities/p-rad_sec</property>
                    <value>0.0000</value>
                </product>
            </function>
            <function name="aero/coefficient/Cnr">
                <description>Yaw_moment_due_to_yaw_rate</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>aero/bi2vel</property>
                    <property>velocities/r-rad_sec</property>
                    <value>-1.5000</value>
                </product>
            </function>
            <function name="aero/coefficient/Cnda">
                <description>Yaw_moment_due_to_aileron</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>fcs/left-aileron-pos-rad</property>
                    <value>0.0400</value>
                </product>
            </function>
            <function name="aero/coefficient/Cndr">
                <description>Yaw_moment_due_to_rudder</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>fcs/rudder-pos-rad</property>
                    <value>-0.3000</value>
                </product>
            </function>
        </axis>
    </aerodynamics>
</fdm_config>
<?xml version="1.0"?>
<initialize name="reset00">
  <!--
    This file sets up the aircraft to start off
    from the runway in preparation for takeoff.
  -->
  <ubody unit="FT/SEC"> 2000.0  </ubody>
  <vbody unit="FT/SEC">    0.0  </vbody>
  <wbody unit="FT/SEC">    0.0  </wbody>
  <latitude unit="DEG">   53.0  </latitude>
  <longitude unit="DEG">-110.0  </longitude>
  <phi unit="DEG">         0.0  </phi>
  <theta unit="DEG">       0.0  </theta>
  <psi unit="DEG">        90.0  </psi>
  <altitude unit="FT"> 80000.0  </altitude>
</initialize>

// This file instructs the automatic synchronization utilities where to
// install this aircraft and under what name.
//
// The syntax is easy;
// * the package name at the beginning of a new line followed by a colon
// * a space as a column separator
// * the path and filename relative to the aircraft install directory
//
// Currently known package names are: FlightGear

// Updating the Submarine_Scout needs to be done manually due to
// property tree differencies between JSBSim/CVS and FlightGear/CVS.
//FlightGear:
<?xml version="1.0"?>
<!--

  Submarine Scout airship flight model for JSBSim.

    Copyright (C) 2007 - 2024  Anders Gidenstam  (anders(at)gidenstam.org)

    This program is free software; you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation; either version 2 of the License, or
    (at your option) any later version.
  
    This program is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.
  
    You should have received a copy of the GNU General Public License
    along with this program; if not, write to the Free Software
    Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA
  
-->
<?xml-stylesheet type="text/xsl" href="http://jsbsim.sourceforge.net/JSBSim.xsl"?>
<fdm_config name="SubmarineScout" version="2.0" release="ALPHA"
 xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
 xsi:noNamespaceSchemaLocation="http://jsbsim.sourceforge.net/JSBSim.xsd">

 <fileheader>

  <description>Submarine Scout Zero class airship for JSBSim.</description>

  <author>Anders Gidenstam</author>
  <email>anders at gidenstam dot org</email>

  <filecreationdate>2007-02-11</filecreationdate>
  <version>2024-01-10</version>

  <license>
   <licenseName>GPL v2+</licenseName>
   <licenseURL>http://www.gnu.org/licenses/old-licenses/gpl-2.0.html</licenseURL>
  </license>
  <note>
   This model was created using publicly available data, publicly available
   technical reports, textbooks, and guesses. It contains no proprietary or
   restricted data. It has been validated only to the extent that it may seem
   to "fly right", and possibly to comply to published, publicly known,
   performance data (maximum speed, endurance, etc.).

   This model is distributed in the hope that it will be useful,
   but WITHOUT ANY WARRANTY; without even the implied warranty of
   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
   GNU General Public License for more details.
  </note>

  <reference refID="ADA:1917:Handbook"
             author="Air Department Admirality"
             title="Handbook on S.S. Type Airships; Facsimile; ISBN 1-84574-281-8"
             date="1917"/>
  <reference refID="Freeman:1932:Akron"
             author="Hugh B. Freeman"
             title="Force Measurements on a 1/40-scale Model of the U.S. Airship ``Akron'';  NACA Report #432"
             date="1932"/>
  <reference refID="Mowthrope:1998:Battlebags"
             author="Ces Mowthorpe"
             title="Battlebags  British Airships of the First World War"
             date="1998"/>
  <reference refID="VentryKo:1982:AS"
             author="Lord Ventry and Eugene M. Kolesnik"
             title="Airship Saga;  ISBN 0 7137 1001 2"
             date="1982"/>
  <reference refID="WD:1941:AATM"
             author="War Department"
             title="Airship Aerodynamics  Technical Manual; TM 1-310;  ISBN 1-4102-0614-9"
             date="1941"/>
  <reference refID="Whale:1919:BA"
             author="George Whale"
             title="British Airships: Past, Present and Future;  http://www.gutenberg.org"
             date="1919"/>
 </fileheader>

 <!--
 ==== Metrics ===============================================================
 -->

 <metrics>

  <documentation>
   NOTE: The center of the bow of the envelope is the origo of
         the body coordinate system.
         x/y/z = back/right/up

         The nose of the car is at (13.70, 0.0, -6.85) m
  </documentation>

  <documentation>
   According to [Whale:1919:BA] the horizontal and vertical fins of a
   S.S. B.E.2C ship were of the same size and measured 16' by 8'6" and 
   the rudder/elevators measured 4' by 8'6" each.
   The vertical fin of a S.S. Zero might be longer.

   Total gas volume vol = 70000 ft^3 = 1982.2 m^3.

   Performance numbers from [Whale:1919:BA]:
    - Max speed
      - S.S. B.E.2C:            40 - 50.5 mph
      - S.S. Maurice Farman:    "slightly slower"
      - S.S. Zero               45 mph
    - Endurance
      - S.S. Zero:              expected 17 hours. Record: 50:55
  </documentation>

  <documentation>
   From [AHT,
   http://www.aht.ndirect.co.uk/airships/Technical%20Spec/SSZ%20Airship.htm]:

    Envelope capacity       70,000 cubic feet
    Ballonets               Ballonets (two) capacity 19,600 cubic feet
    Length                  143 feet 5 inches
    Diameter                30 feet
    Height                  46 feet
    Plane area (each)       110 square feet
    Car                     boat-shaped, streamlined,length 17 feet 6 inches
    Engine                  75 hp Rolls Royce
    Propeller               Four-bladed 9 feet diameter
    Petrol tanks            (two) capacity ;120 (UK?) gallons total
    Water ballast           capacity 26 gallons
    Gross lift              2.2 tons
    Disposable lift         0.6 tons
    Endurance at full speed 17 hours
    Top speed               53 mph
    Climb                   1,200 feet per minute
    Turning circle          40 seconds minimum, 230 diameter
  </documentation>

  <wingarea unit="M2">  65.0 </wingarea>  <!-- Cross-sectional area.-->
  <wingspan unit="M">    9.1 </wingspan>  <!-- Envelope diameter. -->
  <chord unit="M">      43.7 </chord>     <!-- Envelope length. -->
  <htailarea unit="M2"> 25.27 </htailarea>
  <htailarm unit="M">   12.15 </htailarm> <!-- From CG. -->
  <vtailarea unit="M2"> 12.64 </vtailarea>
  <vtailarm unit="M">   12.15 </vtailarm> <!-- From CG. -->
  <!-- Total gas volume vol = 70000 ft^3 = 1982.2 m^3 -->

  <!-- Aerodynamic Reference Point. -->
  <location name="AERORP" unit="M">
   <x> 20.0 </x>
   <y> 0.0 </y>
   <z> 0.0 </z>
  </location>

  <location name="EYEPOINT" unit="M">
   <x> 16.1 </x>
   <y>  0.0 </y>
   <z> -6.4 </z>
  </location>

  <!-- Visual Reference Point -->
  <location name="VRP" unit="M">
   <x> 13.7  </x>
   <y>  0.0  </y>
   <z> -6.85 </z>
  </location>

 </metrics>

 <!--
 ==== Mass balance =========================================================
 -->

 <mass_balance>

  <documentation>
   According to [VentryKo:1982:AS] the SS Zero class had a useful lift
   of 1344lbs (~610kg). Considering that the lift of 1 m^3 hydrogen
   approximately is 1 kg that leaves 1370kg of lift for the structure
   itself.
  </documentation>

  <emptywt unit="KG"> 733.50 </emptywt>

  <documentation>
   The empty weight is estimated to consist of:
    - The weight of the envelope (70000 ft^3),
      which according to [ADA:1917:Handbook] consists of
      - Fabric
        - Envelope        1143 lb
        - Ballonets        263 lb
      - Envelope fittings   99 lb
      - Rigging            112 lb
   Not included in the empty weight here:
      - Planes (3)         294 lb
   Total with 3 planes    1911 lb
   Total with 4 planes    2009 lb

   The car, engine and planes will be added as point masses.
  </documentation>

  <documentation>
   % Very rough estimation model of the empty weight CG and inertia tensor.
   % Assume the empty weight of is to 100% a cylindrical shell.

   m = 733.5   % KG
   r = 4.5     % meter
   l = 43.7    % meter

   % Very rough estimate of center of gravity (based on the inertial estimate):
   CGx = 0
   CGy = 0
   CGz = 0

   % Steiners theorem:
   % Ixx = \bar{Ixx} + m sqrt(\bar{y}^2 + \bar{z}^2)
   % Ixy = \bar{Ixy} + m \bar{x} \bar{y}

   % Very rough estimation model of Ixx, Iyy and Izz relative the CG.
   Ixx = m * r^2
         
   Iyy = 1/2*m * r^2 + 1/12*m*l^2

   Izz = 1/2*m * r^2 + 1/12*m*l^2

   Ixy = 0
   Ixz = 0
   Iyz = 0

  </documentation>

  <ixx unit="KG*M2">  14853.0 </ixx>
  <iyy unit="KG*M2"> 124160.0 </iyy>
  <izz unit="KG*M2"> 124160.0 </izz>
  <ixy unit="KG*M2">      0.0 </ixy>
  <ixz unit="KG*M2">      0.0 </ixz>
  <iyz unit="KG*M2">      0.0 </iyz>

  <location name="CG" unit="M">
   <x> 21.850 </x>
   <y>  0.000 </y>
   <z>  0.000 </z>
  </location>

  <!--
  === Ballast ================================================
  -->
  <documentation>
   Ballast for a S.S. B.E.2C according to [Whale:1919:BA]:
    - Water ballast tank
      - Located immediatly behind pilot
      - Capacity 14 gallons.
  </documentation>

  <!-- Experimental ballast setup. -->
  <!-- Center ballast -->
  <pointmass name="Ballast_Center">
   <!-- According to the AHT this should be max 100 kg -->
   <location unit="M">
    <x> 17.22 </x>
    <y>  0.0  </y>
    <z> -7.20 </z>
   </location>
   <weight unit="KG"> 100 </weight>
  </pointmass>

  <!--
       Ballast tanks for fine tuning the CG.
       These are controlled by the FCS.
       The weight in these are unaccounted for!
       NOTE: The combined weight is set in the FCS.
  -->
  <!-- Forward ballast -->
  <pointmass name="Ballast_Forward">
   <location unit="M">
    <x> 0.0 </x>
    <y> 0.0 </y>
    <z> -1.0 </z>
   </location>
   <weight unit="KG"> 0.0 </weight>
  </pointmass>
  <!-- Aft ballast -->
  <pointmass type="Ballast_Aft">
   <location unit="M">
    <x> 43.7 </x>
    <y> 0.0 </y>
    <z> -1.0 </z>
   </location>
   <weight unit="KG"> 0.0 </weight>
  </pointmass>

  <!--
  === Armament ===============================================
  -->
  <documentation>
   According to [VentryKo:1982:AS] page 44 these ships normally carried
   two 65lb bombs set as depth charges.

   According to [Mowthrope:1998:Battlebags] the SSZ type could carry either
   two 110lb or one 250lb bomb on each side of the car.

   The inspiration for my bomb model appears to be a 110lb bomb
   from a photo of the car of SSZ.27.
  </documentation>
  <pointmass name="Bomb1">
   <weight unit="LBS"> 110.0 </weight>
   <location name="POINTMASS" unit="M">
    <x> 17.00 </x>
    <y> -0.57 </y>
    <z> -7.35 </z>
   </location>
  </pointmass>
  <pointmass name="Bomb2">
   <weight unit="LBS"> 110.0 </weight>
   <location name="POINTMASS" unit="M">
    <x> 17.00 </x>
    <y>  0.57 </y>
    <z> -7.35 </z>
   </location>
  </pointmass>

  <!--
  === Crew ===================================================
  -->
  <pointmass name="Crew 1 Observer">
   <weight unit="KG"> 85.0 </weight>
   <location name="POINTMASS" unit="M">
    <x> 14.9  </x>
    <y>  0.0  </y>
    <z> -6.85 </z>
   </location>
  </pointmass>
  <pointmass name="Crew 2 Pilot">
   <weight unit="KG"> 85.0 </weight>
   <location name="POINTMASS" unit="M">
    <x> 16.17 </x>
    <y>  0.0  </y>
    <z> -6.85 </z>
   </location>
  </pointmass>
  <pointmass name="Crew 3 Mechanic">
   <weight unit="KG"> 85.0 </weight>
   <location name="POINTMASS" unit="M">
    <x> 17.22 </x>
    <y>  0.0  </y>
    <z> -6.85 </z>
   </location>
  </pointmass>

  <!--
  === Other point masses =====================================
  -->
  <documentation>
   According to [Whale:1919:BA] the engine of a S.S. B.E.2C
   (also 75h.p. but air cooled) weighed 438lb.
  </documentation>
  <documentation>
   According to [ADA:1917:Handbook] the water cooled 100hp Green engine
   of the S.S. Armstrong-Whitworth was 601 lb including carburettor,
   exhaust pipe, radiator and cooling water. 714 lb complete including
   fuel tanks (and propeller a 46 lb?).
  </documentation>

  <pointmass name="Engine">
   <weight unit="LBS"> 601.0 </weight>
   <location name="POINTMASS" unit="M">
    <x> 18.60 </x>
    <y>  0.00 </y>
    <z> -6.10 </z>
   </location>
  </pointmass>

  <documentation>
   According to [ADA:1917:Handbook] the empty weight of a complete car of a
   S.S. Maurice Farman was 1150 lb including engine (516 + 35 lb),
   wireless and bomb racks.
  </documentation>

  <pointmass name="Car">
   <weight unit="LBS"> 599.0 </weight>
   <location name="POINTMASS" unit="M">
    <x> 16.20 </x>
    <y>  0.00 </y>
    <z> -7.85 </z>
   </location>
  </pointmass>

 </mass_balance>

 <!--
 === Gas cell ==============================================================
 -->
 <buoyant_forces>

  <documentation>
   NOTE: The cell is placed based on the envelope centroid location
         as computed by BRLCAD.
         The automatic valves are implemented using a system.
  </documentation>
  <documentation>
   Envelope and gas control for a S.S. B.E.2C according to [Whale:1919:BA]:
    - Ripping panel at the top of the envelope towards the front
      - 14'5" by 8'
    - Nose stiffeners: 24
    - 2 Ballonets
      - capacity 6,375 feet^3 each
      - automatic spring valves set to open at 25 - 28mm water.
    - 2 gas valves one at the bottom and one at the top of the envelope
      - Bottom valve automatically opens at 30 - 35mm water pressure.
      - Top valve is manual only
  </documentation>
  <documentation>
   Envelope and ballonet volumes according to [Mowthrope:1998:Battlebags]:
    - Envelope    70,000 feet^3
    - 2 Ballonets  9,800 feet^3 each
  </documentation>

  <!-- External environment properties -->
  <property> environment/sun-angle-rad </property>
  <property> environment/sun-radiation-norm </property>

  <!-- Forward declaration of ballonet inflow properties -->
  <property value="0.0">ballonets/in-flow-ft3ps[0]</property>
  <property value="0.0">ballonets/in-flow-ft3ps[1]</property>

  <gas_cell type="HYDROGEN">
   <location unit="M">
    <x> 18.8 </x>
    <y> 0.0 </y>
    <z> 0.0 </z>
   </location>
   <x_radius unit="M"> 22.86 </x_radius>
   <y_radius unit="M">  4.55 </y_radius>
   <z_radius unit="M">  4.55 </z_radius>
   <max_overpressure unit="PA"> 395.0 </max_overpressure>
   <valve_coefficient unit="M4*SEC/KG"> 0.0075 </valve_coefficient>
   <fullness>0.90</fullness>

   <!-- heat exchange with the environment. [lb ft / sec] -->
   <!-- Note: The surface area of an ellipsiod is approximately
              4*pi*((a^p*b^p + a^p*c^p + b^p*c^p)/3)^(1/p)
              where p=1.6075
   -->
   <heat>
    <!-- Heat transfer due to temperature difference. -->
    <function name="buoyant_forces/gas-cell/dU_conduction">
     <product>
      <value> 11186.0 </value> <!-- Surface area [ft2] -->
      <value>    0.05 </value> <!-- Conductivity [lb / (K ft sec)] (Guess) -->
      <difference>
       <property> atmosphere/T-R </property>
       <property> buoyant_forces/gas-cell/temp-R </property>
      </difference>
     </product>
    </function>
    <function name="buoyant_forces/gas-cell/dU_radiation">
     <product>
      <value> 0.1714e-8 </value> <!-- Stefan-Boltzmann's constant
                                      [Btu / (h ft^2 R^4)] -->
      <value>       0.2 </value> <!-- Emissivity [0,1] (Guess) -->
      <value>   11186.0 </value> <!-- Surface area [ft2] -->
      <difference>
       <pow>
        <property> atmosphere/T-R </property>
        <value> 4.0 </value>
       </pow>
       <pow>
        <property> buoyant_forces/gas-cell/temp-R </property>
        <value> 4.0 </value>
       </pow>
      </difference>
     </product>
    </function>
    <!-- Heat gain due to solar radiation. Pure guess work. -->
    <function name="buoyant_forces/gas-cell/dU_sun">
     <product>
      <value>   7.2330 </value> <!-- Conversion to [lb ft / s] -->
      <value>   326.80 </value> <!-- Estimated projected surface area [m2] -->
      <value>  1300.00 </value> <!-- Solar energy flow [W/m2] -->
      <value>     0.01 </value> <!-- Guess -->
      <property> environment/sun-radiation-norm </property>
      <max>
       <value> 0.0 </value>
       <difference>
        <value> 1.5708 </value>
        <property> environment/sun-angle-rad </property>
       </difference>
      </max>
     </product>
    </function>

   </heat>

   <!-- Forward ballonet -->
   <ballonet type="AIR">
    <location unit="M">
     <x>  8.8 </x>
     <y>  0.0 </y>
     <z> -3.1 </z>
    </location>
    <x_radius unit="M">  6.45 </x_radius>
    <y_radius unit="M">  3.00 </y_radius>
    <z_radius unit="M">  2.23 </z_radius>
    <max_overpressure unit="PA"> 295.0 </max_overpressure>
    <valve_coefficient unit="M4*SEC/KG"> 0.01 </valve_coefficient>
    <fullness>0.15</fullness>
    <heat>
     <!-- Heat transfer due to temperature difference. -->
     <function name="buoyant_forces/gas-cell/ballonet[0]/dU_conduction">
      <product>
       <value> 5916.06 </value> <!-- Surface area [ft2] -->
       <value>    0.05 </value> <!-- Conductivity [lb / (K ft sec)] (Guess) -->
       <difference>
        <property> buoyant_forces/gas-cell/temp-R </property>
        <property> buoyant_forces/gas-cell/ballonet[0]/temp-R </property>
       </difference>
      </product>
     </function>
     <function name="buoyant_forces/gas-cell/ballonet[0]/dU_radiation">
      <product>
       <value> 0.1714e-8 </value> <!-- Stefan-Boltzmann's constant
                                       [Btu / (h ft^2 R^4)] -->
       <value>       0.2 </value> <!-- Emissivity [0,1] (Guess) -->
       <value>   5916.06 </value> <!-- Surface area [ft2] -->
       <difference>
        <pow>
         <property> buoyant_forces/gas-cell/temp-R </property>
         <value> 4.0 </value>
        </pow>
        <pow>
         <property> buoyant_forces/gas-cell/ballonet[0]/temp-R </property>
         <value> 4.0 </value>
        </pow>
       </difference>
      </product>
     </function>
    </heat>
    <blower_input>
     <function name="buoyant_forces/gas-cell/ballonet[0]/in-flow-ft3ps">
      <property>ballonets/in-flow-ft3ps[0]</property>
     </function>
    </blower_input>
   </ballonet>
   <!-- Aft ballonet -->
   <ballonet type="AIR">
    <location unit="M">
     <x> 34.0 </x>
     <y>  0.0 </y>
     <z> -2.0 </z>
    </location>
    <x_radius unit="M">  7.55 </x_radius>
    <y_radius unit="M">  2.85 </y_radius>
    <z_radius unit="M">  2.00 </z_radius>
    <max_overpressure unit="PA"> 295.0 </max_overpressure>
    <valve_coefficient unit="M4*SEC/KG"> 0.01 </valve_coefficient>
    <fullness>0.15</fullness>
    <heat>
     <!-- Heat transfer due to temperature difference. -->
     <function name="buoyant_forces/gas-cell/ballonet[1]/dU_conduction">
      <product>
       <value> 6557.48 </value> <!-- Surface area [ft2] -->
       <value>    0.05 </value> <!-- Conductivity [lb / (K ft sec)] (Guess) -->
       <difference>
        <property> buoyant_forces/gas-cell/temp-R </property>
        <property> buoyant_forces/gas-cell/ballonet[1]/temp-R </property>
       </difference>
      </product>
     </function>
     <function name="buoyant_forces/gas-cell/ballonet[1]/dU_radiation">
      <product>
       <value> 0.1714e-8 </value> <!-- Stefan-Boltzmann's constant
                                       [Btu / (h ft^2 R^4)] -->
       <value>       0.2 </value> <!-- Emissivity [0,1] (Guess) -->
       <value>   6557.48 </value> <!-- Surface area [ft2] -->
       <difference>
        <pow>
         <property> buoyant_forces/gas-cell/temp-R </property>
         <value> 4.0 </value>
        </pow>
        <pow>
         <property> buoyant_forces/gas-cell/ballonet[1]/temp-R </property>
         <value> 4.0 </value>
        </pow>
       </difference>
      </product>
     </function>
    </heat>
    <blower_input>
     <function name="buoyant_forces/gas-cell/ballonet[1]/in-flow-ft3ps">
      <property>ballonets/in-flow-ft3ps[1]</property>
     </function>
    </blower_input>
   </ballonet>

  </gas_cell>

 </buoyant_forces>

 <!--
 ==== Ground reactions ======================================================
 -->

 <ground_reactions>

  <!--
  === Landing gears ===================================================
  -->
  <contact type="BOGEY" name="CAR_KEEL_FRONT">
   <location unit="M">
    <x>  14.7 </x>
    <y>   0.0 </y>
    <z>  -8.2 </z>
   </location>
   <static_friction>  1.0 </static_friction>
   <dynamic_friction> 2.0 </dynamic_friction>
   <rolling_friction> 0.8 </rolling_friction>
   <spring_coeff unit="N/M"> 50000 </spring_coeff>
   <damping_coeff unit="N/M/SEC"> 10000 </damping_coeff>
   <max_steer unit="DEG"> 0.0 </max_steer>
   <brake_group> NONE </brake_group>
   <retractable>0</retractable>
  </contact>

  <contact type="BOGEY" name="CAR_KEEL_MIDDLE">
   <location unit="M">
    <x>  16.6 </x>
    <y>   0.0 </y>
    <z>  -8.2 </z>
   </location>
   <static_friction>  1.0 </static_friction>
   <dynamic_friction> 2.0 </dynamic_friction>
   <rolling_friction> 0.8 </rolling_friction>
   <spring_coeff unit="N/M"> 50000 </spring_coeff>
   <damping_coeff unit="N/M/SEC"> 10000 </damping_coeff>
   <max_steer unit="DEG"> 0.0 </max_steer>
   <brake_group> NONE </brake_group>
   <retractable>0</retractable>
  </contact>

  <contact type="BOGEY" name="CAR_KEEL_AFT">
   <location unit="M">
    <x>  18.4 </x>
    <y>   0.0 </y>
    <z>  -8.2 </z>
   </location>
   <static_friction>  1.0 </static_friction>
   <dynamic_friction> 2.0 </dynamic_friction>
   <rolling_friction> 0.8 </rolling_friction>
   <spring_coeff unit="N/M"> 50000 </spring_coeff>
   <damping_coeff unit="N/M/SEC"> 10000 </damping_coeff>
   <max_steer unit="DEG"> 0.0 </max_steer>
   <brake_group> NONE </brake_group>
   <retractable>0</retractable>
  </contact>

  <!--
  === Other contact points ============================================
  -->
  <!-- These should induce structural failure. -->
  <contact type="STRUCTURE" name="NOSE">
   <location unit="M">
    <x> 0.0 </x>
    <y> 0.0 </y>
    <z> 0.0 </z>
   </location>
   <static_friction>  0.2 </static_friction>
   <dynamic_friction> 0.2 </dynamic_friction>
   <rolling_friction> 0.2 </rolling_friction>
   <spring_coeff unit="N/M">      100000 </spring_coeff>
   <damping_coeff unit="N/M/SEC">  20000 </damping_coeff>
   <max_steer unit="DEG"> 0.0 </max_steer>
   <brake_group> NONE </brake_group>
   <retractable>0</retractable>
  </contact>

  <contact type="STRUCTURE" name="TAIL">
   <location unit="M">
    <x> 43.7 </x>
    <y>  0.0 </y>
    <z>  0.0 </z>
   </location>
   <static_friction>  0.2 </static_friction>
   <dynamic_friction> 0.2 </dynamic_friction>
   <rolling_friction> 0.2 </rolling_friction>
   <spring_coeff unit="N/M">      100000 </spring_coeff>
   <damping_coeff unit="N/M/SEC">  20000 </damping_coeff>
   <max_steer unit="DEG"> 0.0 </max_steer>
   <brake_group> NONE </brake_group>
   <retractable>0</retractable>
  </contact>

  <contact type="STRUCTURE" name="TAIL_FIN">
   <location unit="M">
    <x> 35.6 </x>
    <y>  0.0 </y>
    <z> -5.6 </z>
   </location>
   <static_friction>  0.2 </static_friction>
   <dynamic_friction> 0.2 </dynamic_friction>
   <rolling_friction> 0.2 </rolling_friction>
   <spring_coeff unit="N/M">      100000 </spring_coeff>
   <damping_coeff unit="N/M/SEC">  20000 </damping_coeff>
   <max_steer unit="DEG"> 0.0 </max_steer>
   <brake_group> NONE </brake_group>
   <retractable>0</retractable>
  </contact>

  <contact type="BOGEY" name="CAR_FRONT">
   <location unit="M">
    <x>  13.7 </x>
    <y>   0.0 </y>
    <z>  -6.85 </z>
   </location>
   <static_friction>  0.5 </static_friction>
   <dynamic_friction> 0.5 </dynamic_friction>
   <rolling_friction> 0.5 </rolling_friction>
   <spring_coeff unit="N/M"> 25000 </spring_coeff>
   <damping_coeff unit="N/M/SEC"> 10000 </damping_coeff>
   <max_steer unit="DEG"> 0.0 </max_steer>
   <brake_group> NONE </brake_group>
   <retractable>0</retractable>
  </contact>

 </ground_reactions>

 <!--
 ==== Propulsion ============================================================
 -->

 <propulsion>
 
  <!--
  === Engine ================================================
  -->
  
  <documentation>
   Propulsion installation information for S.S. Zero from [Whale:1919:BA]:
    - Water-cooled Rolls Royce Hawk
      - 75hp
      - 4 bladed pusher propeller.
        - 9 foot diameter according to [AHT, www.aht.ndirect.co.uk].
      - Weight?
    - Petrol tanks.
      - "The petrol is carried in aluminium tanks slung
        on the axis of the envelope, identically with the system in use
        on the S.S.P's."
      What axis? Photos indicate one on each side of the envelope
      roughly above the engine.
      - Capacity? S.S. B.E.2C: 60 (UK?) gallons.
      - 2 tanks. Total capacity 120 (UK?) gallons [AHT, www.aht.ndirect.co.uk].
      - 2, 4 or 6 tanks for S.S.Zero [Mowthrope:1998:Battlebags] (at 60 gal UK?)
  </documentation>

  <!-- Engine -->
  <engine file="eng_RRhawk">
   <feed>0</feed>
   <feed>1</feed>
   <thruster file="prop_SSZ">
    <location unit="M">
     <x> 19.05 </x>
     <y>  0.00 </y>
     <z> -6.10 </z>
    </location>
    <orient unit="DEG">
     <roll>  0.0 </roll>
     <pitch> 0.0 </pitch>
     <yaw>   0.0 </yaw>
    </orient>
   </thruster>
  </engine>

  <!--
  === Fuel tanks ============================================
  -->
  <tank type="FUEL">
   <location unit="M">
    <x> 17.26 </x>
    <y> -4.50 </y>
    <z>  0.0 </z>
   </location>
   <!-- 196.39 kg for 60 UK gallon at AVGAS density 0.72 kg/liter. -->
   <capacity unit="KG"> 196.39 </capacity>
   <contents unit="KG"> 196.39 </contents>
  </tank>
  <tank type="FUEL">
   <location unit="M">
    <x> 17.26 </x>
    <y>  4.50 </y>
    <z>  0.0  </z>
   </location>
   <!-- 196.39 kg for 60 UK gallon at AVGAS density 0.72 kg/liter. -->
   <capacity unit="KG"> 196.39 </capacity>
   <contents unit="KG"> 196.39 </contents>
  </tank>

 </propulsion>

 <!--
 ==== Instrumentation =======================================================
 -->
 <system name="Instrumentation">

  <documentation>
   Instrumentation for a S.S. B.E.2C according to [Whale:1919:BA]:
   Pilot:
    - watch
    - air-speed indicator graduated in knots
    - aneroid (pressure altimeter) reading to 10,000 feet.
    - Elliot revolution counter (tachometer?)
    - Clift inclinometer reading up to 20 degrees depression or elevation.
    - map case
    - oil pressure gauge
    - petrol pressure gauge
    - glass petrol level
    - two concentric glass pressure gauges for gas pressure
    - Compass mounted on a small wooden pedestal in front of the pilot.
    - Controls:
      - rudder pedals
      - elevator wheel mounted in a fore-aft direction across the seat (?)
      - Valve cord to top gas valve
      - Valve cords to the ballonet valves(?)
      - Rip cord

   Observer/Wireless operator:
    - radio w. range up to 50-60 miles.
    - Lewis machine gun 
  </documentation>

  <channel name="Instruments">

   <fcs_function name="instrumentation/gas-pressure-psf[0]">
    <function>
     <difference>
      <property> buoyant_forces/gas-cell/pressure-psf </property>
      <property> atmosphere/P-psf </property>
     </difference>
    </function>
    <!-- output>/instrumentation/gas-manometer[0]/gas-pressure-psf</output -->
   </fcs_function>

   <fcs_function name="instrumentation/gas-pressure-psf[1]">
    <function>
     <difference>
      <property> buoyant_forces/gas-cell/pressure-psf </property>
      <property> atmosphere/P-psf </property>
     </difference>
    </function>
    <!-- output>/instrumentation/gas-manometer[1]/gas-pressure-psf</output -->
   </fcs_function>

  </channel>
 </system>

 <!--
 ==== Animation control =====================================================
 -->
 <!-- system name="Animation">

  <channel name="Envelope">

   <fcs_function name="animation/envelope-shape-norm">
    <function>
     <max>
      <value> 0.0 </value>
      <min>
       <value> 1.0 </value>
       <quotient>
        <property> instrumentation/gas-pressure-psf </property>
        <value> 3.50 </value> --><!-- about 17mm water. --><!--
       </quotient>
      </min>
     </max>
    </function>
    <output> /sim/multiplay/generic/float[0] </output>
   </fcs_function>

  </channel>

 </system -->

 <!--
 ==== Flight control system =================================================
 -->
 <system file="Submarine_Scout_crew_ap">
  <limitation>
   The real aircraft did not have any autopilot. This autopilot is
   mostly intended for scripted flights in JSBSim/standalone.
   The autopilot is only minimally tuned.
  </limitation>
 </system>

 <system file="air-and-gas-control">

  <documentation>
   "Two ballonets are provided, one forward and one aft, the capacity
   of each being 6,375 cubic feet.  The supply of air for filling
   these is taken from the propeller draught by a slanting aluminium
   tube to the underside of the envelope, where it meets a
   longitudinal fabric hose which connects the two ballonet air
   inlets.  Non-return fabric valves known as crab-pots are fitted in
   this fabric hose on either side of their junction with the air
   scoop.  Two automatic air valves are fitted to the underside of the
   envelope, one for each ballonet.  The air pressure tends to open
   the valve instead of keeping it shut and to counteract this the
   spring of the valve is inside the envelope.  The springs are set to
   open at a pressure of 25 to 28 mm."  [Whale:1919:BA] on the S.S.B.E. 2C.

   "The valve cords are led to the pilot's seat through eyes attached
   to the envelope."  [Whale:1919:BA] on the S.S.B.E. 2C.

   "Two gas valves are also fitted, one on the top of the envelope,
   the other at the bottom.  The bottom gas valve spring is set to
   open at 30 to 35 mm. pressure, the top valve is hand controlled
   only."   [Whale:1919:BA] on the S.S.B.E. 2C.

   "One ripping panel is fitted, which is situated on the top of the
   envelope towards the nose.  It has a length of 14 feet 5 inches and
   a breadth of about 8 inches."  [Whale:1919:BA] on the S.S.B.E. 2C.
  </documentation>
  <limitation>
   The slip stream pressure calculation does not take the direction of the
   relative wind into account.
  </limitation>

 </system>

 <flight_control name="Aerodynamic controls">

  <!--
  === Pitch ==================================================
  -->
  <channel name="Pitch">
   <summer name="fcs/pitch-trim-sum">
    <input>fcs/elevator-cmd-norm</input>
    <input>fcs/pitch-trim-cmd-norm</input>
    <input>ap/elevator-cmd-norm</input>
    <clipto>
     <min>-1</min>
     <max>1</max>
    </clipto>
   </summer>

   <aerosurface_scale name="fcs/elevator/pos-rad">
    <input>fcs/pitch-trim-sum</input>
    <gain>0.5236</gain>
    <domain>
     <min>-1</min>
     <max>1</max>
    </domain>
    <range>
     <min>-0.5236</min>
     <max>0.5236</max>
    </range>
    <output>fcs/elevator-pos-rad</output>
   </aerosurface_scale>

   <aerosurface_scale name="fcs/elevator/pos-norm">
    <input>fcs/elevator-pos-rad</input>
    <gain>1.9099</gain>
    <domain>
     <min>-0.5236</min>
     <max>0.5236</max>
    </domain>
    <range>
     <min>-1</min>
     <max>1</max>
    </range>
    <output>fcs/elevator-pos-norm</output>
   </aerosurface_scale>
  </channel>

  <!--
  === Yaw ====================================================
  -->
  <channel name="Yaw">

   <summer name="fcs/yaw-trim-sum">
    <input>fcs/rudder-cmd-norm</input>
    <input>-fcs/aileron-cmd-norm</input>
    <input>fcs/yaw-trim-cmd-norm</input>
    <input>ap/rudder-cmd-norm</input>
    <clipto>
     <min>-1</min>
     <max>1</max>
    </clipto>
   </summer>

   <aerosurface_scale name="fcs/rudder/pos-rad">
    <input>fcs/yaw-trim-sum</input>
    <gain>0.5236</gain>
    <domain>
     <min>-1</min>
     <max>1</max>
    </domain>
    <range>
     <min>-0.5236</min>
     <max>0.5236</max>
    </range>
    <output>fcs/rudder-pos-rad</output>
   </aerosurface_scale>

   <aerosurface_scale name="fcs/rudder/pos-norm">
    <input>fcs/rudder-pos-rad</input>
    <gain>1.9099</gain>
    <domain>
     <min>-0.5236</min>
     <max>0.5236</max>
    </domain>
    <range>
     <min>-1</min>
     <max>1</max>
    </range>
    <output>fcs/rudder-pos-norm</output>
   </aerosurface_scale>

  </channel>

  <!--
  === Static Trim ============================================
  -->
  <property value="0.50">fcs/static-trim-cmd-norm</property>

  <channel name="StaticTrim">
   <!--
    This is for fine-tuning the CoG.
    In-flight pitch trim was mainly handled by the ballonets.
   -->

   <summer name="fcs/static-trim-norm">
    <input>fcs/static-trim-cmd-norm</input>
    <clipto>
     <min>0</min>
     <max>1</max>
    </clipto>
   </summer>

   <summer name="fcs/inverse-static-trim-norm">
    <input>-fcs/static-trim-norm</input>
    <bias>1</bias>
    <clipto>
     <min>0</min>
     <max>1</max>
    </clipto>
   </summer>

   <aerosurface_scale name="fcs/ballast/trim-norm[0]">
    <input>fcs/inverse-static-trim-norm</input>
     <domain>
     <min>0</min>
     <max>1</max>
    </domain>
    <range>
     <min>0</min>
     <max>50</max>
    </range>
    <output>inertia/pointmass-weight-lbs[1]</output>
   </aerosurface_scale>

   <aerosurface_scale name="fcs/ballast/trim-norm[1]">
    <input>fcs/static-trim-norm</input>
    <domain>
     <min>0</min>
     <max>1</max>
    </domain>
    <range>
     <min>0</min>
     <max>50</max>
    </range>
    <output>inertia/pointmass-weight-lbs[2]</output>
   </aerosurface_scale>

  </channel>

 </flight_control>

 <!--
 ==== Initial static condition weigh-off ====================================
 -->

 <system name="Weigh_Off">
  <channel name="Initial_Static_Weigh_Off">
   <!-- The weight of inertia/pointmass-weight-lbs[0] is set from Nasal. -->

   <summer name="static-condition/net-lift-lbs">
    <input> buoyant_forces/gas-cell[0]/buoyancy-lbs </input>
    <input> -inertia/weight-lbs </input>
   </summer>

  </channel>
 </system>

 <!--
 ==== External reactions ====================================================
 -->

 <external_reactions>

  <!-- Note: these forces are applied to the wrong location. -->
  <force name="guy-wire-north" frame="LOCAL">
   <location unit="M">
    <x> 0.0 </x>
    <y> 0.0 </y>
    <z> 0.0 </z>
   </location>
   <direction>
    <x> 1.0 </x>
    <y> 0.0 </y>
    <z> 0.0 </z>
   </direction>
  </force>
  <force name="guy-wire-east" frame="LOCAL">
   <location unit="M">
    <x> 0.0 </x>
    <y> 0.0 </y>
    <z> 0.0 </z>
   </location>
   <direction>
    <x> 0.0 </x>
    <y> 1.0 </y>
    <z> 0.0 </z>
   </direction>
  </force>
  <force name="guy-wire-down" frame="LOCAL">
   <location unit="M">
    <x> 0.0 </x>
    <y> 0.0 </y>
    <z> 0.0 </z>
   </location>
   <direction>
    <x> 0.0 </x>
    <y> 0.0 </y>
    <z> 1.0 </z>
   </direction>
  </force>

  <force name="added-mass-bx" frame="BODY">
   <location unit="M">
    <x> 20.0 </x>
    <y>  0.0 </y>
    <z>  0.0 </z>
   </location>
   <direction>
    <x> 1.0 </x>
    <y> 0.0 </y>
    <z> 0.0 </z>
   </direction>
  </force>
  <force name="added-mass-by" frame="BODY">
   <location unit="M">
    <x> 20.0 </x>
    <y>  0.0 </y>
    <z>  0.0 </z>
   </location>
   <direction>
    <x> 0.0 </x>
    <y> 1.0 </y>
    <z> 0.0 </z>
   </direction>
  </force>
  <force name="added-mass-bz" frame="BODY">
   <location unit="M">
    <x> 20.0 </x>
    <y>  0.0 </y>
    <z>  0.0 </z>
   </location>
   <direction>
    <x> 0.0 </x>
    <y> 0.0 </y>
    <z> 1.0 </z>
   </direction>
  </force>

  <moment name="added-mass-pitch" frame="BODY" unit="LBSFT">
   <direction>
    <x> 0.0 </x>
    <y> 1.0 </y>
    <z> 0.0 </z>
   </direction>
  </moment>
  <moment name="added-mass-roll" frame="BODY" unit="LBSFT">
   <direction>
    <x> 1.0 </x>
    <y> 0.0 </y>
    <z> 0.0 </z>
   </direction>
  </moment>
  <moment name="added-mass-yaw" frame="BODY" unit="LBSFT">
   <direction>
    <x> 0.0 </x>
    <y> 0.0 </y>
    <z> 1.0 </z>
   </direction>
  </moment>

 </external_reactions>

 <!--
 ==== Mooring force calculation =============================================
 -->

 <system file="visual-reference-point-extensions"/>

 <system name="landing-party">

  <!-- INTERFACE PROPERTIES -->
  <!--  Ground crew actions -->
  <property value="0.0"> landing-party/wire-connected[0] </property>
  <property value="0.0"> landing-party/wire-connected[1] </property>
  <property value="70.0"> landing-party/wire-length-ft </property>
  <!--  Handling party locations -->
  <property value="0.0"> landing-party/latitude-deg[0]  </property>
  <property value="0.0"> landing-party/longitude-deg[0] </property>
  <property value="0.0"> landing-party/altitude-ft[0] </property>
  <property value="0.0"> landing-party/latitude-deg[1]  </property>
  <property value="0.0"> landing-party/longitude-deg[1] </property>
  <property value="0.0"> landing-party/altitude-ft[1] </property>

  <!-- Constants -->
  <!--  Wire -->
  <property value="10.0"> landing-party/wire-spring-coeff </property>
  <property value="500.0"> landing-party/max-wire-force-lbs </property>

  <channel name="Guy Wire Forces">

   <fcs_function name="landing-party/latitude-diff-ft[0]">
    <function>
     <product>
      <value> -364560.0 </value>
      <difference>
       <property> position/vrp-latitude-deg </property>
       <property> landing-party/latitude-deg[0] </property>
      </difference>
     </product>
    </function>
   </fcs_function>
   <fcs_function name="landing-party/latitude-diff-ft[1]">
    <function>
     <product>
      <value> -364560.0 </value>
      <difference>
       <property> position/vrp-latitude-deg </property>
       <property> landing-party/latitude-deg[1] </property>
      </difference>
     </product>
    </function>
   </fcs_function>

   <fcs_function name="landing-party/longitude-diff-ft[0]">
    <function>
     <product>
      <value> -364560.0 </value> <!-- Bougus conversion factor. -->
      <difference>
       <property> position/vrp-longitude-deg </property>
       <property> landing-party/longitude-deg[0] </property>
      </difference>
     </product>
    </function>
   </fcs_function>
   <fcs_function name="landing-party/longitude-diff-ft[1]">
    <function>
     <product>
      <value> -364560.0 </value> <!-- Bougus conversion factor. -->
      <difference>
       <property> position/vrp-longitude-deg </property>
       <property> landing-party/longitude-deg[1] </property>
      </difference>
     </product>
    </function>
   </fcs_function>

   <summer name="landing-party/altitude-diff-ft[0]">
    <input> position/vrp-altitude-ft </input>
    <input> -landing-party/altitude-ft[0] </input>
   </summer>
   <summer name="landing-party/altitude-diff-ft[1]">
    <input> position/vrp-altitude-ft </input>
    <input> -landing-party/altitude-ft[1] </input>
   </summer>

   <fcs_function name="landing-party/total-distance-ft[0]">
    <function>
     <pow>
      <sum>
       <pow>
        <property> landing-party/latitude-diff-ft[0] </property>
        <value> 2.0 </value>
       </pow>
       <pow>
        <property> landing-party/longitude-diff-ft[0] </property>
        <value> 2.0 </value>
       </pow>
       <pow>
        <property> landing-party/altitude-diff-ft[0] </property>
        <value> 2.0 </value>
       </pow>
      </sum>
      <value> 0.5 </value>
     </pow>
    </function>
   </fcs_function>
   <fcs_function name="landing-party/total-distance-ft[1]">
    <function>
     <pow>
      <sum>
       <pow>
        <property> landing-party/latitude-diff-ft[1] </property>
        <value> 2.0 </value>
       </pow>
       <pow>
        <property> landing-party/longitude-diff-ft[1] </property>
        <value> 2.0 </value>
       </pow>
       <pow>
        <property> landing-party/altitude-diff-ft[1] </property>
        <value> 2.0 </value>
       </pow>
      </sum>
      <value> 0.5 </value>
     </pow>
    </function>
   </fcs_function>

   <fcs_function name="landing-party/wire-force-lbs[0]">
    <function>
     <product>
      <property> landing-party/wire-connected[0] </property>
      <property> landing-party/wire-spring-coeff </property>
      <max>
       <difference>
        <property> landing-party/total-distance-ft[0] </property>
        <property> landing-party/wire-length-ft </property>
       </difference>
       <value> 0.0 </value>
      </max>
     </product>
    </function>
    <clipto>
     <min> 0.0 </min>
     <max> landing-party/max-wire-force-lbs </max>
    </clipto>
   </fcs_function>
   <fcs_function name="landing-party/wire-force-lbs[1]">
    <function>
     <product>
      <property> landing-party/wire-connected[1] </property>
      <property> landing-party/wire-spring-coeff </property>
      <max>
       <difference>
        <property> landing-party/total-distance-ft[1] </property>
        <property> landing-party/wire-length-ft </property>
       </difference>
       <value> 0.0 </value>
      </max>
     </product>
    </function>
    <clipto>
     <min> 0.0 </min>
     <max> landing-party/max-wire-force-lbs </max>
    </clipto>
   </fcs_function>

   <fcs_function name="landing-party/force-north-lbs">
    <function>
     <sum>
      <product>
       <property> landing-party/wire-force-lbs[0] </property>
       <quotient>
        <property> landing-party/latitude-diff-ft[0] </property>
        <property> landing-party/total-distance-ft[0] </property>
       </quotient>
      </product>
      <product>
       <property> landing-party/wire-force-lbs[1] </property>
       <quotient>
        <property> landing-party/latitude-diff-ft[1] </property>
        <property> landing-party/total-distance-ft[1] </property>
       </quotient>
      </product>
     </sum>
    </function>
    <output> external_reactions/guy-wire-north/magnitude </output>
   </fcs_function>

   <fcs_function name="landing-party/force-east-lbs">
    <function>
     <sum>
      <product>
       <property> landing-party/wire-force-lbs[0] </property>
       <quotient>
        <property> landing-party/longitude-diff-ft[0] </property>
        <property> landing-party/total-distance-ft[0] </property>
       </quotient>
      </product>
      <product>
       <property> landing-party/wire-force-lbs[1] </property>
       <quotient>
        <property> landing-party/longitude-diff-ft[1] </property>
        <property> landing-party/total-distance-ft[1] </property>
       </quotient>
      </product>
     </sum>
    </function>
    <output> external_reactions/guy-wire-east/magnitude </output>
   </fcs_function>

   <fcs_function name="landing-party/force-down-lbs">
    <function>
     <sum>
      <product>
       <property> landing-party/wire-force-lbs[0] </property>
       <quotient>
        <property> landing-party/altitude-diff-ft[0] </property>
        <property> landing-party/total-distance-ft[0] </property>
       </quotient>
      </product>
      <product>
       <property> landing-party/wire-force-lbs[1] </property>
       <quotient>
        <property> landing-party/altitude-diff-ft[1] </property>
        <property> landing-party/total-distance-ft[1] </property>
       </quotient>
      </product>
     </sum>
    </function>
    <output> external_reactions/guy-wire-down/magnitude </output>
   </fcs_function>

  </channel>

 </system>

 <!--
 ==== Aerodynamics ==========================================================
 -->

 <system name="Aerodynamic constants">
  <!-- Aerodynamic constants. -->
  <property value="143.42">  aero/constants/length-ft </property>
  <property value="30.0">    aero/constants/diameter-ft </property>
  <property value="21469.3"> aero/constants/length-diameter-ft2 </property>
  <property value="70000">   aero/constants/volume-ft3 </property>
  <property value="1698.5">  aero/constants/volume-ft3_2_3 </property>
  <!-- Added mass constants. -->
  <property value="0.06"> aero/constants/added-mass/k-axial </property>
  <property value="0.89"> aero/constants/added-mass/k-transverse </property>
  <property value="0.69"> aero/constants/added-mass/k-rotational </property>
  <property value="0.75">  aero/constants/added-mass/tweak-factor </property>
 </system>
 <system file="airship_added_mass"/>

 <aerodynamics file="Systems/gerris_aero"/>
 <!-- aerodynamics file="Systems/datcom_aero"/ -->

 <!-- output name="datalog.csv" type="CSV" rate="2">

  <rates> ON </rates>
  <velocities> ON </velocities>
  <forces> ON </forces>
  <moments> ON </moments>
  <position> ON </position>
  <propulsion> ON </propulsion>
  <aerosurfaces> ON </aerosurfaces>
  <fcs> ON </fcs>
  <ground_reactions> ON </ground_reactions>
  <property> atmosphere/T-R </property>
  <property> atmosphere/P-psf </property>
  <property> buoyant_forces/gas-cell/max_volume-ft3 </property>
  <property> buoyant_forces/gas-cell/temp-R </property>
  <property> buoyant_forces/gas-cell/pressure-psf </property>
  <property> buoyant_forces/gas-cell/volume-ft3 </property>
  <property> buoyant_forces/gas-cell/buoyancy-lbs </property>
  <property> buoyant_forces/gas-cell/contents-mol </property>
  <property> buoyant_forces/gas-cell/valve_open </property>
  <property> buoyant_forces/gas-cell/ballonet[0]/max_volume-ft3 </property>
  <property> buoyant_forces/gas-cell/ballonet[0]/temp-R </property>
  <property> buoyant_forces/gas-cell/ballonet[0]/pressure-psf </property>
  <property> buoyant_forces/gas-cell/ballonet[0]/volume-ft3 </property>
  <property> buoyant_forces/gas-cell/ballonet[0]/contents-mol </property>
  <property> buoyant_forces/gas-cell/ballonet[0]/valve_open </property>
  <property> buoyant_forces/gas-cell/ballonet[1]/max_volume-ft3 </property>
  <property> buoyant_forces/gas-cell/ballonet[1]/temp-R </property>
  <property> buoyant_forces/gas-cell/ballonet[1]/pressure-psf </property>
  <property> buoyant_forces/gas-cell/ballonet[1]/volume-ft3 </property>
  <property> buoyant_forces/gas-cell/ballonet[1]/contents-mol </property>
  <property> buoyant_forces/gas-cell/ballonet[1]/valve_open </property>
  <property> aero/envelope-aoa-mag-deg </property>

 </output -->

</fdm_config>
<?xml version="1.0"?>
<!--

  Submarine Scout airship flight model for JSBSim.

    Copyright (C) 2007 - 2024  Anders Gidenstam  (anders(at)gidenstam.org)

    This program is free software; you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation; either version 2 of the License, or
    (at your option) any later version.
  
    This program is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.
  
    You should have received a copy of the GNU General Public License
    along with this program; if not, write to the Free Software
    Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA
  
-->

<system name="Submarine Scout Crew Autopilot">

  <!-- INTERFACE PROPERTIES -->
  <property>ap/yaw-damper-active</property>
  <property>ap/pitch-setpoint-deg</property>
  <property>ap/pitch-hold-active</property>

  <!-- SENSORS -->

  <!-- CHANNELS -->
  <property value="0.0">ap/rudder-cmd-norm</property>
  <channel name="Rudder">

    <pid name="ap/yaw-damper-pid"> 
      <input> aero/beta-deg </input>
      <kp>   -2.000 </kp>
      <ki>    0.000 </ki>
      <kd>    0.000 </kd>
      <clipto>
        <min>-1.0</min>
        <max> 1.0</max>
      </clipto> 
    </pid>

    <summer name="ap/heading-sum">
      <input> ap/yaw-damper-pid </input>
    </summer>

    <switch name="ap/heading-switch">
      <default value="0.0"/>
      <test logic="AND" value="ap/heading-sum">
            ap/yaw-damper-active GT 0.99
            fcs/rudder-cmd-norm GT -0.1
            fcs/rudder-cmd-norm LT 0.1
      </test>
      <output>ap/rudder-cmd-norm</output>
    </switch>

  </channel>

  <property value="0.0">ap/elevator-cmd-norm</property>
  <channel name="Elevator">

    <pure_gain name="ap/pitch-setpoint-rad">
      <input> ap/pitch-setpoint-deg </input>
      <gain> 0.017453 </gain>
    </pure_gain>

    <summer name="ap/pitch-error-rad">
      <input> attitude/theta-rad </input>
      <input> -ap/pitch-setpoint-rad </input>
    </summer>

    <pid name="ap/elevator-pid">
      <input> ap/pitch-error-rad </input>
      <kp>   5.00 </kp>
      <ki>   0.01 </ki>
      <kd>   0.00 </kd>
      <clipto>
        <min>-1.0</min>
        <max> 1.0</max>
      </clipto> 
    </pid>

    <switch name="ap/elevator-switch">
      <default value="0.0"/>
      <test logic="AND" value="ap/elevator-pid">
            ap/pitch-hold-active GT 0.99
      </test>
      <output>ap/elevator-cmd-norm</output>
    </switch>

  </channel>

</system>
<?xml version="1.0"?>
<!--

  Submarine Scout airship flight model for JSBSim.

    Copyright (C) 2007 - 2011  Anders Gidenstam  (anders(at)gidenstam.org)

    This program is free software; you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation; either version 2 of the License, or
    (at your option) any later version.

    This program is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.

    You should have received a copy of the GNU General Public License
    along with this program; if not, write to the Free Software
    Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA

-->
<system name="air-and-gas-control-jsbsim">

 <documentation>
   "Two ballonets are provided, one forward and one aft, the capacity
   of each being 6,375 cubic feet.  The supply of air for filling
   these is taken from the propeller draught by a slanting aluminium
   tube to the underside of the envelope, where it meets a
   longitudinal fabric hose which connects the two ballonet air
   inlets.  Non-return fabric valves known as crab-pots are fitted in
   this fabric hose on either side of their junction with the air
   scoop.  Two automatic air valves are fitted to the underside of the
   envelope, one for each ballonet.  The air pressure tends to open
   the valve instead of keeping it shut and to counteract this the
   spring of the valve is inside the envelope.  The springs are set to
   open at a pressure of 25 to 28 mm."  [Whale:1919:BA] on the S.S.B.E. 2C.

   "The valve cords are led to the pilot's seat through eyes attached
   to the envelope."  [Whale:1919:BA] on the S.S.B.E. 2C.

   "Two gas valves are also fitted, one on the top of the envelope,
   the other at the bottom.  The bottom gas valve spring is set to
   open at 30 to 35 mm. pressure, the top valve is hand controlled
   only."   [Whale:1919:BA] on the S.S.B.E. 2C.

   "One ripping panel is fitted, which is situated on the top of the
   envelope towards the nose.  It has a length of 14 feet 5 inches and
   a breadth of about 8 inches."  [Whale:1919:BA] on the S.S.B.E. 2C.
 </documentation>
 <limitation>
   The slip stream pressure calculation does not take the direction of the
   relative wind into account.
 </limitation>

 <!-- Pilot inputs. -->
 <property value="0.0">fcs/gas-valve-cmd-norm[0]</property>
 <property value="0.0">fcs/ballonet-out-valve-cmd-norm[0]</property>
 <property value="0.0">fcs/ballonet-out-valve-cmd-norm[1]</property>
 <property value="0.0">fcs/ballonet-in-valve-cmd-norm[0]</property>
 <property value="0.0">fcs/ballonet-in-valve-cmd-norm[1]</property>
 <property value="0.0">fcs/rip-cord-cmd-norm</property>

 <!-- Outputs (forward declared in the buoyant forces section). -->
 <!--
 <property value="0.0">ballonets/in-flow-ft3ps[0]</property>
 <property value="0.0">ballonets/in-flow-ft3ps[1]</property>
 -->

 <!-- Threshold values for the automatic relief valves. -->
 <property value="7.168565">gas/automatic-valve-threshold-psf</property>
 <property value="5.1204036">ballonets/automatic-valve-threshold-psf[0]</property>
 <property value="5.1204036">ballonets/automatic-valve-threshold-psf[1]</property>

 <documentation>
  Range [0, 1].
 </documentation>

 <channel name="Gas valves">

  <switch name="gas/ripped-sample-hold">
   <default value="fcs/rip-cord-cmd-norm"/>
   <test logic="AND" value="gas/ripped-sample-hold">
    gas/ripped-sample-hold GE 1.0
   </test>
  </switch>

  <fcs_function name="gas/relief-cmd-norm">
   <function>
    <product>
     <value>1.0240807</value>
     <difference>
      <difference>
       <property>buoyant_forces/gas-cell/pressure-psf</property>
       <property>atmosphere/P-psf</property>
      </difference>
      <property>gas/automatic-valve-threshold-psf</property>
     </difference>
    </product>
   </function>
   <clipto>
    <min>0</min>
    <max>1</max>
   </clipto>
  </fcs_function>

  <fcs_function name="gas/valve-pos-norm">
   <function>
    <sum>
     <property>fcs/gas-valve-cmd-norm</property>
     <property>gas/relief-cmd-norm</property>
     <product>
      <value>100.0</value>
      <property>gas/ripped-sample-hold</property>
     </product>
    </sum>
   </function>
   <output>buoyant_forces/gas-cell/valve_open</output>
  </fcs_function>

 </channel>

 <channel name="Ballonet out-flow">

  <fcs_function name="ballonets/relief-cmd-norm[0]">
   <function>
    <product>
     <value>1.0240807</value>
     <difference>
      <difference>
       <property>buoyant_forces/gas-cell/ballonet[0]/pressure-psf</property>
       <property>atmosphere/P-psf</property>
      </difference>
      <property>ballonets/automatic-valve-threshold-psf[0]</property>
     </difference>
    </product>
   </function>
   <clipto>
    <min>0</min>
    <max>1</max>
   </clipto>
  </fcs_function>

  <fcs_function name="ballonets/relief-cmd-norm[1]">
   <function>
    <product>
     <value>1.0240807</value>
     <difference>
      <difference>
       <property>buoyant_forces/gas-cell/ballonet[1]/pressure-psf</property>
       <property>atmosphere/P-psf</property>
      </difference>
      <property>ballonets/automatic-valve-threshold-psf[1]</property>
     </difference>
    </product>
   </function>
   <clipto>
    <min>0</min>
    <max>1</max>
   </clipto>
  </fcs_function>

  <fcs_function name="ballonets/valve-pos-norm[0]">
   <function>
    <sum>
     <property>fcs/ballonet-out-valve-cmd-norm[0]</property>
     <property>ballonets/relief-cmd-norm[0]</property>
    </sum>
   </function>
   <clipto>
    <min>0</min>
    <max>1</max>
   </clipto>
   <output>buoyant_forces/gas-cell/ballonet[0]/valve_open</output>
  </fcs_function>

  <fcs_function name="ballonets/valve-pos-norm[1]">
   <function>
    <sum>
     <property>fcs/ballonet-out-valve-cmd-norm[1]</property>
     <property>ballonets/relief-cmd-norm[1]</property>
    </sum>
   </function>
   <clipto>
    <min>0</min>
    <max>1</max>
   </clipto>
   <output>buoyant_forces/gas-cell/ballonet[1]/valve_open</output>
  </fcs_function>

 </channel>

 <channel name="Ballonet air supply">

  <fcs_function name="ballonets/slip-stream-pressure-psf">
   <function>
    <sum>
     <property>atmosphere/P-psf</property>
     <product>
      <value>0.5</value>
      <property>atmosphere/rho-slugs_ft3</property>
      <pow>
       <sum>
        <property>velocities/u-aero-fps</property>
        <property>propulsion/engine[0]/prop-induced-velocity_fps</property>
       </sum>
       <value>2.0</value>
      </pow>
     </product>
    </sum>
   </function>
  </fcs_function>

  <fcs_function name="ballonets/crab-pot-valve-flow-ft3ps[0]">
   <function>
    <product>
     <value>20.0</value> <!-- Inflow valve coefficient ft4*sec/slug -->
     <max>
      <value>0.0</value>
      <product>
       <property>fcs/ballonet-in-valve-cmd-norm[0]</property>
       <difference>
        <property>ballonets/slip-stream-pressure-psf</property>
        <property>buoyant_forces/gas-cell/ballonet[0]/pressure-psf</property>
       </difference>
      </product>
     </max>
    </product>
   </function>
   <output>ballonets/in-flow-ft3ps[0]</output>
  </fcs_function>

  <fcs_function name="ballonets/crab-pot-valve-flow-ft3ps[1]">
   <function>
    <product>
     <value>20.0</value> <!-- Inflow valve coefficient ft4*sec/slug -->
     <max>
      <value>0.0</value>
      <product>
       <property>fcs/ballonet-in-valve-cmd-norm[1]</property>
       <difference>
        <property>ballonets/slip-stream-pressure-psf</property>
        <property>buoyant_forces/gas-cell/ballonet[1]/pressure-psf</property>
       </difference>
      </product>
     </max>
    </product>
   </function>
   <output>ballonets/in-flow-ft3ps[1]</output>
  </fcs_function>

 </channel>

</system>
<?xml version="1.0"?>
<!--

  Submarine Scout airship flight model for JSBSim.

    Copyright (C) 2007 - 2009  Anders Gidenstam  (anders(at)gidenstam.org)

    This program is free software; you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation; either version 2 of the License, or
    (at your option) any later version.

    This program is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.

    You should have received a copy of the GNU General Public License
    along with this program; if not, write to the Free Software
    Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA

-->
<!--
  This file contains an aerodynamic section for JSBSim based on coefficients
  derived from virtual windtunnel experiments in the software Gerris.
  The experiments were done with the Submarine Scout envelope and fin models.
-->
 <aerodynamics>

  <!-- Tuning parameter for CD, CL due to envelope alpha. -->
  <property value="1.0">aero/envelope-lift-force-tweak-factor</property>
  <!-- Tuning parameter for CM and CN due to alpha and beta. -->
  <property value="1.0">aero/envelope-pitch-moment-tweak-factor</property>
  <property value="1.0">aero/envelope-yaw-moment-tweak-factor</property>

  <!-- The envelope can be rigged at an angle to the car. -->
  <!-- According to the handbook it was either neutral or down by the nose. -->
  <function name="aero/envelope-alpha-rad">
   <sum>
    <product>
     <value> 0.00 </value> <!-- Envelope pitch offset deg w.r.t. car. -->
     <value> 0.017453293 </value>
    </product>
    <property> aero/alpha-rad </property>
   </sum>
  </function>
  <function name="aero/envelope-alpha-deg">
   <product>
    <value> 57.29578 </value>
    <property> aero/envelope-alpha-rad </property>
   </product>
  </function>

  <!-- Relation between wind and body coordinate systems. -->
  <function name="aero/tmp/wx">
   <product>
    <cos>
     <property> aero/envelope-alpha-rad </property>
    </cos>
    <cos>
     <property> aero/beta-rad </property>
    </cos>
   </product>
  </function>
  <function name="aero/tmp/wy">
   <product>
    <cos>
     <property> aero/envelope-alpha-rad </property>
    </cos>
    <sin>
     <property> aero/beta-rad </property>
    </sin>
   </product>
  </function>
  <function name="aero/tmp/wz">
   <sin>
    <property> aero/envelope-alpha-rad </property>
   </sin>
  </function>
  <function name="aero/tmp/h_wy_wz">
   <pow>
    <sum>
     <pow>
      <property> aero/tmp/wy </property>
      <value>2.0</value>
     </pow>
     <pow>
      <property> aero/tmp/wz </property>
      <value>2.0</value>
     </pow>
    </sum>
    <value>0.5</value>
   </pow>
  </function>

  <!-- Effective angle between envelope and relative wind. -->
  <function name="aero/envelope-aoa-mag-rad">
   <max>
    <value>0.0</value>
    <acos>
     <property> aero/tmp/wx </property>
    </acos>
   </max>
  </function>
  <function name="aero/envelope-aoa-mag-deg">
   <product>
    <value> 57.29578 </value>
    <property> aero/envelope-aoa-mag-rad </property>
   </product>
  </function>

  <!--
  === Envelope Lift Force ====================================
  -->

  <limitation>
   The current method of splitting L_env_aoa into LIFT and SIDE forces
   seems to have the wrong sign when alpha GT 90 and beta LT 0?
  </limitation>
  <function name="aero/force/L_env_aoa">
   <description>Total_lift_force_from_envelope_due_to_aoa</description>
   <!--
        Formulation based on NACA report 432 "Force measurements on a
        1/40-scale model of the U.S. Airship Akron" by Hugh B. Freeman.

           C = L / (q * (vol)^(2/3))

   -->
   <product>
    <property>aero/qbar-psf</property>
    <property>aero/constants/volume-ft3_2_3</property>
    <!-- Start CL_env -->
    <property>aero/envelope-lift-force-tweak-factor</property>
    <table>
     <independentVar lookup="row">aero/envelope-aoa-mag-deg</independentVar>
     <!--  Virtual wind-tunnel data computed with Gerris. -->
     <tableData>
       0     0.000000
       10    0.002911
       20    0.007450
       30    0.013047
       45    0.016276
       60    0.028917
       75    0.028148
       90    0.017636
       105   -0.010199
       120   -0.008625
       135   -0.011184
       150   -0.009168
       165   -0.002132
       180   0.000000
     </tableData>
    </table>
   </product>
  </function>

  <!--
  === Envelope Moment ========================================
  -->

  <limitation>
   Same as for L_env_aoa.
  </limitation>
  <function name="aero/moment/M_env_aoa">
   <description>Total_moment_from_envelope_due_to_due_to_aoa</description>
   <!--
        Formulation based on NACA report 432 "Force measurements on a
        1/40-scale model of the U.S. Airship Akron" by Hugh B. Freeman.

           Cm = M / (q * vol)

   -->
   <product>
    <property>aero/qbar-psf</property>
    <property>aero/constants/volume-ft3</property>
    <!-- Start Cm -->
    <property>aero/envelope-pitch-moment-tweak-factor</property>
    <table>
     <independentVar lookup="row">aero/envelope-aoa-mag-deg</independentVar>
     <!--  Virtual wind-tunnel data computed with Gerris. -->
     <tableData>
       0      0.00000
       10     0.26542
       20     0.48736
       30     0.66063
       45     0.76844
       60     0.65462
       75     0.36527
       90    -0.01611
       105   -0.40902
       120   -0.67203
       135   -0.77532
       150   -0.66775
       165   -0.38522
       180    0.00000
     </tableData>
    </table>
   </product>
  </function>

  <!-- ================================================== -->
  <axis name="DRAG">

   <function name="aero/force/D_env_aoa">
    <description>Drag_from_envelope_due_to_angle_of_attack</description>
    <!--
         Formulation based on NACA report 432 "Force measurements on a
         1/40-scale model of the U.S. Airship Akron" by Hugh B. Freeman.

            CD = D / (q * (vol)^(2/3))

    -->
    <!-- Note: This function accounts for drag due to both alpha and beta. -->
    <product>
     <property>aero/qbar-psf</property>
     <property>aero/constants/volume-ft3_2_3</property>
     <!-- Start CD -->
     <property>aero/envelope-lift-force-tweak-factor</property>
     <table>
      <independentVar lookup="row">aero/envelope-aoa-mag-deg</independentVar>
      <!-- Virtual wind-tunnel data computed with Gerris. -->
      <tableData>
       0     0.0059211
       10    0.0084486
       20    0.0088926
       30    0.0178950
       45    0.0325350
       60    0.0506840
       75    0.0766400
       90    0.0999370
       105   0.0866310
       120   0.0561820
       135   0.0342520
       150   0.0154610
       165   0.0042752
       180   0.0018604
      </tableData>
     </table>
    </product>
   </function>

   <function name="aero/force/D_hfin_alpha">
    <description>Drag_from_horizontal_fin_due_to_alpha</description>
    <!--
         Formulation based on NACA report 432 "Force measurements on a
         1/40-scale model of the U.S. Airship Akron" by Hugh B. Freeman.

            CD = D / (q * (vol)^(2/3))

    -->
    <product>
     <property>aero/qbar-psf</property>
     <property>aero/constants/volume-ft3_2_3</property>
     <!-- Start CD -->
     <table>
      <independentVar lookup="row">aero/envelope-alpha-deg</independentVar>
      <!-- Virtual wind-tunnel data computed with Gerris. -->
      <tableData>
       -180   0.0016346
       -165   0.0135650
       -150   0.0745610
       -135   0.1331500
       -120   0.1771500
       -105   0.2169500
       -90    0.1910000
       -75    0.2154000
       -60    0.17049
       -45    0.14314
       -30    0.072847
       -20    0.027739
       -10    0.0089855
       0      0.0010200
       10     0.0089855
       20     0.027739
       30     0.072847
       45     0.14314
       60     0.17049
       75     0.2154000
       90     0.1910000
       105    0.2169500
       120    0.1771500
       135    0.1331500
       150    0.0745610
       165    0.0135650
       180    0.0016346
      </tableData>
     </table>
    </product>
   </function>

   <function name="aero/force/D_de">
    <description>Drag_due_to_elevator_deflection</description>
    <!--
         Formulation based on NACA report 432 "Force measurements on a
         1/40-scale model of the U.S. Airship Akron" by Hugh B. Freeman.

            CD = D / (q * (vol)^(2/3))

    -->
    <product>
     <property>aero/qbar-psf</property>
     <property>aero/constants/volume-ft3_2_3</property>
     <!-- Start CD -->
     <value> 1.0 </value>
     <table>
      <independentVar lookup="row">fcs/elevator-pos-deg</independentVar>
      <!--  Virtual wind-tunnel data computed with Gerris. -->
      <tableData>
       -30  0.020407
       0    0
       30   0.020407
      </tableData>
     </table>
    </product>
   </function>

   <function name="aero/force/D_vfin_beta">
    <description>Drag_from_vertical_fin_due_to_beta</description>
    <!--
         Formulation based on NACA report 432 "Force measurements on a
         1/40-scale model of the U.S. Airship Akron" by Hugh B. Freeman.

            CD = D / (q * (vol)^(2/3))

    -->
    <product>
     <property>aero/qbar-psf</property>
     <property>aero/constants/volume-ft3_2_3</property>
     <!-- Start CD -->
     <value> 1.0 </value>  <!-- There is only one vertical fin as opposed to
                                two horizontal ones, though twice as big.
                           -->
     <table>
      <independentVar lookup="row">aero/beta-deg</independentVar>
      <!-- Virtual wind-tunnel data computed with Gerris. -->
      <tableData>
       -180   0.0016346
       -165   0.0135650
       -150   0.0745610
       -135   0.1331500
       -120   0.1771500
       -105   0.2169500
       -90    0.1910000
       -75    0.2154000
       -60    0.17049
       -45    0.14314
       -30    0.072847
       -20    0.027739
       -10    0.0089855
       0      0.0010200
       10     0.0089855
       20     0.027739
       30     0.072847
       45     0.14314
       60     0.17049
       75     0.2154000
       90     0.1910000
       105    0.2169500
       120    0.1771500
       135    0.1331500
       150    0.0745610
       165    0.0135650
       180    0.0016346
      </tableData>
     </table>
    </product>
   </function>

   <function name="aero/force/D_dr">
    <description>Drag_due_to_rudder_deflection</description>
    <!--
         Formulation based on NACA report 432 "Force measurements on a
         1/40-scale model of the U.S. Airship Akron" by Hugh B. Freeman.

            CD = D / (q * (vol)^(2/3))

    -->
    <product>
     <property>aero/qbar-psf</property>
     <property>aero/constants/volume-ft3_2_3</property>
     <!-- Start CD -->
     <value> 1.0 </value>
     <table>
      <independentVar lookup="row">fcs/rudder-pos-deg</independentVar>
      <!--  Virtual wind-tunnel data computed with Gerris. -->
      <tableData>
       -30  0.020407
       0    0
       30   0.020407
      </tableData>
     </table>
    </product>
   </function>

   <function name="aero/force/D_car">
    <description>Drag_from_car_and_rigging</description>
    <!--
         Formulation based on NACA report 432 "Force measurements on a
         1/40-scale model of the U.S. Airship Akron" by Hugh B. Freeman.

            CD = D / (q * (vol)^(2/3))

    -->
    <product>
     <property>aero/qbar-psf</property>
     <property>aero/constants/volume-ft3_2_3</property>
     <!-- Start CD -->
     <!-- According to [WD:1941:AATM]
          the envelope on a small non-rigid contributes approximately
          35% to the total air resistance.
          I think they mean 'at zero alpha and beta'.
     -->
     <value> 1.6 </value>
     <value> 0.0059211 </value>
    </product>
   </function>

  </axis>

  <!-- ================================================== -->
  <axis name="SIDE">

   <function name="aero/force/Y_env_beta">
    <description>Side_force_from_envelope_due_to_beta</description>
    <product>
     <value> -1.0 </value>  <!-- Note the sign! -->
     <property> aero/force/L_env_aoa </property>
     <quotient>
      <property> aero/tmp/wy </property>
      <max>
       <value> 0.00001 </value>
       <property> aero/tmp/h_wy_wz </property>
      </max>
     </quotient>
    </product>
   </function>

   <function name="aero/force/Y_vfin_beta">
    <description>Side_force_from_vertical_fin_due_to_beta</description>
    <!--
         Formulation based on NACA report 432 "Force measurements on a
         1/40-scale model of the U.S. Airship Akron" by Hugh B. Freeman.

            CY = Y / (q * (vol)^(2/3))

    -->
    <product>
     <property>aero/qbar-psf</property>
     <property>aero/constants/volume-ft3_2_3</property>
     <!-- Start CY -->
     <value> -1.0 </value>  <!-- There is only one vertical fin as opposed to
                                 two horizontal ones, though twice as big.
                                 Tweaking needed. Note the sign!
                            -->
     <table>
      <independentVar lookup="row">aero/beta-deg</independentVar>
      <!--  Virtual wind-tunnel data computed with Gerris. -->
      <tableData>
       -180   0.00000
       -165   0.05372
       -150   0.12950
       -135   0.13525
       -120   0.10292
       -105   0.05388
       -90    -0.00000
       -75    -0.05502
       -60    -0.098868
       -45    -0.14402
       -30    -0.12832
       -20    -0.082526
       -10    -0.035474
       0      0.000000
       10     0.035474
       20     0.082526
       30     0.12832
       45     0.14402
       60     0.098868
       75     0.05502
       90     0.00000
       105    -0.05388
       120    -0.10292
       135    -0.13525
       150    -0.12950
       165    -0.05372
       180    0.00000
      </tableData>
     </table>
    </product>
   </function>

   <function name="aero/force/Y_dr">
    <description>Side_force_due_to_rudder</description>
    <!--
         Formulation based on NACA report 432 "Force measurements on a
         1/40-scale model of the U.S. Airship Akron" by Hugh B. Freeman.

            CL = L / (q * (vol)^(2/3))

    -->
    <product>
     <property>aero/qbar-psf</property>
     <property>aero/constants/volume-ft3_2_3</property>
     <!-- Start CL -->
     <value> 0.5 </value> <!-- The rudder is not adjusted yet. -->
     <table>
      <independentVar lookup="row">fcs/rudder-pos-deg</independentVar>
      <!--  Virtual wind-tunnel data computed with Gerris. -->
      <tableData>
       -30  -0.066622
       0    0
       30   0.066622
      </tableData>
     </table>
    </product>
   </function>

  </axis>

  <!-- ================================================== -->
  <axis name="LIFT">

   <function name="aero/force/L_env_alpha">
    <description>Lift_from_envelope_due_to_alpha</description>
    <product>
     <property>aero/force/L_env_aoa</property>
     <quotient>
      <property> aero/tmp/wz </property>
      <max>
       <value> 0.00001 </value>
       <property> aero/tmp/h_wy_wz </property>
      </max>
     </quotient>
    </product>
   </function>

   <function name="aero/force/L_hfin_alpha">
    <description>Lift_from_horizontal_fin_due_to_alpha</description>
    <!--
         Formulation based on NACA report 432 "Force measurements on a
         1/40-scale model of the U.S. Airship Akron" by Hugh B. Freeman.

            CL = L / (q * (vol)^(2/3))

    -->
    <product>
     <property>aero/qbar-psf</property>
     <property>aero/constants/volume-ft3_2_3</property>
     <!-- Start CL -->
     <table>
      <independentVar lookup="row">aero/envelope-alpha-deg</independentVar>
      <!--  Virtual wind-tunnel data computed with Gerris. -->
      <tableData>
       -180   0.00000
       -165   0.05372
       -150   0.12950
       -135   0.13525
       -120   0.10292
       -105   0.05388
       -90    -0.00000
       -75    -0.05502
       -60    -0.098868
       -45    -0.14402
       -30    -0.12832
       -20    -0.082526
       -10    -0.035474
       0      0.000000
       10     0.035474
       20     0.082526
       30     0.12832
       45     0.14402
       60     0.098868
       75     0.05502
       90     0.00000
       105    -0.05388
       120    -0.10292
       135    -0.13525
       150    -0.12950
       165    -0.05372
       180    0.00000
      </tableData>
     </table>
    </product>
   </function>

   <function name="aero/force/L_dr">
    <description>Lift_due_to_elevator</description>
    <!--
         Formulation based on NACA report 432 "Force measurements on a
         1/40-scale model of the U.S. Airship Akron" by Hugh B. Freeman.

            CL = L / (q * (vol)^(2/3))

    -->
    <product>
     <property>aero/qbar-psf</property>
     <property>aero/constants/volume-ft3_2_3</property>
     <!-- Start CL -->
     <value> 1.0 </value>
     <table>
      <independentVar lookup="row">fcs/elevator-pos-deg</independentVar>
      <!--  Virtual wind-tunnel data computed with Gerris. -->
      <tableData>
       -30  -0.066622
       0    0
       30   0.066622
      </tableData>
     </table>
    </product>
   </function>

  </axis>

  <!-- Moments =============================================== -->

  <!-- ================================================== -->
  <axis name="ROLL">

   <function name="aero/moment/l_p">  <!-- Totally off! -->
    <description>Roll_moment_due_to_roll_rate_(damping)</description>
    <!-- The current version is just a hack to make the craft stable. -->
    <product>
     <!-- property>aero/qbar-psf</property -->
     <!-- property>aero/bi2vel</property -->
     <property>velocities/p-aero-rad_sec</property>
     <value> -50000.0 </value>
    </product>
   </function>

  </axis>

  <!-- ================================================== -->
  <axis name="PITCH">

   <function name="aero/moment/m_q"> <!-- Totally off! -->
    <description>Pitch_moment_due_to_pitch_rate_(damping)</description>
    <!-- The current version is just a hack to make the craft stable. -->
    <product>
     <!-- property>aero/qbar-psf</property -->
     <!-- property>aero/ci2vel</property -->
     <property>velocities/q-aero-rad_sec</property>
     <value> -1000000.0 </value>
    </product>
   </function>

   <function name="aero/moment/m_env_alpha">
    <description>Pitch_moment_from_envelope_due_to_alpha</description>
    <product>
     <property>aero/moment/M_env_aoa</property>
     <quotient>
      <property> aero/tmp/wz </property>
      <max>
       <value> 0.00001 </value>
       <property> aero/tmp/h_wy_wz </property>
      </max>
     </quotient>
    </product>
   </function>

   <function name="aero/moment/m_fin_alpha">
    <description>Pitch_moment_from_horizontal_fin_due_to_alpha</description>
    <!--
         Formulation based on NACA report 432 "Force measurements on a
         1/40-scale model of the U.S. Airship Akron" by Hugh B. Freeman.

            Cm = M / (q * vol)

    -->
    <product>
     <property>aero/qbar-psf</property>
     <property>aero/constants/volume-ft3</property>
     <!-- Start Cm -->
     <table>
      <independentVar lookup="row">aero/envelope-alpha-deg</independentVar>
      <!--  Virtual wind-tunnel data computed with Gerris. -->
      <tableData>
       -180   0.00000
       -165   0.06884
       -150   0.18569
       -135   0.23584
       -120   0.25459
       -105   0.27774
       -90    0.23735
       -75    0.27625
       -60    0.24490
       -45    0.25233
       -30    0.18336
       -20    0.10816
       -10    0.045351
       0      0
       10     -0.045351
       20     -0.10816
       30     -0.18336
       45     -0.25233
       60     -0.24490
       75     -0.27625
       90     -0.23735
       105    -0.27774
       120    -0.25459
       135    -0.23584
       150    -0.18569
       165    -0.06884
       180    0.00000
      </tableData>
     </table>
    </product>
   </function>

   <function name="aero/moment/m_de">
    <description>Pitch_moment_due_to_elevator</description>
    <!--
         Formulation based on NACA report 432 "Force measurements on a
         1/40-scale model of the U.S. Airship Akron" by Hugh B. Freeman.

            Cm = M / (q * vol)

    -->
    <product>
     <property>aero/qbar-psf</property>
     <property>aero/constants/volume-ft3</property>
     <!-- Start Cmdr = -->
     <value> 1.0 </value> <!-- The elevators are not adjusted yet. -->
     <table>
      <independentVar lookup="row">fcs/elevator-pos-deg</independentVar>
      <!--  Virtual wind-tunnel data computed with Gerris. -->
      <tableData>
       -30  0.082789
       0    0
       30   -0.082789
      </tableData>
     </table>
    </product>
   </function>

  </axis>

  <!-- ================================================== -->
  <axis name="YAW">

   <function name="aero/moment/n_r"> <!-- Totally off! -->
    <description>Yaw_moment_due_to_yaw_rate_(damping)</description>
    <!-- The current version is just a hack to make the craft stable. -->
    <product>
     <!-- property>aero/qbar-psf</property -->
     <!-- property>aero/ai2vel</property -->
     <property>velocities/r-aero-rad_sec</property>
     <value> -1000000.0 </value>
    </product>
   </function>

   <function name="aero/moment/n_dr">
    <description>Yaw_moment_due_to_rudder</description>
    <!--
         Formulation based on NACA report 432 "Force measurements on a
         1/40-scale model of the U.S. Airship Akron" by Hugh B. Freeman.

            Cm = M / (q * vol)

    -->
    <product>
     <property>aero/qbar-psf</property>
     <property>aero/constants/volume-ft3</property>
     <!-- Start Cmdr = -->
     <value> 10.0 </value> <!-- The rudder is not adjusted yet. -->
     <table>
      <independentVar lookup="row">fcs/rudder-pos-deg</independentVar>
      <!--  Virtual wind-tunnel data computed with Gerris. -->
      <tableData>
       -30  0.082789
       0    0
       30   -0.082789
      </tableData>
     </table>
    </product>
   </function>

   <function name="aero/moment/n_env_beta">
    <description>Yaw_moment_from_envelope_due_to_beta</description>
    <product>
     <value> -1.0 </value>  <!-- Note the sign! -->
     <property> aero/moment/M_env_aoa </property>
     <quotient>
      <property> aero/tmp/wy </property>
      <max>
       <value> 0.00001 </value>
       <property> aero/tmp/h_wy_wz </property>
      </max>
     </quotient>
    </product>
   </function>

   <function name="aero/moment/n_fin_beta">
    <description>Yaw_moment_from_vertical_fin_due_to_beta</description>
    <!--
         Formulation based on NACA report 432 "Force measurements on a
         1/40-scale model of the U.S. Airship Akron" by Hugh B. Freeman.

            Cn = M / (q * vol)

    -->
    <product>
     <property>aero/qbar-psf</property>
     <property>aero/constants/volume-ft3</property>
     <!-- Start Cn -->
     <value> -1.0 </value> <!-- There is only one vertical fin as opposed to
                                two horizontal ones, but it might be bigger.
                                NOTE: sign.
                                Tweaking needed.
                           -->
     <table>
      <independentVar lookup="row">aero/beta-deg</independentVar>
      <!--  Virtual wind-tunnel data computed with Gerris. -->
      <tableData>
       -180   0.00000
       -165   0.06884
       -150   0.18569
       -135   0.23584
       -120   0.25459
       -105   0.27774
       -90    0.23735
       -75    0.27625
       -60    0.24490
       -45    0.25233
       -30    0.18336
       -20    0.10816
       -10    0.045351
       0      0
       10     -0.045351
       20     -0.10816
       30     -0.18336
       45     -0.25233
       60     -0.24490
       75     -0.27625
       90     -0.23735
       105    -0.27774
       120    -0.25459
       135    -0.23584
       150    -0.18569
       165    -0.06884
       180    0.00000
      </tableData>
     </table>
    </product>
   </function>

  </axis>

 </aerodynamics>
<?xml version="1.0"?>
<initialize name="reset00">
  <!--
    This file sets up the aircraft in flight.
  -->
  <ubody unit="FT/SEC">    0.0   </ubody>
  <vbody unit="FT/SEC">    0.0   </vbody>
  <wbody unit="FT/SEC">    0.0   </wbody>
  <latitude unit="DEG">   37.0   </latitude>
  <longitude unit="DEG">-122.0   </longitude>
  <phi unit="DEG">         0.0   </phi>
  <theta unit="DEG">       0.0   </theta>
  <psi unit="DEG">         0.0   </psi>
  <altitude unit="FT">  1000.0   </altitude>
</initialize>
<?xml version="1.0"?>
<initialize name="reset00">
  <!--
    This file sets up the aircraft in flight.
  -->
  <ubody unit="FT/SEC">    0.0  </ubody>
  <vbody unit="FT/SEC">    0.0  </vbody>
  <wbody unit="FT/SEC">    0.0  </wbody>
  <latitude unit="DEG">   47.0  </latitude>
  <longitude unit="DEG"> 122.0  </longitude>
  <phi unit="DEG">         20.0  </phi>
  <theta unit="DEG">       0.0  </theta>
  <psi unit="DEG">         0.0  </psi>
  <altitude unit="M">   1150.0  </altitude>
</initialize>
<?xml version="1.0"?>
<runscript name="take-off test">
 <!--
   This run is for testing lighter-than-air aircraft.
 -->

 <use aircraft="Submarine_Scout" initialize="reset00"/>
 <run start="0.0" end="2600" dt="0.00833333">

  <event name="Drop ballast">
      <notify/>
      <condition>
        sim-time-sec >= 60.0
      </condition>
      <set name="inertia/pointmass-weight-lbs[0]"
           value="600.0"
           action="FG_RAMP" tc ="30.0"/>
  </event>

  <event name="engine start">
      <description>Start the engine</description>
      <notify/>
      <condition>
        sim-time-sec >= 120.0
      </condition>
      <set name="fcs/throttle-cmd-norm"
           value="0.5" action="FG_RAMP" tc ="0.5"/>
      <set name="fcs/mixture-cmd-norm"
           value="0.87" action="FG_RAMP" tc ="0.5"/>
      <set name="propulsion/magneto_cmd"    value="3"/>
      <set name="propulsion/starter_cmd"    value="1"/>
  </event>

  <!-- event name="Set ballonet valves">
      <notify/>
      <condition>
        sim-time-sec >= 250.0
      </condition>
      <set name="ballonets/valve-cmd-norm[0]"
           value="0.0"/>
      <set name="ballonets/valve-cmd-norm[1]"
           value="0.0"/>
  </event -->

  <event name="yaw damper">
      <description>Rudder yaw damper</description>
      <notify/>
      <condition>
        sim-time-sec >= 150
      </condition>
      <set name="ap/yaw-damper-active"      value="1"/>
      <set name="fcs/elevator-cmd-norm"     value="-0.4"/>
  </event>

  <event name="pitch hold">
      <description>Pitch hold</description>
      <notify/>
      <condition>
        sim-time-sec >= 160
      </condition>
      <set name="ap/pitch-hold-active"      value="1"/>
      <set name="ap/pitch-setpoint-degrees" value="5"/>
      <set name="fcs/elevator-cmd-norm"
           value="0.0"
           action="FG_RAMP" tc ="1.0"/>
  </event>

  <event name="level out">
      <description>Level out</description>
      <notify/>
      <condition>
        sim-time-sec >= 500
      </condition>
      <!-- set name="fcs/elevator-cmd-norm"
           value="0.05"
           action="FG_RAMP" tc ="60.0"/ -->
      <set name="ap/pitch-setpoint-degrees" value="3.8"/>
  </event>

  <event name="Start turn">
      <notify/>
      <condition>
        sim-time-sec >= 1695.0
      </condition>
      <set name="fcs/rudder-cmd-norm"
           value="0.3"/>
      <set name="ap/yaw-damper-active"
           value="0"/>
  </event>

  <event name="Neutral rudder">
      <notify/>
      <condition>
        sim-time-sec >= 1700.0
      </condition>
      <set name="fcs/rudder-cmd-norm"
           value="-0.2"/>
  </event>

  <event name="Opposite rudder">
      <notify/>
      <condition>
        sim-time-sec >= 1770.0
      </condition>
      <set name="fcs/rudder-cmd-norm"
           value="-0.5"/>
  </event>

  <event name="Neutral rudder">
      <notify/>
      <condition>
        sim-time-sec >= 1780.0
      </condition>
      <set name="fcs/rudder-cmd-norm"
           value="0.0"/>
      <set name="ap/yaw-damper-active"
           value="1"/>
  </event>

  <event name="Time Notify" type="FG_DELTA" persistent="true">
      <description>Output message at 100 second intervals</description>
      <notify>
        <property>velocities/vc-kts</property>
        <property>position/h-agl-ft</property>
        <property>attitude/pitch-rad</property>
      </notify>
      <condition> sim-time-sec >= simulation/notify-time-trigger </condition>
      <set name="simulation/notify-time-trigger" value="60" type="FG_DELTA"/>
  </event>

 </run>

</runscript>
// This file instructs the automatic synchronization utilities where to
// install this aircraft and under what name.
//
// The syntax is easy;
// * the package name at the beginning of a new line followed by a colon
// * a space as a column separator
// * the path and filename relative to the aircraft install directory
//
// Currently known package names are: FlightGear

FlightGear:
<?xml version="1.0"?>
<?xml-stylesheet type="text/xsl" href="http://jsbsim.sourceforge.net/JSBSim.xsl"?>
<!--
    Sources:

      * http://www.wpafb.af.mil/museum/newold/t37.htm
      SPECIFICATIONS
        Span:   10.32 meters (33 ft. 10 in.)
        Length:  8.92 meters (29 ft.  4 in.)
        Height:  2.79 meters ( 9 ft.  5 in.)
        Weight: 4,056 lbs. empty
                6,580 lbs. max.
        Armament: None
        Engines: Two Continental J69-T-25s of 1,025 lbs. thrust ea.
        Crew: Two

      PERFORMANCE
        Maximum speed:   425 mph (370 Kt)
        Cruising speed:  350 mph.
        Range:           650 miles
        Service Ceiling: 35,000 ft.

    * Jeff Scott
      Cessna A-37/T-37, cruise configuration
      small twin jet engine military trainer, data from:
        Roskam, Jan. Airplane Flight Dynamics and Automatic Flight
        Controls, Part I. Lawrence KS: DARcorporation, 1995,
        pg 501-503

-->
<fdm_config name="T37" version="2.0" release="BETA"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:noNamespaceSchemaLocation="http://jsbsim.sourceforge.net/JSBSim.xsd">

    <fileheader>
        <author> Erik Hofman </author>
        <filecreationdate> 2001-01-01 </filecreationdate>
        <version> $Revision: 1.27 $ </version>
        <description> T-37 trainer </description>
      <note>
        This model was created using publicly available data, publicly available
        technical reports, textbooks, and guesses. It contains no proprietary or
        restricted data. If this model has been validated at all, it would be
        only to the extent that it seems to "fly right", and that it possibly
        complies with published, publicly known, performance data (maximum speed,
        endurance, etc.). Thus, this model is meant for educational and entertainment
        purposes only.

        This simulation model is not endorsed by the manufacturer. This model is not
        to be sold.
      </note>
    </fileheader>

    <metrics>
        <wingarea unit="FT2"> 182 </wingarea>
        <wingspan unit="FT"> 33.83 </wingspan>
        <chord unit="FT"> 5.47 </chord>
        <htailarea unit="FT2"> 31.77 </htailarea>
        <htailarm unit="FT"> 11.73 </htailarm>
        <vtailarea unit="FT2"> 28.59 </vtailarea>
        <vtailarm unit="FT"> 0 </vtailarm>
        <location name="AERORP" unit="IN">
            <x> 0 </x>
            <y> 0 </y>
            <z> 0 </z>
        </location>
        <location name="EYEPOINT" unit="IN">
            <x> -13.1 </x>
            <y> 0 </y>
            <z> 18.6 </z>
        </location>
        <location name="VRP" unit="IN">
            <x> -118.57 </x>
            <y> 0 </y>
            <z> -8.8 </z>
        </location>
    </metrics>

    <mass_balance>
        <ixx unit="SLUG*FT2"> 7985 </ixx>
        <iyy unit="SLUG*FT2"> 6000 </iyy>
        <izz unit="SLUG*FT2"> 11183 </izz>
        <emptywt unit="LBS"> 4056 </emptywt>
        <location name="CG" unit="IN">
            <x> 0 </x>
            <y> 0 </y>
            <z> -8.8 </z>
        </location>
    </mass_balance>

    <ground_reactions>
        <contact type="BOGEY" name="NOSE_LG">
            <location unit="IN">
                <x> -61.57 </x>
                <y> 0 </y>
                <z> -31.4 </z>
            </location>
            <static_friction> 0.8 </static_friction>
            <dynamic_friction> 0.5 </dynamic_friction>
            <rolling_friction> 0.02 </rolling_friction>
            <spring_coeff unit="LBS/FT"> 3274 </spring_coeff>
            <damping_coeff unit="LBS/FT/SEC"> 658 </damping_coeff>
            <max_steer unit="DEG"> 5 </max_steer>
            <brake_group> NONE </brake_group>
            <retractable>1</retractable>
        </contact>
        <contact type="BOGEY" name="LEFT_MLG">
            <location unit="IN">
                <x> 6.7 </x>
                <y> -31.7 </y>
                <z> -29.9 </z>
            </location>
            <static_friction> 0.8 </static_friction>
            <dynamic_friction> 0.5 </dynamic_friction>
            <rolling_friction> 0.02 </rolling_friction>
            <spring_coeff unit="LBS/FT"> 6580 </spring_coeff>
            <damping_coeff unit="LBS/FT/SEC"> 1316 </damping_coeff>
            <max_steer unit="DEG"> 0.0 </max_steer>
            <brake_group> LEFT </brake_group>
            <retractable>1</retractable>
        </contact>
        <contact type="BOGEY" name="RIGHT_MLG">
            <location unit="IN">
                <x> 6.7 </x>
                <y> 31.7 </y>
                <z> -29.9 </z>
            </location>
            <static_friction> 0.8 </static_friction>
            <dynamic_friction> 0.5 </dynamic_friction>
            <rolling_friction> 0.02 </rolling_friction>
            <spring_coeff unit="LBS/FT"> 6580 </spring_coeff>
            <damping_coeff unit="LBS/FT/SEC"> 1316 </damping_coeff>
            <max_steer unit="DEG"> 0.0 </max_steer>
            <brake_group> RIGHT </brake_group>
            <retractable>1</retractable>
        </contact>
    </ground_reactions>
    <propulsion>
        <engine file="J69-T25">
            <feed>0</feed>
            <thruster file="direct">
                <location unit="IN">
                    <x> 40 </x>
                    <y> -30 </y>
                    <z> 0 </z>
                </location>
                <orient unit="DEG">
                    <roll> 0.0 </roll>
                    <pitch> 0.0 </pitch>
                    <yaw> 0.0 </yaw>
                </orient>
            </thruster>
        </engine>
        <engine file="J69-T25">
            <feed>1</feed>
            <thruster file="direct">
                <location unit="IN">
                    <x> 40 </x>
                    <y> 30 </y>
                    <z> 0 </z>
                </location>
                <orient unit="DEG">
                    <roll> 0.0 </roll>
                    <pitch> 0.0 </pitch>
                    <yaw> 0.0 </yaw>
                </orient>
            </thruster>
        </engine>
        <tank type="FUEL">    <!-- Tank number 0 -->
            <location unit="IN">
                <x> 0 </x>
                <y> 0 </y>
                <z> -8.7999 </z>
            </location>
            <capacity unit="LBS"> 700 </capacity>
            <contents unit="LBS"> 350 </contents>
        </tank>
        <tank type="FUEL">    <!-- Tank number 1 -->
            <location unit="IN">
                <x> 0 </x>
                <y> 0 </y>
                <z> -8.7999 </z>
            </location>
            <capacity unit="LBS"> 700 </capacity>
            <contents unit="LBS"> 350 </contents>
        </tank>
    </propulsion>
    <flight_control name="FCS: T37">
        <channel name="Pitch">
            <summer name="Pitch Trim Sum">
                <input>fcs/elevator-cmd-norm</input>
                <input>fcs/pitch-trim-cmd-norm</input>
                <clipto>
                    <min>-1</min>
                    <max>1</max>
                </clipto>
                <output>fcs/elevator-pos-norm</output>
            </summer>

            <aerosurface_scale name="Elevator Control">
                <input>fcs/pitch-trim-sum</input>
                <range>
                    <min>-0.35</min>
                    <max>0.3</max>
                </range>
                <output>fcs/elevator-pos-rad</output>
            </aerosurface_scale>
        </channel>
        <channel name="Roll">
            <summer name="Roll Trim Sum">
                <input>fcs/aileron-cmd-norm</input>
                <input>fcs/roll-trim-cmd-norm</input>
                <clipto>
                    <min>-1</min>
                    <max>1</max>
                </clipto>
                <output>fcs/left-aileron-pos-norm</output>
            </summer>

            <aerosurface_scale name="Left Aileron Control">
                <input>fcs/roll-trim-sum</input>
                <range>
                    <min>-0.35</min>
                    <max>0.35</max>
                </range>
                <output>fcs/left-aileron-pos-rad</output>
            </aerosurface_scale>

            <aerosurface_scale name="Right Aileron Control">
                <input>-fcs/roll-trim-sum</input>
                <range>
                    <min>-0.35</min>
                    <max>0.35</max>
                </range>
                <output>fcs/right-aileron-pos-rad</output>
            </aerosurface_scale>
        </channel>
        <channel name="Yaw">
            <summer name="Yaw Trim Sum">
                <input>fcs/rudder-cmd-norm</input>
                <input>fcs/yaw-trim-cmd-norm</input>
                <clipto>
                    <min>-1</min>
                    <max>1</max>
                </clipto>
                <output>fcs/rudder-pos-norm</output>
            </summer>

            <aerosurface_scale name="Rudder Control">
                <input>fcs/yaw-trim-sum</input>
                <range>
                    <min>-0.35</min>
                    <max>0.35</max>
                </range>
                <output>fcs/rudder-pos-rad</output>
            </aerosurface_scale>
        </channel>
        <channel name="Flaps">
            <kinematic name="Flaps Control">
                <input>fcs/flap-cmd-norm</input>
                <traverse>
                    <setting>
                        <position>0</position>
                        <time>0</time>
                    </setting>
                    <setting>
                        <position>0.5</position>
                        <time>4</time>
                    </setting>
                    <setting>
                        <position>1.0</position>
                        <time>3</time>
                    </setting>
                </traverse>
                <output>fcs/flap-pos-norm</output>
            </kinematic>

        </channel>
        <channel name="Landing Gear">
            <kinematic name="Gear Control">
                <input>gear/gear-cmd-norm</input>
                <traverse>
                    <setting>
                        <position>0</position>
                        <time>0</time>
                    </setting>
                    <setting>
                        <position>1</position>
                        <time>5</time>
                    </setting>
                </traverse>
                <output>gear/gear-pos-norm</output>
            </kinematic>
        </channel>
        <channel name="Speedbrake">
            <kinematic name="Speedbrake Control">
                <input>fcs/speedbrake-cmd-norm</input>
                <traverse>
                    <setting>
                        <position>0</position>
                        <time>0</time>
                    </setting>
                    <setting>
                        <position>1</position>
                        <time>1</time>
                    </setting>
                </traverse>
                <output>fcs/speedbrake-pos-norm</output>
            </kinematic>
        </channel>
    </flight_control>
    <aerodynamics>

        <function name="aero/function/kCLge">
            <description>Change_in_lift_due_to_ground_effect</description>
            <table>
                <independentVar>aero/h_b-mac-ft</independentVar>
                <tableData>
                    0.0000	1.0610
                    0.1000	1.0330
                    0.1500	1.0310
                    0.2000	1.0330
                    0.3000	1.0280
                    0.4000	1.0110
                    0.5000	1.0090
                    0.6000	1.0050
                    0.7000	1.0020
                    0.8000	1.0000
                    0.9000	1.0000
                    1.0000	1.0000
                    1.1000	1.0000
                </tableData>
            </table>
        </function>

        <function name="aero/function/kCDge">
            <description>Change_in_drag_due_to_ground_effect</description>
            <table>
                <independentVar>aero/h_b-mac-ft</independentVar>
                <tableData>
                    0.0000	0.8100
                    0.1000	0.9900
                    0.1500	0.9500
                    0.2000	0.9800
                    0.3000	0.9900
                    0.4000	1.0000
                    0.5000	1.0400
                    0.6000	1.0100
                    0.7000	0.9900
                    0.8000	1.0100
                    0.9000	1.0000
                    1.0000	1.0000
                    1.1000	1.0000
                </tableData>
            </table>
        </function>

        <axis name="DRAG">
            <function name="aero/coefficient/CD0">
                <description>Drag_at_zero_lift</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>aero/function/kCDge</property>
                      <table>
                          <independentVar>aero/alpha-rad</independentVar>
                          <tableData>
                              -1.5700	1.5000
                              -0.2600	0.0480
                              0.0000	0.0240
                              0.2600	0.0480
                              1.5700	1.5000
                          </tableData>
                      </table>
                </product>
            </function>
            <function name="aero/coefficient/CDalpha">
                <description>Drag_due_to_alpha</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>aero/alpha-rad</property>
                    <property>aero/function/kCDge</property>
                    <value>0.3840</value>
                </product>
            </function>
            <function name="aero/coefficient/CDmach">
                <description>Drag_due_to_mach</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>aero/function/kCDge</property>
                      <table>
                          <independentVar>velocities/mach</independentVar>
                          <tableData>
                              0.0000	0.0000
                              0.7700	0.0000
                              1.1000	0.0230
                              1.8000	0.0150
                          </tableData>
                      </table>
                </product>
            </function>
            <function name="aero/coefficient/CDflap">
                <description>Drag_due_to_flaps</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>fcs/flap-pos-norm</property>
                    <property>aero/function/kCDge</property>
                    <value>0.0750</value>
                </product>
            </function>
            <function name="aero/coefficient/CDgear">
                <description>Drag_due_to_gear</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>gear/gear-pos-norm</property>
                    <value>0.0200</value>
                </product>
            </function>
            <function name="aero/coefficient/CDsb">
                <description>Drag_due_to_speedbrakes</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>fcs/speedbrake-pos-norm</property>
                    <value>0.0240</value>
                </product>
            </function>
            <function name="aero/coefficient/CDbeta">
                <description>Drag_due_to_sideslip</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                      <table>
                          <independentVar>aero/beta-rad</independentVar>
                          <tableData>
                              -1.5700	1.2300
                              -0.2600	0.0500
                              0.0000	0.0000
                              0.2600	0.0500
                              1.5700	1.2300
                          </tableData>
                      </table>
                </product>
            </function>
            <function name="aero/coefficient/CDde">
                <description>Drag_due_to_Elevator_Deflection</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>fcs/mag-elevator-pos-rad</property>
                    <value>0.0750</value>
                </product>
            </function>
        </axis>

        <axis name="SIDE">
            <function name="aero/coefficient/CYb">
                <description>Side_force_due_to_beta</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>aero/beta-rad</property>
                    <value>-0.3460</value>
                </product>
            </function>
            <function name="aero/coefficient/DCYbdf">
                <description>Delta_Side_force_due_to_beta_due_to_gear</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>aero/beta-rad</property>
                    <property>gear/gear-pos-norm</property>
                    <value>-0.2478</value>
                </product>
            </function>
            <function name="aero/coefficient/CYp">
                <description>Side_force_due_to_roll_rate</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>aero/bi2vel</property>
                    <property>velocities/p-aero-rad_sec</property>
                    <value>-0.0827</value>
                </product>
            </function>
            <function name="aero/coefficient/CYr">
                <description>Side_force_due_to_yaw_rate</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>aero/bi2vel</property>
                    <property>velocities/r-aero-rad_sec</property>
                    <value>0.3000</value>
                </product>
            </function>
            <function name="aero/coefficient/CYdr">
                <description>Side_force_due_to_rudder</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>fcs/rudder-pos-rad</property>
                    <value>0.2000</value>
                </product>
            </function>
        </axis>

        <axis name="LIFT">
            <function name="aero/coefficient/CLalpha">
                <description>Lift_due_to_alpha</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>aero/function/kCLge</property>
                      <table>
                          <independentVar>aero/alpha-rad</independentVar>
                          <tableData>
                              -0.2000	-0.6400
                              0.0000	0.0800
                              0.2600	1.3390
                              0.6000	0.4480
                          </tableData>
                      </table>
                </product>
            </function>
            <function name="aero/coefficient/dCLflap">
                <description>Delta_Lift_due_to_flaps</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>fcs/flap-pos-norm</property>
                    <property>aero/function/kCLge</property>
                    <value>0.3500</value>
                </product>
            </function>
            <function name="aero/coefficient/CLadot">
                <description>Delta_Lift_due_to_alpha_rate</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>aero/alphadot-rad_sec</property>
                    <property>aero/ci2vel</property>
                    <value>2.0000</value>
                </product>
            </function>
            <function name="aero/coefficient/CLq">
                <description>Lift_due_to_pitch_rate</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>velocities/q-aero-rad_sec</property>
                    <property>aero/ci2vel</property>
                    <value>4.1000</value>
                </product>
            </function>
            <function name="aero/coefficient/dCLsb">
                <description>Delta_Lift_due_to_speedbrake</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>fcs/speedbrake-pos-norm</property>
                    <value>0.0000</value>
                </product>
            </function>
            <function name="aero/coefficient/CLde">
                <description>Lift_due_to_Elevator_Deflection</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>fcs/elevator-pos-rad</property>
                    <value>0.5000</value>
                </product>
            </function>
        </axis>

        <axis name="ROLL">
            <function name="aero/coefficient/Clb">
                <description>Roll_moment_due_to_beta</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>aero/beta-rad</property>
                    <value>-0.0944</value>
                </product>
            </function>
            <function name="aero/coefficient/Clp">
                <description>Roll_moment_due_to_roll_rate</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>aero/bi2vel</property>
                    <property>velocities/p-aero-rad_sec</property>
                    <value>-0.4420</value>
                </product>
            </function>
            <function name="aero/coefficient/Clr">
                <description>Roll_moment_due_to_yaw_rate</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>aero/bi2vel</property>
                    <property>velocities/r-aero-rad_sec</property>
                    <value>0.0926</value>
                </product>
            </function>
            <function name="aero/coefficient/DClrDg">
                <description>Roll_moment_due_to_yaw_rate_due_to_gear</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>aero/bi2vel</property>
                    <property>velocities/r-aero-rad_sec</property>
                    <property>gear/gear-pos-norm</property>
                    <value>0.1000</value>
                </product>
            </function>
            <function name="aero/coefficient/DClrDf">
                <description>Delta_Roll_moment_due_to_yaw_rate_due_to_flaps</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>aero/bi2vel</property>
                    <property>velocities/r-aero-rad_sec</property>
                    <property>fcs/flap-pos-norm</property>
                    <value>0.1800</value>
                </product>
            </function>
            <function name="aero/coefficient/Clda">
                <description>Roll_moment_due_to_aileron</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>fcs/left-aileron-pos-rad</property>
                      <table>
                          <independentVar>velocities/mach</independentVar>
                          <tableData>
                              0.0000	0.1810
                              2.0000	0.0400
                          </tableData>
                      </table>
                </product>
            </function>
            <function name="aero/coefficient/DCldaDf">
                <description>Delta_Roll_moment_due_to_aileron_due_to_flaps</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>fcs/left-aileron-pos-rad</property>
                    <property>fcs/flap-pos-norm</property>
                    <value>-0.0200</value>
                </product>
            </function>
            <function name="aero/coefficient/Cldr">
                <description>Roll_moment_due_to_rudder</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>fcs/rudder-pos-rad</property>
                    <value>0.0150</value>
                </product>
            </function>
        </axis>

        <axis name="PITCH">
            <function name="aero/coefficient/Cmo">
                <description>Pitching_moment_at_zero_alpha</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/cbarw-ft</property>
                    <value>0.0250</value>
                </product>
            </function>
            <function name="aero/coefficient/Cmalpha">
                <description>Pitch_moment_due_to_alpha</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/cbarw-ft</property>
                    <property>aero/alpha-rad</property>
                    <value>-0.7000</value>
                </product>
            </function>
            <function name="aero/coefficient/Cmadot">
                <description>Pitch_moment_due_to_alpha_rate</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/cbarw-ft</property>
                    <property>aero/ci2vel</property>
                    <property>aero/alphadot-rad_sec</property>
                    <value>-6.9500</value>
                </product>
            </function>
            <function name="aero/coefficient/Cmde">
                <description>Pitch_moment_due_to_elevator</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/cbarw-ft</property>
                    <property>fcs/elevator-pos-rad</property>
                      <table>
                          <independentVar>velocities/mach</independentVar>
                          <tableData>
                              0.0000	-1.1200
                              2.0000	-0.2000
                          </tableData>
                      </table>
                </product>
            </function>
            <function name="aero/coefficient/Cmq">
                <description>Pitch_moment_due_to_pitch_rate</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/cbarw-ft</property>
                    <property>aero/ci2vel</property>
                    <property>velocities/q-aero-rad_sec</property>
                    <value>-50.0000</value>
                </product>
            </function>
        </axis>

        <axis name="YAW">
            <function name="aero/coefficient/Cnb">
                <description>Yaw_moment_due_to_beta</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>aero/beta-rad</property>
                    <value>0.1106</value>
                </product>
            </function>
            <function name="aero/coefficient/DCnbDg">
                <description>Delta_Yaw_moment_due_to_beta_due_to_gear</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>aero/mag-beta-rad</property>
                    <property>gear/gear-pos-norm</property>
                    <value>-0.0096</value>
                </product>
            </function>
            <function name="aero/coefficient/DCnbDf">
                <description>Delta_Yaw_moment_due_to_beta_due_to_flaps</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>aero/mag-beta-rad</property>
                    <property>fcs/flap-pos-norm</property>
                    <value>-0.0088</value>
                </product>
            </function>
            <function name="aero/coefficient/Cnp">
                <description>Yaw_moment_due_to_roll_rate</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>aero/bi2vel</property>
                    <property>velocities/p-aero-rad_sec</property>
                    <value>-0.0243</value>
                </product>
            </function>
            <function name="aero/coefficient/DCnpDf">
                <description>Delta_Yaw_moment_due_to_roll_rate_due_to_flaps</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>aero/bi2vel</property>
                    <property>velocities/p-aero-rad_sec</property>
                    <value>-0.0200</value>
                </product>
            </function>
            <function name="aero/coefficient/Cnr">
                <description>Yaw_moment_due_to_yaw_rate</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>aero/bi2vel</property>
                    <property>velocities/r-aero-rad_sec</property>
                    <value>-0.1390</value>
                </product>
            </function>
            <function name="aero/coefficient/Cndr">
                <description>Yaw_moment_due_to_rudder</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>fcs/rudder-pos-rad</property>
                    <value>-0.0365</value>
                </product>
            </function>
            <function name="aero/coefficient/DCndrDf">
                <description>Delta_Yaw_moment_due_to_rudder_due_to_flaps</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>fcs/rudder-pos-rad</property>
                    <property>fcs/flap-pos-norm</property>
                    <value>0.0020</value>
                </product>
            </function>
            <function name="aero/coefficient/Cnda">
                <description>Adverse_yaw</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>fcs/left-aileron-pos-rad</property>
                    <value>-0.0254</value>
                </product>
            </function>
        </axis>
    </aerodynamics>
</fdm_config>
<?xml version="1.0"?>
<initialize name="reset00">
  <!--
    This file sets up the aircraft to start off
    from the runway in preparation for takeoff.
  -->
  <ubody unit="FT/SEC">   10.0  </ubody>
  <vbody unit="FT/SEC">    0.0  </vbody>
  <wbody unit="FT/SEC">    0.0  </wbody>
  <latitude unit="DEG">    0.0  </latitude>
  <longitude unit="DEG">   0.0  </longitude>
  <phi unit="DEG">         0.0  </phi>
  <theta unit="DEG">       0.0  </theta>
  <psi unit="DEG">       150.0  </psi>
  <altitude unit="FT">     4.7  </altitude>
</initialize>
// This file instructs the automatic synchronization utilities where to
// install this aircraft and under what name.
//
// The syntax is easy;
// * the package name at the beginning of a new line followed by a colon
// * a space as a column separator
// * the path and filename relative to the aircraft install directory
//
// Currently known package names are: FlightGear

FlightGear:
<?xml version="1.0"?>
<?xml-stylesheet type="text/xsl" href="http://jsbsim.sourceforge.net/JSBSim.xsl"?>
<fdm_config name="T38" version="2.0" release="BETA"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:noNamespaceSchemaLocation="http://jsbsim.sourceforge.net/JSBSim.xsd">

 <fileheader>
     <author>Aeromatic v 0.8, DPC</author>
     <filecreationdate>2004-01-01</filecreationdate>
     <version>$Revision: 1.26 $</version>
     <description>Models a Northrop T-38</description>
      <note>
        This model was created using publicly available data, publicly available
        technical reports, textbooks, and guesses. It contains no proprietary or
        restricted data. If this model has been validated at all, it would be
        only to the extent that it seems to "fly right", and that it possibly
        complies with published, publicly known, performance data (maximum speed,
        endurance, etc.). Thus, this model is meant for educational and entertainment
        purposes only.

        This simulation model is not endorsed by the manufacturer. This model is not
        to be sold.
      </note>
 </fileheader>

<!--
  File:     T38.xml
  Inputs:
    name:          T38
    type:          two-engine transonic/supersonic fighter
    max weight:    12500.0 lb
    wing span:     25.25 ft
    length:        46.3 ft
    wing area:     170.0 sq-ft
    gear type:     tricycle
    retractable?:  yes
    # engines:     2
    engine type:   turbine
    engine layout: aft fuselage
    yaw damper?    yes
  Outputs:
    wing loading:  73.53 lb/sq-ft
    CL-alpha:      3.6 per radian
    CL-0:          0.08
    CL-max:        1
    CD-0:          0.024
    K:             0.09

-->

    <metrics>
        <wingarea unit="FT2">  170 </wingarea>
        <wingspan unit="FT">    25.25 </wingspan>
        <chord unit="FT">        6.73 </chord>
        <htailarea unit="FT2">  34 </htailarea>
        <htailarm unit="FT">    13 </htailarm>
        <vtailarea unit="FT2">  47 </vtailarea>
        <vtailarm unit="FT">    13 </vtailarm>
        <location name="AERORP" unit="IN">
            <x> 320 </x>
            <y> 0 </y>
            <z> 0 </z>
        </location>
        <location name="EYEPOINT" unit="IN">
            <x> 154 </x>
            <y> 0 </y>
            <z> 36 </z>
        </location>
        <location name="VRP" unit="IN">
            <x> 320 </x>
            <y> 0 </y>
            <z> 0 </z>
        </location>
    </metrics>

    <mass_balance>
        <ixx unit="SLUG*FT2">  7806 </ixx>
        <iyy unit="SLUG*FT2"> 36075 </iyy>
        <izz unit="SLUG*FT2"> 31319 </izz>
        <emptywt unit="LBS">   7574 </emptywt>
        <location name="CG" unit="IN">
            <x> 314 </x>
            <y> 0 </y>
            <z> -10 </z>
        </location>
    </mass_balance>

    <ground_reactions>
        <contact type="BOGEY" name="NOSE_LG">
            <location unit="IN">
                <x> 73 </x>
                <y> 0 </y>
                <z> -46 </z>
            </location>
            <static_friction>  0.8 </static_friction>
            <dynamic_friction> 0.5 </dynamic_friction>
            <rolling_friction> 0.02 </rolling_friction>
            <spring_coeff unit="LBS/FT"> 5000 </spring_coeff>
            <damping_coeff unit="LBS/FT/SEC"> 500 </damping_coeff>
            <max_steer unit="DEG"> 5 </max_steer>
            <brake_group> NONE </brake_group>
            <retractable>1</retractable>
        </contact>
        <contact type="BOGEY" name="LEFT_MLG">
            <location unit="IN">
                <x> 335 </x>
                <y> -65 </y>
                <z> -46 </z>
            </location>
            <static_friction> 0.8 </static_friction>
            <dynamic_friction> 0.5 </dynamic_friction>
            <rolling_friction> 0.02 </rolling_friction>
            <spring_coeff unit="LBS/FT"> 37870 </spring_coeff>
            <damping_coeff unit="LBS/FT/SEC"> 3787 </damping_coeff>
            <max_steer unit="DEG"> 0.0 </max_steer>
            <brake_group> LEFT </brake_group>
            <retractable>1</retractable>
        </contact>
        <contact type="BOGEY" name="RIGHT_MLG">
            <location unit="IN">
                <x> 335 </x>
                <y> 65 </y>
                <z> -46 </z>
            </location>
            <static_friction> 0.8 </static_friction>
            <dynamic_friction> 0.5 </dynamic_friction>
            <rolling_friction> 0.02 </rolling_friction>
            <spring_coeff unit="LBS/FT"> 37870 </spring_coeff>
            <damping_coeff unit="LBS/FT/SEC"> 3787 </damping_coeff>
            <max_steer unit="DEG"> 0.0 </max_steer>
            <brake_group> RIGHT </brake_group>
            <retractable>1</retractable>
        </contact>
	<contact type="STRUCTURE" name="NOSE">
	    <location unit="IN">
		<x> -22 </x>
		<y> 0 </y>
		<z> -4 </z>
	    </location>
	    <static_friction>  0.80 </static_friction>
	    <dynamic_friction> 0.50 </dynamic_friction>
	    <spring_coeff unit="LBS/FT">      5000.00 </spring_coeff>
	    <damping_coeff unit="LBS/FT/SEC">  500.00 </damping_coeff>
	</contact>
	<contact type="STRUCTURE" name="LEFT_WINGTIP">
	    <location unit="IN">
		<x> 330 </x>
		<y> -157 </y>
		<z> -15 </z>
	    </location>
	    <static_friction>  0.80 </static_friction>
	    <dynamic_friction> 0.50 </dynamic_friction>
	    <spring_coeff unit="LBS/FT">      5000.00 </spring_coeff>
	    <damping_coeff unit="LBS/FT/SEC">  500.00 </damping_coeff>
	</contact>
	<contact type="STRUCTURE" name="RIGHT_WINGTIP">
	    <location unit="IN">
		<x> 330 </x>
		<y> 157 </y>
		<z> -15 </z>
	    </location>
	    <static_friction>  0.80 </static_friction>
	    <dynamic_friction> 0.50 </dynamic_friction>
	    <spring_coeff unit="LBS/FT">      5000.00 </spring_coeff>
	    <damping_coeff unit="LBS/FT/SEC">  500.00 </damping_coeff>
	</contact>
	<contact type="STRUCTURE" name="CANOPY">
	    <location unit="IN">
		<x> 178 </x>
		<y> 0 </y>
		<z> 54 </z>
	    </location>
	    <static_friction>  0.80 </static_friction>
	    <dynamic_friction> 0.50 </dynamic_friction>
	    <spring_coeff unit="LBS/FT">      5000.00 </spring_coeff>
	    <damping_coeff unit="LBS/FT/SEC">  500.00 </damping_coeff>
	</contact>
	<contact type="STRUCTURE" name="VSTAB">
	    <location unit="IN">
		<x> 450 </x>
		<y> 0 </y>
		<z> 114 </z>
	    </location>
	    <static_friction>  0.80 </static_friction>
	    <dynamic_friction> 0.50 </dynamic_friction>
	    <spring_coeff unit="LBS/FT">      5000.00 </spring_coeff>
	    <damping_coeff unit="LBS/FT/SEC">  500.00 </damping_coeff>
	</contact>
	<contact type="STRUCTURE" name="ENGINES">
	    <location unit="IN">
		<x> 525 </x>
		<y> 0 </y>
		<z> 5 </z>
	    </location>
	    <static_friction>  0.80 </static_friction>
	    <dynamic_friction> 0.50 </dynamic_friction>
	    <spring_coeff unit="LBS/FT">      5000.00 </spring_coeff>
	    <damping_coeff unit="LBS/FT/SEC">  500.00 </damping_coeff>
	</contact>
      </ground_reactions>
    <propulsion>
        <engine file="J85-GE-5">
            <feed>0</feed>
            <thruster file="direct">
                <location unit="IN">
                    <x> 551 </x>
                    <y> -20 </y>
                    <z> 0 </z>
                </location>
                <orient unit="DEG">
                    <roll> 0.0 </roll>
                    <pitch> 0.0 </pitch>
                    <yaw> 0.0 </yaw>
                </orient>
            </thruster>
        </engine>
        <engine file="J85-GE-5">
            <feed>1</feed>
            <thruster file="direct">
                <location unit="IN">
                    <x> 551 </x>
                    <y> 20 </y>
                    <z> 0 </z>
                </location>
                <orient unit="DEG">
                    <roll> 0.0 </roll>
                    <pitch> 0.0 </pitch>
                    <yaw> 0.0 </yaw>
                </orient>
            </thruster>
        </engine>
        <tank type="FUEL">    <!-- Tank number 0 -->
            <location unit="IN">
                <x> 298 </x>
                <y> 0 </y>
                <z> 0 </z>
            </location>
            <capacity unit="LBS"> 1953 </capacity>
            <contents unit="LBS"> 1900 </contents>
        </tank>
        <tank type="FUEL">    <!-- Tank number 1 -->
            <location unit="IN">
                <x> 370 </x>
                <y> 0 </y>
                <z> 0 </z>
            </location>
            <capacity unit="LBS"> 2029 </capacity>
            <contents unit="LBS"> 2000 </contents>
        </tank>
    </propulsion>
    <flight_control name="FCS: T38-FCS">
        <channel name="Pitch">
            <summer name="Pilot Pitch Sum">
                <input>fcs/elevator-cmd-norm</input>
                <input>fcs/pitch-trim-cmd-norm</input>
                <clipto>
                    <min>-1</min>
                    <max>1</max>
                </clipto>
            </summer>

            <scheduled_gain name="Pitch Feel">
                <input>fcs/pilot-pitch-sum</input>
                <table>
                  <independentVar>velocities/mach</independentVar>
                    <tableData>
                        0.0000	1.0000
                        0.6000	1.0000
                        1.2000	0.7000
                    </tableData>
                </table>
            </scheduled_gain>

            <aerosurface_scale name="Elevator Control">
                <input>fcs/pitch-feel</input>
                <range>
                    <min>-1.0</min>
                    <max>0.583</max>
                </range>
                <output>fcs/elevator-pos-norm</output>
            </aerosurface_scale>
        </channel>
        <channel name="Roll">
            <summer name="Pilot Roll Sum">
                <input>fcs/aileron-cmd-norm</input>
                <input>fcs/roll-trim-cmd-norm</input>
                <clipto>
                    <min>-1</min>
                    <max>1</max>
                </clipto>
            </summer>

            <scheduled_gain name="Roll Feel">
                <input>fcs/pilot-roll-sum</input>
                <table>
                  <independentVar>velocities/mach</independentVar>
                    <tableData>
                        0.0000	1.0000
                        0.6000	1.0000
                        1.2000	0.7000
                    </tableData>
                </table>
            </scheduled_gain>

            <aerosurface_scale name="Left Aileron Control">
                <input>fcs/roll-feel</input>
                <range>
                    <min>-1.00</min>
                    <max>0.75</max>
                </range>
                <output>fcs/left-aileron-pos-norm</output>
            </aerosurface_scale>

            <aerosurface_scale name="Right Aileron Control">
                <input>-fcs/roll-feel</input>
                <range>
                    <min>-1.00</min>
                    <max>0.65</max>
                </range>
                <output>fcs/right-aileron-pos-norm</output>
            </aerosurface_scale>
        </channel>
        <channel name="Yaw">
            <summer name="Rudder Command Sum">
                <input>fcs/rudder-cmd-norm</input>
                <input>fcs/yaw-trim-cmd-norm</input>
                <clipto>
                    <min>-1</min>
                    <max>1</max>
                </clipto>
            </summer>

            <scheduled_gain name="Yaw SAS Rate">
                <input>velocities/r-aero-rad_sec</input>
                <table>
                  <independentVar>velocities/mach</independentVar>
                    <tableData>
                        0.0000	0.0000
                        0.1000	0.0000
                        0.1100	1.0000
                    </tableData>
                </table>
            </scheduled_gain>

            <scheduled_gain name="Yaw SAS Beta">
                <input>aero/beta-rad</input>
                <table>
                  <independentVar>velocities/mach</independentVar>
                    <tableData>
                        0.0000	0.0000
                        1.2000	0.0000
                    </tableData>
                </table>
            </scheduled_gain>

            <summer name="Yaw SAS Sum">
                <input>fcs/yaw-sas-rate</input>
                <input>fcs/yaw-sas-beta</input>
                <clipto>
                    <min>-0.1</min>
                    <max>0.1</max>
                </clipto>
            </summer>

            <summer name="Rudder Sum">
                <input>fcs/rudder-command-sum</input>
                <input>fcs/yaw-sas-sum</input>
                <clipto>
                    <min>-1</min>
                    <max>1</max>
                </clipto>
            </summer>

            <aerosurface_scale name="Rudder Control">
                <input>fcs/rudder-sum</input>
                <range>
                    <min>-1.00</min>
                    <max>1.00</max>
                </range>
                <output>fcs/rudder-pos-norm</output>
            </aerosurface_scale>
        </channel>
        <channel name="Throttles">
         <pure_gain name="Throttle1">
            <input>fcs/throttle-cmd-norm</input>
            <gain>2</gain>
            <output>fcs/throttle-pos-norm</output>
         </pure_gain>

         <pure_gain name="Throttle2">
            <input>fcs/throttle-cmd-norm[1]</input>
            <gain>2</gain>
            <output>fcs/throttle-pos-norm[1]</output>
         </pure_gain>
        </channel>
        <channel name="Flaps">
            <kinematic name="Flaps Control">
                <input>fcs/flap-cmd-norm</input>
                <traverse>
                    <setting>
                        <position>0</position>
                        <time>0</time>
                    </setting>
                    <setting>
                        <position>24</position>
                        <time>5</time>
                    </setting>
                    <setting>
                        <position>40</position>
                        <time>3</time>
                    </setting>
                </traverse>
                <output>fcs/flap-pos-deg</output>
            </kinematic>
            <aerosurface_scale name="Flap Position Normalizer">
              <input>fcs/flap-pos-deg</input>
              <domain>
                <min>0</min>  <!-- Flaps actual minimum position -->
                <max>40</max>  <!-- Flaps actual maximum position -->
              </domain>
              <range>
                <min>0</min>  <!-- Flaps normalized minimum position -->
                <max>1</max>  <!-- Flaps normalized maximum position -->
              </range>
              <output>fcs/flap-pos-norm</output>
            </aerosurface_scale>
        </channel>
        <channel name="Landing Gear">
            <kinematic name="Gear Control">
                <input>gear/gear-cmd-norm</input>
                <traverse>
                    <setting>
                        <position>0</position>
                        <time>0</time>
                    </setting>
                    <setting>
                        <position>1</position>
                        <time>3</time>
                    </setting>
                </traverse>
                <output>gear/gear-pos-norm</output>
            </kinematic>
        </channel>
        <channel name="Speedbrake">
            <kinematic name="Speedbrake Control">
                <input>fcs/speedbrake-cmd-norm</input>
                <traverse>
                    <setting>
                        <position>0</position>
                        <time>0</time>
                    </setting>
                    <setting>
                        <position>1</position>
                        <time>1</time>
                    </setting>
                </traverse>
                <output>fcs/speedbrake-pos-norm</output>
            </kinematic>
        </channel>
    </flight_control>
    <aerodynamics>

        <axis name="DRAG">
            <function name="aero/coefficient/CD0">
                <description>Drag_at_zero_lift</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                      <table>
                          <independentVar>aero/alpha-rad</independentVar>
                          <tableData>
                             -1.5700	1.5000
                             -0.2600	0.0320
                              0.0000	0.0160
                              0.2600	0.0320
                              1.5700	1.5000
                          </tableData>
                      </table>
                </product>
            </function>
            <function name="aero/coefficient/CDi">
                <description>Induced_drag</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>aero/cl-squared</property>
                    <value>0.1000</value>
                </product>
            </function>
            <function name="aero/coefficient/CDmach">
                <description>Drag_due_to_mach</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                      <table>
                          <independentVar>velocities/mach</independentVar>
                          <tableData>
                              0.0000	0.0000
                              0.8100	0.0000
                              1.1000	0.0240
                              1.8000	0.0110
                          </tableData>
                      </table>
                </product>
            </function>
            <function name="aero/coefficient/CDflap">
                <description>Drag_due_to_flaps</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>fcs/flap-pos-deg</property>
                    <value>0.00225</value>
                </product>
            </function>
            <function name="aero/coefficient/CDgear">
                <description>Drag_due_to_gear</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>gear/gear-pos-norm</property>
                    <value>0.0150</value>
                </product>
            </function>
            <function name="aero/coefficient/CDsb">
                <description>Drag_due_to_speedbrakes</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>fcs/speedbrake-pos-norm</property>
                    <value>0.0250</value>
                </product>
            </function>
            <function name="aero/coefficient/CDbeta">
                <description>Drag_due_to_sideslip</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                      <table>
                          <independentVar>aero/beta-rad</independentVar>
                          <tableData>
                             -1.5700	1.2300
                             -0.2600	0.0500
                              0.0000	0.0000
                              0.2600	0.0500
                              1.5700	1.2300
                          </tableData>
                      </table>
                </product>
            </function>
            <function name="aero/coefficient/CDde">
                <description>Drag_due_to_Elevator_Deflection</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>fcs/mag-elevator-pos-rad</property>
                    <value>0.0300</value>
                </product>
            </function>
        </axis>

        <axis name="SIDE">
            <function name="aero/coefficient/CYb">
                <description>Side_force_due_to_beta</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>aero/beta-rad</property>
                    <value>-1.0000</value>
                </product>
            </function>
        </axis>

        <axis name="LIFT">
            <function name="aero/coefficient/CLalpha">
                <description>Lift_due_to_alpha</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                      <table>
                          <independentVar lookup="row">aero/alpha-rad</independentVar>
                          <independentVar lookup="column">fcs/flap-pos-deg</independentVar>
                          <tableData>
                                        0.0000 40.0000
                             -0.2000   -0.5710	0.1000
                              0.0000	0.0000	0.6000
                              0.2500	0.7160	1.3000
                              0.3300	0.9450	0.3000
                              0.6000	0.1740	0.0000
                          </tableData>
                      </table>
                </product>
            </function>
            <function name="aero/coefficient/CLde">
                <description>Lift_due_to_Elevator_Deflection</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>fcs/elevator-pos-norm</property>
                    <value>0.0600</value>
                </product>
            </function>
        </axis>

        <axis name="ROLL">
            <function name="aero/coefficient/Clb">
                <description>Roll_moment_due_to_beta</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>aero/beta-rad</property>
                      <table>
                          <independentVar>aero/alpha-rad</independentVar>
                          <tableData>
                              0.0000	-0.0500
                              0.5200	-0.1200
                          </tableData>
                      </table>
                </product>
            </function>
            <function name="aero/coefficient/Clp">
                <description>Roll_moment_due_to_roll_rate</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>aero/bi2vel</property>
                    <property>velocities/p-aero-rad_sec</property>
                    <value>-0.4000</value>
                </product>
            </function>
            <function name="aero/coefficient/Clr">
                <description>Roll_moment_due_to_yaw_rate</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>aero/bi2vel</property>
                    <property>velocities/r-aero-rad_sec</property>
                    <value>0.1200</value>
                </product>
            </function>
            <function name="aero/coefficient/CldaL">
                <description>Roll_moment_due_to_left_aileron</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>fcs/left-aileron-pos-norm</property>
                    <value>0.0193</value>
                </product>
            </function>
            <function name="aero/coefficient/CldaR">
                <description>Roll_moment_due_to_right_aileron</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>fcs/right-aileron-pos-norm</property>
                    <value>-0.0193</value>
                </product>
            </function>
            <function name="aero/coefficient/Cldr">
                <description>Roll_moment_due_to_rudder</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>fcs/rudder-pos-norm</property>
                    <value>0.0021</value>
                </product>
            </function>
        </axis>

        <axis name="PITCH">
            <function name="aero/coefficient/Cmalpha">
                <description>Pitch_moment_due_to_alpha</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/cbarw-ft</property>
                    <property>aero/alpha-rad</property>
                    <value>-0.3000</value>
                </product>
            </function>
            <function name="aero/coefficient/Cmde">
                <description>Pitch_moment_due_to_elevator</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/cbarw-ft</property>
                    <property>fcs/elevator-pos-norm</property>
                    <value>-0.1950</value>
                </product>
            </function>
            <function name="aero/coefficient/Cmq">
                <description>Pitch_moment_due_to_pitch_rate</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/cbarw-ft</property>
                    <property>aero/ci2vel</property>
                    <property>velocities/q-aero-rad_sec</property>
                    <value>-18.0000</value>
                </product>
            </function>
            <function name="aero/coefficient/Cmadot">
                <description>Pitch_moment_due_to_alpha_rate</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/cbarw-ft</property>
                    <property>aero/ci2vel</property>
                    <property>aero/alphadot-rad_sec</property>
                    <value>-9.0000</value>
                </product>
            </function>
            <function name="aero/coefficient/Cmflaps">
                <description>Pitch_moment_due_to_flaps</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/cbarw-ft</property>
                    <property>fcs/flap-pos-deg</property>
                    <value>-0.0025</value>
                </product>
            </function>
        </axis>

        <axis name="YAW">
            <function name="aero/coefficient/Cnb">
                <description>Yaw_moment_due_to_beta</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>aero/beta-rad</property>
                    <value>0.1000</value>
                </product>
            </function>
            <function name="aero/coefficient/Cnr">
                <description>Yaw_moment_due_to_yaw_rate</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>aero/bi2vel</property>
                    <property>velocities/r-aero-rad_sec</property>
                    <value>-0.1500</value>
                </product>
            </function>
            <function name="aero/coefficient/Cndr">
                <description>Yaw_moment_due_to_rudder</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>fcs/rudder-pos-norm</property>
                    <value>-0.0070</value>
                </product>
            </function>
        </axis>
    </aerodynamics>
<!--
    <output name="T38.csv" type="CSV">
        <propulsion> ON </propulsion>
    </output>
-->
</fdm_config>
<?xml version="1.0"?>
<initialize name="reset00">
  <!--
    This file sets up the aircraft to start off
    from the runway in preparation for takeoff.
  -->
  <ubody unit="FT/SEC">    0.0  </ubody>
  <vbody unit="FT/SEC">    0.0  </vbody>
  <wbody unit="FT/SEC">    0.0  </wbody>
  <latitude unit="DEG">   47.0  </latitude>
  <longitude unit="DEG"> 122.0  </longitude>
  <phi unit="DEG">         0.0  </phi>
  <theta unit="DEG">       0.0  </theta>
  <psi unit="DEG">       200.0  </psi>
  <altitude unit="FT">     6.0  </altitude>
</initialize>
// This file instructs the automatic synchronization utilities where to
// install this aircraft and under what name.
//
// The syntax is easy;
// * the package name at the beginning of a new line followed by a colon
// * a space as a column separator
// * the path and filename relative to the aircraft install directory
//
// Currently known package names are: FlightGear

FlightGear:
<?xml version="1.0"?>
<?xml-stylesheet type="text/xsl" href="http://jsbsim.sourceforge.net/JSBSim.xsl"?>
<fdm_config name="North American X-15" version="2.0" release="BETA"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:noNamespaceSchemaLocation="http://jsbsim.sourceforge.net/JSBSim.xsd">

    <fileheader>
        <author> Jon Berndt </author>
        <filecreationdate> 1998-07-01 </filecreationdate>
        <version> $Revision: 1.59 $ </version>
        <description> Models the X-15 hypersonic research aircraft </description>
        <reference refID="NASA-TN-D-6208" author="Anonymous" title="EXPERIENCE WITH THE X-15 ADAPTIVE FLIGHT CONTROL SYSTEM" date="March 1971"/>
        <reference refID="NASA-TN-D-2532" author="Roxanah B. Yancey" title="Flight Measurements of Stability and Control Derivatives of the X-15 Research Airplane to a Mach Number of 6.02 and an Angle of Attack of 25 degrees" date="1964"/>
      <note>
        This model was created using publicly available data, publicly available
        technical reports, textbooks, and guesses. It contains no proprietary or
        restricted data. If this model has been validated at all, it would be
        only to the extent that it seems to "fly right", and that it possibly
        complies with published, publicly known, performance data (maximum speed,
        endurance, etc.). Thus, this model is meant for educational and entertainment
        purposes only.

        This simulation model is not endorsed by the manufacturer. This model is not
        to be sold.
      </note>
    </fileheader>

    <metrics>
        <wingarea unit="FT2"> 200 </wingarea>
        <wingspan unit="FT"> 22.36 </wingspan>
        <chord unit="FT"> 10.27 </chord>
        <htailarea unit="FT2"> 0 </htailarea>
        <htailarm unit="FT"> 0 </htailarm>
        <vtailarea unit="FT2"> 0 </vtailarea>
        <vtailarm unit="FT"> 0 </vtailarm>
        <location name="AERORP" unit="IN">
            <x> 345.4 </x>
            <y> 0 </y>
            <z> 0 </z>
        </location>
        <location name="EYEPOINT" unit="IN">
            <x> 115.9 </x>
            <y> 0 </y>
            <z> 26 </z>
        </location>
        <location name="VRP" unit="IN">
            <x> 342.82 </x>
            <y> 0 </y>
            <z> 0 </z>
        </location>
    </metrics>

    <mass_balance negated_crossproduct_inertia="true">
        <ixx unit="SLUG*FT2"> 3650 </ixx>
        <iyy unit="SLUG*FT2"> 80000 </iyy>
        <izz unit="SLUG*FT2"> 82000 </izz>
        <ixy unit="SLUG*FT2"> 0 </ixy>
        <ixz unit="SLUG*FT2"> -590 </ixz>
        <iyz unit="SLUG*FT2"> 0 </iyz>
<!--        <emptywt unit="LBS"> 15560 </emptywt> -->
        <emptywt unit="LBS"> 14560 </emptywt> 
      <location name="CG" unit="IN">
            <x> 345 </x>
            <y> 0 </y>
            <z> 0 </z>
        </location>
    </mass_balance>

    <ground_reactions>
        <contact type="BOGEY" name="Nose Gear">
            <location unit="IN">
                <x> 63 </x>
                <y> 0 </y>
                <z> -48 </z>
            </location>
            <static_friction> 0.5 </static_friction>
            <dynamic_friction> 0.02 </dynamic_friction>
            <rolling_friction> 0.02 </rolling_friction>
            <spring_coeff unit="LBS/FT"> 18000 </spring_coeff>
            <damping_coeff unit="LBS/FT2/SEC2" type="SQUARE"> 40 </damping_coeff>
            <damping_coeff_rebound unit="LBS/FT/SEC"> 3000 </damping_coeff_rebound>
            <max_steer unit="DEG"> 0.0 </max_steer>
            <brake_group> NONE </brake_group>
            <retractable>0</retractable>
        </contact>
        <contact type="BOGEY" name="Left Skid">
            <location unit="IN">
                <x> 540.6 </x>
                <y> -56.8 </y>
                <z> -76.6 </z>
            </location>
            <static_friction> 0.9 </static_friction>
            <dynamic_friction> 0.3 </dynamic_friction>
            <rolling_friction> 0.3 </rolling_friction>
            <spring_coeff unit="LBS/FT"> 50000 </spring_coeff>
            <damping_coeff unit="LBS/FT/SEC"> 1500 </damping_coeff>
            <damping_coeff_rebound unit="LBS/FT/SEC"> 7500 </damping_coeff_rebound>
            <max_steer unit="DEG"> 0.0 </max_steer>
            <brake_group> NONE </brake_group>
            <retractable>0</retractable>
        </contact>
        <contact type="BOGEY" name="Right Skid">
            <location unit="IN">
                <x> 540.6 </x>
                <y> 56.8 </y>
                <z> -76.6 </z>
            </location>
            <static_friction> 0.9 </static_friction>
            <dynamic_friction> 0.3 </dynamic_friction>
            <rolling_friction> 0.3 </rolling_friction>
            <spring_coeff unit="LBS/FT"> 50000 </spring_coeff>
            <damping_coeff unit="LBS/FT/SEC"> 1500 </damping_coeff>
            <damping_coeff_rebound unit="LBS/FT/SEC"> 7500 </damping_coeff_rebound>
            <max_steer unit="DEG"> 0.0 </max_steer>
            <brake_group> NONE </brake_group>
            <retractable>0</retractable>
        </contact>
    </ground_reactions>
    <propulsion>
        <engine file="XLR99">
            <feed>0</feed>
            <feed>1</feed>
            <thruster file="xlr99_nozzle">
                <location unit="IN">
                    <x> 600 </x>
                    <y> 0 </y>
                    <z> 0 </z>
                </location>
                <orient unit="DEG">
                    <roll> 0.0 </roll>
                    <pitch> 0.0 </pitch>
                    <yaw> 0.0 </yaw>
                </orient>
            </thruster>
        </engine>
        <tank type="OXIDIZER">    <!-- Tank number 0 for Main engine -->
            <location unit="IN">
                <x> 282.3 </x>
                <y> 0 </y>
                <z> 0 </z>
            </location>
            <capacity unit="LBS"> 9470 </capacity>
            <contents unit="LBS"> 0 </contents>
        </tank>
        <tank type="FUEL">    <!-- Tank number 1 for Main engine -->
            <location unit="IN">
                <x> 408.3 </x>
                <y> 0 </y>
                <z> 0 </z>
            </location>
            <capacity unit="LBS"> 8236 </capacity>
            <contents unit="LBS"> 6 </contents>
        </tank>
        <tank type="OXIDIZER">    <!-- Tank number 2 for RCS -->
            <location unit="IN">
                <x> 140 </x>
                <y> 0 </y>
                <z> 0 </z>
            </location>
            <capacity unit="LBS"> 12 </capacity>
            <contents unit="LBS"> 0 </contents>
        </tank>
    </propulsion>
    
    <autopilot file="X15ap"/>

    <flight_control name="X-15">

        <channel name="Pitch">
            
            <summer name="Pitch Trim Sum">
                <input>ap/elevator-cmd</input>
                <input>fcs/elevator-cmd-norm</input>
                <input>fcs/pitch-trim-cmd-norm</input>
                <clipto>
                    <min>-1</min>
                    <max>1</max>
                </clipto>
            </summer>

            <aerosurface_scale name="Pitch Command Scale">
                <input>fcs/pitch-trim-sum</input>
                <range>
                    <min>-50</min>
                    <max>50</max>
                </range>
            </aerosurface_scale>

            <pure_gain name="Pitch Gain 1">
                <input>fcs/pitch-command-scale</input>
                <gain>-0.36</gain>
            </pure_gain>

            <scheduled_gain name="Pitch Scheduled Gain 1">
                <input>fcs/pitch-gain-1</input>
                <gain>0.017</gain>
                <table>
                    <independentVar>fcs/elevator-pos-rad</independentVar>
                    <tableData>
                        -0.68  -26.548
                        -0.595 -20.513
                        -0.51  -15.328
                        -0.425 -10.993
                        -0.34   -7.508
                        -0.255  -4.873
                        -0.17   -3.088
                        -0.085  -2.153
                         0      -2.068
                         0.085  -2.833
                         0.102  -3.088
                         0.119  -3.377
                         0.136  -3.7
                         0.153  -4.057
                         0.17   -4.448
                         0.187  -4.873
                         0.272  -7.508
                         0.357 -10.993
                         0.442 -15.328
                         0.527 -20.513
                         0.612 -26.548
                         0.697 -33.433
                    </tableData>
                </table>
            </scheduled_gain>

            <pure_gain name="Pitch SAS Feedback">
                <input>velocities/q-rad_sec</input>
                <gain>0.75</gain>
            </pure_gain>

            <summer name="Elevator Positioning">
                <input>fcs/pitch-scheduled-gain-1</input>
                <input>fcs/pitch-sas-feedback</input>
                <clipto>
                    <min>-0.26</min>
                    <max>0.61</max>
                </clipto>
            </summer>

            <lag_filter name="Elevator Filter">
                <input>fcs/elevator-positioning</input>
                <c1>600</c1>
                <output>fcs/elevator-pos-rad</output>
            </lag_filter>

        </channel>

        <channel name="Roll">

            <summer name="Roll Trim Sum">
                <input>ap/aileron-cmd</input>
                <input>fcs/aileron-cmd-norm</input>
            </summer>

            <aerosurface_scale name="Roll Command Scale">
                <input>fcs/roll-trim-sum</input>
                <range>
                    <min>-20</min>
                    <max>20</max>
                </range>
            </aerosurface_scale>

            <pure_gain name="Roll Gain 1">
                <input>fcs/roll-command-scale</input>
                <gain>0.42</gain>
            </pure_gain>

            <pure_gain name="Roll Gain 2">
                <input>fcs/roll-gain-1</input>
                <gain>0.027</gain>
            </pure_gain>

            <pure_gain name="Yaw-Roll Crossover Gain">
                <input>velocities/r-rad_sec</input>
                <gain>-0.9</gain>
            </pure_gain>

            <summer name="Yaw Coupled Aileron Feedback Sum">
                <input>velocities/p-rad_sec</input>
                <input>fcs/yaw-roll-crossover-gain</input>
            </summer>

            <pure_gain name="Roll SAS Gain">
                <input>fcs/yaw-coupled-aileron-feedback-sum</input>
                <gain>-0.5</gain>
            </pure_gain>

            <summer name="Aileron Positioning">
                <input>fcs/roll-gain-2</input>
                <input>fcs/roll-sas-gain</input>
                <clipto>
                    <min>-0.35</min>
                    <max>0.35</max>
                </clipto>
                <output>fcs/left-aileron-pos-rad</output>
            </summer>

        </channel>

        <channel name="Yaw">

            <aerosurface_scale name="Yaw Command Scale">
                <input>fcs/rudder-cmd-norm</input>
                <range>
                    <min>-250</min>
                    <max>250</max>
                </range>
            </aerosurface_scale>

            <pure_gain name="Yaw Gain 1">
                <input>fcs/yaw-command-scale</input>
                <gain>0.082</gain>
            </pure_gain>

            <pure_gain name="Yaw Gain 2">
                <input>fcs/yaw-gain-1</input>
                <gain>0.04</gain>
            </pure_gain>

            <pure_gain name="Yaw SAS Gain">
                <input>velocities/r-rad_sec</input>
                <gain>0.3</gain>
            </pure_gain>

            <summer name="Rudder Positioning">
                <input>fcs/yaw-gain-2</input>
                <input>fcs/yaw-sas-gain</input>
                <clipto>
                    <min>-0.52</min>
                    <max>0.52</max>
                </clipto>
                <output>fcs/rudder-pos-rad</output>
            </summer>
            
        </channel>
        
    </flight_control>
    
    <aerodynamics>

        <axis name="DRAG">
            <function name="aero/coefficient/CDmin">
                <description>Drag_minimum</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                      <table>
                          <independentVar>velocities/mach</independentVar>
                          <tableData>
                              0.0000	0.0610
                              0.1000	0.0610
                              0.5000	0.0610
                              0.7000	0.0620
                              0.8000	0.0650
                              0.9000	0.0680
                              0.9900	0.0900
                              1.0000	0.0900
                              1.0100	0.0900
                              1.1000	0.1300
                              1.2000	0.1200
                              1.3000	0.1100
                              1.4000	0.1000
                              1.5000	0.0930
                              2.0000	0.0800
                              3.0000	0.0620
                              4.0000	0.0480
                              5.0000	0.0400
                              6.0000	0.0380
                              7.0000	0.0370
                              8.0000	0.0370
                              9.0000	0.0370
                          </tableData>
                      </table>
                </product>
            </function>
            <function name="aero/coefficient/CDi">
                <description>Drag_induced</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>aero/cl-squared</property>
                      <table>
                          <independentVar>velocities/mach</independentVar>
                          <tableData>
                              0.0000	0.2000
                              0.5000	0.2000
                              1.0000	0.2300
                              1.5000	0.4000
                              2.0000	0.5000
                              3.0000	0.8000
                              4.0000	0.9300
                              5.0000	1.0500
                              6.0000	1.1500
                              9.0000	1.3300
                          </tableData>
                      </table>
                </product>
            </function>
        </axis>

        <axis name="SIDE">
            <function name="aero/coefficient/CYb">
                <description>Side_force_due_to_beta</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>aero/beta-rad</property>
                    <value>-1.4000</value>
                </product>
            </function>
            <function name="aero/coefficient/CYda">
                <description>Side_force_due_to_aileron</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>fcs/left-aileron-pos-rad</property>
                    <value>-0.0500</value>
                </product>
            </function>
            <function name="aero/coefficient/CYdr">
                <description>Side_force_due_to_rudder</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>fcs/rudder-pos-rad</property>
                    <value>0.4500</value>
                </product>
            </function>
        </axis>

        <axis name="LIFT">
            <function name="aero/coefficient/CLalpha">
                <description>Lift_due_to_alpha</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>aero/alpha-rad</property>
                      <table>
                          <independentVar>velocities/mach</independentVar>
                          <tableData>
                              0.0000	4.5000
                              0.4000	3.8000
                              0.6000	3.6000
                              1.0500	4.5000
                              1.4000	4.0000
                              2.8000	2.5000
                              6.0000	1.1000
                              9.0000	1.0000
                          </tableData>
                      </table>
                </product>
            </function>
            <function name="aero/coefficient/CLDe">
                <description>Lift_due_to_Elevator_Deflection</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>fcs/elevator-pos-rad</property>
                      <table>
                          <independentVar>velocities/mach</independentVar>
                          <tableData>
                              0.0000	1.0000
                              0.6000	1.0500
                              1.0000	1.1500
                              1.2000	1.0000
                              1.6000	0.6600
                              2.0000	0.5000
                              2.4000	0.4000
                              3.0000	0.3100
                              5.6000	0.2100
                              6.0000	0.2000
                              9.0000	0.2000
                          </tableData>
                      </table>
                </product>
            </function>
            <function name="aero/coefficient/CLM">
                <description>Lift_due_to_Mach</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>velocities/mach</property>
                      <table>
                          <independentVar lookup="row">velocities/mach</independentVar>
                          <independentVar lookup="column">position/h-sl-ft</independentVar>
                          <tableData>
                                0.0000	40000.0000	60000.0000	80000.0000
                              0.0000	0.0000	0.0000	0.0000	0.0000
                              0.6000	0.0000	0.0000	0.0000	0.0000
                              0.8000	0.0000	0.0000	0.2000	0.0000
                              1.0000	0.0100	0.0400	0.6000	0.0000
                              1.2000	0.0000	0.0200	0.1500	0.0000
                              1.4000	0.0000	0.0000	0.0000	0.0000
                              1.6000	0.0000	0.0000	0.0000	0.0000
                              9.0000	0.0000	0.0000	0.0000	0.0000
                          </tableData>
                      </table>
                </product>
            </function>
        </axis>

        <axis name="ROLL">
            <function name="aero/coefficient/Clb">
                <description>Roll_moment_due_to_beta</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>aero/beta-rad</property>
                    <value>-0.0100</value>
                </product>
            </function>
            <function name="aero/coefficient/Clp">
                <description>Roll_moment_due_to_roll_rate_(roll_damping)</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>aero/bi2vel</property>
                    <property>velocities/p-rad_sec</property>
                    <value>-0.3500</value>
                </product>
            </function>
            <function name="aero/coefficient/Clr">
                <description>Roll_moment_due_to_yaw_rate</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>aero/bi2vel</property>
                    <property>velocities/r-rad_sec</property>
                    <value>0.0400</value>
                </product>
            </function>
            <function name="aero/coefficient/Clda">
                <description>Roll_moment_due_to_aileron</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>fcs/left-aileron-pos-rad</property>
                      <table>
                          <independentVar lookup="row">velocities/mach</independentVar>
                          <independentVar lookup="column">position/h-sl-ft</independentVar>
                          <tableData>
                                0.0000	80000.0000
                              0.0000	0.0500	0.0500
                              0.4000	0.0700	0.0500
                              0.6000	0.0800	0.0500
                              1.0000	0.1100	0.0500
                              1.4000	0.0800	0.0600
                              1.6000	0.0700	0.0600
                              2.4000	0.0600	0.0500
                              6.0000	0.0300	0.0200
                          </tableData>
                      </table>
                </product>
            </function>
            <function name="aero/coefficient/Cldr">
                <description>Roll_moment_due_to_rudder</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>fcs/rudder-pos-rad</property>
                    <value>0.0120</value>
                </product>
            </function>
        </axis>

        <axis name="PITCH">
            <function name="aero/coefficient/Cmalpha">
                <description>Pitch_moment_due_to_alpha</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/cbarw-ft</property>
                    <property>aero/alpha-rad</property>
                    <value>-1.2000</value>
                </product>
            </function>
            <function name="aero/coefficient/Cmq">
                <description>Pitch_moment_due_to_pitch_rate</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/cbarw-ft</property>
                    <property>aero/ci2vel</property>
                    <property>velocities/q-rad_sec</property>
                    <value>-6.2000</value>
                </product>
            </function>
            <function name="aero/coefficient/Cmadot">
                <description>Pitch_moment_due_to_alpha_rate</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/cbarw-ft</property>
                    <property>aero/ci2vel</property>
                    <property>aero/alphadot-rad_sec</property>
                    <value>0.0000</value>
                </product>
            </function>
            <function name="aero/coefficient/CmM">
                <description>Pitch_moment_due_to_Mach</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/cbarw-ft</property>
                    <property>velocities/mach</property>
                      <table>
                          <independentVar lookup="row">velocities/mach</independentVar>
                          <independentVar lookup="column">position/h-sl-ft</independentVar>
                          <tableData>
                                0.0000	40000.0000	60000.0000	80000.0000
                              0.0000	0.0000	0.0000	0.0000	0.0000
                              0.6000	0.0000	-0.0100	-0.0100	0.0000
                              0.8000	0.0000	-0.1300	-0.1300	0.0000
                              1.0000	0.0000	-0.1100	-0.1800	0.0000
                              1.1000	0.0000	-0.1600	-0.1800	0.0000
                              1.2000	0.0000	-0.2500	-0.1700	0.0000
                              1.4000	0.0000	-0.0600	-0.1500	0.0000
                              1.7000	0.0000	-0.0300	-0.0300	0.0000
                              2.0000	0.0000	-0.0100	-0.0100	0.0000
                              9.0000	0.0000	0.0000	0.0000	0.0000
                          </tableData>
                      </table>
                </product>
            </function>
            <function name="aero/coefficient/Cmde">
                <description>Pitch_moment_due_to_elevator_deflection</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/cbarw-ft</property>
                    <property>fcs/elevator-pos-rad</property>
                      <table>
                          <independentVar>velocities/mach</independentVar>
                          <tableData>
                              0.0000	-1.5000
                              0.8000	-1.6000
                              1.0000	-1.7500
                              1.6000	-1.3000
                              2.8000	-0.6000
                              6.0000	-0.2500
                              9.0000	-0.2000
                          </tableData>
                      </table>
                </product>
            </function>
        </axis>

        <axis name="YAW">
            <function name="aero/coefficient/Cnb">
                <description>Yaw_moment_due_to_beta</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>aero/beta-rad</property>
                    <value>0.5000</value>
                </product>
            </function>
            <function name="aero/coefficient/Cnp">
                <description>Yaw_moment_due_to_roll_rate</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>aero/bi2vel</property>
                    <property>velocities/p-rad_sec</property>
                    <value>0.0000</value>
                </product>
            </function>
            <function name="aero/coefficient/Cnr">
                <description>Yaw_moment_due_to_yaw_rate</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>aero/bi2vel</property>
                    <property>velocities/r-rad_sec</property>
                    <value>-1.5000</value>
                </product>
            </function>
            <function name="aero/coefficient/Cnda">
                <description>Yaw_moment_due_to_aileron</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>fcs/left-aileron-pos-rad</property>
                    <value>0.0400</value>
                </product>
            </function>
            <function name="aero/coefficient/Cndr">
                <description>Yaw_moment_due_to_rudder</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>fcs/rudder-pos-rad</property>
                    <value>-0.3000</value>
                </product>
            </function>
        </axis>
    </aerodynamics>
</fdm_config>
<?xml version="1.0"?>
<!--

  Author:   Bertrand Coconnier
  Date:     15 January 2012
  Function: X15 autopilot test file

-->

<autopilot name="John Smith">

  <property> ap/pitch-hold </property>
  <property> ap/altitude-hold </property>
  <property> ap/roll-hold </property>
  <property> ap/pitch-target-deg </property>

  <channel name="Pitch holder">
    <pure_gain name="fcs/pitch-target-rad">
      <input> ap/pitch-target-deg </input>
      <gain> 0.01745329252 </gain> <!-- 180/pi -->
    </pure_gain>

    <summer name="fcs/pitch-error-rad">
      <input> attitude/pitch-rad </input>
      <input> -fcs/pitch-target-rad </input>
    </summer>

    <pid name="fcs/pitch-controller">
      <input> fcs/pitch-error-rad </input>
      <kp> 100.0 </kp>
      <kd> 5.0 </kd>
      <ki> 1.0 </ki>
    </pid>

    <switch name="fcs/pitch-cmd">
      <default value="0.0"/>
      <test value="fcs/pitch-controller">
        ap/pitch-hold == 1
      </test>
    </switch>
  </channel>

  <channel name="Altitude holder">
    <switch name="fcs/altitude-hold-ft">
      <default value="position/h-sl-ft"/>
      <test value="fcs/altitude-hold-ft">
        ap/altitude-hold == 1
      </test>
    </switch>

    <summer name="fcs/altitude-error-ft">
      <input> position/h-sl-ft </input>
      <input> -fcs/altitude-hold-ft </input>
    </summer>

    <pid name="fcs/altitude-controller">
      <input> fcs/altitude-error-ft </input>
      <kp> 0.001 </kp>
      <kd> 0.0005 </kd>
      <ki> 0.0 </ki>
    </pid>

    <switch name="fcs/altitude-cmd">
      <default value="0.0"/>
      <test value="fcs/altitude-controller">
        ap/altitude-hold == 1
      </test>
    </switch>
  </channel>

  <channel name="Elevator Summer">
    <summer name="ap/elevator-cmd">
      <input> fcs/pitch-cmd </input>
      <input> fcs/altitude-cmd </input>
    </summer>
  </channel>

  <channel name="Wing Level holder">
    <pid name="fcs/roll-controller">
      <input> -attitude/roll-rad </input>
      <kp> 5.0 </kp>
      <kd> 2.0 </kd>
      <ki> 0.5 </ki>
    </pid>

    <switch name="ap/aileron-cmd">
      <default value="0.0"/>
      <test value="fcs/roll-controller">
        ap/roll-hold == 1
      </test>
    </switch>
  </channel>
</autopilot>

<?xml version="1.0"?>
<initialize name="reset00">
  <!--
    This file sets up the aircraft to start off
    from the runway in preparation for takeoff.
  -->
  <ubody unit="FT/SEC"> 2000.0  </ubody>
  <vbody unit="FT/SEC">    0.0  </vbody>
  <wbody unit="FT/SEC">  120.0  </wbody>
  <latitude unit="DEG">   47.0  </latitude>
  <longitude unit="DEG">-110.0  </longitude>
  <phi unit="DEG">         0.0  </phi>
  <theta unit="DEG">       0.0  </theta>
  <psi unit="DEG">       270.0  </psi>
  <altitude unit="FT"> 79000.0  </altitude>
</initialize>

<?xml version="1.0"?>
<initialize name="reset01">
  <!--
    This file sets up the X15 to start off at altitude.
  -->
  <ubody unit="FT/SEC">  750.0  </ubody>
  <vbody unit="FT/SEC">    0.0  </vbody>
  <wbody unit="FT/SEC">  100.0  </wbody>
  <latitude unit="DEG">   33.0  </latitude>
  <longitude unit="DEG">-110.0  </longitude>
  <phi unit="DEG">         0.0  </phi>
  <theta unit="DEG">       0.0  </theta>
  <psi unit="DEG">       260.0  </psi>
  <altitude unit="FT"> 40000.0  </altitude>
</initialize>

// This file instructs the automatic synchronization utilities where to
// install this aircraft and under what name.
//
// The syntax is easy;
// * the package name at the beginning of a new line followed by a colon
// * a space as a column separator
// * the path and filename relative to the aircraft install directory
//
// Currently known package names are: FlightGear

// Don't install in the FlightGear base package.
//FlightGear:
<?xml version="1.0"?>
<?xml-stylesheet type="text/xsl" href="http://jsbsim.sourceforge.net/JSBSim.xsl"?>
<fdm_config name="XB-70" version="2.0" release="BETA"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:noNamespaceSchemaLocation="http://jsbsim.sourceforge.net/JSBSim.xsd">

    <fileheader>
        <author> Jon Berndt/Aeromatic </author>
        <filecreationdate> 2004-01-01 </filecreationdate>
        <version>$Revision: 1.9 $ </version>
        <description> XB-70 bomber flight model approximation </description>
        <reference
          refID="TM X-2933"
          author="NASA"
          title="Summary of Stability and Control Characteristics of the XB-70 Airplane"
          date=""/>
      <note>
        This model was created using publicly available data, publicly available
        technical reports, textbooks, and guesses. It contains no proprietary or
        restricted data. If this model has been validated at all, it would be
        only to the extent that it seems to "fly right", and that it possibly
        complies with published, publicly known, performance data (maximum speed,
        endurance, etc.). Thus, this model is meant for educational and entertainment
        purposes only.

        This simulation model is not endorsed by the manufacturer. This model is not
        to be sold.
      </note>
    </fileheader>

    <metrics>
        <wingarea unit="FT2"> 6298 </wingarea>
        <wingspan unit="FT"> 105 </wingspan>
        <chord unit="FT"> 78.5 </chord>
        <htailarea unit="FT2"> 415.6 </htailarea>
        <htailarm unit="FT"> 0 </htailarm>
        <vtailarea unit="FT2"> 468 </vtailarea>
        <vtailarm unit="FT"> 0 </vtailarm>
        <location name="AERORP" unit="IN">
            <x> 942.8 </x>
            <y> 0 </y>
            <z> 0 </z>
        </location>
        <location name="EYEPOINT" unit="IN">
            <x> 160 </x>
            <y> -32 </y>
            <z> 80 </z>
        </location>
        <location name="VRP" unit="IN">
            <x> 0 </x>
            <y> 0 </y>
            <z> 0 </z>
        </location>
    </metrics>

    <mass_balance negated_crossproduct_inertia="true">
        <ixx unit="SLUG*FT2"> 1.34e+06 </ixx>
        <iyy unit="SLUG*FT2"> 1.6e+07 </iyy>
        <izz unit="SLUG*FT2"> 1.68e+07 </izz>
        <ixz unit="SLUG*FT2"> 590000 </ixz>
        <emptywt unit="LBS"> 300000 </emptywt>
        <location name="CG" unit="IN">
            <x> 1593 </x>
            <y> 0 </y>
            <z> -57.9 </z>
        </location>
    </mass_balance>

    <ground_reactions>
        <contact type="BOGEY" name="NOSE_LG">
            <location unit="IN">
                <x> 301.1 </x>
                <y> 0 </y>
                <z> -277.9 </z>
            </location>
            <static_friction> 0.8 </static_friction>
            <dynamic_friction> 0.5 </dynamic_friction>
            <rolling_friction> 0.02 </rolling_friction>
            <spring_coeff unit="LBS/FT"> 150000 </spring_coeff>
            <damping_coeff unit="LBS/FT/SEC"> 50000 </damping_coeff>
            <max_steer unit="DEG"> 5 </max_steer>
            <brake_group> NONE </brake_group>
            <retractable>1</retractable>
        </contact>
        <contact type="BOGEY" name="LEFT_MLG">
            <location unit="IN">
                <x> 1700 </x>
                <y> -113.4 </y>
                <z> -277.9 </z>
            </location>
            <static_friction> 0.8 </static_friction>
            <dynamic_friction> 0.5 </dynamic_friction>
            <rolling_friction> 0.02 </rolling_friction>
            <spring_coeff unit="LBS/FT"> 500000 </spring_coeff>
            <damping_coeff unit="LBS/FT/SEC"> 100000 </damping_coeff>
            <max_steer unit="DEG"> 0.0 </max_steer>
            <brake_group> LEFT </brake_group>
            <retractable>1</retractable>
        </contact>
        <contact type="BOGEY" name="RIGHT_MLG">
            <location unit="IN">
                <x> 1700 </x>
                <y> 113.4 </y>
                <z> -277.9 </z>
            </location>
            <static_friction> 0.8 </static_friction>
            <dynamic_friction> 0.5 </dynamic_friction>
            <rolling_friction> 0.02 </rolling_friction>
            <spring_coeff unit="LBS/FT"> 500000 </spring_coeff>
            <damping_coeff unit="LBS/FT/SEC"> 100000 </damping_coeff>
            <max_steer unit="DEG"> 0.0 </max_steer>
            <brake_group> RIGHT </brake_group>
            <retractable>1</retractable>
        </contact>
    </ground_reactions>
    <propulsion>
        <engine file="YJ93-GE-3">
            <feed>0</feed>
            <thruster file="direct">
                <location unit="IN">
                    <x> 1273.8 </x>
                    <y> -210 </y>
                    <z> -40 </z>
                </location>
                <orient unit="DEG">
                    <roll> 0.0 </roll>
                    <pitch> 0.0 </pitch>
                    <yaw> 0.0 </yaw>
                </orient>
            </thruster>
        </engine>
        <engine file="YJ93-GE-3">
            <feed>1</feed>
            <thruster file="direct">
                <location unit="IN">
                    <x> 1273.8 </x>
                    <y> -210 </y>
                    <z> -40 </z>
                </location>
                <orient unit="DEG">
                    <roll> 0.0 </roll>
                    <pitch> 0.0 </pitch>
                    <yaw> 0.0 </yaw>
                </orient>
            </thruster>
        </engine>
        <engine file="YJ93-GE-3">
            <feed>2</feed>
            <thruster file="direct">
                <location unit="IN">
                    <x> 1273.8 </x>
                    <y> -210 </y>
                    <z> -40 </z>
                </location>
                <orient unit="DEG">
                    <roll> 0.0 </roll>
                    <pitch> 0.0 </pitch>
                    <yaw> 0.0 </yaw>
                </orient>
            </thruster>
        </engine>
        <engine file="YJ93-GE-3">
            <feed>3</feed>
            <thruster file="direct">
                <location unit="IN">
                    <x> 1273.8 </x>
                    <y> 210 </y>
                    <z> -40 </z>
                </location>
                <orient unit="DEG">
                    <roll> 0.0 </roll>
                    <pitch> 0.0 </pitch>
                    <yaw> 0.0 </yaw>
                </orient>
            </thruster>
        </engine>
        <engine file="YJ93-GE-3">
            <feed>4</feed>
            <thruster file="direct">
                <location unit="IN">
                    <x> 1273.8 </x>
                    <y> 210 </y>
                    <z> -40 </z>
                </location>
                <orient unit="DEG">
                    <roll> 0.0 </roll>
                    <pitch> 0.0 </pitch>
                    <yaw> 0.0 </yaw>
                </orient>
            </thruster>
        </engine>
        <engine file="YJ93-GE-3">
            <feed>5</feed>
            <thruster file="direct">
                <location unit="IN">
                    <x> 1273.8 </x>
                    <y> 210 </y>
                    <z> -40 </z>
                </location>
                <orient unit="DEG">
                    <roll> 0.0 </roll>
                    <pitch> 0.0 </pitch>
                    <yaw> 0.0 </yaw>
                </orient>
            </thruster>
        </engine>
        <tank type="FUEL">    <!-- Tank number 0 -->
            <location unit="IN">
                <x> 1273.8 </x>
                <y> 0 </y>
                <z> -57.9 </z>
            </location>
            <capacity unit="LBS"> 4464.3 </capacity>
            <contents unit="LBS"> 2232.1 </contents>
        </tank>
        <tank type="FUEL">    <!-- Tank number 1 -->
            <location unit="IN">
                <x> 1273.8 </x>
                <y> 0 </y>
                <z> -57.9 </z>
            </location>
            <capacity unit="LBS"> 4464.3 </capacity>
            <contents unit="LBS"> 2232.1 </contents>
        </tank>
        <tank type="FUEL">    <!-- Tank number 2 -->
            <location unit="IN">
                <x> 1273.8 </x>
                <y> 0 </y>
                <z> -57.9 </z>
            </location>
            <capacity unit="LBS"> 4464.3 </capacity>
            <contents unit="LBS"> 2232.1 </contents>
        </tank>
        <tank type="FUEL">    <!-- Tank number 3 -->
            <location unit="IN">
                <x> 1273.8 </x>
                <y> 0 </y>
                <z> -57.9 </z>
            </location>
            <capacity unit="LBS"> 4464.3 </capacity>
            <contents unit="LBS"> 2232.1 </contents>
        </tank>
        <tank type="FUEL">    <!-- Tank number 4 -->
            <location unit="IN">
                <x> 1273.8 </x>
                <y> 0 </y>
                <z> -57.9 </z>
            </location>
            <capacity unit="LBS"> 4464.3 </capacity>
            <contents unit="LBS"> 2232.1 </contents>
        </tank>
        <tank type="FUEL">    <!-- Tank number 5 -->
            <location unit="IN">
                <x> 1273.8 </x>
                <y> 0 </y>
                <z> -57.9 </z>
            </location>
            <capacity unit="LBS"> 4464.3 </capacity>
            <contents unit="LBS"> 2232.1 </contents>
        </tank>
        <tank type="FUEL">    <!-- Tank number 6 -->
            <location unit="IN">
                <x> 1273.8 </x>
                <y> 0 </y>
                <z> -57.9 </z>
            </location>
            <capacity unit="LBS"> 4464.3 </capacity>
            <contents unit="LBS"> 2232.1 </contents>
        </tank>
    </propulsion>
    <flight_control name="FCS: XB-70">
        <channel name="Pitch">

            <summer name="Pitch Trim Sum">
                <input>fcs/elevator-cmd-norm</input>
                <input>fcs/pitch-trim-cmd-norm</input>
                <clipto>
                    <min>-1</min>
                    <max>1</max>
                </clipto>
            </summer>

            <aerosurface_scale name="Elevator Control">
                <input>fcs/pitch-trim-sum</input>
                <range>
                    <min>-0.35</min>
                    <max>0.3</max>
                </range>
                <output>fcs/elevator-pos-rad</output>
            </aerosurface_scale>
        </channel>
        <channel name="Roll">
            <summer name="Roll Trim Sum">
                <input>fcs/aileron-cmd-norm</input>
                <input>fcs/roll-trim-cmd-norm</input>
                <clipto>
                    <min>-1</min>
                    <max>1</max>
                </clipto>
            </summer>

            <aerosurface_scale name="Left Aileron Control">
                <input>fcs/roll-trim-sum</input>
                <range>
                    <min>-0.35</min>
                    <max>0.35</max>
                </range>
                <output>fcs/left-aileron-pos-rad</output>
            </aerosurface_scale>

            <aerosurface_scale name="Right Aileron Control">
                <input>-fcs/roll-trim-sum</input>
                <range>
                    <min>-0.35</min>
                    <max>0.35</max>
                </range>
                <output>fcs/right-aileron-pos-rad</output>
            </aerosurface_scale>
        </channel>
        <channel name="Yaw">
            <summer name="Rudder Command Sum">
                <input>fcs/rudder-cmd-norm</input>
                <input>fcs/yaw-trim-cmd-norm</input>
                <clipto>
                    <min>-1</min>
                    <max>1</max>
                </clipto>
            </summer>

            <scheduled_gain name="Yaw Damper Rate">
                <input>velocities/r-aero-rad_sec</input>
                <table>
                  <independentVar>aero/qbar-psf</independentVar>
                  <tableData>
                        3.0000	0.0000
                        11.0000	2.0000
                  </tableData>
                </table>
            </scheduled_gain>

            <scheduled_gain name="Yaw Damper Beta">
                <input>aero/beta-rad</input>
                <table>
                  <independentVar>aero/qbar-psf</independentVar>
                  <tableData>
                        3.0000	0.0000
                        11.0000	0.0000
                  </tableData>
                </table>
            </scheduled_gain>

            <summer name="Yaw Damper Sum">
                <input>fcs/yaw-damper-beta</input>
                <input>fcs/yaw-damper-rate</input>
                <clipto>
                    <min>-0.2000</min>
                    <max>0.2000</max>
                </clipto>
            </summer>

            <scheduled_gain name="Yaw Damper Final">
                <input>fcs/yaw-damper-sum</input>
                <table>
                  <independentVar>aero/qbar-psf</independentVar>
                  <tableData>
                        2.9900	0.0000
                        3.0000	1.0000
                  </tableData>
                </table>
            </scheduled_gain>

            <summer name="Rudder Sum">
                <input>fcs/rudder-command-sum</input>
                <input>fcs/yaw-damper-final</input>
                <clipto>
                    <min>-1.0000</min>
                    <max>1.0000</max>
                </clipto>
            </summer>

            <aerosurface_scale name="Rudder Control">
                <input>fcs/rudder-sum</input>
                <range>
                    <min>-0.3500</min>
                    <max>0.3500</max>
                </range>
                <output>fcs/rudder-pos-rad</output>
            </aerosurface_scale>
        </channel>
        <channel name="Flaps">
            <kinematic name="Flaps Control">
                <input>fcs/flap-cmd-norm</input>
                <traverse>
                    <setting>
                        <position>0.0000</position>
                        <time>0.0000</time>
                    </setting>
                    <setting>
                        <position>15.0000</position>
                        <time>4.0000</time>
                    </setting>
                    <setting>
                        <position>30.0000</position>
                        <time>3.0000</time>
                    </setting>
                </traverse>
                <output>fcs/flap-pos-deg</output>
            </kinematic>
            <aerosurface_scale name="Flap Position Normalizer">
              <input>fcs/flap-pos-deg</input>
              <domain>
                <min>0</min>  <!-- Flaps actual minimum position -->
                <max>30</max>  <!-- Flaps actual maximum position -->
              </domain>
              <range>
                <min>0</min>  <!-- Flaps normalized minimum position -->
                <max>1</max>  <!-- Flaps normalized maximum position -->
              </range>
              <output>fcs/flap-pos-norm</output>
            </aerosurface_scale>
        </channel>
        <channel name="Landing gear">
            <kinematic name="Gear Control">
                <input>gear/gear-cmd-norm</input>
                <traverse>
                    <setting>
                        <position>0.0000</position>
                        <time>0.0000</time>
                    </setting>
                    <setting>
                        <position>1.0000</position>
                        <time>5.0000</time>
                    </setting>
                </traverse>
                <output>gear/gear-pos-norm</output>
            </kinematic>
        </channel>
        <channel name="Speedbrake">
            <kinematic name="Speedbrake Control">
                <input>fcs/speedbrake-cmd-norm</input>
                <traverse>
                    <setting>
                        <position>0.0000</position>
                        <time>0.0000</time>
                    </setting>
                    <setting>
                        <position>1.0000</position>
                        <time>1.0000</time>
                    </setting>
                </traverse>
                <output>fcs/speedbrake-pos-norm</output>
            </kinematic>
        </channel>
    </flight_control>
    <aerodynamics>

        <axis name="DRAG">
            <function name="aero/coefficient/CD0">
                <description>Drag_at_zero_lift</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                      <table>
                          <independentVar>aero/alpha-rad</independentVar>
                          <tableData>
                              -1.5700	1.5000
                              -0.2600	0.0340
                              0.0000	0.0170
                              0.2600	0.0340
                              1.5700	1.5000
                          </tableData>
                      </table>
                </product>
            </function>
            <function name="aero/coefficient/CDi">
                <description>Induced_drag</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>aero/cl-squared</property>
                    <value>0.0420</value>
                </product>
            </function>
            <function name="aero/coefficient/CDmach">
                <description>Drag_due_to_mach</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                      <table>
                          <independentVar>velocities/mach</independentVar>
                          <tableData>
                              0.0000	0.0000
                              0.7900	0.0000
                              1.1000	0.0230
                              1.8000	0.0150
                          </tableData>
                      </table>
                </product>
            </function>
            <function name="aero/coefficient/CDflap">
                <description>Drag_due_to_flaps</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>fcs/flap-pos-norm</property>
                    <value>0.0550</value>
                </product>
            </function>
            <function name="aero/coefficient/CDgear">
                <description>Drag_due_to_gear</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>gear/gear-pos-norm</property>
                    <value>0.0110</value>
                </product>
            </function>
            <function name="aero/coefficient/CDsb">
                <description>Drag_due_to_speedbrakes</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>fcs/speedbrake-pos-norm</property>
                    <value>0.0170</value>
                </product>
            </function>
            <function name="aero/coefficient/CDbeta">
                <description>Drag_due_to_sideslip</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                      <table>
                          <independentVar>aero/beta-rad</independentVar>
                          <tableData>
                              -1.5700	1.2300
                              -0.2600	0.0500
                              0.0000	0.0000
                              0.2600	0.0500
                              1.5700	1.2300
                          </tableData>
                      </table>
                </product>
            </function>
            <function name="aero/coefficient/CDde">
                <description>Drag_due_to_Elevator_Deflection</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>fcs/mag-elevator-pos-rad</property>
                    <value>0.0550</value>
                </product>
            </function>
        </axis>

        <axis name="SIDE">
            <function name="aero/coefficient/CYb">
                <description>Side_force_due_to_beta</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>aero/beta-rad</property>
                    <value>-1.0000</value>
                </product>
            </function>
        </axis>

        <axis name="LIFT">
            <function name="aero/coefficient/CLalpha">
                <description>Lift_due_to_alpha</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                      <table>
                          <independentVar>aero/alpha-rad</independentVar>
                          <tableData>
                              -0.2000	-0.6800
                              0.0000	0.2000
                              0.2300	1.2000
                              0.6000	0.6000
                          </tableData>
                      </table>
                </product>
            </function>
            <function name="aero/coefficient/dCLflap">
                <description>Delta_Lift_due_to_flaps</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>fcs/flap-pos-norm</property>
                    <value>1.5000</value>
                </product>
            </function>
            <function name="aero/coefficient/dCLsb">
                <description>Delta_Lift_due_to_speedbrake</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>fcs/speedbrake-pos-norm</property>
                    <value>-0.0800</value>
                </product>
            </function>
            <function name="aero/coefficient/CLde">
                <description>Lift_due_to_Elevator_Deflection</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>fcs/elevator-pos-rad</property>
                    <value>0.2000</value>
                </product>
            </function>
        </axis>

        <axis name="ROLL">
            <function name="aero/coefficient/Clb">
                <description>Roll_moment_due_to_beta</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>aero/beta-rad</property>
                    <value>-0.1000</value>
                </product>
            </function>
            <function name="aero/coefficient/Clp">
                <description>Roll_moment_due_to_roll_rate</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>aero/bi2vel</property>
                    <property>velocities/p-aero-rad_sec</property>
                    <value>-0.4000</value>
                </product>
            </function>
            <function name="aero/coefficient/Clr">
                <description>Roll_moment_due_to_yaw_rate</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>aero/bi2vel</property>
                    <property>velocities/r-aero-rad_sec</property>
                    <value>0.1500</value>
                </product>
            </function>
            <function name="aero/coefficient/Clda">
                <description>Roll_moment_due_to_aileron</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>fcs/left-aileron-pos-rad</property>
                      <table>
                          <independentVar>velocities/mach</independentVar>
                          <tableData>
                              0.0000	0.1000
                              2.0000	0.0330
                          </tableData>
                      </table>
                </product>
            </function>
            <function name="aero/coefficient/Cldr">
                <description>Roll_moment_due_to_rudder</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>fcs/rudder-pos-rad</property>
                    <value>0.0100</value>
                </product>
            </function>
        </axis>

        <axis name="PITCH">
            <function name="aero/coefficient/Cmalpha">
                <description>Pitch_moment_due_to_alpha</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/cbarw-ft</property>
                    <property>aero/alpha-rad</property>
                    <value>-0.7000</value>
                </product>
            </function>
            <function name="aero/coefficient/Cmde">
                <description>Pitch_moment_due_to_elevator</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/cbarw-ft</property>
                    <property>fcs/elevator-pos-rad</property>
                      <table>
                          <independentVar>velocities/mach</independentVar>
                          <tableData>
                              0.0000	-1.3000
                              2.0000	-0.3250
                          </tableData>
                      </table>
                </product>
            </function>
            <function name="aero/coefficient/Cmq">
                <description>Pitch_moment_due_to_pitch_rate</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/cbarw-ft</property>
                    <property>aero/ci2vel</property>
                    <property>velocities/q-aero-rad_sec</property>
                    <value>-21.0000</value>
                </product>
            </function>
            <function name="aero/coefficient/Cmadot">
                <description>Pitch_moment_due_to_alpha_rate</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/cbarw-ft</property>
                    <property>aero/ci2vel</property>
                    <property>aero/alphadot-rad_sec</property>
                    <value>-4.0000</value>
                </product>
            </function>
        </axis>

        <axis name="YAW">
            <function name="aero/coefficient/Cnb">
                <description>Yaw_moment_due_to_beta</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>aero/beta-rad</property>
                    <value>0.1200</value>
                </product>
            </function>
            <function name="aero/coefficient/Cnr">
                <description>Yaw_moment_due_to_yaw_rate</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>aero/bi2vel</property>
                    <property>velocities/r-aero-rad_sec</property>
                    <value>-0.1500</value>
                </product>
            </function>
            <function name="aero/coefficient/Cndr">
                <description>Yaw_moment_due_to_rudder</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>fcs/rudder-pos-rad</property>
                    <value>-0.1000</value>
                </product>
            </function>
            <function name="aero/coefficient/Cnda">
                <description>Adverse_yaw</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>fcs/left-aileron-pos-rad</property>
                    <value>0.0000</value>
                </product>
            </function>
        </axis>
    </aerodynamics>
</fdm_config>
<?xml version="1.0"?>
<initialize name="reset00">
  <!--
    This file sets up the aircraft to start off
    from the runway in preparation for takeoff.
  -->
  <ubody unit="FT/SEC">    0.0  </ubody>
  <vbody unit="FT/SEC">    0.0  </vbody>
  <wbody unit="FT/SEC">    0.0  </wbody>
  <latitude unit="DEG">   47.0  </latitude>
  <longitude unit="DEG"> 122.0  </longitude>
  <phi unit="DEG">         0.0  </phi>
  <theta unit="DEG">       0.0  </theta>
  <psi unit="DEG">       150.0  </psi>
  <altitude unit="FT">    19.0  </altitude>
</initialize>
// This file instructs the automatic synchronization utilities where to
// install this aircraft and under what name.
//
// The syntax is easy;
// * the package name at the beginning of a new line followed by a colon
// * a space as a column separator
// * the path and filename relative to the aircraft install directory
//
// Currently known package names are: FlightGear

// Updating the ZLT-NT needs to be done manually due to
// property tree differencies between JSBSim/CVS and FlightGear/CVS.
//FlightGear:
<?xml version="1.0"?>
<!--

  ZLT NT-07 airship flight model for JSBSim.

    Copyright (C) 2008 - 2010  Anders Gidenstam  (anders(at)gidenstam.org)

    This program is free software; you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation; either version 2 of the License, or
    (at your option) any later version.
  
    This program is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.
  
    You should have received a copy of the GNU General Public License
    along with this program; if not, write to the Free Software
    Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA
  
-->
<system name="air-and-gas-control-jsbsim">

 <!--
 === Ballonet control system ===============================================
 -->

 <documentation>
  Gas and ballonet valve controls (from pictures and other sources):

  - Air valve 1
    - Closed (aft) - Auto - ... (fwd)
  - Air valve 2
    - Locked closed (aft) - Closed - Auto - ... (fwd)
  - Air valve 3
    - Locked closed (aft) - Closed - Auto - ... (fwd)
  - Helium valve 1
    - Closed (aft) - Auto - ... (fwd)
  - Helium valve 2
    - Closed (aft) - Auto - ... (fwd)

  Accordig to some sources there are two valves on the aft ballonet and
  one on the fore.

  There appears to be backup/emergency (wire-pull) helium valve handles on the
  left side of the overhead panel.

  The control panel for the ballonet blowers seems to be on the left side of
  the overhead panel just behind the ballonet valve levers.
 </documentation>

 <property>fcs/ballonet-valve-cmd-norm[0]</property>
 <property>fcs/ballonet-valve-cmd-norm[1]</property>
 <property>fcs/ballonet-valve-cmd-norm[2]</property>

 <property>fcs/helium-valve-cmd-norm[0]</property>
 <property>fcs/helium-valve-cmd-norm[1]</property>

 <property>fcs/ballonet-blower-cmd-norm[0]</property>
 <property>fcs/ballonet-blower-cmd-norm[1]</property>

 <!-- Interface properties -->
 <property>fcs/ballonet-inflation-cmd-norm[0]</property>
 <property>fcs/ballonet-inflation-cmd-norm[1]</property>

 <documentation>
  Range [-1, 1].
  Positive values maps to blower inflow percentage and
  negative values maps to valve open percentage.
 </documentation>

 <channel name="Ballonet control">

  <fcs_function name="fcs/blower-cmd-norm[0]">
   <function>
    <max>
     <value> 0.0 </value>
     <property> fcs/ballonet-inflation-cmd-norm[0] </property>
    </max>
   </function>
   <output>buoyant_forces/gas-cell/ballonet[0]/blower-cmd-norm</output>
  </fcs_function>
  <fcs_function name="fcs/valve-cmd-norm[0]">
   <function>
    <product>
     <value> -1.0 </value>
     <min>
      <value> 0.0 </value>
      <property> fcs/ballonet-inflation-cmd-norm[0] </property>
     </min>
    </product>
   </function>
   <output> buoyant_forces/gas-cell/ballonet[0]/valve_open </output>
  </fcs_function>

  <fcs_function name="fcs/blower-cmd-norm[1]">
   <function>
    <max>
     <value> 0.0 </value>
     <property> fcs/ballonet-inflation-cmd-norm[1] </property>
    </max>
   </function>
   <output>buoyant_forces/gas-cell/ballonet[1]/blower-cmd-norm</output>
  </fcs_function>
  <fcs_function name="fcs/valve-cmd-norm[1]">
   <function>
    <product>
     <value> -1.0 </value>
     <min>
      <value> 0.0 </value>
      <property> fcs/ballonet-inflation-cmd-norm[1] </property>
     </min>
    </product>
   </function>
   <output> buoyant_forces/gas-cell/ballonet[1]/valve_open </output>
  </fcs_function>

 </channel>

</system>
<?xml version="1.0"?>
<!--

  Zeppelin NT-07 airship flight model for JSBSim.

    Copyright (C) 2009 - 2012  Anders Gidenstam  (anders(at)gidenstam.org)

    This program is free software; you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation; either version 2 of the License, or
    (at your option) any later version.
  
    This program is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.
  
    You should have received a copy of the GNU General Public License
    along with this program; if not, write to the Free Software
    Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA
  
-->
<!--
  This file contains an aerodynamic section for JSBSim based on coefficients
  computed by the USAF Digital DATCOM program.

  The coefficient data computed by DATCOM are based on the following
  configurations:
  - Envelope only
    - aero/force/L_env_aoa
    - aero/force/D_env_aoa
    - aero/moment/M_env_aoa
    - aero/moment/Cmq_envelope
    - aero/moment/Cnr_envelope
  - The two lower fins (with proper dihedral) only
    - aero/force/L_htail_alpha
    - aero/force/D_htail_alpha
    - aero/moment/M_htail_alpha
    - aero/moment/N_htail_beta
    - aero/moment/Cmq_htail
    - aero/force/L_dr
    - aero/force/D_de
    - aero/moment/M_de
  - Two horizontal fins only (interpreted as 2x vertical tail fin)
    - aero/force/D_vtail_beta
    - aero/force/Y_vtail_beta
    - aero/moment/N_vtail_beta
    - aero/moment/Cnr_vtail
    - aero/moment/Clp_tail (Should be split into htail and vtail)
    - aero/force/D_dr
    - aero/force/Y_dr
    - aero/moment/N_dr
-->
 <aerodynamics>

  <!-- Tuning parameter for CD, CL due to envelope alpha. -->
  <function name="aero/envelope-lift-force-tweak-factor">
   <value> 1.0 </value>
  </function>
  <!-- Tuning parameter for CM and CN due to alpha and beta. -->
  <function name="aero/envelope-moment-tweak-factor">
   <value> 0.5 </value>
  </function>
  <!-- Tuning parameter for CN for the vertical fin and rudder. -->
  <function name="aero/vtail-moment-tweak-factor">
   <value> 2.0 </value>
  </function>

  <!-- Envelope pressure. -->
  <function name="aero/envelope/pressure-psf">
   <difference>
    <property> buoyant_forces/gas-cell/pressure-psf </property>
    <property> atmosphere/P-psf </property>
   </difference>
  </function>

  <!-- Envelope lift change from envelope pressure. Guessed. -->
  <function name="aero/envelope/lift-force-factor">
   <table>
    <independentVar lookup="row">aero/envelope/pressure-psf</independentVar>
     <tableData>
       0.0  0.4
       4.0  0.9
       6.3  1.0
      12.5  1.0
     </tableData>
    </table>
  </function>

  <!-- Envelope drag change from envelope pressure. Guessed. -->
  <function name="aero/envelope/drag-force-factor">
   <table>
    <independentVar lookup="row">aero/envelope/pressure-psf</independentVar>
     <tableData>
       0.0 20.0
       5.0  3.0
       6.3  1.5
      12.5  1.0
     </tableData>
    </table>
  </function>

  <!-- Relation between wind and body coordinate systems. -->
  <function name="aero/tmp/wx">
   <product>
    <cos>
     <property> aero/alpha-rad </property>
    </cos>
    <cos>
     <property> aero/beta-rad </property>
    </cos>
   </product>
  </function>
  <function name="aero/tmp/wy">
   <product>
    <cos>
     <property> aero/alpha-rad </property>
    </cos>
    <sin>
     <property> aero/beta-rad </property>
    </sin>
   </product>   
  </function>
  <function name="aero/tmp/wz">
   <sin>
    <property> aero/alpha-rad </property>
   </sin>
  </function>
  <function name="aero/tmp/h_wy_wz">
   <pow>
    <sum>
     <pow>
      <property> aero/tmp/wy </property>
      <value>2.0</value>
     </pow>
     <pow>
      <property> aero/tmp/wz </property>
      <value>2.0</value>
     </pow>
    </sum>
    <value>0.5</value>
   </pow>
  </function>

  <!-- Effective angle between envelope and relative wind. -->
  <function name="aero/envelope-aoa-mag-rad">
   <max>
    <value>0.0</value>
    <acos>
     <property> aero/tmp/wx </property>
    </acos>
   </max>
  </function>
  <function name="aero/envelope-aoa-mag-deg">
   <product>
    <value> 57.29578 </value>
    <property> aero/envelope-aoa-mag-rad </property>
   </product>
  </function>

  <!--
  === Envelope Lift Force ====================================
  -->
  <limitation>
   The current method of splitting L_env_aoa into LIFT and SIDE forces
   seems to have the wrong sign when alpha GT 90 and beta LT 0?
  </limitation>
  <function name="aero/force/L_env_aoa">
   <description>Total_lift_force_from_envelope_due_to_aoa</description>
   <!--
        Standard DATCOM formulation

           C = L / (q * Sref)

   -->
   <product>
    <property>aero/qbar-psf</property>
    <property>metrics/Sw-sqft</property>
    <!-- Start CL_env -->
    <property>aero/envelope-lift-force-tweak-factor</property>
    <property>aero/envelope/lift-force-factor</property>
    <table>
     <independentVar lookup="row">aero/envelope-aoa-mag-deg</independentVar>
     <!--  Body only coefficient computed by DATCOM. -->
     <tableData>
    0.0   0.000
    2.0   0.004
    4.0   0.009
    6.0   0.016
    8.0   0.025
   10.0   0.034
   15.0   0.063
   20.0   0.096
   25.0   0.132
   30.0   0.169
   45.0   0.251
   60.0   0.251
   75.0   0.155
   90.0   0.000
  105.0  -0.147
  120.0  -0.225
  135.0  -0.210
  150.0  -0.129
  165.0  -0.040
  180.0   0.000
     </tableData>
    </table>
   </product>
  </function>

  <!--
  === Envelope Moment ========================================
  -->
  <limitation>
   Same as for L_env_aoa.
  </limitation>
  <function name="aero/moment/M_env_aoa">
   <description>Total_moment_from_envelope_due_to_aoa</description>
   <!--
       Standard DATCOM formulation

           Cm = M / (q * Sref * Cbarr)

   -->
   <product>
    <property>aero/qbar-psf</property>
    <property>metrics/Sw-sqft</property>
    <property>metrics/cbarw-ft</property>
    <!-- Start Cm -->
    <property>aero/envelope-moment-tweak-factor</property>
    <table>
     <independentVar lookup="row">aero/envelope-aoa-mag-deg</independentVar>
     <!--  Body only coefficient computed by DATCOM. -->
     <tableData> 
    0.0     0.0000
    2.0     0.0047
    4.0     0.0094
    6.0     0.0139
    8.0     0.0184
   10.0     0.0227
   15.0     0.0329
   20.0     0.0417
   25.0     0.0488
   30.0     0.0541
   45.0     0.0576
   60.0     0.0433
   75.0     0.0177
   90.0    -0.0098
  105.0    -0.0297
  120.0    -0.0366
  135.0    -0.0308
  150.0    -0.0176
  165.0    -0.0051
  180.0     0.0000
     </tableData>
    </table>
   </product>
  </function>


  <!--
  === Forces =================================================
  -->
  <axis name="DRAG">

   <function name="aero/force/D_env_aoa">
    <description>Drag_from_envelope_due_to_angle_of_attack</description>
    <!--
        Standard DATCOM formulation

            CD = D / (q * Sref)

    -->
    <!-- Note: This function accounts for drag due to both alpha and beta. -->
    <product>
     <property>aero/qbar-psf</property>
     <property>metrics/Sw-sqft</property>
     <!-- Start CD -->
     <property>aero/envelope-lift-force-tweak-factor</property>
     <property>aero/envelope/drag-force-factor</property>
     <table>
      <independentVar lookup="row">aero/envelope-aoa-mag-deg</independentVar>
      <!--  Body only coefficient computed by DATCOM. -->
      <tableData>
    0.0     0.011
    2.0     0.011
    4.0     0.012
    6.0     0.013
    8.0     0.014
   10.0     0.017
   15.0     0.027
   20.0     0.045
   25.0     0.072
   30.0     0.107
   45.0     0.258
   60.0     0.440
   75.0     0.582
   90.0     0.623
  105.0     0.546
  120.0     0.384
  135.0     0.202
  150.0     0.065
  165.0     0.000
  180.0     0.011
      </tableData>
     </table>
    </product>
   </function>

   <function name="aero/force/D_htail_alpha">
    <description>Drag_from_horizontal_tail_due_to_alpha</description>
    <!--
        Standard DATCOM formulation

            CD = D / (q * Sref)

    -->
    <product>
     <property>aero/qbar-psf</property>
     <property>metrics/Sw-sqft</property>
     <!-- Start CD -->
     <value> 0.10 </value> <!-- Sref scaling. -->
     <table>  
      <independentVar lookup="row">aero/alpha-deg</independentVar>
      <!--  Wing only coefficient computed by DATCOM. -->
      <tableData>
 -180.0     0.004
 -165.0     0.007
 -150.0     0.004
 -135.0     0.014
 -120.0     0.046
 -105.0     0.036
  -90.0     0.004
  -75.0     0.073
  -60.0     0.236
  -45.0     0.306
  -30.0     0.232
  -25.0     0.182
  -20.0     0.121
  -15.0     0.066
  -10.0     0.027
   -8.0     0.017
   -6.0     0.011
   -4.0     0.006
   -2.0     0.004
    0.0     0.004
    2.0     0.004
    4.0     0.006
    6.0     0.011
    8.0     0.017
   10.0     0.027
   15.0     0.066
   20.0     0.121
   25.0     0.182
   30.0     0.232
   45.0     0.149
   60.0     0.069
   75.0     0.022
   90.0     0.004
  105.0     0.007
  120.0     0.004
  135.0     0.009
  150.0     0.004
  165.0     0.006
  180.0     0.004
      </tableData>
     </table>
    </product>
   </function>

   <function name="aero/force/D_de">
    <description>Drag_due_to_elevator_deflection</description>
    <!--
        Standard DATCOM formulation

            CD = D / (q * Sref)

    -->
    <product>
     <property>aero/qbar-psf</property>
     <property>metrics/Sw-sqft</property>
     <!-- Start CD -->
     <value> 0.10 </value> <!-- Sref scaling. -->
     <table>
      <independentVar lookup="row">aero/alpha-deg</independentVar>
      <independentVar lookup="column">fcs/elevator-pos-deg</independentVar>
      <!--  Wing only coefficient computed by DATCOM. -->
      <tableData>
                -20.0     -15.0     -10.0      -5.0       0.0       5.0      10.0      15.0      20.0
  -180.0        1.79E-01  1.63E-01  1.12E-01  5.58E-02 -1.11E-04 -5.52E-02 -1.10E-01 -1.58E-01 -1.73E-01
  -165.0        1.65E-01  1.51E-01  1.03E-01  5.14E-02 -1.01E-04 -5.08E-02 -1.01E-01 -1.46E-01 -1.59E-01
  -150.0        1.50E-01  1.37E-01  9.42E-02  4.68E-02 -9.27E-05 -4.62E-02 -9.18E-02 -1.32E-01 -1.44E-01
  -135.0        1.36E-01  1.24E-01  8.49E-02  4.21E-02 -8.37E-05 -4.15E-02 -8.25E-02 -1.19E-01 -1.30E-01
  -120.0        1.21E-01  1.10E-01  7.56E-02  3.75E-02 -7.40E-05 -3.69E-02 -7.32E-02 -1.05E-01 -1.15E-01
  -105.0        1.06E-01  9.68E-02  6.63E-02  3.28E-02 -6.46E-05 -3.22E-02 -6.39E-02 -9.18E-02 -1.00E-01
   -90.0        9.14E-02  8.34E-02  5.70E-02  2.82E-02 -5.56E-05 -2.76E-02 -5.46E-02 -7.83E-02 -8.54E-02
   -75.0        7.67E-02  6.99E-02  4.77E-02  2.35E-02 -4.64E-05 -2.29E-02 -4.53E-02 -6.49E-02 -7.07E-02
   -60.0        6.19E-02  5.64E-02  3.84E-02  1.89E-02 -3.73E-05 -1.83E-02 -3.60E-02 -5.14E-02 -5.59E-02
   -45.0        4.72E-02  4.29E-02  2.91E-02  1.42E-02 -2.78E-05 -1.36E-02 -2.67E-02 -3.79E-02 -4.12E-02
   -30.0        3.25E-02  2.95E-02  1.98E-02  9.60E-03 -1.86E-05 -9.00E-03 -1.74E-02 -2.44E-02 -2.65E-02
   -25.0        2.76E-02  2.50E-02  1.67E-02  8.05E-03 -1.55E-05 -7.45E-03 -1.43E-02 -1.99E-02 -2.15E-02
   -20.0        2.27E-02  2.05E-02  1.36E-02  6.50E-03 -1.24E-05 -5.90E-03 -1.12E-02 -1.55E-02 -1.66E-02
   -15.0        1.77E-02  1.60E-02  1.05E-02  4.95E-03 -9.30E-06 -4.35E-03 -8.10E-03 -1.10E-02 -1.17E-02
   -10.0        1.28E-02  1.15E-02  7.40E-03  3.40E-03 -6.20E-06 -2.80E-03 -5.00E-03 -6.47E-03 -6.82E-03
    -8.0        1.09E-02  9.70E-03  6.16E-03  2.78E-03 -4.96E-06 -2.18E-03 -3.76E-03 -4.67E-03 -4.85E-03
    -6.0        8.90E-03  7.91E-03  4.92E-03  2.16E-03 -3.72E-06 -1.56E-03 -2.52E-03 -2.87E-03 -2.89E-03
    -4.0        6.94E-03  6.11E-03  3.68E-03  1.54E-03 -2.48E-06 -9.40E-04 -1.28E-03 -1.08E-03 -9.22E-04
    -2.0        4.97E-03  4.31E-03  2.44E-03  9.19E-04 -1.24E-06 -3.20E-04 -4.21E-05  7.19E-04  1.04E-03
     0.0        3.01E-03  2.52E-03  1.20E-03  2.99E-04  1.20E-09  2.99E-04  1.20E-03  2.52E-03  3.01E-03
     2.0        1.04E-03  7.19E-04 -4.21E-05 -3.20E-04  1.24E-06  9.19E-04  2.44E-03  4.31E-03  4.97E-03
     4.0       -9.22E-04 -1.08E-03 -1.28E-03 -9.40E-04  2.48E-06  1.54E-03  3.68E-03  6.11E-03  6.94E-03
     6.0       -2.89E-03 -2.87E-03 -2.52E-03 -1.56E-03  3.72E-06  2.16E-03  4.92E-03  7.91E-03  8.90E-03
     8.0       -4.85E-03 -4.67E-03 -3.76E-03 -2.18E-03  4.96E-06  2.78E-03  6.16E-03  9.70E-03  1.09E-02
    10.0       -6.82E-03 -6.47E-03 -5.00E-03 -2.80E-03  6.20E-06  3.40E-03  7.40E-03  1.15E-02  1.28E-02
    15.0       -1.17E-02 -1.10E-02 -8.10E-03 -4.35E-03  9.30E-06  4.95E-03  1.05E-02  1.60E-02  1.77E-02
    20.0       -1.66E-02 -1.55E-02 -1.12E-02 -5.90E-03  1.24E-05  6.50E-03  1.36E-02  2.05E-02  2.27E-02
    25.0       -2.15E-02 -1.99E-02 -1.43E-02 -7.45E-03  1.55E-05  8.05E-03  1.67E-02  2.50E-02  2.76E-02
    30.0       -2.65E-02 -2.44E-02 -1.74E-02 -9.00E-03  1.86E-05  9.60E-03  1.98E-02  2.95E-02  3.25E-02
    45.0       -4.12E-02 -3.79E-02 -2.67E-02 -1.36E-02  2.80E-05  1.42E-02  2.91E-02  4.29E-02  4.72E-02
    60.0       -5.59E-02 -5.14E-02 -3.60E-02 -1.83E-02  3.73E-05  1.89E-02  3.84E-02  5.64E-02  6.19E-02
    75.0       -7.07E-02 -6.49E-02 -4.53E-02 -2.29E-02  4.67E-05  2.35E-02  4.77E-02  6.99E-02  7.67E-02
    90.0       -8.54E-02 -7.83E-02 -5.46E-02 -2.76E-02  5.62E-05  2.82E-02  5.70E-02  8.34E-02  9.14E-02
   105.0       -1.00E-01 -9.18E-02 -6.39E-02 -3.22E-02  6.56E-05  3.28E-02  6.63E-02  9.68E-02  1.06E-01
   120.0       -1.15E-01 -1.05E-01 -7.32E-02 -3.69E-02  7.39E-05  3.75E-02  7.56E-02  1.10E-01  1.21E-01
   135.0       -1.30E-01 -1.19E-01 -8.25E-02 -4.15E-02  8.42E-05  4.21E-02  8.49E-02  1.24E-01  1.36E-01
   150.0       -1.44E-01 -1.32E-01 -9.18E-02 -4.62E-02  9.37E-05  4.68E-02  9.42E-02  1.37E-01  1.50E-01
   165.0       -1.59E-01 -1.46E-01 -1.01E-01 -5.08E-02  1.05E-04  5.14E-02  1.03E-01  1.51E-01  1.65E-01
   180.0       -1.73E-01 -1.58E-01 -1.10E-01 -5.52E-02  1.12E-04  5.58E-02  1.12E-01  1.63E-01  1.79E-01
      </tableData>
     </table>
    </product>
   </function>

   <function name="aero/force/D_vtail_beta">
    <description>Drag_from_vertical_tail_fin_due_to_beta</description>
    <!--
        Standard DATCOM formulation

            CD = D / (q * Sref)

    -->
    <product>
     <property>aero/qbar-psf</property>
     <property>metrics/Sw-sqft</property>
     <!-- Start CD -->
     <value> 0.10 </value> <!-- Sref scaling. -->
     <value> 0.50 </value> <!-- There is only one vertical tail fin. -->
     <table>  
      <independentVar lookup="row">aero/beta-deg</independentVar>
      <!--  Wing only coefficient computed by DATCOM. -->
      <tableData>
 -180.0     0.004
 -165.0     0.008
 -150.0     0.005
 -135.0     0.008
 -120.0     0.034
 -105.0     0.030
  -90.0     0.004
  -75.0     0.064
  -60.0     0.212
  -45.0     0.282
  -30.0     0.219
  -25.0     0.175
  -20.0     0.119
  -15.0     0.065
  -10.0     0.027
   -8.0     0.017
   -6.0     0.011
   -4.0     0.007
   -2.0     0.005
    0.0     0.004
    2.0     0.005
    4.0     0.007
    6.0     0.011
    8.0     0.017
   10.0     0.027
   15.0     0.065
   20.0     0.119
   25.0     0.175
   30.0     0.219
   45.0     0.131
   60.0     0.062
   75.0     0.021
   90.0     0.004
  105.0     0.006
  120.0     0.006
  135.0     0.015
  150.0     0.006
  165.0     0.008
  180.0     0.004
      </tableData>
     </table>
    </product>
   </function>

   <function name="aero/force/D_dr">
    <description>Drag_due_to_rudder_deflection</description>
    <!--
        Standard DATCOM formulation

            CD = D / (q * Sref)

    -->
    <product>
     <property>aero/qbar-psf</property>
     <property>metrics/Sw-sqft</property>
     <!-- Start CD -->
     <value> 0.10 </value> <!-- Sref scaling. -->
     <value> 0.50 </value> <!-- There is only one vertical tail fin. -->
     <table>  
      <independentVar lookup="row">aero/beta-deg</independentVar>
      <independentVar lookup="column">fcs/rudder-pos-deg</independentVar>
      <!--  Wing only coefficient computed by DATCOM. -->
      <tableData>
                -20.0     -15.0     -10.0      -5.0       0.0       5.0      10.0      15.0      20.0
  -180.0        1.53E-01  1.40E-01  9.62E-02  4.79E-02 -9.51E-05 -4.74E-02 -9.43E-02 -1.36E-01 -1.48E-01
  -165.0        1.41E-01  1.29E-01  8.87E-02  4.41E-02 -8.75E-05 -4.37E-02 -8.69E-02 -1.25E-01 -1.36E-01
  -150.0        1.28E-01  1.18E-01  8.08E-02  4.01E-02 -7.96E-05 -3.97E-02 -7.89E-02 -1.14E-01 -1.24E-01
  -135.0        1.16E-01  1.06E-01  7.28E-02  3.62E-02 -7.18E-05 -3.57E-02 -7.09E-02 -1.02E-01 -1.11E-01
  -120.0        1.03E-01  9.44E-02  6.48E-02  3.22E-02 -6.46E-05 -3.17E-02 -6.29E-02 -9.05E-02 -9.84E-02
  -105.0        9.05E-02  8.29E-02  5.68E-02  2.82E-02 -5.64E-05 -2.77E-02 -5.49E-02 -7.89E-02 -8.58E-02
   -90.0        7.79E-02  7.13E-02  4.88E-02  2.42E-02 -4.77E-05 -2.37E-02 -4.70E-02 -6.74E-02 -7.32E-02
   -75.0        6.53E-02  5.98E-02  4.08E-02  2.02E-02 -3.98E-05 -1.97E-02 -3.90E-02 -5.58E-02 -6.06E-02
   -60.0        5.27E-02  4.82E-02  3.29E-02  1.62E-02 -3.19E-05 -1.57E-02 -3.10E-02 -4.43E-02 -4.80E-02
   -45.0        4.01E-02  3.66E-02  2.49E-02  1.22E-02 -2.39E-05 -1.17E-02 -2.30E-02 -3.27E-02 -3.54E-02
   -30.0        2.75E-02  2.51E-02  1.69E-02  8.22E-03 -1.60E-05 -7.75E-03 -1.50E-02 -2.12E-02 -2.28E-02
   -25.0        2.33E-02  2.12E-02  1.42E-02  6.89E-03 -1.33E-05 -6.42E-03 -1.24E-02 -1.73E-02 -1.87E-02
   -20.0        1.91E-02  1.74E-02  1.16E-02  5.56E-03 -1.07E-05 -5.09E-03 -9.70E-03 -1.34E-02 -1.45E-02
   -15.0        1.49E-02  1.35E-02  8.92E-03  4.23E-03 -8.00E-06 -3.76E-03 -7.04E-03 -9.59E-03 -1.03E-02
   -10.0        1.07E-02  9.67E-03  6.26E-03  2.90E-03 -5.32E-06 -2.43E-03 -4.38E-03 -5.74E-03 -6.06E-03
    -8.0        9.05E-03  8.13E-03  5.20E-03  2.36E-03 -4.25E-06 -1.89E-03 -3.32E-03 -4.20E-03 -4.38E-03
    -6.0        7.37E-03  6.59E-03  4.13E-03  1.83E-03 -3.19E-06 -1.36E-03 -2.25E-03 -2.66E-03 -2.70E-03
    -4.0        5.69E-03  5.05E-03  3.07E-03  1.30E-03 -2.13E-06 -8.30E-04 -1.19E-03 -1.12E-03 -1.02E-03
    -2.0        4.01E-03  3.51E-03  2.00E-03  7.67E-04 -1.06E-06 -2.98E-04 -1.26E-04  4.26E-04  6.55E-04
     0.0        2.33E-03  1.97E-03  9.38E-04  2.34E-04  9.38E-10  2.34E-04  9.38E-04  1.97E-03  2.33E-03
     2.0        6.55E-04  4.26E-04 -1.26E-04 -2.98E-04  1.07E-06  7.67E-04  2.00E-03  3.51E-03  4.01E-03
     4.0       -1.02E-03 -1.12E-03 -1.19E-03 -8.30E-04  2.13E-06  1.30E-03  3.07E-03  5.05E-03  5.69E-03
     6.0       -2.70E-03 -2.66E-03 -2.25E-03 -1.36E-03  3.19E-06  1.83E-03  4.13E-03  6.59E-03  7.37E-03
     8.0       -4.38E-03 -4.20E-03 -3.32E-03 -1.89E-03  4.26E-06  2.36E-03  5.20E-03  8.13E-03  9.05E-03
    10.0       -6.06E-03 -5.74E-03 -4.38E-03 -2.43E-03  5.32E-06  2.90E-03  6.26E-03  9.67E-03  1.07E-02
    15.0       -1.03E-02 -9.59E-03 -7.04E-03 -3.76E-03  7.97E-06  4.23E-03  8.92E-03  1.35E-02  1.49E-02
    20.0       -1.45E-02 -1.34E-02 -9.70E-03 -5.09E-03  1.06E-05  5.56E-03  1.16E-02  1.74E-02  1.91E-02
    25.0       -1.87E-02 -1.73E-02 -1.24E-02 -6.42E-03  1.33E-05  6.89E-03  1.42E-02  2.12E-02  2.33E-02
    30.0       -2.28E-02 -2.12E-02 -1.50E-02 -7.75E-03  1.59E-05  8.22E-03  1.69E-02  2.51E-02  2.75E-02
    45.0       -3.54E-02 -3.27E-02 -2.30E-02 -1.17E-02  2.40E-05  1.22E-02  2.49E-02  3.66E-02  4.01E-02
    60.0       -4.80E-02 -4.43E-02 -3.10E-02 -1.57E-02  3.18E-05  1.62E-02  3.29E-02  4.82E-02  5.27E-02
    75.0       -6.06E-02 -5.58E-02 -3.90E-02 -1.97E-02  3.99E-05  2.02E-02  4.08E-02  5.98E-02  6.53E-02
    90.0       -7.32E-02 -6.74E-02 -4.70E-02 -2.37E-02  4.80E-05  2.42E-02  4.88E-02  7.13E-02  7.79E-02
   105.0       -8.58E-02 -7.89E-02 -5.49E-02 -2.77E-02  5.51E-05  2.82E-02  5.68E-02  8.29E-02  9.05E-02
   120.0       -9.84E-02 -9.05E-02 -6.29E-02 -3.17E-02  6.29E-05  3.22E-02  6.48E-02  9.44E-02  1.03E-01
   135.0       -1.11E-01 -1.02E-01 -7.09E-02 -3.57E-02  7.30E-05  3.62E-02  7.28E-02  1.06E-01  1.16E-01
   150.0       -1.24E-01 -1.14E-01 -7.89E-02 -3.97E-02  8.01E-05  4.01E-02  8.08E-02  1.18E-01  1.28E-01
   165.0       -1.36E-01 -1.25E-01 -8.69E-02 -4.37E-02  8.73E-05  4.41E-02  8.87E-02  1.29E-01  1.41E-01
   180.0       -1.48E-01 -1.36E-01 -9.43E-02 -4.74E-02  9.47E-05  4.79E-02  9.62E-02  1.40E-01  1.53E-01
      </tableData>
     </table>
    </product>
   </function>

   <function name="aero/force/D_car">
    <description>Drag_from_car_and_rigging</description>
    <!--
        Standard DATCOM formulation

            CD = D / (q * Sref)

    -->
    <product>
     <property>aero/qbar-psf</property>
     <property>metrics/Sw-sqft</property>
     <!-- Start CD -->
     <!-- According to [WD:1941:AATM]
          the envelope on a small non-rigid contributes approximately
          35% to the total air resistance.
          I think they mean 'at zero alpha and beta'.
          I assume the envelope's fraction would be much larger for the
          NT07 than a pre-WWII blimp, in particular as the drag from the
          fins have already been accounted for.
     -->  
     <value> 0.100 </value>
     <value> 0.011 </value>
    </product>
   </function>

  </axis>

  <!-- ================================================== -->
  <axis name="SIDE">

   <function name="aero/force/Y_env_beta">
    <description>Side_force_from_envelope_due_to_beta</description>
    <product>
     <value> -1.0 </value>  <!-- Note the sign! -->
     <property> aero/force/L_env_aoa </property>
     <quotient>
      <property> aero/tmp/wy </property>
      <max>
       <value> 0.00001 </value>
       <property> aero/tmp/h_wy_wz </property>
      </max>
     </quotient>
    </product>
   </function>

   <function name="aero/force/Y_vtail_beta">
    <description>Side_force_from_vertical_tail_fin_due_to_beta</description>
    <!--
        Standard DATCOM formulation

            CL = L / (q * Sref)

    -->
    <product>
     <property>aero/qbar-psf</property>
     <property>metrics/Sw-sqft</property>
     <!-- Start CY -->
     <value> 0.10 </value> <!-- Sref scaling. -->
     <value> 0.50 </value> <!-- There is only one vertical tail fin. -->
     <value> -1.0 </value> <!-- Note the sign! -->
     <table>
      <independentVar lookup="row">aero/beta-deg</independentVar>
      <!--  Wing only coefficient computed by DATCOM. -->
      <tableData>
 -180.0    -0.016
 -165.0    -0.096
 -150.0    -0.035
 -135.0     0.094
 -120.0     0.247
 -105.0     0.228
  -90.0     0.000
  -75.0    -0.348
  -60.0    -0.648
  -45.0    -0.750
  -30.0    -0.660
  -25.0    -0.588
  -20.0    -0.481
  -15.0    -0.352
  -10.0    -0.215
   -8.0    -0.164
   -6.0    -0.117
   -4.0    -0.074
   -2.0    -0.035
    0.0     0.000
    2.0     0.035
    4.0     0.074
    6.0     0.117
    8.0     0.164
   10.0     0.215
   15.0     0.352
   20.0     0.481
   25.0     0.588
   30.0     0.660
   45.0     0.507
   60.0     0.344
   75.0     0.186
   90.0     0.000
  105.0    -0.066
  120.0     0.058
  135.0     0.148
  150.0     0.064
  165.0     0.093
  180.0     0.010
      </tableData>
     </table>
    </product>
   </function>  

   <function name="aero/force/Y_dr">
    <description>Side_force_due_to_rudder</description>
    <!--
        Standard DATCOM formulation

            CL = L / (q * Sref)

    -->
    <product>
     <property>aero/qbar-psf</property>
     <property>metrics/Sw-sqft</property>
     <!-- Start CY -->
     <value> 0.10 </value> <!-- Sref scaling. -->
     <value> 0.50 </value> <!-- There is only one vertical tail fin. -->
     <value> -1.0 </value> <!-- Note the sign! -->
     <table>
      <independentVar lookup="row">fcs/rudder-pos-deg</independentVar>
      <!--  Wing only coefficient computed by DATCOM. -->
      <tableData>
      -20.0     -0.058
      -15.0     -0.053
      -10.0     -0.036
       -5.0     -0.018
        0.0      0.000
        5.0      0.018
       10.0      0.036
       15.0      0.053
       20.0      0.058
      </tableData>
     </table>
    </product>
   </function>

  </axis>

  <!-- ================================================== -->
  <axis name="LIFT">

   <function name="aero/force/L_env_alpha">
    <description>Lift_from_envelope_due_to_alpha</description>
    <product>
     <property>aero/force/L_env_aoa</property>
     <quotient>
      <property> aero/tmp/wz </property>
      <max>
       <value> 0.00001 </value>
       <property> aero/tmp/h_wy_wz </property>
      </max>
     </quotient>
    </product>
   </function>

   <function name="aero/force/L_htail_alpha">
    <description>Lift_from_horizontal_tail_due_to_alpha</description>
    <!--
        Standard DATCOM formulation

            CL = L / (q * Sref)

    -->
    <product>
     <property>aero/qbar-psf</property>
     <property>metrics/Sw-sqft</property>
     <!-- Start CL -->
     <value> 0.10 </value> <!-- Sref scaling. -->
     <table>
      <independentVar lookup="row">aero/alpha-deg</independentVar>
      <!--  Wing only coefficient computed by DATCOM. -->
      <tableData>
 -180.0    -0.015
 -165.0    -0.082
 -150.0    -0.001
 -135.0     0.137
 -120.0     0.284
 -105.0     0.249
  -90.0     0.000
  -75.0    -0.363
  -60.0    -0.666
  -45.0    -0.760
  -30.0    -0.660
  -25.0    -0.583
  -20.0    -0.474
  -15.0    -0.343
  -10.0    -0.208
   -8.0    -0.159
   -6.0    -0.113
   -4.0    -0.071
   -2.0    -0.033
    0.0     0.000
    2.0     0.033
    4.0     0.071
    6.0     0.113
    8.0     0.159
   10.0     0.208
   15.0     0.343
   20.0     0.474
   25.0     0.583
   30.0     0.660
   45.0     0.527
   60.0     0.353
   75.0     0.188
   90.0     0.000
  105.0    -0.074
  120.0     0.029
  135.0     0.096
  150.0     0.024
  165.0     0.067
  180.0     0.008
      </tableData>
     </table>
    </product>
   </function>

   <function name="aero/force/L_dr">
    <description>Lift_due_to_elevator</description>
    <!--
        Standard DATCOM formulation

            CL = L / (q * Sref)

    -->
    <product>
     <property>aero/qbar-psf</property>
     <property>metrics/Sw-sqft</property>
     <!-- Start CL -->
     <value> 0.10 </value> <!-- Sref scaling. -->
     <table>
      <independentVar lookup="row">fcs/elevator-pos-deg</independentVar>
      <!--  Wing only coefficient computed by DATCOM. -->
      <tableData>
      -20.0     -0.067
      -15.0     -0.061
      -10.0     -0.042
       -5.0     -0.021
        0.0      0.000
        5.0      0.021
       10.0      0.042
       15.0      0.061
       20.0      0.067
      </tableData>
     </table>
    </product>
   </function>

  </axis>

  <!-- Moments =============================================== -->

  <!-- ================================================== -->  
  <axis name="ROLL">

   <function name="aero/moment/Clp_tail">
    <description>
     Roll Moment coefficient due to roll rate (per radian/sec).
     This is roll moment due to the difference in angle of attack
     induced by the roll rate.
    </description>
    <product>
     <property>aero/qbar-psf</property>
     <property>metrics/Sw-sqft</property>
     <property>metrics/bw-ft</property>
     <property>aero/bi2vel</property>
     <property>velocities/p-aero-rad_sec</property>
     <!-- Clp -->
     <value> 0.10 </value> <!-- Sref scaling. -->
     <value> 1.5  </value> <!-- 3 fins. -->
     <!--  Wing only coefficient computed by DATCOM for alpha = 0. -->
     <!--  This should be extended to use the full table. -->
     <value> -4.574E-01 </value>
    </product>
   </function>

   <function name="aero/moment/Cl_tail_damp">
    <description>
     Damping Roll Moment coefficient due to roll rate (per radian/sec).
     Guessed and added to retain some damping effect at low airspeed.
     Assumed to be due to the considerable area of the fins.
    </description>
    <product>
     <value>1.0</value>
     <property>metrics/Sw-sqft</property>
     <property>metrics/bw-ft</property>
     <property>velocities/p-aero-rad_sec</property>
     <!-- Clp (copied) -->
     <value> 0.10 </value> <!-- Sref scaling. -->
     <value> 1.5  </value> <!-- 3 fins. -->
     <value> -4.574E-01 </value>
    </product>
   </function>

  </axis>

  <!-- ================================================== -->
  <axis name="PITCH">

   <function name="aero/moment/Cmq_envelope">
    <description>
     Pitch Moment coefficient due to pitch rate (per radian/sec).
    </description>
    <product>
     <property>aero/qbar-psf</property>
     <property>metrics/Sw-sqft</property>
     <property>metrics/cbarw-ft</property>
     <property>aero/ci2vel</property>
     <property>velocities/q-aero-rad_sec</property>
     <!-- Cmq -->
     <!--  Body only coefficient computed by DATCOM for alpha = 0. -->
      <value> -2.331E-02 </value>
    </product>
   </function>

   <function name="aero/moment/Cmq_htail">
    <description>
     Pitch Moment coefficient due to pitch rate (per radian/sec).
    </description>
    <product>
     <property>aero/qbar-psf</property>
     <property>metrics/Sw-sqft</property>
     <property>metrics/cbarw-ft</property>
     <property>aero/ci2vel</property>
     <property>velocities/q-aero-rad_sec</property>
     <!-- Cmq -->
     <value> 0.10 </value> <!-- Sref scaling. -->
     <!--  Wing only coefficient computed by DATCOM for alpha = 0. -->
     <!--  FIXME: This value is from the 0 dihedral case. -->
     <value> -2.054E-01 </value>
    </product>
   </function>

   <function name="aero/moment/M_env_alpha">
    <description>Pitch_moment_from_envelope_due_to_alpha</description>
    <product>
     <property>aero/moment/M_env_aoa</property>
     <quotient>
      <property> aero/tmp/wz </property>
      <max>
       <value> 0.00001 </value>
       <property> aero/tmp/h_wy_wz </property>
      </max>
     </quotient>
    </product>
   </function>

   <function name="aero/moment/M_htail_alpha">
    <description>Pitch_moment_from_horizontal_tail_due_to_alpha</description>
    <!--
        Standard DATCOM formulation

            Cm = M / (q * Sref * Cbarr)

    -->
    <product>
     <property>aero/qbar-psf</property>
     <property>metrics/Sw-sqft</property>
     <property>metrics/cbarw-ft</property>
     <!-- Start Cm -->
     <value> 0.10 </value> <!-- Sref scaling. -->
     <table>
      <independentVar lookup="row">aero/alpha-deg</independentVar>
      <!--  Wing only coefficient computed by DATCOM. -->
      <tableData>
 -180.0    -0.0038
 -165.0    -0.0214
 -150.0    -0.0003
 -135.0     0.0471
 -120.0     0.1462
 -105.0     0.2689
  -90.0     0.3892
  -75.0     0.3892
  -60.0     0.3803
  -45.0     0.3280
  -30.0     0.2469
  -25.0     0.2123
  -20.0     0.1692
  -15.0     0.1211
  -10.0     0.0730
   -8.0     0.0557
   -6.0     0.0397
   -4.0     0.0249
   -2.0     0.0117
    0.0     0.0000
    2.0    -0.0117
    4.0    -0.0252
    6.0    -0.0404
    8.0    -0.0573
   10.0    -0.0758
   15.0    -0.1283
   20.0    -0.1834
   25.0    -0.2357
   30.0    -0.2806
   45.0    -0.2748
   60.0    -0.2611
   75.0    -0.2726
   90.0    -0.2627
  105.0    -0.1105
  120.0     0.0225
  135.0     0.0545
  150.0     0.0114
  165.0     0.0287
  180.0     0.0033
      </tableData>
     </table>
    </product>
   </function>

   <function name="aero/moment/M_de">
    <description>Pitch_moment_due_to_elevator</description>
    <!--
        Standard DATCOM formulation

            Cm = M / (q * Sref * Cbarr)

    -->
    <product>
     <property>aero/qbar-psf</property>
     <property>metrics/Sw-sqft</property>
     <property>metrics/cbarw-ft</property>
     <!-- Start Cmdr = -->
     <value> 0.10 </value> <!-- Sref scaling. -->
     <table>
      <independentVar lookup="row">fcs/elevator-pos-deg</independentVar>
      <!--  Wing only coefficient computed by DATCOM. -->
      <tableData>
      -20.0      0.0255
      -15.0      0.0252
      -10.0      0.0173
       -5.0      0.0087
        0.0      0.0000
        5.0     -0.0087
       10.0     -0.0173
       15.0     -0.0252
       20.0     -0.0285
      </tableData>
     </table>
    </product>
   </function>

  </axis>

  <!-- ================================================== -->
  <axis name="YAW">

   <function name="aero/moment/Cnr_envelope">
    <description>
     Yaw Moment coefficient due to yaw rate (per radian/sec).
     (Assumed to be equal to Cmq)
    </description>
    <product>
     <property>aero/qbar-psf</property>
     <property>metrics/Sw-sqft</property>
     <property>metrics/cbarw-ft</property>
     <property>aero/ci2vel</property>
     <property>velocities/r-aero-rad_sec</property>
     <!-- Cnr -->
     <!--  Body only coefficient computed by DATCOM for alpha = 0. -->
      <value> -2.331E-02 </value>
    </product>
   </function>

   <function name="aero/moment/Cnr_vtail">
    <description>
     Yaw Moment coefficient due to yaw rate (per radian/sec).
     (Assumed to be equal to Cmq)
    </description>
    <product>
     <property>aero/qbar-psf</property>
     <property>metrics/Sw-sqft</property>
     <property>metrics/cbarw-ft</property>
     <property>aero/ci2vel</property>
     <property>velocities/r-aero-rad_sec</property>
     <!-- Cnr -->
     <value> 0.10 </value> <!-- Sref scaling. -->
     <value> 0.50 </value>
     <!--  Wing only coefficient computed by DATCOM. -->
     <value> -2.054E-01 </value>
    </product>
   </function>

   <function name="aero/moment/N_env_beta">
    <description>Yaw_moment_from_envelope_due_to_beta</description>
    <product>
     <value> -1.0 </value>  <!-- Note the sign! -->
     <property> aero/moment/M_env_aoa </property>
     <quotient>
      <property> aero/tmp/wy </property>
      <max>
       <value> 0.00001 </value>
       <property> aero/tmp/h_wy_wz </property>
      </max>
     </quotient>
    </product>
   </function>

   <function name="aero/moment/N_vtail_beta">
    <description>Yaw_moment_from_vertical_tail_fin_due_to_beta</description>
    <!--
        Standard DATCOM formulation

            Cm = M / (q * Sref * Cbarr)

    -->
    <product>
     <property>aero/qbar-psf</property>
     <property>metrics/Sw-sqft</property>
     <property>metrics/cbarw-ft</property>
     <!-- Start Cn -->
     <value> -1.0 </value> <!-- Note the sign! -->
     <value> 0.10 </value> <!-- Sref scaling. -->
     <value> 0.50 </value> <!-- There is only one vertical tail fin. -->
     <property>aero/vtail-moment-tweak-factor</property>
     <table>
      <independentVar lookup="row">aero/beta-deg</independentVar>
      <!--  Wing only coefficient computed by DATCOM. -->
      <tableData>
 -180.0    -0.0041
 -165.0    -0.0255
 -150.0    -0.0102
 -135.0     0.0334
 -120.0     0.1301
 -105.0     0.2514
  -90.0     0.2659
  -75.0     0.4313
  -60.0     0.3819
  -45.0     0.3281
  -30.0     0.2492
  -25.0     0.2159
  -20.0     0.1733
  -15.0     0.1250
  -10.0     0.0759
   -8.0     0.0580
   -6.0     0.0414
   -4.0     0.0261
   -2.0     0.0123
    0.0     0.0000
    2.0    -0.0123
    4.0    -0.0264
    6.0    -0.0421
    8.0    -0.0595
   10.0    -0.0784
   15.0    -0.1320
   20.0    -0.1871
   25.0    -0.2386
   30.0    -0.2815
   45.0    -0.2648
   60.0    -0.2548
   75.0    -0.2707
   90.0    -0.2659
  105.0    -0.0993
  120.0     0.0455
  135.0     0.0842
  150.0     0.0301
  165.0     0.0399
  180.0     0.0041
      </tableData>
     </table>
    </product>
   </function>

   <function name="aero/moment/N_dr">
    <description>Yaw_moment_due_to_rudder</description>
    <!--
        Standard DATCOM formulation

            Cm = M / (q * Sref * Cbarr)

    -->
    <product>
     <property>aero/qbar-psf</property>
     <property>metrics/Sw-sqft</property>
     <property>metrics/cbarw-ft</property>
     <!-- Start CY -->
     <value> 0.10 </value> <!-- Sref scaling. -->
     <value> 0.50 </value> <!-- There is only one vertical tail fin. -->
     <property>aero/vtail-moment-tweak-factor</property>
     <!-- Start Cndr = -->
     <table>
      <independentVar lookup="row">fcs/rudder-pos-deg</independentVar>
      <!--  Wing only coefficient computed by DATCOM. -->
      <tableData>
      -20.0         0.0222
      -15.0         0.0224
      -10.0         0.0154
       -5.0         0.0077
        0.0         0.0000
        5.0        -0.0077
       10.0        -0.0154
       15.0        -0.0224
       20.0        -0.0254
      </tableData>
     </table>
    </product>
   </function>

   <function name="aero/moment/N_htail_beta">
    <description>
     Yaw moment coefficient for the horizontal fins due to sideslip (per radian).
     DATCOM formulation: Cn = M / (q * Sref * BLref)
    </description>
    <product>
     <property>aero/qbar-psf</property>
     <property>metrics/Sw-sqft</property>
     <property>metrics/bw-ft</property>
     <property>aero/beta-rad</property>
     <!-- Start Cnb -->
     <value> 0.10 </value> <!-- Sref scaling. -->
     <table>
      <independentVar lookup="row">aero/alpha-deg</independentVar>
      <!--  Wing only coefficient computed by DATCOM. -->
      <tableData>
 -180.0    2.849E-05
 -165.0    8.831E-04
 -150.0    1.972E-07
 -135.0    2.438E-03
 -120.0    1.061E-02
 -105.0    8.195E-03
  -90.0    9.185E-02
  -75.0    1.740E-02
  -60.0    5.812E-02
  -45.0    7.551E-02
  -30.0    5.693E-02
  -25.0    4.449E-02
  -20.0    2.937E-02
  -15.0    1.543E-02
  -10.0    5.678E-03
   -8.0    3.306E-03
   -6.0    1.671E-03
   -4.0    6.588E-04
   -2.0    1.439E-04
    0.0    0.000E+00
    2.0    1.440E-04
    4.0    6.589E-04
    6.0    1.672E-03
    8.0    3.306E-03
   10.0    5.679E-03
   15.0    1.543E-02
   20.0    2.938E-02
   25.0    4.450E-02
   30.0    5.694E-02
   45.0    3.636E-02
   60.0    1.636E-02
   75.0    4.681E-03
   90.0    2.602E-15
  105.0    7.225E-04
  120.0    1.074E-04
  135.0    1.213E-03
  150.0    7.723E-05
  165.0    5.876E-04
  180.0    8.055E-06
      </tableData>
     </table>
    </product>
   </function>

  </axis>

 </aerodynamics>
<?xml version="1.0"?>
<!--

  ZLT NT-07 airship flight model for JSBSim.

    Copyright (C) 2008 - 2010  Anders Gidenstam  (anders(at)gidenstam.org)

    This program is free software; you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation; either version 2 of the License, or
    (at your option) any later version.
  
    This program is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.
  
    You should have received a copy of the GNU General Public License
    along with this program; if not, write to the Free Software
    Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA
  
-->
<system name="engine-control-jsbsim">

 <documentation>
  Controls according to [FAA:2008:AS1CE]:
    Vectored Thrust Movements
      Side Engines            0 (forward horizontal) to 120 degrees up.
      Aft Engine              0 (aft horizontal) to 90 degrees down.
  Avoid sustained operation with forward swivel angles between
  43 and 57 degrees during normal operation.
 </documentation>

 <documentation>
  Engine controls (from pictures of the engine panel and other sources)
  - RPM SEL levers
    - LH AFT RH: IDLE - ?  (to 1250RPM - max according to [FAA:2008:E8-6600])
    - fcs/propeller-speed-cmd-norm[0|1|2] range [0, 1].
  - Mixture levers
    - LH AFT RH: LEAN - RICH
    - the standard mixture properties
      fcs/mixture-cmd-norm[0|1|2] range [0, 1].
  - Thrust (prop pitch) levers (direct propeller pitch [FAA:2008:E8-6600])
    - LH RH AFT: REV - ZERO - T/O - CRUISE
    - fcs/thrust-cmd-norm[0|1|2] range [0, 1].
  - Swivel levers 
    - LH RH: 0 - 120 degrees
    - AFT:   0 - (-)90 degrees (only 0 or -90 according to [FAA:2008:E8-6600])
    - fcs/side-engine-swivel-cmd-norm[0|1], fcs/rear-engine-swivel-cmd-norm
      range [0, 1].
 </documentation>

 <property value="0.0">fcs/propeller-speed-cmd-norm[0]</property>
 <property value="0.0">fcs/propeller-speed-cmd-norm[1]</property>
 <property value="0.0">fcs/propeller-speed-cmd-norm[2]</property>

 <property value="0.0">fcs/mixture-cmd-norm[0]</property>
 <property value="0.0">fcs/mixture-cmd-norm[1]</property>
 <property value="0.0">fcs/mixture-cmd-norm[2]</property>

 <property value="0.0">fcs/thrust-cmd-norm[0]</property>
 <property value="0.0">fcs/thrust-cmd-norm[1]</property>
 <property value="0.0">fcs/thrust-cmd-norm[2]</property>

 <property value="0.0">fcs/side-engine-swivel-cmd-norm[0]</property>
 <property value="0.0">fcs/side-engine-swivel-cmd-norm[1]</property>
 <property value="0.0">fcs/rear-engine-swivel-cmd-norm</property>

 <documentation>
  I have not seen any controls for the auxilliary rear side propeller
  so I assume that it is controlled by the FCS in response to yaw
  requests.
 </documentation>

 <!--
 === Engine throttle control ================================
 -->
 <channel name="Engine 1 throttle control">

  <aerosurface_scale name="fcs/etc/propeller-speed-cmd-rpm[0]">
   <input>fcs/propeller-speed-cmd-norm[0]</input>
   <domain>
    <min>0</min>
    <max>1</max>
   </domain>
   <range>
    <min>300</min>
    <max>1250</max>
   </range>
   <zero_centered>0</zero_centered>
  </aerosurface_scale>

  <summer name="fcs/etc/propeller-speed-error-rpm[0]">
   <input>fcs/etc/propeller-speed-cmd-rpm[0]</input>
   <input>-propulsion/engine[0]/propeller-rpm</input>
  </summer>

  <switch name="fcs/etc/propeller-speed-error-switch[0]">
   <default value="0.0"/>
   <test value="fcs/etc/propeller-speed-error-rpm[0]">
     propulsion/engine[0]/fuel-flow-rate-pps GT 0.0
   </test>
  </switch>

  <switch name="fcs/etc/windup-trigger[0]">
   <default value="0.0"/>
   <test value="-1.0">
     fcs/etc/throttle-controller-pid[0] LT 0.0
   </test>
   <test value="1.0">
     fcs/etc/propeller-speed-error-switch[0] GT 0.0
     fcs/etc/throttle-controller-pid[0] GT 1.0
   </test>
  </switch>

  <pid name="fcs/etc/throttle-controller-pid[0]">
   <input>fcs/etc/propeller-speed-error-switch[0]</input>
   <kp> 0.0 </kp>
   <ki> 0.0002 </ki>
   <trigger>fcs/etc/windup-trigger[0]</trigger>
  </pid>

  <actuator name="fcs/etc/throttle-actuator[0]">
   <input>fcs/etc/throttle-controller-pid[0]</input>
   <!-- lag> number </lag -->
   <!-- rate_limit> number </rate_limit -->
   <!-- bias> number </bias -->
   <!-- deadband_width> number </deadband_width -->
   <!-- hysteresis_width> number </hysteresis_width -->
   <clipto>
    <min>0.0</min>
    <max>1.0</max>
   </clipto>
   <output>fcs/throttle-pos-norm[0]</output>
  </actuator>

 </channel>

 <channel name="Engine 2 throttle control">

  <aerosurface_scale name="fcs/etc/propeller-speed-cmd-rpm[1]">
   <input>fcs/propeller-speed-cmd-norm[1]</input>
   <domain>
    <min>0</min>
    <max>1</max>
   </domain>
   <range>
    <min>300</min>
    <max>1250</max>
   </range>
   <zero_centered>0</zero_centered>
  </aerosurface_scale>
  <summer name="fcs/etc/propeller-speed-error-rpm[1]">
   <input>fcs/etc/propeller-speed-cmd-rpm[1]</input>
   <input>-propulsion/engine[1]/propeller-rpm</input>
  </summer>

  <switch name="fcs/etc/propeller-speed-error-switch[1]">
   <default value="0.0"/>
   <test value="fcs/etc/propeller-speed-error-rpm[1]">
     propulsion/engine[1]/fuel-flow-rate-pps GT 0.0
   </test>
  </switch>

  <switch name="fcs/etc/windup-trigger[1]">
   <default value="0.0"/>
   <test value="-1.0">
     fcs/etc/throttle-controller-pid[1] LT 0.0
   </test>
   <test value="1.0">
     fcs/etc/propeller-speed-error-switch[1] GT 0.0
     fcs/etc/throttle-controller-pid[1] GT 1.0
   </test>
  </switch>

  <pid name="fcs/etc/throttle-controller-pid[1]">
   <input>fcs/etc/propeller-speed-error-switch[1]</input>
   <kp> 0.0 </kp>
   <ki> 0.0002 </ki>
   <trigger>fcs/etc/windup-trigger[1]</trigger>
  </pid>

  <actuator name="fcs/etc/throttle-actuator[1]">
   <input>fcs/etc/throttle-controller-pid[1]</input>
   <!-- lag> number </lag -->
   <!-- rate_limit> number </rate_limit -->
   <!-- bias> number </bias -->
   <!-- deadband_width> number </deadband_width -->
   <!-- hysteresis_width> number </hysteresis_width -->
   <clipto>
    <min>0.0</min>
    <max>1.0</max>
   </clipto>
   <output>fcs/throttle-pos-norm[1]</output>
  </actuator>

 </channel>

 <channel name="Engine 3 throttle control">

  <aerosurface_scale name="fcs/etc/propeller-speed-cmd-rpm[2]">
   <input>fcs/propeller-speed-cmd-norm[2]</input>
   <domain>
    <min>0</min>
    <max>1</max>
   </domain>
   <range>
    <min>300</min>
    <max>1250</max>
   </range>
   <zero_centered>0</zero_centered>
  </aerosurface_scale>

  <summer name="fcs/etc/propeller-speed-error-rpm[2]">
   <input>fcs/etc/propeller-speed-cmd-rpm[2]</input>
   <input>-propulsion/engine[2]/propeller-rpm</input>
  </summer>

  <switch name="fcs/etc/propeller-speed-error-switch[2]">
   <default value="0.0"/>
   <test value="fcs/etc/propeller-speed-error-rpm[2]">
     propulsion/engine[2]/fuel-flow-rate-pps GT 0.0
   </test>
  </switch>

  <switch name="fcs/etc/windup-trigger[2]">
   <default value="0.0"/>
   <test value="-1.0">
     fcs/etc/throttle-controller-pid[2] LT 0.0
   </test>
   <test value="1.0">
     fcs/etc/propeller-speed-error-switch[2] GT 0.0
     fcs/etc/throttle-controller-pid[2] GT 1.0
   </test>
  </switch>

  <pid name="fcs/etc/throttle-controller-pid[2]">
   <input>fcs/etc/propeller-speed-error-switch[2]</input>
   <kp> 0.0 </kp>
   <ki> 0.0002 </ki>
   <trigger>fcs/etc/windup-trigger[2]</trigger>
  </pid>

  <actuator name="fcs/etc/throttle-actuator[2]">
   <input>fcs/etc/throttle-controller-pid[2]</input>
   <!-- lag> number </lag -->
   <!-- rate_limit> number </rate_limit -->
   <!-- bias> number </bias -->
   <!-- deadband_width> number </deadband_width -->
   <!-- hysteresis_width> number </hysteresis_width -->
   <clipto>
    <min>0.0</min>
    <max>1.0</max>
   </clipto>
   <output>fcs/throttle-pos-norm[2]</output>
  </actuator>

 </channel>

 <!--
 === Mixture control ========================================
 -->
 <channel name="Mixture control">

  <switch name="fcs/etc/mixture-pos-norm[0]">
   <default value="fcs/mixture-cmd-norm[0]"/>
   <output>fcs/mixture-pos-norm[0]</output>
  </switch>
  <switch name="fcs/etc/mixture-pos-norm[1]">
   <default value="fcs/mixture-cmd-norm[1]"/>
   <output>fcs/mixture-pos-norm[1]</output>
  </switch>
  <switch name="fcs/etc/mixture-pos-norm[2]">
   <default value="fcs/mixture-cmd-norm[2]"/>
   <output>fcs/mixture-pos-norm[2]</output>
  </switch>

 </channel>

 <!--
 === Thrust control =========================================
 -->
 <channel name="Thrust control">

  <fcs_function name="fcs/etc/blade-angle-deg[0]">
   <function>
    <difference>
     <product>
      <value>60.0</value>
      <property>fcs/thrust-cmd-norm[0]</property>
     </product>
     <value>25.0</value>
    </difference>
   </function>
   <output>propulsion/engine[0]/blade-angle</output>
  </fcs_function>
  <fcs_function name="fcs/etc/blade-angle-deg[1]">
   <function>
    <difference>
     <product>
      <value>60.0</value>
      <property>fcs/thrust-cmd-norm[1]</property>
     </product>
     <value>25.0</value>
    </difference>
   </function>
   <output>propulsion/engine[1]/blade-angle</output>
  </fcs_function>
  <fcs_function name="fcs/etc/blade-angle-deg[2]">
   <function>
    <difference>
     <product>
      <value>60.0</value>
      <property>fcs/thrust-cmd-norm[2]</property>
     </product>
     <value>25.0</value>
    </difference>
   </function>
   <output>propulsion/engine[2]/blade-angle</output>
  </fcs_function>

 </channel>

 <!--
 === Thrust vectoring =======================================
 -->
 <channel name="Thrust vectoring">

  <aerosurface_scale name="fcs/etc/side-engine-swivel-cmd-rad">
   <input>fcs/side-engine-swivel-cmd-norm</input>
   <domain>
    <min>0</min>
    <max>1</max>
   </domain>
   <range>
    <min>0</min>
    <max>2.0944</max>
   </range>
  </aerosurface_scale>
  <actuator name="fcs/etc/left-engine-swivel-actuator">
   <input>fcs/etc/side-engine-swivel-cmd-rad</input>
   <!-- lag> number </lag -->
   <rate_limit> 0.5 </rate_limit>
   <!-- bias> number </bias -->
   <!-- deadband_width> number </deadband_width -->
   <!-- hysteresis_width> number </hysteresis_width -->
   <clipto>
    <min>0.0</min>
    <max>2.0944</max>
   </clipto>
   <output>propulsion/engine[0]/pitch-angle-rad</output>
  </actuator>

  <aerosurface_scale name="fcs/etc/side-engine-swivel-cmd-rad[1]">
   <input>fcs/side-engine-swivel-cmd-norm</input>
   <domain>
    <min>0</min>
    <max>1</max>
   </domain>
    <range>
     <min>0</min>
     <max>2.0944</max>
   </range>
  </aerosurface_scale>
  <actuator name="fcs/etc/right-engine-swivel-actuator">
   <input>fcs/etc/side-engine-swivel-cmd-rad[1]</input>
   <!-- lag> number </lag -->
   <rate_limit> 0.5 </rate_limit>
   <!-- bias> number </bias -->
   <!-- deadband_width> number </deadband_width -->
   <!-- hysteresis_width> number </hysteresis_width -->
   <clipto>
    <min>0.0</min>
    <max>2.0944</max>
   </clipto>
   <output>propulsion/engine[1]/pitch-angle-rad</output>
  </actuator>

  <aerosurface_scale name="fcs/etc/rear-engine-swivel-cmd-rad">
   <input>fcs/rear-engine-swivel-cmd-norm</input>
   <domain>
    <min>0</min>
    <max>1</max>
   </domain>
   <range>
    <min>0.0</min>
    <max>1.5708</max>
   </range>
  </aerosurface_scale>
  <actuator name="fcs/etc/rear-engine-swivel-actuator">
   <input>fcs/etc/rear-engine-swivel-cmd-rad</input>
   <!-- lag> number </lag -->
   <rate_limit> 0.5 </rate_limit>
   <!-- bias> number </bias -->
   <!-- deadband_width> number </deadband_width -->
   <!-- hysteresis_width> number </hysteresis_width -->
   <clipto>
    <min>0.0</min>
    <max>1.5708</max>
   </clipto>
   <output>propulsion/engine[2]/pitch-angle-rad</output>
  </actuator>

 </channel>

</system>
<?xml version="1.0"?>
<!-- $Id: gerris_aero.xml,v 1.1 2009/08/03 20:36:37 andgi Exp $ -->
<!--

  ZLT NT airship flight model for JSBSim.

    Copyright (C) 2008 - 2009  Anders Gidenstam  (anders(at)gidenstam.org)

    This program is free software; you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation; either version 2 of the License, or
    (at your option) any later version.
  
    This program is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.
  
    You should have received a copy of the GNU General Public License
    along with this program; if not, write to the Free Software
    Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA
  
-->
<!--
  This file contains an aerodynamic section for JSBSim based on coefficients
  derived from virtual windtunnel experiments in the software Gerris.
  The experiments were done with the Submarine Scout envelope and fin models.
-->
 <aerodynamics>

  <!-- Tuning parameter for CD, CL due to envelope alpha. -->
  <function name="aero/envelope-lift-force-tweak-factor">
   <value> 1.0 </value>
  </function>
  <!-- Tuning parameter for CM and CN due to alpha and beta. -->
  <function name="aero/envelope-pitch-moment-tweak-factor">
   <value> 0.25 </value>
  </function>
  <function name="aero/envelope-yaw-moment-tweak-factor">
   <value> 0.25 </value>
  </function>

  <!-- Relation between wind and body coordinate systems. -->
  <function name="aero/tmp/wx">
   <product>
    <cos>
     <property> aero/alpha-rad </property>
    </cos>
    <cos>
     <property> aero/beta-rad </property>
    </cos>
   </product>
  </function>
  <function name="aero/tmp/wy">
   <product>
    <cos>
     <property> aero/alpha-rad </property>
    </cos>
    <sin>
     <property> aero/beta-rad </property>
    </sin>
   </product>   
  </function>
  <function name="aero/tmp/wz">
   <sin>
    <property> aero/alpha-rad </property>
   </sin>
  </function>
  <function name="aero/tmp/h_wy_wz">
   <pow>
    <sum>
     <pow>
      <property> aero/tmp/wy </property>
      <value>2.0</value>
     </pow>
     <pow>
      <property> aero/tmp/wz </property>
      <value>2.0</value>
     </pow>
    </sum>
    <value>0.5</value>
   </pow>
  </function>

  <!-- Effective angle between envelope and relative wind. -->
  <function name="aero/envelope-aoa-mag-rad">
   <max>
    <value>0.0</value>
    <acos>
     <property> aero/tmp/wx </property>
    </acos>
   </max>
  </function>
  <function name="aero/envelope-aoa-mag-deg">
   <product>
    <value> 57.29578 </value>
    <property> aero/envelope-aoa-mag-rad </property>
   </product>
  </function>

  <!--
  === Envelope Lift Force ====================================
  -->
  <limitation>
   The current method of splitting L_env_aoa into LIFT and SIDE forces
   seems to have the wrong sign when alpha GT 90 and beta LT 0?
  </limitation>
  <function name="aero/force/L_env_aoa">
   <description>Total_lift_force_from_envelope_due_to_aoa</description>
   <!--
        Formulation based on NACA report 432 "Force measurements on a
        1/40-scale model of the U.S. Airship Akron" by Hugh B. Freeman.

           C = L / (q * (vol)^(2/3))

   -->
   <product>
    <property>aero/qbar-psf</property>
    <property>aero/constants/volume-ft3_2_3</property>
    <!-- Start CL_env -->
    <property>aero/envelope-lift-force-tweak-factor</property>
    <table>
     <independentVar lookup="row">aero/envelope-aoa-mag-deg</independentVar>
     <!--  Virtual wind-tunnel data computed with Gerris. -->
     <!--  From Submarine Scout. -->     
     <tableData>
       0     0.000000
       10    0.002911
       20    0.007450
       30    0.013047
       45    0.016276
       60    0.028917
       75    0.028148
       90    0.017636
       105   -0.010199
       120   -0.008625
       135   -0.011184
       150   -0.009168
       165   -0.002132
       180   0.000000
     </tableData>
    </table>
   </product>
  </function>

  <!--
  === Envelope Moment ========================================
  -->
  <limitation>
   Same as for L_env_aoa.
  </limitation>
  <function name="aero/moment/M_env_aoa">
   <description>Total_moment_from_envelope_due_to_due_to_aoa</description>
   <!--
        Formulation based on NACA report 432 "Force measurements on a
        1/40-scale model of the U.S. Airship Akron" by Hugh B. Freeman.

           Cm = M / (q * vol)

   -->
   <product>
    <property>aero/qbar-psf</property>
    <property>aero/constants/volume-ft3</property>
    <!-- Start Cm -->
    <property>aero/envelope-pitch-moment-tweak-factor</property>
    <table>
     <independentVar lookup="row">aero/envelope-aoa-mag-deg</independentVar>
     <!--  Virtual wind-tunnel data computed with Gerris. -->
     <tableData> 
       0      0.00000
       10     0.26542
       20     0.48736
       30     0.66063
       45     0.76844
       60     0.65462
       75     0.36527
       90    -0.01611
       105   -0.40902
       120   -0.67203
       135   -0.77532
       150   -0.66775
       165   -0.38522
       180    0.00000
     </tableData>
    </table>
   </product>
  </function>


  <!--
  === Forces =================================================
  -->
  <axis name="DRAG">

   <function name="aero/force/D_env_aoa">
    <description>Drag_from_envelope_due_to_angle_of_attack</description>
    <!--
         Formulation based on NACA report 432 "Force measurements on a
         1/40-scale model of the U.S. Airship Akron" by Hugh B. Freeman.

            CD = D / (q * (vol)^(2/3))

    -->
    <!-- Note: This function accounts for drag due to both alpha and beta. -->
    <product>
     <property>aero/qbar-psf</property>
     <property>aero/constants/volume-ft3_2_3</property>
     <!-- Start CD -->
     <property>aero/envelope-lift-force-tweak-factor</property>
     <table>
      <independentVar lookup="row">aero/envelope-aoa-mag-deg</independentVar>
      <!-- Virtual wind-tunnel data computed with Gerris. -->
      <tableData>
       0     0.0059211
       10    0.0084486
       20    0.0088926
       30    0.0178950
       45    0.0325350
       60    0.0506840
       75    0.0766400
       90    0.0999370
       105   0.0866310
       120   0.0561820
       135   0.0342520
       150   0.0154610
       165   0.0042752
       180   0.0018604
      </tableData>
     </table>
    </product>
   </function>

   <function name="aero/force/D_hfin_alpha">
    <description>Drag_from_horizontal_fin_due_to_alpha</description>
    <!-- 
         Formulation based on NACA report 432 "Force measurements on a
         1/40-scale model of the U.S. Airship Akron" by Hugh B. Freeman.

            CD = D / (q * (vol)^(2/3))

    -->
    <product>
     <property>aero/qbar-psf</property>
     <property>aero/constants/volume-ft3_2_3</property>
     <!-- Start CD -->
     <table>  
      <independentVar lookup="row">aero/alpha-deg</independentVar>
      <!-- Virtual wind-tunnel data computed with Gerris. -->
      <tableData>
       -180   0.0016346
       -165   0.0135650
       -150   0.0745610
       -135   0.1331500
       -120   0.1771500
       -105   0.2169500
       -90    0.1910000
       -75    0.2154000
       -60    0.17049
       -45    0.14314
       -30    0.072847
       -20    0.027739
       -10    0.0089855
       0      0.0010200
       10     0.0089855
       20     0.027739
       30     0.072847
       45     0.14314
       60     0.17049
       75     0.2154000
       90     0.1910000
       105    0.2169500
       120    0.1771500
       135    0.1331500
       150    0.0745610
       165    0.0135650
       180    0.0016346
      </tableData>
     </table>
    </product>
   </function>

   <function name="aero/force/D_de">
    <description>Drag_due_to_elevator_deflection</description>
    <!-- 
         Formulation based on NACA report 432 "Force measurements on a
         1/40-scale model of the U.S. Airship Akron" by Hugh B. Freeman.

            CD = D / (q * (vol)^(2/3))

    -->
    <product>
     <property>aero/qbar-psf</property>
     <property>aero/constants/volume-ft3_2_3</property>
     <!-- Start CD -->
     <value> 1.0 </value>
     <table>
      <independentVar lookup="row">fcs/elevator-pos-deg</independentVar>
      <!--  Virtual wind-tunnel data computed with Gerris. -->
      <tableData>
       -30  0.020407
       0    0
       30   0.020407
      </tableData>
     </table>
    </product>
   </function>

   <function name="aero/force/D_vfin_beta">
    <description>Drag_from_vertical_fin_due_to_beta</description>
    <!-- 
         Formulation based on NACA report 432 "Force measurements on a
         1/40-scale model of the U.S. Airship Akron" by Hugh B. Freeman.

            CD = D / (q * (vol)^(2/3))

    -->
    <product>
     <property>aero/qbar-psf</property>
     <property>aero/constants/volume-ft3_2_3</property>
     <!-- Start CD -->
     <value> 1.0 </value>
     <table>  
      <independentVar lookup="row">aero/beta-deg</independentVar>
      <!-- Virtual wind-tunnel data computed with Gerris. -->
      <tableData>
       -180   0.0016346
       -165   0.0135650
       -150   0.0745610
       -135   0.1331500
       -120   0.1771500
       -105   0.2169500
       -90    0.1910000
       -75    0.2154000
       -60    0.17049
       -45    0.14314
       -30    0.072847
       -20    0.027739
       -10    0.0089855
       0      0.0010200
       10     0.0089855
       20     0.027739
       30     0.072847
       45     0.14314
       60     0.17049
       75     0.2154000
       90     0.1910000
       105    0.2169500
       120    0.1771500
       135    0.1331500
       150    0.0745610
       165    0.0135650
       180    0.0016346
      </tableData>
     </table>
    </product>
   </function>

   <function name="aero/force/D_dr">
    <description>Drag_due_to_rudder_deflection</description>
    <!-- 
         Formulation based on NACA report 432 "Force measurements on a
         1/40-scale model of the U.S. Airship Akron" by Hugh B. Freeman.

            CD = D / (q * (vol)^(2/3))

    -->
    <product>
     <property>aero/qbar-psf</property>
     <property>aero/constants/volume-ft3_2_3</property>
     <!-- Start CD -->
     <value> 1.0 </value>
     <table>
      <independentVar lookup="row">fcs/rudder-pos-deg</independentVar>
      <!--  Virtual wind-tunnel data computed with Gerris. -->
      <tableData>
       -30  0.020407
       0    0
       30   0.020407
      </tableData>
     </table>
    </product>
   </function>

   <function name="aero/force/D_car">
    <description>Drag_from_car_and_rigging</description>
    <!-- 
         Formulation based on NACA report 432 "Force measurements on a
         1/40-scale model of the U.S. Airship Akron" by Hugh B. Freeman.

            CD = D / (q * (vol)^(2/3))

    -->
    <product>
     <property>aero/qbar-psf</property>
     <property>aero/constants/volume-ft3_2_3</property>
     <!-- Start CD -->
     <!-- According to [WD:1941:AATM]
          the envelope on a small non-rigid contributes approximately
          35% to the total air resistance.
          I think they mean 'at zero alpha and beta'.
          I assume this would be much lower for the NT07 than a pre-WWII blimp.
     -->  
     <value> 0.8 </value>
     <value> 0.0059211 </value>
    </product>
   </function>

  </axis>

  <!-- ================================================== -->
  <axis name="SIDE">

   <function name="aero/force/Y_env_beta">
    <description>Side_force_from_envelope_due_to_beta</description>
    <product>
     <value> -1.0 </value>  <!-- Note the sign! -->
     <property> aero/force/L_env_aoa </property>
     <quotient>
      <property> aero/tmp/wy </property>
      <max>
       <value> 0.00001 </value>
       <property> aero/tmp/h_wy_wz </property>
      </max>
     </quotient>
    </product>
   </function>

   <function name="aero/force/Y_vfin_beta">
    <description>Side_force_from_vertical_fin_due_to_beta</description>
    <!--
         Formulation based on NACA report 432 "Force measurements on a
         1/40-scale model of the U.S. Airship Akron" by Hugh B. Freeman.

            CY = Y / (q * (vol)^(2/3))

    -->
    <product>
     <property>aero/qbar-psf</property>
     <property>aero/constants/volume-ft3_2_3</property>
     <!-- Start CY -->
     <value> -0.5 </value>  <!-- Tweaking needed. Note the sign! -->
     <table>
      <independentVar lookup="row">aero/beta-deg</independentVar>
      <!--  Virtual wind-tunnel data computed with Gerris. -->
      <tableData>
       -180   0.00000
       -165   0.05372
       -150   0.12950
       -135   0.13525
       -120   0.10292
       -105   0.05388
       -90    -0.00000
       -75    -0.05502
       -60    -0.098868
       -45    -0.14402
       -30    -0.12832
       -20    -0.082526
       -10    -0.035474
       0      0.000000
       10     0.035474
       20     0.082526
       30     0.12832
       45     0.14402
       60     0.098868
       75     0.05502
       90     0.00000
       105    -0.05388
       120    -0.10292
       135    -0.13525
       150    -0.12950
       165    -0.05372
       180    0.00000
      </tableData>
     </table>
    </product>
   </function>  

   <function name="aero/force/Y_dr">
    <description>Side_force_due_to_rudder</description>
    <!-- 
         Formulation based on NACA report 432 "Force measurements on a
         1/40-scale model of the U.S. Airship Akron" by Hugh B. Freeman.

            CL = L / (q * (vol)^(2/3))

    -->
    <product>
     <property>aero/qbar-psf</property>
     <property>aero/constants/volume-ft3_2_3</property>
     <!-- Start CL -->
     <value> 0.5 </value> <!-- The rudder is not adjusted yet. -->
     <table>
      <independentVar lookup="row">fcs/rudder-pos-deg</independentVar>
      <!--  Virtual wind-tunnel data computed with Gerris. -->
      <tableData>
       -30  -0.066622
       0    0
       30   0.066622
      </tableData>
     </table>
    </product>
   </function>

  </axis>

  <!-- ================================================== -->
  <axis name="LIFT">

   <function name="aero/force/L_env_alpha">
    <description>Lift_from_envelope_due_to_alpha</description>
    <product>
     <property>aero/force/L_env_aoa</property>
     <quotient>
      <property> aero/tmp/wz </property>
      <max>
       <value> 0.00001 </value>
       <property> aero/tmp/h_wy_wz </property>
      </max>
     </quotient>
    </product>
   </function>

   <function name="aero/force/L_hfin_alpha">
    <description>Lift_from_horizontal_fin_due_to_alpha</description>
    <!--
         Formulation based on NACA report 432 "Force measurements on a
         1/40-scale model of the U.S. Airship Akron" by Hugh B. Freeman.

            CL = L / (q * (vol)^(2/3))

    -->
    <product>
     <property>aero/qbar-psf</property>
     <property>aero/constants/volume-ft3_2_3</property>
     <!-- Start CL -->
     <table>
      <independentVar lookup="row">aero/alpha-deg</independentVar>
      <!--  Virtual wind-tunnel data computed with Gerris. -->
      <tableData>
       -180   0.00000
       -165   0.05372
       -150   0.12950
       -135   0.13525
       -120   0.10292
       -105   0.05388
       -90    -0.00000
       -75    -0.05502
       -60    -0.098868
       -45    -0.14402
       -30    -0.12832
       -20    -0.082526
       -10    -0.035474
       0      0.000000
       10     0.035474
       20     0.082526
       30     0.12832
       45     0.14402
       60     0.098868
       75     0.05502
       90     0.00000
       105    -0.05388
       120    -0.10292
       135    -0.13525
       150    -0.12950
       165    -0.05372
       180    0.00000
      </tableData>
     </table>
    </product>
   </function>

   <function name="aero/force/L_dr">
    <description>Lift_due_to_elevator</description>
    <!-- 
         Formulation based on NACA report 432 "Force measurements on a
         1/40-scale model of the U.S. Airship Akron" by Hugh B. Freeman.

            CL = L / (q * (vol)^(2/3))

    -->
    <product>
     <property>aero/qbar-psf</property>
     <property>aero/constants/volume-ft3_2_3</property>
     <!-- Start CL -->
     <value> 1.0 </value>
     <table>
      <independentVar lookup="row">fcs/elevator-pos-deg</independentVar>
      <!--  Virtual wind-tunnel data computed with Gerris. -->
      <tableData>
       -30  -0.066622
       0    0
       30   0.066622
      </tableData>
     </table>
    </product>
   </function>

  </axis>

  <!-- Moments =============================================== -->

  <!-- ================================================== -->  
  <axis name="ROLL">

   <function name="aero/moment/Clp">  <!-- Totally off! -->
    <description>Roll_moment_due_to_roll_rate_(damping)</description>
    <!-- The current version is just a hack to make the craft stable. -->
    <product>
     <!-- property>aero/qbar-psf</property -->
     <!-- property>aero/bi2vel</property -->
     <property>velocities/p-aero-rad_sec</property>
     <value> -75000.0 </value>
    </product>
   </function>

  </axis>

  <!-- ================================================== -->
  <axis name="PITCH">

   <function name="aero/moment/Cmq"> <!-- Totally off! -->
    <description>Pitch_moment_due_to_pitch_rate_(damping)</description>
    <!-- The current version is just a hack to make the craft stable. -->
    <product>
     <!-- property>aero/qbar-psf</property -->
     <!-- property>aero/ci2vel</property -->
     <property>velocities/q-aero-rad_sec</property>
     <value> -1500000.0 </value>
    </product>
   </function>

   <function name="aero/moment/Cm_env_alpha">
    <description>Pitch_moment_from_envelope_due_to_alpha</description>
    <product>
     <property>aero/moment/M_env_aoa</property>
     <quotient>
      <property> aero/tmp/wz </property>
      <max>
       <value> 0.00001 </value>
       <property> aero/tmp/h_wy_wz </property>
      </max>
     </quotient>
    </product>
   </function>

   <function name="aero/moment/Cm_fin_alpha">
    <description>Pitch_moment_from_horizontal_fin_due_to_alpha</description>
    <!--
         Formulation based on NACA report 432 "Force measurements on a
         1/40-scale model of the U.S. Airship Akron" by Hugh B. Freeman.

            Cm = M / (q * vol)

    -->
    <product>
     <property>aero/qbar-psf</property>
     <property>aero/constants/volume-ft3</property>
     <!-- Start Cm -->
     <table>
      <independentVar lookup="row">aero/alpha-deg</independentVar>
      <!--  Virtual wind-tunnel data computed with Gerris. -->
      <tableData>
       -180   0.00000
       -165   0.06884
       -150   0.18569
       -135   0.23584
       -120   0.25459
       -105   0.27774
       -90    0.23735
       -75    0.27625
       -60    0.24490
       -45    0.25233
       -30    0.18336
       -20    0.10816
       -10    0.045351
       0      0
       10     -0.045351
       20     -0.10816
       30     -0.18336
       45     -0.25233
       60     -0.24490
       75     -0.27625
       90     -0.23735
       105    -0.27774
       120    -0.25459
       135    -0.23584
       150    -0.18569
       165    -0.06884
       180    0.00000
      </tableData>
     </table>
    </product>
   </function>

   <function name="aero/moment/Cmde">
    <description>Pitch_moment_due_to_elevator</description>
    <!--
         Formulation based on NACA report 432 "Force measurements on a
         1/40-scale model of the U.S. Airship Akron" by Hugh B. Freeman.

            Cm = M / (q * vol)

    -->
    <product>
     <property>aero/qbar-psf</property>
     <property>aero/constants/volume-ft3</property>
     <!-- Start Cmdr = -->
     <value> 1.0 </value> <!-- The elevators are not adjusted yet. -->
     <table>
      <independentVar lookup="row">fcs/elevator-pos-deg</independentVar>
      <!--  Virtual wind-tunnel data computed with Gerris. -->
      <tableData>
       -30  0.082789
       0    0
       30   -0.082789
      </tableData>
     </table>
    </product>
   </function> 

  </axis>

  <!-- ================================================== -->
  <axis name="YAW">

   <function name="aero/moment/Cnr"> <!-- Totally off! -->
    <description>Yaw_moment_due_to_yaw_rate_(damping)</description>
    <!-- The current version is just a hack to make the craft stable. -->
    <product>
     <!-- property>aero/qbar-psf</property -->
     <!-- property>aero/ai2vel</property -->
     <property>velocities/r-aero-rad_sec</property>
     <value> -1500000.0 </value>
    </product>
   </function>

   <function name="aero/moment/Cndr">
    <description>Yaw_moment_due_to_rudder</description>
    <!--
         Formulation based on NACA report 432 "Force measurements on a
         1/40-scale model of the U.S. Airship Akron" by Hugh B. Freeman.

            Cm = M / (q * vol)

    -->
    <product>
     <property>aero/qbar-psf</property>
     <property>aero/constants/volume-ft3</property>
     <!-- Start Cndr = -->
     <value> 2.5 </value> <!-- The rudder is not adjusted yet. -->
     <table>
      <independentVar lookup="row">fcs/rudder-pos-deg</independentVar>
      <!--  Virtual wind-tunnel data computed with Gerris. -->
      <tableData>
       -30  0.082789
       0    0
       30   -0.082789
      </tableData>
     </table>
    </product>
   </function>

   <function name="aero/moment/Cn_env_beta">
    <description>Yaw_moment_from_envelope_due_to_beta</description>
    <product>
     <value> -1.0 </value>  <!-- Note the sign! -->
     <property> aero/moment/M_env_aoa </property>
     <quotient>
      <property> aero/tmp/wy </property>
      <max>
       <value> 0.00001 </value>
       <property> aero/tmp/h_wy_wz </property>
      </max>
     </quotient>
    </product>
   </function>

   <function name="aero/moment/Cn_fin_beta">
    <description>Yaw_moment_from_vertical_fin_due_to_beta</description>
    <!--
         Formulation based on NACA report 432 "Force measurements on a
         1/40-scale model of the U.S. Airship Akron" by Hugh B. Freeman.

            Cn = M / (q * vol)

    -->
    <product>
     <property>aero/qbar-psf</property>
     <property>aero/constants/volume-ft3</property>
     <!-- Start Cn -->
     <value> -1.0 </value>
     <table>
      <independentVar lookup="row">aero/beta-deg</independentVar>
      <!--  Virtual wind-tunnel data computed with Gerris. -->
      <tableData>
       -180   0.00000
       -165   0.06884
       -150   0.18569
       -135   0.23584
       -120   0.25459
       -105   0.27774
       -90    0.23735
       -75    0.27625
       -60    0.24490
       -45    0.25233
       -30    0.18336
       -20    0.10816
       -10    0.045351
       0      0
       10     -0.045351
       20     -0.10816
       30     -0.18336
       45     -0.25233
       60     -0.24490
       75     -0.27625
       90     -0.23735
       105    -0.27774
       120    -0.25459
       135    -0.23584
       150    -0.18569
       165    -0.06884
       180    0.00000
      </tableData>
     </table>
    </product>
   </function>
 
  </axis>

 </aerodynamics>
<?xml version="1.0"?>
<!--

  ZLT NT-07 airship flight model for JSBSim.

    Copyright (C) 2009 - 2011  Anders Gidenstam  (anders(at)gidenstam.org)

    This program is free software; you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation; either version 2 of the License, or
    (at your option) any later version.
  
    This program is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.
  
    You should have received a copy of the GNU General Public License
    along with this program; if not, write to the Free Software
    Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA
  
-->
<system name="Instrumentation">

 <channel name="Envelope Pressure Indicator">

  <documentation>
   According to [FAA:2008:E8-6600] the ZLT envelope pressure indicator (EPI)
   instrument provides "annunciation of the Helium and Ballonet Pressure
   as well as indication of the aft and forward Fan and Sensor Fail status
   using LED columns".
  </documentation>

  <fcs_function name="instrumentation/gas-pressure-psf">
   <function>
    <difference>
     <property> buoyant_forces/gas-cell/pressure-psf </property>
     <property> atmosphere/P-psf </property>
    </difference>
   </function>
   <output>/instrumentation/envelope-pressure-indicator/indicated-gas-pressure-psf</output>
  </fcs_function>

  <fcs_function name="instrumentation/ballonet-pressure-psf[0]">
   <function>
    <difference>
     <property> buoyant_forces/gas-cell/ballonet[0]/pressure-psf[0] </property>
     <property> atmosphere/P-psf </property>
    </difference>
   </function>   
   <output>/instrumentation/envelope-pressure-indicator/indicated-fwd-ballonet-pressure-psf</output>
  </fcs_function>

  <fcs_function name="instrumentation/ballonet-pressure-psf[1]">
   <function>
    <difference>
     <property> buoyant_forces/gas-cell/ballonet[1]/pressure-psf </property>
     <property> atmosphere/P-psf </property>
    </difference>
   </function>   
   <output>/instrumentation/envelope-pressure-indicator/indicated-aft-ballonet-pressure-psf</output>
  </fcs_function>

 </channel>

 <channel name="OAT and Superheat Indicator">

  <documentation>
   Provide outside air temperatur and superheat in degF.

   From photos of the cockpit it can be determined that the OAT and superheat
   indicator shows relative superheat with the range -8 to +20 degC and
   outside air temperture with the range -20 to +50 degC. 
  </documentation>

  <fcs_function name="instrumentation/oat-degf">
   <function>
    <difference>
     <property> atmosphere/T-R </property>
     <value> 459.67 </value>
    </difference>
   </function>   
   <output>/instrumentation/oat-indicator/indicated-oat-degf</output>
  </fcs_function>

  <fcs_function name="instrumentation/superheat-degf">
   <function>
    <difference>
     <property> buoyant_forces/gas-cell/temp-R </property>
     <property> atmosphere/T-R </property>
    </difference>
   </function>   
   <output>/instrumentation/superheat-indicator/indicated-superheat-degf</output>
  </fcs_function>

 </channel>

 <documentation>
  Provide exhaust gas temperature in degC.
 </documentation>
 <!-- Updated by FlightGear. -->
 <property value="0.0">/engines/engine[0]/egt-degf</property>
 <property value="0.0">/engines/engine[1]/egt-degf</property>
 <property value="0.0">/engines/engine[2]/egt-degf</property>

 <channel name="Engine EGT">

  <fcs_function name="instrumentation/engines/egt-degc[0]">
   <function>
    <table>
     <independentVar>/engines/engine[0]/egt-degf</independentVar>
     <tableData>
      -148.0  -100.0
      1832.0  1000.0
     </tableData>
    </table>
   </function>   
   <output>/engines/engine[0]/egt-degc</output>
  </fcs_function>
  <fcs_function name="instrumentation/engines/egt-degc[1]">
   <function>
    <table>
     <independentVar>/engines/engine[1]/egt-degf</independentVar>
     <tableData>
      -148.0  -100.0
      1832.0  1000.0
     </tableData>
    </table>
   </function>   
   <output>/engines/engine[1]/egt-degc</output>
  </fcs_function>
  <fcs_function name="instrumentation/engines/egt-degc[2]">
   <function>
    <table>
     <independentVar>/engines/engine[2]/egt-degf</independentVar>
     <tableData>
      -148.0  -100.0
      1832.0  1000.0
     </tableData>
    </table>
   </function>   
   <output>/engines/engine[2]/egt-degc</output>
  </fcs_function>

 </channel>

 <documentation>
  Provide cylinder head temperature in degC.
  The maximum allowable value is 260 degC according to the type certificate
  FAA AS1CE.
  The temperature computed by JSBSim seems a bit high compared
  to the data in the type certificate. Remap?
 </documentation>
 <!-- Updated by FlightGear. -->
 <property value="0.0">/engines/engine[0]/cht-degf</property>
 <property value="0.0">/engines/engine[1]/cht-degf</property>
 <property value="0.0">/engines/engine[2]/cht-degf</property>

 <channel name="Engine CHT">

  <fcs_function name="instrumentation/engines/cht-degc[0]">
   <function>
    <table>
     <independentVar>/engines/engine[0]/cht-degf</independentVar>
     <tableData>
      -148.0  -100.0
      1652.0   900.0
     </tableData>
    </table>
   </function>   
   <output>/engines/engine[0]/cht-degc</output>
  </fcs_function>
  <fcs_function name="instrumentation/engines/cht-degc[1]">
   <function>
    <table>
     <independentVar>/engines/engine[1]/cht-degf</independentVar>
     <tableData>
      -148.0  -100.0
      1652.0   900.0
     </tableData>
    </table>
   </function>   
   <output>/engines/engine[1]/cht-degc</output>
  </fcs_function>
  <fcs_function name="instrumentation/engines/cht-degc[2]">
   <function>
    <table>
     <independentVar>/engines/engine[2]/cht-degf</independentVar>
     <tableData>
      -148.0  -100.0
      1652.0   900.0
     </tableData>
    </table>
   </function>   
   <output>/engines/engine[2]/cht-degc</output>
  </fcs_function>

 </channel>

 <documentation>
  Provide oil temperature in degC.
  The maximum allowable value is 118 degC (100F) and take-off
  minimum is 37.8 degC (240F) according to the type certificates
  FAA AS1CE and E1CE.
  The temperature computed by JSBSim seems ok.
 </documentation>
 <!-- Updated by FlightGear. -->
 <property value="0.0">/engines/engine[0]/oil-temperature-degf</property>
 <property value="0.0">/engines/engine[1]/oil-temperature-degf</property>
 <property value="0.0">/engines/engine[2]/oil-temperature-degf</property>

 <channel name="Engine oil temperature">

  <fcs_function name="instrumentation/engines/oil-temperature-degc[0]">
   <function>
    <table>
     <independentVar>/engines/engine[0]/oil-temperature-degf</independentVar>
     <tableData>
      -148.0  -100.0
      1652.0   900.0
     </tableData>
    </table>
   </function>   
   <output>/engines/engine[0]/oil-temperature-degc</output>
  </fcs_function>
  <fcs_function name="instrumentation/engines/oil-temperature-degc[1]">
   <function>
    <table>
     <independentVar>/engines/engine[1]/oil-temperature-degf</independentVar>
     <tableData>
      -148.0  -100.0
      1652.0   900.0
     </tableData>
    </table>
   </function>   
   <output>/engines/engine[1]/oil-temperature-degc</output>
  </fcs_function>
  <fcs_function name="instrumentation/engines/oil-temperature-degc[2]">
   <function>
    <table>
     <independentVar>/engines/engine[2]/oil-temperature-degf</independentVar>
     <tableData>
      -148.0  -100.0
      1652.0   900.0
     </tableData>
    </table>
   </function>   
   <output>/engines/engine[2]/oil-temperature-degc</output>
  </fcs_function>

 </channel>

</system>
<?xml version="1.0"?>
<!--

  ZLT NT airship flight model for JSBSim.

    Copyright (C) 2008 - 2023  Anders Gidenstam  (anders(at)gidenstam.org)

    This program is free software; you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation; either version 2 of the License, or
    (at your option) any later version.
  
    This program is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.
  
    You should have received a copy of the GNU General Public License
    along with this program; if not, write to the Free Software
    Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA
  
-->
<?xml-stylesheet type="text/xsl" href="http://jsbsim.sourceforge.net/JSBSim.xsl"?>
<fdm_config name="NT07" version="2.0" release="BETA"
 xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
 xsi:noNamespaceSchemaLocation="http://jsbsim.sourceforge.net/JSBSim.xsd">

 <fileheader>

  <author>Anders Gidenstam</author>
  <email>anders at gidenstam dot org</email>

  <filecreationdate>2008-06-10</filecreationdate>
  <version>2023-12-07</version>

  <description>JSBSim model of a NT-07 airship.</description>

  <license>
   <licenseName>GPL v2+</licenseName>
   <licenseURL>http://www.gnu.org/licenses/old-licenses/gpl-2.0.html</licenseURL>
  </license>
  <note>
   This model was created using publicly available data, publicly available
   technical reports, textbooks, and guesses. It contains no proprietary or
   restricted data. It has been validated only to the extent that it may seem
   to "fly right", and possibly to comply to published, publicly known, 
   performance data (maximum speed, endurance, etc.).

   This model is distributed in the hope that it will be useful,
   but WITHOUT ANY WARRANTY; without even the implied warranty of
   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
   GNU General Public License for more details.
  </note>

  <reference
   refID="FAA:2008:AS1CE"
   author="FAA"
   title="http://www.airweb.faa.gov/Regulatory_and_Guidance_Library/rgMakeModel.nsf/MainFrame?OpenFrameSet"
   date="11 June 2008"/>

  <reference
   refID="EASA:2008:TC_LZ_N07"
   author="EASA"
   title="http://www.easa.europa.eu/ws_prod/c/doc/Design_Appro/Airships/TCDS%20EASA_AS_001%20Issue%2003.pdf"
   date="17 June 2008"/>

  <reference
   refID="FAA:2008:E8-6600"
   author="FAA"
   title="http://edocket.access.gpo.gov/2008/pdf/E8-6600.pdf"
   date="28 March 2008"/>

  <reference
   refID="FAA:2009:TCDS-1E10"
   author="FAA"
   title="http://rgl.faa.gov/Regulatory_and_Guidance_library/rgMakeModel.nsf/0/450619753f0fec87862575e6004f3dac/$FILE/1E10.pdf"
   date="28 January 2009"/>

  <reference
   refID="FAA:2008:P30BO"
   author="FAA"
   title="http://www.hoffmann-prop.com/documents/HOV373TCDS_1.pdf"
   date="24 April 2008"/>

 </fileheader>

 <!--
 ==== Metrics ===============================================================
 -->

 <metrics>

  <documentation>
   NOTE: The center of the mooring coupler at bow of the hull is the
         origo of the body coordinate system.
         x/y/z = back/right/up

   According to [FAA:2008:AS1CE] the datum of the Construction
   Coordinate System is 5.000 m ahead of the nose of the ship with the
   horizontal reference line running parallel to the airship center line.
  </documentation>

  <documentation>
   Some general data from http://www.zeppelinflug.de/seiten/D/zeppnt_techn.htm
   Note: My 2 view drawing is of a smaller NT-01 (6.5m shorter).
         It looks like these 6.5 meters were added in the center section
         aft of the car and engines. I'll add 6.5 meters to the aft locations.

   NT-07
     Luftschiff neuer Technologie
     Erstflug:             18.September 1997
     Triebwerke:           Lycoming IO-360 mit je 147kw/200PS
     L\"ange:              75 m
     Max. Breite:          19,5 m
     H\"ohe:               17,4 m
     H\"ullenvolumen:      8.425 m3
     Max. Startgewicht:    8.040 kg
     Zuladung:             1.900 kg
     Max. Geschwindigkeit: 125 km/h
     Max. Flugh\"he:       2.600 m
     Max. Flugdauer:       ca. 24h
     Reichweite:           900 km

   [De Beers ppt]:
     Height:                17.4m
     Total ballonet volume: 2200m3
     Cabin length:          10.7m

   [wikipedia]:
     Total volume of the ballonets: 2,000m^3
     Normal pressure: 5 millibar.

   [Zeppelin-NT_Measurement_Platform.pdf]:
     Each engine has is own tank.
     Gondola plan!
     Max fuel load:              ~825kg
     Cruise consumption (70kph): 50kg/h
     110kph:                     100kg/h
     Max gondola payload:        1400kg
     3 generators (2x130A 28VDC, 1x10kW 100-200VAC -> 300A 28VDC)
     Max flight need:            340A (All blowers at max)
     Side engines:               90 deg up to 30 deg down.
                                 (Other sources: 0 - 120 up swivel)
     Aft engine:                 0 - 90 deg down.
     Load and buoyancy tables.

   [AIRSHIP_DEVELOPMENTS_WORLDWIDE.doc, 2001]:
     The prototype lengthened 6.5m to 75m.

   [PV2007_7879.pdf]
     Propeller diameter 2700mm.
  </documentation>

  <wingarea unit="M2"> 1000.0 </wingarea>  <!-- Planfold area (approximated).-->
  <wingspan unit="M">   14.1  </wingspan>  <!-- Envelope diameter. -->
  <chord unit="M">      75.0  </chord>     <!-- Envelope length. -->
  <htailarea unit="M2"> 25.2700 </htailarea> <!-- FIX these... -->
  <htailarm unit="M">   12.1500 </htailarm> <!-- From CG. -->
  <vtailarea unit="M2"> 12.6400 </vtailarea>
  <vtailarm unit="M">   12.1500 </vtailarm> <!-- From CG. -->
  <!-- Total envelope volume vol = 8425 m^3 (NT07) -->

  <!-- Aerodynamic Reference Point. -->
  <location name="AERORP" unit="M">
   <x> 34.3 </x>
   <y>  0.0 </y>
   <z>  0.0 </z>
  </location>

  <location name="EYEPOINT" unit="M">
   <x> 18.9 </x>
   <y>  0.0 </y>
   <z> -7.8 </z>
  </location>

  <!-- Visual Reference Point -->
  <location name="VRP" unit="M">
   <x>  0.0  </x>
   <y>  0.0  </y>
   <z>  0.0  </z>
  </location>

 </metrics>

 <!--
 ==== Mass balance =========================================================
 -->

 <mass_balance>

  <documentation>
   Maximum weights according to [FAA:2008:AS1CE] and [EASA:2008:TC_LZ_N07]:
     Maximum airship equilibrium (normal condition) weight 16,865 lbs (7650 kg)
     Maximum car (gondola) gross weight                     5,390 lbs (2690 kg)
     Maximum static heaviness
       In Flight                                            1,102 lbs (500 kg)
       Take off and landing                                   882 lbs (400 kg)
       Maximum static lightness                              -441 lbs (-200 kg)
  </documentation>
  <documentation>
   C.G. Range according to [FAA:2008:AS1CE]:
     Take off and Landing
       Maximum Forward         39.150 m (1344.5 GE /fdm/jsbsim/inertia/cg-x-in)
       Maximum Aft             39.900 m (/fdm/jsbsim/inertia/cg-x-in LT 1374.0)
     In Flight
       Maximum Forward         38.400 m
       Maximum Aft             39.900 m
   Note: C.G locations in the Construction Coordinate System with reference
         datum 5.000 m ahead of the nose of the ship.
  </documentation>

  <emptywt unit="KG"> 1500 </emptywt>

  <documentation>
   The empty weight is estimated to consist of:
    - The weight of the envelope and frame, guesstimated to 1500 kg.
    - The frame weighs ~1000kg.

   The car and engines etc will be added as point masses.
  </documentation>

  <documentation>
   % Very rough estimation model of the empty weight CG and inertia tensor.
   % Assume the empty weight of is to 100% a cylindrical shell.

   m = 1500.0   % KG
   r = 7.05     % meter
   l = 75.0     % meter

   % Very rough estimate of center of gravity (based on the inertial estimate):
   CGx = 0
   CGy = 0
   CGz = 0

   % Steiners theorem:
   % Ixx = \bar{Ixx} + m sqrt(\bar{y}^2 + \bar{z}^2)
   % Ixy = \bar{Ixy} + m \bar{x} \bar{y}

   % Very rough estimation model of Ixx, Iyy and Izz relative the CG.
   Ixx = m * r^2
         
   Iyy = 1/2*m * r^2 + 1/12*m*l^2

   Izz = 1/2*m * r^2 + 1/12*m*l^2

   Ixy = 0
   Ixz = 0
   Iyz = 0

  </documentation>

  <ixx unit="KG*M2">  74554.0 </ixx>
  <iyy unit="KG*M2"> 740400.0 </iyy>
  <izz unit="KG*M2"> 740400.0 </izz>
  <ixy unit="KG*M2">      0.0 </ixy>
  <ixz unit="KG*M2">      0.0 </ixz>
  <iyz unit="KG*M2">      0.0 </iyz>

  <location name="CG" unit="M">
   <x> 37.500 </x>
   <y>  0.000 </y>
   <z>  0.000 </z>
  </location>

  <!--
  === Ballast ================================================
  -->
  <documentation>
   Ballast according to [FAA:2008:AS1CE]:
     In Flight:
       1543 lbs (700 kg) of water at 25.6 m
       441 lbs (200 kg) at 26.9 m. (Gondola locker aft)
     Ground:
       1543 lbs (700 kg) of water at 25.6 m
       441 lbs (200 kg) at 24.1 m. (Gondola locker forward)
       661 lbs (300 kg) at 26.9 m. (Gondola locker aft)
       397 lbs (180 kg) at 63.2 m. (Landing gear aft)
  </documentation>

  <!-- Experimental ballast setup. -->
  <!-- Center initial weigh-off ballast n=0 -->
  <pointmass name="Ballast_Center">
   <location unit="M">
    <x>  37.5 </x>
    <y>   0.0 </y>
    <z> -8.70 </z>
   </location>
   <weight unit="KG"> 2000 </weight>
  </pointmass>

  <!--
       Ballast tanks for fine tuning the CG.
       These are for FDM development and controlled via static-trim-cmd-norm.
  -->
  <!-- Forward ballast n=1 -->
  <pointmass name="Ballast_Forward">
   <location unit="M">
    <x> 0.0 </x>
    <y> 0.0 </y>
    <z> -1.0 </z>
   </location>
   <weight unit="LBS"> 500 </weight>
  </pointmass>
  <!-- Aft ballast n=2 -->
  <pointmass type="Ballast_Aft">
   <location unit="M">
    <x> 75.0 </x>
    <y>  0.0 </y>
    <z> -1.0 </z>
   </location>
   <weight unit="LBS"> 500 </weight>
  </pointmass>

  <!-- 
  === Crew and payload =======================================
  -->
  <documentation>
   Payload according to [EASA:2008:TC_LZ_N07]:
     Max gondola payload: 1,040 kg
  </documentation>
  <documentation>
   Seats according to [FAA:2008:AS1CE]: (Recall the 5.00m difference in origin)
     2 (flight deck) at gondola station 22.38 m
     1 passenger LH  at gondola station 23.31 m
     1 passenger LH  at gondola station 24.49 m
     1 passenger LH  at gondola station 25.31 m
     1 passenger LH  at gondola station 26.12 m
     1 passenger LH  at gondola station 26.93 m
     1 passenger LH  at gondola station 27.75 m
     1 passenger RH  at gondola station 23.31 m
     1 passenger RH  at gondola station 24.72 m
     1 passenger RH  at gondola station 25.49 m
     1 passenger RH  at gondola station 26.25 m
     1 passenger RH  at gondola station 27.00 m
     1 passenger RH  at gondola station 27.77 m
     1 passenger RH  at gondola station 28.53 m
  </documentation>
  <pointmass name="Pilot"> <!-- n=3 -->
   <weight unit="KG"> 85.0 </weight>
   <location name="POINTMASS" unit="M">
    <x> 17.38 </x>
    <y> -0.45 </y>
    <z> -8.25 </z>
   </location>
  </pointmass>
  <pointmass name="Pilot"> <!-- n=4 -->
   <weight unit="KG"> 85.0 </weight>
   <location name="POINTMASS" unit="M">
    <x> 17.38 </x>
    <y>  0.45 </y>
    <z> -8.25 </z>
   </location>
  </pointmass>
  <pointmass name="Cabin payload"> <!-- n=5 -->
   <weight unit="KG"> 500.0 </weight>
   <location name="POINTMASS" unit="M">
    <x> 21.0 </x>
    <y>  0.0 </y>
    <z> -8.5 </z>
   </location>
  </pointmass>

  <!-- 
  === Engines ================================================
  -->
  <!-- IO360: dry weight ~130kg. -->
  <pointmass name="Left_Engine">
   <weight unit="KG"> 250.0 </weight>
   <location name="POINTMASS" unit="M">
    <x> 26.4 </x>
    <y> -6.6 </y>
    <z> -3.4 </z>
   </location>
  </pointmass>
  <pointmass name="Right_Engine">
   <weight unit="KG"> 250.0 </weight>
   <location name="POINTMASS" unit="M">
    <x> 26.4 </x>
    <y>  6.6 </y>
    <z> -3.4 </z>
   </location>
  </pointmass>
  <pointmass name="Aft_Engine">
   <weight unit="KG"> 250.0 </weight>
   <location name="POINTMASS" unit="M">
    <x> 73.0 </x>
    <y>  0.0 </y>
    <z>  0.0 </z>
   </location>
  </pointmass>

  <!-- 
  === Structure ==============================================
  -->

  <pointmass name="Mooring cone">
   <!-- Pure guess. -->
   <weight unit="KG"> 60.0 </weight>
   <location name="POINTMASS" unit="M">
    <x>  0.0 </x>
    <y>  0.0 </y>
    <z>  0.0 </z>
   </location>
  </pointmass>
  <pointmass name="Car">
   <!-- Pure guess. -->
   <weight unit="KG"> 1650.0 </weight>
   <location name="POINTMASS" unit="M">
    <x> 22.0 </x>
    <y>  0.0 </y>
    <z> -8.7 </z>
   </location>
  </pointmass>
  <pointmass name="Upper_fin">
   <!-- Pure guess. -->
   <weight unit="KG"> 180.0 </weight>
   <location name="POINTMASS" unit="M">
    <x> 63.2 </x>
    <y>  0.0 </y>
    <z>  5.0 </z>
   </location>
  </pointmass>
  <pointmass name="Left_fin">
   <!-- Pure guess. -->
   <weight unit="KG"> 180.0 </weight>
   <location name="POINTMASS" unit="M">
    <x> 63.2 </x>
    <y> -4.5 </y>
    <z> -2.1 </z>
   </location>
  </pointmass>
  <pointmass name="Right_fin">
   <!-- Pure guess. -->
   <weight unit="KG"> 180.0 </weight>
   <location name="POINTMASS" unit="M">
    <x> 63.2 </x>
    <y>  4.5 </y>
    <z> -2.1 </z>
   </location>
  </pointmass>

 </mass_balance>

 <!--
 ==== Ground reactions ======================================================
 -->

 <ground_reactions>

  <!--
  === Landing gears ===================================================
  -->
  <contact type="BOGEY" name="CAR_GEAR">
   <location unit="M">
    <x>  20.00 </x>
    <y>   0.00 </y>
    <z> -10.45 </z>
   </location>
   <static_friction>  0.8 </static_friction>
   <dynamic_friction> 0.5 </dynamic_friction>
   <rolling_friction> 0.2 </rolling_friction>
   <spring_coeff unit="N/M"> 50000 </spring_coeff>
   <damping_coeff unit="N/M/SEC"> 10000 </damping_coeff>
   <max_steer unit="DEG"> 360.0 </max_steer>
   <brake_group> LEFT </brake_group>
   <retractable>0</retractable>
  </contact>

  <contact type="BOGEY" name="REAR_GEAR">
   <location unit="M">
    <x>  59.00 </x>
    <y>   0.00 </y>
    <z>  -7.65 </z>
   </location>
   <static_friction>  0.8 </static_friction>
   <dynamic_friction> 0.5 </dynamic_friction>
   <rolling_friction> 0.2 </rolling_friction>
   <spring_coeff unit="N/M"> 50000 </spring_coeff>
   <damping_coeff unit="N/M/SEC"> 10000 </damping_coeff>
   <max_steer unit="DEG"> 360.0 </max_steer>
   <brake_group> RIGHT </brake_group>
   <retractable>0</retractable>
  </contact>

  <!--
  === Other contact points ============================================
  -->
  <!-- These should induce structural failure. -->
  <contact type="STRUCTURE" name="NOSE">
   <location unit="M">
    <x> 0.0 </x>
    <y> 0.0 </y>
    <z> 0.0 </z>
   </location>
   <static_friction>  0.2 </static_friction>
   <dynamic_friction> 0.2 </dynamic_friction>
   <spring_coeff unit="N/M">      100000 </spring_coeff>
   <damping_coeff unit="N/M/SEC">  20000 </damping_coeff>
  </contact>

  <contact type="STRUCTURE" name="LEFT_FIN">
   <location unit="M">
    <x> 57.3 </x>
    <y> -8.1 </y>
    <z> -4.1 </z>
   </location>
   <static_friction>  0.2 </static_friction>
   <dynamic_friction> 0.2 </dynamic_friction>
   <spring_coeff unit="N/M">      100000 </spring_coeff>
   <damping_coeff unit="N/M/SEC">  20000 </damping_coeff>
  </contact>

  <contact type="STRUCTURE" name="RIGHT_FIN">
   <location unit="M">
    <x> 57.3 </x>
    <y>  8.1 </y>
    <z> -4.1 </z>
   </location>
   <static_friction>  0.2 </static_friction>
   <dynamic_friction> 0.2 </dynamic_friction>
   <spring_coeff unit="N/M">      100000 </spring_coeff>
   <damping_coeff unit="N/M/SEC">  20000 </damping_coeff>
  </contact>

  <contact type="STRUCTURE" name="TAIL_ENGINE">
   <location unit="M">
    <x> 70.0 </x>
    <y>  0.0 </y>
    <z>  0.0 </z>
   </location>
   <static_friction>  0.2 </static_friction>
   <dynamic_friction> 0.2 </dynamic_friction>
   <spring_coeff unit="N/M">      100000 </spring_coeff>
   <damping_coeff unit="N/M/SEC">  20000 </damping_coeff>
  </contact>

 </ground_reactions>

 <!--
 ==== Propulsion ============================================================
 -->

 <propulsion>
 
  <!--
  === Engine ================================================
  -->
  <!-- Left engine -->
  <engine file="engIO360C">
   <feed>0</feed>
   <thruster file="propHO-V373-D">
    <location unit="M">
     <x> 25.5 </x>
     <y> -8.6 </y>
     <z> -3.5 </z>
    </location>
    <orient unit="DEG">
     <roll>  0.0 </roll>
     <pitch> 0.0 </pitch>
     <yaw>   0.0 </yaw>
    </orient>
   </thruster>
  </engine>
  <!-- Right engine -->
  <engine file="engIO360C">
   <feed>1</feed>
   <thruster file="propHO-V373-D">
    <location unit="M">
     <x> 25.5 </x>
     <y>  8.6 </y>
     <z> -3.5 </z>
    </location>
    <orient unit="DEG">
     <roll>  0.0 </roll>
     <pitch> 0.0 </pitch>
     <yaw>   0.0 </yaw>
    </orient>
   </thruster>
  </engine>
  <!-- Aft engine -->
  <engine file="engIO360C">
   <feed>2</feed>
   <thruster file="propHO-V373-D">
    <location unit="M">
     <x> 74.9 </x>
     <y>  0.0 </y>
     <z>  0.0 </z>
    </location>
    <orient unit="DEG">
     <roll>  0.0 </roll>
     <pitch> 0.0 </pitch>
     <yaw>   0.0 </yaw>
    </orient>
   </thruster>
  </engine>

  <!-- Aft auxilliary engine -->
  <engine file="electric147kW">
   <thruster file="prop_Clark_Y7570">
    <location unit="M">
     <x> 73.64 </x>
     <y> -1.10 </y>
     <z>  0.20 </z>
    </location>
    <orient unit="DEG">
     <roll>   0.0 </roll>
     <pitch>  0.0 </pitch>
     <yaw>  -90.0 </yaw>
    </orient>
   </thruster>
  </engine>

  <!--
  === Fuel tanks ============================================
  -->
  <documentation>
   Fuel capacity according to [FAA:2008:AS1CE]:
     110.95 (US)gallons usable at gondola station 29.3 m (LH)
     110.95 (US)gallons usable at gondola station 29.3 m (RH)
      84.57 (US)gallons usable at gondola station 76.6 m (Aft)
   The unusable fuel is included in the empty weight.
   (NOTE: Account for it here, anyway)
  </documentation>

  <tank type="FUEL">
   <location unit="M">
    <x> 26.4 </x>
    <y> -6.6 </y>
    <z> -3.4 </z>
   </location>
   <!-- 275 kg AVGAS, density 0.72 kg/liter. -->
   <capacity unit="KG"> 275.0 </capacity>
   <contents unit="KG"> 250.0 </contents>
  </tank>
  <tank type="FUEL">
   <location unit="M">
    <x> 26.4 </x>
    <y>  6.6 </y>
    <z> -3.4 </z>
   </location>
   <!-- 275 kg AVGAS, density 0.72 kg/liter. -->
   <capacity unit="KG"> 275.0 </capacity>
   <contents unit="KG"> 250.0 </contents>
  </tank>
  <tank type="FUEL">
   <location unit="M">
    <x> 70.0 </x>
    <y>  0.0 </y>
    <z>  0.0 </z>
   </location>
   <!-- 275 kg AVGAS, density 0.72 kg/liter. -->
   <capacity unit="KG"> 275.0 </capacity>
   <contents unit="KG"> 250.0 </contents>
  </tank>

 </propulsion>

 <!--
 === Gas cell ==============================================================
 -->

 <buoyant_forces>
  <documentation>
   Envelope and ballonet according to [EASA:2008:TC_LZ_N07]:
     Volume  envelope      8,450 m^3
             ballonet fwd  600 m^3, or
                           410 m^3 (Option B10/20)
             ballonet aft  1,600 m^3, or
                           1,065 m^3 (Option B10/20)
     Length                75.1 m
     Diameter              14.2 m
     Maximum width         19.5 m
     Height                19.4 m

   Buoyancy Centre         34.15 m aft of bow.
  </documentation>
  <documentation>
   Envelope and ballonet according to [FAA:2008:AS1CE]:
     Envelope
       Volume              298,409 ft^3 (8450 m^3)
       Maximum pressure    2.4 inH2O (600 Pa)
       Minimum pressure    1.2 inH2O (300 Pa)

     Ballonets (2)
       Volume              21,189 ft^3 or with Option B10 14,479ft^3 forward
       Volume              56,504 ft^3 aft

     Lifting Gas           Helium, recommended minimum purity 94%
  </documentation>
  <limitations>
   NOTE: The ballonets are placed based on a guess.
  </limitations>

  <!-- External environment properties -->
  <property> environment/sun-angle-rad </property>
  <property> environment/sun-radiation-norm </property>

  <!-- Ballonet system interface properties -->
  <property> buoyant_forces/gas-cell/ballonet[0]/blower-cmd-norm </property>
  <property> buoyant_forces/gas-cell/ballonet[1]/blower-cmd-norm </property>

  <gas_cell type="HELIUM">
   <location unit="M">
    <x> 34.15 </x>
    <y>  0.00 </y>
    <z>  0.00 </z>
   </location>
   <x_radius unit="M"> 40.50 </x_radius>
   <y_radius unit="M">  7.05 </y_radius>
   <z_radius unit="M">  7.05 </z_radius>
   <max_overpressure unit="PA"> 600.0 </max_overpressure> 
   <valve_coefficient unit="M4*SEC/KG"> 0.0075 </valve_coefficient>
   <fullness>0.95</fullness>

   <!-- heat exchange with the environment. [lb ft / sec] -->
   <!-- Note: The surface area of an ellipsiod is approximately
              4*pi*((a^p*b^p + a^p*c^p + b^p*c^p)/3)^(1/p)
              where p=1.6075
   -->
   <heat>
    <!-- Heat transfer due to temperature difference. -->
    <function name="buoyant_forces/gas-cell/dU_conduction">
     <product>
      <value> 28309.08 </value> <!-- Surface area [ft2] -->
      <value>     0.05 </value> <!-- Conductivity [lb / (K ft sec)] (Guess) -->
      <difference>
       <property> atmosphere/T-R </property>
       <property> buoyant_forces/gas-cell/temp-R </property>
      </difference>
     </product>
    </function>
    <function name="buoyant_forces/gas-cell/dU_radiation">
     <product>
      <value> 0.1714e-8 </value> <!-- Stefan-Boltzmann's constant
                                      [Btu / (h ft^2 R^4)] -->
      <value>       0.2 </value> <!-- Emissivity [0,1] (Guess) -->
      <value>  28309.08 </value> <!-- Surface area [ft2] -->
      <difference>
       <pow>
        <property> atmosphere/T-R </property>
        <value> 4.0 </value>
       </pow>
       <pow>
        <property> buoyant_forces/gas-cell/temp-R </property>
        <value> 4.0 </value>
       </pow>
      </difference>
     </product>
    </function>
    <!-- Heat gain due to solar radiation. Pure guess work. -->
    <function name="buoyant_forces/gas-cell/dU_sun">
     <product>
      <value>   7.2330 </value> <!-- Conversion to [lb ft / s] -->
      <value>   775.19 </value> <!-- Estimated projected surface area [m2] -->
      <value>  1300.00 </value> <!-- Solar energy flow [W/m2] -->
      <value>     0.01 </value> <!-- Guess -->
      <property> environment/sun-radiation-norm </property>
      <max>
       <value> 0.0 </value>
       <difference>
        <value> 1.5708 </value> <!-- pi/2 -->
        <property> environment/sun-angle-rad </property>
       </difference>
      </max>
     </product>
    </function>    

   </heat>

   <!-- Fore ballonet -->
   <ballonet type="AIR">
    <location unit="M">
     <x> 13.0 </x>
     <y>  0.0 </y>
     <z> -3.5 </z>
    </location>
    <x_radius unit="M">  15.0 </x_radius>
    <y_radius unit="M">  5.00 </y_radius>
    <z_radius unit="M">  3.50 </z_radius>
    <max_overpressure unit="PA"> 550.0 </max_overpressure> 
    <valve_coefficient unit="M4*SEC/KG"> 0.01 </valve_coefficient>
    <fullness>0.8</fullness>
    <heat>
     <!-- Heat transfer due to temperature difference. -->
     <function name="buoyant_forces/gas-cell/ballonet[0]/dU_conduction">
      <product>
       <value> 7020.33 </value> <!-- Surface area [ft2] -->
       <value>    0.05 </value> <!-- Conductivity [lb / (K ft sec)] (Guess) -->
       <difference>
        <property> buoyant_forces/gas-cell/temp-R </property>
        <property> buoyant_forces/gas-cell/ballonet[0]/temp-R </property>
       </difference>
      </product>
     </function>
     <function name="buoyant_forces/gas-cell/ballonet[0]/dU_radiation">
      <product>
       <value> 0.1714e-8 </value> <!-- Stefan-Boltzmann's constant
                                       [Btu / (h ft^2 R^4)] -->
       <value>       0.2 </value> <!-- Emissivity [0,1] (Guess) -->
       <value>   7020.33 </value> <!-- Surface area [ft2] -->
       <difference>
        <pow>
         <property> buoyant_forces/gas-cell/temp-R </property>
         <value> 4.0 </value>
        </pow>
        <pow>
         <property> buoyant_forces/gas-cell/ballonet[0]/temp-R </property>
         <value> 4.0 </value>
        </pow>
       </difference>
      </product>
     </function>
    </heat>
    <blower_input>
     <function name="buoyant_forces/gas-cell/ballonet[0]/in-flow-ft3ps">
      <product>
       <value> 100.0 </value>
       <property>buoyant_forces/gas-cell/ballonet[0]/blower-cmd-norm</property>
      </product>
     </function>
    </blower_input>
   </ballonet>
   <!-- Aft ballonet -->
   <ballonet type="AIR">
    <location unit="M">
     <x> 56.5 </x>
     <y>  0.0 </y>
     <z> -3.5 </z>
    </location>
    <x_radius unit="M">  15.0 </x_radius>
    <y_radius unit="M">  5.00 </y_radius>
    <z_radius unit="M">  3.50 </z_radius>
    <max_overpressure unit="PA"> 550.0 </max_overpressure> 
    <valve_coefficient unit="M4*SEC/KG"> 0.01 </valve_coefficient>
    <fullness>0.8</fullness>
    <heat>
     <!-- Heat transfer due to temperature difference. -->
     <function name="buoyant_forces/gas-cell/ballonet[1]/dU_conduction">
      <product>
       <value> 7020.33 </value> <!-- Surface area [ft2] -->
       <value>    0.05 </value> <!-- Conductivity [lb / (K ft sec)] (Guess) -->
       <difference>
        <property> buoyant_forces/gas-cell/temp-R </property>
        <property> buoyant_forces/gas-cell/ballonet[1]/temp-R </property>
       </difference>
      </product>
     </function>
     <function name="buoyant_forces/gas-cell/ballonet[1]/dU_radiation">
      <product>
       <value> 0.1714e-8 </value> <!-- Stefan-Boltzmann's constant
                                       [Btu / (h ft^2 R^4)] -->
       <value>       0.2 </value> <!-- Emissivity [0,1] (Guess) -->
       <value>   7020.33 </value> <!-- Surface area [ft2] -->
       <difference>
        <pow>
         <property> buoyant_forces/gas-cell/temp-R </property>
         <value> 4.0 </value>
        </pow>
        <pow>
         <property> buoyant_forces/gas-cell/ballonet[1]/temp-R </property>
         <value> 4.0 </value>
        </pow>
       </difference>
      </product>
     </function>
    </heat>
    <blower_input>
     <function name="buoyant_forces/gas-cell/ballonet[1]/in-flow-ft3ps">
      <product>
       <value> 100.0 </value>
       <property>buoyant_forces/gas-cell/ballonet[1]/blower-cmd-norm</property>
      </product>
     </function>
    </blower_input>
   </ballonet>

  </gas_cell>

 </buoyant_forces>

 <!--
 === Ballonet and gas control system ========================================
 -->
 <system file="air-and-gas-control"/>

 <!--
 ==== Initial static condition weigh-off ====================================
 -->
 <system name="Weigh_Off">
  <channel name="Initial_Static_Weigh_Off">
   <!-- This system ensures that the ship starts slightly heavy. -->
   <!-- The weight of inertia/pointmass-weight-lbs[0] is set from Nasal. -->

   <summer name="static-condition/net-lift-lbs">
    <input> buoyant_forces/gas-cell[0]/buoyancy-lbs </input>
    <input> -inertia/weight-lbs </input>
   </summer>

  </channel>
 </system>

 <!--
 === Static Trim ============================================================
 -->
 <system name="Static trim">
  <!-- Note: static-trim-cmd-norm is for FDM development. -->
  <property value="0.3">fcs/static-trim-cmd-norm</property>

  <channel name="StaticTrim">
   <!--
    This is for CG tweaking.
   -->

   <summer name="fcs/static-trim-norm">
    <input>fcs/static-trim-cmd-norm</input>
    <clipto>
     <min>0</min>
     <max>1</max>
    </clipto>
   </summer>

   <summer name="fcs/inverse-static-trim-norm">
    <input>-fcs/static-trim-norm</input>
    <bias>1</bias>
    <clipto>
     <min>0</min>
     <max>1</max>
    </clipto>
   </summer>

   <aerosurface_scale name="Ballast Trim Fore">
    <input>fcs/inverse-static-trim-norm</input>
     <domain>
     <min>0</min>
     <max>1</max>
    </domain>
    <range>
     <min>0</min>
     <max>500</max>
    </range>
    <output>inertia/pointmass-weight-lbs[1]</output>
   </aerosurface_scale>

   <aerosurface_scale name="Ballast Trim Aft">
    <input>fcs/static-trim-norm</input>
    <domain>
     <min>0</min>
     <max>1</max>
    </domain>
    <range>
     <min>0</min>
     <max>500</max>
    </range>
    <output>inertia/pointmass-weight-lbs[2]</output>
   </aerosurface_scale>

  </channel>
 </system>

 <!--
 ==== Flight control system =================================================
 -->

 <!-- system file="dual-control-jsbsim"/ --><!-- Dual-control setup for FlightGear. -->

 <system file="instrumentation"/> <!-- Instruments and sensors. -->
 <system file="engine-control"/>  <!-- Engine and thrust vectoring. -->

 <flight_control name="NT FCS">

  <documentation>
   Controls according to [FAA:2008:AS1CE]:
     Control Surface Movements +/- 20 degrees.
     Vectored Thrust Movements
       Side Engines            0 (forward horizontal) to 120 degrees up.
       Aft Engine              0 (aft horizontal) to 90 degrees down.
   Avoid sustained operation with forward swivel angles between
   43 and 57 degrees during normal operation.
  </documentation>

  <!-- The pilot and copilot have independent side-sticks. -->
  <!-- NOTE: yaw-cmd-norm is inverted. -->
  <property value="0.0">fcs/pilot/pitch-cmd-norm</property>
  <property value="0.0">fcs/pilot/yaw-cmd-norm</property>

  <property value="0.0">fcs/copilot/pitch-cmd-norm</property>
  <property value="0.0">fcs/copilot/yaw-cmd-norm</property>

  <documentation>
   Engine controls (from pictures of the engine panel and other sources)
   - RPM SEL levers
     - LH AFT RH: IDLE - ?  (to 1250RPM - max according to [FAA:2008:E8-6600])
     - fcs/throttle-cmd-norm[0|1|2]
   - Mixture levers
     - LH AFT RH: LEAN - RICH
     - the standard mixture properties
   - Thrust (prop pitch) levers (direct propeller pitch [FAA:2008:E8-6600])
     - LH RH AFT: REV - ZERO - T/O - CRUISE
     - the standard propeller pitch properties
   - Swivel levers 
     - LH RH: 0 - 120 degrees
     - AFT:   0 - (-)90 degrees (only 0 or -90 according to [FAA:2008:E8-6600])
     - fcs/side-engine-swivel-cmd-norm[0|1], fcs/rear-engine-swivel-cmd-norm

   See the engine-control-jsbsim system file.
  </documentation>

  <documentation>
   I have not seen any controls for the auxilliary rear side propeller
   so I assume that it is controlled by the FCS in response to yaw
   requests.
  </documentation>

  <!--
  === Pitch ==================================================
  -->
  <channel name="Pitch">

   <summer name="fcs/pitch-trim-sum">
    <input>fcs/pilot/pitch-cmd-norm</input>
    <input>fcs/copilot/pitch-cmd-norm</input>
    <input>fcs/pitch-trim-cmd-norm</input>
    <clipto>
     <min>-1</min>
     <max>1</max>
    </clipto>
   </summer>

   <aerosurface_scale name="Elevator Control">
    <input>fcs/pitch-trim-sum</input>
    <domain>
     <min>-1</min>
     <max>1</max>
    </domain>
    <range>
     <min>-0.3491</min>
     <max>0.3491</max>
    </range>
    <output>fcs/elevator-pos-rad</output>
   </aerosurface_scale>

   <aerosurface_scale name="Elevator Position Normalized">
    <input>fcs/elevator-pos-rad</input>
    <domain>
     <min>-0.3491</min>
     <max>0.3491</max>
    </domain>
    <range>
     <min>-1</min>
     <max>1</max>
    </range>
    <output>fcs/elevator-pos-norm</output>
   </aerosurface_scale>
  </channel>

  <!--
  === Yaw ====================================================
  -->
  <channel name="Yaw">
   <summer name="Yaw Trim Sum">
    <input>-fcs/pilot/yaw-cmd-norm</input>
    <input>-fcs/copilot/yaw-cmd-norm</input>
    <input>fcs/yaw-trim-cmd-norm</input>
    <clipto>
     <min>-1</min>
     <max>1</max>
    </clipto>
   </summer>

   <aerosurface_scale name="Rudder Control">
    <input>fcs/yaw-trim-sum</input>
    <domain>
     <min>-1</min>
     <max>1</max>
    </domain>
    <range>
     <min>-0.3491</min>
     <max>0.3491</max>
    </range>
    <output>fcs/rudder-pos-rad</output>
   </aerosurface_scale>

   <aerosurface_scale name="Rudder Position Normalized">
    <input>fcs/rudder-pos-rad</input>
    <domain>
     <min>-0.3491</min>
     <max>0.3491</max>
    </domain>
    <range>
     <min>-1</min>
     <max>1</max>
    </range>
    <output>fcs/rudder-pos-norm</output>
   </aerosurface_scale>

  </channel>

  <!--
  === Active yaw control augmentation ========================
  -->
  <channel name="Active yaw control augmentation">
   <!-- Is there a similar augmentation for pitch control?
        No, I have seen no mention of it in the FAA or EASA documents.
   -->

   <scheduled_gain name="Rear side thruster">
    <input>fcs/yaw-trim-sum</input>
    <gain>1.0</gain>
    <table>
     <independentVar>velocities/vc-kts</independentVar>
     <tableData>
      0.0   1.0
      5.0   1.0
      35.0  0.0
     </tableData>
    </table>
    <output>fcs/rear-side-thrust-cmd-norm</output>
   </scheduled_gain>

   <switch name="fcs/rear-side-thrust-cmd-switch">
    <default value="0.0"/>
    <test value="fcs/rear-side-thrust-cmd-norm">
     propulsion/engine[2]/fuel-flow-rate-pps GT 0.0
    </test>
   </switch>

   <!-- Replace with propeller pitch control later? -->
   <switch name="Rear side thruster direction">
    <default value="1.5708"/>
    <test logic="AND" value="-1.5708">
     fcs/rear-side-thrust-cmd-switch LT 0.0
    </test>
    <output>propulsion/engine[3]/yaw-angle-rad</output>
   </switch>

   <switch name="Rear side thruster throttle">
    <default value="fcs/rear-side-thrust-cmd-switch"/>
    <test logic="AND" value="-fcs/rear-side-thrust-cmd-switch">
     fcs/rear-side-thrust-cmd-norm LT 0.0
    </test>
    <output>fcs/throttle-pos-norm[3]</output>
   </switch>

  </channel>

 </flight_control>

 <!--
 ==== External reactions ====================================================
 -->

 <external_reactions>

  <force name="mooring-coupling-north" frame="LOCAL">
   <location unit="M">
    <x> 0.0 </x>
    <y> 0.0 </y>
    <z> 0.0 </z>
   </location>
   <direction>
    <x> 1.0 </x>
    <y> 0.0 </y>
    <z> 0.0 </z>
   </direction>
  </force>
  <force name="mooring-coupling-east" frame="LOCAL">
   <location unit="M">
    <x> 0.0 </x>
    <y> 0.0 </y>
    <z> 0.0 </z>
   </location>
   <direction>
    <x> 0.0 </x>
    <y> 1.0 </y>
    <z> 0.0 </z>
   </direction>
  </force>
  <force name="mooring-coupling-down" frame="LOCAL">
   <location unit="M">
    <x> 0.0 </x>
    <y> 0.0 </y>
    <z> 0.0 </z>
   </location>
   <direction>
    <x> 0.0 </x>
    <y> 0.0 </y>
    <z> 1.0 </z>
   </direction>
  </force>

  <force name="added-mass-bx" frame="BODY">
   <location unit="M">
    <x> 34.3 </x>
    <y>  0.0 </y>
    <z>  0.0 </z>
   </location>
   <direction>
    <x> 1.0 </x>
    <y> 0.0 </y>
    <z> 0.0 </z>
   </direction>
  </force>
  <force name="added-mass-by" frame="BODY">
   <location unit="M">
    <x> 34.3 </x>
    <y>  0.0 </y>
    <z>  0.0 </z>
   </location>
   <direction>
    <x> 0.0 </x>
    <y> 1.0 </y>
    <z> 0.0 </z>
   </direction>
  </force>
  <force name="added-mass-bz" frame="BODY">
   <location unit="M">
    <x> 34.3 </x>
    <y>  0.0 </y>
    <z>  0.0 </z>
   </location>
   <direction>
    <x> 0.0 </x>
    <y> 0.0 </y>
    <z> 1.0 </z>
   </direction>
  </force>

  <force name="added-mass-pitch[0]" frame="BODY">
   <location unit="M">
    <x> 34.3 </x>
    <y>  0.0 </y>
    <z> -0.3048 </z>
   </location>
   <direction>
    <x> 1.0 </x>
    <y> 0.0 </y>
    <z> 0.0 </z>
   </direction>
  </force>
  <force name="added-mass-pitch[1]" frame="BODY">
   <location unit="M">
    <x> 34.3 </x>
    <y>  0.0 </y>
    <z>  0.3048 </z>
   </location>
   <direction>
    <x> 1.0 </x>
    <y> 0.0 </y>
    <z> 0.0 </z>
   </direction>
  </force>

  <force name="added-mass-yaw[0]" frame="BODY">
   <location unit="M">
    <x> 34.3 </x>
    <y> -0.3048 </y>
    <z>  0.0 </z>
   </location>
   <direction>
    <x> 1.0 </x>
    <y> 0.0 </y>
    <z> 0.0 </z>
   </direction>
  </force>
  <force name="added-mass-yaw[1]" frame="BODY">
   <location unit="M">
    <x> 34.3 </x>
    <y>  0.3048 </y>
    <z>  0.0 </z>
   </location>
   <direction>
    <x> 1.0 </x>
    <y> 0.0 </y>
    <z> 0.0 </z>
   </direction>
  </force>

 </external_reactions>

 <system file="visual-reference-point-extensions"/>
 <system file="airship-mooring">

  <!--  Mooring -->
  <property value="4000.0"> mooring/mooring-spring-coeff-lbs_ft </property>
  <property value="-5000.0"> mooring/mooring-damping-coeff-lbs_fps </property>
  <property value="100000.0"> mooring/max-mooring-force-lbs </property>

  <!--  Wire -->
  <property value="250.0"> mooring/wire-spring-coeff-lbs_ft </property>
  <property value="10000.0"> mooring/max-wire-force-lbs </property>
  <property value="5.0"> mooring/max-winch-speed-fps </property>

 </system>

 <!--
 ==== Aerodynamics ==========================================================
 -->
 <system name="constants">

  <!-- Aerodynamic constants. -->
  <property value="246.1"> aero/constants/length-ft </property>
  <property value="46.3"> aero/constants/diameter-ft </property>
  <property value="62708.9"> aero/constants/length-diameter-ft2 </property>
  <property value="297526.07"> aero/constants/volume-ft3 </property>
  <property value="4456.7"> aero/constants/volume-ft3_2_3 </property>

  <!-- Added mass constants. -->
  <property value="-0.05"> aero/constants/added-mass/k-axial </property>
  <property value="-0.90"> aero/constants/added-mass/k-traverse </property>
  <property value="-0.90"> aero/constants/added-mass/k-transverse </property>
  <property value="-0.72"> aero/constants/added-mass/k-rotational </property>

  <channel name="Temporary hack to prevent oscillations.">
   <fcs_function name="aero/constants/added-mass/tweak-factor">
    <function>
     <difference>
      <value> 1.0 </value>
      <property> mooring/moored </property>
     </difference>
    </function>
    <clipto>
     <min> 0.0 </min>
     <max> 1.0 </max>
    </clipto>
   </fcs_function>
  </channel>

 </system>

 <system file="airship_added_mass"/>

 <!-- system file="shadow-jsbsim"/ -->

 <!-- aerodynamics file="Systems/gerris_aero"/ -->
 <aerodynamics file="Systems/datcom_aero"/>

</fdm_config>
<?xml version="1.0"?>
<initialize name="reset00">
  <!--
    This file sets up the aircraft to start off
    from the runway in preparation for takeoff.
  -->
  <latitude unit="DEG">     36.815   </latitude>
  <longitude unit="DEG">  -122.00    </longitude>
  <elevation   unit="FT">   31.0     </elevation>
  <altitudeAGL unit="FT">   20.0     </altitudeAGL>

  <ubody unit="FT/SEC">      0.0 </ubody>
  <vbody unit="FT/SEC">      0.0 </vbody>
  <wbody unit="FT/SEC">      0.0 </wbody>

  <phi unit="DEG">           0.0 </phi>
  <theta unit="DEG">         0.0 </theta>
  <psi unit="DEG">           0.0 </psi>
</initialize>
<?xml version="1.0"?>

<rotor name="ah1s_rotor">

  <diameter  unit="FT">                  44.0 </diameter>
  <numblades>                               2 </numblades>
  <gearratio>                           20.37 </gearratio>
  <nominalrpm>                          324.0 </nominalrpm> <!-- engine 6600rpm / 20.37  -->
  <chord unit="FT">                      2.25 </chord>
  <liftcurveslope>                        6.0 </liftcurveslope>
  <flappingmoment unit="SLUG*FT2">     1382.0 </flappingmoment> <!-- mass approx. 8.57 slug -->
  <twist>                              -0.175 </twist>
  <massmoment>                           85.0 </massmoment> <!-- SLUG*FT, estimated from mass --> 
  <tiplossfactor>                         1.0 </tiplossfactor>
  <polarmoment unit="SLUG*FT2">        2900.0 </polarmoment>
  <inflowlag>                            0.09 </inflowlag>
  <hingeoffset unit="FT">                3.30 </hingeoffset> <!-- hingeless 15% -->

  <!--
        According to the operator's manual, the groundeffect yields to approx. 20% less
        torque required when hovering near ground, and vanishes around 50ft h-agl.
      -->
  <groundeffectexp>                     0.19 </groundeffectexp>
  <groundeffectshift unit="FT">           10 </groundeffectshift>

</rotor>
<?xml version="1.0"?>

<rotor name="ah1s_tail_rotor">

    <diameter unit="FT">                  8.5 </diameter>
    <numblades>                             2 </numblades>
    <gearratio>                        3.9759 </gearratio>
    <nominalrpm>                       1660.0 </nominalrpm>
    <chord unit="FT">                     0.7 </chord>
    <flappingmoment unit="SLUG*FT2">     1.45 </flappingmoment> <!-- guessed from ah1g lock number 2.23 -->
    <liftcurveslope>                      6.0 </liftcurveslope>
    <twist>                               0.0 </twist>
    <massmoment>                         0.46 </massmoment> <!-- SLUG*FT -->
    <tiplossfactor>                       1.0 </tiplossfactor>
    <inflowlag>                          0.09 </inflowlag> 
    <hingeoffset unit="FT">             0.015 </hingeoffset>

    <ExternalRPM> 0 </ExternalRPM>
    <controlmap> TAIL </controlmap>

</rotor>
<electric_engine name="turbine_substitute">
  <power unit="HP"> 1500.00 </power>
</electric_engine>
<electric_engine name="transmission">
  <power unit="HP"> 1.00 </power>
</electric_engine>
// This file instructs the automatic synchronization utilities where to
// install this aircraft and under what name.
//
// The syntax is easy;
// * the package name at the beginning of a new line followed by a colon
// * a space as a column separator
// * the path and filename relative to the aircraft install directory
//
// Currently known package names are: FlightGear

FlightGear:
<system name="rotor control">

  <!-- =========================================================================

  =================
    Documentation
  =================


  - Rationale -

     Besides the rotor definition which is handled by the C++ code - obviously
     the most important part of a helicopter model - a good control setup is
     actually more important than the remaining aerodynamics (assuming the
     given/guessed coefficients are at least within a 50% window).

     The basic relation is straight forward:
                rotor-ctrl-x = pilot-input-x * gain + offset.

  - Collective Mixing -

     Unless real-world data is available, it's reasonable to adjust gain and
     offset for minimal input travel as a first step. This simple approach has
     a drawback. When one input is changed, the other three need to be
     readjusted. This is most notably when the collective input is changed, and
     to compensate for this, some part of the collective input is mixed into
     the lateral and yaw channels.

     There are two principal goals of collective-mixing:

       a) compensation in level flight - lateral, and anti-torque controls
          follow accordingly, minimizing input requirements.

       b) compensation for the torque change - lateral, and anti-torque changes
          should give proper counter moments. 

     Both tasks can't be fullfilled with simple contol mixing, the compromise in
     this system is biased towards dynamic compensation of the collective input.

  - Input Mapping -

     The system also provides configurable support for simulator inputs.
     Collective input can be turned more sensitve for the intermediate control
     range (fcs/adj/collective-profile), and the other inputs use a common
     'power function' approach for center sensitivity (fcs/adj/center-sensitivity).
     These features might be also present as part of an advanced joystick
     configuration, so it's your choice which one to use.

  - Notes -

     All adjustable control parameters can be found under 'JSBSIMNODE/fcs/adj/'.
     If the model is run with flightgear, it's relatively easy to optimize the
     parameters via the property tree browser.

     An enabled AFCS/SAS should be able to ease control a lot, and AFAIK all
     larger and all modern helicopters rely on such systems. There is also a
     (!really serious!) alternative for a 'fully augmented' helicopter - just
     use flightgears' UFO fdm and stop bothering about the stuff above ;).


                -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -


  ===============================
    System Interface/Properties
  ===============================

   Inputs by the pilot:
      fcs/collective-cmd-norm (often called 'pitch' in germany - a brilliant convention...)
      fcs/elevator-cmd-norm (longitudinal)
      fcs/aileron-cmd-norm (lateral)
      fcs/rudder-cmd-norm (anti-torque, tail-collective)

   Trim inputs/settings:
      fcs/collective-trim-cmd-norm
      fcs/pitch-trim-cmd-norm
      fcs/roll-trim-cmd-norm
      fcs/yaw-trim-cmd-norm

   Inputs from AFCS/SAS system:
      ap/collective-cmd
      ap/elevator-cmd
      ap/aileron-cmd
      ap/rudder-cmd

   Adjustable properties:
      fcs/adj/collective-gain
      fcs/adj/collective-bias

      fcs/adj/longitudinal-gain
      fcs/adj/longitudinal-bias

      fcs/adj/lateral-gain
      fcs/adj/lateral-bias
      fcs/adj/lateral-col-mix-infl
      fcs/adj/lateral-col-mix-gain
      fcs/adj/lateral-col-mix-bias

      fcs/adj/pedal-gain
      fcs/adj/pedal-bias
      fcs/adj/pedal-col-mix-infl
      fcs/adj/pedal-col-mix-gain
      fcs/adj/pedal-col-mix-bias

   Simulator 'mapping' properties:
      fcs/adj/collective-profile
      fcs/adj/center-sensitivity

   Outputs for a decent helicopter (ie: big main rotor, smaller tail rotor for
   anti-torque):
      propulsion/engine/collective-ctrl-rad
      propulsion/engine/longitudinal-ctrl-rad
      propulsion/engine/lateral-ctrl-rad
      propulsion/engine[1]/antitorque-ctrl-rad


       ========================================================================= -->



  <!-- ==================================
         Declare and initialise control
       ================================== -->

  <property value="0.0"> fcs/collective-cmd-norm </property>
  <property value="0.0"> fcs/collective-trim-cmd-norm </property>


  <!-- ==================================
         Setup for interactive use
       ================================== -->

  <!-- 
      Collective input, provide more 'bits' for the intermediate range, 0 for
      unmodified input, 1 for more sensitivity.
  -->
  <property value="1.0"> fcs/adj/collective-profile </property>

  <!--
      Higher center resolution for the other three controls, set to 1 for
      unmodified input, treat 2 as an upper limit.
  -->
  <property value="1.5"> fcs/adj/center-sensitivity </property>


  <!-- - - - - - - - - - - - - - - - - -
          math helper
       - - - - - - - - - - - - - - - - - -->

  <channel name="collective control profile">
    <fcs_function name="fcs/misc/collective-cmd-norm-polymod">
        <description>
          A s-shaped profile, described with a 5th order polynomial.
          f(x) = x**5 + x | [-1:1], mapped to [0:1]x[0:1], resulting in
          f(x) = 8*x**5 - 20*x**4 + 20*x**3 - 10*x**2 + 3*x.
          Well, the latter is way too mean to be coded as a function.
        </description>
      <function>
        <table>
          <independentVar lookup="row"> fcs/collective-cmd-norm </independentVar>
          <tableData>
            0.000000 0.000000
            0.050000 0.127377
            0.100000 0.218080
            0.150000 0.282983
            0.200000 0.330560
            0.250000 0.367188
            0.300000 0.397440
            0.350000 0.424393
            0.400000 0.449920
            0.450000 0.474997
            0.500000 0.500000
            0.550000 0.525002
            0.600000 0.550080
            0.650000 0.575608
            0.700000 0.602560
            0.750000 0.632813
            0.800000 0.669440
            0.850000 0.717018
            0.900000 0.781920
            0.950000 0.872623
            1.000000 1.000000
          </tableData>
        </table>
      </function>
    </fcs_function>
  </channel>


  <!-- ==================================
         Rotor Control System
       ================================== -->

  <!-- - - - - - - - - - - - - - - - - -
          collective
       - - - - - - - - - - - - - - - - - -->
  <property value='0.22'> fcs/adj/collective-gain </property>
  <property value='0.14'> fcs/adj/collective-bias </property>

  <channel name="collective">

    <fcs_function name="fcs/collective-cmd-norm-variant">
      <function>
        <sum>
          <!-- regular collective input if 'collective-profile' is 0 -->
          <product>
            <property> fcs/collective-cmd-norm </property>
            <difference>
              <value> 1.0 </value>
              <property> fcs/adj/collective-profile </property>
            </difference>
          </product>
          <!-- mapped input if 'collective-profile' is 1 -->
          <product>
            <property> fcs/adj/collective-profile </property>
            <property> fcs/misc/collective-cmd-norm-polymod </property>
          </product>
        </sum>
      </function>
    </fcs_function>
    <summer name="fcs/collective-cmd-trim-sum">
      <input> fcs/collective-cmd-norm-variant </input>
      <input> fcs/collective-trim-cmd-norm </input>
      <clipto>
        <min> -1.0 </min>
        <max>  1.0 </max>
      </clipto>
    </summer>
    <pure_gain name="fcs/collective-gain">
      <input>  fcs/collective-cmd-trim-sum </input>
      <gain>   fcs/adj/collective-gain </gain>
    </pure_gain>
    <summer name="fcs/collective-ctrl-rad">
      <input> fcs/collective-gain </input>
      <input> ap/collective-cmd </input>
      <input> fcs/adj/collective-bias </input>
      <output> fcs/collective-ctrl-rad </output>
    </summer>
    <lag_filter name="fcs/collective-ctrl-rad-lag">
      <input> fcs/collective-ctrl-rad </input>
      <!-- c1 ranges: 5.0 - 20.0 -->
      <c1>   10.0 </c1>
      <clipto>
        <min> 0.0 </min>
        <max> 0.7 </max>
      </clipto>
      <output> propulsion/engine/collective-ctrl-rad </output>
    </lag_filter>

  </channel>

  <!-- - - - - - - - - - - - - - - - - -
          longitudinal
       - - - - - - - - - - - - - - - - - -->
  <property value='0.125'> fcs/adj/longitudinal-gain </property>
  <property value='0.020'> fcs/adj/longitudinal-bias </property>

  <channel name="longitudinal">

    <fcs_function name="fcs/elevator-cmd-norm-exmod">
      <description>
        Provide higher sensitivity when near center.
        new_input = sgn(input) * abs(input)**sensitivity,
        with sensitivity ranging between 1..2 .
      </description>
      <function>
        <product>
          <sign> <property> fcs/elevator-cmd-norm </property> </sign>
          <pow>
            <abs> <property> fcs/elevator-cmd-norm </property> </abs>
            <property> fcs/adj/center-sensitivity </property>
          </pow>
        </product>
      </function>
    </fcs_function>
    <summer name="fcs/longitudinal-cmd-trim-sum">
      <input> fcs/elevator-cmd-norm-exmod </input>
      <input> fcs/pitch-trim-cmd-norm </input>
      <clipto>
        <min> -1.0 </min>
        <max>  1.0 </max>
      </clipto>
    </summer>
    <pure_gain name="fcs/longitudinal-gain">
      <input>  fcs/longitudinal-cmd-trim-sum </input>
      <gain>   fcs/adj/longitudinal-gain </gain>
    </pure_gain>
    <summer name="fcs/longitudinal-ctrl-rad">
      <input> fcs/longitudinal-gain </input>
      <input> fcs/adj/longitudinal-bias </input>
      <input> ap/elevator-cmd </input>
      <clipto>
        <min> -0.7 </min>
        <max>  0.7 </max>
      </clipto>
    </summer>
    <lag_filter name="fcs/longitudinal-ctrl-rad-lag">
      <input> fcs/longitudinal-ctrl-rad </input>
      <!-- c1 ranges: 10.0 - 50.0 -->
      <c1>   20.0 </c1>
      <output> propulsion/engine/longitudinal-ctrl-rad </output>
    </lag_filter>

  </channel>

  <!-- - - - - - - - - - - - - - - - - -
          lateral
       - - - - - - - - - - - - - - - - - -->
  <property value='0.05'> fcs/adj/lateral-gain </property>
  <property value='0.00'> fcs/adj/lateral-bias </property>

  <property value='1.00'> fcs/adj/lateral-col-mix-infl </property>
  <property value='-0.1'> fcs/adj/lateral-col-mix-gain </property>
  <property value='0.01'> fcs/adj/lateral-col-mix-bias </property>

  <channel name="lateral">

    <fcs_function name="fcs/aileron-cmd-norm-exmod">
      <description> See longitudinal channel. </description>
      <function>
        <product>
          <sign> <property> fcs/aileron-cmd-norm </property> </sign>
          <pow>
            <abs> <property> fcs/aileron-cmd-norm </property> </abs>
            <property> fcs/adj/center-sensitivity </property>
          </pow>
        </product>
      </function>
    </fcs_function>
    <summer name="fcs/lateral-cmd-trim-sum">
      <input> fcs/aileron-cmd-norm-exmod </input>
      <input> fcs/roll-trim-cmd-norm </input>
      <clipto>
        <min> -1.0 </min>
        <max>  1.0 </max>
      </clipto>
    </summer>
    <pure_gain name="fcs/lateral-gain">
      <input>  fcs/lateral-cmd-trim-sum </input>
      <gain>   fcs/adj/lateral-gain </gain>
    </pure_gain>
    <summer name="fcs/lateral-sum">
      <input> fcs/lateral-gain </input>
      <input> ap/aileron-cmd </input>
      <input> fcs/adj/lateral-bias </input>
      <clipto>
        <min> -0.7 </min>
        <max>  0.7 </max>
      </clipto>
    </summer>

    <!-- collective compensation -->
    <fcs_function name="fcs/lateral-ctrl-rad">
      <function>
        <sum>
          <property> fcs/lateral-sum </property>
          <product>
            <property> fcs/adj/lateral-col-mix-infl </property>
            <sum>
              <product>
                <property> fcs/collective-ctrl-rad </property>
                <property> fcs/adj/lateral-col-mix-gain </property>
              </product>
              <property> fcs/adj/lateral-col-mix-bias </property>
            </sum>
          </product>
        </sum>
      </function>
    </fcs_function>

    <lag_filter name="fcs/lateral-ctrl-rad-lag">
      <input> fcs/lateral-ctrl-rad </input>
      <!-- c1 ranges: 10.0 - 50.0 -->
      <c1>   20.0 </c1>
      <output> propulsion/engine/lateral-ctrl-rad </output>
    </lag_filter>

  </channel>

  <!-- - - - - - - - - - - - - - - - - -
          pedal/antitorque
       - - - - - - - - - - - - - - - - - -->
  <property value='0.18'> fcs/adj/pedal-gain </property>
  <property value='0.00'> fcs/adj/pedal-bias </property>

  <property value='1.00'> fcs/adj/pedal-col-mix-infl </property>
  <property value='0.65'> fcs/adj/pedal-col-mix-gain </property>
  <property value='-0.1'> fcs/adj/pedal-col-mix-bias </property>

  <channel name="pedal">

    <fcs_function name="fcs/rudder-cmd-norm-exmod">
      <description> See longitudinal channel. </description>
      <function>
        <product>
          <sign> <property> fcs/rudder-cmd-norm </property> </sign>
          <pow>
            <abs> <property> fcs/rudder-cmd-norm </property> </abs>
            <property> fcs/adj/center-sensitivity </property>
          </pow>
        </product>
      </function>
    </fcs_function>
    <summer name="fcs/pedal-cmd-trim-sum">
      <input> fcs/rudder-cmd-norm-exmod </input>
      <input> fcs/yaw-trim-cmd-norm </input>
      <clipto>
        <min> -1.0 </min>
        <max>  1.0 </max>
      </clipto>
    </summer>
    <pure_gain name="fcs/pedal-gain">
      <input>  fcs/pedal-cmd-trim-sum </input>
      <gain>   fcs/adj/pedal-gain </gain>
    </pure_gain>
    <summer name="fcs/pedal-sum">
      <input> fcs/pedal-gain </input>
      <input> fcs/adj/pedal-bias </input>
      <input> ap/rudder-cmd </input>
    </summer>

    <!-- collective compensation -->
    <fcs_function name="fcs/pedal-ctrl-rad">
      <function>
        <sum>
          <property> fcs/pedal-sum </property>
          <product>
            <property> fcs/adj/pedal-col-mix-infl </property>
            <sum>
              <product>
                <property> fcs/collective-ctrl-rad </property>
                <property> fcs/adj/pedal-col-mix-gain </property>
              </product>
              <property> fcs/adj/pedal-col-mix-bias </property>
            </sum>
          </product>
        </sum>
      </function>
    </fcs_function>

    <lag_filter name="fcs/pedal-ctrl-rad-lag">
      <input> fcs/pedal-ctrl-rad </input>
      <!-- c1 ranges: 10.0 - 50.0 -->
      <c1>   20.0 </c1>
      <!-- mind: tail rotor is on engine 1 -->
      <output> propulsion/engine[1]/antitorque-ctrl-rad </output>
    </lag_filter>

  </channel>

</system>

<system name="steady flight data">

<!--

  Data was obtained with a 'RPM-dictated' ah1s at 8500lbs.
  Atmosphere was left at JSBSim default conditions (as of march 2012).

  Contents:
   
    A kludge for forward/backward speed.
    4 tables giving direct rotor input (col,lon,lat,anti) yielding to level flight.
    2 tables with according trim attitudes (phi,theta) .
     and
    4 derived tables with trim inputs based on given rotor-ctrl system. 

  Note: The property root is set to 'fcs/SFD', relevant outputs go into 'fcs/automatic'.

-->

  <channel name="trim tests">

    <fcs_function name="fcs/SFD/trim/v_dir_kts">
      <description>
        Bad kludge for getting 'plain' forward/backward speed, goes wrong in sideward flight.
      </description>
      <function>
        <product>
          <property> velocities/vg-fps </property>
          <v> 0.5924838 </v>
          <sign>
            <property> velocities/u-fps </property>
          </sign>
        </product>
      </function>
    </fcs_function>


    <!-- propulsion/engine/collective-ctrl-rad -->
    <fcs_function name="fcs/SFD/trim/collective-ctrl-rad"> 
      <function>
        <table>
          <independentVar lookup="row"> fcs/SFD/trim/v_dir_kts </independentVar>
          <independentVar lookup="column"> position/h-sl-ft </independentVar>
          <tableData>
                     10.00        20.00        50.00       100.00       200.00       500.00      1000.00      2000.00      5000.00     10000.00     20000.00
       -40.00     0.232525     0.232809     0.232939     0.233082     0.233366     0.234227     0.235681     0.238668     0.248293     0.269486     0.318934
       -20.00     0.249795     0.251849     0.252310     0.252465     0.252772     0.253698     0.255261     0.258460     0.268674     0.288013     0.337898
         0.00     0.254016     0.263226     0.265372     0.265525     0.265818     0.266701     0.268191     0.271242     0.280999     0.299536     0.347700
        20.00     0.249691     0.251737     0.252197     0.252351     0.252658     0.253585     0.255148     0.258347     0.268560     0.287896     0.337765
        40.00     0.231127     0.231409     0.231539     0.231681     0.231967     0.232830     0.234289     0.237285     0.247736     0.267583     0.317847
        60.00     0.224004     0.224058     0.224140     0.224268     0.224525     0.225304     0.226621     0.229333     0.238119     0.255238     0.301628
        80.00     0.224593     0.224619     0.224690     0.224807     0.225042     0.225751     0.226955     0.229439     0.237552     0.253570     0.297833
       100.00     0.231535     0.231556     0.231619     0.231724     0.231934     0.232570     0.233652     0.235898     0.243328     0.258322     0.300987
       120.00     0.245154     0.245172     0.245225     0.245314     0.245493     0.246036     0.246965     0.248912     0.255504     0.269304     0.310433
       140.00     0.266606     0.266620     0.266661     0.266730     0.266869     0.267291     0.268022     0.269581     0.275088     0.287358     0.326666
          </tableData>
        </table>
      </function> 
      <output> fcs/SFD/ap/afcs/collective-trim-ctrl-rad </output>
    </fcs_function>


    <!-- propulsion/engine/longitudinal-ctrl-rad -->
    <fcs_function name="fcs/SFD/trim/longitudinal-ctrl-rad"> 
      <function>
        <table>
          <independentVar lookup="row"> fcs/SFD/trim/v_dir_kts </independentVar>
          <independentVar lookup="column"> position/h-sl-ft </independentVar>
          <tableData>
                     10.00        20.00        50.00       100.00       200.00       500.00      1000.00      2000.00      5000.00     10000.00     20000.00
       -40.00    -0.028652    -0.028692    -0.028716    -0.028745    -0.028803    -0.028980    -0.029280    -0.029894    -0.031874    -0.036276    -0.046327
       -20.00    -0.019064    -0.019207    -0.019242    -0.019258    -0.019289    -0.019382    -0.019540    -0.019863    -0.020900    -0.022885    -0.028123
         0.00    -0.007809    -0.007841    -0.007848    -0.007849    -0.007849    -0.007850    -0.007852    -0.007856    -0.007870    -0.007904    -0.008025
        20.00     0.007379     0.007585     0.007629     0.007640     0.007663     0.007732     0.007849     0.008092     0.008888     0.010472     0.014876
        40.00     0.016039     0.016113     0.016143     0.016173     0.016233     0.016413     0.016719     0.017346     0.019625     0.023860     0.034419
        60.00     0.021099     0.021112     0.021135     0.021173     0.021248     0.021477     0.021865     0.022666     0.025619     0.031740     0.048096
        80.00     0.031231     0.031241     0.031267     0.031311     0.031399     0.031666     0.032120     0.033064     0.036196     0.042532     0.060535
       100.00     0.044003     0.044012     0.044039     0.044084     0.044174     0.044449     0.044920     0.045912     0.049295     0.056432     0.077715
       120.00     0.060896     0.060904     0.060928     0.060967     0.061047     0.061293     0.061719     0.062635     0.065923     0.073360     0.097232
       140.00     0.083605     0.083611     0.083627     0.083654     0.083711     0.083884     0.084195     0.084899     0.087697     0.094841     0.120438
          </tableData>
        </table>
      </function> 
      <output> fcs/SFD/ap/afcs/longitudinal-trim-ctrl-rad </output>
    </fcs_function>


    <!-- propulsion/engine/lateral-ctrl-rad -->
    <fcs_function name="fcs/SFD/trim/lateral-ctrl-rad"> 
      <function>
        <table>
          <independentVar lookup="row"> fcs/SFD/trim/v_dir_kts </independentVar>
          <independentVar lookup="column"> position/h-sl-ft </independentVar>
          <tableData>
                     10.00        20.00        50.00       100.00       200.00       500.00      1000.00      2000.00      5000.00     10000.00     20000.00
       -40.00     0.001685     0.001677     0.001676     0.001676     0.001677     0.001679     0.001683     0.001687     0.001682     0.001644     0.001250
       -20.00    -0.001234    -0.001309    -0.001323    -0.001324    -0.001326    -0.001330    -0.001339    -0.001357    -0.001427    -0.001591    -0.002109
         0.00    -0.003916    -0.004327    -0.004420    -0.004421    -0.004423    -0.004428    -0.004436    -0.004455    -0.004524    -0.004679    -0.005161
        20.00    -0.006194    -0.006301    -0.006321    -0.006323    -0.006326    -0.006334    -0.006349    -0.006379    -0.006480    -0.006686    -0.007257
        40.00    -0.007465    -0.007480    -0.007484    -0.007485    -0.007488    -0.007497    -0.007513    -0.007545    -0.007716    -0.008019    -0.008673
        60.00    -0.009149    -0.009151    -0.009152    -0.009153    -0.009155    -0.009162    -0.009174    -0.009200    -0.009286    -0.009466    -0.009993
        80.00    -0.011166    -0.011166    -0.011167    -0.011167    -0.011168    -0.011172    -0.011179    -0.011194    -0.011249    -0.011380    -0.011805
       100.00    -0.013563    -0.013563    -0.013562    -0.013562    -0.013561    -0.013557    -0.013552    -0.013545    -0.013537    -0.013579    -0.013860
       120.00    -0.016535    -0.016535    -0.016533    -0.016530    -0.016524    -0.016505    -0.016476    -0.016421    -0.016286    -0.016150    -0.016178
       140.00    -0.020430    -0.020429    -0.020424    -0.020416    -0.020401    -0.020355    -0.020280    -0.020137    -0.019761    -0.019296    -0.018871
          </tableData>
        </table>
      </function> 
      <output> fcs/SFD/ap/afcs/lateral-trim-ctrl-rad </output>
    </fcs_function>


    <!-- propulsion/engine[1]/antitorque-ctrl-rad -->
    <fcs_function name="fcs/SFD/trim/antitorque-ctrl-rad"> 
      <function>
        <table>
          <independentVar lookup="row"> fcs/SFD/trim/v_dir_kts </independentVar>
          <independentVar lookup="column"> position/h-sl-ft </independentVar>
          <tableData>
                     10.00        20.00        50.00       100.00       200.00       500.00      1000.00      2000.00      5000.00     10000.00     20000.00
       -40.00     0.071498     0.071791     0.071907     0.072021     0.072250     0.072946     0.074133     0.076617     0.085038     0.105664     0.163762
       -20.00     0.112443     0.114745     0.115258     0.115425     0.115757     0.116762     0.118468     0.122000     0.133633     0.157060     0.225170
         0.00     0.130936     0.140494     0.142705     0.142879     0.143212     0.144222     0.145937     0.149484     0.161153     0.184638     0.253073
        20.00     0.112474     0.114772     0.115284     0.115451     0.115783     0.116790     0.118499     0.122038     0.133693     0.157171     0.225485
        40.00     0.070552     0.070840     0.070955     0.071068     0.071296     0.071989     0.073172     0.075648     0.084708     0.103910     0.162860
        60.00     0.053266     0.053304     0.053352     0.053423     0.053567     0.054004     0.054752     0.056323     0.061704     0.073449     0.113442
        80.00     0.048178     0.048190     0.048222     0.048273     0.048376     0.048689     0.049224     0.050350     0.054214     0.062692     0.091996
       100.00     0.049119     0.049127     0.049151     0.049191     0.049272     0.049518     0.049939     0.050824     0.053861     0.060533     0.083696
       120.00     0.054116     0.054123     0.054143     0.054177     0.054245     0.054451     0.054804     0.055547     0.058094     0.063687     0.083116
       140.00     0.062504     0.062510     0.062528     0.062558     0.062618     0.062800     0.063112     0.063766     0.066011     0.070932     0.088009
          </tableData>
        </table>
      </function> 
      <output> fcs/SFD/ap/afcs/antitorque-trim-ctrl-rad </output>
    </fcs_function>


    <!-- attitude/phi-rad -->
    <fcs_function name="ap/afcs/automatic/phi-trim-rad"> 
      <function>
        <table>
          <independentVar lookup="row"> fcs/SFD/trim/v_dir_kts </independentVar>
          <independentVar lookup="column"> position/h-sl-ft </independentVar>
          <tableData>
                     10.00        20.00        50.00       100.00       200.00       500.00      1000.00      2000.00      5000.00     10000.00     20000.00
       -40.00    -0.034389    -0.034509    -0.034533    -0.034539    -0.034551    -0.034587    -0.034654    -0.034806    -0.035421    -0.037989    -0.043522
       -20.00    -0.041922    -0.042905    -0.043092    -0.043105    -0.043130    -0.043207    -0.043339    -0.043620    -0.044601    -0.046710    -0.052874
         0.00    -0.043622    -0.048208    -0.049241    -0.049254    -0.049272    -0.049328    -0.049425    -0.049635    -0.050396    -0.052125    -0.057504
        20.00    -0.040868    -0.041920    -0.042119    -0.042131    -0.042155    -0.042226    -0.042349    -0.042612    -0.043538    -0.045552    -0.051533
        40.00    -0.030738    -0.030872    -0.030898    -0.030903    -0.030913    -0.030946    -0.031005    -0.031142    -0.031925    -0.033798    -0.039471
        60.00    -0.026197    -0.026210    -0.026210    -0.026205    -0.026196    -0.026170    -0.026132    -0.026073    -0.026052    -0.026558    -0.029897
        80.00    -0.025660    -0.025659    -0.025651    -0.025637    -0.025608    -0.025524    -0.025389    -0.025139    -0.024543    -0.024090    -0.025450
       100.00    -0.028409    -0.028404    -0.028389    -0.028363    -0.028311    -0.028158    -0.027908    -0.027430    -0.026170    -0.024659    -0.024015
       120.00    -0.034564    -0.034555    -0.034530    -0.034489    -0.034406    -0.034160    -0.033757    -0.032977    -0.030852    -0.028017    -0.025059
       140.00    -0.044788    -0.044776    -0.044737    -0.044674    -0.044545    -0.044168    -0.043547    -0.042342    -0.039017    -0.034403    -0.028530
          </tableData>
        </table>
      </function> 
    </fcs_function>


    <!-- attitude/theta-rad -->
    <fcs_function name="ap/afcs/automatic/theta-trim-rad"> 
      <function>
        <table>
          <independentVar lookup="row"> fcs/SFD/trim/v_dir_kts </independentVar>
          <independentVar lookup="column"> position/h-sl-ft </independentVar>
          <tableData>
                     10.00        20.00        50.00       100.00       200.00       500.00      1000.00      2000.00      5000.00     10000.00     20000.00
       -40.00     0.000560     0.000558     0.000551     0.000538     0.000512     0.000436     0.000311     0.000067    -0.000624    -0.002539    -0.004343
       -20.00    -0.007484    -0.007615    -0.007641    -0.007644    -0.007650    -0.007669    -0.007700    -0.007759    -0.007916    -0.008110    -0.008216
         0.00    -0.006811    -0.006503    -0.006428    -0.006428    -0.006428    -0.006429    -0.006431    -0.006434    -0.006449    -0.006483    -0.006603
        20.00     0.000009     0.000322     0.000377     0.000374     0.000366     0.000343     0.000303     0.000223    -0.000035    -0.000522    -0.001772
        40.00    -0.011455    -0.011419    -0.011406    -0.011395    -0.011373    -0.011307    -0.011198    -0.010984    -0.008614    -0.005574    -0.002553
        60.00    -0.023850    -0.023846    -0.023833    -0.023813    -0.023771    -0.023647    -0.023442    -0.023040    -0.021555    -0.018886    -0.014128
        80.00    -0.035648    -0.035641    -0.035620    -0.035585    -0.035515    -0.035305    -0.034958    -0.034275    -0.032310    -0.029320    -0.024457
       100.00    -0.050129    -0.050119    -0.050089    -0.050038    -0.049936    -0.049632    -0.049129    -0.048135    -0.045263    -0.040838    -0.033416
       120.00    -0.066876    -0.066863    -0.066823    -0.066756    -0.066622    -0.066223    -0.065561    -0.064251    -0.060445    -0.054520    -0.044362
       140.00    -0.085561    -0.085544    -0.085495    -0.085413    -0.085251    -0.084760    -0.083948    -0.082338    -0.077630    -0.070224    -0.057281
          </tableData>
        </table>
      </function> 
    </fcs_function>

    <!-- trim input for use with rotor-ctrl system -->
    <!-- ctrl source: '{JSBSim-installation}/aircraft/ah1s/Systems/rotor_control.xml' -->

    <!-- fcs/collective-cmd-norm -->
    <fcs_function name="fcs/automatic/collective-trim-cmd-norm"> 
      <function>
        <table>
          <independentVar lookup="row"> fcs/SFD/trim/v_dir_kts </independentVar>
          <independentVar lookup="column"> position/h-sl-ft </independentVar>
          <tableData>
                     10.00        20.00        50.00       100.00       200.00       500.00      1000.00      2000.00      5000.00     10000.00     20000.00
       -40.00     0.420570     0.421860     0.422452     0.423098     0.424392     0.428302     0.434913     0.448489     0.492242     0.588574     0.813337
       -20.00     0.499067     0.508403     0.510502     0.511204     0.512599     0.516811     0.523916     0.538457     0.584881     0.672784     0.899537
         0.00     0.518254     0.560120     0.569872     0.570568     0.571898     0.575912     0.582685     0.596555     0.640904     0.725165     0.944093
        20.00     0.498597     0.507894     0.509985     0.510687     0.512082     0.516294     0.523400     0.537941     0.584365     0.672254     0.898932
        40.00     0.414215     0.415493     0.416084     0.416733     0.418031     0.421954     0.428585     0.442204     0.489708     0.579924     0.808393
        60.00     0.381838     0.382081     0.382453     0.383036     0.384207     0.387745     0.393734     0.406060     0.445997     0.523810     0.734671
        80.00     0.384513     0.384633     0.384954     0.385486     0.386552     0.389779     0.395248     0.406540     0.443417     0.516227     0.717422
       100.00     0.416069     0.416165     0.416451     0.416926     0.417881     0.420773     0.425691     0.435898     0.469674     0.537829     0.731757
       120.00     0.477973     0.478054     0.478296     0.478700     0.479513     0.481983     0.486205     0.495053     0.525017     0.587744     0.774695
       140.00     0.575483     0.575545     0.575732     0.576045     0.576678     0.578597     0.581918     0.589006     0.614036     0.669810     0.848482
          </tableData>
        </table>
      </function> 
    </fcs_function>


    <!-- fcs/elevator-cmd-norm -->
    <fcs_function name="fcs/automatic/pitch-trim-cmd-norm"> 
      <function>
        <table>
          <independentVar lookup="row"> fcs/SFD/trim/v_dir_kts </independentVar>
          <independentVar lookup="column"> position/h-sl-ft </independentVar>
          <tableData>
                     10.00        20.00        50.00       100.00       200.00       500.00      1000.00      2000.00      5000.00     10000.00     20000.00
       -40.00    -0.389217    -0.389536    -0.389725    -0.389959    -0.390427    -0.391844    -0.394237    -0.399153    -0.414992    -0.450208    -0.530614
       -20.00    -0.312509    -0.313659    -0.313939    -0.314063    -0.314310    -0.315057    -0.316317    -0.318902    -0.327198    -0.343080    -0.384987
         0.00    -0.222473    -0.222729    -0.222788    -0.222789    -0.222792    -0.222800    -0.222814    -0.222845    -0.222959    -0.223232    -0.224204
        20.00    -0.100969    -0.099323    -0.098971    -0.098879    -0.098696    -0.098144    -0.097206    -0.095266    -0.088897    -0.076228    -0.040995
        40.00    -0.031686    -0.031095    -0.030856    -0.030617    -0.030139    -0.028694    -0.026252    -0.021233    -0.003002     0.030882     0.115349
        60.00     0.008793     0.008893     0.009080     0.009381     0.009986     0.011816     0.014918     0.021324     0.044956     0.093917     0.224770
        80.00     0.089852     0.089928     0.090139     0.090489     0.091194     0.093328     0.096961     0.104512     0.129569     0.180260     0.324279
       100.00     0.192021     0.192093     0.192309     0.192669     0.193392     0.195593     0.199363     0.207295     0.234358     0.291455     0.461718
       120.00     0.327167     0.327231     0.327421     0.327739     0.328379     0.330342     0.333749     0.341080     0.367381     0.426882     0.617856
       140.00     0.508841     0.508884     0.509015     0.509235     0.509686     0.511071     0.513560     0.519196     0.541574     0.598730     0.803502
          </tableData>
        </table>
      </function> 
    </fcs_function>


    <!-- fcs/aileron-cmd-norm -->
    <fcs_function name="fcs/automatic/roll-trim-cmd-norm"> 
      <function>
        <table>
          <independentVar lookup="row"> fcs/SFD/trim/v_dir_kts </independentVar>
          <independentVar lookup="column"> position/h-sl-ft </independentVar>
          <tableData>
                     10.00        20.00        50.00       100.00       200.00       500.00      1000.00      2000.00      5000.00     10000.00     20000.00
       -40.00     0.298744     0.299161     0.299400     0.299692     0.300277     0.302042     0.305013     0.311070     0.330234     0.371852     0.462867
       -20.00     0.274904     0.277514     0.278155     0.278447     0.279030     0.280787     0.283745     0.289771     0.308805     0.344212     0.433622
         0.00     0.229708     0.239905     0.242343     0.242626     0.243179     0.244845     0.247652     0.253378     0.271525     0.305498     0.392178
        20.00     0.175505     0.177453     0.177965     0.178245     0.178803     0.180487     0.183325     0.189118     0.207518     0.242064     0.330382
        40.00     0.112958     0.113216     0.113406     0.113661     0.114173     0.115718     0.118327     0.123674     0.141161     0.174778     0.262242
        60.00     0.065032     0.065098     0.065241     0.065475     0.065944     0.067361     0.069755     0.074673     0.090528     0.121166     0.203404
        80.00     0.025869     0.025915     0.026049     0.026270     0.026715     0.028058     0.030330     0.035003     0.050118     0.079533     0.159562
       100.00    -0.008189    -0.008144    -0.008012    -0.007791    -0.007347    -0.006008    -0.003745     0.000904     0.015909     0.045074     0.124778
       120.00    -0.040397    -0.040350    -0.040206    -0.039966    -0.039484    -0.038034    -0.035590    -0.030600    -0.014707     0.015612     0.097299
       140.00    -0.075396    -0.075338    -0.075161    -0.074867    -0.074279    -0.072509    -0.069547    -0.063568    -0.045043    -0.011205     0.075914
          </tableData>
        </table>
      </function> 
    </fcs_function>


    <!-- fcs/rudder-cmd-norm -->
    <fcs_function name="fcs/automatic/yaw-trim-cmd-norm"> 
      <function>
        <table>
          <independentVar lookup="row"> fcs/SFD/trim/v_dir_kts </independentVar>
          <independentVar lookup="column"> position/h-sl-ft </independentVar>
          <tableData>
                     10.00        20.00        50.00       100.00       200.00       500.00      1000.00      2000.00      5000.00     10000.00     20000.00
       -40.00     0.113092     0.113695     0.113869     0.113990     0.114234     0.114991     0.116335     0.119353     0.131374     0.169434     0.313638
       -20.00     0.278204     0.283577     0.284758     0.285127     0.285863     0.288101     0.291935     0.300006     0.327750     0.388067     0.586312
         0.00     0.365698     0.385539     0.390073     0.390485     0.391282     0.393706     0.397849     0.406538     0.436134     0.499663     0.705931
        20.00     0.278748     0.284128     0.285311     0.285682     0.286421     0.288668     0.292518     0.300625     0.328491     0.389102     0.588544
        40.00     0.112887     0.113469     0.113637     0.113753     0.113989     0.114720     0.116023     0.118960     0.131554     0.166560     0.312555
        60.00     0.042570     0.042594     0.042560     0.042495     0.042364     0.041982     0.041380     0.040316     0.038478     0.041910     0.096578
        80.00     0.012180     0.012155     0.012072     0.011935     0.011660     0.010835     0.009466     0.006749    -0.001083    -0.011827    -0.008863
       100.00    -0.007662    -0.007693    -0.007785    -0.007939    -0.008248    -0.009179    -0.010748    -0.013942    -0.023900    -0.040979    -0.066364
       120.00    -0.029080    -0.029106    -0.029186    -0.029320    -0.029588    -0.030403    -0.031794    -0.034699    -0.044350    -0.063113    -0.103699
       140.00    -0.059943    -0.059959    -0.060009    -0.060091    -0.060259    -0.060774    -0.061681    -0.063676    -0.071092    -0.088062    -0.135132
          </tableData>
        </table>
      </function> 
    </fcs_function>

  </channel>

</system>
<system name="trim control">
<!-- 
  Utility system:
    used to switch between 'piloted' (manual) and table based flight,
    unneeded for interactive use.
-->

  <property value="0.0"> fcs/automatic/steady-flight-data-enable </property>
  <property value="0.0"> fcs/manual/collective-trim-cmd-norm </property>
  <property value="0.0"> fcs/manual/pitch-trim-cmd-norm </property>
  <property value="0.0"> fcs/manual/roll-trim-cmd-norm </property>
  <property value="0.0"> fcs/manual/yaw-trim-cmd-norm </property>
  <property value="0.0"> ap/afcs/manual/phi-trim-rad </property>
  <property value="0.0"> ap/afcs/manual/theta-trim-rad </property>

  <channel name='control_wiring'>

    <fcs_function name='fcs/automatic/collective-trim-cmd-norm-func'>
      <function>
        <sum>
          <property> fcs/manual/collective-trim-cmd-norm </property>
          <product>
            <property> fcs/automatic/steady-flight-data-enable </property>
            <property> fcs/automatic/collective-trim-cmd-norm </property>
          </product>
        </sum>
      </function>
      <output> fcs/collective-trim-cmd-norm </output>
    </fcs_function>

    <fcs_function name='fcs/automatic/pitch-trim-cmd-norm-func'>
      <function>
        <sum>
          <property> fcs/manual/pitch-trim-cmd-norm </property>
          <product>
            <property> fcs/automatic/steady-flight-data-enable </property>
            <property> fcs/automatic/pitch-trim-cmd-norm </property>
          </product>
        </sum>
      </function>
      <output> fcs/pitch-trim-cmd-norm </output>
    </fcs_function>

    <fcs_function name='fcs/automatic/roll-trim-cmd-norm-func'>
      <function>
        <sum>
          <property> fcs/manual/roll-trim-cmd-norm </property>
          <product>
            <property> fcs/automatic/steady-flight-data-enable </property>
            <property> fcs/automatic/roll-trim-cmd-norm </property>
          </product>
        </sum>
      </function>
      <output> fcs/roll-trim-cmd-norm </output>
    </fcs_function>

    <fcs_function name='fcs/automatic/yaw-trim-cmd-norm-func'>
      <function>
        <sum>
          <property> fcs/manual/yaw-trim-cmd-norm </property>
          <product>
            <property> fcs/automatic/steady-flight-data-enable </property>
            <property> fcs/automatic/yaw-trim-cmd-norm </property>
          </product>
        </sum>
      </function>
      <output> fcs/yaw-trim-cmd-norm </output>
    </fcs_function>

    <fcs_function name='ap/afcs/phi-trim-rad-func'>
      <function>
        <sum>
          <property> ap/afcs/manual/phi-trim-rad </property>
          <product>
            <property> fcs/automatic/steady-flight-data-enable </property>
            <property> ap/afcs/automatic/phi-trim-rad </property>
          </product>
        </sum>
      </function>
      <output> ap/afcs/phi-trim-rad </output>
    </fcs_function>

    <fcs_function name='ap/afcs/theta-trim-rad-func'>
      <function>
        <sum>
          <property> ap/afcs/manual/theta-trim-rad </property>
          <product>
            <property> fcs/automatic/steady-flight-data-enable </property>
            <property> ap/afcs/automatic/theta-trim-rad </property>
          </product>
        </sum>
      </function>
      <output> ap/afcs/theta-trim-rad </output>
    </fcs_function>

  </channel>

</system>
<?xml version="1.0"?>
<fdm_config name="ah1s-jsbsim" release="ALPHA" version="2.0">
  
  <fileheader>
    <author> Thomas Kreitler </author>
    <email> t.kreitler at web 056 de </email>
    <filecreationdate>2010-10-07</filecreationdate>
    <version>$Revision: 1.5 $</version>
    <description> Models a Bell209/AH1S helicopter. </description>

    <reference refID="BR59" author="Bramwell, A. R. S." title="Longitudinal stability and control of the single rotor helicopter - Aeronautical Research Council R&amp;M 3104" date="1959"/>
    <reference refID="SH79" author="Shaugnessy, J. D., Deaux, Thomas N., and Yenni, Kenneth R." title="Development and Validation of a Piloted Simulation of a Helicopter and External Sling Load - NASA TP-1285" date="1979"/>
    <reference refID="TA77" author="Talbot, Peter D., Corliss, Lloyd D." title="A Mathematical Force and Moment Model of a UH-1H Helicopter for Flight Dynamics Simulations - NASA TM-73254" date="1977"/>
    <reference refID="TA82" author="Talbot, Peter D., Tinling, Bruce E., Decker, William A., and Chen, Robert T. N." title="A Mathematical Model of a Single Main Rotor Helicopter for Piloted Simulation - NASA TM-84281" date="1982"/>

    <note> Aerodynamic helicopter model in wind axes.
           Trigonometric functions are used to cover the full alpha/beta range (See /TA82/). </note>

    <note> Wing aerodynamics are calculated in the same manner as in fixed wing aircraft.
           The other contributions use helicopter specific quantities. </note>

    <note> Additional setup options are in the 'aerodynamics' section </note>

    <note> The model currently flies with electric engines, so tanks are left empty. </note>

    <limitation> The rotor downwash adds an varying 'wind' system, thus some axis transforms
                 occur in the 'aerodynamics' section.
                 Currently this is an experimental (read: 'not so funny') feature. The calculations
                 used are *not* valid for pure sideward flight at high speeds, but should be OK
                 for common forward/backward flight conditions. </limitation>

    <limitation> Horizontal tail incidence variation ('elevator') is experimental. </limitation>

    <limitation> Estimation of fuselage moments is rather fair. </limitation>

    <license>
      <licenseName>GPL</licenseName>
      <licenseURL>http://www.gnu.org/licenses/gpl.html</licenseURL>
      <!--
        DISCLAIMER:
        This model was created using publicly available data, publicly available
        technical reports, textbooks, and guesses. It contains no proprietary or
        restricted data. It has been validated only to the extent that it may seem
        to "fly right", and possibly to comply to published, publicly known, 
        performance data (maximum speed, endurance, etc.).

        This model is distributed in the hope that it will be useful,
        but WITHOUT ANY WARRANTY; without even the implied warranty of
        MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
        GNU General Public License for more details.
      -->

      <!--
      
        And to avoid unneeded 'friction-losses':
      
                              -= ALTERNATIVE LICENSE =-
        In case the model is used in conjunction with additional program code,
        3D-models, or forms a basis for derived models, and you are publishing
        your work as 'open source', it is also allowed to use and/or distribute
        the model under a CC-BY-NC-SA licence (http://creativecommons.org)

      -->

    </license>

  </fileheader>
  
  <metrics>
    <wingarea unit="FT2">         16.60 </wingarea>         <!-- metrics/Sw-sqft  -->
    <wingspan unit="FT">          10.75 </wingspan>         <!-- metrics/bw-ft    -->
    <wing_incidence unit="DEG">    8.50 </wing_incidence>   <!-- metrics/iw-deg   -->
    <chord unit="FT">              1.54 </chord>            <!-- metrics/cbarw-ft -->
    <htailarea unit="FT2">        12.00 </htailarea>        <!-- metrics/Sh-sqft  -->
    <htailarm unit="FT">          16.50 </htailarm>         <!-- metrics/lh-ft    -->
    <vtailarea unit="FT2">        17.85 </vtailarea>        <!-- metrics/Sv-sqft  -->
    <vtailarm unit="FT">          25.00 </vtailarm>         <!-- metrics/lv-ft    -->
    <!-- more relevant parameters are given in the aerodynamics section -->

    <location name="AERORP" unit="IN">
       <x> 176.0 </x>
       <y>   0.0 </y>
       <z>  55.0 </z>
    </location>
    <location name="EYEPOINT" unit="IN">
       <x> 121.0 </x>
       <y>   0.0 </y>
       <z>  86.0 </z>
    </location>
    <location name="VRP" unit="IN">
      <x>   0.0 </x>
      <y>   0.0 </y>
      <z>   0.0 </z>
    </location>
  </metrics>
  
  <mass_balance>
    <ixx unit="SLUG*FT2">    2593.0 </ixx>
    <iyy unit="SLUG*FT2">   14320.0 </iyy>
    <izz unit="SLUG*FT2">   12330.0 </izz>
    <ixz unit="SLUG*FT2">       0.0 </ixz>
    <!-- grossweight: 6000 to 10000 lbs  -->
    <emptywt unit="LBS">    8500.0 </emptywt>
    <location name="CG" unit="IN">
      <x>   172.0 </x><!-- 'allowed' range ~ 167 - 177 -->
      <y>     0.0 </y>
      <z>    75.0 </z>
    </location>
  </mass_balance>
  
  <ground_reactions>
    <contact type="BOGEY" name="skid_front_left">
      <location unit="IN">
        <x>    115.90 </x>
        <y>   -42.0 </y>
        <z>    -4.0 </z>
      </location>
      <static_friction>    0.85  </static_friction>
      <dynamic_friction>   0.65  </dynamic_friction>
      <rolling_friction>   0.65  </rolling_friction>
      <spring_coeff unit="LBS/FT">        6375.0 </spring_coeff>
      <damping_coeff unit="LBS/FT/SEC">   1275.0 </damping_coeff>
      <brake_group> NONE </brake_group>
      <max_steer> 0 </max_steer>
    </contact>
    <contact type="BOGEY" name="skid_front_right">
      <location unit="IN">
        <x>   115.90 </x>
        <y>    42.0 </y>
        <z>    -4.0 </z>
      </location>
      <static_friction>    0.85  </static_friction>
      <dynamic_friction>   0.65  </dynamic_friction>
      <rolling_friction>   0.65  </rolling_friction>
      <spring_coeff unit="LBS/FT">        6375.0 </spring_coeff>
      <damping_coeff unit="LBS/FT/SEC">   1275.0 </damping_coeff>
      <brake_group> NONE </brake_group>
      <max_steer> 0 </max_steer>
    </contact>
    <contact type="BOGEY" name="skid_rear_left">
      <location unit="IN">
        <x>   235.0 </x>
        <y>   -42.0 </y>
        <z>    -5.0 </z>
      </location>
      <static_friction>    0.85  </static_friction>
      <dynamic_friction>   0.65  </dynamic_friction>
      <rolling_friction>   0.65  </rolling_friction>
      <spring_coeff unit="LBS/FT">        6375.0 </spring_coeff>
      <damping_coeff unit="LBS/FT/SEC">   1275.0 </damping_coeff>
      <brake_group> NONE </brake_group>
      <max_steer> 0 </max_steer>
    </contact>
    <contact type="BOGEY" name="skid_rear_right">
      <location unit="IN">
        <x>   235.0 </x>
        <y>    42.0 </y>
        <z>    -5.0 </z>
      </location>
      <static_friction>    0.85  </static_friction>
      <dynamic_friction>   0.65  </dynamic_friction>
      <rolling_friction>   0.65  </rolling_friction>
      <spring_coeff unit="LBS/FT">        6375.0 </spring_coeff>
      <damping_coeff unit="LBS/FT/SEC">   1275.0 </damping_coeff>
      <brake_group> NONE </brake_group>
      <max_steer> 0 </max_steer>
    </contact>
    <contact type="STRUCTURE" name="bumper_rear">
      <location unit="IN">
        <x>   490.0 </x>
        <y>     0.0 </y>
        <z>    40.0 </z>
      </location>
      <static_friction>    0.85  </static_friction>
      <dynamic_friction>   0.65  </dynamic_friction>
      <rolling_friction>   0.65  </rolling_friction>
      <spring_coeff unit="LBS/FT">         6000.0 </spring_coeff>
      <damping_coeff unit="LBS/FT/SEC">    2000.0 </damping_coeff>
    </contact>
  </ground_reactions>
  
  <propulsion>
    <!-- should become avco_lycoming_t53 turbo-shaft engine -->
    <engine file="electric_1500hp"> 
      <feed>0</feed>
      <feed>1</feed>
      <thruster file="ah1s_rotor">
        <location unit="IN">
          <x>   176.0 </x>
          <y>     0.0 </y>
          <z>   153.0 </z>
        </location>
        <orient unit="DEG">
          <roll>   0.0 </roll>
          <pitch> 90.0 </pitch>
          <yaw>    0.0 </yaw>
        </orient>
        <sense> 1 </sense>
      </thruster>
    </engine>
    <!-- dummy-engine, used for linkage -->
    <engine file="electric_1hp_dummy">
      <feed>0</feed>
      <feed>1</feed>
      <thruster file="ah1s_tail_rotor">
        <location unit="IN">
          <x> 496.67 </x>
          <y>  16.0 </y>
          <z> 119.0 </z>
        </location>
        <orient unit="DEG">
          <roll>  0.0 </roll>
          <pitch> 0.0 </pitch>
          <yaw>  90.0 </yaw>
        </orient>
        <sense> 1 </sense>
      </thruster>
    </engine>
    <!--
        two tanks 260 US galons usable (262 total)
        JP-4: 6.5 lbs/gal JP-5: 6.8 lbs/gal
    -->
    <tank number="0" type="FUEL">
      <location unit="IN">
        <x>   146.0 </x>
        <y>     0.0 </y>
        <z>    38.0 </z>
      </location>
      <capacity unit="LBS">    890.0  </capacity>
      <contents unit="LBS">      0.0  </contents>
      <type>JP-5</type>
    </tank>
    <tank number="1" type="FUEL">
      <location unit="IN">
        <x>   206.0 </x>
        <y>     0.0 </y>
        <z>    38.0 </z>
      </location>
      <capacity unit="LBS">    890.0 </capacity>
      <contents unit="LBS">      0.0 </contents>
      <type>JP-5</type>
    </tank>
  </propulsion>
  
  <system file="rpm_governor"/>
  
  <system file="rotor_control"/>
  
  <system file="afcs"/>
  
  <system file="steady_flight_data"/>
  
  <system file="trim_control"/>
  
  <system name="misc support">
    <channel name="climb/approach angle">

      <fcs_function name="attitude/pitch-deg">
        <function>
          <product>
            <value> 57.2957795 </value>
            <property> attitude/pitch-rad </property>
          </product>
        </function>
      </fcs_function>

      <fcs_function name="attitude/approach-angle-deg">
        <function>
          <difference>
            <property> attitude/pitch-deg </property>
            <property> aero/alpha-deg </property>
          </difference>
        </function>
      </fcs_function>
    </channel>

    <channel name="bell instruments">
      <fcs_function name="propulsion/engine/bell-torque-sensor-psi">
        <!--
           Relation between models' torque and the pressure sensor mounted
           at the gear box. Guessed from models' hover performance at
           various weights. (I fear that the error is about +/- 20%)

           Summary:
             - simple proportional relation,  10_000 lbsft matches approx 35psi -> factor 0.0035
             - linear fit, psi(lbsft) = 0.004158*torque-lbsft - 7.334

           Limits from operator's manual translated back to model torque:
             continuous operation up to 50 'psi' ~ 13800 lbsft
             30 minute limit up to 56 'psi'      ~ 15250 lbsft

        -->
        <function>
          <sum>
            <product>
               <value> 0.00416 </value>
               <property> propulsion/engine/torque-lbsft </property>
            </product>
            <value> -7.33 </value>
          </sum>
        </function>
        <output>/rotors/main/torque-sensor-psi</output> 
      </fcs_function>
    </channel>
  </system>
  
  <flight_control name="ah1s fcs">

    <channel name="tailplane">
      <fcs_function name="fcs/var-incidence-ht-rad">
        <function>
          <description>
            Variation of horizontal stabilizer (aka elevator) incidence with
            longitudinal stick position/control input. Guessed from UH1 data
            in /TA77/. Positve values yield to nose-up moment (mind: forward
            stick gives positive longitudinal-ctrl-rad).
            Note: this is pretty experimental!
          </description>
          <sum>
            <product>
              <value> 1.0 </value>
              <table>
                <independentVar> propulsion/engine/longitudinal-ctrl-rad </independentVar>
                <tableData>
                    -0.04   0.21
                    -0.01   0.0
                     0.00   -0.01
                     0.02   -0.01
                     0.09   0.06
                     0.15   0.12
                </tableData>
              </table>
            </product>
            <value> 0.0 </value>
          </sum>
        </function>
      </fcs_function>
    </channel>

    <channel name="downwash-delay">
      <lag_filter name="aero/theta-downwash-delayed-rad">
        <description>
          Smooth downwash angle value (forward-backward), and
          roughly account for delayed impingement on wings.
        </description>
        <input> propulsion/engine/theta-downwash-rad </input>
        <c1>    10.0 </c1>
      </lag_filter>
      <lag_filter name="aero/phi-downwash-delayed-rad">
        <description> Smooth left-right downwash angle. </description>
        <input> propulsion/engine/phi-downwash-rad </input>
        <c1>    10.0 </c1>
      </lag_filter>
    </channel>

    <channel name="groundeffect-scale">
      <fcs_function name="aero/groundeffect-scale">
        <function>
        <description> gives 1.0 in hover, 0.001 at 40kts (or ~70fps) </description>
        <exp>
          <product>
            <value> -0.056 </value>
            <property> velocities/vt-fps </property>
          </product>
        </exp>
        </function>
        <output> propulsion/engine/groundeffect-scale-norm </output>
      </fcs_function>
    </channel>

  </flight_control>
  
  <aerodynamics>


    <!-- ============================================================
           Vehicle setup
         ============================================================ -->

    <!--
      Limiting the yaw rate:
         0.0  :  pure model (mind: the model isn't complete).
         0.05 :  compatible to the 'tweak'-value used in previous version.
         1.0  :  yields to easier interactive handling when using mouse input
                 (And also helps when exploring backward flight).
     -->
    <property value="0.05"> aero/setup/Nr_limiter </property>

    <!-- enable/disable downwash effects (debug option) -->
    <property value="1.0"> aero/setup/downwash-enable </property>


    <!-- ============================================================
           Rotor properties used below
         ============================================================ -->

    <!-- NOTE: blade-area = num_blades * chord * radius -->
    <property value="22.00">   metrics/rotor/R-ft     </property>
    <property value="1520.53"> metrics/rotor/Area-ft2 </property>
    <property value="0.06511"> metrics/rotor/solidity </property> <!-- blade-area / disk-area -->


    <!-- ============================================================
           Reference properties and non dimensional velocities
         ============================================================ -->

    <property value="99.00">   aero/ref/area-ft2   </property> <!-- solidity * Area -->
    <property value="2178.00"> aero/ref/volume-ft3 </property> <!-- solidity * Area * Radius, currently unused -->
    <property value="746.44">  aero/ref/vtip-fps   </property> <!-- rotor tip speed, Omega_mr * Radius -->

    <function name="aero/HIhat-ps">  <!-- rho*solidity*Area * Omega*R * R -->
      <description> Dynamic momentum, see /BR59/. </description>
      <product>
        <property> atmosphere/rho-slugs_ft3 </property>
        <property> metrics/rotor/solidity   </property>
        <property> metrics/rotor/Area-ft2   </property>
        <property> aero/ref/vtip-fps        </property>
        <property> metrics/rotor/R-ft       </property>
      </product>
    </function>

    <function name="aero/HWhat-psft">  <!-- rho*solidity*Area * Omega*R * R*R -->
      <description> Dynamic angular momentum, see /BR59/. </description>
      <product>
        <property> atmosphere/rho-slugs_ft3 </property>
        <property> metrics/rotor/solidity   </property>
        <property> metrics/rotor/Area-ft2   </property>
        <property> aero/ref/vtip-fps        </property>
        <property> metrics/rotor/R-ft       </property>
        <property> metrics/rotor/R-ft       </property>
      </product>
    </function>

    <function name="aero/mu">
      <description> Common shortcut for advance ratio. </description>
      <property> propulsion/engine/advance-ratio </property>
    </function>

    <!-- ============================================================
           Downwash incidence and angle normalization
         ============================================================ -->

    <!--

       A more or less 'funny' part - this is a memo for the angles used.

          theta-downwash : positive values turn forward (zero is rotor shaft axis)
          phi-downwash   : positive values turn left (cw when viewed from pilots' seat)

          alpha          : positive when wind comes from below the nose
          wing incidence : positive when the chord line points over the nose

    -->

    <function name="aero/raw-alpha-iw-rad">
      <description> Adjust alpha for wing incidence w/o downwash. </description>
      <sum>
        <property> aero/alpha-rad </property>
        <property> metrics/iw-rad </property>
      </sum>
    </function>

    <function name="aero/alpha-iw-rad">
      <description> Normalize to +/- pi. </description>
      <product>
        <value>2.0</value>
        <atan><tan>
          <product>
            <value>0.5</value>
            <property> aero/raw-alpha-iw-rad </property>
          </product>
        </tan></atan>
      </product>
    </function>

    <function name="aero/raw-alpha-iht-rad">
      <description> Adjust alpha for varying horizontal tail incidence w/o downwash. </description>
      <sum>
        <property> aero/alpha-rad </property>
        <property> fcs/var-incidence-ht-rad </property>
      </sum>
    </function>

    <function name="aero/alpha-iht-rad">
      <description> Normalize to +/- pi. </description>
      <product>
        <value>2.0</value>
        <atan><tan>
          <product>
            <value>0.5</value> <property> aero/raw-alpha-iht-rad </property>
          </product>
        </tan></atan>
      </product>
    </function>

    <function name="aero/downwash-window-wing">
      <description> 
         Turns to one if wing is immersed in downwash. (Note, the window is
         currently a simple square, not a circle)
      </description>
      <product>
        <table>
          <independentVar> aero/theta-downwash-delayed-rad </independentVar>
          <tableData>
              -1.30  0
              -1.26  1
               1.26  1
               1.30  0
          </tableData>
        </table>
        <table>
          <independentVar> aero/phi-downwash-delayed-rad </independentVar>
          <tableData>
              -1.37  0.0
              -1.2   0.5
              -1.1   1.0
               0.0   1
               1.1   1.0
               1.2   0.5
               1.37  0.0
          </tableData>
        </table>
      </product>
    </function>

    <function name="aero/downwash-window-wing-value">
      <product>
        <property> aero/setup/downwash-enable </property> <!-- debug switch -->
        <property> aero/downwash-window-wing </property>
      </product>
    </function>

    <function name="aero/downwash-window-wing-compl">
      <description>
         Turns to zero if wing is immersed in downwash.
         (Or stays at one if downwash is disabled)
      </description>
      <difference>
        <value> 1.0 </value>
        <property> aero/downwash-window-wing-value </property>
      </difference>
    </function>

    <function name="aero/downwash-window-ht">
      <description> Turns to one if horizontal tail is immersed in downwash. </description>
      <product>
        <table>
          <independentVar> aero/theta-downwash-delayed-rad </independentVar>
          <tableData>
              -1.42  0
              -1.36  1
               0.63  1
               0.69  0
          </tableData>
        </table>
        <table>
          <independentVar> aero/phi-downwash-delayed-rad </independentVar>
          <tableData>
              -1.37  0.0
              -1.2   0.5
              -1.1   1.0
               0.0   1
               1.1   1.0
               1.2   0.5
               1.37  0.0
          </tableData>
        </table>
      </product>
    </function>

    <function name="aero/downwash-window-ht-value">
      <product>
        <property> aero/setup/downwash-enable </property> <!-- debug switch -->
        <property> aero/downwash-window-ht </property>
      </product>
    </function>

    <function name="aero/downwash-window-ht-compl">
      <description>
         Turns to zero if horizontal tail is immersed in downwash.
         (Or stays at one if downwash is disabled)
      </description>
      <difference>
        <v> 1.0 </v>
        <p> aero/downwash-window-ht-value </p>
      </difference>
    </function>

    <function name="aero/alpha-downwash-rad">
      <description>
         Transform dw-theta to 'alpha' for usage with CL table.
         alpha_dw = - (theta_dw+90). 
         Here the helicopter specific shaft angle is 90 deg.
      </description>
      <difference>
        <v> -1.570796 </v>
        <p> aero/theta-downwash-delayed-rad </p>
      </difference>
    </function>

    <function name="aero/alpha-dw-diff-rad">
      <description>
         Difference between the two wind directions, used when the downwash
         contributions are transformed to the 'main' wind cordinate system.
         (note: this is an approximation for small betas.)
      </description>
      <difference>
        <p> aero/alpha-downwash-rad </p>
        <p> aero/alpha-rad </p>
      </difference>
    </function>


    <!-- repeat incidence adjustments for downwash case  -->

    <function name="aero/raw-alpha-dw-iw-rad">
      <description> Adjust alpha for wing incidence w. downwash. </description>
      <sum>
        <property> aero/alpha-downwash-rad </property>
        <property> metrics/iw-rad </property>
      </sum>
    </function>

    <function name="aero/alpha-dw-iw-rad">
      <description> Normalize to +/- pi. </description>
      <product>
        <value>2.0</value>
        <atan><tan>
          <product>
            <value>0.5</value>
            <property> aero/raw-alpha-dw-iw-rad </property>
          </product>
        </tan></atan>
      </product>
    </function>

    <function name="aero/raw-alpha-dw-iht-rad">
      <description> Adjust alpha for varying horizontal tail incidence w. downwash. </description>
      <sum>
        <property> aero/alpha-downwash-rad </property>
        <property> fcs/var-incidence-ht-rad </property>
      </sum>
    </function>

    <function name="aero/alpha-dw-iht-rad">
      <description> Normalize to +/- pi. </description>
      <product>
        <value>2.0</value>
        <atan><tan>
          <product>
            <value>0.5</value> <property> aero/raw-alpha-dw-iht-rad </property>
          </product>
        </tan></atan>
      </product>
    </function>

    <!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
           Downwash adds some speed to the regular wind, thus the
           dynamic pressure is a bit larger too.
         - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  -->

    <function name="aero/downwash-qbar-psf">
      <description> Downwash addition to regular qbar-psf. </description>
      <product>
        <value> 0.5 </value>
        <property> atmosphere/rho-slugs_ft3 </property>
        <sum>
          <property> propulsion/engine/vi-fps </property>
          <property> velocities/vt-fps </property>
        </sum>
        <sum>
          <property> propulsion/engine/vi-fps </property>
          <property> velocities/vt-fps </property>
        </sum>
      </product>
    </function>

    <!-- ============================================================
           Coefficients
         ============================================================ -->

    <property value="0.105"> aero/coefficient/CD0_fus   </property>
    <property value="0.600"> aero/coefficient/CDa90_fus </property>
    <property value="1.826"> aero/coefficient/CDb90_fus </property>
    <!-- 
          NOTES: CDx_fus = (projected-area) / (aero/ref/area-ft2) * (0.5 .. 1.0)
                 CD0_fus = 0.1  yield to approx. 170kts at 5000ft and 0.066 to approx. 185kts.
    -->

    <function name="aero/coefficient/CMw_ht">
      <description> Horizontal tail pitch coefficient depending on w (estimated from stability derivative). </description>
      <table>
        <independentVar> aero/mu </independentVar>
        <tableData>
              0.0   0.00
              0.45 -0.07
        </tableData>
      </table>
    </function>

    <function name="aero/coefficient/CMq_ht">
      <description> Horizontal tail pitch coefficient depending on q (estimated from stability derivative). </description>
      <table>
        <independentVar> aero/mu </independentVar>
        <tableData>
            0.0   0.00
            0.45 -0.09
        </tableData>
      </table>
    </function>

    <function name="aero/coefficient/CNv_vt">
      <description> Vertical tail yaw coefficient depending on v (guessed from CMw_ht). </description>
      <table>
        <independentVar> aero/mu </independentVar>
        <tableData>
              0.0   0.00
              0.45  0.07
        </tableData>
      </table>
    </function>

    <function name="aero/coefficient/CNr_vt">
      <description> Vertical tail yaw coefficient depending on r (guessed from CMq_ht). </description>
      <table>
        <independentVar> aero/mu </independentVar>
        <tableData>
            0.0   0.0
            0.45 -0.09
        </tableData>
      </table>
    </function>

    <function name="aero/coefficient/CLa_wing">
      <description> Wing lift coefficient (a=5.5, CL_max=1.92). </description>
      <product>
        <table>
          <independentVar lookup="row"> aero/alpha-iw-rad </independentVar>
          <tableData>
             -3.49  -1.92
             -3.14   0.00
             -2.79   1.92
             -2.74   1.92
             -1.83   0.96
             -1.57   0.00
             -1.31  -0.96
             -0.40  -1.92
             -0.35  -1.92
              0.00   0.00
              0.35   1.92
              0.40   1.92
              1.31   0.96
              1.57   0.00
              1.83  -0.96
              2.74  -1.92
              2.79  -1.92
              3.14   0.00
              3.49   1.92
          </tableData>
        </table>
        <!-- no lift when immersed in downwash -->
        <property> aero/downwash-window-wing-compl </property>
        <!-- diminishing lift with beta -->
        <cos> <property> aero/beta-rad </property> </cos>
        <cos> <property> aero/beta-rad </property> </cos>
      </product>
    </function>

    <function name="aero/coefficient/CLa_ht">
      <description> Horizontal tail lift coefficient (a=3.5, CL_max=1.83). </description>
      <product>
        <table>
          <independentVar lookup="row"> aero/alpha-iht-rad </independentVar>
          <tableData>
             -3.67  -1.83
             -3.14   0.00
             -2.62   1.83
             -2.57   1.83
             -1.83   0.92
             -1.57   0.00
             -1.31  -0.92
             -0.58  -1.83
             -0.52  -1.83
              0.00   0.00
              0.52   1.83
              0.58   1.83
              1.31   0.92
              1.57   0.00
              1.83  -0.92
              2.57  -1.83
              2.62  -1.83
              3.14   0.00
              3.67   1.83
          </tableData>
        </table>
        <!-- no lift when immersed in downwash -->
        <property> aero/downwash-window-ht-compl </property>
        <!-- diminishing lift with beta-->
        <cos> <property> aero/beta-rad </property> </cos>
        <cos> <property> aero/beta-rad </property> </cos>
      </product>
    </function>

    <function name="aero/coefficient/CNb_vt">
      <description> Vertical tail side force coefficient (a=3.5, CL_max=1.83). </description>
      <table>
        <independentVar lookup="row"> aero/beta-rad </independentVar>
        <tableData>
           -1.57   0.00
           -1.31  -0.92
           -0.58  -1.83
           -0.52  -1.83
            0.00   0.00
            0.52   1.83
            0.58   1.83
            1.31   0.92
            1.57   0.00
        </tableData>
      </table>
    </function>

    <function name="aero/coefficient/CD0a_wing">
      <description> Drag coefficient at zero lift, w/o downwash. </description>
      <product>
        <table>
          <independentVar lookup="row"> aero/alpha-iw-rad </independentVar>
          <tableData>
           -3.14    0.03
           -1.57    1.500
           -0.26    0.031
            0.00    0.024
            0.26    0.031
            1.57    1.500
            3.14    0.03
          </tableData>
        </table>
        <property> aero/downwash-window-wing-compl </property>
      </product>
    </function>

    <!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
           Tables for downwash contributions
         - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  -->

    <!--   Note: 'tableData' content is the same as above,
                 but lookup-parameters and factors aren't!  -->

    <function name="aero/coefficient/CLa_wing_dw">
      <description> Wing lift coefficient (a=5.5, CL_max=1.92). </description>
      <product>
        <table>
          <independentVar lookup="row"> aero/alpha-dw-iw-rad </independentVar>
          <tableData>
             -3.49  -1.92
             -3.14   0.00
             -2.79   1.92
             -2.74   1.92
             -1.83   0.96
             -1.57   0.00
             -1.31  -0.96
             -0.40  -1.92
             -0.35  -1.92
              0.00   0.00
              0.35   1.92
              0.40   1.92
              1.31   0.96
              1.57   0.00
              1.83  -0.96
              2.74  -1.92
              2.79  -1.92
              3.14   0.00
              3.49   1.92
          </tableData>
        </table>
        <property> aero/downwash-window-wing-value </property>
        <!-- diminishing lift with beta -->
        <cos> <property> aero/beta-rad </property> </cos>
        <cos> <property> aero/beta-rad </property> </cos>
      </product>
    </function>

    <function name="aero/coefficient/CD0a_wing_dw">
      <description> Drag coefficient at zero lift, downwash case. </description>
      <product>
        <table>
          <independentVar lookup="row"> aero/alpha-dw-iw-rad </independentVar>
          <tableData>
           -3.14    0.03
           -1.57    1.500
           -0.26    0.031
            0.00    0.024
            0.26    0.031
            1.57    1.500
            3.14    0.03
          </tableData>
        </table>
        <property> aero/downwash-window-wing-value </property>
      </product>
    </function>

    <function name="aero/coefficient/CLa_ht_dw">
      <description> Horizontal tail lift coefficient (a=3.5, CL_max=1.83).
                    Table data is a copy from aero/coefficient/CLa_ht
      </description>
      <product>
        <table>
          <independentVar lookup="row"> aero/alpha-dw-iht-rad </independentVar>
          <tableData>
             -3.67  -1.83
             -3.14   0.00
             -2.62   1.83
             -2.57   1.83
             -1.83   0.92
             -1.57   0.00
             -1.31  -0.92
             -0.58  -1.83
             -0.52  -1.83
              0.00   0.00
              0.52   1.83
              0.58   1.83
              1.31   0.92
              1.57   0.00
              1.83  -0.92
              2.57  -1.83
              2.62  -1.83
              3.14   0.00
              3.67   1.83
          </tableData>
        </table>
        <property> aero/downwash-window-ht-value </property>
        <!-- diminishing lift with beta-->
        <cos> <property> aero/beta-rad </property> </cos>
        <cos> <property> aero/beta-rad </property> </cos>
      </product>
    </function>

    <!-- ============================================================
           The axes
         ============================================================ -->

    <axis name="LIFT">
      <function name="aero/force/La_wing">
        <description> Wing lift due to alpha, regular air stream. </description>
        <product>
          <property> aero/qbar-psf </property>
          <property> metrics/Sw-sqft </property>
          <property> aero/coefficient/CLa_wing </property>
        </product>
      </function>
      <function name="aero/force/L0_fus">
        <description> Fuselage lift at zero incidence, w/o downwash. </description>
        <product>
          <property> aero/qbar-psf </property>
          <property> aero/ref/area-ft2 </property>
          <value> -0.05 </value>
          <property> aero/coefficient/CDa90_fus </property>
          <cos> <property> aero/alpha-rad </property> </cos>
          <cos> <property> aero/alpha-rad </property> </cos>
        </product>
      </function>
      <function name="aero/force/La_fus">
        <description> Fuselage lift due to alpha, w/o downwash. </description>
        <product>
          <property> aero/qbar-psf </property>
          <property> aero/ref/area-ft2 </property>
          <property> aero/coefficient/CDa90_fus </property>
          <sin> <property> aero/alpha-rad </property> </sin>
          <cos> <property> aero/alpha-rad </property> </cos>
          <sum>
            <value> 0.2 </value>
            <product>
              <sin> <property> aero/alpha-rad </property> </sin>
              <sin> <property> aero/alpha-rad </property> </sin>
            </product>
          </sum>
        </product>
      </function>

      <!-- Transform the downwash contributions. -->
      <function name="aero/force/Lc_La_wing_dw">
        <description>
            Wing lift conribution caused by downwash. Projected onto 'regular' lift axis
        </description>
        <product>
          <cos> <property> aero/alpha-dw-diff-rad </property> </cos>
          <property> aero/downwash-qbar-psf </property>
          <property> metrics/Sw-sqft </property>
          <property> aero/coefficient/CLa_wing_dw </property>
        </product>
      </function>
      <function name="aero/force/Lc_D0_wing">
        <description> Drag on wing at zero lift. </description>
        <product>
          <sin> <property> aero/alpha-dw-diff-rad </property> </sin>
          <property> aero/downwash-qbar-psf </property>
          <property> metrics/Sw-sqft </property>
          <property> aero/coefficient/CD0a_wing_dw </property>
        </product>
      </function>
      <function name="aero/force/Lc_Di_wing">
        <description> Induced drag on wing. </description>
        <product>
          <sin> <property> aero/alpha-dw-diff-rad </property> </sin>
          <property> aero/downwash-qbar-psf </property>
          <property> metrics/Sw-sqft </property>
          <property> aero/coefficient/CLa_wing_dw </property>
          <property> aero/coefficient/CLa_wing_dw </property>
          <value> 0.06 </value>
        </product>
      </function>
    </axis>

    <axis name="DRAG">
      <function name="aero/force/D0_wing">
        <description> Drag on wing at zero lift. </description>
        <product>
          <property> aero/qbar-psf </property>
          <property> metrics/Sw-sqft </property>
          <property> aero/coefficient/CD0a_wing </property>
        </product>
      </function>
      <function name="aero/force/Di_wing">
        <description> Induced drag on wing. </description>
        <product>
          <property> aero/qbar-psf </property>
          <property> metrics/Sw-sqft </property>
          <property> aero/coefficient/CLa_wing </property>
          <property> aero/coefficient/CLa_wing </property>
          <value> 0.06 </value>
        </product>
      </function>
      <function name="aero/force/D0_fus">
        <description> Fuselage drag. </description>
        <product>
          <property> aero/qbar-psf </property>
          <property> aero/ref/area-ft2 </property>
          <property> aero/coefficient/CD0_fus </property>
        </product>
      </function>
      <function name="aero/force/Da_fus">
        <description> Fuselage drag variation due to alpha. </description>
        <product>
          <property> aero/qbar-psf </property>
          <property> aero/ref/area-ft2 </property>
          <difference>
            <property> aero/coefficient/CDa90_fus </property>
            <property> aero/coefficient/CD0_fus </property>
          </difference>
          <abs>
            <sin> <property> aero/alpha-rad </property> </sin>
          </abs>
          <sin> <property> aero/alpha-rad </property> </sin>
          <sin> <property> aero/alpha-rad </property> </sin>
        </product>
      </function>
      <function name="aero/force/Db_fus">
        <description> Fuselage drag variation due to beta. </description>
        <product>
          <property> aero/qbar-psf </property>
          <property> aero/ref/area-ft2 </property>
          <property> aero/coefficient/CDb90_fus </property>
          <sin> <property> aero/beta-rad </property> </sin>
          <sin> <property> aero/beta-rad </property> </sin>
        </product>
      </function>

      <!-- Transform the downwash contributions. -->
      <function name="aero/force/Dc_La_wing_dw">
        <description>
            Wing lift conribution caused by downwash. Projected onto 'regular' drag axis
        </description>
        <product>
          <value> -1.0 </value>
          <sin> <property> aero/alpha-dw-diff-rad </property> </sin>
          <property> aero/downwash-qbar-psf </property>
          <property> metrics/Sw-sqft </property>
          <property> aero/coefficient/CLa_wing_dw </property>
        </product>
      </function>
      <function name="aero/force/Dc_D0_wing">
        <description> Drag on wing at zero lift. </description>
        <product>
          <cos> <property> aero/alpha-dw-diff-rad </property> </cos>
          <property> aero/downwash-qbar-psf </property>
          <property> metrics/Sw-sqft </property>
          <property> aero/coefficient/CD0a_wing_dw </property>
        </product>
      </function>
      <function name="aero/force/Dc_Di_wing">
        <description> Induced drag on wing. </description>
        <product>
          <cos> <property> aero/alpha-dw-diff-rad </property> </cos>
          <property> aero/downwash-qbar-psf </property>
          <property> metrics/Sw-sqft </property>
          <property> aero/coefficient/CLa_wing_dw </property>
          <property> aero/coefficient/CLa_wing_dw </property>
          <value> 0.06 </value>
        </product>
      </function>
    </axis>

    <axis name="SIDE">
      <function name="aero/force/Yb_wing">
        <description> Side force on wing due to beta. </description>
        <product>
          <property> aero/qbar-psf </property>
          <property> metrics/Sw-sqft </property>
          <property> aero/beta-rad </property>
          <value> -1.0 </value>
          <!-- handle large angles -->
          <value> 2.0 </value>
          <sin> <property> aero/beta-rad </property> </sin>
          <cos> <property> aero/beta-rad </property> </cos>
        </product>
      </function>
      <function name="aero/force/Yb_fus">
        <description> Side force on fuselage due to beta. </description>
        <product>
          <property> aero/qbar-psf </property>
          <property> aero/ref/area-ft2 </property>
          <property> aero/coefficient/CDb90_fus </property>
          <value> -0.6 </value>
          <sin> <property> aero/beta-rad </property> </sin>
          <cos> <property> aero/beta-rad </property> </cos>
          <sum>
            <value> 1.0 </value>
            <product>
              <sin> <property> aero/beta-rad </property> </sin>
              <sin> <property> aero/beta-rad </property> </sin>
            </product>
          </sum>
        </product>
      </function>
    </axis>
    
    <!-- no ROLL contributions calculated -->

    <axis name="PITCH">
      <function name="aero/moment/Ma_ht">
        <description> Pitching moment due to tailplane lift. </description>
        <product>
          <property> aero/qbar-psf </property>
          <property> metrics/Sh-sqft </property>
          <property> metrics/lh-ft </property>
          <value>    -1.0 </value>
          <property> aero/coefficient/CLa_ht </property>
        </product>
      </function>
      <function name="aero/moment/Ma_ht_dw">
        <description> Pitching moment due to tailplane lift, downwash case. </description>
        <product>
          <property> aero/downwash-qbar-psf </property>
          <property> metrics/Sh-sqft </property>
          <property> metrics/lh-ft </property>
          <value>    -1.0 </value>
          <property> aero/coefficient/CLa_ht_dw </property>
        </product>
      </function>
      <function name="aero/moment/Mw_ht">
        <description> Pitching moment due to w. </description>
        <product>
          <property> aero/HIhat-ps </property>
          <property> aero/coefficient/CMw_ht </property>
          <property> velocities/w-aero-fps </property>
        </product>
      </function>
      <function name="aero/moment/Mq_ht">
        <description> Pitching moment due to q. </description>
        <product>
          <property> aero/HWhat-psft </property>
          <property> aero/coefficient/CMq_ht </property>
          <property> velocities/q-aero-rad_sec </property>
        </product>
      </function>
    </axis>

    <axis name="YAW">
      <function name="aero/moment/Nb_vt">
        <description> Yawing moment due to vertical fin. </description>
        <product>
          <property> aero/qbar-psf </property>
          <property> metrics/Sv-sqft </property>
          <property> metrics/lv-ft </property>
          <property> aero/coefficient/CNb_vt </property>
        </product>
      </function>
      <function name="aero/moment/Nv_vt">
        <description> Yawing moment due to v. </description>
        <product>
          <property> aero/HIhat-ps </property>
          <property> aero/coefficient/CNv_vt </property>
          <property> velocities/v-aero-fps </property>
        </product>
      </function>
      <function name="aero/moment/Nr_vt">
        <description> Yawing moment due to r. </description>
        <product>
          <property> aero/HWhat-psft </property>
          <property> aero/coefficient/CNr_vt </property>
          <property> velocities/r-aero-rad_sec </property>
        </product>
      </function>
      <function name="aero/moment/Nr_limiter">
        <description> Limit yaw rate to get more stability in hover. </description>
        <product>
          <value> -0.1 </value>
          <property> aero/HWhat-psft </property>
          <property> velocities/r-aero-rad_sec </property>
          <property> aero/setup/Nr_limiter </property>
          <table>
            <independentVar> aero/mu </independentVar>
            <tableData>
               0.0   1.0
               0.08  0.9
               0.15  0.0
            </tableData>
          </table>
        </product>
      </function>
    </axis>

  </aerodynamics>
  
</fdm_config>
<?xml version="1.0"?>
<initialize name="reset00">
  <!--

    AH1S initialization, in JSBSim-standalone it just plays with the 'elevation'
    and 'altitudeAGL' features. Additionally it serves as an init file for
    'native-fdm' visualization with FlightGear. In this case the vehicle is
    placed at Edwards AFB (KEDW). (Or more precisely on the huge wind rose found
    at the air base.)

    Notes:
      For visualization with FlightGear, JSBSim needs a proper 'logfile', and in
      turn FG needs a matching argument on the command line (port 45577 => 0xb209 :).

      JSBSim logfile:
        <output name='localhost' type='FLIGHTGEAR' port='45577' protocol='UDP' rate='25'/>

      FlightGear:    
        add '-\-native-fdm=socket,in,25,127.0.0.1,45577,udp' to your start options.

      -->

  <ubody unit="FT/SEC">    0.0 </ubody>
  <vbody unit="FT/SEC">    0.0 </vbody>
  <wbody unit="FT/SEC">    0.0 </wbody>
  <phi   unit="DEG">       0.0 </phi>
  <theta unit="DEG">       0.0 </theta>
  <psi   unit="DEG">     180.0 </psi>

  <!-- KEDW wind rose location -->
  <longitude   unit="DEG">  -117.87323 </longitude>
  <latitude    unit="DEG">    34.95416 </latitude>
  <elevation   unit="FT">   2283.5     </elevation>
  <altitudeAGL unit="FT">      6.3     </altitudeAGL>

</initialize>
<FDM_CONFIG NAME="{name}" VERSION="{version}">
<!--

  File:        {file}
  Author:      {author}
  CVS Version: $Id: aircraft_template.xml,v 1.2 2003/10/18 13:21:26 ehofman Exp $

  Function: {function}
  Notes:    {notes}

-->

  <METRICS>
    <!--
    Data source: {source}
    -->
    AC_WINGAREA  {area}   <!-- square feet -->
    AC_WINGSPAN  {span}   <!-- ft          -->
    AC_CHORD     {chord}  <!-- ft          -->
    AC_HTAILAREA {area}   <!-- square feet -->
    AC_HTAILARM  {arm}    <!-- ft          -->
    AC_VTAILAREA {area}   <!-- square feet -->
    AC_LV        {arm}    <!-- ft          -->
    AC_IXX    {inertia}   <!-- slug-ft^2   -->
    AC_IYY    {inertia}   <!-- slug-ft^2   -->
    AC_IZZ    {inertia}   <!-- slug-ft^2   -->
    AC_IXZ    {inertia}   <!-- slug-ft^2   -->
    AC_EMPTYWT   {weight} <!-- pounds      -->
    AC_AERORP    {X Y Z}  <!-- inches      -->
    AC_CGLOC     {X Y Z}  <!-- inches      -->
    AC_EYEPTLOC  {X Y Z}  <!-- inches      -->
    <!-- Pilot -->
    AC_POINTMASS {weight X Y Z} <!-- pounds, inches -->
  </METRICS>

  <UNDERCARRIAGE>
    <!--
      Data source: {source}
    -->
     AC_GEAR NOSE  {X Y Z} {K B D S R} {steer} {brake} {max steer} {retract}
     AC_GEAR LMAIN {X Y Z} {K B D S R} {steer} {brake} {max steer} {retract}
     AC_GEAR RMAIN {X Y Z} {K B D S R} {steer} {brake} {max steer} {retract}
  </UNDERCARRIAGE>

  <PROPULSION>
    <!--
      Data source: {source}
    -->
    <AC_ENGINE FILE="{name}">
      XLOC  {X} <!-- inches -->
      YLOC  {Y} <!-- inches -->
      ZLOC  {Z} <!-- inches -->
      PITCH 0   <!-- degrees -->
      YAW   0   <!-- degrees -->
      FEED  0
      FEED  1
    </AC_ENGINE>
    <AC_THRUSTER FILE="{name}">
      XLOC  {X} <!-- inches -->
      YLOC  {Y} <!-- inches -->
      ZLOC  {Z} <!-- inches -->
      PITCH 0   <!-- degrees -->
      YAW   0   <!-- degrees -->
      P_FACTOR {factor}
      SENSE   {sense}
    </AC_THRUSTER>
    <AC_TANK TYPE="FUEL" NUMBER="0">
      XLOC  {X} <!-- inches -->
      YLOC  {Y} <!-- inches -->
      ZLOC  {Z} <!-- inches -->
      RADIUS {radius} <!-- inches -->
      CAPACITY {capacity} <!-- pounds -->
      CONTENTS {contents} <!-- pounds -->
    </AC_TANK>
    <AC_TANK TYPE="FUEL" NUMBER="1">
      XLOC  {X} <!-- inches -->
      YLOC  {Y} <!-- inches -->
      ZLOC  {Z} <!-- inches -->
      RADIUS {radius} <!-- inches -->
      CAPACITY {capacity} <!-- pounds -->
      CONTENTS {contents} <!-- pounds -->
    </AC_TANK>
  </PROPULSION>

  <FLIGHT_CONTROL NAME="{name}">
    <!--
      Data source: {source}
    -->
    <COMPONENT NAME="{name}" TYPE="{type}">
    </COMPONENT>
  </FLIGHT_CONTROL>

  <AERODYNAMICS>
    <!--
      Data sources: {sources}
    -->
    <AXIS NAME="LIFT">
      <COEFFICIENT NAME="{name}" TYPE="{type}">
        {description}
        {definition}
      </COEFFICIENT>
    </AXIS>
    <AXIS NAME="DRAG">
      <COEFFICIENT NAME="{name}" TYPE="{type}">
        {description}
        {definition}
      </COEFFICIENT>
    </AXIS>
    <AXIS NAME="SIDE">
      <COEFFICIENT NAME="{name}" TYPE="{type}">
        {description}
        {definition}
      </COEFFICIENT>
    </AXIS>
    <AXIS NAME="ROLL">
      <COEFFICIENT NAME="{name}" TYPE="{type}">
        {description}
        {definition}
      </COEFFICIENT>
    </AXIS>
    <AXIS NAME="PITCH">
      <COEFFICIENT NAME="{name}" TYPE="{type}">
        {description}
        {definition}
      </COEFFICIENT>
    </AXIS>
    <AXIS NAME="YAW">
      <COEFFICIENT NAME="{name}" TYPE="{type}">
        {description}
        {definition}
      </COEFFICIENT>
    </AXIS>
  </AERODYNAMICS>

  <OUTPUT NAME="{name}" TYPE="{type}">
    RATE_IN_HZ       {rate}
    SIMULATION       OFF
    ATMOSPHERE       ON
    MASSPROPS        ON
    AEROSURFACES     ON
    RATES            ON
    VELOCITIES       ON
    FORCES           ON
    MOMENTS          ON
    POSITION         ON
    COEFFICIENTS     ON
    GROUND_REACTIONS ON
    FCS              ON
    PROPULSION       ON
  </OUTPUT>
</FDM_CONFIG>

// This file instructs the automatic synchronization utilities where to
// install this aircraft and under what name.
//
// The syntax is easy;
// * the package name at the beginning of a new line followed by a colon
// * a space as a column separator
// * the path and filename relative to the aircraft install directory
//
// Currently known package names are: FlightGear

// Don't install in the FlightGear base package.
//FlightGear:
<?xml version="1.0"?>
<?xml-stylesheet type="text/xsl" href="http://jsbsim.sourceforge.net/JSBSim.xsl"?>
<fdm_config name="BALL" version="2.0" release="BETA"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:noNamespaceSchemaLocation="http://jsbsim.sourceforge.net/JSBSim.xsd">

    <fileheader>
      <author> Jon Berndt </author>
      <filecreationdate> 2004-06-01 </filecreationdate>
      <version> Version 1.0 </version>
      <description> Test file </description>
      <note>
        This model of a ball was created using publicly available data, publicly available
        technical reports, textbooks, testing, and guesses. It contains no proprietary or
        restricted data. If this model has been validated at all, it would be only to the
        extent that it seems to fly, bounce, roll, or be retrieved by a dog, in a plausible
        way, and that it possibly complies with published, publicly known, performance data
        (maximum bounce, endurance, etc.). Thus, this model is meant for educational and
        entertainment purposes only.

        This simulation model is not endorsed by the manufacturer. This model is not
        to be sold.
      </note>
    </fileheader>

    <metrics>
        <wingarea unit="FT2"> 1 </wingarea>
        <wingspan unit="FT"> 1 </wingspan>
        <chord unit="FT"> 1 </chord>
        <htailarea unit="FT2"> 0 </htailarea>
        <htailarm unit="FT"> 0 </htailarm>
        <vtailarea unit="FT2"> 0 </vtailarea>
        <vtailarm unit="FT"> 0 </vtailarm>
        <location name="AERORP" unit="IN">
            <x> 0 </x>
            <y> 0 </y>
            <z> 0 </z>
        </location>
        <location name="EYEPOINT" unit="IN">
            <x> 0 </x>
            <y> 0 </y>
            <z> 0 </z>
        </location>
        <location name="VRP" unit="IN">
            <x> 0 </x>
            <y> 0 </y>
            <z> 0 </z>
        </location>
    </metrics>

    <mass_balance>
        <ixx unit="SLUG*FT2"> 20 </ixx>
        <iyy unit="SLUG*FT2"> 10 </iyy>
        <izz unit="SLUG*FT2"> 10 </izz>
        <ixy unit="SLUG*FT2"> -0 </ixy>
        <ixz unit="SLUG*FT2"> -0 </ixz>
        <iyz unit="SLUG*FT2"> -0 </iyz>
        <emptywt unit="LBS"> 20000 </emptywt>
        <location name="CG" unit="IN">
            <x> 0 </x>
            <y> 0 </y>
            <z> 0 </z>
        </location>
        <pointmass name="M0">
            <weight unit="LBS"> 10 </weight>
            <location name="POINTMASS" unit="IN">
                <x> 0 </x>
                <y> 0 </y>
                <z> 0 </z>
            </location>
        </pointmass>
        <pointmass name="M1">
            <weight unit="LBS"> 0 </weight>
            <location name="POINTMASS" unit="FT">
                <x> 0 </x>
                <y> -5 </y>
                <z> 0 </z>
            </location>
        </pointmass>
    </mass_balance>

    <ground_reactions>
        <contact type="BOGEY" name="CONTACT">
            <location unit="IN">
                <x> 0 </x>
                <y> 0 </y>
                <z> 0 </z>
            </location>
            <static_friction> 0 </static_friction>
            <dynamic_friction> 0 </dynamic_friction>
            <rolling_friction> 0 </rolling_friction>
            <spring_coeff unit="LBS/FT"> 10000 </spring_coeff>
            <damping_coeff unit="LBS/FT/SEC"> 200000 </damping_coeff>
            <max_steer unit="DEG"> 0.0 </max_steer>
            <brake_group> NONE </brake_group>
            <retractable>0</retractable>
        </contact>
    </ground_reactions>

    <external_reactions>
      <!-- "Declare" the reefing term -->
      <property>fcs/parachute_reef_pos_norm</property>
      <property>propulsion/rocket_thrust</property>
      
      <force name="parachute" frame="WIND">
        <function>
          <product>
            <property>aero/qbar-psf</property>
            <property>fcs/parachute_reef_pos_norm</property>
            <value> 1.0 </value>  <!-- Full drag coefficient -->
            <value> 10000.0 </value> <!-- Full parachute area -->
          </product>
        </function>
        <!-- The location below is in structural frame (x positive
             aft), so this location describes a point 1 foot aft
             of the origin. In this case, the origin is the center. -->
        <location unit="FT">
          <x>1</x>
          <y>0</y>
          <z>0</z>
        </location>
        <!-- The direction describes a unit vector. In this case, since
             the selected frame is the WIND frame, the "-1" x component
             describes a direction exactly opposite of the direction
             into the WIND vector. That is, the direction specified below
             is the direction that the drag force acts in. -->
        <direction>
          <x> -1 </x>
          <y>  0 </y>
          <z>  0 </z>
        </direction>
      </force>

      <force name="rocket" frame="INERTIAL">
        <function>
          <property> propulsion/rocket_thrust </property>
        </function>
        <location unit="FT">
          <x>0</x>
          <y>0</y>
          <z>0</z>
        </location>
        <!-- The direction that the thrust acts in is defined below in the Pointing
             channel of the flight_control section, through the creation of a unit 
             pointing vector. That is, the direction specified below
             is the direction that the drag force acts in. -->
      </force>

    </external_reactions>

    <propulsion/>

    <flight_control name="FGFCS">
    
      <channel name="Pointing">
      
        <fcs_function name="propulsion/tvc_inertial_x">
          <function>
            <quotient>
              <property>  velocities/eci-x-fps            </property>
              <property>  velocities/eci-velocity-mag-fps </property>
            </quotient>
          </function>
          <output> external_reactions/rocket/x </output>
        </fcs_function>
      
        <fcs_function name="propulsion/tvc_inertial_y">
          <function>
            <quotient>
              <property>  velocities/eci-y-fps            </property>
              <property>  velocities/eci-velocity-mag-fps </property>
            </quotient>
          </function>
          <output> external_reactions/rocket/y </output>
        </fcs_function>

        <fcs_function name="propulsion/tvc_inertial_z">
          <function>
            <quotient>
              <property>  velocities/eci-z-fps            </property>
              <property>  velocities/eci-velocity-mag-fps </property>
            </quotient>
          </function>
          <output> external_reactions/rocket/z </output>
        </fcs_function>

      </channel>
    
    </flight_control>

    <aerodynamics>
        <axis name="DRAG">
            <function name="aero/coefficient/CD">
                <description>Drag</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <value>0.000</value>
                </product>
            </function>
        </axis>
    </aerodynamics>

    <output name="BallOut.csv" type="CSV" rate="1">
        <rates> ON </rates>
        <velocities> ON </velocities>
        <forces> ON </forces>
        <moments> ON </moments>
        <position> ON </position>
        <massprops> ON </massprops>
        <property> position/vrp-gc-latitude_deg </property>
        <property> position/vrp-longitude_deg </property>
        <property> position/vrp-radius-ft </property>

    </output>
</fdm_config>
<?xml version="1.0"?>
<initialize name="reset01" version="2.0">
  <!--
    This file sets up the spacecraft in a hig inclination elliptical orbit.
    2023-09-17T01:31:30.000 -4084.032825462220 -5429.695419910110 -0.556775951837 3.81325195203505 -2.85811815725326 6.00306592847078
  -->

  <position frame="ECI" unit="KM">
    <x> -4084.03   </x>
    <y> -5429.69   </y>
    <z>    -0.5567 </z>
  </position>

  <orientation unit="DEG" frame="LOCAL">
    <yaw>   90.0  </yaw>
  </orientation>

  <velocity unit="KM/SEC" frame="ECI">
    <x>  3.813252 </x>
    <y> -2.858118 </y>
    <z>  6.003066 </z>
  </velocity>

  <attitude_rate unit="DEG/SEC" frame="ECI">
    <y>  0.0 </y>
    <z>  0.0 </z>
  </attitude_rate>

</initialize>
<?xml version="1.0"?>
<initialize name="reset00">
  <!--
    This file sets up the ball in orbit.
    Velocity of Earth surface at equator:                   1525.92 ft/sec. at ground level.
    Velocity of Earth surface-synchronous point at equator: 1584.26 ft/sec. at 800 kft.
    1584.2593825 + 23869.9759596 = 25454.235342 ft/sec
  -->
  <ubody unit="FT/SEC"> 23869.9759596 </ubody> 
  <latitude unit="DEG">     0.0  </latitude>
  <longitude unit="DEG">    0.0  </longitude>
  <psi unit="DEG">         90.0  </psi>
  <altitude unit="FT"> 800000.0  </altitude>
</initialize>
<?xml version="1.0"?>
<initialize name="reset00" version="2.0">
  <!--
    This file sets up the spacecraft to start off
    at altitude and orbital velocity.
  -->

  <position frame="ECEF">
    <altitudeMSL unit="FT"> 800000.0  </altitudeMSL>
  </position>

  <orientation unit="DEG" frame="LOCAL">
    <yaw>   90.0  </yaw>
  </orientation>

  <velocity unit="FT/SEC" frame="BODY">
    <x> 23869.97834067227 </x> <!-- For use with WGS84 grav model -->
    <!--<x> 23889.145167 </x--> <!-- For use with standard grav model -->
  </velocity>

  <attitude_rate unit="DEG/SEC" frame="ECI">
    <x> 0.0 </x>
    <y> 0.0 </y>
    <z> 0.0 </z>
  </attitude_rate>

</initialize>
<?xml version="1.0"?>
<initialize name="reset00">
  <!--
    This file sets up the cannonball to fire.
  -->
  <ubody unit="FT/SEC">  500.0  </ubody>
  <vbody unit="FT/SEC">    0.0  </vbody>
  <wbody unit="FT/SEC">    0.0  </wbody>
  <latitude unit="DEG">    0.0  </latitude>
  <longitude unit="DEG">  90.0  </longitude>
  <phi unit="DEG">         0.0  </phi>
  <theta unit="DEG">      40.0  </theta>
  <psi unit="DEG">        40.0  </psi>
  <altitude unit="FT"> 10000.0  </altitude>
  <winddir unit="DEG">     0.0  </winddir>
  <vwind unit="FT/SEC">    0.0  </vwind>
</initialize>

<?xml version="1.0"?>
<initialize name="reset00" version="2.0">
  <!--
    This file sets up the spacecraft in a hig inclination elliptical orbit.
  -->

  <position frame="ECEF" unit="KM">
    <x> -2216.05436 </x>
    <y> -2837.09413 </y>
    <z> -6235.38291 </z>
  </position>

  <orientation unit="DEG" frame="LOCAL">
    <yaw>   90.0  </yaw>
  </orientation>

  <velocity unit="KM/SEC" frame="ECEF">
    <x>  6.938058 </x>
    <y> -5.419317 </y>
    <z>  0        </z>
  </velocity>

  <attitude_rate unit="DEG/SEC" frame="ECI">
    <y>  0.0 </y>
    <z>  0.0 </z>
  </attitude_rate>

</initialize>
// This file instructs the automatic synchronization utilities where to
// install this aircraft and under what name.
//
// The syntax is easy;
// * the package name at the beginning of a new line followed by a colon
// * a space as a column separator
// * the path and filename relative to the aircraft install directory
//
// Currently known package names are: FlightGear

// Don't install in the FlightGear base package.
//FlightGear:
<FDM_CONFIG NAME="T37" VERSION="1.65" RELEASE="ALPHA">
<METRICS>
  AC_WINGAREA 182.0
<!--  Roskam -->
  AC_WINGSPAN 33.83
<!--  Roskam -->
  AC_CHORD 5.47
<!--  Roskam  -->
  AC_HTAILAREA 31.77
  AC_HTAILARM 11.73
  AC_VTAILAREA 28.59
  AC_LV 11.73
  AC_IXX 7985
  AC_IYY 6000
  AC_IZZ 11183
  AC_IXZ 0
<!--  Roskam  -->
  AC_EMPTYWT 4337
<!--  Roskam defines 6360 -->
  AC_CGLOC 211.2 0.0 -8.8
  AC_AERORP 211.2 0.0 0.0
  AC_EYEPTLOC 70.4 0.0 38.0
</METRICS>
<UNDERCARRIAGE>
  AC_GEAR NOSE_LG 45.8 0.0 -42.2 1974.0 658.0 0.5 0.8 0.02 STEERABLE NONE 5.0 RETRACT
  AC_GEAR LEFT_MLG 221.8 -36.5 -42.2 6580.0 1316.0 0.5 0.8 0.02 FIXED LEFT 0 RETRACT
  AC_GEAR RIGHT_MLG 221.8 36.5 -42.2 6580.0 1316.0 0.5 0.8 0.02 FIXED RIGHT 0 RETRACT
</UNDERCARRIAGE>
<PROPULSION>
<AC_ENGINE FILE="J69-T25_sim">
  XLOC 291.996
  YLOC 0
  ZLOC 0
  PITCH 0
  YAW 0
  FEED 0
  <AC_THRUSTER FILE="direct">
    XLOC 291.996
    YLOC 0
    ZLOC 0
    PITCH 0
    YAW 0
  </AC_THRUSTER>
</AC_ENGINE>
<AC_TANK TYPE="FUEL" NUMBER="0">
  XLOC 211.1976
  YLOC 0
  ZLOC -8.8
  RADIUS 1
  CAPACITY 700.0
  CONTENTS 350.0
</AC_TANK>
</PROPULSION>
<FLIGHT_CONTROL NAME="T37">
</FLIGHT_CONTROL>
<AERODYNAMICS>
</AERODYNAMICS>
<OUTPUT NAME="test.csv" TYPE="CSV">
  RATE_IN_HZ       20
  SIMULATION       OFF
  ATMOSPHERE       ON
  MASSPROPS        ON
  AEROSURFACES     ON
  RATES            ON
  VELOCITIES       ON
  FORCES           ON
  MOMENTS          ON
  POSITION         ON
  COEFFICIENTS     ON
  GROUND_REACTIONS ON
  FCS              ON
  PROPULSION       ON
</OUTPUT>
</FDM_CONFIG>
<?xml version="1.0"?>
<initialize name="reset00">
  <!--
    This file sets up the aircraft to start off
    from the runway in preparation for takeoff.
  -->
  UBODY       0.0
  VBODY       0.0
  WBODY       0.0
  LATITUDE    0.0
  LONGITUDE   0.0
  PHI         0.0
  THETA       0.0
  PSI       150.0
  ALTITUDE   4.7 
</initialize>
// This file instructs the automatic synchronization utilities where to
// install this aircraft and under what name.
//
// The syntax is easy;
// * the package name at the beginning of a new line followed by a colon
// * a space as a column separator
// * the path and filename relative to the aircraft install directory
//
// Currently known package names are: FlightGear

FlightGear:
<?xml version="1.0"?>
<?xml-stylesheet type="text/xsl" href="http://jsbsim.sourceforge.net/JSBSim.xsl"?>
<fdm_config name="c172" version="2.0" release="BETA"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:noNamespaceSchemaLocation="http://jsbsim.sourceforge.net/JSBSim.xsd">

    <fileheader>
        <author> Unknown </author>
        <filecreationdate> 2002-01-01 </filecreationdate>
        <version> $Id: c172p.xml,v 1.29 2013/10/25 15:32:49 jentron Exp $ </version>
        <description> Cessna C-172 </description>
      <note>
        This model was created using publicly available data, publicly available
        technical reports, textbooks, and guesses. It contains no proprietary or
        restricted data. If this model has been validated at all, it would be
        only to the extent that it seems to "fly right", and that it possibly
        complies with published, publicly known, performance data (maximum speed,
        endurance, etc.). Thus, this model is meant for educational and entertainment
        purposes only.

        This simulation model is not endorsed by the manufacturer. This model is not
        to be sold.
      </note>
    </fileheader>

    <metrics>
        <wingarea unit="FT2"> 174 </wingarea>
        <wingspan unit="FT"> 35.8 </wingspan>
        <chord unit="FT"> 4.9 </chord>
        <htailarea unit="FT2"> 21.9 </htailarea>
        <htailarm unit="FT"> 15.7 </htailarm>
        <vtailarea unit="FT2"> 16.5 </vtailarea>
        <vtailarm unit="FT"> 0 </vtailarm>
        <location name="AERORP" unit="IN">
            <x> 43.2 </x>
            <y> 0 </y>
            <z> 59.4 </z>
        </location>
        <location name="EYEPOINT" unit="IN">
            <x> 37 </x>
            <y> 0 </y>
            <z> 48 </z>
        </location>
        <location name="VRP" unit="IN">
            <x> 42.6 </x>
            <y> 0 </y>
            <z> 38.5 </z>
        </location>
    </metrics>

    <mass_balance>
        <ixx unit="SLUG*FT2"> 948 </ixx>
        <iyy unit="SLUG*FT2"> 1346 </iyy>
        <izz unit="SLUG*FT2"> 1967 </izz>
        <ixy unit="SLUG*FT2"> -0 </ixy>
        <ixz unit="SLUG*FT2"> -0 </ixz>
        <iyz unit="SLUG*FT2"> -0 </iyz>
        <emptywt unit="LBS"> 1500 </emptywt>
        <location name="CG" unit="IN">
            <x> 41 </x>
            <y> 0 </y>
            <z> 36.5 </z>
        </location>
        <pointmass name="Pilot">
            <weight unit="LBS"> 180 </weight>
            <location name="POINTMASS" unit="IN">
                <x> 36 </x>
                <y> -14 </y>
                <z> 24 </z>
            </location>
        </pointmass>
        <pointmass name="Co-Pilot">
            <weight unit="LBS"> 0 </weight>
            <location name="POINTMASS" unit="IN">
                <x> 36 </x>
                <y> 14 </y>
                <z> 24 </z>
            </location>
        </pointmass>
        <pointmass name="Left Passenger">
            <weight unit="LBS"> 0 </weight>
            <location name="POINTMASS" unit="IN">
                <x> 70 </x>
                <y> -14 </y>
                <z> 24 </z>
            </location>
        </pointmass>
        <pointmass name="Right Passenger">
            <weight unit="LBS"> 0 </weight>
            <location name="POINTMASS" unit="IN">
                <x> 70 </x>
                <y> 14 </y>
                <z> 24 </z>
            </location>
        </pointmass>
        <pointmass name="Baggage">
            <weight unit="LBS"> 0 </weight>
            <location name="POINTMASS" unit="IN">
                <x> 95 </x>
                <y>  0 </y>
                <z> 24 </z>
            </location>
        </pointmass>
    </mass_balance>

    <ground_reactions>
        <contact type="BOGEY" name="NOSE">
            <location unit="IN">
                <x> -6.8 </x>
                <y> 0 </y>
                <z> -19.5</z>
            </location>
            <static_friction> 0.8 </static_friction>
            <dynamic_friction> 0.5 </dynamic_friction>
            <rolling_friction> 0.02 </rolling_friction>
            <spring_coeff unit="LBS/FT"> 1800 </spring_coeff>
            <damping_coeff unit="LBS/FT/SEC"> 600 </damping_coeff>
            <max_steer unit="DEG"> 10 </max_steer>
            <brake_group> NONE </brake_group>
            <retractable>0</retractable>
        </contact>
        <contact type="BOGEY" name="LEFT_MAIN">
            <location unit="IN">
                <x> 58.2 </x>
                <y> -43 </y>
                <z> -15.5 </z>
            </location>
            <static_friction> 0.8 </static_friction>
            <dynamic_friction> 0.5 </dynamic_friction>
            <rolling_friction> 0.02 </rolling_friction>
            <spring_coeff unit="LBS/FT"> 5400 </spring_coeff>
            <damping_coeff unit="LBS/FT/SEC"> 1600 </damping_coeff>
            <max_steer unit="DEG"> 0.0 </max_steer>
            <brake_group> LEFT </brake_group>
            <retractable>0</retractable>
        </contact>
        <contact type="BOGEY" name="RIGHT_MAIN">
            <location unit="IN">
                <x> 58.2 </x>
                <y> 43 </y>
                <z> -15.5 </z>
            </location>
            <static_friction> 0.8 </static_friction>
            <dynamic_friction> 0.5 </dynamic_friction>
            <rolling_friction> 0.02 </rolling_friction>
            <spring_coeff unit="LBS/FT"> 5400 </spring_coeff>
            <damping_coeff unit="LBS/FT/SEC"> 1600 </damping_coeff>
            <max_steer unit="DEG"> 0.0 </max_steer>
            <brake_group> RIGHT </brake_group>
            <retractable>0</retractable>
        </contact>
        <contact type="STRUCTURE" name="NOSE_SKID">
            <location unit="IN">
                <x> -37.7 </x>
                <y> 0 </y>
                <z> 26.6 </z>
            </location>
            <static_friction> 0.2 </static_friction>
            <dynamic_friction> 0.2 </dynamic_friction>
            <rolling_friction> 0.2 </rolling_friction>
            <spring_coeff unit="LBS/FT"> 20000 </spring_coeff>
            <damping_coeff unit="LBS/FT/SEC"> 2000 </damping_coeff>
        </contact>
        <contact type="STRUCTURE" name="TAIL_SKID">
            <location unit="IN">
                <x> 188 </x>
                <y> 0 </y>
                <z> 8 </z>
            </location>
            <static_friction> 0.2 </static_friction>
            <dynamic_friction> 0.2 </dynamic_friction>
            <rolling_friction> 0.2 </rolling_friction>
            <spring_coeff unit="LBS/FT"> 20000 </spring_coeff>
            <damping_coeff unit="LBS/FT/SEC"> 2000 </damping_coeff>
        </contact>
        <contact type="STRUCTURE" name="LEFT_TIP">
            <location unit="IN">
                <x> 43.2 </x>
                <y> -214.8 </y>
                <z> 59.4 </z>
            </location>
            <static_friction> 0.2 </static_friction>
            <dynamic_friction> 0.2 </dynamic_friction>
            <rolling_friction> 0.2 </rolling_friction>
            <spring_coeff unit="LBS/FT"> 20000 </spring_coeff>
            <damping_coeff unit="LBS/FT/SEC"> 2000 </damping_coeff>
        </contact>
        <contact type="STRUCTURE" name="RIGHT_TIP">
            <location unit="IN">
                <x> 43.2 </x>
                <y> 214.8 </y>
                <z> 59.4 </z>
            </location>
            <static_friction> 0.2 </static_friction>
            <dynamic_friction> 0.2 </dynamic_friction>
            <rolling_friction> 0.2 </rolling_friction>
            <spring_coeff unit="LBS/FT"> 20000 </spring_coeff>
            <damping_coeff unit="LBS/FT/SEC"> 2000 </damping_coeff>
        </contact>
    </ground_reactions>
    <propulsion>
        <engine file="eng_io320">
            <feed>0</feed>
            <feed>1</feed>
            <thruster file="prop_75in2f">
                <location unit="IN">
                    <x> -37.7 </x>
                    <y> 0 </y>
                    <z> 26.6 </z>
                </location>
                <orient unit="DEG">
                    <roll> 0.0 </roll>
                    <pitch> 0.0 </pitch>
                    <yaw> 0.0 </yaw>
                </orient>
                <sense> 1 </sense>
                <p_factor> 5 </p_factor>
            </thruster>
        </engine>
        <tank type="FUEL">    <!-- Tank number 0 -->
            <location unit="IN">
                <x> 56 </x>
                <y> -112 </y>
                <z> 59.4 </z>
            </location>
            <capacity unit="LBS"> 185 </capacity>
            <contents unit="LBS"> 100 </contents>
        </tank>
        <tank type="FUEL">    <!-- Tank number 1 -->
            <location unit="IN">
                <x> 56 </x>
                <y> 112 </y>
                <z> 59.4 </z>
            </location>
            <capacity unit="LBS"> 185 </capacity>
            <contents unit="LBS"> 100 </contents>
        </tank>
    </propulsion>
    <flight_control name="FCS: c172">
        <channel name="Pitch">
            <summer name="Pitch Trim Sum">
                <input>fcs/elevator-cmd-norm</input>
                <input>fcs/pitch-trim-cmd-norm</input>
                <clipto>
                    <min>-1</min>
                    <max>1</max>
                </clipto>
            </summer>

            <aerosurface_scale name="Elevator Control">
                <input>fcs/pitch-trim-sum</input>
                <gain>0.01745</gain>
                <range>
                    <min>-28</min>
                    <max>23</max>
                </range>
                <output>fcs/elevator-pos-rad</output>
            </aerosurface_scale>

            <aerosurface_scale name="Elevator Position Normalized">
                <input>fcs/elevator-pos-deg</input>
                <domain>
                    <min>-28</min>
                    <max>23</max>
                </domain>
                <range>
                    <min>-1</min>
                    <max>1</max>
                </range>
                <output>fcs/elevator-pos-norm</output>
            </aerosurface_scale>
        </channel>
        <channel name="Roll">
            <summer name="Roll Trim Sum">
                <input>fcs/aileron-cmd-norm</input>
                <input>fcs/roll-trim-cmd-norm</input>
                <clipto>
                    <min>-1</min>
                    <max>1</max>
                </clipto>
            </summer>

            <aerosurface_scale name="Left Aileron Control">
                <input>fcs/roll-trim-sum</input>
                <gain>0.01745</gain>
                <range>
                    <min>-20</min>
                    <max>15</max>
                </range>
                <output>fcs/left-aileron-pos-rad</output>
            </aerosurface_scale>

            <aerosurface_scale name="Left Aileron Position Normalized">
                <input>fcs/left-aileron-pos-deg</input>
                <domain>
                    <min>-20</min>
                    <max>15</max>
                </domain>
                <range>
                    <min>-1</min>
                    <max>1</max>
                </range>
                <output>fcs/left-aileron-pos-norm</output>
            </aerosurface_scale>

            <aerosurface_scale name="Right Aileron Control">
                <input>fcs/roll-trim-sum</input>
                <gain>-0.01745</gain>
                <range>
                    <min>-20</min>
                    <max>15</max>
                </range>
                <output>fcs/right-aileron-pos-rad</output>
            </aerosurface_scale>

            <aerosurface_scale name="Right Aileron Position Normalized">
                <input>fcs/right-aileron-pos-deg</input>
                <domain>
                    <min>-15</min>
                    <max>20</max>
                </domain>
                <range>
                    <min>1</min>
                    <max>-1</max>
                </range>
                <output>fcs/right-aileron-pos-norm</output>
            </aerosurface_scale>
        </channel>
        <channel name="Yaw">
            <summer name="Yaw Trim Sum">
                <input>fcs/rudder-cmd-norm</input>
                <input>fcs/yaw-trim-cmd-norm</input>
                <clipto>
                    <min>-1</min>
                    <max>1</max>
                </clipto>
            </summer>

            <aerosurface_scale name="Rudder Control">
                <input>fcs/yaw-trim-sum</input>
                <gain>0.01745</gain>
                <range>
                    <min>-16</min>
                    <max>16</max>
                </range>
                <output>fcs/rudder-pos-rad</output>
            </aerosurface_scale>

            <aerosurface_scale name="Rudder Position Normalized">
                <input>fcs/rudder-pos-deg</input>
                <domain>
                    <min>-16</min>
                    <max>16</max>
                </domain>
                <range>
                    <min>-1</min>
                    <max>1</max>
                </range>
                <output>fcs/rudder-pos-norm</output>
            </aerosurface_scale>
        </channel>
        <channel name="Flaps">
            <kinematic name="Flaps Control">
                <input>fcs/flap-cmd-norm</input>
                <traverse>
                    <setting>
                        <position>0</position>
                        <time>0</time>
                    </setting>
                    <setting>
                        <position>10</position>
                        <time>2</time>
                    </setting>
                    <setting>
                        <position>20</position>
                        <time>1</time>
                    </setting>
                    <setting>
                        <position>30</position>
                        <time>1</time>
                    </setting>
                </traverse>
                <output>fcs/flap-pos-deg</output>
            </kinematic>
            <aerosurface_scale name="Flap Position Normalizer">
              <input>fcs/flap-pos-deg</input>
              <domain>
                <min>0</min>  <!-- Flaps actual minimum position -->
                <max>30</max>  <!-- Flaps actual maximum position -->
              </domain>
              <range>
                <min>0</min>  <!-- Flaps normalized minimum position -->
                <max>1</max>  <!-- Flaps normalized maximum position -->
              </range>
              <output>fcs/flap-pos-norm</output>
            </aerosurface_scale>
        </channel>
    </flight_control>
    <aerodynamics>

        <alphalimits unit="RAD">
            <min>-0.087</min>
            <max>0.28</max>
        </alphalimits>

        <hysteresis_limits unit="RAD">
            <min>0.09</min>
            <max>0.36</max>
        </hysteresis_limits>

        <function name="aero/function/kCDge">
            <description>Change_in_drag_due_to_ground_effect</description>
            <table>
                <independentVar>aero/h_b-mac-ft</independentVar>
                <tableData>
                    0.0000	0.4800
                    0.1000	0.5150
                    0.1500	0.6290
                    0.2000	0.7090
                    0.3000	0.8150
                    0.4000	0.8820
                    0.5000	0.9280
                    0.6000	0.9620
                    0.7000	0.9880
                    0.8000	1.0000
                    0.9000	1.0000
                    1.0000	1.0000
                    1.1000	1.0000
                </tableData>
            </table>
        </function>

        <function name="aero/function/kCLge">
            <description>Change_in_lift_due_to_ground_effect</description>
            <table>
                <independentVar>aero/h_b-mac-ft</independentVar>
                <tableData>
                    0.0000	1.2030
                    0.1000	1.1270
                    0.1500	1.0900
                    0.2000	1.0730
                    0.3000	1.0460
                    0.4000	1.0550
                    0.5000	1.0190
                    0.6000	1.0130
                    0.7000	1.0080
                    0.8000	1.0060
                    0.9000	1.0030
                    1.0000	1.0020
                    1.1000	1.0000
                </tableData>
            </table>
        </function>

 <function name="aero/function/velocity-induced-fps">
  <description> velocity including the propulsion induced velocity.</description>
  <sum>
   <property>velocities/u-aero-fps</property>
   <property>propulsion/engine/prop-induced-velocity_fps</property>
   <property>propulsion/engine/prop-induced-velocity_fps</property>
  </sum>
 </function> 

 <function name="aero/function/qbar-induced-psf">
  <description> q bar including the propulsion induced velocity.</description>
  <product>
   <property>aero/function/velocity-induced-fps</property>
   <property>aero/function/velocity-induced-fps</property>
   <property>atmosphere/rho-slugs_ft3</property>
   <value>0.5</value>
  </product>
 </function> 

        <axis name="DRAG">
            <function name="aero/coefficient/CDo">
                <description>Drag_at_zero_lift</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <value>0.027</value>
                </product>
            </function>
            <function name="aero/coefficient/CDDf">
                <description>Delta_drag_due_to_flap_deflection</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>aero/function/kCDge</property>
                      <table>
                          <independentVar>fcs/flap-pos-deg</independentVar>
                          <tableData>
                              0.0000	0.0000
                              10.0000	0.0070
                              20.0000	0.0120
                              30.0000	0.0180
                          </tableData>
                      </table>
                </product>
            </function>
            <function name="aero/coefficient/CDwbh">
                <description>Drag_due_to_alpha</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>aero/function/kCDge</property>
                      <table>
                          <independentVar lookup="row">aero/alpha-rad</independentVar>
                          <independentVar lookup="column">fcs/flap-pos-deg</independentVar>
                          <tableData>
                                0.0000	10.0000	20.0000	30.0000
                              -0.0873	0.0041	0.0000	0.0005	0.0014
                              -0.0698	0.0013	0.0004	0.0025	0.0041
                              -0.0524	0.0001	0.0023	0.0059	0.0084
                              -0.0349	0.0003	0.0057	0.0108	0.0141
                              -0.0175	0.0020	0.0105	0.0172	0.0212
                              0.0000	0.0052	0.0168	0.0251	0.0299
                              0.0175	0.0099	0.0248	0.0346	0.0402
                              0.0349	0.0162	0.0342	0.0457	0.0521
                              0.0524	0.0240	0.0452	0.0583	0.0655
                              0.0698	0.0334	0.0577	0.0724	0.0804
                              0.0873	0.0442	0.0718	0.0881	0.0968
                              0.1047	0.0566	0.0874	0.1053	0.1148
                              0.1222	0.0706	0.1045	0.1240	0.1343
                              0.1396	0.0860	0.1232	0.1442	0.1554
                              0.1571	0.0962	0.1353	0.1573	0.1690
                              0.1745	0.1069	0.1479	0.1708	0.1830
                              0.1920	0.1180	0.1610	0.1849	0.1975
                              0.2094	0.1298	0.1746	0.1995	0.2126
                              0.2269	0.1424	0.1892	0.2151	0.2286
                              0.2443	0.1565	0.2054	0.2323	0.2464
                              0.2618	0.1727	0.2240	0.2521	0.2667
                              0.2793	0.1782	0.2302	0.2587	0.2735
                              0.2967	0.1716	0.2227	0.2507	0.2653
                              0.3142	0.1618	0.2115	0.2388	0.2531
                              0.3316	0.1475	0.1951	0.2214	0.2351
                              0.3491	0.1097	0.1512	0.1744	0.1866
                          </tableData>
                      </table>
                </product>
            </function>
            <function name="aero/coefficient/CDDe">
                <description>Drag_due_to_Elevator_Deflection</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>fcs/mag-elevator-pos-rad</property>
                    <value>0.06</value>
                </product>
            </function>
            <function name="aero/coefficient/CDbeta">
                <description>Drag_due_to_sideslip</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>aero/mag-beta-rad</property>
                    <value>0.1700</value>
                </product>
            </function>
        </axis>

        <axis name="SIDE">
            <function name="aero/coefficient/CYb">
                <description>Side_force_due_to_beta</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                      <table>
                          <independentVar lookup="row">aero/beta-rad</independentVar>
                          <independentVar lookup="column">fcs/flap-pos-deg</independentVar>
                          <tableData>
                                0.0000	30.0000
                              -0.3490	0.1370	0.1060
                              0.0000	0.0000	0.0000
                              0.3490	-0.1370	-0.1060
                          </tableData>
                      </table>
                </product>
            </function>
            <function name="aero/coefficient/CYda">
                <description>Side_force_due_to_aileron</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>fcs/left-aileron-pos-rad</property>
                    <value>0.0000</value>
                </product>
            </function>
            <function name="aero/coefficient/CYdr">
                <description>Side_force_due_to_rudder</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>fcs/rudder-pos-rad</property>
                    <value>0.1870</value>
                </product>
            </function>
            <function name="aero/coefficient/CYp">
                <description>Side_force_due_to_roll_rate</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>aero/bi2vel</property>
                    <property>velocities/p-aero-rad_sec</property>
                      <table>
                          <independentVar lookup="row">aero/alpha-rad</independentVar>
                          <independentVar lookup="column">fcs/flap-pos-deg</independentVar>
                          <tableData>
                                0.0000	30.0000
                              0.0000	-0.0750	-0.1610
                              0.0940	-0.1450	-0.2310
                          </tableData>
                      </table>
                </product>
            </function>
            <function name="aero/coefficient/CYr">
                <description>Side_force_due_to_yaw_rate</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>aero/bi2vel</property>
                    <property>velocities/r-aero-rad_sec</property>
                      <table>
                          <independentVar lookup="row">aero/alpha-rad</independentVar>
                          <independentVar lookup="column">fcs/flap-pos-deg</independentVar>
                          <tableData>
                                0.0000	30.0000
                              0.0000	0.2140	0.1620
                              0.0940	0.2670	0.2150
                          </tableData>
                      </table>
                </product>
            </function>
        </axis>

        <axis name="LIFT">
            <function name="aero/coefficient/CLwbh">
                <description>Lift_due_to_alpha</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>aero/function/kCLge</property>
                      <table>
                          <independentVar lookup="row">aero/alpha-rad</independentVar>
                          <independentVar lookup="column">aero/stall-hyst-norm</independentVar>
                          <tableData>
                                0.0000	1.0000
                              -0.0900	-0.2200	-0.2200
                              0.0000	0.2500	0.2500
                              0.0900	0.7300	0.7300
                              0.1000	0.8300	0.7800
                              0.1200	0.9200	0.7900
                              0.1400	1.0200	0.8100
                              0.1600	1.0800	0.8200
                              0.1700	1.1300	0.8300
                              0.1900	1.1900	0.8500
                              0.2100	1.2500	0.8600
                              0.2400	1.3500	0.8800
                              0.2600	1.4400	0.9000
                              0.2800	1.4700	0.9200
                              0.3000	1.4300	0.9500
                              0.3200	1.3800	0.9900
                              0.3400	1.3000	1.0500
                              0.3600	1.1500	1.1500
                          </tableData>
                      </table>
                </product>
            </function>
            <function name="aero/coefficient/CLDf">
                <description>Delta_lift_due_to_flap_deflection</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>aero/function/kCLge</property>
                      <table>
                          <independentVar>fcs/flap-pos-deg</independentVar>
                          <tableData>
                              0.0000	0.0000
                              10.0000	0.2000
                              20.0000	0.3000
                              30.0000	0.3500
                          </tableData>
                      </table>
                </product>
            </function>
            <function name="aero/coefficient/CLDe">
                <description>Lift_due_to_Elevator_Deflection</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>fcs/elevator-pos-rad</property>
                    <value>0.4300</value>
                </product>
            </function>
            <function name="aero/coefficient/CLadot">
                <description>Lift_due_to_alpha_rate</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>aero/alphadot-rad_sec</property>
                    <property>aero/ci2vel</property>
                    <value>1.7000</value>
                </product>
            </function>
            <function name="aero/coefficient/CLq">
                <description>Lift_due_to_pitch_rate</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>velocities/q-aero-rad_sec</property>
                    <property>aero/ci2vel</property>
                    <value>3.9000</value>
                </product>
            </function>
        </axis>

        <axis name="ROLL">
            <function name="aero/coefficient/Clb">
                <description>Roll_moment_due_to_beta</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                      <table>
                          <independentVar>aero/beta-rad</independentVar>
                          <tableData>
                              -0.3490	0.0322
                              0.0000	0.0000
                              0.3490	-0.0322
                          </tableData>
                      </table>
                </product>
            </function>
            <function name="aero/coefficient/Clp">
                <description>Roll_moment_due_to_roll_rate_(roll_damping)</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>aero/bi2vel</property>
                    <property>velocities/p-aero-rad_sec</property>
                    <value>-0.4840</value>
                </product>
            </function>
            <function name="aero/coefficient/Clr">
                <description>Roll_moment_due_to_yaw_rate</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>aero/bi2vel</property>
                    <property>velocities/r-aero-rad_sec</property>
                      <table>
                          <independentVar lookup="row">aero/alpha-rad</independentVar>
                          <independentVar lookup="column">fcs/flap-pos-deg</independentVar>
                          <tableData>
                                0.0000	30.0000
                              0.0000	0.0798	0.1246
                              0.0940	0.1869	0.2317
                          </tableData>
                      </table>
                </product>
            </function>
            <function name="aero/coefficient/ClDa">
                <description>Roll_moment_due_to_aileron</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>fcs/left-aileron-pos-rad</property>
                    <value>0.2290</value>
                </product>
            </function>
            <function name="aero/coefficient/Cldr">
                <description>Roll_moment_due_to_rudder</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>fcs/rudder-pos-rad</property>
                    <value>0.0147</value>
                </product>
            </function>
        </axis>

        <axis name="PITCH">
            <function name="aero/coefficient/Cmo">
                <description>Pitching_moment_at_zero_alpha</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/cbarw-ft</property>
                    <value>0.1000</value>
                </product>
            </function>
            <function name="aero/coefficient/Cmalpha">
                <description>Pitch_moment_due_to_alpha</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/cbarw-ft</property>
                    <property>aero/alpha-rad</property>
                    <value>-1.8000</value>
                </product>
            </function>
            <function name="aero/coefficient/Cmq">
                <description>Pitch_moment_due_to_pitch_rate</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/cbarw-ft</property>
                    <property>aero/ci2vel</property>
                    <property>velocities/q-aero-rad_sec</property>
                    <value>-12.4000</value>
                </product>
            </function>
            <function name="aero/coefficient/Cmadot">
                <description>Pitch_moment_due_to_alpha_rate</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/cbarw-ft</property>
                    <property>aero/ci2vel</property>
                    <property>aero/alphadot-rad_sec</property>
                    <value>-7.2700</value>
                </product>
            </function>
            <function name="aero/coefficient/Cmde">
                <description>Pitch_moment_due_to_elevator_deflection</description>
                <product>
                    <property>aero/function/qbar-induced-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/cbarw-ft</property>
                    <property>fcs/elevator-pos-rad</property>
                    <value>-1.1220</value>
                </product>
            </function>
            <function name="aero/coefficient/Cmdf">
                <description>Delta_pitching_moment_due_to_flap_deflection</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/cbarw-ft</property>
                      <table>
                          <independentVar>fcs/flap-pos-deg</independentVar>
                          <tableData>
                              0.0000	0.0000
                              10.0000	-0.0654
                              20.0000	-0.0981
                              30.0000	-0.1140
                          </tableData>
                      </table>
                </product>
            </function>
        </axis>

        <axis name="YAW">
            <function name="aero/coefficient/Cnb">
                <description>Yaw_moment_due_to_beta</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                      <table>
                          <independentVar>aero/beta-rad</independentVar>
                          <tableData>
                              -0.3490	-0.0205
                              0.0000	0.0000
                              0.3490	0.0205
                          </tableData>
                      </table>
                </product>
            </function>
            <function name="aero/coefficient/Cnp">
                <description>Yaw_moment_due_to_roll_rate</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>aero/bi2vel</property>
                    <property>velocities/p-aero-rad_sec</property>
                    <value>-0.0278</value>
                </product>
            </function>
            <function name="aero/coefficient/Cnr">
                <description>Yaw_moment_due_to_yaw_rate</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>aero/bi2vel</property>
                    <property>velocities/r-aero-rad_sec</property>
                    <value>-0.0937</value>
                </product>
            </function>
            <function name="aero/coefficient/Cnda">
                <description>Yaw_moment_due_to_aileron</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>fcs/left-aileron-pos-rad</property>
                    <value>-0.0053</value>
                </product>
            </function>
            <function name="aero/coefficient/Cndr">
                <description>Yaw_moment_due_to_rudder</description>
                <product>
                    <property>aero/function/qbar-induced-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>fcs/rudder-pos-rad</property>
                    <value>-0.0430</value>
                </product>
            </function>
        </axis>
    </aerodynamics>
<!--
    <output name="JSBout172C.csv" type="CSV" rate="60">
      <property> aero/qbar-psf </property>
      <property> accelerations/udot-ft_sec2 </property>
      <property> accelerations/vdot-ft_sec2 </property>
      <property> accelerations/wdot-ft_sec2 </property>
      <property> accelerations/a-pilot-x-ft_sec2 </property>
      <property> accelerations/a-pilot-y-ft_sec2 </property>
      <property> accelerations/a-pilot-z-ft_sec2 </property>
      <property> accelerations/n-pilot-x-norm    </property>
      <property> accelerations/n-pilot-y-norm    </property>
      <property> accelerations/n-pilot-z-norm    </property>
      <rates> ON </rates>
      <velocities> ON </velocities>
      <forces> ON </forces>
      <moments> ON </moments>
      <position> ON </position>
      <fcs> OFF </fcs>
      <propulsion> OFF </propulsion>
      <aerosurfaces> OFF </aerosurfaces>
      <fcs> OFF </fcs>
      <ground_reactions> OFF </ground_reactions>
    </output>
-->
</fdm_config>
<?xml version="1.0"?>
<initialize name="reset00">
  <!--
    This file sets up the aircraft to start off
    from the runway in preparation for takeoff.
  -->
  <ubody>       0.0 </ubody>
  <vbody>       0.0 </vbody>
  <wbody>       0.0 </wbody>
  <latitude unit="DEG">   47.0 </latitude>
  <longitude unit="DEG"> 122.0 </longitude>
  <phi unit="DEG">         0.0 </phi>
  <theta unit="DEG">       0.0 </theta>
  <psi unit="DEG">       150.0 </psi>
  <altitude>   4.7  </altitude>
</initialize>
<?xml version="1.0"?>
<initialize name="reset01">
  <!--
    This file sets up the aircraft to start off
    from the runway in preparation for takeoff.
  -->
  <ubody>       0.0 </ubody>
  <vbody>       0.0 </vbody>
  <wbody>       0.0 </wbody>
  <latitude unit="DEG">   47.0 </latitude>
  <longitude unit="DEG"> 122.0 </longitude>
  <phi>         0.0 </phi>
  <theta>       0.0 </theta>
  <psi unit="DEG">       150.0 </psi>
  <altitude>    2000.00 </altitude>
  <hwind>        0.0 </hwind>
  <xwind>        0.0 </xwind>
  <vc>          90.0 </vc>
  <gamma unit="DEG">        3.0 </gamma>
</initialize>
// This file instructs the automatic synchronization utilities where to
// install this aircraft and under what name.
//
// The syntax is easy;
// * the package name at the beginning of a new line followed by a colon
// * a space as a column separator
// * the path and filename relative to the aircraft install directory
//
// Currently known package names are: FlightGear

FlightGear:
Here are some performance figures for a Cessna 172R with one 160HP
engine.  Could someone with access to a POH check these?

From the FAA TCDS
-----------------

Va1 (maneuvering): 99 KIAS
Vno (max structural cruising): 129 KIAS
Vne (never exceed): 163 KIAS
Vfe (flaps extended): 85 KIAS


From a separate FAA document
----------------------------

Maximum speed at sea level: 123 kt
Cruise, 80% power at 8,000 ft: 122 kt (TAS?)
Range, 80% power at 8,000 ft: 580 nm
Range, 60% power at 10,000 ft: 687 nm
Time, 80% power at 8,000 ft: 4.8 hr
Time, 60% power at 10,000 ft: 6.6 hr
Climb rate at sea level: 720 fpm
Service ceiling: 13,500 ft
Takeoff distance, ground roll: 945 ft
Takeoff distance, over 50 ft obstacle: 1,685 ft
Landing distance, ground roll: 550 ft
Landing distance, over 50 ft obstacle: 1,295 ft
Stall speed, power off, no flaps: 51 KCAS
Stall speed, power off, full flaps: 47 KCAS
Maximum takeoff/landing weight: 2,450 lb


From unofficial sources
-----------------------

Vx (best angle of climb): 60 KIAS (elsewhere noted as 65 KIAS)
Vy (best rate of climb): 79 KIAS
Va (maneuvering speed) at 2,450 lb: 99 KIAS
Va (maneuvering speed) at 2,000 lb: 92 KIAS
Va (maneuvering speed) at 1,600 lb: 81 KIAS
<?xml version="1.0"?>
<?xml-stylesheet type="text/xsl" href="http://jsbsim.sourceforge.net/JSBSim.xsl"?>
<fdm_config name="c172" version="2.0" release="BETA"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:noNamespaceSchemaLocation="http://jsbsim.sourceforge.net/JSBSim.xsd">

    <fileheader>
        <author> Unknown </author>
        <filecreationdate> 2002-01-01 </filecreationdate>
        <version> $Id: c172r.xml,v 1.20 2012/12/22 15:22:20 jberndt Exp $ </version>
        <description> Cessna C-172r </description>
      <note>
        This model was created using publicly available data, publicly available
        technical reports, textbooks, and guesses. It contains no proprietary or
        restricted data. If this model has been validated at all, it would be
        only to the extent that it seems to "fly right", and that it possibly
        complies with published, publicly known, performance data (maximum speed,
        endurance, etc.). Thus, this model is meant for educational and entertainment
        purposes only.

        This simulation model is not endorsed by the manufacturer. This model is not
        to be sold.
      </note>
    </fileheader>

    <metrics>
        <wingarea unit="FT2"> 174 </wingarea>
        <wingspan unit="FT"> 36.1 </wingspan>
        <chord unit="FT"> 4.9 </chord>
        <htailarea unit="FT2"> 21.9 </htailarea>
        <htailarm unit="FT"> 15.7 </htailarm>
        <vtailarea unit="FT2"> 16.5 </vtailarea>
        <vtailarm unit="FT"> 0 </vtailarm>
        <location name="AERORP" unit="IN">
            <x> 40.6 </x>
            <y> 0 </y>
            <z> 59.4 </z>
        </location>
        <location name="EYEPOINT" unit="IN">
            <x> 37 </x>
            <y> 0 </y>
            <z> 48 </z>
        </location>
        <location name="VRP" unit="IN">
            <x> 42.6 </x>
            <y> 0 </y>
            <z> 38.5 </z>
        </location>
    </metrics>

    <mass_balance>
        <ixx unit="SLUG*FT2"> 948 </ixx>
        <iyy unit="SLUG*FT2"> 1346 </iyy>
        <izz unit="SLUG*FT2"> 1967 </izz>
        <emptywt unit="LBS"> 1620 </emptywt>
        <location name="CG" unit="IN">
            <x> 39 </x>
            <y> 0 </y>
            <z> 36.5 </z>
        </location>
        <pointmass name="name">
            <weight unit="LBS"> 180 </weight>
            <location name="POINTMASS" unit="IN">
                <x> 36 </x>
                <y> -14 </y>
                <z> 24 </z>
            </location>
        </pointmass>
        <pointmass name="name">
            <weight unit="LBS"> 180 </weight>
            <location name="POINTMASS" unit="IN">
                <x> 36 </x>
                <y> 14 </y>
                <z> 24 </z>
            </location>
        </pointmass>
        <pointmass name="name">
            <weight unit="LBS"> 120 </weight>
            <location name="POINTMASS" unit="IN">
                <x> 95 </x>
                <y> 0 </y>
                <z> 24 </z>
            </location>
        </pointmass>
    </mass_balance>

    <ground_reactions>
        <contact type="BOGEY" name="NOSE">
            <location unit="IN">
                <x> -6.8 </x>
                <y> 0 </y>
                <z> -20 </z>
            </location>
            <static_friction> 0.8 </static_friction>
            <dynamic_friction> 0.5 </dynamic_friction>
            <rolling_friction> 0.02 </rolling_friction>
            <spring_coeff unit="LBS/FT"> 1800 </spring_coeff>
            <damping_coeff unit="LBS/FT/SEC"> 600 </damping_coeff>
            <max_steer unit="DEG"> 10 </max_steer>
            <brake_group> NONE </brake_group>
            <retractable>0</retractable>
        </contact>
        <contact type="BOGEY" name="LEFT_MAIN">
            <location unit="IN">
                <x> 58.2 </x>
                <y> -43 </y>
                <z> -17.9 </z>
            </location>
            <static_friction> 0.8 </static_friction>
            <dynamic_friction> 0.5 </dynamic_friction>
            <rolling_friction> 0.02 </rolling_friction>
            <spring_coeff unit="LBS/FT"> 5400 </spring_coeff>
            <damping_coeff unit="LBS/FT/SEC"> 1600 </damping_coeff>
            <max_steer unit="DEG"> 0.0 </max_steer>
            <brake_group> LEFT </brake_group>
            <retractable>0</retractable>
        </contact>
        <contact type="BOGEY" name="RIGHT_MAIN">
            <location unit="IN">
                <x> 58.2 </x>
                <y> 43 </y>
                <z> -17.9 </z>
            </location>
            <static_friction> 0.8 </static_friction>
            <dynamic_friction> 0.5 </dynamic_friction>
            <rolling_friction> 0.02 </rolling_friction>
            <spring_coeff unit="LBS/FT"> 5400 </spring_coeff>
            <damping_coeff unit="LBS/FT/SEC"> 1600 </damping_coeff>
            <max_steer unit="DEG"> 0.0 </max_steer>
            <brake_group> RIGHT </brake_group>
            <retractable>0</retractable>
        </contact>
        <contact type="BOGEY" name="TAIL_SKID">
            <location unit="IN">
                <x> 188 </x>
                <y> 0 </y>
                <z> 8 </z>
            </location>
            <static_friction> 0.2 </static_friction>
            <dynamic_friction> 0.2 </dynamic_friction>
            <rolling_friction> 0.2 </rolling_friction>
            <spring_coeff unit="LBS/FT"> 20000 </spring_coeff>
            <damping_coeff unit="LBS/FT/SEC"> 1000 </damping_coeff>
            <max_steer unit="DEG"> 0.0 </max_steer>
            <brake_group> NONE </brake_group>
            <retractable>0</retractable>
        </contact>
        <contact type="BOGEY" name="LEFT_TIP">
            <location unit="IN">
                <x> 43.2 </x>
                <y> -214.8 </y>
                <z> 59.4 </z>
            </location>
            <static_friction> 0.2 </static_friction>
            <dynamic_friction> 0.2 </dynamic_friction>
            <rolling_friction> 0.2 </rolling_friction>
            <spring_coeff unit="LBS/FT"> 10000 </spring_coeff>
            <damping_coeff unit="LBS/FT/SEC"> 2000 </damping_coeff>
            <max_steer unit="DEG"> 0.0 </max_steer>
            <brake_group> NONE </brake_group>
            <retractable>0</retractable>
        </contact>
        <contact type="BOGEY" name="RIGHT_TIP">
            <location unit="IN">
                <x> 43.2 </x>
                <y> 214.8 </y>
                <z> 59.4 </z>
            </location>
            <static_friction> 0.2 </static_friction>
            <dynamic_friction> 0.2 </dynamic_friction>
            <rolling_friction> 0.2 </rolling_friction>
            <spring_coeff unit="LBS/FT"> 10000 </spring_coeff>
            <damping_coeff unit="LBS/FT/SEC"> 2000 </damping_coeff>
            <max_steer unit="DEG"> 0.0 </max_steer>
            <brake_group> NONE </brake_group>
            <retractable>0</retractable>
        </contact>
    </ground_reactions>
    <propulsion>
        <engine file="engIO360C">
            <feed>0</feed>
            <feed>1</feed>
            <thruster file="prop_Clark_Y7570">
                <location unit="IN">
                    <x> -37.7 </x>
                    <y> 0 </y>
                    <z> 26.6 </z>
                </location>
                <orient unit="DEG">
                    <roll> 0.0 </roll>
                    <pitch> 0.0 </pitch>
                    <yaw> 0.0 </yaw>
                </orient>
                <sense> 1 </sense>
                <p_factor> 10 </p_factor>
            </thruster>
        </engine>
        <tank type="FUEL">    <!-- Tank number 0 -->
            <location unit="IN">
                <x> 48 </x>
                <y> -112 </y>
                <z> 59.4 </z>
            </location>
            <capacity unit="LBS"> 168 </capacity>
            <contents unit="LBS"> 168 </contents>
        </tank>
        <tank type="FUEL">    <!-- Tank number 1 -->
            <location unit="IN">
                <x> 48 </x>
                <y> 112 </y>
                <z> 59.4 </z>
            </location>
            <capacity unit="LBS"> 168 </capacity>
            <contents unit="LBS"> 168 </contents>
        </tank>
    </propulsion>
    <flight_control name="FCS: c172">
        <channel name="Pitch">
            <summer name="Pitch Trim Sum">
                <input>fcs/elevator-cmd-norm</input>
                <input>fcs/pitch-trim-cmd-norm</input>
                <clipto>
                    <min>-1</min>
                    <max>1</max>
                </clipto>
            </summer>

            <aerosurface_scale name="Elevator Control">
                <input>fcs/pitch-trim-sum</input>
                <gain>0.01745</gain>
                <range>
                    <min>-28</min>
                    <max>23</max>
                </range>
                <output>fcs/elevator-pos-rad</output>
            </aerosurface_scale>

            <aerosurface_scale name="Elevator Position Normalized">
                <input>fcs/elevator-pos-deg</input>
                <domain>
  	            <min>-28</min>
  	            <max>23</max>
                </domain>
                <range>
                    <min>-1</min>
                    <max>1</max>
                </range>
                <output>fcs/elevator-pos-norm</output>
            </aerosurface_scale>
        </channel>
        <channel name="Roll">
            <summer name="Roll Trim Sum">
                <input>fcs/aileron-cmd-norm</input>
                <input>fcs/roll-trim-cmd-norm</input>
                <clipto>
                    <min>-1</min>
                    <max>1</max>
                </clipto>
            </summer>

            <aerosurface_scale name="Left Aileron Control">
                <input>fcs/roll-trim-sum</input>
                <gain>0.01745</gain>
                <range>
                    <min>-20</min>
                    <max>15</max>
                </range>
                <output>fcs/left-aileron-pos-rad</output>
            </aerosurface_scale>

            <aerosurface_scale name="Left Aileron Position Normalized">
                <input>fcs/left-aileron-pos-deg</input>
                <domain>
  	            <min>-20</min>
  	            <max>15</max>
                </domain>
                <range>
                    <min>-1</min>
                    <max>1</max>
                </range>
                <output>fcs/left-aileron-pos-norm</output>
            </aerosurface_scale>

            <aerosurface_scale name="Right Aileron Control">
                <input>fcs/roll-trim-sum</input>
                <gain>-0.01745</gain>
                <range>
                    <min>-20</min>
                    <max>15</max>
                </range>
                <output>fcs/right-aileron-pos-rad</output>
            </aerosurface_scale>

            <aerosurface_scale name="Right Aileron Position Normalized">
                <input>fcs/right-aileron-pos-deg</input>
                <domain>
  	            <min>-15</min>
  	            <max>20</max>
                </domain>
                <range>
                    <min>1</min>
                    <max>-1</max>
                </range>
                <output>fcs/right-aileron-pos-norm</output>
            </aerosurface_scale>
        </channel>
        <channel name="Yaw">
            <summer name="Yaw Trim Sum">
                <input>fcs/rudder-cmd-norm</input>
                <input>fcs/yaw-trim-cmd-norm</input>
                <clipto>
                    <min>-1</min>
                    <max>1</max>
                </clipto>
            </summer>

            <aerosurface_scale name="Rudder Control">
                <input>fcs/yaw-trim-sum</input>
                <gain>0.01745</gain>
                <range>
                    <min>-16</min>
                    <max>16</max>
                </range>
                <output>fcs/rudder-pos-rad</output>
            </aerosurface_scale>

            <aerosurface_scale name="Rudder Position Normalized">
                <input>fcs/rudder-pos-deg</input>
                <domain>
  	            <min>-16</min>
  	            <max>16</max>
                </domain>
                <range>
                    <min>-1</min>
                    <max>1</max>
                </range>
                <output>fcs/rudder-pos-norm</output>
            </aerosurface_scale>
        </channel>
        <channel name="Flaps">
            <kinematic name="Flaps Control">
                <input>fcs/flap-cmd-norm</input>
                <traverse>
                    <setting>
                        <position>0</position>
                        <time>0</time>
                    </setting>
                    <setting>
                        <position>10</position>
                        <time>2</time>
                    </setting>
                    <setting>
                        <position>20</position>
                        <time>1</time>
                    </setting>
                    <setting>
                        <position>30</position>
                        <time>1</time>
                    </setting>
                </traverse>
                <output>fcs/flap-pos-deg</output>
            </kinematic>
            <aerosurface_scale name="Flap Position Normalizer">
              <input>fcs/flap-pos-deg</input>
              <domain>
                <min>0</min>  <!-- Flaps actual minimum position -->
                <max>30</max>  <!-- Flaps actual maximum position -->
              </domain>
              <range>
                <min>0</min>  <!-- Flaps normalized minimum position -->
                <max>1</max>  <!-- Flaps normalized maximum position -->
              </range>
              <output>fcs/flap-pos-norm</output>
            </aerosurface_scale>
        </channel>
    </flight_control>
    <aerodynamics>

        <function name="aero/function/kCDge">
            <description>Change_in_drag_due_to_ground_effect</description>
            <table>
                <independentVar>aero/h_b-mac-ft</independentVar>
                <tableData>
                    0.0000	0.0480
                    0.1000	0.5150
                    0.1500	0.6290
                    0.2000	0.7090
                    0.3000	0.8150
                    0.4000	0.8820
                    0.5000	0.9280
                    0.6000	0.9620
                    0.7000	0.9880
                    0.8000	1.0000
                    0.9000	1.0000
                    1.0000	1.0000
                    1.1000	1.0000
                </tableData>
            </table>
        </function>

        <function name="aero/function/kCLge">
            <description>Change_in_lift_due_to_ground_effect</description>
            <table>
                <independentVar>aero/h_b-mac-ft</independentVar>
                <tableData>
                  0.0000	1.2030
                  0.1000	1.1270
                  0.1500	1.0900
                  0.2000	1.0730
                  0.3000	1.0460
                  0.4000	1.0550
                  0.5000	1.0190
                  0.6000	1.0130
                  0.7000	1.0080
                  0.8000	1.0060
                  0.9000	1.0030
                  1.0000	1.0020
                  1.1000	1.0000
                </tableData>
            </table>
        </function>

        <axis name="DRAG">
            <function name="aero/coefficient/CDo">
                <description>Drag_at_zero_lift</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <value>0.026</value>
                </product>
            </function>
            <function name="aero/coefficient/CDDf">
                <description>Delta_drag_due_to_flap_deflection</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>aero/function/kCDge</property>
                      <table>
                          <independentVar>fcs/flap-pos-deg</independentVar>
                          <tableData>
                              0.0000	0.0000
                              10.0000	0.0070
                              20.0000	0.0120
                              30.0000	0.0180
                          </tableData>
                      </table>
                </product>
            </function>
            <function name="aero/coefficient/CDwbh">
                <description>Drag_due_to_alpha</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>aero/function/kCDge</property>
                      <table>
                          <independentVar lookup="row">aero/alpha-rad</independentVar>
                          <independentVar lookup="column">fcs/flap-pos-deg</independentVar>
                          <tableData>
                                0.0000	10.0000	20.0000	30.0000
                              -0.0873	0.0041	0.0000	0.0005	0.0014
                              -0.0698	0.0013	0.0004	0.0025	0.0041
                              -0.0524	0.0001	0.0023	0.0059	0.0084
                              -0.0349	0.0003	0.0057	0.0108	0.0141
                              -0.0175	0.0020	0.0105	0.0172	0.0212
                              0.0000	0.0052	0.0168	0.0251	0.0299
                              0.0175	0.0099	0.0248	0.0346	0.0402
                              0.0349	0.0162	0.0342	0.0457	0.0521
                              0.0524	0.0240	0.0452	0.0583	0.0655
                              0.0698	0.0334	0.0577	0.0724	0.0804
                              0.0873	0.0442	0.0718	0.0881	0.0968
                              0.1047	0.0566	0.0874	0.1053	0.1148
                              0.1222	0.0706	0.1045	0.1240	0.1343
                              0.1396	0.0860	0.1232	0.1442	0.1554
                              0.1571	0.0962	0.1353	0.1573	0.1690
                              0.1745	0.1069	0.1479	0.1708	0.1830
                              0.1920	0.1180	0.1610	0.1849	0.1975
                              0.2094	0.1298	0.1746	0.1995	0.2126
                              0.2269	0.1424	0.1892	0.2151	0.2286
                              0.2443	0.1565	0.2054	0.2323	0.2464
                              0.2618	0.1727	0.2240	0.2521	0.2667
                              0.2793	0.1782	0.2302	0.2587	0.2735
                              0.2967	0.1716	0.2227	0.2507	0.2653
                              0.3142	0.1618	0.2115	0.2388	0.2531
                              0.3316	0.1475	0.1951	0.2214	0.2351
                              0.3491	0.1097	0.1512	0.1744	0.1866
                          </tableData>
                      </table>
                </product>
            </function>
            <function name="aero/coefficient/CDDe">
                <description>Drag_due_to_Elevator_Deflection</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>fcs/mag-elevator-pos-rad</property>
                    <value>0.0600</value>
                </product>
            </function>
            <function name="aero/coefficient/CDbeta">
                <description>Drag_due_to_sideslip</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>aero/mag-beta-rad</property>
                    <value>0.1700</value>
                </product>
            </function>
        </axis>

        <axis name="SIDE">
            <function name="aero/coefficient/CYb">
                <description>Side_force_due_to_beta</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                      <table>
                          <independentVar>aero/beta-rad</independentVar>
                          <tableData>
                              -0.3490	0.1080
                              0.0000	0.0000
                              0.3490	-0.1080
                          </tableData>
                      </table>
                </product>
            </function>
            <function name="aero/coefficient/CYda">
                <description>Side_force_due_to_aileron</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>fcs/left-aileron-pos-rad</property>
                    <value>-0.0500</value>
                </product>
            </function>
            <function name="aero/coefficient/CYdr">
                <description>Side_force_due_to_rudder</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>fcs/rudder-pos-rad</property>
                    <value>0.0980</value>
                </product>
            </function>
            <function name="aero/coefficient/CYp">
                <description>Side_force_due_to_roll_rate</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>aero/bi2vel</property>
                    <property>velocities/p-aero-rad_sec</property>
                    <value>-0.0370</value>
                </product>
            </function>
            <function name="aero/coefficient/CYr">
                <description>Side_force_due_to_yaw_rate</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>aero/bi2vel</property>
                    <property>velocities/r-aero-rad_sec</property>
                    <value>0.2100</value>
                </product>
            </function>
        </axis>

        <axis name="LIFT">
            <function name="aero/coefficient/CLwbh">
                <description>Lift_due_to_alpha</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>aero/function/kCLge</property>
                      <table>
                          <independentVar lookup="row">aero/alpha-rad</independentVar>
                          <independentVar lookup="column">aero/stall-hyst-norm</independentVar>
                          <tableData>
                                0.0000	1.0000
                              -0.0900	-0.2200	-0.2200
                              0.0000	0.2500	0.2500
                              0.0900	0.7300	0.7300
                              0.1000	0.8300	0.7800
                              0.1200	0.9200	0.7900
                              0.1400	1.0200	0.8100
                              0.1600	1.0800	0.8200
                              0.1700	1.1300	0.8300
                              0.1900	1.1900	0.8500
                              0.2100	1.2500	0.8600
                              0.2400	1.3500	0.8800
                              0.2600	1.4400	0.9000
                              0.2800	1.4700	0.9200
                              0.3000	1.4300	0.9500
                              0.3200	1.3800	0.9900
                              0.3400	1.3000	1.0500
                              0.3600	1.1500	1.1500
                          </tableData>
                      </table>
                </product>
            </function>
            <function name="aero/coefficient/CLDf">
                <description>Delta_lift_due_to_flap_deflection</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>aero/function/kCLge</property>
                      <table>
                          <independentVar>fcs/flap-pos-deg</independentVar>
                          <tableData>
                              0.0000	0.0000
                              10.0000	0.2000
                              20.0000	0.3000
                              30.0000	0.3500
                          </tableData>
                      </table>
                </product>
            </function>
            <function name="aero/coefficient/CLDe">
                <description>Lift_due_to_Elevator_Deflection</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>fcs/elevator-pos-rad</property>
                    <value>0.3470</value>
                </product>
            </function>
            <function name="aero/coefficient/CLadot">
                <description>Lift_due_to_alpha_rate</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>aero/alphadot-rad_sec</property>
                    <property>aero/ci2vel</property>
                    <value>1.7000</value>
                </product>
            </function>
            <function name="aero/coefficient/CLq">
                <description>Lift_due_to_pitch_rate</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>velocities/q-aero-rad_sec</property>
                    <property>aero/ci2vel</property>
                    <value>3.9000</value>
                </product>
            </function>
        </axis>

        <axis name="ROLL">
            <function name="aero/coefficient/Clb">
                <description>Roll_moment_due_to_beta</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                      <table>
                          <independentVar>aero/beta-rad</independentVar>
                          <tableData>
                              -0.3490	0.0311
                              0.0000	0.0000
                              0.3490	-0.0311
                          </tableData>
                      </table>
                </product>
            </function>
            <function name="aero/coefficient/Clp">
                <description>Roll_moment_due_to_roll_rate_(roll_damping)</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>aero/bi2vel</property>
                    <property>velocities/p-aero-rad_sec</property>
                    <value>-0.4700</value>
                </product>
            </function>
            <function name="aero/coefficient/Clr">
                <description>Roll_moment_due_to_yaw_rate</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>aero/bi2vel</property>
                    <property>velocities/r-aero-rad_sec</property>
                      <table>
                          <independentVar>aero/alpha-rad</independentVar>
                          <tableData>
                              0.0000	0.0800
                              0.0940	0.1900
                          </tableData>
                      </table>
                </product>
            </function>
            <function name="aero/coefficient/Clda">
                <description>Roll_moment_due_to_aileron</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>fcs/left-aileron-pos-rad</property>
                    <value>0.2300</value>
                </product>
            </function>
            <function name="aero/coefficient/Cldr">
                <description>Roll_moment_due_to_rudder</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>fcs/rudder-pos-rad</property>
                    <value>0.0147</value>
                </product>
            </function>
        </axis>

        <axis name="PITCH">
            <function name="aero/coefficient/Cmalpha">
                <description>Pitch_moment_due_to_alpha</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/cbarw-ft</property>
                    <property>aero/alpha-rad</property>
                    <value>-1.8000</value>
                </product>
            </function>
            <function name="aero/coefficient/CmDf">
                <description>Delta_pitching_moment_due_to_flap_deflection</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/cbarw-ft</property>
                      <table>
                          <independentVar>fcs/flap-pos-deg</independentVar>
                          <tableData>
                              0.0000	0.0000
                              10.0000	-0.0654
                              20.0000	-0.0981
                              30.0000	-0.1140
                          </tableData>
                      </table>
                </product>
            </function>
            <function name="aero/coefficient/Cmq">
                <description>Pitch_moment_due_to_pitch_rate</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/cbarw-ft</property>
                    <property>aero/ci2vel</property>
                    <property>velocities/q-aero-rad_sec</property>
                    <value>-12.4000</value>
                </product>
            </function>
            <function name="aero/coefficient/Cmadot">
                <description>Pitch_moment_due_to_alpha_rate</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/cbarw-ft</property>
                    <property>aero/ci2vel</property>
                    <property>aero/alphadot-rad_sec</property>
                    <value>-5.2000</value>
                </product>
            </function>
            <function name="aero/coefficient/Cmo">
                <description>Pitching_moment_at_zero_alpha</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/cbarw-ft</property>
                    <value>0.1000</value>
                </product>
            </function>
            <function name="aero/coefficient/Cmde">
                <description>Pitch_moment_due_to_elevator_deflection</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/cbarw-ft</property>
                    <property>fcs/elevator-pos-rad</property>
                    <value>-1.2800</value>
                </product>
            </function>
        </axis>

        <axis name="YAW">
            <function name="aero/coefficient/Cnb">
                <description>Yaw_moment_due_to_beta</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                      <table>
                          <independentVar>aero/beta-rad</independentVar>
                          <tableData>
                              -0.3490	-0.0227
                              0.0000	0.0000
                              0.3490	0.0227
                          </tableData>
                      </table>
                </product>
            </function>
            <function name="aero/coefficient/Cnp">
                <description>Yaw_moment_due_to_roll_rate</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>aero/bi2vel</property>
                    <property>velocities/p-aero-rad_sec</property>
                    <value>-0.0300</value>
                </product>
            </function>
            <function name="aero/coefficient/Cnr">
                <description>Yaw_moment_due_to_yaw_rate</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>aero/bi2vel</property>
                    <property>velocities/r-aero-rad_sec</property>
                    <value>-0.0990</value>
                </product>
            </function>
            <function name="aero/coefficient/Cnda">
                <description>Yaw_moment_due_to_aileron</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>fcs/left-aileron-pos-rad</property>
                    <value>0.0053</value>
                </product>
            </function>
            <function name="aero/coefficient/Cndr">
                <description>Yaw_moment_due_to_rudder</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>fcs/rudder-pos-rad</property>
                    <value>-0.0430</value>
                </product>
            </function>
        </axis>
    </aerodynamics>
</fdm_config>
<?xml version="1.0"?>
<initialize name="reset00">
  <!--
    This file sets up the aircraft to start off
    from the runway in preparation for takeoff.
  -->
  <ubody>       0.0 </ubody>
  <vbody>       0.0 </vbody>
  <wbody>       0.0 </wbody>
  <latitude unit="DEG">   47.0 </latitude>
  <longitude unit="DEG"> 122.0 </longitude>
  <phi unit="DEG">         0.0 </phi>
  <theta unit="DEG">     0.302 </theta>
  <psi unit="DEG">       330.0 </psi>
  <altitude>   4.4265  </altitude>
</initialize>
<?xml version="1.0"?>
<initialize name="reset01">
  <!--
    This file sets up the aircraft to start off
    from the runway in preparation for takeoff.
  -->
  <ubody>       0.0 </ubody>
  <vbody>       0.0 </vbody>
  <wbody>       0.0 </wbody>
  <latitude unit="DEG">   47.0 </latitude>
  <longitude unit="DEG"> 122.0 </longitude>
  <phi>         0.0 </phi>
  <theta>       0.0 </theta>
  <psi unit="DEG">       150.0 </psi>
  <altitude>    2000.00 </altitude>
  <hwind>        0.0 </hwind>
  <xwind>        0.0 </xwind>
  <vc>          90.0 </vc>
  <gamma unit="DEG">        3.0 </gamma>
</initialize>
// This file instructs the automatic synchronization utilities where to
// install this aircraft and under what name.
//
// The syntax is easy;
// * the package name at the beginning of a new line followed by a colon
// * a space as a column separator
// * the path and filename relative to the aircraft install directory
//
// Currently known package names are: FlightGear

// Don't install in the FlightGear base package.
//FlightGear:
<?xml version="1.0"?>
<!--

  Author:   Jon Berndt
  Date:     18 August 2002
  Function: C-172 autopilot test file

  Note: this file represents a test only of the new autopilot
        setup in JSBSim. The same components used in the FCS
        can also be used in the autopilot section. There are
        some new FCS input and output identifiers directly
        related to the autopilot:

          ap/elevator_cmd,
          ap/aileron_cmd,
          ap/attitude_hold,
          ap/altitude_hold,
          ap/heading_hold,
          ap/altitude_setpoint,
          ap/heading_setpoint

-->
<autopilot name="C-172X Autopilot">

<!-- INTERFACE PROPERTIES -->

  <property> ap/attitude_hold     </property>
  <property> ap/altitude_hold     </property>
  <property> ap/heading_hold      </property>
  <property> ap/altitude_setpoint </property>
  <property> ap/heading_setpoint  </property>
  <property> ap/aileron_cmd       </property>
  <property> ap/elevator_cmd      </property>
  <property> ap/airspeed_setpoint </property>
  <property> ap/airspeed_hold     </property>
  <property> ap/throttle-cmd-norm </property>

<!-- INITIAL GAIN VALUES -->
  
  <property value="0.5"> ap/hdg-roll-err-c1 </property>
  <property value="50.0"> ap/roll-pid-kp </property>
  <property value="5.0"> ap/roll-pid-ki </property>
  <property value="17.0"> ap/roll-pid-kd </property>

<!--
=====================================================
ROLL CHANNEL
=====================================================
-->

<!-- Wing leveler -->

<channel name="Roll wing leveler">

  <sensor name="fcs/attitude/sensor/phi-rad">
    <input> attitude/phi-rad </input>
    <lag> 0.5 </lag>
    <delay> 2 </delay>
    <noise variation="PERCENT" distribution="GAUSSIAN"> 0.05 </noise>
    <quantization name="attitude/sensor/quantized/phi-rad">
      <bits> 12 </bits>
      <min> -3.1416 </min>
      <max>  3.1416 </max>
    </quantization>
    <bias> 0.001 </bias>
  </sensor>

  <switch name="fcs/wing-leveler-ap-on-off">
    <default value="-1"/>
    <test value="0">
      ap/attitude_hold == 1
    </test>
  </switch>

  <pid name="fcs/roll-ap-error-pid">
    <input>attitude/phi-rad</input>
    <kp> ap/roll-pid-kp </kp>
    <ki> ap/roll-pid-ki </ki>
    <kd> ap/roll-pid-kd </kd>
    <trigger> fcs/wing-leveler-ap-on-off </trigger>
  </pid>

  <switch name="fcs/roll-ap-autoswitch">
    <default value="0.0"/>
    <test value="-fcs/roll-ap-error-pid">
      ap/attitude_hold == 1
    </test>
  </switch>

</channel>

<!-- Heading hold -->

<channel name="Roll heading hold">
  <pure_gain name="fcs/heading-true-degrees">
    <input>attitude/heading-true-rad</input>
    <gain>57.3</gain> <!-- convert to degrees -->
  </pure_gain>

  <summer name="fcs/heading-error">
    <input> -fcs/heading-true-degrees</input>
    <input> ap/heading_setpoint </input>
  </summer>

  <switch name="fcs/heading-error-bias-switch">
    <default value="0.0"/>
    <test value="360.0">
      fcs/heading-error lt -180
    </test>
    <test value="-360.0">
      fcs/heading-error gt 180
    </test>
  </switch>

  <summer name="fcs/heading-corrected">
    <input> fcs/heading-error-bias-switch </input>
    <input> fcs/heading-error </input>
    <clipto>
      <min>-30</min>
      <max>30</max>
    </clipto>
  </summer>

  <pure_gain name="fcs/heading-command">
    <input> fcs/heading-corrected </input>
    <gain> 0.01745 </gain>
  </pure_gain>

  <lag_filter name="fcs/heading-roll-error-lag">
    <input> fcs/heading-command </input>
    <c1> ap/hdg-roll-err-c1 </c1>
  </lag_filter>

  <summer name="fcs/heading-roll-error">
    <input> fcs/heading-roll-error-lag </input>
    <input> -attitude/phi-rad </input>
  </summer>

  <switch name="fcs/heading-roll-error-switch">
    <default value="0.0"/>
    <test value="fcs/heading-roll-error">
      ap/heading_hold == 1
    </test>
  </switch>

  <pid name="fcs/heading-pi-controller">
    <input> fcs/heading-roll-error-switch </input>
    <kp> 6.0 </kp>
    <ki> 0.13 </ki>
    <kd> 6.0 </kd>
  </pid>

  <switch name="fcs/roll-command-selector">
    <default value="0.0"/>
    <test value="fcs/heading-pi-controller">
      ap/heading_hold == 1
      gear/unit[2]/WOW == 0
    </test>
    <test value="fcs/roll-ap-autoswitch">
      ap/attitude_hold == 1
      gear/unit[2]/WOW == 0
    </test>
    <output>ap/aileron_cmd</output>
  </switch>
<!--
  <switch name="fcs/roll-command-selector-steering">
    <default value="0.0"/>
    <test value="fcs/heading-pi-controller">
      ap/heading_hold == 1
      gear/unit/WOW == 1
    </test>
    <output>fcs/steer-cmd-norm</output>
  </switch>
-->
</channel>
<!--
=====================================================
PITCH CHANNEL
=====================================================
-->

<!-- Altitude hold -->

<!-- The Altitude Error component below computes the altitude error, subtracting
     the desired altitude (altitude_setpoint) from the actual altitude above sea
     level (_not_ Above Ground Level).  This error signal is interpreted as an
     hdot command (hdot is time rate of change of altitude, or rate of climb). As
     such it is limited to a maximum absolute value of 12 fps here (720 fpm). The
     maximum achievable climb rate depends on altitude. The commanded climb rate
     is scheduled in the HDot Command component, below. For the given altitude
     (left column in the table), the commanded maaximum climb rate divided by 100
     is given in the right column.
-->

<channel name="Pitch altitude hold">

  <!--
  The difference between the desired altitude and the actual altitude
  is determined, and limited to 100. The output from this component is
  the desired climb rate in percent of maximum.
  -->
  <summer name="fcs/altitude-error">
    <input> ap/altitude_setpoint </input>
    <input> -position/h-agl-ft </input>
    <clipto>
      <min>-100</min>
      <max> 100</max>
    </clipto>
  </summer>

  <!--
  The desired climb rate is lagged slightly for stability.
  -->
  <lag_filter name="fcs/alt-error-lag">
    <input> fcs/altitude-error </input>
    <c1> 1 </c1>
  </lag_filter>

  <!--
  Dependent on altitude, the lagged (and limited) altitude error is multipled
  by the scheduled gain determined from the table, below. The output from this
  component is the absolute climb rate in feet/second. For example, if the desired
  climb rate is 100 percent of maximum and the current altitude is 1000.0 ft., then
  the output from this component would be 11 ft. sec.
  -->
  <scheduled_gain name="fcs/hdot-command">
    <input> fcs/alt-error-lag </input>
    <table>
      <independentVar>position/h-sl-ft</independentVar>
      <tableData>
           0.0   0.12
        1000.0   0.11
        2000.0   0.10
        3000.0   0.096
        4000.0   0.093
        5000.0   0.086
        6000.0   0.078
        7000.0   0.069
        8000.0   0.061
        9000.0   0.053
       10000.0   0.045
       11000.0   0.037
       12000.0   0.028
      </tableData>
    </table>
  </scheduled_gain>

  <!--
  This component calculates the climb rate error, taking the difference between
  the commanded climb rate (from the previous component) and actual climb rate
  in ft./sec.
  -->
  <summer name="fcs/hdot-error">
    <input> fcs/hdot-command </input>
    <input> -velocities/h-dot-fps </input>
  </summer>

  <!--
  If the altitude hold autopilot command is ON, then this switch component will
  pass through the climb rate error (from the previous component). Otherwise, it
  will pass zero.
  -->
  <switch name="fcs/ap-alt-hold-switch">
    <default value="0.0"/>
    <test value="fcs/hdot-error">
      ap/altitude_hold == 1
    </test>
  </switch>

  <!--
  The windup trigger below assumes the elevator will travel +/-23 degrees. The
  elevator, however, does not travel symmetrically. This will need to be addressed
  in a fix to the deadband component.
  -->
  <deadband name="fcs/windup-trigger">
    <input> fcs/elevator-pos-deg </input>
    <width>46.0</width>
  </deadband>

  <!--
  The integrator integrates the hdot error (when the switch component passes that
  signal through above when the altitude hold is selected ON). In the situation
  where the elevator becomes saturated, the integrator ceases to integrate. The
  windup protection is indicated below, with the windup-trigger property being
  the trigger to halt integration. When the windup trigger is non-zero (when the
  elevator position falls outside the range +/- 23 degrees - a deadband of 46
  degrees) then the deadband passes a non-zero value, triggering the anti-windup
  logic in the integrator.

  The proportional component multiplies the error signal by a constant, providing
  the proportional control action of this PI altitude hold controller.

  The pid component combines the proportional and integral control
  signals. It clips the sum to +/- 1.0.
  -->

  <pid name="fcs/altitude-hold-pid">
    <input> fcs/ap-alt-hold-switch </input>
    <kp> 0.01 </kp>
    <ki> 0.00015 </ki>
    <kd> 0.0003 </kd>
    <trigger> fcs/windup-trigger </trigger>
    <clipto> <min>-1.0</min>
             <max> 1.0</max> </clipto>
  </pid>

  <!--
  The elevator component flips the sign on the output of the control summer
  above and sets the ap/elevator_command property.
  -->
  <pure_gain name="fcs/elevator">
    <input> fcs/altitude-hold-pid </input>
    <gain> -1.0 </gain>
    <output> ap/elevator_cmd </output>
  </pure_gain>
</channel>

</autopilot>
<?xml version="1.0"?>
<?xml-stylesheet type="text/xsl" href="http://jsbsim.sourceforge.net/JSBSim.xsl"?>
<fdm_config name="Cessna C-172 Skyhawk II"  version="2.0" release="BETA"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:noNamespaceSchemaLocation="http://jsbsim.sourceforge.net/JSBSim.xsd">
    <fileheader>
        <author>Tony Peden</author>
        <license
          licenseName="GPL (General Public License)"
          licenseURL="http://www.gnu.org/licenses/gpl.html"/>
        <note>
          This model was created using publicly available data, publicly available
          technical reports, textbooks, and guesses. It contains no proprietary or
          restricted data. It has been validated only to the extent that it seems
          to "fly right", and possibly to comply to published, publicly known,
          performance data (maximum speed, endurance, etc.). Thus, this model
          is meant for educational and entertainment purposes only.

          This simulation model is not endorsed by the manufacturer. This model
          is not to be sold.
        </note>
        <filecreationdate>1999-01-01</filecreationdate>
        <version>$Revision: 1.91 $</version>
        <description>Models a 1982 Cessna 172P.</description>
      <reference
        refID=  "1"
        author= "Cessna Aircraft Company"
        title=  "Information Manual Skyhawk Model 172P"
        date=   "1982"/>
      <reference
        refID=  "2"
        author= "FAA"
        title=  "Type Certificate Data Sheet No. 3A12"
        date=   "5 May 2011"/>
    </fileheader>
    <metrics>
        <wingarea unit="FT2"> 174.0 </wingarea>
        <wingspan unit="FT"> 36.0 </wingspan>
        <chord unit="FT"> 4.9 </chord>
        <htailarea unit="FT2"> 21.9 </htailarea>
        <htailarm unit="FT"> 15.7 </htailarm>
        <vtailarea unit="FT2"> 16.5 </vtailarea>
        <vtailarm unit="FT"> 15.7 </vtailarm>
        <location name="AERORP" unit="IN">
            <x> 43.2 </x>
            <y> 0.0 </y>
            <z> 59.4 </z>
        </location>
        <location name="EYEPOINT" unit="IN">
            <x> 37.0 </x>
            <y> 0.0 </y>
            <z> 48.0 </z>
        </location>
        <location name="VRP" unit="IN">
            <x> 42.6 </x>
            <y> 0.0 </y>
            <z> 38.5 </z>
        </location>
    </metrics>
    <mass_balance>
        <ixx unit="SLUG*FT2"> 948.0 </ixx>
        <iyy unit="SLUG*FT2"> 1346.0 </iyy>
        <izz unit="SLUG*FT2"> 1967.0 </izz>
        <ixz unit="SLUG*FT2"> 0.0 </ixz>
        <emptywt unit="LBS"> 1454.0 </emptywt>
        <location name="CG" unit="IN">
            <x> 41.0 </x>
            <y> 0.0 </y>
            <z> 36.5 </z>
        </location>
        <pointmass name="PILOT">
            <weight unit="LBS">190.0</weight>
            <location unit="IN">
                <x> 36.0 </x>
                <y> -14.0 </y>
                <z> 24.0 </z>
            </location>
        </pointmass>
        <pointmass name="CO-PILOT">
            <weight unit="LBS">140.0</weight>
            <location unit="IN">
                <x> 36.0 </x>
                <y> 14.0 </y>
                <z> 24.0 </z>
            </location>
        </pointmass>
        <pointmass name="PASSENGER 1">
            <weight unit="LBS">130.0</weight>
            <location unit="IN">
                <x> 60.0 </x>
                <y> -14.0 </y>
                <z> 24.0 </z>
            </location>
        </pointmass>
        <pointmass name="PASSENGER 2">
            <weight unit="LBS">106.0</weight>
            <location unit="IN">
                <x> 60.0 </x>
                <y> 14.0 </y>
                <z> 24.0 </z>
            </location>
        </pointmass>
        <pointmass name="LUGGAGE">
            <weight unit="LBS">120.0</weight>
            <location unit="IN">
                <x> 95.0 </x>
                <y>  0.0 </y>
                <z> 24.0 </z>
            </location>
        </pointmass>
        <pointmass name="PesticideBomb">
            <weight unit="LBS">80.0</weight>
            <location unit="IN">
                <x>  41.0 </x>
                <y> 144.0 </y>
                <z> 36.0 </z>
            </location>
        </pointmass>
    </mass_balance>
    
    <ground_reactions>

        <contact type="BOGEY" name="Nose Gear">
            <location unit="IN">
                <x> -6.8 </x>
                <y> 0.0 </y>
                <z> -20.0 </z>
            </location>
            <static_friction>0.8</static_friction>
            <dynamic_friction>0.5</dynamic_friction>
            <rolling_friction>0.022</rolling_friction>
            <spring_coeff unit="LBS/FT">1800</spring_coeff>
            <damping_coeff unit="LBS/FT/SEC">500</damping_coeff>
            <damping_coeff_rebound unit="LBS/FT/SEC">2000</damping_coeff_rebound>
            <max_steer unit="DEG">10</max_steer>
            <brake_group>NONE</brake_group>
            <retractable>0</retractable>
        </contact>

        <contact type="BOGEY" name="Left Main Gear">
            <location unit="IN">
                <x> 58.2 </x>
                <y> -50.25 </y>
                <z> -18.46 </z>
            </location>
            <static_friction>0.8</static_friction>
            <dynamic_friction>0.5</dynamic_friction>
            <rolling_friction>0.022</rolling_friction>
            <spring_coeff unit="LBS/FT">5400</spring_coeff>
            <damping_coeff unit="LBS/FT/SEC">160</damping_coeff>
            <damping_coeff_rebound unit="LBS/FT/SEC">320</damping_coeff_rebound>
            <max_steer unit="DEG">0</max_steer>
            <brake_group>LEFT</brake_group>
            <retractable>0</retractable>
        </contact>

        <contact type="BOGEY" name="Right Main Gear">
            <location unit="IN">
                <x> 58.2 </x>
                <y> 50.25 </y>
                <z> -18.46 </z>
            </location>
            <static_friction>0.8</static_friction>
            <dynamic_friction>0.5</dynamic_friction>
            <rolling_friction>0.022</rolling_friction>
            <!-- This definition of the bogey strut compression force is exactly
                 equivalent to the definition of the left main gear. This
                 alternate definition is intented to serve as an example as well
                 as to help testing this feature -->
            <strut_force>
                <function>
                    <sum>
                        <product>
                            <value> -5400. </value>
                            <property> gear/unit[2]/compression-ft </property>
                        </product>
                        <ifthen>
                            <ge>
                                <property> gear/unit[2]/compression-velocity-fps </property>
                                <value> 0.0 </value>
                            </ge>
                            <product>
                                <value> -160. </value>
                                <property> gear/unit[2]/compression-velocity-fps </property>
                            </product>
                            <product>
                                <value> -320. </value>
                                <property> gear/unit[2]/compression-velocity-fps </property>
                            </product>
                        </ifthen>
                    </sum>
                </function>
            </strut_force>
            <max_steer unit="DEG">0</max_steer>
            <brake_group>RIGHT</brake_group>
            <retractable>0</retractable>
        </contact>

        <contact type="STRUCTURE" name="TAIL_SKID">
            <location unit="IN">
                <x> 188.0 </x>
                <y> 0.0 </y>
                <z> 8.0 </z>
            </location>
            <static_friction>0.2</static_friction>
            <dynamic_friction>0.2</dynamic_friction>
            <spring_coeff unit="LBS/FT">20000</spring_coeff>
            <damping_coeff unit="LBS/FT/SEC">1000</damping_coeff>
        </contact>

        <contact type="STRUCTURE" name="LEFT_TIP">
            <location unit="IN">
                <x> 43.2 </x>
                <y> -214.8 </y>
                <z> 59.4 </z>
            </location>
            <static_friction>0.2</static_friction>
            <dynamic_friction>0.2</dynamic_friction>
            <spring_coeff unit="LBS/FT">10000</spring_coeff>
            <damping_coeff unit="LBS/FT/SEC">2000</damping_coeff>
        </contact>
        <contact type="STRUCTURE" name="RIGHT_TIP">
            <location unit="IN">
                <x> 43.2 </x>
                <y> 214.8 </y>
                <z> 59.4 </z>
            </location>
            <static_friction>0.2</static_friction>
            <dynamic_friction>0.2</dynamic_friction>
            <spring_coeff unit="LBS/FT">10000</spring_coeff>
            <damping_coeff unit="LBS/FT/SEC">2000</damping_coeff>
        </contact>
    </ground_reactions>
    <propulsion>
        <engine file="eng_io320">
            <feed>0</feed>
            <feed>1</feed>
            <thruster file="prop_75in2f">
                <location unit="IN">
                    <x>-37.7</x>
                    <y>0</y>
                    <z>26.6</z>
                </location>
                <orient unit="DEG">
                    <roll>0</roll>
                    <pitch>0</pitch>
                    <yaw>0</yaw>
                </orient>
                <sense>-1</sense>
                <p_factor>10.0</p_factor>
            </thruster>
        </engine>
        <tank type="FUEL">    <!-- Tank number 0 -->
            <location unit="IN">
                <x>48.0</x>
                <y>-112.0</y>
                <z>59.4</z>
            </location>
            <radius unit="IN">29.4</radius>
            <capacity unit="LBS">130</capacity>
            <contents unit="LBS">130</contents>
        </tank>
        <tank type="FUEL">    <!-- Tank number 1 -->
            <location unit="IN">
                <x>48.0</x>
                <y>112.0</y>
                <z>59.4</z>
            </location>
            <radius unit="IN">29.4</radius>
            <capacity unit="LBS">130</capacity>
            <contents unit="LBS">130</contents>
        </tank>
    </propulsion>
    
    <system name="Navigation">
      <channel name="Heading">
        <sensor name="navigation/actual-heading-rad">
          <input> attitude/heading-true-rad </input>
<!--          <lag> 2500 </lag> -->
<!--          <noise variation="PERCENT"> .02 </noise> -->
          <bias> 0.003 </bias>
        </sensor>
      </channel>
    </system>

    <system name="Fuel content in volume">
        <fcs_function name="propulsion/tank[0]/contents-volume-gal">
            <function>
                <quotient>
                    <p> propulsion/tank[0]/contents-lbs </p>
                    <p> propulsion/tank[0]/density-lbs_per_gal </p>
                </quotient>
            </function>
        </fcs_function>
        <fcs_function name="propulsion/tank[1]/contents-volume-gal">
            <function>
                <quotient>
                    <p> propulsion/tank[1]/contents-lbs </p>
                    <p> propulsion/tank[1]/density-lbs_per_gal </p>
                </quotient>
            </function>
        </fcs_function>
    </system>

    <system name="Mixture control">
      <!--
      E = 1.3 * Mixture * P_std / P_amb
  
      Mixture = (P_amb / P_std) / 1.3
      -->
      <channel name="Automatic Mixture Control">
        <fcs_function name="systems/mixture-cmd-norm">
          <function>
            <quotient>
              <table>
                <independentVar lookup="row">atmosphere/P-psf</independentVar>
                <tableData>
                     0  0.0
                  2117  1.0
                </tableData>
              </table>
              <value>1.0</value>
            </quotient>
          </function>
          <output>fcs/mixture-cmd-norm</output>
        </fcs_function>
      </channel>
    </system>
  
    <system file="GNCUtilities"/>

    <system file="Autopilot">
      <property value="0.523"> guidance/roll-angle-limit </property>
      <property value="0.174"> guidance/roll-rate-limit </property>
    </system>
    
    <autopilot file="c172ap"/>

    <flight_control name="c172">
        <channel name="Pitch">
            <summer name="fcs/pitch-trim-sum">
                <input>ap/elevator_cmd</input>
                <input>fcs/elevator-cmd-norm</input>
                <input>fcs/pitch-trim-cmd-norm</input>
                <clipto>
                    <min>-1</min>
                    <max> 1</max>
                </clipto>
            </summer>

            <!--
            Map the -1 to +1 input into the range specified below, then
            multiply by 0.01745 to convert to radians
            -->
            <aerosurface_scale name="fcs/elevator-control">
                <input>fcs/pitch-trim-sum</input>
                <range>
                    <min>-28</min>
                    <max> 23</max>
                </range>
                <gain>0.01745</gain>
            </aerosurface_scale>

            <actuator name="fcs/elevator-actuator">
              <input> fcs/elevator-control </input>
              <lag> 60 </lag>
              <bias> 0.002 </bias>
              <hysteresis_width> 0.05 </hysteresis_width>
              <clipto>
                <!-- +/- 20 degrees -->
                <min> -0.34 </min>
                <max>  0.34 </max>
              </clipto>
              <output>fcs/elevator-pos-rad</output>
            </actuator>

        </channel>

        <channel name="Roll">

            <summer name="fcs/roll-trim-sum">
                <input>ap/aileron_cmd</input>
                <input>ap/roll-cmd-norm-output</input> 
                <input>fcs/aileron-cmd-norm</input>
                <input>fcs/roll-trim-cmd-norm</input>
                <clipto>
                    <min>-1</min>
                    <max>1</max>
                </clipto>
            </summer>

            <aerosurface_scale name="fcs/left-aileron-control">
              <description> The output from this control is in radians. </description>
              <input>fcs/roll-trim-sum</input>
              <gain>0.01745</gain>
              <range>
                <min>-20</min>
                <max> 15</max>
              </range>
            </aerosurface_scale>
    
            <actuator name="fcs/left-aileron-actuator">
              <description> The input to this actuator is in radians. </description>
              <input> fcs/left-aileron-control </input>
              <rate_limit> 1.57 </rate_limit>
              <hysteresis> 0.005 </hysteresis>
              <clipto>
                <min> -0.350 </min>
                <max>  0.260 </max>
              </clipto>
              <output>fcs/left-aileron-pos-rad</output>
            </actuator>
            
            <aerosurface_scale name="fcs/right-aileron-control">
              <description> The output from this control is in radians. </description>
              <input>-fcs/roll-trim-sum</input>
              <gain>0.01745</gain>
              <range>
                <min>-20</min>
                <max> 15</max>
              </range>
            </aerosurface_scale>

            <actuator name="fcs/right-aileron-actuator">
              <description> The input to this actuator is in radians. </description>
              <input> fcs/right-aileron-control </input>
              <rate_limit> 1.57 </rate_limit>
              <hysteresis> 0.005 </hysteresis>
              <clipto>
                <min> -0.350 </min>
                <max>  0.260 </max>
              </clipto>
              <output>fcs/right-aileron-pos-rad</output>
            </actuator>
            
            <summer name="fcs/effective-aileron-pos">
              <input> fcs/left-aileron-pos-rad </input>
              <input> -fcs/right-aileron-pos-rad </input>
              <gain> 0.5 </gain>
            </summer>
            
        </channel>

        <channel name="Yaw">
            <summer name="fcs/yaw-trim-sum">
                <input>fcs/rudder-cmd-norm</input>
                <input>fcs/yaw-trim-cmd-norm</input>
                <clipto>
                    <min>-1</min>
                    <max>1</max>
                </clipto>
            </summer>
            <aerosurface_scale name="fcs/rudder-control">
                <input>fcs/yaw-trim-sum</input>
                <gain>0.01745</gain>
                <range>
                    <min>-16</min>
                    <max> 16</max>
                </range>
                <output>fcs/rudder-pos-rad</output>
            </aerosurface_scale>
        </channel>
        <channel name="Flaps">
            <kinematic name="fcs/flaps-control">
                <input>fcs/flap-cmd-norm</input>
                <traverse>
                    <setting>
                       <position> 0 </position>
                       <time> 0 </time>
                    </setting>
                    <setting>
                       <position> 10 </position>
                       <time> 2 </time>
                    </setting>
                    <setting>
                       <position> 20 </position>
                       <time> 1 </time>
                    </setting>
                    <setting>
                       <position> 30 </position>
                       <time> 1 </time>
                    </setting>
                </traverse>
                <output>fcs/flap-pos-deg</output>
            </kinematic>
            <aerosurface_scale name="fcs/flap-position-normalizer">
              <input>fcs/flap-pos-deg</input>
              <domain>
                <min>0</min>  <!-- Flaps actual minimum position -->
                <max>30</max>  <!-- Flaps actual maximum position -->
              </domain>
              <range>
                <min>0</min>  <!-- Flaps normalized minimum position -->
                <max>1</max>  <!-- Flaps normalized maximum position -->
              </range>
              <output>fcs/flap-pos-norm</output>
            </aerosurface_scale>
        </channel>
    </flight_control>

    <aerodynamics>

        <alphalimits unit="RAD">
            <min>-0.087</min>
            <max>0.28</max>
        </alphalimits>

        <hysteresis_limits unit="RAD">
            <min>0.09</min>
            <max>0.36</max>
        </hysteresis_limits>

        <!-- aerodynamic subsystem variables for convenience -->

      <function name="aero/angle/right_wing_tip_alpha">
        <description>
          This parameter calculates the angle of attack at the right wingtip,
          accounting for the motion of the wing at that point away from the CG.
        </description>
        <atan2>
          <sum>
            <property>velocities/w-aero-fps</property>
            <product>
              <property>velocities/p-aero-rad_sec</property>
              <value>14</value> <!-- distance in feet from CG to wingtip -->
            </product>
          </sum>
          <difference>
            <property>velocities/u-aero-fps</property>
            <product>
              <property>velocities/r-aero-rad_sec</property>
              <value>50</value>
            </product>
          </difference>
        </atan2>
      </function>

      <function name="aero/function/ground-effect-factor-lift">
            <description>Change in lift due to ground effect factor.</description>
            <table>
                <independentVar>aero/h_b-mac-ft</independentVar> <!-- row lookup -->
                <tableData>
                    0.0  1.203
                    0.1  1.127
                    0.15 1.090
                    0.2  1.073
                    0.3  1.046
                    0.4  1.028
                    0.5  1.019
                    0.6  1.013
                    0.7  1.008
                    0.8  1.006
                    0.9  1.003
                    1.0  1.002
                    1.1  1.0
                </tableData>
            </table>
        </function>

        <function name="aero/function/ground-effect-factor-drag">
            <description>Change in drag due to ground effect</description>
            <table>
                <independentVar>aero/h_b-mac-ft</independentVar>
                <tableData>
                    0.0  0.480
                    0.1  0.515
                    0.15 0.629
                    0.2  0.709
                    0.3  0.815
                    0.4  0.882
                    0.5  0.928
                    0.6  0.962
                    0.7  0.988
                    0.8  1.0
                    0.9  1.0
                    1.0  1.0
                    1.1  1.0
                </tableData>
            </table>
        </function>

        <axis name="LIFT">

            <!-- Lift axis coefficients functions -->

            <function name="aero/coefficient/CLwbh">
                <description>Lift due to alpha</description>
                <product>
                    <property>aero/function/ground-effect-factor-lift</property>
                    <property>aero/qbar-area</property>
                    <table>
                        <independentVar lookup="row">aero/alpha-rad</independentVar>
                        <independentVar lookup="column">aero/stall-hyst-norm</independentVar>
                        <tableData>
                                   0.0   1.0
                            -0.09 -0.22 -0.22
                             0.0   0.25  0.25
                             0.09  0.73  0.73
                             0.1   0.83  0.78
                             0.12  0.92  0.79
                             0.14  1.02  0.81
                             0.16  1.08  0.82
                             0.17  1.13  0.83
                             0.19  1.19  0.85
                             0.21  1.25  0.86
                             0.24  1.35  0.88
                             0.26  1.44  0.9
                             0.28  1.47  0.92
                             0.3   1.43  0.95
                             0.32  1.38  0.99
                             0.34  1.3   1.05
                             0.36  1.15  1.15
                        </tableData>
                    </table>
                </product>
            </function>

            <function name="aero/coefficient/CLDf">
                <description>Delta lift due to flap deflection</description>
                <product>
                    <property>aero/function/ground-effect-factor-lift</property>
                    <property>aero/qbar-area</property>
                    <table>
                        <independentVar>fcs/flap-pos-deg</independentVar>
                        <tableData>
                            0.0  0.0
                           10.0  0.25
                           20.0  0.30
                           30.0  0.35
                        </tableData>
                    </table>
                </product>
            </function>

            <function name="aero/coefficient/CLDe">
                <description>Lift due to Elevator Deflection.</description>
                <product>
                    <property>aero/qbar-area</property>
                    <property>fcs/elevator-pos-rad</property>
                    <value>0.347</value>
                </product>
            </function>

            <function name="aero/coefficient/CLadot">
                <description>Lift due to alpha rate</description>
                <product>
                    <property>aero/qbar-area</property>
                    <property>aero/alphadot-rad_sec</property>
                    <property>aero/ci2vel</property>
                    <value>1.7</value>
                </product>
            </function>

            <function name="aero/coefficient/CLq">
                <description>Lift due to pitch rate</description>
                <product>
                    <property>aero/qbar-area</property>
                    <property>velocities/q-aero-rad_sec</property>
                    <property>aero/ci2vel</property>
                    <value>3.9</value>
                </product>
            </function>

    <function name="aero/coefficient/CLalpha">
      <description>Lift per radian of Alpha</description>
      <product>
        <property>aero/qbar-area</property>
        <property>aero/alpha-rad</property>
        <table>
          <independentVar lookup="row">aero/alpha-deg</independentVar>
          <independentVar lookup="column">aero/beta-deg</independentVar>
          <independentVar lookup="table">fcs/flap-pos-deg</independentVar>
          <tableData breakPoint="-5">
                      -10.000000   -5.000000   -4.000000   -3.000000   -2.000000   -1.000000    0.000000    1.000000    2.000000    3.000000    4.000000    5.000000   10.000000
          -10.000000    4.579224    4.683079    4.695652    4.705446    4.712455    4.716665    4.718074    4.716681    4.712483    4.705490    4.695709    4.683151    4.579366
           -9.000000    4.588575    4.692626    4.705221    4.715036    4.722056    4.726275    4.727687    4.726290    4.722086    4.715080    4.705281    4.692699    4.588721
           -8.000000    4.594747    4.698920    4.711531    4.721357    4.728385    4.732611    4.734025    4.732626    4.728416    4.721402    4.711592    4.698996    4.594897
           -7.000000    4.597723    4.701945    4.714562    4.724392    4.731425    4.735653    4.737066    4.735669    4.731457    4.724439    4.714625    4.702023    4.597878
           -6.000000    4.597490    4.701688    4.714302    4.724130    4.731162    4.735388    4.736802    4.735404    4.731195    4.724177    4.714366    4.701768    4.597648
           -5.000000    4.594041    4.698139    4.710741    4.720562    4.727585    4.731808    4.733220    4.731825    4.727618    4.720610    4.710807    4.698220    4.594201
           -4.000000    4.587374    4.691299    4.703880    4.713682    4.720695    4.724911    4.726322    4.724928    4.720729    4.713732    4.703947    4.691382    4.587537
           -3.000000    4.577491    4.681170    4.693721    4.703501    4.710497    4.714704    4.716111    4.714720    4.710532    4.703551    4.693788    4.681253    4.577657
           -2.000000    4.564407    4.667766    4.680278    4.690028    4.697003    4.701195    4.702599    4.701213    4.697039    4.690079    4.680347    4.667851    4.564577
           -1.000000    4.548137    4.651103    4.663567    4.673279    4.680228    4.684404    4.685803    4.684422    4.680264    4.673332    4.663638    4.651189    4.548309
            0.000000    4.528703    4.631201    4.643609    4.653277    4.660196    4.664353    4.665745    4.664372    4.660232    4.653332    4.643680    4.631289    4.528878
            1.000000    4.506134    4.608094    4.620437    4.630056    4.636937    4.641072    4.642456    4.641090    4.636972    4.630109    4.620509    4.608183    4.506310
            2.000000    4.480464    4.581812    4.594082    4.603642    4.610483    4.614594    4.615971    4.614612    4.610519    4.603697    4.594154    4.581903    4.480642
            3.000000    4.451731    4.552399    4.564587    4.574084    4.580878    4.584962    4.586330    4.584980    4.580915    4.574139    4.564660    4.552491    4.451910
            4.000000    4.419983    4.519904    4.531998    4.541425    4.548169    4.552222    4.553580    4.552240    4.548207    4.541480    4.532073    4.519995    4.420165
            5.000000    4.385270    4.484371    4.496370    4.505717    4.512407    4.516426    4.517773    4.516445    4.512444    4.505773    4.496444    4.484464    4.385452
            6.000000    4.347646    4.445863    4.457754    4.467019    4.473649    4.477633    4.478968    4.477653    4.473686    4.467075    4.457829    4.445956    4.347829
            7.000000    4.307175    4.404442    4.416217    4.425392    4.431959    4.435905    4.437226    4.435924    4.431995    4.425449    4.416293    4.404535    4.307361
            8.000000    4.263923    4.360175    4.371828    4.380909    4.387405    4.391310    4.392619    4.391329    4.387443    4.380964    4.371903    4.360269    4.264108
            9.000000    4.217959    4.313137    4.324659    4.333638    4.340064    4.343924    4.345218    4.343943    4.340101    4.333694    4.324735    4.313231    4.218145
           10.000000    4.169363    4.263402    4.274788    4.283659    4.290007    4.293822    4.295101    4.293842    4.290045    4.283715    4.274863    4.263497    4.169548
          </tableData>
          <tableData breakPoint="0">
                      -10.000000   -5.000000   -4.000000   -3.000000   -2.000000   -1.000000    0.000000    1.000000    2.000000    3.000000    4.000000    5.000000   10.000000
          -10.000000    4.589282    4.693370    4.705971    4.715788    4.722813    4.727033    4.728446    4.727047    4.722842    4.715832    4.706029    4.693441    4.589424
           -9.000000    4.596830    4.701072    4.713692    4.723524    4.730558    4.734784    4.736198    4.734799    4.730588    4.723568    4.713749    4.701145    4.596976
           -8.000000    4.601193    4.705514    4.718144    4.727984    4.735023    4.739254    4.740670    4.739269    4.735054    4.728030    4.718205    4.705591    4.601343
           -7.000000    4.602358    4.706686    4.719318    4.729158    4.736198    4.740429    4.741846    4.740445    4.736230    4.729205    4.719379    4.706765    4.602511
           -6.000000    4.600316    4.704578    4.717200    4.727036    4.734071    4.738299    4.739714    4.738316    4.734103    4.727083    4.717264    4.704659    4.600473
           -5.000000    4.595062    4.699183    4.711790    4.721610    4.728637    4.732861    4.734273    4.732878    4.728670    4.721659    4.711854    4.699265    4.595222
           -4.000000    4.586600    4.690507    4.703087    4.712888    4.719900    4.724114    4.725524    4.724130    4.719934    4.712938    4.703153    4.690591    4.586764
           -3.000000    4.574937    4.678556    4.691101    4.700875    4.707868    4.712070    4.713478    4.712088    4.707902    4.700926    4.691169    4.678641    4.575104
           -2.000000    4.560090    4.663347    4.675848    4.685589    4.692557    4.696744    4.698147    4.696764    4.692592    4.685639    4.675917    4.663433    4.560259
           -1.000000    4.542077    4.644899    4.657348    4.667047    4.673987    4.678157    4.679554    4.678176    4.674023    4.667101    4.657418    4.644987    4.542249
            0.000000    4.520925    4.623242    4.635628    4.645279    4.652185    4.656336    4.657724    4.656353    4.652222    4.645333    4.635699    4.623330    4.521099
            1.000000    4.496665    4.598403    4.610722    4.620319    4.627185    4.631311    4.632694    4.631329    4.627221    4.620373    4.610793    4.598493    4.496842
            2.000000    4.469336    4.570426    4.582664    4.592200    4.599024    4.603125    4.604497    4.603143    4.599059    4.592256    4.582737    4.570517    4.469513
            3.000000    4.438980    4.539352    4.551503    4.560972    4.567746    4.571819    4.573182    4.571837    4.567783    4.561028    4.551577    4.539443    4.439159
            4.000000    4.405647    4.505233    4.517289    4.526683    4.533405    4.537445    4.538797    4.537463    4.533442    4.526739    4.517363    4.505325    4.405828
            5.000000    4.369390    4.468122    4.480074    4.489388    4.496053    4.500057    4.501400    4.500077    4.496089    4.489444    4.480150    4.468214    4.369572
            6.000000    4.330268    4.428081    4.439922    4.449149    4.455751    4.459719    4.461048    4.459738    4.455789    4.449206    4.439997    4.428173    4.330451
            7.000000    4.288345    4.385174    4.396897    4.406031    4.412567    4.416495    4.417811    4.416514    4.412604    4.406087    4.396972    4.385268    4.288529
            8.000000    4.243692    4.339475    4.351070    4.360106    4.366571    4.370458    4.371759    4.370477    4.366609    4.360162    4.351146    4.339568    4.243878
            9.000000    4.196383    4.291057    4.302519    4.311450    4.317842    4.321683    4.322969    4.321702    4.317879    4.311508    4.302596    4.291151    4.196568
           10.000000    4.146493    4.240001    4.251324    4.260144    4.266455    4.270250    4.271521    4.270268    4.266494    4.260201    4.251398    4.240096    4.146679
          </tableData>
          <tableData breakPoint="10">
                      -10.000000   -5.000000   -4.000000   -3.000000   -2.000000   -1.000000    0.000000    1.000000    2.000000    3.000000    4.000000    5.000000   10.000000
          -10.000000    4.600350    4.704696    4.717329    4.727169    4.734210    4.738441    4.739857    4.738456    4.734239    4.727213    4.717385    4.704768    4.600493
           -9.000000    4.604290    4.708706    4.721347    4.731195    4.738241    4.742475    4.743892    4.742488    4.738271    4.731240    4.721406    4.708780    4.604437
           -8.000000    4.605043    4.709454    4.722095    4.731943    4.738989    4.743223    4.744639    4.743238    4.739020    4.731988    4.722156    4.709531    4.605193
           -7.000000    4.602602    4.706936    4.719568    4.729407    4.736449    4.740679    4.742096    4.740695    4.736480    4.729455    4.719630    4.707014    4.602754
           -6.000000    4.596964    4.701149    4.713761    4.723588    4.730619    4.734845    4.736259    4.734861    4.730652    4.723637    4.713826    4.701229    4.597121
           -5.000000    4.588136    4.692097    4.704681    4.714488    4.721505    4.725720    4.727131    4.725736    4.721537    4.714537    4.704746    4.692177    4.588297
           -4.000000    4.576126    4.679790    4.692339    4.702118    4.709113    4.713316    4.714725    4.713334    4.709146    4.702167    4.692405    4.679873    4.576290
           -3.000000    4.560950    4.664243    4.676748    4.686492    4.693463    4.697653    4.699054    4.697670    4.693497    4.686543    4.676816    4.664327    4.561117
           -2.000000    4.542632    4.645484    4.657935    4.667637    4.674578    4.678750    4.680146    4.678768    4.674612    4.667689    4.658003    4.645569    4.542800
           -1.000000    4.521197    4.623537    4.635924    4.645578    4.652485    4.656635    4.658026    4.656653    4.652520    4.645630    4.635994    4.623624    4.521369
            0.000000    4.496681    4.598433    4.610752    4.620350    4.627219    4.631345    4.632727    4.631364    4.627254    4.620403    4.610823    4.598522    4.496855
            1.000000    4.469121    4.570219    4.582459    4.591996    4.598819    4.602920    4.604292    4.602938    4.598855    4.592049    4.582530    4.570308    4.469297
            2.000000    4.438562    4.538937    4.551088    4.560557    4.567332    4.571404    4.572768    4.571423    4.567368    4.560611    4.551160    4.539027    4.438740
            3.000000    4.405053    4.504637    4.516693    4.526087    4.532808    4.536848    4.538201    4.536866    4.532845    4.526142    4.516766    4.504727    4.405232
            4.000000    4.368651    4.467377    4.479330    4.488643    4.495306    4.499311    4.500653    4.499330    4.495343    4.488697    4.479403    4.467469    4.368833
            5.000000    4.329416    4.427218    4.439059    4.448286    4.454886    4.458855    4.460183    4.458873    4.454924    4.448341    4.439134    4.427310    4.329598
            6.000000    4.287412    4.384228    4.395949    4.405082    4.411618    4.415544    4.416860    4.415564    4.411654    4.405138    4.396023    4.384321    4.287594
            7.000000    4.242708    4.338476    4.350071    4.359104    4.365569    4.369453    4.370756    4.369473    4.365606    4.359160    4.350146    4.338569    4.242893
            8.000000    4.195382    4.290040    4.301502    4.310431    4.316820    4.320662    4.321947    4.320680    4.316858    4.310487    4.301577    4.290134    4.195567
            9.000000    4.145512    4.239004    4.250323    4.259142    4.265453    4.269246    4.270517    4.269264    4.265491    4.259199    4.250398    4.239098    4.145698
           10.000000    4.093179    4.185447    4.196619    4.205323    4.211551    4.215295    4.216550    4.215314    4.211590    4.205380    4.196694    4.185541    4.093364
          </tableData>
          <tableData breakPoint="20">
                      -10.000000   -5.000000   -4.000000   -3.000000   -2.000000   -1.000000    0.000000    1.000000    2.000000    3.000000    4.000000    5.000000   10.000000
          -10.000000    4.599356    4.703678    4.716308    4.726148    4.733187    4.737417    4.738831    4.737432    4.733215    4.726190    4.716364    4.703750    4.599497
           -9.000000    4.599688    4.703996    4.716622    4.726461    4.733500    4.737729    4.739145    4.737744    4.733530    4.726505    4.716681    4.704069    4.599833
           -8.000000    4.596838    4.701059    4.713677    4.723506    4.730539    4.734766    4.736180    4.734780    4.730570    4.723552    4.713737    4.701134    4.596988
           -7.000000    4.590811    4.694872    4.707469    4.717285    4.724307    4.728527    4.729940    4.728543    4.724337    4.717331    4.707532    4.694949    4.590965
           -6.000000    4.581611    4.685439    4.698008    4.707802    4.714808    4.719019    4.720428    4.719035    4.714840    4.707849    4.698071    4.685518    4.581768
           -5.000000    4.569251    4.672771    4.685304    4.695068    4.702055    4.706254    4.707658    4.706270    4.702088    4.695117    4.685370    4.672852    4.569410
           -4.000000    4.553747    4.656890    4.669376    4.679106    4.686066    4.690249    4.691650    4.690266    4.686099    4.679155    4.669444    4.656973    4.553910
           -3.000000    4.535124    4.637816    4.650249    4.659935    4.666865    4.671030    4.672424    4.671047    4.666900    4.659986    4.650315    4.637899    4.535289
           -2.000000    4.513410    4.615582    4.627950    4.637589    4.644485    4.648628    4.650015    4.648644    4.644518    4.637640    4.628019    4.615668    4.513579
           -1.000000    4.488641    4.590220    4.602519    4.612101    4.618957    4.623076    4.624457    4.623093    4.618992    4.612153    4.602588    4.590308    4.488812
            0.000000    4.460856    4.561776    4.573993    4.583513    4.590325    4.594419    4.595788    4.594435    4.590360    4.583567    4.574064    4.561864    4.461030
            1.000000    4.430103    4.530293    4.542422    4.551873    4.558636    4.562699    4.564061    4.562717    4.558672    4.551928    4.542493    4.530383    4.430279
            2.000000    4.396430    4.495824    4.507858    4.517234    4.523942    4.527975    4.529325    4.527993    4.523979    4.517288    4.507930    4.495914    4.396607
            3.000000    4.359896    4.458428    4.470357    4.479651    4.486302    4.490300    4.491638    4.490319    4.486338    4.479707    4.470430    4.458519    4.360075
            4.000000    4.320561    4.418168    4.429985    4.439193    4.445780    4.449740    4.451066    4.449758    4.445817    4.439247    4.430058    4.418259    4.320742
            5.000000    4.278492    4.375110    4.386806    4.395920    4.402442    4.406362    4.407675    4.406381    4.402479    4.395976    4.386881    4.375202    4.278674
            6.000000    4.233758    4.329326    4.340896    4.349912    4.356362    4.360240    4.361538    4.360259    4.356400    4.349968    4.340970    4.329419    4.233942
            7.000000    4.186437    4.280896    4.292331    4.301242    4.307618    4.311450    4.312735    4.311469    4.307655    4.301299    4.292407    4.280989    4.186621
            8.000000    4.136607    4.229898    4.241193    4.249994    4.256291    4.260077    4.261344    4.260096    4.256328    4.250051    4.241269    4.229992    4.136791
            9.000000    4.084353    4.176423    4.187569    4.196256    4.202471    4.206205    4.207458    4.206225    4.202508    4.196313    4.187644    4.176516    4.084538
           10.000000    4.029764    4.120556    4.131549    4.140115    4.146243    4.149927    4.151161    4.149946    4.146281    4.140171    4.131624    4.120651    4.029948
          </tableData>
          <tableData breakPoint="30">
                      -10.000000   -5.000000   -4.000000   -3.000000   -2.000000   -1.000000    0.000000    1.000000    2.000000    3.000000    4.000000    5.000000   10.000000
          -10.000000    4.586298    4.690317    4.702909    4.712720    4.719739    4.723957    4.725368    4.723971    4.719768    4.712763    4.702966    4.690388    4.586439
           -9.000000    4.583019    4.686939    4.699520    4.709322    4.716335    4.720548    4.721958    4.720563    4.716364    4.709367    4.699579    4.687013    4.583165
           -8.000000    4.576579    4.680328    4.692889    4.702674    4.709675    4.713883    4.715290    4.713898    4.709706    4.702720    4.692949    4.680404    4.576728
           -7.000000    4.566987    4.670493    4.683024    4.692787    4.699771    4.703969    4.705375    4.703985    4.699803    4.692834    4.683086    4.670570    4.567140
           -6.000000    4.554257    4.657447    4.669940    4.679673    4.686637    4.690822    4.692222    4.690837    4.686669    4.679721    4.670004    4.657526    4.554414
           -5.000000    4.538408    4.641211    4.653656    4.663353    4.670291    4.674460    4.675857    4.674477    4.670323    4.663402    4.653721    4.641292    4.538567
           -4.000000    4.519464    4.621809    4.634200    4.643853    4.650760    4.654911    4.656301    4.654927    4.650794    4.643903    4.634265    4.621892    4.519626
           -3.000000    4.497457    4.599273    4.611600    4.621204    4.628075    4.632205    4.633587    4.632222    4.628109    4.621254    4.611667    4.599357    4.497622
           -2.000000    4.472424    4.573642    4.585896    4.595443    4.602274    4.606380    4.607756    4.606398    4.602309    4.595495    4.585965    4.573728    4.472592
           -1.000000    4.444407    4.544957    4.557131    4.566615    4.573402    4.577480    4.578846    4.577497    4.573438    4.566668    4.557199    4.545043    4.444577
            0.000000    4.413451    4.513267    4.525351    4.534767    4.541503    4.545552    4.546910    4.545570    4.541539    4.534819    4.525421    4.513354    4.413623
            1.000000    4.379609    4.478625    4.490613    4.499954    4.506636    4.510653    4.511998    4.510670    4.506671    4.500007    4.490684    4.478714    4.379784
            2.000000    4.342940    4.441091    4.452973    4.462232    4.468857    4.472839    4.474172    4.472857    4.468893    4.462287    4.453045    4.441180    4.343118
            3.000000    4.303506    4.400725    4.412497    4.421668    4.428230    4.432174    4.433496    4.432193    4.428266    4.421722    4.412570    4.400817    4.303684
            4.000000    4.261374    4.357604    4.369254    4.378332    4.384827    4.388731    4.390039    4.388750    4.384863    4.378387    4.369328    4.357695    4.261554
            5.000000    4.216615    4.311793    4.323317    4.332294    4.338719    4.342581    4.343875    4.342600    4.338757    4.332351    4.323391    4.311885    4.216798
            6.000000    4.169307    4.263375    4.274764    4.283638    4.289988    4.293805    4.295083    4.293823    4.290025    4.283695    4.274838    4.263467    4.169489
            7.000000    4.119529    4.212431    4.223679    4.232443    4.238713    4.242482    4.243745    4.242501    4.238751    4.232498    4.223752    4.212523    4.119712
            8.000000    4.067366    4.159047    4.170147    4.178797    4.184985    4.188704    4.189950    4.188723    4.185022    4.178853    4.170223    4.159141    4.067550
            9.000000    4.012908    4.103314    4.114260    4.122790    4.128892    4.132561    4.133790    4.132580    4.128931    4.122846    4.114336    4.103408    4.013093
           10.000000    3.956245    4.045328    4.056114    4.064517    4.070530    4.074146    4.075357    4.074164    4.070569    4.064574    4.056189    4.045422    3.956429
          </tableData>
          <tableData breakPoint="40">
                      -10.000000   -5.000000   -4.000000   -3.000000   -2.000000   -1.000000    0.000000    1.000000    2.000000    3.000000    4.000000    5.000000   10.000000
          -10.000000    4.561178    4.664611    4.677133    4.686889    4.693869    4.698062    4.699466    4.698076    4.693898    4.686932    4.677190    4.664682    4.561318
           -9.000000    4.554287    4.657539    4.670038    4.679776    4.686744    4.690932    4.692333    4.690946    4.686774    4.679821    4.670097    4.657613    4.554431
           -8.000000    4.544265    4.647263    4.659732    4.669446    4.676396    4.680574    4.681972    4.680589    4.676427    4.669492    4.659792    4.647338    4.544414
           -7.000000    4.531129    4.633801    4.646231    4.655915    4.662844    4.667008    4.668401    4.667024    4.662875    4.655961    4.646293    4.633878    4.531281
           -6.000000    4.514900    4.617175    4.629557    4.639204    4.646107    4.650254    4.651642    4.650270    4.646139    4.639252    4.629621    4.617255    4.515057
           -5.000000    4.495605    4.597413    4.609738    4.619341    4.626212    4.630341    4.631724    4.630357    4.626244    4.619390    4.609803    4.597494    4.495764
           -4.000000    4.473276    4.574547    4.586807    4.596360    4.603195    4.607301    4.608677    4.607319    4.603229    4.596410    4.586874    4.574630    4.473438
           -3.000000    4.447951    4.548615    4.560803    4.570299    4.577092    4.581175    4.582541    4.581192    4.577126    4.570349    4.560869    4.548699    4.448116
           -2.000000    4.419673    4.519666    4.531770    4.541202    4.547951    4.552007    4.553365    4.552024    4.547985    4.541254    4.531839    4.519750    4.419842
           -1.000000    4.388493    4.487743    4.499760    4.509122    4.515821    4.519845    4.521194    4.519864    4.515856    4.509175    4.499828    4.487830    4.388664
            0.000000    4.354463    4.452908    4.464825    4.474112    4.480755    4.484750    4.486087    4.484768    4.480791    4.474165    4.464895    4.452995    4.354636
            1.000000    4.317641    4.415216    4.427029    4.436233    4.442819    4.446777    4.448102    4.446794    4.442855    4.436286    4.427100    4.415305    4.317816
            2.000000    4.278092    4.374733    4.386434    4.395551    4.402073    4.405993    4.407308    4.406013    4.402110    4.395605    4.386506    4.374824    4.278268
            3.000000    4.235884    4.331532    4.343112    4.352134    4.358591    4.362472    4.363771    4.362490    4.358627    4.352190    4.343184    4.331622    4.236063
            4.000000    4.191091    4.285686    4.297139    4.306061    4.312446    4.316285    4.317570    4.316302    4.312483    4.306116    4.297211    4.285778    4.191270
            5.000000    4.143788    4.237272    4.248589    4.257409    4.263719    4.267512    4.268783    4.267530    4.263755    4.257464    4.248664    4.237364    4.143969
            6.000000    4.094057    4.186376    4.197553    4.206261    4.212493    4.216238    4.217494    4.216258    4.212531    4.206317    4.197627    4.186468    4.094239
            7.000000    4.041986    4.133083    4.144113    4.152706    4.158855    4.162552    4.163792    4.162570    4.158894    4.152763    4.144187    4.133176    4.042169
            8.000000    3.987660    4.077486    4.088362    4.096836    4.102900    4.106545    4.107768    4.106563    4.102936    4.096892    4.088437    4.077579    3.987844
            9.000000    3.931175    4.019680    4.030396    4.038745    4.044721    4.048313    4.049515    4.048331    4.044758    4.038802    4.030472    4.019773    3.931358
           10.000000    3.872623    3.959762    3.970312    3.978533    3.984415    3.987951    3.989137    3.987969    3.984453    3.978589    3.970388    3.959856    3.872807
          </tableData>
          <tableData breakPoint="50">
                      -10.000000   -5.000000   -4.000000   -3.000000   -2.000000   -1.000000    0.000000    1.000000    2.000000    3.000000    4.000000    5.000000   10.000000
          -10.000000    4.523993    4.626563    4.638979    4.648654    4.655575    4.659734    4.661125    4.659748    4.655604    4.648696    4.639036    4.626634    4.524133
           -9.000000    4.513490    4.615793    4.628178    4.637827    4.644731    4.648878    4.650267    4.648893    4.644761    4.637870    4.628236    4.615866    4.513635
           -8.000000    4.499896    4.601861    4.614206    4.623824    4.630703    4.634839    4.636223    4.634854    4.630735    4.623869    4.614267    4.601937    4.500045
           -7.000000    4.483238    4.584795    4.597091    4.606670    4.613523    4.617641    4.619020    4.617658    4.613554    4.606716    4.597152    4.584872    4.483390
           -6.000000    4.463542    4.564622    4.576860    4.586395    4.593215    4.597316    4.598688    4.597332    4.593248    4.586442    4.576923    4.564702    4.463697
           -5.000000    4.440845    4.541378    4.553550    4.563032    4.569818    4.573895    4.575259    4.573911    4.569851    4.563081    4.553616    4.541459    4.441003
           -4.000000    4.415184    4.515104    4.527201    4.536625    4.543369    4.547421    4.548778    4.547438    4.543402    4.536674    4.527266    4.515186    4.415346
           -3.000000    4.386605    4.485843    4.497858    4.507219    4.513916    4.517941    4.519289    4.517957    4.513949    4.507269    4.497923    4.485927    4.386770
           -2.000000    4.355160    4.453650    4.465575    4.474865    4.481512    4.485507    4.486845    4.485526    4.481547    4.474917    4.465643    4.453735    4.355328
           -1.000000    4.320904    4.418581    4.430407    4.439622    4.446214    4.450175    4.451503    4.450192    4.446249    4.439674    4.430475    4.418667    4.321074
            0.000000    4.283895    4.380697    4.392417    4.401548    4.408082    4.412009    4.413324    4.412026    4.408118    4.401601    4.392488    4.380785    4.284067
            1.000000    4.244199    4.340065    4.351671    4.360714    4.367185    4.371073    4.372377    4.371092    4.367220    4.360769    4.351742    4.340153    4.244373
            2.000000    4.201886    4.296754    4.308240    4.317191    4.323593    4.327443    4.328732    4.327460    4.323629    4.317245    4.308312    4.296844    4.202062
            3.000000    4.157029    4.250844    4.262202    4.271052    4.277384    4.281189    4.282465    4.281208    4.277420    4.271107    4.262274    4.250934    4.157208
            4.000000    4.109712    4.202413    4.213636    4.222381    4.228638    4.232399    4.233660    4.232419    4.228675    4.222436    4.213709    4.202504    4.109891
            5.000000    4.060009    4.151546    4.162627    4.171262    4.177440    4.181155    4.182399    4.181173    4.177477    4.171317    4.162701    4.151636    4.060190
            6.000000    4.008010    4.098327    4.109261    4.117783    4.123878    4.127543    4.128772    4.127562    4.123916    4.117837    4.109335    4.098420    4.008192
            7.000000    3.953805    4.042853    4.053634    4.062035    4.068045    4.071659    4.072869    4.071677    4.068083    4.062090    4.053708    4.042945    3.953988
            8.000000    3.897488    3.985217    3.995839    4.004115    4.010036    4.013597    4.014790    4.013616    4.010074    4.004171    3.995913    3.985310    3.897671
            9.000000    3.839154    3.925519    3.935976    3.944123    3.949955    3.953457    3.954633    3.953476    3.949991    3.944180    3.936051    3.925612    3.839337
           10.000000    3.778901    3.863860    3.874145    3.882161    3.887895    3.891344    3.892500    3.891363    3.887933    3.882217    3.874220    3.863953    3.779085
          </tableData>
        </table>
      </product>
    </function>

        </axis>

        <axis name="DRAG">

            <!-- Drag axis coefficient functions -->

            <function name="aero/coefficient/CDo">
                <description>
                  Drag at zero lift.
                  Source: http://www.hq.nasa.gov/pao/History/SP-468/ch6-3.htm
                </description>
                <product>
                    <property>aero/qbar-area</property>
                    <value>0.032</value>
                </product>
            </function>

            <function name="aero/coefficient/CDDf">
                <description>Delta drag due to flap deflection</description>
                <product>
                    <property>aero/function/ground-effect-factor-drag</property>
                    <property>aero/qbar-area</property>
                    <table>
                        <independentVar>fcs/flap-pos-deg</independentVar>
                        <tableData>
                          0.0  0.0
                          10.0  0.007
                          20.0  0.012
                          30.0  0.018
                        </tableData>
                    </table>
                </product>
            </function>

            <function name="aero/coefficient/CDwbh">
                <description>Drag due to alpha</description>
                <product>
                    <property>aero/function/ground-effect-factor-drag</property>
                    <property>aero/qbar-area</property>
                    <table>
                        <independentVar lookup="row">aero/alpha-rad</independentVar>
                        <independentVar lookup="column">fcs/flap-pos-deg</independentVar>
                        <tableData>
                                        0.0         10.0        20.0         30.0
                            -0.0872664  0.00407143  3.8165e-05  0.000512444  0.00137231
                            -0.0698132  0.0013424   0.000440634 0.00248067   0.00412341
                            -0.0523599  8.96747e-05 0.00231942  0.0059252    0.00835082
                            -0.0349066  0.000313268 0.00567451  0.0108461    0.0140545
                            -0.0174533  0.00201318  0.0105059   0.0172432    0.0212346
                             0.0        0.0051894   0.0168137   0.0251167    0.0298909
                             0.0174533  0.00993967  0.0247521   0.0346492    0.0402205
                             0.0349066  0.0162201   0.0342207   0.0457119    0.0520802
                             0.0523599  0.0240308   0.0452195   0.0583047    0.0654701
                             0.0698132  0.0333717   0.0577485   0.0724278    0.0803902
                             0.0872664  0.0442427   0.0718077   0.088081     0.0968405
                             0.10472    0.056644    0.0873971   0.105265     0.114821
                             0.122173   0.0705754   0.104517    0.123978     0.134332
                             0.139626   0.086037    0.123166    0.144222     0.155373
                             0.15708    0.096239    0.135317    0.157346     0.168984
                             0.174533   0.106859    0.147857    0.170848     0.182966
                             0.191986   0.118034    0.160954    0.184905     0.197503
                             0.209439   0.129765    0.174606    0.199517     0.212596
                             0.226893   0.142366    0.189176    0.215072     0.228643
                             0.244346   0.156452    0.205363    0.23231      0.246406
                             0.261799   0.172732    0.223956    0.252059     0.266733
                             0.279253   0.178209    0.230187    0.258667     0.273529
                             0.296706   0.171598    0.222665    0.25069      0.265325
                             0.314159   0.161786    0.211468    0.2388       0.253089
                             0.331613   0.147493    0.19508     0.221364     0.235129
                             0.349066   0.109678    0.151171    0.174408     0.186649
                        </tableData>
                    </table>
                </product>
            </function>

            <function name="aero/coefficient/CDDe">
                <description>Drag due to Elevator Deflection</description>
                <product>
                    <property>aero/qbar-area</property>
                    <property>fcs/mag-elevator-pos-rad</property>
                    <value>0.06</value>
                </product>
            </function>

            <function name="aero/coefficient/CDbeta">
                <description>Drag due to sideslip</description>
                <product>
                    <property>aero/qbar-area</property>
                    <property>aero/mag-beta-rad</property>
                    <value>0.17</value>
                </product>
            </function>

        </axis>

        <axis name="SIDE">

            <!-- Side axis coefficient functions -->

            <function name="aero/coefficient/CYb">
                <description>Side force due to beta</description>
                <product>
                    <property>aero/qbar-area</property>
                    <table>
                        <independentVar>aero/beta-rad</independentVar>
                        <tableData>
                            -0.349  0.108
                             0.0    0.0
                             0.349 -0.108
                        </tableData>
                    </table>
                </product>
            </function>

            <function name="aero/coefficient/CYda">
                <description>Side force due to aileron</description>
                <product>
                    <property>aero/qbar-area</property>
                    <property>fcs/effective-aileron-pos</property>
                    <value>-0.05</value>
                </product>
            </function>

            <function name="aero/coefficient/CYdr">
                <description>Side force due to rudder</description>
                <product>
                    <property>aero/qbar-area</property>
                    <property>fcs/rudder-pos-rad</property>
                    <value>0.098</value>
                </product>
            </function>

            <function name="aero/coefficient/CYp">
                <description>Side force due to roll rate</description>
                <product>
                    <property>aero/qbar-area</property>
                    <property>aero/bi2vel</property>
                    <property>velocities/p-aero-rad_sec</property>
                    <value>-0.037</value>
                </product>
            </function>

            <function name="aero/coefficient/CYr">
                <description>Side force due to yaw rate</description>
                <product>
                    <property>aero/qbar-area</property>
                    <property>aero/bi2vel</property>
                    <property>velocities/r-aero-rad_sec</property>
                    <value>0.21</value>
                </product>
            </function>

        </axis>

        <axis name="ROLL">

            <!-- Roll axis coefficient functions -->

            <function name="aero/coefficient/Clb">
                <description>Roll moment due to beta</description>
                <product>
                    <property>aero/qbar-area</property>
                    <property>metrics/bw-ft</property>
                    <table>
                        <independentVar>aero/beta-rad</independentVar>
                        <tableData>
                            -0.349  0.0311
                             0.0    0.0
                             0.349 -0.0311
                        </tableData>
                    </table>
                </product>
            </function>

            <function name="aero/coefficient/Clp">
                <description>Roll moment due to roll rate (roll damping)</description>
                <product>
                    <property>aero/qbar-area</property>
                    <property>metrics/bw-ft</property>
                    <property>aero/bi2vel</property>
                    <property>velocities/p-aero-rad_sec</property>
                    <value>-0.47</value>
                </product>
            </function>

            <function name="aero/coefficient/Clr">
                <description>Roll moment due to yaw rate</description>
                <product>
                    <property>aero/qbar-area</property>
                    <property>metrics/bw-ft</property>
                    <property>aero/bi2vel</property>
                    <property>velocities/r-aero-rad_sec</property>
                    <table>
                        <independentVar>aero/alpha-rad</independentVar>
                        <tableData>
                             0.000  0.08
                             0.094  0.19
                        </tableData>
                    </table>
                </product>
            </function>

            <function name="aero/coefficient/Clda">
                <description>Roll moment due to aileron</description>
                <product>
                    <property>aero/qbar-area</property>
                    <property>metrics/bw-ft</property>
                    <property>fcs/effective-aileron-pos</property>
                    <value>0.23</value>
                </product>
            </function>

            <function name="aero/coefficient/Cldr">
                <description>Roll moment due to rudder</description>
                <product>
                    <property>aero/qbar-area</property>
                    <property>metrics/bw-ft</property>
                    <property>fcs/rudder-pos-rad</property>
                    <value>0.0147</value>
                </product>
            </function>

        </axis>

        <axis name="PITCH">

            <!-- Pitch axis coefficient functions -->

            <function name="aero/coefficient/Cmalpha">
                <description>Pitch moment due to alpha</description>
                <product>
                    <property>aero/qbar-area</property>
                    <property>metrics/cbarw-ft</property>
                    <property>aero/alpha-rad</property>
                    <value>-1.8</value>
                </product>
            </function>

            <function name="aero/coefficient/CmDf">
                <description>Delta pitching moment due to flap deflection</description>
                <product>
                    <property>aero/qbar-area</property>
                    <property>metrics/cbarw-ft</property>
                    <table>
                        <independentVar>fcs/flap-pos-deg</independentVar>
                        <tableData>
<!--                          0.0   0.0
                          10.0  -0.0654
                          20.0  -0.0981
                          30.0  -0.1140 -->
                          0.0   0.0
                          10.0  -0.03
                          20.0  -0.05
                          30.0  -0.06
                        </tableData>
                    </table>
                </product>
            </function>

            <function name="aero/coefficient/Cmq">
                <description>Pitch moment due to pitch rate</description>
                <product>
                    <property>aero/qbar-area</property>
                    <property>metrics/cbarw-ft</property>
                    <property>aero/ci2vel</property>
                    <property>velocities/q-aero-rad_sec</property>
                    <value>-12.4</value>
                </product>
            </function>

            <function name="aero/coefficient/Cmadot">
                <description>Pitch moment due to alpha rate</description>
                <product>
                    <property>aero/qbar-area</property>
                    <property>metrics/cbarw-ft</property>
                    <property>aero/ci2vel</property>
                    <property>aero/alphadot-rad_sec</property>
                    <value>-5.2</value>
                </product>
            </function>

            <function name="aero/coefficient/Cmo">
                <description>Pitching moment at zero alpha</description>
                <product>
                    <property>aero/qbar-area</property>
                    <property>metrics/cbarw-ft</property>
                    <value>0.1</value>
                </product>
            </function>

            <function name="aero/coefficient/Cmde">
                <description>Pitch moment due to elevator deflection</description>
                <product>
                    <property>aero/qbar-area</property>
                    <property>metrics/cbarw-ft</property>
                    <property>fcs/elevator-pos-rad</property>
                    <value>-1.28</value>
                </product>
            </function>

        </axis>

        <axis name="YAW">

            <!-- Yaw axis coefficient functions -->

            <function name="aero/coefficient/Cnb">
                <description>Yaw moment due to beta</description>
                <product>
                    <property>aero/qbar-area</property>
                    <property>metrics/bw-ft</property>
                    <table>
                        <independentVar>aero/beta-rad</independentVar>
                        <tableData>
                            -0.349  -0.0227
                             0.0     0.0
                             0.349   0.0227
                        </tableData>
                    </table>
                </product>
            </function>

            <function name="aero/coefficient/Cnp">
                <description>Yaw moment due to roll rate</description>
                <product>
                    <property>aero/qbar-area</property>
                    <property>metrics/bw-ft</property>
                    <property>aero/bi2vel</property>
                    <property>velocities/p-aero-rad_sec</property>
                    <value>-0.03</value>
                </product>
            </function>

            <function name="aero/coefficient/Cnr">
                <description>Yaw moment due to yaw rate</description>
                <product>
                    <property>aero/qbar-area</property>
                    <property>metrics/bw-ft</property>
                    <property>aero/bi2vel</property>
                    <property>velocities/r-aero-rad_sec</property>
                    <value>-0.099</value>
                </product>
            </function>

            <function name="aero/coefficient/Cnda">
                <description>Yaw moment due to aileron</description>
                <product>
                    <property>aero/qbar-area</property>
                    <property>metrics/bw-ft</property>
                    <property>fcs/effective-aileron-pos</property>
                    <value>0.0053</value>
                </product>
            </function>

            <function name="aero/coefficient/Cndr">
                <description>Yaw moment due to rudder</description>
                <product>
                    <property>aero/qbar-area</property>
                    <property>metrics/bw-ft</property>
                    <property>fcs/rudder-pos-rad</property>
                    <value>-0.043</value>
                </product>
            </function>

        </axis>

    </aerodynamics>
<!--
    <input port="1137"/>
-->

    <output name="JSBout172B.csv" type="CSV" rate="10">
        <rates> ON             </rates>
        <velocities> ON        </velocities>
        <position> ON          </position>
        <atmosphere> OFF       </atmosphere>
        <fcs> ON               </fcs>
        <ground_reactions> OFF </ground_reactions>
        <propulsion> ON       </propulsion>
        <simulation> ON        </simulation>
        <massprops> ON        </massprops>
        <forces> OFF           </forces>
        <moments> OFF          </moments>
        <aerosurfaces> OFF      </aerosurfaces>
        <property> position/vrp-gc-latitude_deg </property>
        <property> position/vrp-longitude_deg   </property>
        <property> position/vrp-radius-ft       </property>
        <function name="velocities/pi-deg_sec">
          <todegrees> <p> velocities/pi-rad_sec </p> </todegrees>
        </function>
    </output>

<!---
    <output name="localhost" type="SOCKET" port="1138" rate="20">
        <simulation> OFF </simulation>
        <atmosphere> OFF </atmosphere>
        <massprops> OFF</massprops>
        <rates> OFF </rates>
        <velocities> OFF </velocities>
        <forces> OFF </forces>
        <moments> OFF </moments>
        <position> OFF </position>
        <propulsion> OFF </propulsion>
        <aerosurfaces> OFF </aerosurfaces>
        <fcs> OFF </fcs>
        <ground_reactions> OFF </ground_reactions>
        <coefficients> OFF </coefficients>
        <property> position/h-agl-ft </property>
        <property> velocities/vc-kts </property>
        <property> attitude/phi-rad </property>
        <property> fcs/attitude/sensor/phi-rad </property>
    </output>

    <output name="localhost" type="SOCKET" port="1140" rate="40">
        <simulation> OFF </simulation>
        <atmosphere> OFF </atmosphere>
        <massprops> OFF</massprops>
        <aerosurfaces> OFF </aerosurfaces>
        <rates> OFF </rates>
        <velocities> ON </velocities>
        <forces> OFF </forces>
        <moments> OFF </moments>
        <position> OFF </position>
        <propulsion> OFF </propulsion>
        <fcs> OFF </fcs>
        <ground_reactions> OFF </ground_reactions>
        <coefficients> OFF </coefficients>
    </output> 
    -->
</fdm_config>

<?xml version="1.0"?>
<initialize name="Elevator doublet init">
  <!--
    This file sets up the aircraft at 4000
	feet on a heading of 200 degrees.
  -->
  <vt unit="KTS">         96.0  </vt>
  <latitude unit="DEG">   47.0  </latitude>
  <longitude unit="DEG"> 122.0  </longitude>
  <psi unit="DEG">       200.0  </psi>
  <altitude unit="FT">  2000.0  </altitude>
  <gamma unit="DEG">       0.0  </gamma>
  <running> 0 </running>
</initialize>
<?xml version="1.0"?>
<output name="JSBout172B.csv" type="CSV" rate="10">
    <property> aero/qbar-psf </property>
    <property> attitude/phi-rad </property>
    <property> fcs/attitude/sensor/phi-rad </property>
    <property> position/h-sl-ft </property>
    <property> velocities/vc-kts </property>
    <property> fcs/throttle-cmd-norm </property>
    <rates> ON </rates>
    <velocities> ON </velocities>
    <forces> ON </forces>
    <moments> ON </moments>
    <position> ON </position>
    <propulsion> ON </propulsion>
    <aerosurfaces> OFF </aerosurfaces>
    <fcs> OFF </fcs>
    <ground_reactions> ON </ground_reactions>
</output>
<?xml version="1.0"?>
<initialize name="reset00">
  <!--
    This file sets up the aircraft to start off
    from the runway in preparation for takeoff.
  -->
  <ubody unit="FT/SEC">    0.0  </ubody>
  <vbody unit="FT/SEC">    0.0  </vbody>
  <wbody unit="FT/SEC">    0.0  </wbody>
  <longitude unit="DEG"> -95.163839  </longitude>
  <latitude unit="DEG">   29.593978  </latitude>
  <phi unit="DEG">         0.0  </phi>
  <theta unit="DEG">       0.0  </theta>
  <psi unit="DEG">         0.0  </psi>
  <altitude unit="FT">     4.305 </altitude>
  <elevation unit="FT">    0.0  </elevation>
  <hwind> 0.0 </hwind>
</initialize>
<?xml version="1.0"?>
<initialize name="reset00">
  <!--
  -->
  <vt unit="KTS">        100.0  </vt>
  <latitude unit="DEG">   28.0  </latitude>
  <longitude unit="DEG"> -90.0  </longitude>
  <psi unit="DEG">       200.0  </psi>
  <altitude unit="FT">   4000.0  </altitude>
  <running>                0    </running>
</initialize>

<?xml version="1.0"?>
<initialize name="C172 at rest on the runway pointing north.">
  <!--
    This file sets up the aircraft pointing north at 45 north latitude.
  -->
  <ubody unit="FT/SEC">    0.0  </ubody>
  <vbody unit="FT/SEC">    0.0  </vbody>
  <wbody unit="FT/SEC">    0.0  </wbody>
  <longitude unit="DEG"> -95.163839  </longitude>
  <latitude unit="DEG">   45.0  </latitude>
  <phi unit="DEG">         0.0  </phi>
  <theta unit="DEG">       0.0  </theta>
  <psi unit="DEG">         0.0  </psi>
  <altitude unit="FT">     4.6  </altitude>
</initialize>
// This file instructs the automatic synchronization utilities where to
// install this aircraft and under what name.
//
// The syntax is easy;
// * the package name at the beginning of a new line followed by a colon
// * a space as a column separator
// * the path and filename relative to the aircraft install directory
//
// Currently known package names are: FlightGear

FlightGear:
Cessna 182S, approved 1996-10-03

Engine (from TCDS)
------------------

Lycoming IO-540-AB1A5
Rated HP: 230 HP
Maximum RPM: 2400


Propeller (2-blade, from TCDS)
------------------------------

McCauley Constant Speed B2D34C235/90DKB-8
Diameter: 80.5in-82in
Pitch range: 17deg-31.8deg


Propeller (3-blade, from TCDS)
------------------------------

McCauley Constant Speed B3D36C431/80VSA-1
Diameter: 77.5in-79in
Pitch range: 14.9deg-31.7deg


All Propellers (from TCDS)
--------------------------

Static RPM at full throttle: 2300RPM-2400RPM


Velocities (from TCDS)
----------------------

Va1 (maneuvering): 110 KIAS
Vno (max structural cruising): 140 KIAS
Vne (never exceed): 175 KIAS
Vfe (flaps extended): 100 KIAS


Additional Velocities
---------------------

Vx (best angle of climb): 63 KIAS
Vy (best rate of climb): 80 KIAS
Stall speed, no flaps: 56 kt
Stall speed, full flaps: 50 kt
Best climb: 924 fpm
Service ceiling: 18,100 ft
Takeoff ground roll: 795
Takeoff over 50 ft obstacle: 1,514 ft
Landing ground roll: 590 ft
Landing over 50 ft obstacle: 1,390 ft

Performance
-----------

Cruise, 80% power, 6,000 ft: 140 kt
Cruise, 65% power, 8,000 ft: 130 kt
Cruise, 55% power, 10,000 ft: 121 kt
Range, 75% power, 6,000 ft: 820 nm
Range, 65% power, 8,000 ft: 910 nm
Range, 55% power, 10,000 ft: 968 nm
<?xml version="1.0"?>
<?xml-stylesheet type="text/xsl" href="http://jsbsim.sourceforge.net/JSBSim.xsl"?>
<fdm_config name="c182" version="2.0" release="BETA"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:noNamespaceSchemaLocation="http://jsbsim.sourceforge.net/JSBSim.xsd">

    <fileheader>
        <author> Unknown </author>
        <filecreationdate> 2002-01-01 </filecreationdate>
        <version> $Id: c182.xml,v 1.24 2012/12/22 15:22:21 jberndt Exp $ </version>
        <description> Cessna C-182 </description>
      <note>
        This model was created using publicly available data, publicly available
        technical reports, textbooks, and guesses. It contains no proprietary or
        restricted data. If this model has been validated at all, it would be
        only to the extent that it seems to "fly right", and that it possibly
        complies with published, publicly known, performance data (maximum speed,
        endurance, etc.). Thus, this model is meant for educational and entertainment
        purposes only.

        This simulation model is not endorsed by the manufacturer. This model is not
        to be sold.
      </note>
    </fileheader>

    <metrics>
        <wingarea unit="FT2"> 174 </wingarea>
        <wingspan unit="FT"> 35.8 </wingspan>
        <chord unit="FT"> 4.9 </chord>
        <htailarea unit="FT2"> 21.9 </htailarea>
        <htailarm unit="FT"> 15.7 </htailarm>
        <vtailarea unit="FT2"> 16.5 </vtailarea>
        <vtailarm unit="FT"> 0 </vtailarm>
        <location name="AERORP" unit="IN">
            <x> 43.2 </x>
            <y> 0 </y>
            <z> 59.4 </z>
        </location>
        <location name="EYEPOINT" unit="IN">
            <x> 37 </x>
            <y> 0 </y>
            <z> 48 </z>
        </location>
        <location name="VRP" unit="IN">
            <x> 43.9 </x>
            <y> 0 </y>
            <z> 40.6 </z>
        </location>
    </metrics>

    <mass_balance>
        <ixx unit="SLUG*FT2"> 948 </ixx>
        <iyy unit="SLUG*FT2"> 1346 </iyy>
        <izz unit="SLUG*FT2"> 1967 </izz>
        <emptywt unit="LBS"> 1700 </emptywt>
        <location name="CG" unit="IN">
            <x> 41 </x>
            <y> 0 </y>
            <z> 36.5 </z>
        </location>
        <pointmass name="name">
            <weight unit="LBS"> 180 </weight>
            <location name="POINTMASS" unit="IN">
                <x> 36 </x>
                <y> -14 </y>
                <z> 24 </z>
            </location>
        </pointmass>
    </mass_balance>

    <ground_reactions>
        <contact type="BOGEY" name="NOSE">
            <location unit="IN">
                <x> -6.8 </x>
                <y> 0 </y>
                <z> -20 </z>
            </location>
            <static_friction> 0.8 </static_friction>
            <dynamic_friction> 0.5 </dynamic_friction>
            <rolling_friction> 0.02 </rolling_friction>
            <spring_coeff unit="LBS/FT"> 1800 </spring_coeff>
            <damping_coeff unit="LBS/FT/SEC"> 600 </damping_coeff>
            <max_steer unit="DEG"> 10 </max_steer>
            <brake_group> NONE </brake_group>
            <retractable>0</retractable>
        </contact>
        <contact type="BOGEY" name="LEFT_MAIN">
            <location unit="IN">
                <x> 58.2 </x>
                <y> -43 </y>
                <z> -17.9 </z>
            </location>
            <static_friction> 0.8 </static_friction>
            <dynamic_friction> 0.5 </dynamic_friction>
            <rolling_friction> 0.02 </rolling_friction>
            <spring_coeff unit="LBS/FT"> 5400 </spring_coeff>
            <damping_coeff unit="LBS/FT/SEC"> 1600 </damping_coeff>
            <max_steer unit="DEG"> 360.0 </max_steer>
            <brake_group> LEFT </brake_group>
            <retractable>0</retractable>
        </contact>
        <contact type="BOGEY" name="RIGHT_MAIN">
            <location unit="IN">
                <x> 58.2 </x>
                <y> 43 </y>
                <z> -17.9 </z>
            </location>
            <static_friction> 0.8 </static_friction>
            <dynamic_friction> 0.5 </dynamic_friction>
            <rolling_friction> 0.02 </rolling_friction>
            <spring_coeff unit="LBS/FT"> 5400 </spring_coeff>
            <damping_coeff unit="LBS/FT/SEC"> 1600 </damping_coeff>
            <max_steer unit="DEG"> 360.0 </max_steer>
            <brake_group> RIGHT </brake_group>
            <retractable>0</retractable>
        </contact>
        <contact type="BOGEY" name="TAIL_SKID">
            <location unit="IN">
                <x> 188 </x>
                <y> 0 </y>
                <z> 8 </z>
            </location>
            <static_friction> 0.2 </static_friction>
            <dynamic_friction> 0.2 </dynamic_friction>
            <rolling_friction> 0.2 </rolling_friction>
            <spring_coeff unit="LBS/FT"> 20000 </spring_coeff>
            <damping_coeff unit="LBS/FT/SEC"> 1000 </damping_coeff>
            <max_steer unit="DEG"> 0.0 </max_steer>
            <brake_group> NONE </brake_group>
            <retractable>0</retractable>
        </contact>
        <contact type="BOGEY" name="LEFT_TIP">
            <location unit="IN">
                <x> 43.2 </x>
                <y> -214.8 </y>
                <z> 59.4 </z>
            </location>
            <static_friction> 0.2 </static_friction>
            <dynamic_friction> 0.2 </dynamic_friction>
            <rolling_friction> 0.2 </rolling_friction>
            <spring_coeff unit="LBS/FT"> 10000 </spring_coeff>
            <damping_coeff unit="LBS/FT/SEC"> 2000 </damping_coeff>
            <max_steer unit="DEG"> 0.0 </max_steer>
            <brake_group> NONE </brake_group>
            <retractable>0</retractable>
        </contact>
        <contact type="BOGEY" name="RIGHT_TIP">
            <location unit="IN">
                <x> 43.2 </x>
                <y> 214.8 </y>
                <z> 59.4 </z>
            </location>
            <static_friction> 0.2 </static_friction>
            <dynamic_friction> 0.2 </dynamic_friction>
            <rolling_friction> 0.2 </rolling_friction>
            <spring_coeff unit="LBS/FT"> 10000 </spring_coeff>
            <damping_coeff unit="LBS/FT/SEC"> 2000 </damping_coeff>
            <max_steer unit="DEG"> 0.0 </max_steer>
            <brake_group> NONE </brake_group>
            <retractable>0</retractable>
        </contact>
    </ground_reactions>
    <propulsion>
        <engine file="engIO540AB1A5">
            <feed>0</feed>
            <feed>1</feed>
            <thruster file="prop_81in2v">
                <location unit="IN">
                    <x> -37.7 </x>
                    <y> 0 </y>
                    <z> 26.6 </z>
                </location>
                <orient unit="DEG">
                    <roll> 0.0 </roll>
                    <pitch> 0.0 </pitch>
                    <yaw> 0.0 </yaw>
                </orient>
                <sense> 1 </sense>
                <p_factor> 10 </p_factor>
            </thruster>
        </engine>
        <tank type="FUEL">    <!-- Tank number 0 -->
            <location unit="IN">
                <x> 56 </x>
                <y> -112 </y>
                <z> 59.4 </z>
            </location>
            <capacity unit="LBS"> 300 </capacity>
            <contents unit="LBS"> 200 </contents>
        </tank>
        <tank type="FUEL">    <!-- Tank number 1 -->
            <location unit="IN">
                <x> 56 </x>
                <y> 112 </y>
                <z> 59.4 </z>
            </location>
            <capacity unit="LBS"> 300 </capacity>
            <contents unit="LBS"> 200 </contents>
        </tank>
    </propulsion>
    <flight_control name="FCS: c182">
        <channel name="Pitch">
            <summer name="Pitch Trim Sum">
                <input>fcs/elevator-cmd-norm</input>
                <input>fcs/pitch-trim-cmd-norm</input>
                <clipto>
                    <min>-1</min>
                    <max>1</max>
                </clipto>
            </summer>

            <aerosurface_scale name="Elevator Control">
                <input>fcs/pitch-trim-sum</input>
                <gain>0.01745</gain>
                <range>
                    <min>-28</min>
                    <max>23</max>
                </range>
                <output>fcs/elevator-pos-rad</output>
            </aerosurface_scale>

            <aerosurface_scale name="Elevator position normalized">
  	         <input>fcs/elevator-pos-deg</input>
  	         <domain>
  	             <min>-25</min>
  	             <max>35</max>
  	         </domain>
  	         <range>
  	              <min>-1</min>
  	              <max>1</max>
  	         </range>
  	         <output>fcs/elevator-pos-norm</output>
  	     </aerosurface_scale>
        </channel>
        <channel name="Roll">
            <summer name="Roll Trim Sum">
                <input>fcs/aileron-cmd-norm</input>
                <input>fcs/roll-trim-cmd-norm</input>
                <clipto>
                    <min>-1</min>
                    <max>1</max>
                </clipto>
            </summer>

            <aerosurface_scale name="Aileron Control">
                <input>fcs/roll-trim-sum</input>
                <gain>0.01745</gain>
                <range>
                    <min>-20</min>
                    <max>15</max>
                </range>
                <output>fcs/left-aileron-pos-rad</output>
            </aerosurface_scale>

            <aerosurface_scale name="Left Aileron position normalized">
               <input>fcs/left-aileron-pos-deg</input>
               <domain>
                  <min>-20</min>
                  <max>15</max>
               </domain>
               <range>
                   <min>-0.75</min>
                   <max>1</max>
               </range>
               <output>fcs/left-aileron-pos-norm</output>
            </aerosurface_scale>

            <aerosurface_scale name="Right Aileron position normalized">
               <input>fcs/right-aileron-pos-deg</input>
               <domain>
                  <min>-20</min>
                  <max>15</max>
               </domain>
               <range>
                   <min>-0.75</min>
                   <max>1</max>
               </range>
               <output>fcs/right-aileron-pos-norm</output>
            </aerosurface_scale>

        </channel>
        <channel name="Yaw">
            <summer name="Yaw Trim Sum">
                <input>fcs/rudder-cmd-norm</input>
                <input>fcs/yaw-trim-cmd-norm</input>
                <clipto>
                    <min>-1</min>
                    <max>1</max>
                </clipto>
            </summer>

            <aerosurface_scale name="Rudder Control">
                <input>fcs/yaw-trim-sum</input>
                <gain>0.01745</gain>
                <range>
                    <min>-16</min>
                    <max>16</max>
                </range>
                <output>fcs/rudder-pos-rad</output>
            </aerosurface_scale>

            <aerosurface_scale name="Rudder position normalized">
                 <input>fcs/rudder-pos-deg</input>
                 <domain>
                      <min>-25</min>
                      <max>25</max>
                 </domain>
                 <range>
                      <min>-1</min>
                      <max>1</max>
                 </range>
                 <output>fcs/rudder-pos-norm</output>
            </aerosurface_scale>
        </channel>
        <channel name="Flaps">
            <kinematic name="Flaps Control">
                <input>fcs/flap-cmd-norm</input>
                <traverse>
                    <setting>
                        <position>0</position>
                        <time>0</time>
                    </setting>
                    <setting>
                        <position>10</position>
                        <time>2</time>
                    </setting>
                    <setting>
                        <position>20</position>
                        <time>1</time>
                    </setting>
                    <setting>
                        <position>30</position>
                        <time>1</time>
                    </setting>
                </traverse>
                <output>fcs/flap-pos-deg</output>
            </kinematic>

            <aerosurface_scale name="Flap position normalized">
                 <input>fcs/flap-pos-deg</input>
                 <domain>
                    <min>0</min>
                    <max>30</max>
                 </domain>
                 <range>
                     <min>0</min>
                     <max>1</max>
                 </range>
                 <output>fcs/flap-pos-norm</output>
            </aerosurface_scale>
        </channel>
    </flight_control>
    <aerodynamics>

        <function name="aero/function/kCLge">
            <description>Change_in_lift_due_to_ground_effect</description>
            <table>
                <independentVar>aero/h_b-mac-ft</independentVar>
                <tableData>
                    0.0000	1.2030
                    0.1000	1.1270
                    0.1500	1.0900
                    0.2000	1.0730
                    0.3000	1.0460
                    0.4000	1.0550
                    0.5000	1.0190
                    0.6000	1.0130
                    0.7000	1.0080
                    0.8000	1.0060
                    0.9000	1.0030
                    1.0000	1.0020
                    1.1000	1.0000
                </tableData>
            </table>
        </function>

        <axis name="DRAG">
            <function name="aero/coefficient/CDo">
                <description>Drag_at_zero_lift</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <value>0.027</value>
                </product>
            </function>
            <function name="aero/coefficient/CDalpha">
                <description>Drag_due_to_alpha</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                      <table>
                          <independentVar>aero/alpha-rad</independentVar>
                          <tableData>
                              -0.0873	0.0041
                              -0.0698	0.0013
                              -0.0524	0.0001
                              -0.0349	0.0003
                              -0.0175	0.0020
                              0.0000	0.0052
                              0.0175	0.0099
                              0.0349	0.0162
                              0.0524	0.0240
                              0.0698	0.0334
                              0.0873	0.0442
                              0.1047	0.0566
                              0.1222	0.0706
                              0.1396	0.0860
                              0.1571	0.0962
                              0.1745	0.1069
                              0.1920	0.1180
                              0.2094	0.1298
                              0.2269	0.1424
                              0.2443	0.1565
                              0.2618	0.1727
                              0.2793	0.1782
                              0.2967	0.1716
                              0.3142	0.1618
                              0.3316	0.1475
                              0.3491	0.1097
                          </tableData>
                      </table>
                </product>
            </function>
            <function name="aero/coefficient/CDbeta">
                <description>Drag_due_to_sideslip</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>aero/mag-beta-rad</property>
                    <value>0.1700</value>
                </product>
            </function>
            <function name="aero/coefficient/CDDf">
                <description>Drag_due_to_flap_deflection</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                      <table>
                          <independentVar lookup="row">aero/alpha-rad</independentVar>
                          <independentVar lookup="column">fcs/flap-pos-deg</independentVar>
                          <tableData>
                                0.0000	10.0000	20.0000	30.0000
                              -0.0873	0.0000	0.0030	0.0084	0.0153
                              -0.0698	0.0000	0.0061	0.0131	0.0208
                              -0.0524	0.0000	0.0092	0.0178	0.0263
                              -0.0349	0.0000	0.0124	0.0225	0.0317
                              -0.0175	0.0000	0.0155	0.0272	0.0372
                              0.0000	0.0000	0.0186	0.0319	0.0427
                              0.0175	0.0000	0.0218	0.0367	0.0483
                              0.0349	0.0000	0.0250	0.0415	0.0539
                              0.0524	0.0000	0.0282	0.0463	0.0594
                              0.0698	0.0000	0.0314	0.0511	0.0650
                              0.0873	0.0000	0.0346	0.0558	0.0706
                              0.1047	0.0000	0.0378	0.0606	0.0762
                              0.1222	0.0000	0.0409	0.0654	0.0818
                              0.1396	0.0000	0.0441	0.0702	0.0873
                              0.1571	0.0000	0.0461	0.0731	0.0907
                              0.1745	0.0000	0.0480	0.0760	0.0941
                              0.1920	0.0000	0.0499	0.0789	0.0975
                              0.2094	0.0000	0.0518	0.0818	0.1008
                              0.2269	0.0000	0.0538	0.0847	0.1043
                              0.2443	0.0000	0.0559	0.0879	0.1080
                              0.2618	0.0000	0.0582	0.0913	0.1120
                              0.2793	0.0000	0.0590	0.0925	0.1133
                              0.2967	0.0000	0.0581	0.0911	0.1117
                              0.3142	0.0000	0.0567	0.0890	0.1093
                              0.3316	0.0000	0.0546	0.0859	0.1056
                              0.3491	0.0000	0.0485	0.0767	0.0950
                          </tableData>
                      </table>
                </product>
            </function>
            <function name="aero/coefficient/CDDe">
                <description>Drag_due_to_Elevator_Deflection</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>fcs/mag-elevator-pos-rad</property>
                    <value>0.06</value>
                </product>
            </function>
        </axis>

        <axis name="SIDE">
            <function name="aero/coefficient/CYb">
                <description>Side_force_due_to_beta</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>aero/beta-rad</property>
                      <table>
                          <independentVar>aero/alpha-rad</independentVar>
                          <tableData>
                              0.0000	-0.3930
                              0.0943	-0.4040
                          </tableData>
                      </table>
                </product>
            </function>
            <function name="aero/coefficient/CYp">
                <description>Side_force_due_to_roll_rate</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>aero/bi2vel</property>
                    <property>velocities/p-aero-rad_sec</property>
                      <table>
                          <independentVar>aero/alpha-rad</independentVar>
                          <tableData>
                              0.0000	-0.0750
                              0.0943	-0.1450
                          </tableData>
                      </table>
                </product>
            </function>
            <function name="aero/coefficient/CYr">
                <description>Side_force_due_to_yaw_rate</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>aero/bi2vel</property>
                    <property>velocities/r-aero-rad_sec</property>
                      <table>
                          <independentVar>aero/alpha-rad</independentVar>
                          <tableData>
                              0.0000	0.2140
                              0.0943	0.2670
                          </tableData>
                      </table>
                </product>
            </function>
            <function name="aero/coefficient/CYDa">
                <description>Side_force_due_to_aileron</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>fcs/left-aileron-pos-rad</property>
                    <value>0.0000</value>
                </product>
            </function>
            <function name="aero/coefficient/CYDr">
                <description>Side_force_due_to_rudder</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>fcs/rudder-pos-rad</property>
                    <value>0.1870</value>
                </product>
            </function>
        </axis>

        <axis name="LIFT">
            <function name="aero/coefficient/CLo">
                <description>Lift_at_zero_alpha</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>aero/function/kCLge</property>
                    <value>0.3070</value>
                </product>
            </function>
            <function name="aero/coefficient/CLalpha">
                <description>Lift_due_to_alpha</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>aero/function/kCLge</property>
                      <table>
                          <independentVar>aero/alpha-rad</independentVar>
                          <tableData>
                              -0.0900	-0.5270
                              0.0000	-0.0570
                              0.1400	0.7130
                              0.2100	0.9450
                              0.2400	1.0470
                              0.2600	1.1330
                              0.2800	1.1590
                              0.3000	1.1250
                              0.3200	1.0740
                              0.3400	0.9910
                              0.3600	0.6630
                          </tableData>
                      </table>
                </product>
            </function>
            <function name="aero/coefficient/CLDf">
                <description>Lift_due_to_flap_deflection</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>aero/function/kCLge</property>
                      <table>
                          <independentVar>fcs/flap-pos-deg</independentVar>
                          <tableData>
                              0.0000	0.0000
                              10.0000	0.2000
                              20.0000	0.3000
                              30.0000	0.3500
                          </tableData>
                      </table>
                </product>
            </function>
            <function name="aero/coefficient/CLadot">
                <description>Lift_due_to_alpha_rate</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>aero/alphadot-rad_sec</property>
                    <property>aero/ci2vel</property>
                    <value>1.7000</value>
                </product>
            </function>
            <function name="aero/coefficient/CLq">
                <description>Lift_due_to_pitch_rate</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>velocities/q-aero-rad_sec</property>
                    <property>aero/ci2vel</property>
                    <value>3.9000</value>
                </product>
            </function>
            <function name="aero/coefficient/CLDe">
                <description>Lift_due_to_elevator_deflection</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>fcs/elevator-pos-rad</property>
                    <value>0.4300</value>
                </product>
            </function>
        </axis>

        <axis name="ROLL">
            <function name="aero/coefficient/Clb">
                <description>Roll_moment_due_to_beta</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                      <table>
                          <independentVar lookup="row">aero/beta-rad</independentVar>
                          <independentVar lookup="column">aero/alpha-rad</independentVar>
                          <tableData>
                                0.0000	0.0943
                              -0.3490	0.0322	0.0312
                              0.0000	0.0000	0.0000
                              0.3490	-0.0322	-0.0312
                          </tableData>
                      </table>
                </product>
            </function>
            <function name="aero/coefficient/Clp">
                <description>Roll_moment_due_to_roll_rate_(roll_damping)</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>aero/bi2vel</property>
                    <property>velocities/p-aero-rad_sec</property>
                      <table>
                          <independentVar>aero/alpha-rad</independentVar>
                          <tableData>
                              0.0000	-0.4840
                              0.0943	-0.4870
                          </tableData>
                      </table>
                </product>
            </function>
            <function name="aero/coefficient/Clr">
                <description>Roll_moment_due_to_yaw_rate</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>aero/bi2vel</property>
                    <property>velocities/r-aero-rad_sec</property>
                      <table>
                          <independentVar>aero/alpha-rad</independentVar>
                          <tableData>
                              0.0000	0.0798
                              0.0943	0.1869
                          </tableData>
                      </table>
                </product>
            </function>
            <function name="aero/coefficient/ClDa">
                <description>Roll_moment_due_to_aileron</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>fcs/left-aileron-pos-rad</property>
                    <value>0.15</value>
                </product>
            </function>
            <function name="aero/coefficient/ClDr">
                <description>Roll_moment_due_to_rudder</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>fcs/rudder-pos-rad</property>
                    <value>-0.0147</value>
                </product>
            </function>
        </axis>

        <axis name="PITCH">
            <function name="aero/coefficient/Cmo">
                <description>Pitching_moment_at_zero_alpha</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/cbarw-ft</property>
                    <value>0.0400</value>
                </product>
            </function>
            <function name="aero/coefficient/Cmalpha">
                <description>Pitch_moment_due_to_alpha</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/cbarw-ft</property>
                    <property>aero/alpha-rad</property>
                      <table>
                          <independentVar>aero/alpha-rad</independentVar>
                          <tableData>
                              0.0000	-0.6130
                              0.0943	-0.6500
                          </tableData>
                      </table>
                </product>
            </function>
            <function name="aero/coefficient/Cmadot">
                <description>Pitch_moment_due_to_alpha_rate</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/cbarw-ft</property>
                    <property>aero/ci2vel</property>
                    <property>aero/alphadot-rad_sec</property>
                      <table>
                          <independentVar>aero/alpha-rad</independentVar>
                          <tableData>
                              0.0000	-7.2700
                              0.0943	-5.5700
                          </tableData>
                      </table>
                </product>
            </function>
            <function name="aero/coefficient/Cmq">
                <description>Pitch_moment_due_to_pitch_rate</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/cbarw-ft</property>
                    <property>aero/ci2vel</property>
                    <property>velocities/q-aero-rad_sec</property>
                    <value>-12.4000</value>
                </product>
            </function>
            <function name="aero/coefficient/CmDf">
                <description>Pitch_moment_due_to_flap_deflection</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/cbarw-ft</property>
                      <table>
                          <independentVar>fcs/flap-pos-deg</independentVar>
                          <tableData>
                              0.0000	0.0000
                              10.0000	-0.0654
                              20.0000	-0.0981
                              30.0000	-0.1140
                          </tableData>
                      </table>
                </product>
            </function>
            <function name="aero/coefficient/CmDe">
                <description>Pitch_moment_due_to_elevator_deflection</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/cbarw-ft</property>
                    <property>fcs/elevator-pos-rad</property>
                      <table>
                          <independentVar>aero/alpha-rad</independentVar>
                          <tableData>
                              0.0000	-0.6220
                              0.0943	-0.8690
                          </tableData>
                      </table>
                </product>
            </function>
        </axis>

        <axis name="YAW">
            <function name="aero/coefficient/Cnb">
                <description>Yaw_moment_due_to_beta</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>aero/beta-rad</property>
                      <table>
                          <independentVar>aero/alpha-rad</independentVar>
                          <tableData>
                              0.0000	0.0587
                              0.0943	0.0907
                          </tableData>
                      </table>
                </product>
            </function>
            <function name="aero/coefficient/Cnp">
                <description>Yaw_moment_due_to_roll_rate</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>aero/bi2vel</property>
                    <property>velocities/p-aero-rad_sec</property>
                      <table>
                          <independentVar>aero/alpha-rad</independentVar>
                          <tableData>
                              0.0000	-0.0278
                              0.0943	-0.0649
                          </tableData>
                      </table>
                </product>
            </function>
            <function name="aero/coefficient/Cnr">
                <description>Yaw_moment_due_to_yaw_rate</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>aero/bi2vel</property>
                    <property>velocities/r-aero-rad_sec</property>
                      <table>
                          <independentVar>aero/alpha-rad</independentVar>
                          <tableData>
                              0.0000	-0.0937
                              0.0943	-0.1199
                          </tableData>
                      </table>
                </product>
            </function>
            <function name="aero/coefficient/CnDa">
                <description>Yaw_moment_due_to_aileron</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>fcs/left-aileron-pos-rad</property>
                      <table>
                          <independentVar>aero/alpha-rad</independentVar>
                          <tableData>
                              0.0000	-0.0216
                              0.0943	-0.0504
                          </tableData>
                      </table>
                </product>
            </function>
            <function name="aero/coefficient/CnDr">
                <description>Yaw_moment_due_to_rudder</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>fcs/rudder-pos-rad</property>
                      <table>
                          <independentVar>aero/alpha-rad</independentVar>
                          <tableData>
                              0.0000	-0.0645
                              0.0943	-0.0805
                          </tableData>
                      </table>
                </product>
            </function>
        </axis>
    </aerodynamics>
</fdm_config>
<?xml version="1.0"?>
<initialize name="reset00">
  <!--
    This file sets up the aircraft to start off
    from the runway in preparation for takeoff.
  -->
  <ubody unit="FT/SEC">    0.0  </ubody>
  <vbody unit="FT/SEC">    0.0  </vbody>
  <wbody unit="FT/SEC">    0.0  </wbody>
  <latitude unit="DEG">   47.0  </latitude>
  <longitude unit="DEG"> 122.0  </longitude>
  <phi unit="DEG">         0.0  </phi>
  <theta unit="DEG">       0.0  </theta>
  <psi unit="DEG">       150.0  </psi>
  <altitude unit="FT">     5.5  </altitude>
</initialize>
// This file instructs the automatic synchronization utilities where to
// install this aircraft and under what name.
//
// The syntax is easy;
// * the package name at the beginning of a new line followed by a colon
// * a space as a column separator
// * the path and filename relative to the aircraft install directory
//
// Currently known package names are: FlightGear

FlightGear:
Here are some useful numbers for a Cessna 310 with two 470HP engines,
taken from a French Web page at

  http://www.infomaniak.ch/~tmandrey/flyerboy/avions5.html

(Please forgive any mistranslations.)

Performance
-----------

Rotation speed (Vr): 80 KIAS
Normal climb: 115-130 KIAS
Best climb angle (Vx): 81 KIAS
Best climb speed (Vy): 107 KIAS
Minimum single-engine control speed (Vmca): 75 KIAS
Best single-engine climb angle (Vxa): 94 KIAS
Best single-engine climb speed (Vya): 101 KIAS
Climb rate (Vs): 1,495 fpm
Single-engine climb rate: 327 fpm
Take-off distance: 1,519 ft
Take-off distance to clear a 50 ft obstacle: 1,795 ft
Maximum cruise speed: 189 KTAS at 8,000 ft
Econo-cruise speed: 144 KTAS at 7,500 ft
Econo-cruise fuel consumption: 17.1 USGal/hr
Econo-cruise range: 2,583 km (1,395 nm)
Ceiling: 19,500 ft
Single-engine ceiling: 6,680 ft
Approach speed (Vref): 110 KIAS
Landing speed: 90 KIAS
Stall speed, full flaps (Vso): 63 KIAS
Landing distance over a 50 ft obstacle: 1,697 ft
Rolling distance after touch-down: 582 ft

Limits
------

Gear-down operating range (white arc): 63-139 KIAS
Regular operating range (green arc): 75-183 KIAS
Warning range (yellow arc): 183-223 KIAS
Maximum operating speed (red line, Vne): 223 KIAS
Stall speeds (VS):
  0 deg flaps: 75 KIAS
  15 deg flaps: 70 KIAS
  35 deg flaps: 63 KIAS
Manoeuvering speed (Va): 148 KIAS
Maximum gear landing speed (Vlo): 139 KIAS
Maximum gear-down speed (Vle): 139 KIAS



<?xml version="1.0"?>
<?xml-stylesheet type="text/xsl" href="http://jsbsim.sourceforge.net/JSBSim.xsl"?>
<fdm_config name="Cessna 310 Light Twin General Aviation Aircraft" version="2.0" release="BETA"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:noNamespaceSchemaLocation="http://jsbsim.sourceforge.net/JSBSim.xsd">

    <fileheader>
        <author> David Megginson </author>
        <author> Tony Peden </author>
        <author> Jon Berndt </author>
        <filecreationdate> 2001-11-24 </filecreationdate>
        <version> $Revision: 1.64 $ </version>
        <description>
            Models a C310 light twin. The airplane has a wingspan of 35.98 feet, wing area of 178 square feet,
            an aspect ratio of 7.3, and an M.A.C. of 5 feet based on projection of the outboard leading edge
            of the wing through the fuselage. The wing airfoil section is a modified NACA 64(2)A215 airfoil
            with the trailing edge cusp faired out. The wing has 5 degrees of dihedral, no twist, and is at 2 degrees
            positive incidence with respect to the fuselage reference line. Thrust axes are parallel to the reference line.
            The horizontal tail is all-movable, with a deflection range of 4 to -14 degrees. Control deflection
            range for the ailerons is 14 to -18 degrees. Normal rudder deflection range is +/-27 degrees.
        </description>
        <license
          licenseName="GPL (General Public License)"
          licenseURL="http://www.gnu.org/licenses/gpl.html"/>
      <note>
        This model was created using publicly available data, publicly available
        technical reports, textbooks, and guesses. It contains no proprietary or
        restricted data. If this model has been validated at all, it would be
        only to the extent that it seems to "fly right", and that it possibly
        complies with published, publicly known, performance data (maximum speed,
        endurance, etc.). Thus, this model is meant for educational and entertainment
        purposes only.

        This simulation model is not endorsed by the manufacturer. This model is not
        to be sold.
      </note>
        <reference title="Full-Scale Wind Tunnel Investigation of Static Longitudinal and Lateral Characteristics of a Light Twin-Engine Airplane"
            author="Marvin P. Fink, Delma C. Freeman, Jr."
            date="1969-01-01" refID="NASA TN D-4983"/>
    </fileheader>

    <metrics>
        <wingarea unit="FT2"> 175 </wingarea>
        <wingspan unit="FT"> 36.5 </wingspan>
        <chord unit="FT"> 4.9 </chord>
        <htailarea unit="FT2"> 21.9 </htailarea>
        <htailarm unit="FT"> 15.7 </htailarm>
        <vtailarea unit="FT2"> 16.5 </vtailarea>
        <vtailarm unit="FT"> 0 </vtailarm>
        <location name="AERORP" unit="IN">
            <x> 46 </x>
            <y> 0 </y>
            <z> 8.6 </z>
        </location>
        <location name="EYEPOINT" unit="IN">
            <x> 35 </x>
            <y> -12 </y>
            <z> 38 </z>
        </location>
        <location name="VRP" unit="IN">
            <x> 46 </x>
            <y> 0 </y>
            <z> 8.6 </z>
        </location>
    </metrics>

    <mass_balance>
        <ixx unit="SLUG*FT2"> 8884 </ixx>
        <iyy unit="SLUG*FT2"> 1939 </iyy>
        <izz unit="SLUG*FT2"> 11001 </izz>
        <emptywt unit="LBS"> 2950 </emptywt>
        <location name="CG" unit="IN">
            <x> 46 </x>
            <y> 0 </y>
            <z> 8.6 </z>
        </location>
        <pointmass name="Pilot">
            <weight unit="LBS"> 180 </weight>
            <location unit="IN">
                <x> 37 </x>
                <y> -14 </y>
                <z> 24 </z>
            </location>
        </pointmass>
        <pointmass name="Co-Pilot">
            <weight unit="LBS"> 180 </weight>
            <location unit="IN">
                <x> 37 </x>
                <y> 14 </y>
                <z> 24 </z>
            </location>
        </pointmass>
        <pointmass name="Pilot's wife">
            <weight unit="LBS"> 150 </weight>
            <location unit="IN">
                <x> 61 </x>
                <y> -14 </y>
                <z> 24 </z>
            </location>
        </pointmass>
        <pointmass name="Co-Pilot's husband">
            <weight unit="LBS"> 150 </weight>
            <location unit="IN">
                <x> 61 </x>
                <y> 14 </y>
                <z> 24 </z>
            </location>
        </pointmass>
        <pointmass name="Luggage">
            <weight unit="LBS"> 100 </weight>
            <location unit="IN">
                <x> 90 </x>
                <y> 0 </y>
                <z> 24 </z>
            </location>
        </pointmass>
    </mass_balance>

    <ground_reactions>
        <contact type="BOGEY" name="NOSE">
            <location unit="IN">
                <x> -60.2 </x>
                <y> 0 </y>
                <z> -27 </z>
            </location>
            <static_friction> 0.8 </static_friction>
            <dynamic_friction> 0.5 </dynamic_friction>
            <rolling_friction> 0.02 </rolling_friction>
            <spring_coeff unit="LBS/FT"> 5400 </spring_coeff>
            <damping_coeff unit="LBS/FT/SEC"> 1600 </damping_coeff>
            <max_steer unit="DEG"> 10 </max_steer>
            <brake_group> NONE </brake_group>
            <retractable>1</retractable>
        </contact>
        <contact type="BOGEY" name="LEFT_MAIN">
            <location unit="IN">
                <x> 50.7 </x>
                <y> -70.8 </y>
                <z> -31 </z>
            </location>
            <static_friction> 0.8 </static_friction>
            <dynamic_friction> 0.5 </dynamic_friction>
            <rolling_friction> 0.02 </rolling_friction>
            <spring_coeff unit="LBS/FT"> 5400 </spring_coeff>
            <damping_coeff unit="LBS/FT/SEC"> 1600 </damping_coeff>
            <max_steer unit="DEG"> 0.0 </max_steer>
            <brake_group> LEFT </brake_group>
            <retractable>1</retractable>
        </contact>
        <contact type="BOGEY" name="RIGHT_MAIN">
            <location unit="IN">
                <x> 50.7 </x>
                <y> 70.8 </y>
                <z> -31 </z>
            </location>
            <static_friction> 0.8 </static_friction>
            <dynamic_friction> 0.5 </dynamic_friction>
            <rolling_friction> 0.02 </rolling_friction>
            <spring_coeff unit="LBS/FT"> 5400 </spring_coeff>
            <damping_coeff unit="LBS/FT/SEC"> 1600 </damping_coeff>
            <max_steer unit="DEG"> 0.0 </max_steer>
            <brake_group> RIGHT </brake_group>
            <retractable>1</retractable>
        </contact>
        <contact type="STRUCTURE" name="TAIL_SKID">
            <location unit="IN">
                <x> 221.8 </x>
                <y> 0 </y>
                <z> 0 </z>
            </location>
            <static_friction> 0.2 </static_friction>
            <dynamic_friction> 0.2 </dynamic_friction>
            <spring_coeff unit="LBS/FT"> 20000 </spring_coeff>
            <damping_coeff unit="LBS/FT/SEC"> 1000 </damping_coeff>
        </contact>
        <contact type="STRUCTURE" name="NOSE">
            <location unit="IN">
                <x> -96.3 </x>
                <y> 0 </y>
                <z> 10.3 </z>
            </location>
            <static_friction> 0.2 </static_friction>
            <dynamic_friction> 0.2 </dynamic_friction>
            <spring_coeff unit="LBS/FT"> 10000 </spring_coeff>
            <damping_coeff unit="LBS/FT/SEC"> 2000 </damping_coeff>
        </contact>
        <contact type="STRUCTURE" name="CABIN_LEFT">
            <location unit="IN">
                <x> 0 </x>
                <y> -25 </y>
                <z> 0 </z>
            </location>
            <static_friction> 0.2 </static_friction>
            <dynamic_friction> 0.2 </dynamic_friction>
            <spring_coeff unit="LBS/FT"> 10000 </spring_coeff>
            <damping_coeff unit="LBS/FT/SEC"> 2000 </damping_coeff>
        </contact>
        <contact type="STRUCTURE" name="CABIN_RIGHT">
            <location unit="IN">
                <x> 0 </x>
                <y> 25 </y>
                <z> 0 </z>
            </location>
            <static_friction> 0.2 </static_friction>
            <dynamic_friction> 0.2 </dynamic_friction>
            <spring_coeff unit="LBS/FT"> 10000 </spring_coeff>
            <damping_coeff unit="LBS/FT/SEC"> 2000 </damping_coeff>
        </contact>
        <contact type="STRUCTURE" name="ROOF">
            <location unit="IN">
                <x> 41.3 </x>
                <y> 0 </y>
                <z> 53.3 </z>
            </location>
            <static_friction> 0.2 </static_friction>
            <dynamic_friction> 0.2 </dynamic_friction>
            <spring_coeff unit="LBS/FT"> 10000 </spring_coeff>
            <damping_coeff unit="LBS/FT/SEC"> 2000 </damping_coeff>
        </contact>
        <contact type="STRUCTURE" name="LEFT_TIP">
            <location unit="IN">
                <x> 48.1 </x>
                <y> -222 </y>
                <z> 18.9 </z>
            </location>
            <static_friction> 0.2 </static_friction>
            <dynamic_friction> 0.2 </dynamic_friction>
            <spring_coeff unit="LBS/FT"> 10000 </spring_coeff>
            <damping_coeff unit="LBS/FT/SEC"> 2000 </damping_coeff>
        </contact>
        <contact type="STRUCTURE" name="RIGHT_TIP">
            <location unit="IN">
                <x> 48.1 </x>
                <y> 222 </y>
                <z> 18.9 </z>
            </location>
            <static_friction> 0.2 </static_friction>
            <dynamic_friction> 0.2 </dynamic_friction>
            <spring_coeff unit="LBS/FT"> 10000 </spring_coeff>
            <damping_coeff unit="LBS/FT/SEC"> 2000 </damping_coeff>
        </contact>
    </ground_reactions>
    <propulsion>
        <engine file="engIO470D">
            <feed>0</feed>
            <feed>1</feed>
            <feed>2</feed>
            <feed>3</feed>
            <thruster file="propC10v">
                <location unit="IN">
                    <x> -27.5 </x>
                    <y> -70 </y>
                    <z> 15.5 </z>
                </location>
                <orient unit="DEG">
                    <roll> 0.0 </roll>
                    <pitch> 0.0 </pitch>
                    <yaw> 0.0 </yaw>
                </orient>
                <sense> 1 </sense>
                <p_factor> 0.1 </p_factor>
            </thruster>
        </engine>
        <engine file="engIO470D">
            <feed>0</feed>
            <feed>1</feed>
            <feed>2</feed>
            <feed>3</feed>
            <thruster file="propC10v">
                <location unit="IN">
                    <x> -27.5 </x>
                    <y> 70 </y>
                    <z> 15.5 </z>
                </location>
                <orient unit="DEG">
                    <roll> 0.0 </roll>
                    <pitch> 0.0 </pitch>
                    <yaw> 0.0 </yaw>
                </orient>
                <sense> 1 </sense>
                <p_factor> 0.1 </p_factor>
            </thruster>
        </engine>
        <tank type="FUEL">    <!-- Tank number 0 -->
            <location unit="IN">
                <x> 35 </x>
                <y> -209.8 </y>
                <z> 28.3 </z>
            </location>
            <capacity unit="LBS"> 336 </capacity>
            <contents unit="LBS"> 225 </contents>
        </tank>
        <tank type="FUEL">    <!-- Tank number 1 -->
            <location unit="IN">
                <x> 35 </x>
                <y> 209.8 </y>
                <z> 28.3 </z>
            </location>
            <capacity unit="LBS"> 336 </capacity>
            <contents unit="LBS"> 225 </contents>
        </tank>
        <tank type="FUEL">    <!-- Tank number 2 -->
            <location unit="IN">
                <x> 35 </x>
                <y> -41.6 </y>
                <z> 11.7 </z>
            </location>
            <capacity unit="LBS"> 135 </capacity>
            <contents unit="LBS"> 95 </contents>
        </tank>
        <tank type="FUEL">    <!-- Tank number 3 -->
            <location unit="IN">
                <x> 35 </x>
                <y> 41.6 </y>
                <z> 11.7 </z>
            </location>
            <capacity unit="LBS"> 135 </capacity>
            <contents unit="LBS"> 95 </contents>
        </tank>
    </propulsion>

  <system file="GNCUtilities"/>

  <autopilot file="c310ap">

    <!-- Roll channel A/P gains -->
    
    <property value="50.0"> ap/roll-pid-kp </property>
    <property value="5.0"> ap/roll-pid-ki </property>
    <property value="17.0"> ap/roll-pid-kd </property>

  </autopilot>

    <flight_control name="Cessna 310">

        <channel name="Pitch">
            <summer name="Pitch Trim Sum">
                <input>ap/elevator_cmd</input>
                <input>fcs/elevator-cmd-norm</input>
                <input>fcs/pitch-trim-cmd-norm</input>
                <clipto>
                    <min>-1</min>
                    <max>1</max>
                </clipto>
            </summer>

            <aerosurface_scale name="Elevator Control">
                <input>fcs/pitch-trim-sum</input>
                <range>
                    <min> -14.0 </min>
                    <max>   4.0 </max>
                </range>
                <gain>0.01745</gain>
                <output>fcs/elevator-pos-rad</output>
            </aerosurface_scale>

            <aerosurface_scale name="Elevator position normalized">
  	         <input>fcs/elevator-pos-deg</input>
  	         <domain>
  	             <min>-25</min>
  	             <max>35</max>
  	         </domain>
  	         <range>
  	              <min>-1</min>
  	              <max>1</max>
  	         </range>
  	         <output>fcs/elevator-pos-norm</output>
  	     </aerosurface_scale>

        </channel>

        <channel name="Roll">
            <summer name="Roll Trim Sum">
                <input>ap/aileron_cmd</input>
                <input>fcs/aileron-cmd-norm</input>
                <input>fcs/roll-trim-cmd-norm</input>
                <clipto>
                    <min>-1</min>
                    <max>1</max>
                </clipto>
            </summer>

            <aerosurface_scale name="Left Aileron Control">
                <input>fcs/roll-trim-sum</input>   <!-- input is normalized  -->
                <range>
                    <min> -18.0 </min>             <!-- map to degree limits -->
                    <max>  14.0 </max>
                </range>
                <gain>0.01745</gain>               <!-- convert to radians   -->
                <output>fcs/left-aileron-pos-rad</output>
            </aerosurface_scale>

            <aerosurface_scale name="Left Aileron Control Normalized">
                <input>fcs/left-aileron-control</input>
                <domain>
                    <min> -0.3141 </min> <!-- -18 degrees -->
                    <max>  0.2443 </max> <!-- +14 degrees -->
                </domain>
                <range>
                    <min> -1.0 </min>
                    <max>  1.0 </max>
                </range>
                <output>fcs/left-aileron-pos-norm</output>
            </aerosurface_scale>

            <aerosurface_scale name="Right Aileron Control">
                <input>-fcs/roll-trim-sum</input>
                <range>
                    <min> -18.0 </min>
                    <max>  14.0 </max>
                </range>
                <gain>0.01745</gain>
                <output>fcs/right-aileron-pos-rad</output>
            </aerosurface_scale>

            <aerosurface_scale name="Right Aileron Control Normalized">
                <input>fcs/right-aileron-control</input>
                <domain>
                    <min> -0.3141 </min> <!-- -18 degrees -->
                    <max>  0.2443 </max> <!-- +14 degrees -->
                </domain>
                <range>
                    <min> -1.0 </min>
                    <max>  1.0 </max>
                </range>
                <output>fcs/right-aileron-pos-norm</output>
            </aerosurface_scale>

        </channel>
        <channel name="Yaw">

            <summer name="Yaw Trim Sum">
                <input>ap/rudder_cmd</input>
                <input>fcs/rudder-cmd-norm</input>
                <input>fcs/yaw-trim-cmd-norm</input>
                <clipto>
                    <min>-1</min>
                    <max>1</max>
                </clipto>
            </summer>

            <aerosurface_scale name="Rudder Control">
                <input>fcs/yaw-trim-sum</input>
                <gain>0.01745</gain>
                <range>
                    <min>-27.</min>
                    <max> 27</max>
                </range>
                <output>fcs/rudder-pos-rad</output>
            </aerosurface_scale>

            <aerosurface_scale name="Rudder position normalized">
                 <input>fcs/rudder-pos-deg</input>
                 <domain>
                      <min>-27</min>
                      <max> 27</max>
                 </domain>
                 <range>
                      <min>-1</min>
                      <max>1</max>
                 </range>
                 <output>fcs/rudder-pos-norm</output>
            </aerosurface_scale>

        </channel>
        <channel name="Flaps">
            <kinematic name="Flaps Control">
                <input>fcs/flap-cmd-norm</input>
                <traverse>
                    <setting>
                        <position>0</position>
                        <time>0</time>
                    </setting>
                    <setting>
                        <position>15</position>
                        <time>2</time>
                    </setting>
                    <setting>
                        <position>25</position>
                        <time>1</time>
                    </setting>
                    <setting>
                        <position>45</position>
                        <time>1</time>
                    </setting>
                </traverse>
                <output>fcs/flap-pos-deg</output>
            </kinematic>

            <aerosurface_scale name="Flap position normalized">
                 <input>fcs/flap-pos-deg</input>
                 <domain>
                    <min>0</min>
                    <max>45</max>
                 </domain>
                 <range>
                     <min>0</min>
                     <max>1</max>
                 </range>
                 <output>fcs/flap-pos-norm</output>
            </aerosurface_scale>

        </channel>
        <channel name="Landing Gear">
            <kinematic name="Gear Control">
                <input>gear/gear-cmd-norm</input>
                <traverse>
                    <setting>
                        <position>0</position>
                        <time>0</time>
                    </setting>
                    <setting>
                        <position>1</position>
                        <time>5</time>
                    </setting>
                </traverse>
                <output>gear/gear-pos-norm</output>
            </kinematic>
        </channel>

 <channel name="Automatic Mixture Control">
   <fcs_function name="systems/mixture-cmd-norm">
     <function>
       <quotient>
         <table>
           <independentVar lookup="row">atmosphere/P-psf</independentVar>
             <tableData>
                 50  0.1
                990  0.5
               1300  0.675
               2117  1.0
             </tableData>
           </table>
         <value>1.0</value>
       </quotient>
     </function>
   </fcs_function>

   <pure_gain name="systems/mixture-pos-norm[0]">
     <input> fcs/mixture-cmd-norm[0]</input>
     <gain>  systems/mixture-cmd-norm</gain>
     <output>fcs/mixture-pos-norm[0]</output>
   </pure_gain>

   <pure_gain name="systems/mixture-pos-norm[1]">
     <input> fcs/mixture-cmd-norm[1]</input>
     <gain>  systems/mixture-cmd-norm</gain>
     <output>fcs/mixture-pos-norm[1]</output>
   </pure_gain>

</channel>
    </flight_control>
    <aerodynamics>

        <function name="aero/function/kCLge">
            <description>Change_in_lift_due_to_ground_effect</description>
            <table>
                <independentVar>aero/h_b-mac-ft</independentVar>
                <tableData>
                    0.0000	1.2030
                    0.1000	1.1270
                    0.1500	1.0900
                    0.2000	1.0730
                    0.3000	1.0460
                    0.4000	1.0550
                    0.5000	1.0190
                    0.6000	1.0130
                    0.7000	1.0080
                    0.8000	1.0060
                    0.9000	1.0030
                    1.0000	1.0020
                    1.1000	1.0000
                </tableData>
            </table>
        </function>

        <axis name="DRAG">

            <function name="aero/coefficient/CDo">
                <description>Drag_at_zero_lift</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <value>0.028</value>
                </product>
            </function>

            <function name="aero/coefficient/CDalpha">
                <description>Drag_due_to_alpha</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                      <table>
                          <independentVar>aero/alpha-rad</independentVar>
                          <tableData>
                              -3.14     0.01
                              -1.51     1.
                              -0.785    0.707
                              -0.0873	0.0041
                              -0.0698	0.0013
                              -0.0524	0.0001
                              -0.0349	0.0003
                              -0.0175	0.0020
                              0.0000	0.0052
                              0.0175	0.0099
                              0.0349	0.0162
                              0.0524	0.0240
                              0.0698	0.0334
                              0.0873	0.0442
                              0.1047	0.0566
                              0.1222	0.0706
                              0.1396	0.0860
                              0.1571	0.0962
                              0.1745	0.1069
                              0.1920	0.1180
                              0.2094	0.1298
                              0.2269	0.1424
                              0.2443	0.1565
                              0.2618	0.1727
                              0.2793	0.1782
                              0.2967	0.1716
                              0.3142	0.1618
                              0.3316	0.1475
                              0.3491	0.1097
                              0.785     0.707
                              1.57      1.00
                              3.14      0.01 
                          </tableData>
                      </table>
                </product>
            </function>

            <function name="aero/coefficient/CDDf">
                <description>Delta_drag_due_to_flap_deflection</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                      <table>
                          <independentVar>fcs/flap-pos-deg</independentVar>
                          <tableData>
                              0.0000	0.000
                              15.0000	0.020
                              25.0000	0.040
                              45.0000	0.060
                          </tableData>
                      </table>
                </product>
            </function>

            <function name="aero/coefficient/CDDe">
                <description>Drag_due_to_Elevator_Deflection</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>fcs/mag-elevator-pos-rad</property>
                    <value>0.06</value>
                </product>
            </function>

            <function name="aero/coefficient/CDbeta">
                <description>Drag_due_to_sideslip</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>aero/mag-beta-rad</property>
                    <value>0.1400</value>
                </product>
            </function>

            <function name="aero/coefficient/CDgear">
                <description>Drag_due_to_landing_gear</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>gear/gear-pos-norm</property>
                    <value>0.0600</value>
                </product>
            </function>
        </axis>

        <axis name="SIDE">
            <function name="aero/coefficient/CYbeta">
                <description>Side_force_due_to_beta</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                      <table>
                          <independentVar>aero/beta-rad</independentVar>
                          <tableData>
                              -0.3490	0.2120
                              0.0000	0.0000
                              0.3490	-0.2120
                          </tableData>
                      </table>
                </product>
            </function>
            <function name="aero/coefficient/CYp">
                <description>Side_force_due_to_roll_rate</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>aero/bi2vel</property>
                    <property>velocities/r-aero-rad_sec</property>
                    <value>-0.1410</value>
                </product>
            </function>
            <function name="aero/coefficient/CYr">
                <description>Side_force_due_to_yaw_rate</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>aero/bi2vel</property>
                    <property>velocities/r-aero-rad_sec</property>
                    <value>0.3550</value>
                </product>
            </function>
            <function name="aero/coefficient/CYDr">
                <description>Side_force_due_to_rudder</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>fcs/rudder-pos-rad</property>
                    <value>0.2300</value>
                </product>
            </function>
        </axis>

        <axis name="LIFT">

            <function name="aero/coefficient/CLo">
                <description>Lift_at_zero_alpha. This data is extrapolated from the reference
		featured in the file header notes.</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>aero/function/kCLge</property>
                    <table>
                        <independentVar>fcs/flap-pos-deg</independentVar>
                        <tableData>
                             0.0  0.280
                            15.0  0.526
                            25.0  0.723
                            45.0  1.018
			    60.0  1.264
                        </tableData>
                    </table>
                </product>
            </function>

            <function name="aero/coefficient/CLalpha">
                <description>Lift_due_to_alpha</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>aero/function/kCLge</property>
                      <table>
                          <independentVar>aero/alpha-rad</independentVar>
                          <tableData>
                              -3.1416	 0.0
                              -2.356	 0.97
                              -1.57	 0.0
                              -0.785	-0.970 
                              -0.3000	-1.0100
                              -0.2820	-1.1720
                              -0.2470	-1.0870
                              -0.2120	-0.9480
                              -0.1780	-0.8100
                              0.0000	 0.0000
                              0.1040	 0.4760
                              0.1390	 0.6160
                              0.1740	 0.7540
                              0.2090	 0.8570
                              0.2440	 0.9470
                              0.2790	 0.8990
                              0.3000	 0.8060
                              0.3140	 0.5690
                              0.3490	 0.2880
                              0.6	 0.904
                              0.785	 0.97
                              1.57	 0.0
                              2.356	-0.97
                              3.14159	 0
                          </tableData>
                      </table>
                </product>
            </function>

            <function name="aero/coefficient/CLDe">
                <description>Lift_due_to_Elevator_Deflection</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>fcs/elevator-pos-rad</property>
                      <table>
                          <independentVar>aero/alpha-rad</independentVar>
                          <tableData>
                             -1.57       0.0
                              0.0000	-0.8100
                              0.0873	-0.9000
                              0.1152	-0.7700
                              1.57       0.0
                          </tableData>
                      </table>
                </product>
            </function>

            <function name="aero/coefficient/CLadot">
                <description>Lift_due_to_alpha_rate</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>aero/alphadot-rad_sec</property>
                    <property>aero/ci2vel</property>
                      <table>
                          <independentVar>aero/alpha-rad</independentVar>
                          <tableData>
                              0.0000	5.3000
                              0.0873	4.5000
                              0.1152	4.1000
                          </tableData>
                      </table>
                </product>
            </function>

            <function name="aero/coefficient/CLq">
                <description>Lift_due_to_pitch_rate</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>velocities/q-aero-rad_sec</property>
                    <property>aero/ci2vel</property>
                      <table>
                          <independentVar>aero/alpha-rad</independentVar>
                          <tableData>
                              0.0000	9.7000
                              0.0873	8.8000
                              0.1152	8.4000
                          </tableData>
                      </table>
                </product>
            </function>
        </axis>

        <axis name="ROLL">
            <function name="aero/coefficient/Clbeta">
                <description>Roll_moment_due_to_beta</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                      <table>
                          <independentVar>aero/beta-rad</independentVar>
                          <tableData>
                              -0.3490	0.0382
                              0.0000	0.0000
                              0.3490	-0.0382
                          </tableData>
                      </table>
                </product>
            </function>
            <function name="aero/coefficient/Clp">
                <description>Roll_moment_due_to_roll_rate_(roll_damping)</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>aero/bi2vel</property>
                    <property>velocities/p-aero-rad_sec</property>
                    <value>-0.7500</value>
                </product>
            </function>
            <function name="aero/coefficient/Clr">
                <description>Roll_moment_due_to_yaw_rate</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>aero/bi2vel</property>
                    <property>velocities/r-aero-rad_sec</property>
                    <value>0.0729</value>
                </product>
            </function>
            <function name="aero/coefficient/ClDa">
                <description>Roll_moment_due_to_aileron</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>fcs/left-aileron-pos-rad</property>
                    <value>0.1720</value>
                </product>
            </function>
            <function name="aero/coefficient/Cldr">
                <description>Roll_moment_due_to_rudder</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>fcs/rudder-pos-rad</property>
                    <value>0.0192</value>
                </product>
            </function>
        </axis>

        <axis name="PITCH">
            <function name="aero/coefficient/Cmo">
                <description>Pitch_moment_at_zero_alpha</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/cbarw-ft</property>
                    <value>0.070</value>
                </product>
            </function>
            <function name="aero/coefficient/Cmalpha">
                <description>Pitch_moment_due_to_alpha</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/cbarw-ft</property>
                    <property>aero/alpha-rad</property>
                    <value>-0.989</value>
                </product>
            </function>
            <function name="aero/coefficient/Cmadot">
                <description>Pitch_moment_due_to_alpha_rate</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/cbarw-ft</property>
                    <property>aero/ci2vel</property>
                    <property>aero/alphadot-rad_sec</property>
                    <value>-12.7000</value>
                </product>
            </function>
            <function name="aero/coefficient/Cmq">
                <description>Pitch_moment_due_to_pitch_rate_(pitch_damping)</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/cbarw-ft</property>
                    <property>aero/ci2vel</property>
                    <property>velocities/q-aero-rad_sec</property>
                    <value>-80.0000</value>
                </product>
            </function>
            <function name="aero/coefficient/CmDe">
                <description>Pitch_moment_due_to_elevator_deflection</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/cbarw-ft</property>
                    <property>fcs/elevator-pos-rad</property>
                    <value>-2.2600</value>
                </product>
            </function>
            <function name="aero/coefficient/CmDf">
                <description>Pitch_moment_due_to_flap_deflection</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/cbarw-ft</property>
                      <table>
                          <independentVar>fcs/flap-pos-deg</independentVar>
                          <tableData>
                               0.0   0.000
                              15.0  -0.05
                              25.0  -0.10
                              45.0  -0.15
                          </tableData>
                      </table>
                </product>
            </function>
        </axis>

        <axis name="YAW">
            <function name="aero/coefficient/Cnbeta">
                <description>Yaw_moment_due_to_beta</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>aero/beta-rad</property>
                    <value>0.1000</value>
                </product>
            </function>
            <function name="aero/coefficient/Cnp">
                <description>Yaw_moment_due_to_roll_rate</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>aero/bi2vel</property>
                    <property>velocities/p-aero-rad_sec</property>
                    <value>-0.0257</value>
                </product>
            </function>
            <function name="aero/coefficient/Cnr">
                <description>Yaw_moment_due_to_yaw_rate_(yaw_damping)</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>aero/bi2vel</property>
                    <property>velocities/r-aero-rad_sec</property>
                    <value>-0.3000</value>
                </product>
            </function>
            <function name="aero/coefficient/CnDa">
                <description>Yaw_moment_due_to_aileron</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>fcs/left-aileron-pos-rad</property>
                    <value>-0.0168</value>
                </product>
            </function>
            <function name="aero/coefficient/CnDr">
                <description>Yaw_moment_due_to_rudder</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>fcs/rudder-pos-rad</property>
                    <value>-0.1152</value>
                </product>
            </function>
        </axis>
    </aerodynamics>
  <!--
    <output name="C310.csv" type="CSV" rate="5">
        <simulation> OFF </simulation>
        <atmosphere> OFF </atmosphere>
        <massprops> OFF</massprops>
        <aerosurfaces> OFF </aerosurfaces>
        <rates> ON </rates>
        <velocities> ON </velocities>
        <forces> ON </forces>
        <moments> ON </moments>
        <position> ON </position>
        <propulsion> ON </propulsion>
        <fcs> OFF </fcs>
        <ground_reactions> OFF </ground_reactions>
        <coefficients> OFF </coefficients>
        <property> position/long-gc-rad </property>
        <property> position/lat-gc-rad </property>
        <property> position/h-agl-ft </property>
    </output>
  -->
  <!--
    <output name="localhost" type="SOCKET" port="1138" rate="2">
        <simulation> OFF </simulation>
        <atmosphere> OFF </atmosphere>
        <massprops> OFF</massprops>
        <aerosurfaces> OFF </aerosurfaces>
        <rates> OFF </rates>
        <velocities> OFF </velocities>
        <forces> OFF </forces>
        <moments> OFF </moments>
        <position> OFF </position>
        <propulsion> OFF </propulsion>
        <fcs> OFF </fcs>
        <ground_reactions> OFF </ground_reactions>
        <coefficients> OFF </coefficients>
        <property> position/h-agl-ft </property>
        <property> velocities/vc-kts </property>
    </output>
    <output name="localhost" type="SOCKET" port="1139" rate="2">
        <property> propulsion/engine[0]/advance-ratio </property>
        <property> propulsion/engine[0]/advance-ratio </property>
        <property> forces/fbx-gear-lbs </property>
    </output>
    -->
</fdm_config>
<?xml version="1.0"?>
<!--

  Author:   Jon Berndt
  Date:     18 August 2002
  Function: C-172 autopilot test file

  Note: this file represents a test only of the new autopilot
        setup in JSBSim. The same components used in the FCS
        can also be used in the autopilot section. There are
        some new FCS input and output identifiers directly
        related to the autopilot:

          ap/elevator_cmd,
          ap/aileron_cmd,
          ap/rudder_cmd,
          ap/attitude_hold,
          ap/altitude_hold,
          ap/heading_hold,
          ap/altitude_setpoint,
          ap/heading_setpoint

-->
<autopilot name="C-310 Autopilot">

<!-- INTERFACE PROPERTIES -->

  <property>ap/attitude_hold</property>
  <property>ap/altitude_hold</property>
  <property>ap/heading_hold</property>
  <property>ap/yaw_damper</property>
  <property>ap/active-waypoint</property>
  <property>ap/altitude_setpoint</property>
  <property>ap/heading_setpoint</property>
  <property>ap/heading-setpoint-select</property>
  <property>ap/aileron_cmd</property>
  <property>ap/elevator_cmd</property>
  <property>ap/rudder_cmd</property>
  <property>ap/airspeed_setpoint</property>
  <property>ap/airspeed_hold</property>
  <property>ap/throttle-cmd-norm</property>

<!--  <property>attitude/sensor/phi-rad</property> -->

<!-- SENSOR -->
<!--
  <sensor name="attitude/sensor/phi-rad">
    <input> attitude/phi-rad </input>
    <lag> 0.5 </lag>
    <noise variation="PERCENT"> 0.05 </noise>
    <quantization name="attitude/sensor/quantized/phi-rad">
      <bits> 12 </bits>
      <min> -180 </min>
      <max> 180 </max>
    </quantization>
    <bias> 0.001 </bias>
  </sensor>
-->
<!--
=====================================================
ROLL CHANNEL
=====================================================
-->

<!-- Wing leveler -->

<channel name="AP roll wing leveler">

  <switch name="fcs/wing-leveler-ap-on-off">
    <default value="-1"/>
    <test value="0">
      ap/attitude_hold == 1
    </test>
  </switch>

  <pid name="fcs/roll-ap-error-pid">
    <input>attitude/phi-rad</input>
    <kp> ap/roll-pid-kp </kp>
    <ki> ap/roll-pid-ki </ki>
    <kd> ap/roll-pid-kd </kd>
    <trigger> fcs/wing-leveler-ap-on-off </trigger>
  </pid>

  <switch name="fcs/roll-ap-autoswitch">
    <default value="0.0"/>
    <test value="-fcs/roll-ap-error-pid">
      ap/attitude_hold == 1
    </test>
  </switch>

  <pure_gain name="fcs/roll-ap-aileron-command-normalizer">
     <input>fcs/roll-ap-autoswitch</input>
     <gain>-1</gain>
  </pure_gain>

</channel>

<!-- Heading hold -->

<channel name="AP Roll Heading Hold">

  <!-- The heading setpoint selector selects the heading
       command (setpoint), which can either be set directly, or
       calculated by the specification of waypoint. If the 
       heading setpoint selector is 0, then the heading setpoint
       is used, if the selector is 1, then the heading calculated
       from the waypoint is used. -->
  <switch name="fcs/heading-setpoint-selector">
    <default value="ap/heading_setpoint"/>
    <test value="guidance/wp-heading-deg">
      ap/heading-setpoint-select == 1
    </test>
  </switch>

  <pure_gain name="fcs/heading-true-degrees">
    <input>attitude/heading-true-rad</input>
    <gain>57.3</gain> <!-- convert to degrees -->
  </pure_gain>

  <summer name="fcs/heading-error">
    <input> -fcs/heading-true-degrees</input>
    <input> fcs/heading-setpoint-selector </input>
  </summer>

  <switch name="fcs/heading-error-bias-switch">
    <default value="0.0"/>
    <test value="360.0">
      fcs/heading-error lt -180
    </test>
    <test value="-360.0">
      fcs/heading-error gt 180
    </test>
  </switch>

  <summer name="fcs/heading-corrected">
    <input> fcs/heading-error-bias-switch </input>
    <input> fcs/heading-error </input>
    <clipto>
      <min>-30</min>
      <max> 30</max>
    </clipto>
  </summer>

  <pure_gain name="fcs/heading-command">
    <input> fcs/heading-corrected </input>
    <gain> 0.01745 </gain>
  </pure_gain>

  <lag_filter name="fcs/heading-roll-error-lag">
    <input> fcs/heading-command </input>
    <c1> 0.50 </c1>
  </lag_filter>

  <summer name="fcs/heading-roll-error">
    <input> fcs/heading-roll-error-lag </input>
    <input> -attitude/phi-rad </input>
  </summer>

  <switch name="fcs/heading-roll-error-switch">
    <default value="0.0"/>
    <test value="fcs/heading-roll-error">
      ap/heading_hold == 1
    </test>
  </switch>

  <pid name="fcs/heading-pi-controller">
    <input> fcs/heading-roll-error-switch </input>
    <kp> 6.0 </kp>
    <ki> 0.13 </ki>
    <kd> 6.0 </kd>
  </pid>

  <switch name="fcs/roll-command-selector">
    <default value="0.0"/>
    <test value="fcs/heading-pi-controller">
      ap/heading_hold == 1
      gear/unit[2]/WOW == 0
    </test>
    <test value="fcs/roll-ap-aileron-command-normalizer">
      ap/attitude_hold == 1
      gear/unit[2]/WOW == 0
    </test>
    <output>ap/aileron_cmd</output>
  </switch>

  <switch name="fcs/roll-command-selector-steering">
    <default value="0.0"/>
    <test value="fcs/heading-pi-controller">
      ap/heading_hold == 1
      gear/unit/WOW == 1
    </test>
    <output>fcs/steer-cmd-norm</output>
  </switch>

</channel>

<!--
=====================================================
PITCH CHANNEL
=====================================================
-->

<!-- Altitude hold -->

<!-- The Altitude Error component below computes the altitude error, subtracting
     the desired altitude (altitude_setpoint) from the actual altitude above sea
     level (_not_ Above Ground Level).  This error signal is interpreted as an
     hdot command (hdot is time rate of change of altitude, or rate of climb). As
     such it is limited to a maximum absolute value of 12 fps here (720 fpm). The
     maximum achievable climb rate depends on altitude. The commanded climb rate
     is scheduled in the HDot Command component, below. For the given altitude
     (left column in the table), the commanded maaximum climb rate divided by 100
     is given in the right column.
-->

<channel name="AP Pitch Altitude hold">

  <!--
  The difference between the desired altitude and the actual altitude
  is determined, and limited to 100. The output from this component is
  the desired climb rate in percent of maximum.
  -->
  <summer name="fcs/altitude-error">
    <input> ap/altitude_setpoint </input>
    <input> -position/h-sl-ft </input>
    <clipto>
      <min>-100</min>
      <max> 100</max>
    </clipto>
  </summer>

  <!--
  The desired climb rate is lagged slightly for stability.
  -->
  <lag_filter name="fcs/alt-error-lag">
    <input> fcs/altitude-error </input>
    <c1> 1 </c1>
  </lag_filter>

  <!--
  Dependent on altitude, the lagged (and limited) altitude error is multipled
  by the gain determined from the function, below. The output from this
  component is the absolute expected climb rate in feet/second. For example, if
  the desired climb rate is 100 percent of maximum and the current altitude is
  1000.0 ft., then the output from this component would be 24.5 ft. sec.
  The equation representing climb rate for the C-310 is:

  ROC (ft/sec) = 25.7 - h/833.33
  -->

  <fcs_function name="fcs/hdot-command">
    <input>fcs/alt-error-lag</input>
    <function>
      <quotient>
        <difference>
          <value>25.70</value>
          <quotient>
            <property>position/h-sl-ft</property>
            <value>833.33</value>
          </quotient>
        </difference>
        <value>100.0</value>
      </quotient>
    </function>
  </fcs_function>

  <!--
  This component calculates the climb rate error, taking the difference between
  the commanded climb rate (from the previous component) and actual climb rate
  in ft./sec.
  -->
  <summer name="fcs/hdot-error">
    <input>fcs/hdot-command</input>
    <input>-velocities/h-dot-fps</input>
  </summer>

  <!--
  If the altitude hold autopilot command is ON, then this switch component will
  pass through the climb rate error (from the previous component). Otherwise, it
  will pass zero.
  -->
  <switch name="fcs/ap-alt-hold-switch">
    <default value="0.0"/>
    <test value="fcs/hdot-error">
      ap/altitude_hold == 1
    </test>
  </switch>

  <!--
  The windup trigger below assumes the elevator will travel +/-23 degrees. The
  elevator, however, does not travel symmetrically. This will need to be addressed
  in a fix to the deadband component.
  -->
  <deadband name="fcs/windup-trigger">
    <input> fcs/elevator-pos-deg </input>
    <width>46.0</width>
  </deadband>

  <!--
  The integrator integrates the hdot error (when the switch component passes that
  signal through above when the altitude hold is selected ON). In the situation
  where the elevator becomes saturated, the integrator ceases to integrate. The
  windup protection is indicated below, with the windup-trigger property being
  the trigger to halt integration. When the windup trigger is non-zero (when the
  elevator position falls outside the range +/- 23 degrees - a deadband of 46
  degrees) then the deadband passes a non-zero value, triggering the anti-windup
  logic in the integrator.
  -->
  <integrator name="fcs/integral">
    <input> fcs/ap-alt-hold-switch </input>
    <trigger> fcs/windup-trigger </trigger>
    <c1> 0.001 </c1>
  </integrator>

  <!--
  The proportional component multiplies the error signal by a constant, providing
  the proportional control action of this PI altitude hold controller.
  -->
  <pure_gain name="fcs/proportional">
    <input> fcs/ap-alt-hold-switch </input>
    <gain> 0.03 </gain>
  </pure_gain>

  <!--
  The control summer component sums the proprortional and integral control
  signals. It clips the sum to +/- 1.0.
  -->
  <summer name="fcs/control-summer">
    <input> fcs/integral </input>
    <input> fcs/proportional </input>
    <clipto>
      <min>-1.0</min>
      <max> 1.0</max>
    </clipto>
  </summer>

  <!--
  The elevator component flips the sign on the output of the control summer
  above and sets the ap/elevator_command property.
  -->
  <pure_gain name="fcs/elevator">
    <input> fcs/control-summer </input>
    <gain> -1.0 </gain>
    <output> ap/elevator_cmd </output>
  </pure_gain>

</channel>

<!--
=====================================================
YAW CHANNEL
=====================================================
-->

<!-- Yaw Damper -->

<channel name="Yaw Damper">

   <scheduled_gain name="ap/rudder_control">
      <input> aero/beta-rad </input>
      <table>
        <independentVar lookup="row">velocities/ve-kts</independentVar>
         <tableData>
            30      0.00
            60    -40.00
         </tableData>
      </table>
      <gain>ap/yaw_damper</gain>
      <clipto>
        <min>-1.0</min>
        <max> 1.0</max>
      </clipto>
      <output> ap/rudder_cmd </output>
   </scheduled_gain>

</channel>

</autopilot>
<?xml version="1.0"?>
<initialize name="reset00" version="2">
  <!--
    This file sets up the aircraft to start off
    from the runway in preparation for takeoff.

  <ubody unit="FT/SEC">    0.0  </ubody>
  <vbody unit="FT/SEC">    0.0  </vbody>
  <wbody unit="FT/SEC">    0.0  </wbody>
  <latitude unit="DEG">   29.593978  </latitude>
  <longitude unit="DEG">  -95.163839  </longitude>
  <phi unit="DEG">         0.0  </phi>
  <theta unit="DEG">       0.0  </theta>
  <psi unit="DEG">         0.0  </psi>
  <altitude unit="FT">     4.5  </altitude>
  <elevation unit="FT">   32.0  </elevation>
  -->

  <position frame="ECEF">
    <altitudeAGL unit="FT"> 29.5  </altitudeAGL>
    <latitude type="geodetic" unit="DEG"> 29.594656 </latitude>
    <longitude unit="DEG"> -95.16384722 </longitude>
  </position>

  <orientation unit="DEG" frame="LOCAL">
    <yaw>   0.0  </yaw>
  </orientation>

  <velocity unit="FT/SEC" frame="LOCAL">
    <x> 0.0 </x>
    <y> 0.0 </y>
    <z> 0.0 </z>
  </velocity>

  <attitude_rate unit="DEG/SEC" frame="LOCAL">
    <x> 0.0 </x>
    <y> 0.0 </y>
    <z> 0.0 </z>
  </attitude_rate>

  <elevation unit="FT">   26.0  </elevation>

</initialize>
<?xml version="1.0"?>
<initialize name="reset00">
  <!--
    This file sets up the aircraft to start off
    from the runway in preparation for takeoff.
  -->
  <ubody unit="FT/SEC">    0.0  </ubody>
  <vbody unit="FT/SEC">    0.0  </vbody>
  <wbody unit="FT/SEC">    0.0  </wbody>
  <latitude unit="DEG">   45.0  </latitude>
  <longitude unit="DEG">  90.0  </longitude>
  <phi unit="DEG">         0.0  </phi>
  <theta unit="DEG">       0.0  </theta>
  <psi unit="DEG">       200.0  </psi>
  <altitude unit="FT">     5.5  </altitude>
</initialize>
// This file instructs the automatic synchronization utilities where to
// install this aircraft and under what name.
//
// The syntax is easy;
// * the package name at the beginning of a new line followed by a colon
// * a space as a column separator
// * the path and filename relative to the aircraft install directory
//
// Currently known package names are: FlightGear

FlightGear: fkdr1/dr1.xml
<?xml version='1.0' encoding='UTF-8' ?>
<system name="chocks">
 <channel name="Gear">

   <switch name="/sim/model/fkdr1/chocks">
     <default value="0"/>
     <test value="1">
        /controls/gear/brake-parking == 1
     </test>
    <output>forces/hold-down</output>
   </switch>

 </channel>
</system>

<?xml version='1.0' encoding='UTF-8' ?>
<system name="pushback">
 <property>/sim/model/pushback/target-speed-fps</property>
 <channel name="Pushback">

   <switch name="systems/pushback/linked">
     <default value="-1"/>
     <test value="0">
       /sim/model/pushback/position-norm gt 0.95
       /gear/gear/wow == 1
       gear/unit[0]/wheel-speed-fps lt 15
     </test>
   </switch>

   <summer name="systems/pushback/speed-error">
     <input>/sim/model/pushback/target-speed-fps</input>
     <input>-gear/unit[0]/wheel-speed-fps</input>
   </summer>

   <pid name="systems/pushback/force">
     <input>systems/pushback/speed-error</input>
     <kp>/sim/model/pushback/kp</kp>
     <ki>/sim/model/pushback/ki</ki>
     <kd>/sim/model/pushback/kd</kd>
     <trigger>systems/pushback/linked</trigger>
     <output>/sim/model/pushback/force</output>
   </pid>

   <switch name="systems/pushback/force-output">
     <default value="0"/>
     <test value="systems/pushback/force">
       systems/pushback/linked == 0
     </test>
     <output>external_reactions/pushback/magnitude</output>
   </switch>

 </channel>
</system>

<?xml version="1.0"?>
<?xml-stylesheet type="text/xsl" href="http://jsbsim.sourceforge.net/JSBSim.xsl"?>
<fdm_config name="Fokker Dr.1" version="2.0" release="ALPHA"
   xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
   xsi:noNamespaceSchemaLocation="http://jsbsim.sourceforge.net/JSBSim.xsd">

 <fileheader>
  <author> Ron Jensen, Erik Hofman, Aeromatic v 0.9 </author>
  <filecreationdate> 2008-07-26 </filecreationdate>
  <version>$Revison: $</version>
  <description> Models a Fokker Dr.1. </description>
 </fileheader>

<!--
  File:     Fokker Dr.1.xml
  Inputs:
    name:          Fokker Dr.1
    type:          WW1 type
    max weight:    1292.13 lb
    wing span:     23.6232 ft
    length:        18.93137 ft
    wing area:     201.3055 sq-ft
    gear type:     taildragger
    retractable?:  no
    # engines:     1
    engine type:   piston
    engine layout: forward fuselage
    yaw damper?    no

  Outputs:
    wing loading:  6.42 lb/sq-ft
    CL-alpha:      5 per radian
    CL-0:          0.25
    CL-max:        1.4
    CD-0:          0.0323
    K:             0.04

-->

 <metrics>
   <wingarea  unit="FT2">  201.31 </wingarea>
   <wingspan  unit="FT" >   23.62 </wingspan>
   <wing_incidence>          2.00 </wing_incidence>
   <chord     unit="FT" >    8.52 </chord>
   <htailarea unit="FT2">   32.21 </htailarea>
   <htailarm  unit="FT" >    9.84 </htailarm>
   <vtailarea unit="FT2">   20.13 </vtailarea>
   <vtailarm  unit="FT" >    9.47 </vtailarm>
   <location name="AERORP" unit="IN">
     <x>   0.00</x>
     <y>   0.00 </y>
     <z>   0.00 </z>
   </location>
   <location name="EYEPOINT" unit="IN">
     <x>  29.53 </x>
     <y> -18.00 </y>
     <z>  45.00 </z>
   </location>
   <location name="VRP" unit="IN">
     <x>0</x>
     <y>0</y>
     <z>0</z>
   </location>
 </metrics>

 <mass_balance>
   <ixx unit="SLUG*FT2">    368.55 </ixx>
   <iyy unit="SLUG*FT2">    522.24 </iyy>
   <izz unit="SLUG*FT2">    731.37 </izz>
   <emptywt unit="LBS" >       895 </emptywt>
   <location name="CG" unit="IN">
     <x>   0.00 </x>
     <y>   0.00 </y>
     <z>  -5.68 </z>
   </location>
 </mass_balance>

 <ground_reactions>

  <contact type="BOGEY" name="LEFT_MAIN">
   <location unit="IN">
     <x>  -8.66 </x>
     <y> -30.32 </y>
     <z> -76.77 </z>
   </location>
   <static_friction>  0.80 </static_friction>
   <dynamic_friction> 0.50 </dynamic_friction>
   <rolling_friction> 0.02 </rolling_friction>
   <spring_coeff unit="LBS/FT">      1000 </spring_coeff>
   <damping_coeff unit="LBS/FT/SEC">  500 </damping_coeff>
   <max_steer unit="DEG">0</max_steer>
   <brake_group>NONE</brake_group>
   <retractable>0</retractable>
  </contact>

  <contact type="BOGEY" name="RIGHT_MAIN">
   <location unit="IN">
     <x>  -8.66 </x>
     <y>  30.32 </y>
     <z> -76.77 </z>
   </location>
   <static_friction>  0.80 </static_friction>
   <dynamic_friction> 0.50 </dynamic_friction>
   <rolling_friction> 0.02 </rolling_friction>
   <spring_coeff unit="LBS/FT">       1000 </spring_coeff>
   <damping_coeff unit="LBS/FT/SEC">   500 </damping_coeff>
   <max_steer unit="DEG">0</max_steer>
   <brake_group>NONE</brake_group>
   <retractable>0</retractable>
  </contact>

  <contact type="BOGEY" name="TAIL_SKID">
   <location unit="IN">
     <x> 162.20 </x>
     <y>   0.00 </y>
     <z> -26.77 </z>
   </location>
   <static_friction>  0.80 </static_friction>
   <dynamic_friction> 0.50 </dynamic_friction>
   <rolling_friction> 0.02 </rolling_friction>
   <spring_coeff unit="LBS/FT">       200 </spring_coeff>
   <damping_coeff unit="LBS/FT/SEC">  100 </damping_coeff>
   <max_steer unit="DEG"> 0.00 </max_steer>
   <brake_group>NONE</brake_group>
   <retractable>0</retractable>
  </contact>

  <contact type="STRUCTURE" name="TAIL">
   <location unit="IN">
     <x> 173.23 </x>
     <y>   0.00 </y>
     <z>  -9.45 </z>
   </location>
   <static_friction>  0.80 </static_friction>
   <dynamic_friction> 0.50 </dynamic_friction>
   <rolling_friction> 0.02 </rolling_friction>
   <spring_coeff unit="LBS/FT">       200 </spring_coeff>
   <damping_coeff unit="LBS/FT/SEC">  100 </damping_coeff>
   <max_steer unit="DEG"> 0.00 </max_steer>
   <brake_group>NONE</brake_group>
   <retractable>0</retractable>
  </contact>

  <contact type="STRUCTURE" name="RUDDER_TOP">
   <location unit="IN">
     <x> 173.23 </x>
     <y>   0.00 </y>
     <z>  16.93 </z>
   </location>
   <static_friction>  0.80 </static_friction>
   <dynamic_friction> 0.50 </dynamic_friction>
   <rolling_friction> 0.02 </rolling_friction>
   <spring_coeff unit="LBS/FT">       200 </spring_coeff>
   <damping_coeff unit="LBS/FT/SEC">  100 </damping_coeff>
   <max_steer unit="DEG"> 0.00 </max_steer>
   <brake_group>NONE</brake_group>
   <retractable>0</retractable>
  </contact>

  <contact type="STRUCTURE" name="LEFT_UPPER_WING">
    <location unit="IN">
     <x>    0.0 </x>
     <y> -133.9 </y>
     <z>   35.8 </z>
    </location>
    <static_friction>  0.80 </static_friction>
    <dynamic_friction> 0.50 </dynamic_friction>
    <spring_coeff unit="LBS/FT">        300 </spring_coeff>
    <damping_coeff unit="LBS/FT/SEC">   150 </damping_coeff>
  </contact>

  <contact type="STRUCTURE" name="RIGHT_UPPER_WING">
    <location unit="IN">
     <x>    0.0 </x>
     <y>  133.9 </y>
     <z>   35.8 </z>
    </location>
    <static_friction>  0.80 </static_friction>
    <dynamic_friction> 0.50 </dynamic_friction>
    <spring_coeff unit="LBS/FT">        300 </spring_coeff>
    <damping_coeff unit="LBS/FT/SEC">   150 </damping_coeff>
  </contact>

  <contact type="STRUCTURE" name="LEFT_LOWER_WING">
    <location unit="IN">
     <x>   -8.7 </x>
     <y> -112.2 </y>
     <z>  -33.5 </z>
    </location>
    <static_friction>  0.80 </static_friction>
    <dynamic_friction> 0.50 </dynamic_friction>
    <spring_coeff unit="LBS/FT">        300 </spring_coeff>
    <damping_coeff unit="LBS/FT/SEC">   150 </damping_coeff>
  </contact>

  <contact type="STRUCTURE" name="RIGHT_LOWER_WING">
    <location unit="IN">
     <x>   -8.7 </x>
     <y>  112.2 </y>
     <z>  -33.5 </z>
    </location>
    <static_friction>  0.80 </static_friction>
    <dynamic_friction> 0.50 </dynamic_friction>
    <spring_coeff unit="LBS/FT">        300 </spring_coeff>
    <damping_coeff unit="LBS/FT/SEC">   150 </damping_coeff>
  </contact>

 </ground_reactions>

 <external_reactions>
  <force name="pushback" frame="BODY">
   <location unit="IN">
     <x> 173.23 </x>
     <y>   0.00 </y>
     <z>  -9.45 </z>
   </location>
   <direction>
    <x>1</x>
    <y>0</y>
    <z>0</z>
   </direction>
  </force>
 </external_reactions>

 <propulsion>

   <engine file="Oberursel-UrII">
    <feed>0</feed>
    <thruster file="Dr1_propeller">
     <location unit="IN">
       <x> -36.36 </x>
       <y>   0.00 </y>
       <z>   0.00 </z>
     </location>
     <orient unit="DEG">
       <pitch> 0.00 </pitch>
       <roll>   0.00 </roll>
       <yaw>   0.00 </yaw>
     </orient>
     <sense> -1 </sense>
     <p_factor> 60 </p_factor>
    </thruster>
  </engine>

  <tank type="FUEL" number="0">
     <location unit="IN">
       <x>  -5.91 </x>
       <y>   0.00 </y>
       <z>  -7.09 </z>
     </location>
     <capacity unit="LBS"> 125.00 </capacity>
     <contents unit="LBS">  50.00 </contents>
  </tank>

 </propulsion>

 <system file="pushback"/>
 <!-- <system file="chocks"/> -->

 <flight_control name="FCS: Fokker Dr.1">

  <channel name="Pitch">
   <summer name="Pitch Trim Sum">
      <input>fcs/elevator-cmd-norm</input>
<!--  <input>fcs/pitch-trim-cmd-norm</input> -->
      <clipto>
        <min> -1 </min>
        <max>  1 </max>
      </clipto>
   </summer>

   <aerosurface_scale name="Elevator Control">
      <input>fcs/pitch-trim-sum</input>
      <range>
        <min> -0.35 </min>
        <max>  0.35 </max>
      </range>
      <output>fcs/elevator-pos-rad</output>
   </aerosurface_scale>

   <aerosurface_scale name="elevator normalization">
      <input>fcs/elevator-pos-rad</input>
      <domain>
        <min> -0.31 </min>
        <max>  0.26 </max>
      </domain>
      <range>
        <min> -1 </min>
        <max>  1 </max>
      </range>
      <output>fcs/elevator-pos-norm</output>
   </aerosurface_scale>

  </channel>

  <channel name="Roll">
   <summer name="Roll Trim Sum">
      <input>fcs/aileron-cmd-norm</input>
<!--  <input>fcs/roll-trim-cmd-norm</input> -->
      <clipto>
        <min> -1 </min>
        <max>  1 </max>
      </clipto>
   </summer>

   <aerosurface_scale name="Left Aileron Control">
      <input>fcs/roll-trim-sum</input>
      <range>
        <min> -0.30 </min>
        <max>  0.30 </max>
      </range>
      <output>fcs/left-aileron-pos-rad</output>
   </aerosurface_scale>

   <aerosurface_scale name="Right Aileron Control">
      <input>fcs/roll-trim-sum</input>
      <range>
        <min> -0.30 </min>
        <max>  0.30 </max>
      </range>
      <output>fcs/right-aileron-pos-rad</output>
   </aerosurface_scale>

   <aerosurface_scale name="left aileron normalization">
      <input>fcs/left-aileron-pos-rad</input>
      <domain>
        <min> -0.30 </min>
        <max>  0.30 </max>
      </domain>
      <range>
        <min> -1 </min>
        <max>  1 </max>
      </range>
      <output>fcs/left-aileron-pos-norm</output>
   </aerosurface_scale>

   <aerosurface_scale name="right aileron normalization">
      <input>fcs/right-aileron-pos-rad</input>
      <domain>
        <min> -0.30 </min>
        <max>  0.30 </max>
      </domain>
      <range>
        <min> -1 </min>
        <max>  1 </max>
      </range>
      <output>fcs/right-aileron-pos-norm</output>
   </aerosurface_scale>

  </channel>

  <channel name="Yaw">
   <summer name="Rudder Command Sum">
      <input>fcs/rudder-cmd-norm</input>
<!--  <input>fcs/yaw-trim-cmd-norm</input> -->
      <clipto>
        <min> -0.35 </min>
        <max>  0.35 </max>
      </clipto>
   </summer>

   <aerosurface_scale name="Rudder Control">
      <input>fcs/rudder-command-sum</input>
      <range>
        <min> -0.44 </min>
        <max>  0.44 </max>
      </range>
      <output>fcs/rudder-pos-rad</output>
   </aerosurface_scale>

   <aerosurface_scale name="rudder normalization">
      <input>fcs/rudder-pos-rad</input>
      <domain>
        <min> -0.44 </min>
        <max>  0.44 </max>
      </domain>
      <range>
        <min> -1 </min>
        <max>  1 </max>
      </range>
      <output>fcs/rudder-pos-norm</output>
   </aerosurface_scale>

  </channel>

 </flight_control>

 <aerodynamics>

  <axis name="LIFT">

    <function name="aero/coefficient/CLalpha">
      <description>Lift_due_to_alpha</description>
      <product>
          <property>aero/qbar-psf</property>
          <property>metrics/Sw-sqft</property>
          <table>
            <independentVar lookup="row">aero/alpha-deg</independentVar>
            <tableData>
		-180.000000    0
		-167.283800    0.507559
		-165.091352    0.503240
		-160.267966    0.460043
		-158.075518    0.451404
		-155.883069    0.460043
		-150.182704    0.498920
		-140.535932    0.498920
		-124.311815    0.451404
		-113.349574    0.356371
		-103.702801    0.239741
		-94.056029     0.084233
		-85.000000     -0.053212
		-83.000000     -0.075185
		-79.000000     -0.119132
		-75.000000     -0.163079
		-71.000000     -0.207027
		-67.000000     -0.250974
		-63.000000     -0.294921
		-59.000000     -0.330791
		-55.000000     -0.362833
		-51.000000     -0.394875
		-49.000000     -0.410896
		-45.000000     -0.442939
		-43.000000     -0.458960
		-41.000000     -0.474981
		-39.000000     -0.492972
		-35.000000     -0.530579
		-31.000000     -0.568186
		-29.000000     -0.586989
		-27.000000     -0.605792
		-25.000000     -0.620705
		-23.000000     -0.633666
		-21.000000     -0.619398
		-19.000000     -0.593683
		-17.000000     -0.562693
		-15.000000     -0.531727
		-13.000000     -0.506665
		-11.000000     -0.430152
		-9.000000      -0.305751
		-7.000000      -0.181350
		-5.000000      -0.056949
		-3.000000       0.067354
		-1.000000       0.191575
		1.000000        0.315796
		3.000000        0.440017
		5.000000        0.564237
		7.000000        0.689083
		9.000000        0.814508
		11.000000       0.927432
		13.000000       1.016563
		15.000000       1.074647
		17.000000       1.044252
		19.000000       0.916713
		21.000000       0.742705
		23.000000       0.655686
		25.000000       0.615506
		27.000000       0.592442
		29.000000       0.569378
		31.000000       0.552969
		33.000000       0.542580
		35.000000       0.532191
		37.000000       0.521802
		39.000000       0.511413
		41.000000       0.499081
		43.000000       0.486002
		45.000000       0.472923
		47.000000       0.459843
		49.000000       0.446764
		51.000000       0.433685
		53.000000       0.420605
		55.000000       0.406311
		57.000000       0.388495
		59.000000       0.370678
		61.000000       0.352862
		63.000000       0.335045
		65.000000       0.317229
		67.000000       0.299343
		69.000000       0.276179
		71.000000       0.253014
		73.000000       0.229849
		75.000000       0.206684
		77.000000       0.183520
		79.000000       0.160355
		81.000000       0.135592
		83.000000       0.105045
		85.000000       0.074498
		90.548112       0.002160
		104.141291      -0.218143
		122.119367      -0.399568
		136.589525      -0.455724
		150.621194      -0.451404
		155.883069      -0.416847
		157.637028      -0.412527
		159.390987      -0.425486
		163.775883      -0.455724
		165.968331      -0.468683
		167.722290      -0.447084
		180.000000      0
            </tableData>
          </table>
      </product>
    </function>

    <function name="aero/coefficient/CLde">
       <description>Lift_due_to_Elevator_Deflection</description>
       <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <property>fcs/elevator-pos-rad</property>
           <value>0.2</value>
       </product>
    </function>

    <function name="aero/coefficient/CLadot">
       <description>Delta_Lift_due_to_alpha_rate</description>
       <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <property>aero/alphadot-rad_sec</property>
           <property>aero/ci2vel</property>
           <value>0.759</value>
       </product>
    </function>

    <function name="aero/coefficient/CLq">
       <description>Lift_due_to_pitch_rate</description>
       <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <property>velocities/q-aero-rad_sec</property>
           <property>aero/ci2vel</property>
           <value>1.245</value>
       </product>
    </function>

  </axis>

  <axis name="DRAG">
    <!--
       CDK:	0.0922
     -->
    <function name="aero/coefficient/CDo">
       <description>Drag_at_zero_lift</description>
       <product>
          <property>aero/qbar-psf</property>
          <property>metrics/Sw-sqft</property>
          <value>0.0323</value>
       </product>
    </function>

    <function name="aero/coefficient/CDi">
       <description>Induced_drag</description>
         <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <property>aero/cl-squared</property>
           <table>
            <independentVar lookup="row">aero/alpha-deg</independentVar>
            <tableData>
		-180.000000     0.036717
		-169.914738     0.062635
		-150.182704     0.153348
		-122.119367     0.265659
		-84.847747      0.408207
		-45.383678      0.533477
		-43.000000      0.527482
		-41.000000      0.530885
		-39.000000      0.534288
		-37.000000      0.528571
		-35.000000      0.513248
		-33.000000      0.497924
		-31.000000      0.482600
		-29.000000      0.467276
		-27.000000      0.451953
		-25.000000      0.416920
		-23.000000      0.374764
		-21.000000      0.332608
		-19.000000      0.290452
		-17.000000      0.238177
		-15.000000      0.175336
		-13.000000      0.085176
		-11.000000      0.029907
		-9.000000       0.002152
		-7.000000       0.001623
		-5.000000       0.001818
		-3.000000       0.002013
		-1.000000       0.002207
		1.000000        0.002402
		3.000000        0.002597
		5.000000        0.002792
		7.000000        0.002986
		9.000000        0.003181
		11.000000       0.003376
		13.000000       0.013600
		15.000000       0.032951
		17.000000       0.060633
		19.000000       0.092297
		21.000000       0.123961
		23.000000       0.157220
		25.000000       0.200529
		27.000000       0.243839
		29.000000       0.287148
		31.000000       0.330457
		33.000000       0.364475
		35.000000       0.398403
		37.000000       0.432331
		39.000000       0.466259
		41.000000       0.500187
		43.000000       0.533927
		45.000000       0.551580
		47.000000       0.569232
		49.000000       0.586885
		51.000000       0.604537
		53.000000       0.622189
		55.000000       0.638904
		57.000000       0.645843
		59.000000       0.652782
		61.000000       0.655156
		63.000000       0.645551
		65.000000       0.635947
		67.000000       0.625216
		69.000000       0.603688
		71.000000       0.582160
		73.000000       0.560632
		75.000000       0.539104
		77.000000       0.508452
		79.147381       0.481641
		100.633374      0.334773
		132.643118      0.192225
		160.706456      0.079914
		180.000000      0.036717
            </tableData>
          </table>
         </product>
    </function>

    <function name="aero/coefficient/CDbeta">
       <description>Drag_due_to_sideslip</description>
       <product>
          <property>aero/qbar-psf</property>
          <property>metrics/Sw-sqft</property>
          <table>
            <independentVar lookup="row">aero/beta-rad</independentVar>
            <tableData>
              -1.57    1.230
              -0.26    0.050
               0.00    0.000
               0.26    0.050
               1.57    1.230
            </tableData>
          </table>
       </product>
    </function>

    <function name="aero/coefficient/CDde">
       <description>Drag_due_to_Elevator_Deflection</description>
       <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <property>fcs/mag-elevator-pos-rad</property>
           <value>0.0136</value>
       </product>
    </function>

  </axis>

  <axis name="SIDE">

    <function name="aero/coefficient/CYbeta">
       <description>Side_force_due_to_beta</description>
       <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <property>aero/beta-rad</property>
           <value>-0.3855</value>
       </product>
    </function>

    <function name="aero/coefficient/CYda">
       <description>Side_force_due_to_aileron</description>
       <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <property>fcs/left-aileron-pos-rad</property>
           <value>0.0000</value>
       </product>
    </function>

    <function name="aero/coefficient/CYdr">
       <description>Side_force_due_to_rudder</description>
       <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <property>fcs/rudder-pos-rad</property>
           <value>0.094</value>
       </product>
    </function>

    <function name="aero/coefficient/CYp">
       <description>Side_force_due_to_roll_rate</description>
       <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <property>aero/bi2vel</property>
           <property>velocities/p-aero-rad_sec</property>
           <value>-0.01</value>
       </product>
    </function>

    <function name="aero/coefficient/CYr">
        <description>Side_force_due_to_yaw_rate</description>
        <product>
            <property>aero/qbar-psf</property>
            <property>metrics/Sw-sqft</property>
            <property>aero/bi2vel</property>
            <property>velocities/r-aero-rad_sec</property>
            <value>0.1047</value>
        </product>
    </function>

  </axis>

  <axis name="ROLL">

    <function name="aero/coefficient/Clbeta">
       <description>Roll_moment_due_to_beta</description>
       <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <property>metrics/bw-ft</property>
           <property>aero/beta-rad</property>
           <value>-0.02</value>
       </product>
    </function>

    <function name="aero/coefficient/Clp">
       <description>Roll_moment_due_to_roll_rate</description>
       <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <property>metrics/bw-ft</property>
           <property>aero/bi2vel</property>
           <property>velocities/p-aero-rad_sec</property>
           <value>-0.193</value>
       </product>
    </function>

    <function name="aero/coefficient/Clr">
       <description>Roll_moment_due_to_yaw_rate</description>
       <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <property>metrics/bw-ft</property>
           <property>aero/bi2vel</property>
           <property>velocities/r-aero-rad_sec</property>
           <value>-0.0458</value>
       </product>
    </function>

    <function name="aero/coefficient/Clda">
       <description>Roll_moment_due_to_aileron</description>
       <product>
          <property>aero/qbar-psf</property>
          <property>metrics/Sw-sqft</property>
          <property>metrics/bw-ft</property>
          <property>fcs/left-aileron-pos-rad</property>
          <value>0.087</value>
       </product>
    </function>

    <function name="aero/coefficient/Cldr">
       <description>Roll_moment_due_to_rudder</description>
       <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <property>metrics/bw-ft</property>
           <property>fcs/rudder-pos-rad</property>
           <value>-0.005</value>
       </product>
    </function>

  </axis>

  <axis name="PITCH">

    <function name="aero/coefficient/Cmalpha">
       <description>Pitch_moment_due_to_alpha</description>
       <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <property>metrics/cbarw-ft</property>
           <table>
            <independentVar lookup="row">aero/alpha-deg</independentVar>
            <tableData>
		-180.000000    0.002160
		-155.444580    0.049676
		-127.381242    0.088553
		-84.847747     0.118790
		-83.000000     0.111578
		-81.000000     0.109529
		-79.000000     0.107307
		-77.000000     0.104574
		-75.000000     0.101924
		-73.000000     0.099422
		-71.000000     0.097083
		-69.000000     0.094282
		-67.000000     0.091509
		-65.000000     0.088937
		-63.000000     0.086618
		-61.000000     0.084993
		-59.000000     0.084405
		-57.000000     0.084065
		-55.000000     0.083979
		-53.000000     0.084150
		-51.000000     0.084585
		-49.000000     0.085133
		-47.000000     0.084831
		-45.000000     0.084135
		-43.000000     0.083629
		-41.000000     0.083319
		-39.000000     0.082857
		-37.000000     0.081386
		-35.000000     0.078832
		-33.000000     0.076293
		-31.000000     0.073780
		-29.000000     0.070542
		-27.000000     0.066352
		-25.000000     0.059782
		-23.000000     0.052199
		-21.000000     0.048019
		-19.000000     0.036628
		-17.000000     0.008613
		-15.000000     -0.021966
		-13.000000     -0.051723
		-11.000000     -0.061373
		-9.000000      -0.055043
		-7.000000      -0.042039
		-5.000000      -0.030525
		-3.000000      -0.020684
		-1.000000      -0.012551
		1.000000       -0.006150
		3.000000       -0.001511
		5.000000       0.001345
		7.000000       0.002421
		9.000000       0.001690
		11.000000      -0.001231
		13.000000      -0.004202
		15.000000      -0.006967
		17.000000      -0.015326
		19.000000      -0.039137
		21.000000      -0.053761
		23.000000      -0.057517
		25.000000      -0.059092
		27.000000      -0.059484
		29.000000      -0.057321
		31.000000      -0.055292
		33.000000      -0.055424
		35.000000      -0.055607
		37.000000      -0.055193
		39.000000      -0.054363
		41.000000      -0.053475
		43.000000      -0.052650
		45.000000      -0.054951
		47.000000      -0.057268
		49.000000      -0.059612
		51.000000      -0.061994
		53.000000      -0.063932
		55.000000      -0.065632
		57.000000      -0.068524
		59.000000      -0.071343
		61.000000      -0.074801
		63.000000      -0.079945
		65.000000      -0.084862
		67.000000      -0.089696
		69.000000      -0.094872
		71.000000      -0.099632
		73.000000      -0.103974
		75.000000      -0.107735
		77.000000      -0.111800
		79.000000      -0.115339
		81.000000      -0.117895
		83.000000      -0.116303
		85.724726      -0.110151
		121.680877     -0.079914
		154.567600     -0.041037
		180.000000     0.002160
            </tableData>
           </table>
       </product>
    </function>

    <function name="aero/coefficient/Cmde">
       <description>Pitch_moment_due_to_elevator</description>
       <product>
          <property>aero/qbar-psf</property>
          <property>metrics/Sw-sqft</property>
          <property>metrics/cbarw-ft</property>
          <table>
            <independentVar lookup="row">aero/alpha-deg</independentVar>
            <independentVar lookup="column">fcs/elevator-pos-rad</independentVar>
            <tableData>
                       -0.35        0		0.35
              -180.000	0.015374    0.000000	-0.015374
              -163.145	0.100936    0.081551	0.065508
              -161.555	0.105615    0.084893	0.063503
              -159.965	0.103610    0.082219	0.057487
              -157.420	0.096257    0.076203	0.052807
              -155.512	0.092914    0.072193	0.056150
              -153.604	0.100267    0.075535	0.080214
              -146.608	0.129011    0.106283	0.121658
              -137.703	0.162433    0.139706	0.145053
              -124.028	0.187834    0.162433	0.154412
              -104.947	0.194519    0.172460	0.155080
              -91.227	0.195800    0.173500	0.153400
              -71.329	0.193000    0.165200	0.130500
              -53.688	0.186900    0.150800	0.105100
              -41.556	0.180900    0.135600	0.071000
              -34.678	0.176100    0.120200	0.076400
              -30.176	0.173500    0.113200	0.088700
              -25.540	0.176700    0.130300	0.084000
              -22.669	0.171600    0.132500	0.064600
              -16.566	0.151400    0.117400	0.015500
              -1.000	0.098300    0.000400	-0.099000
              6.800	0.042300   -0.040000	-0.136000
              14.848	-0.015500  -0.117400	-0.151400
              21.533	-0.064600  -0.132500	-0.171600
              24.758	-0.084000  -0.130300	-0.176700
              28.255	-0.088700  -0.113200	-0.173500
              30.402	-0.076400  -0.120200	-0.176100
              38.547	-0.071000  -0.135600	-0.180900
              54.266	-0.105100  -0.150800	-0.186900
              69.499	-0.130500  -0.165200	-0.193000
              89.241	-0.153400  -0.173500	-0.195800
              113.534	-0.154412  -0.172460	-0.194519
              128.481	-0.145053  -0.162433	-0.187834
              139.611	-0.121658  -0.139706	-0.162433
              150.424	-0.080214  -0.106283	-0.129011
              155.830	-0.056150  -0.075535	-0.100267
              157.739	-0.052807  -0.072193	-0.092914
              159.647	-0.057487  -0.076203	-0.096257
              161.555	-0.063503  -0.082219	-0.103610
              163.145	-0.065508  -0.084893	-0.105615
              165.053	-0.059492  -0.081551	-0.100936
              180.000	0.015374    0.000000	-0.015374
            </tableData>
          </table>
       </product>
    </function>

    <function name="aero/coefficient/Cmq">
       <description>Pitch_moment_due_to_pitch_rate</description>
       <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <property>metrics/cbarw-ft</property>
           <property>aero/ci2vel</property>
           <property>velocities/q-aero-rad_sec</property>
           <value>-1.839</value>
       </product>
    </function>

    <function name="aero/coefficient/Cmadot">
       <description>Pitch_moment_due_to_alpha_rate</description>
       <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <property>metrics/cbarw-ft</property>
           <property>aero/ci2vel</property>
           <property>aero/alphadot-rad_sec</property>
           <value>-1.122</value>
       </product>
    </function>

  </axis>

  <axis name="YAW">

    <function name="aero/coefficient/Cnbeta">
       <description>Yaw_moment_due_to_beta</description>
       <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <property>metrics/bw-ft</property>
           <property>aero/beta-rad</property>
           <value>0.096</value>
       </product>
    </function>

    <function name="aero/coefficient/Cnp">
        <description>Yaw_moment_due_to_roll_rate</description>
        <product>
            <property>aero/qbar-psf</property>
            <property>metrics/Sw-sqft</property>
            <property>metrics/bw-ft</property>
            <property>aero/bi2vel</property>
            <property>velocities/p-aero-rad_sec</property>
            <value>-0.0109</value>
        </product>
    </function>

    <function name="aero/coefficient/Cnr">
       <description>Yaw_moment_due_to_yaw_rate</description>
       <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <property>metrics/bw-ft</property>
           <property>aero/bi2vel</property>
           <property>velocities/r-aero-rad_sec</property>
           <value>-0.082</value>
       </product>
    </function>

    <function name="aero/coefficient/Cndr">
       <description>Yaw_moment_due_to_rudder</description>
       <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <property>metrics/bw-ft</property>
           <property>fcs/rudder-pos-rad</property>
           <value>-0.0502</value>
       </product>
    </function>

    <function name="aero/coefficient/Cnda">
       <description>Adverse_yaw</description>
       <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <property>metrics/bw-ft</property>
           <property>fcs/left-aileron-pos-rad</property>
           <value>0.0552</value>
       </product>
    </function>

  </axis>

 </aerodynamics>

</fdm_config>
// This file instructs the automatic synchronization utilities where to
// install this aircraft and under what name.
//
// The syntax is easy;
// * the package name at the beginning of a new line followed by a colon
// * a space as a column separator
// * the path and filename relative to the aircraft install directory
//
// Currently known package names are: FlightGear

FlightGear: Lockheed-NF104/f104.xml
<?xml version="1.0"?>

<!-- This system determines the state of the Boundary Layer Control (BLC)
     system.  The aerodynamic effects of BLC are set in the aircraft
     configuration file <aerodynamics> section, not here.  In order for
     the switch to work properly the number of engine rpm tests should
     match the number of engines installed!
--> 

<system name="BLC">

  <property>systems/BLC/active</property>

  <channel name="Boundary Layer Control">

       <switch name="systems/BLC/switch">
          <default value="0"/>
          <test  logic="AND" value="1">
               fcs/flap-pos-norm gt 0.31
               propulsion/engine[0]/n2 gt 75.0
          </test>
          <output>systems/BLC/active</output>
       </switch>

  </channel>

</system>
<?xml version="1.0"?>

<system name="FCS-pitch">

  <channel name="Pitch">

   <summer name="Pitch Trim Sum">
      <input>fcs/elevator-cmd-norm</input>
      <input>fcs/pitch-trim-cmd-norm</input>
      <clipto>
        <min> -1 </min>
        <max>  1 </max>
      </clipto>
   </summer>

   <aerosurface_scale name="Elevator Control">
      <input>fcs/pitch-trim-sum</input>
      <range>
        <min> -0.35 </min>
        <max>  0.30 </max>
      </range>
      <output>fcs/elevator-pos-rad</output>
   </aerosurface_scale>

   <aerosurface_scale name="Elevator Normalized">
      <input>fcs/elevator-pos-rad</input>
      <domain>
        <min>-0.35</min>
        <max> 0.30</max>
      </domain>
      <range>
        <min>-1</min>
        <max> 1</max>
      </range>
      <output>fcs/elevator-pos-norm</output>
   </aerosurface_scale>

  </channel>

</system>
<?xml version="1.0"?>

<system name="FCS-roll">

  <channel name="Roll">

   <summer name="Roll Trim Sum">
      <input>fcs/aileron-cmd-norm</input>
      <input>fcs/roll-trim-cmd-norm</input>
      <clipto>
        <min> -1 </min>
        <max>  1 </max>
      </clipto>
   </summer>

<!--left aileron-->

   <aerosurface_scale name="Left Aileron Control">
      <input>fcs/roll-trim-sum</input>
      <range>
        <min> -0.35 </min>
        <max>  0.35 </max>
      </range>
      <output>fcs/left-aileron-pos-rad</output>
   </aerosurface_scale>

	<scheduled_gain name="Left Aileron Scheduled Gain">
		<input>fcs/left-aileron-pos-rad</input>
		<table>
			<independentVar>gear/gear-cmd-norm</independentVar>
			<tableData>
			0.0   0.4875
			1.0   1.0
			</tableData>
		</table>
	</scheduled_gain>

   <aerosurface_scale name="Left Aileron Normalized">
      <input>fcs/left-aileron-pos-rad</input>
      <domain>
        <min>-0.35</min>
        <max> 0.35</max>
      </domain>
      <range>
        <min>-1</min>
        <max> 1</max>
      </range>
      <output>fcs/left-aileron-pos-norm</output>
   </aerosurface_scale>

<!--right aileron-->

   <aerosurface_scale name="Right Aileron Control">
      <input>fcs/roll-trim-sum</input>
      <range>
        <min> -0.35 </min>
        <max>  0.35 </max>
      </range>
      <output>fcs/right-aileron-pos-rad</output>
   </aerosurface_scale>

	<scheduled_gain name="Right Aileron Scheduled Gain">
		<input>fcs/right-aileron-pos-rad</input>
		<table>
			<independentVar>gear/gear-cmd-norm</independentVar>
			<tableData>
			0.0   0.4875
			1.0   1.0
			</tableData>
		</table>
	</scheduled_gain>

   <aerosurface_scale name="Right Aileron Normalized">
      <input>fcs/right-aileron-pos-rad</input>
      <domain>
        <min>-0.35</min>
        <max> 0.35</max>
      </domain>
      <range>
        <min>-1</min>
        <max> 1</max>
      </range>
      <output>fcs/right-aileron-pos-norm</output>
   </aerosurface_scale>

  </channel>

</system>
<?xml version="1.0"?>

<system name="FCS-yaw">

  <channel name="Yaw">

   <summer name="Rudder Command Sum">
      <input>fcs/rudder-cmd-norm</input>
      <input>fcs/yaw-trim-cmd-norm</input>
      <clipto>
        <min> -1.0 </min>
        <max>  1.0 </max>
      </clipto>
   </summer>

<!--yaw damper-->

   <scheduled_gain name="Yaw Damper Rate">
      <input>velocities/r-aero-rad_sec</input>
      <table>
        <independentVar lookup="row">velocities/ve-kts</independentVar>
         <tableData>
            30     0.00
            60     2.00
         </tableData>
      </table>
   </scheduled_gain>

   <scheduled_gain name="Yaw Damper Beta">
      <input>aero/beta-rad</input>
      <table>
        <independentVar lookup="row">velocities/ve-kts</independentVar>
        <tableData>
           30     0.00
           60     0.00
        </tableData>
      </table>
   </scheduled_gain>

   <summer name="Yaw Damper Sum">
      <input>fcs/yaw-damper-beta</input>
      <input>fcs/yaw-damper-rate</input>
      <clipto>
        <min> -0.1 </min>
        <max>  0.1 </max>
      </clipto>
   </summer>

   <scheduled_gain name="Yaw Damper Final">
      <input>fcs/yaw-damper-sum</input>
      <table>
        <independentVar lookup="row">velocities/ve-kts</independentVar>
        <tableData>
           30         0.0
           31         1.0
        </tableData>
      </table>
   </scheduled_gain>

<!--rudder-->

   <summer name="Rudder Sum">
      <input>fcs/rudder-command-sum</input>
      <input>fcs/yaw-damper-final</input>
      <clipto>
        <min> -1 </min>
        <max>  1 </max>
      </clipto>
   </summer>

   <aerosurface_scale name="Rudder Control">
      <input>fcs/rudder-sum</input>
      <domain>
        <min>-1.0</min>
        <max> 1.0</max>
      </domain>
      <range>
        <min> -0.25 </min>
        <max>  0.25 </max>
      </range>
      <output>fcs/rudder-pos-rad</output>
   </aerosurface_scale>

	<scheduled_gain name="Rudder Scheduled Gain">
		<input>fcs/rudder-pos-rad</input>
		<table>
			<independentVar>gear/gear-cmd-norm</independentVar>
			<tableData>
			0.0   0.4615
			1.0   1.0
			</tableData>
		</table>
	</scheduled_gain>

   <aerosurface_scale name="Rudder Normalized">
      <input>fcs/rudder-pos-rad</input>
      <domain>
        <min>-0.25</min>
        <max> 0.25</max>
      </domain>
      <range>
        <min>-1</min>
        <max> 1</max>
      </range>
      <output>fcs/rudder-pos-norm</output>
   </aerosurface_scale>

  </channel>

</system>
<?xml version="1.0"?>

<system name="NWS">
	<property>systems/NWS/engaged</property>
	<channel name="Nose Wheel Steering">
		<scheduled_gain name="systems/NWS/steer-cmd">
		<input>fcs/rudder-cmd-norm</input>
			<table>
				<independentVar lookup="row">systems/NWS/engaged</independentVar>
				<tableData>
 		           0     -0.1
 		           1     -1.0
				</tableData>
			</table>
 	     <output>fcs/steer-cmd-norm</output>
 	    </scheduled_gain>
		<pure_gain name="Copy">
			<input>fcs/steer-cmd-norm</input>
				<gain>1</gain>
			<output>/sim/multiplay/generic/float[1]</output>
		</pure_gain>
	</channel>
</system>
<?xml version="1.0"?>

<!--***F-104C external fuel***-->

<system name="armament">

  <property value="0">systems/armament/tip-tanks/release</property>

  <channel name="Armament"><!--release tip tanks -->
     <switch name="systems/armament/tip-tanks/left-tip-tank/released">
          <default value="systems/armament/tip-tanks/left-tip-tank/released"/>
          <test value="1">
                systems/armament/tip-tanks/release == 1
          </test>
          <output>systems/armament/tip-tanks/left-tip-tank/released</output>
     </switch>
     <switch name="systems/armament/tip-tanks/right-tip-tank/released">
          <default value="systems/armament/tip-tanks/right-tip-tank/released"/>
          <test value="1">
                systems/armament/tip-tanks/release == 1
          </test>
          <output>systems/armament/tip-tanks/right-tip-tank/released</output>
     </switch>
  </channel>

  <channel name="Weight-loss"><!--after tip tanks released-->
     <switch name="systems/armament/tip-tanks/left-tip-tank/weight-control">
          <default value="inertia/pointmass-weight-lbs[0]"/>
          <test value="0">
                systems/armament/tip-tanks/left-tip-tank/released == 1
          </test>
          <output>inertia/pointmass-weight-lbs[0]</output>
     </switch>
     <switch name="systems/armament/tip-tanks/right-tip-tank/weight-control">
          <default value="inertia/pointmass-weight-lbs[1]"/>
          <test value="0">
                systems/armament/tip-tanks/right-tip-tank/released == 1
          </test>
          <output>inertia/pointmass-weight-lbs[1]</output>
     </switch>
  </channel>

  <channel name="Fuel-loss"><!--after drop tanks released-->
     <switch name="systems/armament/tip-tanks/left-tip-tank/fuel-level-control">
          <default value="propulsion/tank[1]/contents-lbs"/>
          <test value="0">
                systems/armament/tip-tanks/left-tip-tank/released == 1
          </test>
          <output>propulsion/tank[1]/contents-lbs</output>
     </switch>
     <switch name="systems/armament/tip-tanks/right-tip-tank/fuel-level-control">
          <default value="propulsion/tank[2]/contents-lbs"/>
          <test value="0">
                systems/armament/tip-tanks/right-tip-tank/released == 1
          </test>
          <output>propulsion/tank[2]/contents-lbs</output>
     </switch>
  </channel>


</system>
<?xml version="1.0"?>

<system name="beacon">

  <property value="0.75">systems/beacon/frequency</property>

  <channel name="beacon">

   <fcs_function name="systems/beacon/factor">
     <function>
       <sin>
         <product>
           <property>simulation/sim-time-sec</property>
           <value>6.283185307</value>
           <property>systems/beacon/frequency</property>
         </product>
       </sin>
     </function>
     <output>/sim/multiplay/generic/float[0]</output>
   </fcs_function>
 
  </channel>

</system>
<?xml version="1.0"?>

<system name="canopy">
  <property>systems/canopy/command</property>

  <channel name="canopy">

   <kinematic name="Canopy Control">
     <input>systems/canopy/command</input>
     <traverse>
       <setting>
          <position>0</position>
          <time>0</time>
       </setting>
       <setting>
          <position>1</position>
          <time>2</time>
       </setting>
     </traverse>
     <output>/canopy/position-norm</output>
   </kinematic>

  </channel>

</system>
<?xml version="1.0"?>

<system name="chute">
	<property value="0">systems/chute/deploy</property>
	<channel name="Chute">
		<kinematic name="Parachute Deploy">
			<input>systems/chute/deploy</input>
				<traverse>
					<setting>
						<position>0</position>
						<time>0</time>
					</setting>
					<setting>
						<position>1</position>
						<time>1.5</time>
					</setting>
				</traverse>
			<output>systems/chute/unfurl-norm</output>
		</kinematic>
	</channel>
</system>
<?xml version="1.0"?>

<system name="crash-detect">

  <property value="0">systems/crash-detect/crashed</property>

  <channel name="Over-G">

     <switch name="systems/crash-detect/over-g">
          <test value="1">
                accelerations/Nz gt 9.0
          </test>
          <output>systems/crash-detect/crashed</output>
     </switch>

  </channel>

  <channel name="impact-ground">

     <switch name="systems/crash-detect/impact">
          <test logic="AND" value="1">
                position/h-agl-ft lt 1.0
                simulation/sim-time-sec gt 1.0
          </test>
          <output>systems/crash-detect/crashed</output>
     </switch>

  </channel>

  <channel name="freeze">

    <switch name="systems/crash-detect/switch1">
          <default value="simulation/integrator/position/rotational"/>          
          <test value="0">
                systems/crash-detect/crashed eq 1
          </test>
          <output>simulation/integrator/position/rotational</output>
    </switch>
    <switch name="systems/crash-detect/switch2">
          <default value="simulation/integrator/position/translational"/>          
          <test value="0">
                systems/crash-detect/crashed eq 1
          </test>
          <output>simulation/integrator/position/translational</output>
    </switch>
    <switch name="systems/crash-detect/switch3">
          <default value="simulation/integrator/rate/rotational"/>          
          <test value="0">
                systems/crash-detect/crashed eq 1
          </test>
          <output>simulation/integrator/rate/rotational</output>
    </switch>
    <switch name="systems/crash-detect/switch4">
          <default value="simulation/integrator/rate/translational"/>          
          <test value="0">
                systems/crash-detect/crashed eq 1
          </test>
          <output>simulation/integrator/rate/translational</output>
    </switch>

  </channel>

</system>
<?xml version="1.0"?>

<system name="flaps">

  <channel name="Flaps">

   <kinematic name="Flaps Control">
     <input>fcs/flap-cmd-norm</input>
     <traverse>
       <setting>
          <position>0</position>
          <time>0</time>
       </setting>
       <setting>
          <position>0.3</position>
          <time>2</time>
       </setting>
       <setting>
          <position>1</position>
          <time>5</time>
       </setting>
     </traverse>
     <output>fcs/flap-pos-norm</output>
   </kinematic>

  </channel>

</system>
<?xml version="1.0"?>

<system name="gear">
	<channel name="Landing Gear">
		<kinematic name="Gear Control">
		<input>gear/gear-cmd-norm</input>
			<traverse>
				<setting>
					<position>0</position>
					<time>0</time>
				</setting>
				<setting>
					<position>1</position>
					<time>5</time>
				</setting>
			</traverse>
		<output>gear/gear-pos-norm</output>
		</kinematic>
	</channel>
</system>
<?xml version="1.0"?>

<system name="radar">

  <channel name="Radar">

   <fcs_function name="Scope scale">
     <function>
         <quotient>
           <value>0.026</value>
           <property>systems/radar/range</property>
         </quotient>
     </function>
     <output>systems/radar/factor</output>
   </fcs_function>

  </channel>

</system>
<?xml version="1.0"?>

<system name="speedbrakes">

  <channel name="Speedbrake">

   <kinematic name="Speedbrake Control">
     <input>fcs/speedbrake-cmd-norm</input>
     <traverse>
       <setting>
          <position> 0 </position>
          <time>     0 </time>
       </setting>
       <setting>
          <position> 1 </position>
          <time>     1 </time>
       </setting>
     </traverse>
     <output>fcs/speedbrake-pos-norm</output>
   </kinematic>

  </channel>

</system>
<?xml version="1.0"?>

<system name="hook">

  <property>systems/hook/tailhook-cmd-norm</property>
  <property value="5.6">systems/hook/tailhook-length-ft</property>
  <property value="-8.0">systems/hook/tailhook-pos-min-deg</property>
  <property value="42.0">systems/hook/tailhook-pos-max-deg</property>
  <property value="376.0">systems/hook/tailhook-offset-x-in</property>
  <property value="0.0">systems/hook/tailhook-offset-y-in</property>
  <property value="-28.0">systems/hook/tailhook-offset-z-in</property>
  <property value="-8.0">systems/hook/tailhook-pos-deg</property>
  

  <channel name="Hook">

     <kinematic name="systems/hook/tailhook-control">
       <input>systems/hook/tailhook-cmd-norm</input>
       <traverse>
        <setting>
          <position>0</position>
          <time>0</time>
        </setting>
        <setting>
          <position>1</position>
          <time>1.5</time>
        </setting>
       </traverse>
       <output>systems/hook/tailhook-pos-norm</output>
     </kinematic>

     <switch name="systems/hook/ready">
          <default value="0"/>
          <test  logic="AND" value="1">
                systems/hook/tailhook-pos-norm gt 0.99
          </test>
     </switch>

     <scheduled_gain name="systems/hook/hook-decel-multiplier">
      <input>systems/hook/ready</input>
      <table>
        <independentVar lookup="row">gear/unit[1]/wheel-speed-fps</independentVar>
         <tableData>
            0     0.00
            1     0.00
            80    2.20
         </tableData>
      </table>
     </scheduled_gain>

     <pure_gain name="systems/hook/hook-decel-force">
        <input>systems/hook/hook-decel-multiplier</input>
        <gain>inertia/weight-lbs</gain>
     </pure_gain>

     <summer name="systems/hook/force">
        <input>systems/hook/hook-decel-force</input>
        <input>forces/fbx-prop-lbs</input>
     </summer>

     <fcs_function name="systems/hook/animation-norm">
       <function>
         <product>
           <sum>
            <property>systems/hook/tailhook-pos-deg</property>
            <value>8</value>
           </sum>
           <value>0.02</value>
         </product>
       </function>
       <output>gear/tailhook-pos-norm</output>
     </fcs_function>

  </channel>

</system>
<?xml version="1.0"?>
<?xml-stylesheet type="text/xsl" href="http://jsbsim.sourceforge.net/JSBSim.xsl"?>
<fdm_config name="F-104C" version="2.0" release="ALPHA"
   xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
   xsi:noNamespaceSchemaLocation="http://jsbsim.sourceforge.net/JSBSim.xsd">

 <fileheader>
  <author> Aeromatic v 0.91 </author>
  <filecreationdate>2009-08-14</filecreationdate>
  <version>$Revision: 1.25 $</version>
  <description>Models an F-104C</description>
      <note>
        This model was created using publicly available data, publicly available
        technical reports, textbooks, and guesses. It contains no proprietary or
        restricted data. If this model has been validated at all, it would be
        only to the extent that it seems to "fly right", and that it possibly
        complies with published, publicly known, performance data (maximum speed,
        endurance, etc.). Thus, this model is meant for educational and entertainment
        purposes only.

        This simulation model is not endorsed by the manufacturer. This model is not
        to be sold.
      </note>
 </fileheader>

<!--
  File:     F-104C-jsbsim.xml
  Inputs:
    name:          F-104C
    type:          single-engine transonic/supersonic fighter
    max weight:    27855 lb
    wing span:     21.94 ft
    length:        54.77 ft
    wing area:     196.1 sq-ft
    gear type:     tricycle
    retractable?:  yes
    # engines:     1
    engine type:   turbine
    engine layout: aft fuselage
    yaw damper?    yes
  Outputs:
    wing loading:  105 lb/sq-ft
    CL-alpha:      3.5 per radian
    CL-0:          0.08
    CL-max:        1
    CD-0:          0.021
    K:             0.12

-->

<!--
  Note:
  All tables that contain data due to Mach 0.257 and 1.8 are taken from Roskam
-->

 <metrics>
   <wingarea  unit="FT2">196.10</wingarea>
   <wingspan  unit="FT" >21.94</wingspan>
   <wing_incidence>0</wing_incidence>
   <chord     unit="FT" >9.55</chord>
   <htailarea unit="FT2">48.20</htailarea>
   <htailarm  unit="FT" > 46.86</htailarm>
   <vtailarea unit="FT2">43.70</vtailarea>
   <vtailarm  unit="FT" >23.23</vtailarm>
   <location name="AERORP" unit="IN">
     <x>319.5</x>
     <y>0.0</y>
     <z>-35.08</z>
   </location>
   <location name="EYEPOINT" unit="IN">
     <x>143</x>
     <y>0.0</y>
     <z>-4.25</z>
   </location>
   <location name="VRP" unit="IN">
     <x>319.5</x>
     <y>0.0</y>
     <z>-35.08</z>
   </location>
 </metrics>

 <mass_balance>
   <ixx unit="SLUG*FT2">3663</ixx>
   <iyy unit="SLUG*FT2">59000</iyy>		<!-- orig: 38362, Rk: 59000 -->
   <izz unit="SLUG*FT2">60000</izz>		<!-- orig: 24572, Rk: 60000 -->
   <ixy unit="SLUG*FT2">0</ixy>
   <ixz unit="SLUG*FT2">0</ixz>
   <iyz unit="SLUG*FT2">0</iyz>
   <emptywt unit="LBS" >12760</emptywt>
   <location name="CG" unit="IN">
     <x>319.5</x>
     <y>0.0</y>
     <z>-35.08</z>
   </location>

   <pointmass name="left-tip-tank"><!--empty-->
      <weight unit="LBS">125</weight>
      <location name="POINTMASS" unit="IN">
          <x>389</x>
          <y>-148</y>
          <z>-52</z>
      </location>
   </pointmass>

   <pointmass name="right-tip-tank"><!--empty-->
      <weight unit="LBS">125</weight>
      <location name="POINTMASS" unit="IN">
          <x>389</x>
          <y>148</y>
          <z>-52</z>
      </location>
   </pointmass>

 </mass_balance>

 <ground_reactions>

  <contact type="BOGEY" name="NOSE">
   <location unit="IN">
     <x>213</x>
     <y>0.0</y>
     <z>-132</z>
   </location>
   <static_friction>  0.80 </static_friction>
   <dynamic_friction> 0.50 </dynamic_friction>
   <rolling_friction> 0.02 </rolling_friction>
   <spring_coeff unit="LBS/FT">       6723.00 </spring_coeff>
   <damping_coeff unit="LBS/FT/SEC">  2241.00 </damping_coeff>
   <max_steer unit="DEG">60.00</max_steer>
   <brake_group>NONE</brake_group>
   <retractable>1</retractable>
 </contact>

  <contact type="BOGEY" name="LEFT_MAIN">
   <location unit="IN">
     <x>393.6</x>
     <y>-63.20</y>
     <z>-121</z>
   </location>
   <static_friction>  0.80 </static_friction>
   <dynamic_friction> 0.50 </dynamic_friction>
   <rolling_friction> 0.02 </rolling_friction>
   <spring_coeff unit="LBS/FT">      22410.00 </spring_coeff>
   <damping_coeff unit="LBS/FT/SEC">  4482.00 </damping_coeff>
   <max_steer unit="DEG">0</max_steer>
   <brake_group>LEFT</brake_group>
   <retractable>1</retractable>
 </contact>

  <contact type="BOGEY" name="RIGHT_MAIN">
   <location unit="IN">
     <x>393.6</x>
     <y>63.20</y>
     <z>-121</z>
   </location>
   <static_friction>  0.80 </static_friction>
   <dynamic_friction> 0.50 </dynamic_friction>
   <rolling_friction> 0.02 </rolling_friction>
   <spring_coeff unit="LBS/FT">      22410.00 </spring_coeff>
   <damping_coeff unit="LBS/FT/SEC">  4482.00 </damping_coeff>
   <max_steer unit="DEG">0</max_steer>
   <brake_group>RIGHT</brake_group>
   <retractable>1</retractable>
 </contact>

  <contact type="STRUCTURE" name="NOSE">
    <location unit="IN">
     <x>0</x>
     <y>0</y>
     <z>-43</z>
    </location>
    <static_friction>0.80</static_friction>
    <dynamic_friction> 0.50 </dynamic_friction>
    <spring_coeff unit="LBS/FT">      22410.00 </spring_coeff>
    <damping_coeff unit="LBS/FT/SEC">  4482.00 </damping_coeff>
 </contact>

  <contact type="STRUCTURE" name="TAIL">
    <location unit="IN">
     <x>656</x>
     <y>0</y>
     <z>-2.5</z>
    </location>
    <static_friction>  0.80 </static_friction>
    <dynamic_friction> 0.50 </dynamic_friction>
    <spring_coeff unit="LBS/FT">      22410.00 </spring_coeff>
    <damping_coeff unit="LBS/FT/SEC">  4482.00 </damping_coeff>
 </contact>

  <contact type="STRUCTURE" name="LEFT_WING">
    <location unit="IN">
     <x>422.4</x>
     <y>-166.5</y>
     <z>-54.6</z>
    </location>
    <static_friction>  0.80 </static_friction>
    <dynamic_friction> 0.50 </dynamic_friction>
    <spring_coeff unit="LBS/FT">      22410.00 </spring_coeff>
    <damping_coeff unit="LBS/FT/SEC">  4482.00 </damping_coeff>
 </contact>

  <contact type="STRUCTURE" name="RIGHT_WING">
    <location unit="IN">
     <x>422.4</x>
     <y>166.5</y>
     <z>-54.6</z>
    </location>
    <static_friction>  0.80 </static_friction>
    <dynamic_friction> 0.50 </dynamic_friction>
    <spring_coeff unit="LBS/FT">      22410.00 </spring_coeff>
    <damping_coeff unit="LBS/FT/SEC">  4482.00 </damping_coeff>
 </contact>

 </ground_reactions>

 <propulsion>

   <engine file="J79-GE-11A">
    <feed>0</feed>
    <feed>1</feed>
    <feed>2</feed>
    <thruster file="direct">
     <location unit="IN">
       <x>622.05</x>
       <y>0.00</y>
       <z>-23.29</z>
     </location>
     <orient unit="DEG">
       <pitch>0.0</pitch>
       <roll>0.0</roll>
       <yaw>0.0</yaw>
     </orient>
    </thruster>
  </engine>

<!--internal-->

  <tank type="FUEL" number="0">
     <location unit="IN">
     <x>319.5</x>
     <y>0.0</y>
     <z>-35.08</z>
     </location>
     <capacity unit="LBS">6050.00</capacity>
     <contents unit="LBS">5000.00</contents>
  </tank>

<!--left tip tank-->

  <tank type="FUEL" number="1">
     <location unit="IN">
     <x>389</x>
     <y>-148</y>
     <z>-52</z>
     </location>
     <capacity unit="LBS">1400.00</capacity>
     <contents unit="LBS">1000.00</contents>
  </tank>

<!--right tip tank-->

  <tank type="FUEL" number="2">
     <location unit="IN">
     <x>389</x>
     <y>148</y>
     <z>-52</z>
     </location>
     <capacity unit="LBS">1400.00</capacity>
     <contents unit="LBS">1000.00</contents>
  </tank>

 </propulsion>

 <system file="armament"/>
 <system file="beacon"/>
 <system file="BLC"/>
 <system file="canopy"/>
 <system file="chute"/>
 <system file="crash-detect"/>
 <system file="FCS-pitch"/>
 <system file="FCS-roll"/>
 <system file="FCS-yaw"/>
 <system file="flaps"/>
 <system file="gear"/>
 <system file="NWS"/>
 <system file="radar"/>
 <system file="speedbrakes"/>
 <system file="tailhook"/>

 <flight_control name="FCS"></flight_control>

 <aerodynamics>

 <function name="aero/function/kCLge">
   <description>Change_in_lift_due_to_ground_effect</description>
   <table>
     <independentVar>aero/h_b-mac-ft</independentVar>
     <tableData>
       0.0000    1.2290
       0.1000    1.1240
       0.1500    1.1160
       0.2000    1.1240
       0.3000    1.1050
       0.4000    1.0410
       0.5000    1.0340
       0.6000    1.0190
       0.7000    1.0080
       0.8000    1.0030
       0.9000    1.0010
       1.0000    1.0000
       1.1000    1.0000
     </tableData>
   </table>
 </function>

  <axis name="LIFT">

     <function name="aero/coefficient/CLo">
        <description>Lift_at_zero_alpha</description>
        <product>
          <property>aero/qbar-psf</property>
          <property>metrics/Sw-sqft</property>
          <property>aero/function/kCLge</property>
            <table>
              <independentVar>velocities/mach</independentVar>
              <tableData>
                0.4000  0.0100
                0.6000  0.0100
                0.8000  0.0100
                0.9000  0.0100
                1.0000  -0.0100
                1.2000  -0.0200
                1.4000  0.0400
                1.6000  0.0320
                1.8000  0.0200
                2.0000  0.0100
              </tableData>
            </table>
        </product>
      </function>

      <function name="aero/coefficient/CLalpha">
        <description>Lift_due_to_alpha</description>
        <product>
          <property>aero/qbar-psf</property>
          <property>metrics/Sw-sqft</property>
          <property>aero/alpha-rad</property>
          <property>velocities/mach</property>
          <property>aero/function/kCLge</property>
            <table>
              <independentVar>velocities/mach</independentVar>
              <tableData>
                0.4000  7.1154
                0.6000  4.8432
                0.8000  4.2637
                0.9000  4.3529
                1.0000  4.2055
                1.2000  3.1401
                1.4000  2.2916
                1.6000  1.7603
                1.8000  1.3831
                2.0000  1.1042
              </tableData>
            </table>
        </product>
      </function>

      <function name="aero/coefficient/CLDf">
        <description>Delta_lift_due_to_flap_deflection</description>
        <product>
          <property>aero/qbar-psf</property>
          <property>metrics/Sw-sqft</property>
          <property>aero/function/kCLge</property>
            <table>
              <independentVar lookup="row">velocities/mach</independentVar>
              <independentVar lookup="column">fcs/flap-pos-deg</independentVar>
              <tableData>
                        0.0000  7.0000  13.0000
                0.6500  0.0000  0.0890  0.4000
                0.7000  0.0000  0.0890  0.3810
                0.7500  0.0000  0.0990  0.3410
                0.8000  0.0000  0.1080  0.3520
                0.8500  0.0000  0.1280  0.3460
                0.9000  0.0000  0.1380  0.1390
                0.9500  0.0000  0.1280  0.2900
              </tableData>
            </table>
        </product>
      </function>

      <function name="aero/coefficient/CLDh">
        <description>Lift_due_to_Horizontal_tail_Deflection</description>
        <product>
          <property>aero/qbar-psf</property>
          <property>metrics/Sw-sqft</property>
          <property>fcs/elevator-pos-rad</property>
            <table>
              <independentVar>velocities/mach</independentVar>
              <tableData>
                0.2570  0.6800
                1.8000  0.5200
              </tableData>
            </table>
        </product>
      </function>

      <function name="aero/coefficient/CLq">
        <description>Lift_due_to_pitch_rate</description>
        <product>
          <property>aero/qbar-psf</property>
          <property>metrics/Sw-sqft</property>
          <property>velocities/q-aero-rad_sec</property>
          <property>aero/ci2vel</property>
            <table>
              <independentVar>velocities/mach</independentVar>
              <tableData>
                0.2570  2.3000
                1.8000  1.9000
              </tableData>
            </table>
        </product>
      </function>

      <function name="aero/coefficient/CLadot">
        <description>Lift_due_to_alpha_rate</description>
        <product>
          <property>aero/qbar-psf</property>
          <property>metrics/Sw-sqft</property>
          <property>aero/alphadot-rad_sec</property>
          <property>aero/ci2vel</property>
            <table>
              <independentVar>velocities/mach</independentVar>
              <tableData>
                0.2570  0.6600
                1.8000  0.8200
              </tableData>
            </table>
        </product>
      </function>

    <function name="aero/coefficient/dCLslat">
       <description>Delta_Lift_due_to_slats</description>
       <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
		<table>
			<independentVar lookup="row">fcs/flap-pos-norm</independentVar>
			<tableData>
				0.00  0.025
				0.30  0.125
				1.00  0.25
			</tableData>
		</table>
       </product>
    </function>

    <function name="aero/coefficient/CLBLC">
       <description>Delta_Lift_due_to_BLC</description>
       <product>
           <property>systems/BLC/active</property>
           <value> 0.2 </value>
       </product>
    </function>

    <function name="aero/coefficient/dCLsb">
       <description>Delta_Lift_due_to_speedbrake</description>
       <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <property>fcs/speedbrake-pos-norm</property>
           <value>0</value>
       </product>
    </function>

  </axis>

  <axis name="DRAG">

      <function name="aero/coefficient/CDo">
        <description>Drag_at_zero_lift</description>
        <product>
          <property>aero/qbar-psf</property>
          <property>metrics/Sw-sqft</property>
            <table>
              <independentVar>velocities/mach</independentVar>
              <tableData>
                0.0000  0.0160
                0.8000  0.0160
                0.8500  0.0163
                0.8800  0.0170
                0.9000  0.0170
                0.9250  0.0190
                0.9500  0.0230
                0.9750  0.0310
                1.0000  0.0380
                1.0500  0.0470
                1.1000  0.0500
                1.1500  0.0500
                1.2000  0.0490
                1.4000  0.0468
                1.6000  0.0440
                1.8000  0.0430
                2.0000  0.0422
              </tableData>
            </table>
        </product>
      </function>

      <function name="aero/coefficient/CDalpha">
        <description>Drag_due_to_alpha</description>
        <product>
          <property>aero/qbar-psf</property>
          <property>metrics/Sw-sqft</property>
            <table>
              <independentVar lookup="row">aero/alpha-rad</independentVar>
              <independentVar lookup="column">velocities/mach</independentVar>
              <tableData>
                        0.0000  0.8000  0.9000  1.0000  1.2000  1.4000  1.6000  1.8000  2.0000
                -0.0700 0.0034  0.0049  0.0059  0.0093  0.0109  0.0040  0.0035  0.0042  0.0041
                -0.0350 0.0010  0.0013  0.0015  0.0026  0.0032  0.0010  0.0011  0.0017  0.0018
                0.0000  0.0002  0.0002  0.0001  0.0002  0.0006  0.0011  0.0010  0.0008  0.0004
                0.0350  0.0024  0.0022  0.0031  0.0036  0.0046  0.0072  0.0059  0.0052  0.0037
                0.0700  0.0093  0.0118  0.0165  0.0195  0.0187  0.0243  0.0198  0.0161  0.0133
                0.1050  0.0240  0.0332  0.0465  0.0472  0.0425  0.0506  0.0430  0.0345  0.0176
                0.1400  0.0465  0.0589  0.0822  0.0860  0.0788  0.0837  0.0722  0.0593  0.0479
                0.1750  0.0703  0.0851  0.1361  0.1674  0.1298  0.1257  0.1052  0.0894  0.0741
                0.2090  0.1074  0.1205  0.1988  0.3273  0.2195  0.1945  0.1487  0.1220  0.1013
                0.2440  0.1679  0.1684  0.2999  0.6122  0.3791  0.3195  0.1529  0.1650  0.1331
              </tableData>
            </table>
        </product>
      </function>

      <function name="aero/coefficient/CDbeta">
       <description>Drag_due_to_sideslip</description>
       <product>
          <property>aero/qbar-psf</property>
          <property>metrics/Sw-sqft</property>
          <table>
            <independentVar lookup="row">aero/beta-rad</independentVar>
            <tableData>
              -1.57    1.230
              -0.26    0.050
               0.00    0.000
               0.26    0.050
               1.57    1.230
            </tableData>
          </table>
       </product>
    </function>

    <function name="aero/coefficient/CDdh">
       <description>Drag_due_to_Elevator_Deflection</description>
       <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <abs><property>fcs/elevator-pos-norm</property></abs>
           <value>0.04</value>
       </product>
    </function>

    <function name="aero/coefficient/CDgear">
        <description>Drag_due_to_landing_gear</description>
        <product>
          <property>aero/qbar-psf</property>
          <property>metrics/Sw-sqft</property>
            <table>
              <independentVar>gear/gear-pos-norm</independentVar>
              <tableData>
                0.0000  0.0000
                0.3000  0.1000
                1.0000  0.0600
              </tableData>
            </table>
        </product>
      </function>

<function name="aero/coefficient/CDflap">
	<description>Drag_due_to_flaps</description>
	<product>
		<property>aero/qbar-psf</property>
		<property>metrics/Sw-sqft</property>
		<property>fcs/flap-pos-norm</property>
		<value>0.002679</value>
	</product>
</function>

<function name="aero/coefficient/CDslat">
	<description>Drag_due_to_slats</description>
	<product>
		<property>aero/qbar-psf</property>
		<property>metrics/Sw-sqft</property>
		<table>
			<independentVar lookup="row">fcs/flap-pos-norm</independentVar>
			<tableData>
				0.00  0.003
				0.30  0.015
				1.00  0.03
			</tableData>
		</table>
	</product>
</function>

    <function name="aero/coefficient/CDbc">
       <description>Drag_due_to_braking_chute</description>
         <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <property>systems/chute/unfurl-norm</property>
           <value>.75</value>
         </product>
    </function>

    <function name="aero/coefficient/CDsb">
       <description>Drag_due_to_speedbrakes</description>
         <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <property>fcs/speedbrake-pos-norm</property>
           <value>0.04</value>
         </product>
    </function>

  </axis>

  <axis name="SIDE">
      <function name="aero/coefficient/CYb">
        <description>Side_force_due_to_beta</description>
        <product>
          <property>aero/qbar-psf</property>
          <property>metrics/Sw-sqft</property>
          <property>aero/beta-rad</property>
            <table>
              <independentVar>velocities/mach</independentVar>
              <tableData>
                0.2570  -1.1800
                1.8000  -1.0450
              </tableData>
            </table>
        </product>
      </function>

      <function name="aero/coefficient/CYDr">
        <description>Side_force_due_to_rudder</description>
        <product>
          <property>aero/qbar-psf</property>
          <property>metrics/Sw-sqft</property>
          <property>fcs/rudder-pos-rad</property>
            <table>
              <independentVar>velocities/mach</independentVar>
              <tableData>
                0.2570  0.3290
                1.8000  0.0870
              </tableData>
            </table>
        </product>
      </function>
  </axis>

  <axis name="ROLL">

      <function name="aero/coefficient/Clb">
        <description>Roll_moment_due_to_beta</description>
        <product>
          <property>aero/qbar-psf</property>
          <property>metrics/Sw-sqft</property>
          <property>metrics/bw-ft</property>
          <property>aero/beta-rad</property>
            <table>
              <independentVar>velocities/mach</independentVar>
              <tableData>
                0.2570  -0.1750
                1.8000  -0.0930
              </tableData>
            </table>
        </product>
      </function>

      <function name="aero/coefficient/Clp">
        <description>Roll_moment_due_to_roll_rate_(roll_damping)</description>
        <product>
          <property>aero/qbar-psf</property>
          <property>metrics/Sw-sqft</property>
          <property>metrics/bw-ft</property>
          <property>aero/bi2vel</property>
          <property>velocities/p-rad_sec</property>
            <table>
              <independentVar>velocities/mach</independentVar>
              <tableData>
                0.2570  -0.2850
                1.8000  -0.2720
              </tableData>
            </table>
        </product>
      </function>

      <function name="aero/coefficient/Clr">
        <description>Roll_moment_due_to_yaw_rate</description>
        <product>
          <property>aero/qbar-psf</property>
          <property>metrics/Sw-sqft</property>
          <property>metrics/bw-ft</property>
          <property>aero/bi2vel</property>
          <property>velocities/r-rad_sec</property>
            <table>
              <independentVar>velocities/mach</independentVar>
              <tableData>
                0.2570  0.2650
                1.8000  0.1540
              </tableData>
            </table>
        </product>
      </function>

      <function name="aero/coefficient/ClDa">
        <description>Roll_moment_due_to_aileron</description>
        <product>
          <property>aero/qbar-psf</property>
          <property>metrics/Sw-sqft</property>
          <property>metrics/bw-ft</property>
          <property>fcs/left-aileron-pos-rad</property>
            <table>
              <independentVar>velocities/mach</independentVar>
              <tableData>
                0.2570  0.0392
                1.8000  0.0173
              </tableData>
            </table>
        </product>
      </function>

      <function name="aero/coefficient/ClDr">
        <description>Roll_moment_due_to_rudder</description>
        <product>
          <property>aero/qbar-psf</property>
          <property>metrics/Sw-sqft</property>
          <property>metrics/bw-ft</property>
          <property>fcs/rudder-pos-rad</property>
            <table>
              <independentVar>velocities/mach</independentVar>
              <tableData>
                0.2570  0.0448
                1.8000  0.0079
              </tableData>
            </table>
        </product>
      </function>

  </axis>

  <axis name="PITCH">

      <function name="aero/coefficient/Cmalpha">
        <description>Pitch_moment_due_to_alpha</description>
        <product>
          <property>aero/qbar-psf</property>
          <property>metrics/Sw-sqft</property>
          <property>metrics/cbarw-ft</property>
          <property>aero/alpha-rad</property>
            <table>
              <independentVar>velocities/mach</independentVar>
              <tableData>
                0.2570  -0.6440
                1.8000  -1.3080
              </tableData>
            </table>
        </product>
      </function>

      <function name="aero/coefficient/Cmo">
        <description>Pitching_moment_at_zero_alpha</description>
        <product>
          <property>aero/qbar-psf</property>
          <property>metrics/Sw-sqft</property>
          <property>metrics/cbarw-ft</property>
            <table>
              <independentVar>velocities/mach</independentVar>
              <tableData>
                0.2570   0.0300
                1.8000  -0.0280
              </tableData>
            </table>
        </product>
      </function>

    <function name="aero/coefficient/Cmde">
       <description>Pitch_moment_due_to_elevator</description>
       <product>
          <property>aero/qbar-psf</property>
          <property>metrics/Sw-sqft</property>
          <property>metrics/cbarw-ft</property>
          <property>fcs/elevator-pos-rad</property>
          <table>
            <independentVar lookup="row">velocities/mach</independentVar>
            <tableData>
              0.0     -0.800
              2.0     -0.200
            </tableData>
          </table>
       </product>
    </function>

      <function name="aero/coefficient/Cmq">
        <description>Pitch_moment_due_to_pitch_rate</description>
        <product>
          <property>aero/qbar-psf</property>
          <property>metrics/Sw-sqft</property>
          <property>metrics/cbarw-ft</property>
          <property>aero/ci2vel</property>
          <property>velocities/q-rad_sec</property>
            <table>
              <independentVar>velocities/mach</independentVar>
              <tableData>
                0.2570  -5.84
                1.8000  -4.83
              </tableData>
            </table>
        </product>
      </function>

      <function name="aero/coefficient/Cmadot">
        <description>Pitch_moment_due_to_alpha_rate</description>
        <product>
          <property>aero/qbar-psf</property>
          <property>metrics/Sw-sqft</property>
          <property>metrics/cbarw-ft</property>
          <property>aero/ci2vel</property>
          <property>aero/alphadot-rad_sec</property>
            <table>
              <independentVar>velocities/mach</independentVar>
              <tableData>
                0.2570  -1.6400
                1.8000  -2.0500
              </tableData>
            </table>
        </product>
      </function>

  </axis>

  <axis name="YAW">

    <function name="aero/coefficient/Cnb">
        <description>Yaw_moment_due_to_beta</description>
        <product>
          <property>aero/qbar-psf</property>
          <property>metrics/Sw-sqft</property>
          <property>metrics/bw-ft</property>
          <property>aero/beta-rad</property>
            <table>
              <independentVar>velocities/mach</independentVar>
              <tableData>
                0.2570  0.5070
                1.8000  0.2420
              </tableData>
            </table>
        </product>
      </function>

      <function name="aero/coefficient/Cnp">
        <description>Yaw_moment_due_to_roll_rate</description>
        <product>
          <property>aero/qbar-psf</property>
          <property>metrics/Sw-sqft</property>
          <property>metrics/bw-ft</property>
          <property>aero/bi2vel</property>
          <property>velocities/p-rad_sec</property>
            <table>
              <independentVar>velocities/mach</independentVar>
              <tableData>
                0.2570  -0.1440
                1.8000  -0.0930
              </tableData>
            </table>
        </product>
      </function>

      <function name="aero/coefficient/Cnr">
        <description>Yaw_moment_due_to_yaw_rate</description>
        <product>
          <property>aero/qbar-psf</property>
          <property>metrics/Sw-sqft</property>
          <property>metrics/bw-ft</property>
          <property>aero/bi2vel</property>
          <property>velocities/r-rad_sec</property>
            <table>
              <independentVar>velocities/mach</independentVar>
              <tableData>
                0.2570  -0.7530
                1.8000  -0.6490
              </tableData>
            </table>
        </product>
      </function>

      <function name="aero/coefficient/CnDr">
        <description>Yaw_moment_due_to_rudder</description>
        <product>
          <property>aero/qbar-psf</property>
          <property>metrics/Sw-sqft</property>
          <property>metrics/bw-ft</property>
          <property>fcs/rudder-pos-rad</property>
            <table>
              <independentVar>velocities/mach</independentVar>
              <tableData>
                0.2570  -0.1645
                1.8000  -0.0435
              </tableData>
            </table>
        </product>
      </function>

      <function name="aero/coefficient/CnDa">
        <description>Yaw_moment_due_to_aileron</description>
        <product>
          <property>aero/qbar-psf</property>
          <property>metrics/Sw-sqft</property>
          <property>metrics/bw-ft</property>
          <property>fcs/left-aileron-pos-rad</property>
            <table>
              <independentVar>velocities/mach</independentVar>
              <tableData>
                0.2570  0.0042
                1.8000  0.0025
              </tableData>
            </table>
        </product>
      </function>
  </axis>

 </aerodynamics>

</fdm_config>
// This file instructs the automatic synchronization utilities where to
// install this aircraft and under what name.
//
// The syntax is easy;
// * the package name at the beginning of a new line followed by a colon
// * a space as a column separator
// * the path and filename relative to the aircraft install directory
//
// Currently known package names are: FlightGear

FlightGear: f15c/f15.xml
<?xml version="1.0"?>
<?xml-stylesheet type="text/xsl" href="http://jsbsim.sourceforge.net/JSBSim.xsl"?>
<fdm_config name="f15" version="2.0" release="BETA"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:noNamespaceSchemaLocation="http://jsbsim.sourceforge.net/JSBSim.xsd">

    <fileheader>
        <author> Erik Hofman </author>
        <filecreationdate> 2005-01-01 </filecreationdate>
        <version> $Revision: 1.31 $ </version>
        <description> McDonnell Douglas F-15 Eagle </description>
      <note>
        This model was created using publicly available data, publicly available
        technical reports, textbooks, and guesses. It contains no proprietary or
        restricted data. If this model has been validated at all, it would be
        only to the extent that it seems to "fly right", and that it possibly
        complies with published, publicly known, performance data (maximum speed,
        endurance, etc.). Thus, this model is meant for educational and entertainment
        purposes only.

        This simulation model is not endorsed by the manufacturer. This model is not
        to be sold.
      </note>
    </fileheader>

    <metrics>
        <wingarea unit="FT2"> 608 </wingarea>
        <wingspan unit="FT"> 42.83 </wingspan>
        <chord unit="FT"> 15.95 </chord>
        <htailarea unit="FT2"> 45.01 </htailarea>
        <htailarm unit="FT"> 20 </htailarm>
        <vtailarea unit="FT2"> 46.96 </vtailarea>
        <vtailarm unit="FT"> 0 </vtailarm>
        <location name="AERORP" unit="IN">
            <x> -234.15 </x>
            <y> 0 </y>
            <z> 0 </z>
        </location>
        <location name="EYEPOINT" unit="IN">
            <x> -398.45 </x>
            <y> 0 </y>
            <z> 37 </z>
        </location>
        <location name="VRP" unit="IN">
            <x> -237.25 </x>
            <y> 0 </y>
            <z> 4.58 </z>
        </location>
    </metrics>

    <mass_balance negated_crossproduct_inertia="true">
        <ixx unit="SLUG*FT2"> 28700 </ixx>
        <iyy unit="SLUG*FT2"> 165100 </iyy>
        <izz unit="SLUG*FT2"> 187900 </izz>
        <ixz unit="SLUG*FT2"> 520 </ixz>
        <emptywt unit="LBS"> 28000 </emptywt>
        <location name="CG" unit="IN">
            <x> -236.39 </x>
            <y> 0 </y>
            <z> 4.5 </z>
        </location>
        <pointmass name="Pilot">
            <weight unit="LBS"> 230 </weight>
            <location name="POINTMASS" unit="IN">
                <x> -398.45 </x>
                <y> 0 </y>
                <z> 20 </z>
            </location>
        </pointmass>
    </mass_balance>

    <ground_reactions>
        <contact type="BOGEY" name="NOSE">
            <location unit="IN">
                <x> -393.2 </x>
                <y> 0 </y>
                <z> -89.2 </z>
            </location>
            <static_friction> 0.8 </static_friction>
            <dynamic_friction> 0.5 </dynamic_friction>
            <rolling_friction> 0.02 </rolling_friction>
            <spring_coeff unit="LBS/FT"> 12200 </spring_coeff>
            <damping_coeff unit="LBS/FT/SEC"> 5000 </damping_coeff>
            <max_steer unit="DEG"> 5 </max_steer>
            <brake_group> NONE </brake_group>
            <retractable>1</retractable>
        </contact>
        <contact type="BOGEY" name="MLG_LEFT">
            <location unit="IN">
                <x> -187 </x>
                <y> -54 </y>
                <z> -85.4 </z>
            </location>
            <static_friction> 0.8 </static_friction>
            <dynamic_friction> 0.5 </dynamic_friction>
            <rolling_friction> 0.02 </rolling_friction>
            <spring_coeff unit="LBS/FT"> 22704 </spring_coeff>
            <damping_coeff unit="LBS/FT/SEC"> 9000 </damping_coeff>
            <max_steer unit="DEG"> 0.0 </max_steer>
            <brake_group> LEFT </brake_group>
            <retractable>1</retractable>
        </contact>
        <contact type="BOGEY" name="MLG_RIGHT">
            <location unit="IN">
                <x> -187 </x>
                <y> 54 </y>
                <z> -85.4 </z>
            </location>
            <static_friction> 0.8 </static_friction>
            <dynamic_friction> 0.5 </dynamic_friction>
            <rolling_friction> 0.02 </rolling_friction>
            <spring_coeff unit="LBS/FT"> 22704 </spring_coeff>
            <damping_coeff unit="LBS/FT/SEC"> 9000 </damping_coeff>
            <max_steer unit="DEG"> 0.0 </max_steer>
            <brake_group> RIGHT </brake_group>
            <retractable>1</retractable>
        </contact>
        <contact type="BOGEY" name="WT_LEFT">
            <location unit="IN">
                <x> -92.2 </x>
                <y> -257 </y>
                <z> 10 </z>
            </location>
            <static_friction> 0.2 </static_friction>
            <dynamic_friction> 0.2 </dynamic_friction>
            <rolling_friction> 0.2 </rolling_friction>
            <spring_coeff unit="LBS/FT"> 10000 </spring_coeff>
            <damping_coeff unit="LBS/FT/SEC"> 2000 </damping_coeff>
            <max_steer unit="DEG"> 0.0 </max_steer>
            <brake_group> NONE </brake_group>
            <retractable>0</retractable>
        </contact>
        <contact type="BOGEY" name="WT_RIGHT">
            <location unit="IN">
                <x> -92.2 </x>
                <y> 257 </y>
                <z> 10 </z>
            </location>
            <static_friction> 0.2 </static_friction>
            <dynamic_friction> 0.2 </dynamic_friction>
            <rolling_friction> 0.2 </rolling_friction>
            <spring_coeff unit="LBS/FT"> 10000 </spring_coeff>
            <damping_coeff unit="LBS/FT/SEC"> 2000 </damping_coeff>
            <max_steer unit="DEG"> 0.0 </max_steer>
            <brake_group> NONE </brake_group>
            <retractable>0</retractable>
        </contact>
        <contact type="BOGEY" name="VT_LEFT">
            <location unit="IN">
                <x> 47.4 </x>
                <y> -69.7 </y>
                <z> 133.8 </z>
            </location>
            <static_friction> 0.2 </static_friction>
            <dynamic_friction> 0.2 </dynamic_friction>
            <rolling_friction> 0.2 </rolling_friction>
            <spring_coeff unit="LBS/FT"> 10000 </spring_coeff>
            <damping_coeff unit="LBS/FT/SEC"> 2000 </damping_coeff>
            <max_steer unit="DEG"> 0.0 </max_steer>
            <brake_group> NONE </brake_group>
            <retractable>0</retractable>
        </contact>
        <contact type="BOGEY" name="VT_RIGHT">
            <location unit="IN">
                <x> 47.4 </x>
                <y> 69.7 </y>
                <z> 133.8 </z>
            </location>
            <static_friction> 0.2 </static_friction>
            <dynamic_friction> 0.2 </dynamic_friction>
            <rolling_friction> 0.2 </rolling_friction>
            <spring_coeff unit="LBS/FT"> 10000 </spring_coeff>
            <damping_coeff unit="LBS/FT/SEC"> 2000 </damping_coeff>
            <max_steer unit="DEG"> 0.0 </max_steer>
            <brake_group> NONE </brake_group>
            <retractable>0</retractable>
        </contact>
        <contact type="BOGEY" name="RADOME">
            <location unit="IN">
                <x> -648.7 </x>
                <y> 0 </y>
                <z> -17 </z>
            </location>
            <static_friction> 0.2 </static_friction>
            <dynamic_friction> 0.2 </dynamic_friction>
            <rolling_friction> 0.2 </rolling_friction>
            <spring_coeff unit="LBS/FT"> 10000 </spring_coeff>
            <damping_coeff unit="LBS/FT/SEC"> 2000 </damping_coeff>
            <max_steer unit="DEG"> 0.0 </max_steer>
            <brake_group> NONE </brake_group>
            <retractable>0</retractable>
        </contact>
        <contact type="BOGEY" name="BELLY">
            <location unit="IN">
                <x> -187 </x>
                <y> 0 </y>
                <z> -37 </z>
            </location>
            <static_friction> 0.2 </static_friction>
            <dynamic_friction> 0.2 </dynamic_friction>
            <rolling_friction> 0.2 </rolling_friction>
            <spring_coeff unit="LBS/FT"> 10000 </spring_coeff>
            <damping_coeff unit="LBS/FT/SEC"> 2000 </damping_coeff>
            <max_steer unit="DEG"> 0.0 </max_steer>
            <brake_group> NONE </brake_group>
            <retractable>0</retractable>
        </contact>
    </ground_reactions>
    <propulsion>
        <engine file="F100-PW-229">
            <feed>0</feed>
            <feed>1</feed>
            <thruster file="direct">
                <location unit="IN">
                    <x> 50 </x>
                    <y> -25.5 </y>
                    <z> 0 </z>
                </location>
                <orient unit="DEG">
                    <roll> 0.0 </roll>
                    <pitch> 0.0 </pitch>
                    <yaw> 0.0 </yaw>
                </orient>
            </thruster>
        </engine>
        <engine file="F100-PW-229">
            <feed>0</feed>
            <feed>1</feed>
            <thruster file="direct">
                <location unit="IN">
                    <x> 50 </x>
                    <y> 25.5 </y>
                    <z> 0 </z>
                </location>
                <orient unit="DEG">
                    <roll> 0.0 </roll>
                    <pitch> 0.0 </pitch>
                    <yaw> 0.0 </yaw>
                </orient>
            </thruster>
        </engine>
        <tank type="FUEL">    <!-- Tank number 0 -->
            <location unit="IN">
                <x> -236.39 </x>
                <y> 0 </y>
                <z> 4.5 </z>
            </location>
            <capacity unit="LBS"> 6561.5 </capacity>
            <contents unit="LBS"> 2500 </contents>
        </tank>
        <tank type="FUEL">    <!-- Tank number 1 -->
            <location unit="IN">
                <x> -236.39 </x>
                <y> 0 </y>
                <z> 4.5 </z>
            </location>
            <capacity unit="LBS"> 6561.5 </capacity>
            <contents unit="LBS"> 2500 </contents>
        </tank>
    </propulsion>
    <flight_control name="FCS: f15">
        <channel name="Pitch">
            <summer name="Pitch Trim Sum">
                <input>fcs/elevator-cmd-norm</input>
                <input>fcs/pitch-trim-cmd-norm</input>
                <clipto>
                    <min>-1</min>
                    <max>1</max>
                </clipto>
            </summer>

             <kinematic name="elevator position">
                <input>fcs/pitch-trim-sum</input>
                <traverse>
                    <setting>
                        <position>-1</position>
                        <time>0.6</time>
                    </setting>
                    <setting>
                        <position>1</position>
                        <time>0.6</time>
                    </setting>
                </traverse>
                <output>fcs/elevator-pos-norm</output>
            </kinematic>

            <aerosurface_scale name="elevator position">
                <input>fcs/elevator-pos-norm</input>
                <gain>0.01745</gain>
                <domain>
                    <min>-1</min>
                    <max>1</max>
                </domain>
                <range>
                    <min>-26</min>
                    <max>15</max>
                </range>
                <output>fcs/elevator-pos-rad</output>
            </aerosurface_scale>
        </channel>
        <channel name="Roll">
            <summer name="Roll Trim Sum">
                <input>fcs/aileron-cmd-norm</input>
                <input>fcs/roll-trim-cmd-norm</input>
                <clipto>
                    <min>-1</min>
                    <max>1</max>
                </clipto>
            </summer>

            <kinematic name="aileron pos norm">
                <input>fcs/roll-trim-sum</input>
                <traverse>
                    <setting>
                        <position>-1</position>
                        <time>0.3</time>
                    </setting>
                    <setting>
                        <position>1</position>
                        <time>0.3</time>
                    </setting>
                </traverse>
                <output>fcs/left-aileron-pos-norm</output>
            </kinematic>

            <aerosurface_scale name="Left Aileron Control">
                <input>fcs/aileron-pos-norm</input>
                <gain>0.01745</gain>
                <range>
                    <min>-20</min>
                    <max>20</max>
                </range>
                <output>fcs/left-aileron-pos-rad</output>
            </aerosurface_scale>

            <aerosurface_scale name="Right Aileron Control">
                <input>fcs/aileron-pos-norm</input>
                <gain>-0.01745</gain>
                <range>
                    <min>-20</min>
                    <max>20</max>
                </range>
                <output>fcs/right-aileron-pos-rad</output>
            </aerosurface_scale>
        </channel>
        <channel name="Yaw">
            <pure_gain name="Yaw Damper Gain">
                <input>velocities/r-rad_sec</input>
                <gain>-0.001745</gain>
            </pure_gain>

            <summer name="Yaw Trim Sum">
                <input>fcs/rudder-cmd-norm</input>
                <input>fcs/yaw-trim-cmd-norm</input>
                <input>fcs/yaw-damper-gain</input>
                <clipto>
                    <min>-1</min>
                    <max>1</max>
                </clipto>
            </summer>

            <kinematic name="rudder position">
                <input>fcs/yaw-trim-sum</input>
                <traverse>
                    <setting>
                        <position>-1</position>
                        <time>0.4</time>
                    </setting>
                    <setting>
                        <position>1</position>
                        <time>0.4</time>
                    </setting>
                </traverse>
                <output>fcs/rudder-pos-norm</output>
            </kinematic>

            <aerosurface_scale name="Rudder Control">
                <input>fcs/rudder-pos-norm</input>
                <gain>0.01745</gain>
                <range>
                    <min>-30</min>
                    <max>30</max>
                </range>
                <output>fcs/rudder-pos-rad</output>
            </aerosurface_scale>
        </channel>
        <channel name="Landing Gear">
            <kinematic name="Gear Control">
                <input>gear/gear-cmd-norm</input>
                <traverse>
                    <setting>
                        <position>0</position>
                        <time>0</time>
                    </setting>
                    <setting>
                        <position>1</position>
                        <time>5</time>
                    </setting>
                </traverse>
                <output>gear/gear-pos-norm</output>
            </kinematic>
        </channel>
        <channel name="Speedbrake">
            <kinematic name="Speedbrake Control">
                <input>fcs/speedbrake-cmd-norm</input>
                <traverse>
                    <setting>
                        <position>0</position>
                        <time>0</time>
                    </setting>
                    <setting>
                        <position>1</position>
                        <time>2</time>
                    </setting>
                </traverse>
                <output>fcs/speedbrake-pos-norm</output>
            </kinematic>
        </channel>
    </flight_control>
    <aerodynamics>

        <function name="aero/function/kCLge">
            <description>Change_in_lift_due_to_ground_effect</description>
            <table>
                <independentVar>aero/h_b-mac-ft</independentVar>
                <tableData>
                    0.0000	1.0610
                    0.1000	1.0330
                    0.1500	1.0310
                    0.2000	1.0330
                    0.3000	1.0280
                    0.4000	1.0110
                    0.5000	1.0090
                    0.6000	1.0050
                    0.7000	1.0020
                    0.8000	1.0000
                    0.9000	1.0000
                    1.0000	1.0000
                    1.1000	1.0000
                </tableData>
            </table>
        </function>

        <function name="aero/function/kCDge">
            <description>Change_in_drag_due_to_ground_effect</description>
            <table>
                <independentVar>aero/h_b-mac-ft</independentVar>
                <tableData>
                    0.0000	0.8100
                    0.1000	0.9900
                    0.1500	0.9500
                    0.2000	0.9800
                    0.3000	0.9900
                    0.4000	1.0000
                    0.5000	1.0400
                    0.6000	1.0100
                    0.7000	0.9900
                    0.8000	1.0100
                    0.9000	1.0000
                    1.0000	1.0000
                    1.1000	1.0000
                </tableData>
            </table>
        </function>

        <function name="aero/function/kCmge">
            <description>Change_in_pitch_due_to_ground_effect</description>
            <table>
                <independentVar>aero/h_b-mac-ft</independentVar>
                <tableData>
                    0.0000	0.9920
                    0.1000	0.9960
                    0.1500	0.9990
                    0.2000	0.9970
                    0.3000	1.0000
                    0.4000	1.0000
                    0.5000	1.0020
                    0.6000	1.0010
                    0.7000	0.9980
                    0.8000	0.9990
                    0.9000	1.0000
                    1.0000	1.0000
                    1.1000	1.0000
                </tableData>
            </table>
        </function>

        <axis name="DRAG">
            <function name="aero/coefficient/CDalpha">
                <description>Drag_due_to_alpha</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>aero/function/kCDge</property>
                      <table>
                          <independentVar lookup="row">aero/alpha-rad</independentVar>
                          <independentVar lookup="column">velocities/mach</independentVar>
                          <tableData>
                                0.5000	1.4000
                              -0.4190	0.3800	0.0970
                              -0.2790	0.2200	0.0250
                              -0.1400	0.0700	0.0180
                              -0.0700	0.0400	0.0100
                              0.0000	0.0147	0.0074
                              0.0700	0.0400	0.0100
                              0.1400	0.0700	0.0180
                              0.2790	0.2200	0.0250
                              0.4190	0.3800	0.0970
                              0.5590	0.8000	0.2030
                              0.6980	1.0100	0.2570
                          </tableData>
                      </table>
                </product>
            </function>
            <function name="aero/coefficient/CDi">
                <description>Drag_induced</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>aero/function/kCDge</property>
                      <table>
                          <independentVar>aero/alpha-rad</independentVar>
                          <tableData>
                              -0.3490	0.2270
                              -0.2620	0.0670
                              -0.1750	0.0480
                              -0.0870	0.0060
                              0.0000	0.0060
                              0.0700	0.0130
                              0.1400	0.0200
                              0.2090	0.0470
                              0.2790	0.0670
                              0.3490	0.2120
                              0.4190	0.2270
                              0.4890	0.3310
                              0.5590	0.4740
                              0.6980	0.2120
                              0.7850	0.9130
                              0.8730	0.7210
                          </tableData>
                      </table>
                </product>
            </function>
            <function name="aero/coefficient/CDbeta">
                <description>Drag_due_to_beta</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>aero/mag-beta-rad</property>
                    <property>aero/function/kCDge</property>
                      <table>
                          <independentVar>aero/alpha-rad</independentVar>
                          <tableData>
                              -0.3490	2.5954
                              -0.2620	3.2686
                              -0.1750	3.3563
                              -0.0870	3.0533
                              0.0000	3.8228
                              0.0700	4.3450
                              0.1400	4.1909
                              0.2090	3.7331
                              0.2790	3.1268
                              0.3490	2.8246
                              0.4190	2.4657
                              0.4890	2.2127
                              0.5590	1.9317
                              0.6980	1.2283
                              0.7850	0.9522
                              0.8730	0.7015
                          </tableData>
                      </table>
                </product>
            </function>
            <function name="aero/coefficient/CDDe">
                <description>Drag_due_to_Elevator_Deflection</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>fcs/mag-elevator-pos-rad</property>
                    <value>0.0438</value>
                </product>
            </function>
        </axis>

        <axis name="SIDE">
            <function name="aero/coefficient/CYb">
                <description>Side_force_due_to_beta</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>aero/beta-rad</property>
                      <table>
                          <independentVar>aero/alpha-rad</independentVar>
                          <tableData>
                              -0.3490	-0.8594
                              0.0700	-0.0974
                              0.5590	-0.0115
                              0.8730	-0.3552
                          </tableData>
                      </table>
                </product>
            </function>
            <function name="aero/coefficient/CYda">
                <description>Side_force_due_to_aileron</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>fcs/left-aileron-pos-rad</property>
                    <value>-0.0012</value>
                </product>
            </function>
            <function name="aero/coefficient/CYdr">
                <description>Side_force_due_to_rudder</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>fcs/rudder-pos-rad</property>
                    <value>0.3724</value>
                </product>
            </function>
        </axis>

        <axis name="LIFT">
            <function name="aero/coefficient/CLalpha">
                <description>Lift_due_to_alpha</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>aero/function/kCLge</property>
                      <table>
                          <independentVar lookup="row">aero/alpha-rad</independentVar>
                          <independentVar lookup="column">velocities/mach</independentVar>
                          <tableData>
                                0.5000	1.4000
                              -0.3490	-0.9300	-0.2500
                              -0.2620	-0.8600	-0.2300
                              -0.1750	-0.5800	-0.1600
                              -0.0870	-0.2600	-0.0700
                              0.0000	0.0600	0.0200
                              0.0700	0.3000	0.0800
                              0.1400	0.5800	0.1600
                              0.2090	0.7800	0.2100
                              0.2790	0.8800	0.2400
                              0.3490	1.0100	0.2700
                              0.4190	1.0800	0.2900
                              0.4890	1.1600	0.3100
                              0.5590	1.1900	0.3200
                              0.6980	1.1700	0.3100
                              0.7850	1.0900	0.2900
                              0.8730	1.0500	0.2800
                          </tableData>
                      </table>
                </product>
            </function>
            <function name="aero/coefficient/CLDe">
                <description>Lift_due_to_Elevator_Deflection</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>fcs/elevator-pos-rad</property>
                    <value>0.5730</value>
                </product>
            </function>
            <function name="aero/coefficient/CLadot">
                <description>Lift_due_to_alpha_rate</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>aero/alphadot-rad_sec</property>
                    <property>aero/ci2vel</property>
                    <value>17.2232</value>
                </product>
            </function>
            <function name="aero/coefficient/CLq">
                <description>Lift_due_to_pitch_rate</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>velocities/q-aero-rad_sec</property>
                    <property>aero/ci2vel</property>
                    <value>-17.2232</value>
                </product>
            </function>
        </axis>

        <axis name="ROLL">
            <function name="aero/coefficient/Clb">
                <description>Roll_moment_due_to_beta</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>aero/beta-rad</property>
                      <table>
                          <independentVar>aero/alpha-rad</independentVar>
                          <tableData>
                              -0.3490	0.0286
                              -0.1750	-0.2292
                              0.0000	-0.0573
                              0.2090	-0.1719
                              0.3140	-0.1146
                              0.4190	-0.1719
                              0.6980	-0.0745
                              0.7850	-0.1146
                              0.8730	-0.1203
                          </tableData>
                      </table>
                </product>
            </function>
            <function name="aero/coefficient/Clp">
                <description>Roll_moment_due_to_roll_rate_(roll_damping)</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>aero/bi2vel</property>
                    <property>velocities/p-aero-rad_sec</property>
                    <table>
                        <independentVar>aero/alpha-rad</independentVar>
                        <tableData>
                            0.0000  -0.4000
                            0.3490  -0.3100
                        </tableData>
                    </table>
                </product>
            </function>
            <function name="aero/coefficient/Clr">
                <description>Roll_moment_due_to_yaw_rate</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>aero/bi2vel</property>
                    <property>velocities/r-aero-rad_sec</property>
                    <value>0.0001</value>
                </product>
            </function>
            <function name="aero/coefficient/ClDa">
                <description>Roll_moment_due_to_aileron</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>fcs/left-aileron-pos-rad</property>
                      <table>
                          <independentVar>aero/alpha-rad</independentVar>
                          <tableData>
                              -0.3490	0.0172
                              -0.0870	0.0372
                              0.1400	0.0401
                              0.5590	0.0057
                              0.8730	0.0057
                          </tableData>
                      </table>
                </product>
            </function>
            <function name="aero/coefficient/ClDr">
                <description>Roll_moment_due_to_rudder</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>fcs/rudder-pos-rad</property>
                    <value>0.0115</value>
                </product>
            </function>
        </axis>

        <axis name="PITCH">
            <function name="aero/coefficient/Cmalpha">
                <description>Pitch_moment_due_to_alpha</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/cbarw-ft</property>
                    <property>aero/alpha-rad</property>
                    <property>aero/function/kCmge</property>
                      <table>
                          <independentVar>aero/alpha-rad</independentVar>
                          <tableData>
                              -0.3490	-1.1459
                              -0.2620	-0.5730
                              -0.1310	-0.0573
                              0.0000	-0.2292
                              0.2790	-0.5157
                              0.4190	-0.8594
                              0.5590	-0.4584
                              0.8730	-0.5157
                          </tableData>
                      </table>
                </product>
            </function>
            <function name="aero/coefficient/Cmadot">
                <description>Pitch_moment_due_to_alpha_rate</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/cbarw-ft</property>
                    <property>aero/ci2vel</property>
                    <property>aero/alphadot-rad_sec</property>
                    <value>-11.8870</value>
                </product>
            </function>
            <function name="aero/coefficient/CmM">
                <description>Pitch_moment_due_to_Mach</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/cbarw-ft</property>
                    <property>velocities/mach</property>
                    <value>-0.0000</value>
                </product>
            </function>
            <function name="aero/coefficient/Cmq">
                <description>Pitch_moment_due_to_pitch_rate</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/cbarw-ft</property>
                    <property>aero/ci2vel</property>
                    <property>velocities/q-aero-rad_sec</property>
                    <value>-4.7000</value>
                </product>
            </function>
            <function name="aero/coefficient/Cmde">
                <description>Pitch_moment_due_to_elevator_deflection</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/cbarw-ft</property>
                    <property>fcs/elevator-pos-rad</property>
                    <value>-0.4580</value>
                </product>
            </function>
        </axis>

        <axis name="YAW">
            <function name="aero/coefficient/Cnb">
                <description>Yaw_moment_due_to_beta</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>aero/beta-rad</property>
                      <table>
                          <independentVar>aero/alpha-rad</independentVar>
                          <tableData>
                              -0.3490	0.0745
                              0.0000	0.1776
                              0.3490	0.0057
                              0.5240	-0.0974
                              0.8730	-0.0286
                          </tableData>
                      </table>
                </product>
            </function>
            <function name="aero/coefficient/Cnp">
                <description>Yaw_moment_due_to_roll_rate</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>aero/bi2vel</property>
                    <property>velocities/p-aero-rad_sec</property>
                      <table>
                          <independentVar>aero/alpha-rad</independentVar>
                          <tableData>
                              -0.3490	0.1100
                              -0.0870	-0.1400
                              0.0000	-0.1000
                              0.2790	0.0100
                              0.4190	-0.1300
                              0.8730	-0.1800
                          </tableData>
                      </table>
                </product>
            </function>
            <function name="aero/coefficient/Cnr">
                <description>Yaw_moment_due_to_yaw_rate</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>aero/bi2vel</property>
                    <property>velocities/r-aero-rad_sec</property>
                    <value>-0.4447</value>
                </product>
            </function>
            <function name="aero/coefficient/Cnda">
                <description>Yaw_moment_due_to_aileron</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>fcs/left-aileron-pos-rad</property>
                    <value>0.0022</value>
                </product>
            </function>
            <function name="aero/coefficient/Cndr">
                <description>Yaw_moment_due_to_rudder</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>fcs/rudder-pos-rad</property>
                      <table>
                          <independentVar>aero/alpha-rad</independentVar>
                          <tableData>
                              -0.3490	-0.0688
                              0.8730	-0.0115
                          </tableData>
                      </table>
                </product>
            </function>
        </axis>
    </aerodynamics>
</fdm_config>
// This file instructs the automatic synchronization utilities where to
// install this aircraft and under what name.
//
// The syntax is easy;
// * the package name at the beginning of a new line followed by a colon
// * a space as a column separator
// * the path and filename relative to the aircraft install directory
//
// Currently known package names are: FlightGear

FlightGear:
Source:

* Richard Murray's F16 Model page, NASA TP-1538 wind tunnel data. (Dec. 1979)
  http://www.cds.caltech.edu/~murray/projects/afosr95-vehicles/models/f16/
* "Observers Aircraft" by William Green, 1987 Edition (ISBN 0-7232-3458-2)
* General Dynamics F-16 Dash-1 (basic drag and weight data only)
* Modern Air Combat by Bill Gunston and Mike Speck, 1983 (ISBN 0-86101-1627)

Drag due to Poly Tanks:

CD:	AOA		Clean	Tanks
	-----		-----	-----
	0.0000 		0.119	0.407
	0.4538		0.109	0.247


Wing profiles
configuration		LEF	TEF
-------------		---	---
Take-off, wow		-2	20
Take-off, no wow	15	20
High speed course	-2	-2
Max manoeuvre		25	0
Approach, no wow	15	20
Landing, wow		-2	20


General Dynamics F-16A Block 15(+)
Geometric characteristics and performance data

Max speed:   Mach 2.05 at 39,000 Ft
Ceiling:     60,000 Ft
Climb speed: 1033.5 Ft/Sec

* Wing					* Ventral Fin (Each)
    Area:		300 Sq Ft	    Area:		8.03 Sq Ft
    Wetted Area:	341.1 Sq Ft	    Wetted Area:	15.3 Sq Ft
    Span:		30 Ft 0 In 	    Exposed Span:	27.5 In 
    Reff. Lenght:	47 Ft 6.24 In	    Reff. Lenght:	23.356 In
    Aspect Ratio:	3.0		    Aspect Ratio:	0.472 (Theo)
    Taper Ratio:	0.2275		    Taper Ratio:	0.760 (Theo)
    Mean Chord:		11.32 Ft	    Mean Chord:		4.15 In
    Sweep(LE)		40 Degr		    Sweep(LE):		30 Degr
    Dihedral:		0 Degr		    Dihedral (Cant):	15 Degr Outbound
    Airfoil:		NACA 64A204	    Airfoil
    Incidence:		0 Degr			at Root:	3.886% Modified Wedge
    Twist:					at Tip:		Constant 0.03R
       at SS 54.0:	0 Degr
       at SS 180.0:	3 Degr		* Speed Brake
    Flaperon Area:	31.32 Sq Ft	    Area:		14.26 Sq Ft (3.565 Sq Ft Ea)
    LEF Area:		36.71 Sq Ft				(4 Element Clamshell)

* Horizontal Tail (Movable)		* Landing Gear
    Area:		63.70 Sq Ft	    Main Gear (MLG)
    Wetted Area:	127.8 Sq Ft		Tire Size:	25.5*8-14 (18 Ply)
    Semi Span:	5.80 Ft			Stroke:			10.5 In
    Reff. Lenght:	5.90 Ft			Static Rolling Radius:	11.0 In
    Aspect Ratio:	1.33	
    Taper Ratio:	0.390 (Theo)	    Nose Gear (NLG)
    Mean chord:	4.725 In		Tire Size:		18*5.5-8 (18 Ply)
    Sweep(LE):		40 Degr			Stroke:			10.0 In
    Dihedral:		-10 Degr		Static Rolling Radius:  7.5 In
    Airfoil
       at Root:		6% Biconvex	* Propulsion
       at Tip:		3.5 Biconvex	    Engine:		F-100-PW-200/220
					    Trhust:		25,000 Lb Class
* Vertical Tail				    Engine Compressor
    Area:		54.75 Sq Ft		Face Dia:	34.8 In
    Wetted Area:	128.7 Sq Ft		Engine Length:	191.16 In
    Exposed Span:	2.30 Ft
    Reff. Length:	6.84 Ft		* Fuselage
    Aspect Ratio:	1.62		    Wetted Area:	775.8 Sq Ft
    Taper Ratio:	0.437		    Inlet Area:		5.74 Sq Ft
    Mean Chord:		5.47 In		    Exit Area:		4.32 Sq Ft
    Sweep(LE):		47.5 Degr	    Chamber Area:	5.07 Sq Ft
    Airfoil				    Lenght:		49 Ft 5.9 In
       at Root:		5.3% Biconvex	    Reff. Length:	47.52 Ft
       at Tip:		3.0% Bicobvex	    Height:		16 Ft 8.5 In
    Rudder Area:	11.65 Sq Ft


Aircraft refference locations
(realtive to the centerpoint at the front of the nozzle):

			   X		    Y		  Z
			 ------		---------	------
Center of Garvity        201.3               0.0          0.0
Pilot's eyepoint	 384.7		     0.0	 33.2
Radome tip		 525.0		     0.0	-13.0
Top vertical tail	   0.0		     0.0	127.5
Wingtip			 128.0		+/-197.0	  0.0
Nose landing gear	 332.2		     0.0	-73.0
Main landing gear	 171.9		 +/-46.7	-73.0
Ventral fin		 111.1		 +/-24.0	-51.3
Air intake		 350.7		     0.0	-41.0
Fueltank		 171.3		 +/-71.5	  0.0
<?xml version="1.0"?>

<system name="hook">

  <property>systems/hook/tailhook-cmd-norm</property>
  <property value="4.537">systems/hook/tailhook-length-ft</property>
  <property value="-3.806">systems/hook/tailhook-pos-min-deg</property>
  <property value="53.369">systems/hook/tailhook-pos-max-deg</property>
  <property value="100.669">systems/hook/tailhook-offset-x-in</property>
  <property value=  "0.0">systems/hook/tailhook-offset-y-in</property>
  <property value="-28.818">systems/hook/tailhook-offset-z-in</property>
  <property value="-3.806">systems/hook/tailhook-pos-deg</property>

  <channel name="Hook">

     <kinematic name="systems/hook/tailhook-control">
       <input>systems/hook/tailhook-cmd-norm</input>
       <traverse>
        <setting>
          <position> 0 </position>
          <time>     0 </time>
        </setting>
        <setting>
          <position> 1 </position>
          <time>     1.5 </time>
        </setting>
       </traverse>
       <output>systems/hook/tailhook-pos-norm</output>
     </kinematic>

     <switch name="systems/hook/ready">
          <default value="0"/>
          <test  logic="AND" value="1">
                systems/hook/tailhook-pos-norm gt 0.99
          </test>
     </switch>

     <scheduled_gain name="systems/hook/hook-decel-multiplier">
      <input>systems/hook/ready</input>
      <table>
        <independentVar lookup="row">gear/unit[1]/wheel-speed-fps</independentVar>
         <tableData>
            0     0.00
            1     0.00
            80    2.20
         </tableData>
      </table>
     </scheduled_gain>

     <pure_gain name="systems/hook/hook-decel-force">
        <input>systems/hook/hook-decel-multiplier</input>
        <gain>inertia/weight-lbs</gain>
     </pure_gain>

     <summer name="systems/hook/force">
        <input>systems/hook/hook-decel-force</input>
        <input>forces/fbx-prop-lbs</input>
     </summer>

     <fcs_function name="systems/hook/animation-norm">
       <function>
         <product>
           <sum>
            <property>systems/hook/tailhook-pos-deg</property>
            <value>18</value>
           </sum>
           <value>0.016667</value>
         </product>
       </function>
       <output>gear/tailhook-pos-norm</output>
     </fcs_function>

  </channel>

</system>
<?xml version='1.0' encoding='UTF-8' ?>
<system name="pushback">
  
  <property>/sim/model/pushback/target-speed-fps</property>
  <property>/sim/model/pushback/position-norm</property>

  <channel name="Pushback">

   <switch name="systems/pushback/linked">
     <default value="-1"/>
     <test value="0">
       /sim/model/pushback/position-norm gt 0.95
       gear/unit[0]/WOW == 1
       gear/unit[0]/wheel-speed-fps lt 50
     </test>
   </switch>

   <summer name="systems/pushback/speed-error">
     <input>/sim/model/pushback/target-speed-fps</input>
     <input>-gear/unit[0]/wheel-speed-fps</input>
   </summer>

   <pid name="systems/pushback/force">
     <input>systems/pushback/speed-error</input>
     <kp>/sim/model/pushback/kp</kp>
     <ki>/sim/model/pushback/ki</ki>
     <kd>/sim/model/pushback/kd</kd>
     <trigger>systems/pushback/linked</trigger>
     <output>/sim/model/pushback/force</output>
   </pid>

   <switch name="systems/pushback/force-output">
     <default value="0"/>
     <test value="systems/pushback/force">
       systems/pushback/linked == 0
     </test>
     <output>external_reactions/pushback/magnitude</output>
   </switch>

 </channel>
</system>
<?xml version="1.0"?>
<?xml-stylesheet type="text/xsl" href="http://jsbsim.sourceforge.net/JSBSim.xsl"?>
<fdm_config name="General Dynamics F-16A" version="2.0" release="PRODUCTION"
 xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
 xsi:noNamespaceSchemaLocation="http://jsbsim.sourceforge.net/JSBSim.xsd">

 <fileheader>
  <author> Erik Hofman </author>
  <filecreationdate> 2001-12-28 </filecreationdate>
  <version> $Revision: 1.95 $ </version>
  <license>
   <licenseName>GPL (General Public License)</licenseName>
   <licenseURL>http://www.gnu.org/licenses/gpl.html</licenseURL>
  </license>
  <description> Models an F-16A Block-32 (Basic US configuration) </description>
  <note>
   This model was created using data that is, or has been, publically
   available by means of technical reports, textbooks, image graphs or
   published code. This aircraft description file is in no way related 
   to the manufacturer of the real aircraft.
   Neither the name of (any of) the authors nor the names of (any of) the
   manufacturers may be used to endorse or promote products derived from
   this file.
 
   The data is provided ''as is'' and any express or implied
   warranties, including, but not limitted to the implied warranties of
   merchantability and fitness for a particular purpose are disclaimed.
  </note>
  <reference refID="ISBN 0-7232-3458-2" author="William Green" title="General Dynamics F-16 Dash-1" date="1987"/>
  <reference refID="NASA TP-1538" author="" title="wind tunnel data" date="12/1979"/>
  <reference refID="None" author="Richard Murray" title="http://www.cds.caltech.edu/~murray/projects/afosr95-vehicles/models/f16/" date="n/a"/>
  <reference refID="H-1999" author="NASA" title="Dynamic ground effects flight test of an F-15 aircraft" date="n/a"/>
  <reference refID="H-2177" author="NASA" title="Dynamic ground effect for a Cranked Arrow Wing Airplane" date="n/a"/>
  <reference refID="None" author="n/a" title="http://www.codeonemagazine.com/archives/1991/articles/jul_91/july2a_91.html" date="n/a"/>
 </fileheader>

 <metrics>
  <wingarea unit="FT2"> 300 </wingarea>
  <wingspan unit="FT"> 30 </wingspan>
  <chord unit="FT"> 11.32 </chord>
  <htailarea unit="FT2"> 63.7 </htailarea>
  <htailarm unit="FT"> 16.46 </htailarm>
  <vtailarea unit="FT2"> 54.75 </vtailarea>
  <vtailarm unit="FT"> 0 </vtailarm>
  <location name="AERORP" unit="IN">
   <x> -189.5 </x>
   <y> 0 </y>
   <z> 3.9 </z>
  </location>
  <location name="EYEPOINT" unit="IN">
   <x> -336.2 </x>
   <y> 0 </y>
   <z> 29.5 </z>
  </location>
  <location name="VRP" unit="IN">
   <x> -180 </x>
   <y> 0 </y>
   <z> 0 </z>
  </location>
 </metrics>

 <mass_balance negated_crossproduct_inertia="true">
  <ixx unit="SLUG*FT2"> 9496 </ixx>
  <iyy unit="SLUG*FT2"> 55814 </iyy>
  <izz unit="SLUG*FT2"> 63100 </izz>
  <ixy unit="SLUG*FT2"> 0 </ixy>
  <ixz unit="SLUG*FT2"> -982 </ixz>
  <iyz unit="SLUG*FT2"> 0 </iyz>
  <emptywt unit="LBS"> 17400 </emptywt>
  <location name="CG" unit="IN">
   <x> -193 </x>
   <y> 0 </y>
   <z> -5.1 </z>
  </location>
  <pointmass name="Pilot">
   <weight unit="LBS"> 230 </weight>
   <location name="POINTMASS" unit="IN">
    <x> -336.2 </x>
    <y> 0 </y>
    <z> 0 </z>
   </location>
  </pointmass>
 </mass_balance>

 <ground_reactions>
  <contact type="BOGEY" name="NOSE_LG">
   <location unit="IN">
    <x> -299.6 </x>
    <y> 0 </y>
    <z> -72 </z>
   </location>
   <static_friction> 0.8 </static_friction>
   <dynamic_friction> 0.5 </dynamic_friction>
   <rolling_friction> 0.02 </rolling_friction>
   <spring_coeff unit="LBS/FT"> 17250 </spring_coeff>
   <damping_coeff unit="LBS/FT/SEC"> 4250 </damping_coeff>
   <max_steer unit="DEG"> 80 </max_steer>
   <brake_group> NOSE </brake_group>
   <retractable>1</retractable>
  </contact>
  <contact type="BOGEY" name="LEFT_MLG">
   <location unit="IN">
    <x> -158.6 </x>
    <y> -48 </y>
    <z> -71.6 </z>
   </location>
   <static_friction> 0.8 </static_friction>
   <dynamic_friction> 0.5 </dynamic_friction>
   <rolling_friction> 0.02 </rolling_friction>
   <spring_coeff unit="LBS/FT"> 37500 </spring_coeff>
   <damping_coeff unit="LBS/FT/SEC"> 7500 </damping_coeff>
   <max_steer unit="DEG"> 0.0 </max_steer>
   <brake_group> LEFT </brake_group>
   <retractable>1</retractable>
  </contact>
  <contact type="BOGEY" name="RIGHT_MLG">
   <location unit="IN">
    <x> -158.6 </x>
    <y> 48 </y>
    <z> -71.6 </z>
   </location>
   <static_friction> 0.8 </static_friction>
   <dynamic_friction> 0.5 </dynamic_friction>
   <rolling_friction> 0.02 </rolling_friction>
   <spring_coeff unit="LBS/FT"> 37500 </spring_coeff>
   <damping_coeff unit="LBS/FT/SEC"> 7500 </damping_coeff>
   <max_steer unit="DEG"> 0.0 </max_steer>
   <brake_group> RIGHT </brake_group>
   <retractable>1</retractable>
  </contact>
  <contact type="STRUCTURE" name="LEFT_WT">
   <location unit="IN">
    <x> -121.3 </x>
    <y> -189 </y>
    <z> 0 </z>
   </location>
   <static_friction> 0.2 </static_friction>
   <dynamic_friction> 0.2 </dynamic_friction>
   <rolling_friction> 0.2 </rolling_friction>
   <spring_coeff unit="LBS/FT"> 10000 </spring_coeff>
   <damping_coeff unit="LBS/FT/SEC"> 2000 </damping_coeff>
  </contact>
  <contact type="STRUCTURE" name="RIGHT_WT">
   <location unit="IN">
    <x> -121.3 </x>
    <y> 189 </y>
    <z> 0 </z>
   </location>
   <static_friction> 0.2 </static_friction>
   <dynamic_friction> 0.2 </dynamic_friction>
   <rolling_friction> 0.2 </rolling_friction>
   <spring_coeff unit="LBS/FT"> 10000 </spring_coeff>
   <damping_coeff unit="LBS/FT/SEC"> 2000 </damping_coeff>
  </contact>
  <contact type="STRUCTURE" name="TOP_VS">
   <location unit="IN">
    <x> -27.2 </x>
    <y> 0 </y>
    <z> 123.2 </z>
   </location>
   <static_friction> 0.2 </static_friction>
   <dynamic_friction> 0.2 </dynamic_friction>
   <rolling_friction> 0.2 </rolling_friction>
   <spring_coeff unit="LBS/FT"> 10000 </spring_coeff>
   <damping_coeff unit="LBS/FT/SEC"> 2000 </damping_coeff>
  </contact>
  <contact type="STRUCTURE" name="LEFT_VFT">
   <location unit="IN">
    <x> -97.6 </x>
    <y> -24.8 </y>
    <z> -52 </z>
   </location>
   <static_friction> 0.2 </static_friction>
   <dynamic_friction> 0.2 </dynamic_friction>
   <rolling_friction> 0.2 </rolling_friction>
   <spring_coeff unit="LBS/FT"> 200 </spring_coeff>
   <damping_coeff unit="LBS/FT/SEC"> 5000 </damping_coeff>
  </contact>
  <contact type="STRUCTURE" name="RIGHT_VFT">
   <location unit="IN">
    <x> -97.6 </x>
    <y> 24.8 </y>
    <z> -52 </z>
   </location>
   <static_friction> 0.2 </static_friction>
   <dynamic_friction> 0.2 </dynamic_friction>
   <rolling_friction> 0.2 </rolling_friction>
   <spring_coeff unit="LBS/FT"> 200 </spring_coeff>
   <damping_coeff unit="LBS/FT/SEC"> 5000 </damping_coeff>
  </contact>
  <contact type="STRUCTURE" name="INTAKE">
   <location unit="IN">
    <x> -322.4 </x>
    <y> 0 </y>
    <z> -36.6 </z>
   </location>
   <static_friction> 0.2 </static_friction>
   <dynamic_friction> 0.2 </dynamic_friction>
   <rolling_friction> 0.2 </rolling_friction>
   <spring_coeff unit="LBS/FT"> 10000 </spring_coeff>
   <damping_coeff unit="LBS/FT/SEC"> 2000 </damping_coeff>
  </contact>
  <contact type="STRUCTURE" name="RADOME">
   <location unit="IN">
    <x> -486.6 </x>
    <y> 0 </y>
    <z> -8.7 </z>
   </location>
   <static_friction> 0.2 </static_friction>
   <dynamic_friction> 0.2 </dynamic_friction>
   <rolling_friction> 0.2 </rolling_friction>
   <spring_coeff unit="LBS/FT"> 10000 </spring_coeff>
   <damping_coeff unit="LBS/FT/SEC"> 2000 </damping_coeff>
  </contact>
 </ground_reactions>

 <external_reactions>
   <force name="pushback" frame="BODY">
  <location unit="IN">
    <x>  -2.98081 </x>
    <y> 0.0 </y>
    <z>  -1.9683 </z>
  </location>
  <direction>
    <x>1</x>
    <y>0</y>
    <z>0</z>
  </direction>
   </force>

   <force name="hook" frame="BODY">
  <location unit="IN">
    <x>  100.669 </x>
    <y> 0.0 </y>
    <z>  -28.818 </z>
  </location>
  <direction>
    <x>  -0.9995 </x>
    <y>   0.0 </y>
    <z>   0.01 </z>
  </direction>
   </force>
 </external_reactions>

 <propulsion>
  <engine file="F100-PW-229">
   <feed>0</feed>
   <feed>1</feed>
   <feed>2</feed>
   <feed>3</feed>
   <thruster file="direct">
    <location unit="IN">
     <x> 0 </x>
     <y> 0 </y>
     <z> 0 </z>
    </location>
    <orient unit="DEG">
     <roll> 0.0 </roll>
     <pitch> 0.0 </pitch>
     <yaw> 0.0 </yaw>
    </orient>
   </thruster>
  </engine>
  <tank type="FUEL"> <!-- Tank number 0 -->
   <location unit="IN">
    <x> -174.4 </x>
    <y> 65.0 </y>
    <z> 5.0 </z>
   </location>
   <capacity unit="LBS"> 3486 </capacity>
   <contents unit="LBS"> 1500 </contents>
  </tank>
  <tank type="FUEL"> <!-- Tank number 1 -->
   <location unit="IN">
    <x> -174.4 </x>
    <y> -65.0 </y>
    <z> 5.0 </z>
   </location>
   <capacity unit="LBS"> 3486 </capacity>
   <contents unit="LBS"> 1500 </contents>
  </tank>
  <tank type="FUEL"> <!-- External Tank number 0  (station 4) -->
   <location unit="IN">
    <x> -174.4 </x>
    <y> 65.0 </y>
    <z> -15.0 </z>
   </location>
   <capacity unit="LBS"> 2991 </capacity>
   <contents unit="LBS"> 0 </contents>
  </tank>
  <tank type="FUEL"> <!-- External Tank number 1 (station 6) -->
   <location unit="IN">
    <x> -174.4 </x>
    <y> -65.0 </y>
    <z> -15.0 </z>
   </location>
   <capacity unit="LBS"> 2991 </capacity>
   <contents unit="LBS"> 0 </contents>
  </tank>
 </propulsion>

 <system file="pushback">
   <property>/sim/model/pushback/kp</property>
   <property>/sim/model/pushback/ki</property>
   <property>/sim/model/pushback/kd</property>
 </system>
 <system file="hook"/>

 <flight_control name="F-16 FC">

   <!-- Declare some interface properties -->
  <property>fcs/alpha-norm</property>
  <property>fcs/hook-engage</property>
  <property>fcs/canopy-engage</property>
  <property>fcs/fbw-override</property>

  <channel name="Flaps">

   <switch name="fcs/tef-pos-rad">
    <default value="0.0"/>
    <test logic="AND" value="0.349">
     velocities/vc-kts lt 250
    </test>
    <test logic="AND" value="-0.0349">
     velocities/mach gt 0.9
    </test>
   </switch>

   <pure_gain name="fcs/tef-pos-norm">
     <input>fcs/tef-pos-rad</input>
     <gain>2.864789</gain>
   </pure_gain>

   <kinematic name="fcs/tef-control">
    <input>fcs/tef-pos-norm</input>
    <traverse>
     <setting>
      <position>-1.0</position>
      <time>3.0</time>
     </setting>
     <setting>
      <position>0</position>
      <time>0</time>
     </setting>
     <setting>
      <position>1.0</position>
      <time>3.0</time>
     </setting>
    </traverse>
   </kinematic>

  </channel>

  <channel name="Roll">

   <!-- Calculate the normalized roll-rate -->
   <pure_gain name="fcs/roll-rate-norm">
    <input>velocities/p-aero-rad_sec</input>
    <gain>0.31821</gain>
   </pure_gain>

   <!--
     - Calculate the difference between actual roll-rate and
     - commanded roll-rate.
     -->
   <summer name="fcs/roll-trim-error">
    <input>fcs/aileron-cmd-norm</input>
    <input>-fcs/roll-rate-norm</input>
   </summer>

   <!--
     - Make sure the PID controller is only active when the aircraft
     - has gained some speed. This will prevent bad behaviour when the
     - aircraft has been parked for a while.
     -->
   <switch name="fcs/aileron-pid-trigger">
    <default value="1"/>
    <test value="0">
     velocities/vc-kts lt 20.0
    </test>
   </switch>

   <pid name="fcs/roll-rate-pid">
     <trigger>fcs/aileron-pid-trigger</trigger>
     <input>fcs/roll-trim-error</input>
     <kp> 3.00000 </kp>
     <ki> 0.00050 </ki>
     <kd> -0.00125 </kd>
   </pid>

   <summer name="fcs/roll-rate-command">
    <input>fcs/roll-rate-pid</input>
    <input>fcs/aileron-cmd-norm</input>
    <clipto>
     <min>-1</min>
     <max>1</max>
    </clipto>
   </summer>

   <aerosurface_scale name="fcs/aileron-control">
    <input>fcs/roll-rate-command</input>
    <range>
     <min>-0.375</min>
     <max>0.375</max>
    </range>
    <output>fcs/aileron-pos-rad</output>
   </aerosurface_scale>
   
   <!--
     - FBW override swich
     -->
   <switch name="fcs/roll-rate-command-switch">
    <default value="fcs/roll-rate-command"/>
    <test value="fcs/aileron-cmd-norm">
     fcs/fbw-override == 1
    </test>
   </switch>

   <kinematic name="fcs/aileron-position">
    <input>fcs/roll-rate-command-switch</input>
    <traverse>
     <setting>
      <position>-1</position>
      <time>0.3</time>
     </setting>
     <setting>
      <position>1</position>
      <time>0.3</time>
     </setting>
    </traverse>
    <output>fcs/left-aileron-pos-norm</output>
   </kinematic>

   <scheduled_gain name="fcs/aileron-speed-compensated">
    <input>fcs/left-aileron-pos-norm</input>
    <table>
     <independentVar>velocities/mach</independentVar>
     <tableData>
      0.0  1.0
      1.0  0.15
     </tableData>
    </table>
   </scheduled_gain>

   <summer name="fcs/left-flaperon-norm">
    <input>-fcs/tef-control</input>
    <input>-fcs/aileron-speed-compensated</input>
    <clipto>
     <min>-1.0</min>
     <max>1.0</max>
    </clipto>
   </summer>

   <summer name="fcs/right-flaperon-norm">
    <input>fcs/tef-control</input>
    <input>-fcs/aileron-speed-compensated</input>
    <clipto>
     <min>-1.0</min>
     <max>1.0</max>
    </clipto>
   </summer>

   <summer name="fcs/flaperon-summer">
    <input>fcs/left-flaperon-norm</input>
    <input>fcs/right-flaperon-norm</input>
   </summer>
   
   <pure_gain name="fcs/flaperon-mix-rad">
    <input>fcs/flaperon-summer</input>
    <gain>1.4324</gain>
   </pure_gain>

   <aerosurface_scale name="fcs/left-aileron-control">
    <input>fcs/aileron-speed-compensated</input>
    <range>
     <min>-0.375</min>
     <max>0.375</max>
    </range>
    <output>fcs/left-aileron-pos-rad</output>
   </aerosurface_scale>

   <aerosurface_scale name="fcs/right-aileron-control">
    <input>-fcs/aileron-speed-compensated</input>
    <range>
     <min>-0.375</min>
     <max>0.375</max>
    </range>
    <output>fcs/right-aileron-pos-rad</output>
   </aerosurface_scale>

  </channel>

  <channel name="Pitch">
   <!--
     - accelerations/n-pilot-z-norm has the disadvantage that it
     - has an offset of 1G when positioned horizontal (and -1G
     - when upside down). To calculate the difference between the
     - commanded pitch-rate and actual pitch-rate this offset has
     - to be eliminated. The following function calculates an offset
     - to compensate for the earth's gravity.
     -->
   <fcs_function name="fcs/n-pilot-z-correction">
    <function>
    <product>
     <cos><property>attitude/pitch-rad</property></cos>
     <cos><property>attitude/roll-rad</property></cos>
    </product>
    </function>
   </fcs_function>

   <summer name="fcs/g-load-corrected">
     <input>accelerations/n-pilot-z-norm</input>
     <input>-fcs/n-pilot-z-correction</input>
   </summer>

   <!--
     - The F-16 has a G limit of 9G positive and 4G negative (44.44% 
     - of 9G). This section limits the stick output to 100% up and 44%
     - down.
     -->
   <summer name="fcs/elevator-cmd-limiter">
     <input>fcs/elevator-cmd-norm</input>
     <input>fcs/pitch-trim-cmd-norm</input>
     <clipto>
    <min>-1</min>
    <max>0.44</max>
     </clipto>
   </summer>

   <!--
      - If alpha (the difference between the pitch vector and the
      - thrust vector) approaches 30 degrees the Flight Computer will
      - command full down elevator deflection to prevent stalling.
      - This section reduces pilot command to zero when alpha
      - exceeds 28 degrees and approaches 30 degrees.
      - (note: JSBSim doesn't extrapolate, so no need to specify
      - beyond 30 degrees)
      -->
   <scheduled_gain name="fcs/elevator-scheduler">
    <input>fcs/elevator-cmd-limiter</input>
    <table>
     <independentVar>aero/alpha-rad</independentVar>
     <tableData>
     -0.5236    0.0
     -0.5       0.11
      0.0       1.0
      0.5       0.11
      0.5236    0.0
     </tableData>
    </table>
   </scheduled_gain>

   <!-- Command full pitch down when approaching 30 degrees alpha -->
   <pure_gain name="fcs/alpha-limiter-norm">
     <input>aero/alpha-rad</input>
     <gain>1.0472</gain>
   </pure_gain>

   <!-- Calculate the normalized current pitch-rate -->
   <pure_gain name="fcs/pitch-rate-norm">
    <input>velocities/q-aero-rad_sec</input>
    <gain>6.2</gain>
   </pure_gain>

   <!-- Calculate the normalized current pilot g-load -->
   <pure_gain name="fcs/g-load-norm">
     <input>fcs/g-load-corrected</input>
     <gain>0.020</gain>
   </pure_gain>

   <!--
     - Calculated the difference between the commanded pitch-rate
     - (elevator-scheduler) and the current pitch-rate and g-load.
     - The difference has to be compensated for straight flight.
     -->
   <summer name="fcs/pitch-trim-error">
     <input>fcs/elevator-scheduler</input>
     <input>fcs/pitch-rate-norm</input>
     <input>-fcs/g-load-norm</input>
   </summer>

   <!--
     - Make sure the PID controller is only active when the aircraft
     - has gained some speed. This will prevent bad behaviour when the
     - aircraft has been parked for a while.
     -->
   <switch name="fcs/elevator-pid-trigger">
    <default value="1"/>
    <test value="0">
     velocities/vc-kts lt 5.0
    </test>
   </switch>

   <pid name="fcs/g-load-pid">
     <trigger>fcs/elevator-pid-trigger</trigger>
     <input>fcs/pitch-trim-error</input>
     <kp> 0.3000 </kp>
     <ki> 0.0250 </ki>
     <kd> 0.0000 </kd>
     <clipto>
    <min>-1</min>
    <max>1</max>
     </clipto>
   </pid>

   <!--
     - Calculate the difference between the current pitch-rate and
     - the one requested for. Compensate for too high alpha values.
     -->
   <summer name="fcs/pitch-scheduler">
     <input>fcs/elevator-scheduler</input>
     <input>fcs/alpha-limiter-norm</input>
     <input>fcs/g-load-pid</input>
     <clipto>
    <min>-1</min>
    <max>1</max>
     </clipto>
   </summer>
   
   <!--
     - FBW override swich
     -->
    <switch name="fcs/pitch-scheduler-switch">
    <default value="fcs/pitch-scheduler"/>
    <test value="fcs/elevator-cmd-limiter">
     fcs/fbw-override == 1
    </test>
   </switch>

   <kinematic name="fcs/elevator-position-normalized">
    <input>fcs/pitch-scheduler-switch</input>
    <traverse>
     <setting>
      <position>-1</position>
      <time>0.3</time>
     </setting>
     <setting>
      <position>1</position>
      <time>0.3</time>
     </setting>
    </traverse>
    <output>fcs/elevator-pos-norm</output>
   </kinematic>

   <aerosurface_scale name="fcs/elevator-position">
     <input>fcs/elevator-pos-norm</input>
     <range>
    <min>-0.436</min>
    <max>0.436</max>
     </range>
     <output>fcs/elevator-pos-rad</output>
   </aerosurface_scale>

   <summer name="fcs/dht-left-pos-rad">
     <input>-fcs/elevator-pos-rad</input>
     <input>-fcs/left-aileron-pos-rad</input>
     <clipto>
    <min>-0.436</min>
    <max>0.436</max>
     </clipto>
    </summer>

    <summer name="fcs/dht-right-pos-rad">
     <input>fcs/elevator-pos-rad</input>
     <input>fcs/right-aileron-pos-rad</input>
     <clipto>
    <min>-0.436</min>
    <max>0.436</max>
     </clipto>
    </summer>

  </channel>

  <channel name="Yaw">
   <!-- Calculate the normalized yaw-rate -->
   <scheduled_gain name="fcs/yaw-rate-norm">
    <input>velocities/r-aero-rad_sec</input>
    <table>
     <independentVar>velocities/vg-fps</independentVar>
     <tableData>
      80.0  0.0
      100.0    15.0
      150.0    100.0
     </tableData>
    </table>
   </scheduled_gain>

   <!-- Calculate the normalized yaw-load -->
   <pure_gain name="fcs/yaw-load-norm">
    <input>accelerations/n-pilot-y-norm</input>
    <gain>0.25</gain>
   </pure_gain>

   <!--
     - Calculate the difference between the current yaw-rate
     - and the one requiested for.
     -->
   <summer name="fcs/yaw-trim-error">
    <input>fcs/rudder-cmd-norm</input>
    <input>fcs/yaw-rate-norm</input>
    <input>fcs/yaw-load-norm</input>
   </summer>

   <!--
     - Make sure the PID controller is only active when the aircraft
     - has gained some speed. This will prevent bad behaviour when the
     - aircraft has been parked for a while.
     -->
   <switch name="fcs/rudder-pid-trigger">
    <default value="1"/>
    <test value="0">
     velocities/vc-kts lt 10.0
    </test>
   </switch>

   <pid name="fcs/yaw-load-pid">
     <trigger>fcs/rudder-pid-trigger</trigger>
     <input>fcs/yaw-trim-error</input>
     <kp> 0.105500 </kp>
     <ki> 0.000010 </ki>
     <kd> 0.00005 </kd>
     <clipto>
    <min>-1</min>
    <max>1</max>
     </clipto>
     <output>fcs/rudder-pos-norm</output>
   </pid>

   <summer name="fcs/yaw-scheduler">
     <input>fcs/rudder-cmd-norm</input>
     <input>fcs/yaw-trim-cmd-norm</input>
     <input>fcs/yaw-load-pid</input>
     <clipto>
    <min>-1</min>
    <max>1</max>
     </clipto>
   </summer>

   <kinematic name="fcs/rudder-position">
    <input>fcs/yaw-scheduler</input>
    <traverse>
     <setting>
      <position>-1</position>
      <time>0.4</time>
     </setting>
     <setting>
      <position>1</position>
      <time>0.4</time>
     </setting>
    </traverse>
    <output>fcs/rudder-pos-norm</output>
   </kinematic>

   <aerosurface_scale name="fcs/rudder-control">
    <input>fcs/rudder-pos-norm</input>
    <range>
     <min>-0.524</min>
     <max>0.524</max>
    </range>
    <output>fcs/rudder-pos-rad</output>
   </aerosurface_scale>

  </channel>

  <channel name="Landing Gear">

   <switch name="fcs/gear-wow">
    <default value="0"/>
    <test logic="AND" value="1">
     gear/unit[1]/WOW eq 1
     gear/unit[2]/WOW eq 1
    </test>
   </switch>

   <kinematic name="fcs/gear-control">
    <input>gear/gear-cmd-norm</input>
    <traverse>
     <setting>
      <position>0</position>
      <time>0</time>
     </setting>
     <setting>
      <position>1</position>
      <time>5</time>
     </setting>
    </traverse>
    <output>gear/gear-pos-norm</output>
   </kinematic>

   <scheduled_gain name="fcs/scheduled-steer-pos-deg">
    <input>fcs/steer-cmd-norm</input>
    <table>
     <independentVar>velocities/vg-fps</independentVar>
     <tableData>
      10.0  80.0
      50.0  15.0
      150.0    2.0
     </tableData>
    </table>
    <output>fcs/steer-pos-deg</output>
   </scheduled_gain>

  </channel>
   
  <channel name="Leading Edge Flap">

   <switch name="fcs/lef-pos-rad">
    <default value="0.0"/>
    <test logic="AND" value="-0.0349">
     fcs/gear-wow eq 1
     gear/gear-pos-norm gt 0
    </test>
    <test logic="AND" value="0.436">
     gear/gear-pos-norm eq 0
     aero/alpha-rad gt 0.2618
    </test>
    <test logic="AND" value="0.262">
     fcs/gear-wow eq 0
     aero/alpha-rad gt 0.0873
    </test>
    <test logic="AND" value="-0.0349">
     velocities/mach gt 0.9
    </test>
   </switch>

   <pure_gain name="fcs/lef-pos-norm">
     <input>fcs/lef-pos-rad</input>
     <gain>2.293578</gain>
   </pure_gain>

   <kinematic name="fcs/lef-control">
    <input>fcs/lef-pos-norm</input>
    <traverse>
     <setting>
      <position>-1.0</position>
      <time>3.0</time>
     </setting>
     <setting>
      <position>1.0</position>
      <time>3.0</time>
     </setting>
    </traverse>
   </kinematic>

   <aerosurface_scale name="fcs/lef-pos-deg">
     <input>fcs/lef-control</input>
     <domain>
    <min>-1.0</min>
    <max>1.0</max>
     </domain>
     <range>
    <min>-25</min>
    <max>25</max>
     </range>
   </aerosurface_scale>

  </channel>

  <channel name="Throttle">

   <pure_gain name="fcs/throttle1">
    <input>fcs/throttle-cmd-norm</input>
    <gain>2</gain>
    <output>fcs/throttle-pos-norm</output>
   </pure_gain>

  </channel>

  <channel name="Speedbrake">
   <!--
     - To prevent deep stall the Flight Computer commands speedbrake
     - deflection at high angle of attack (alpha) and low speeds. This
     - will provide just enough pitch down moment to keep the aircraft
     - under control.
     -->
   <switch name="fcs/speedbrake-alpha-limiter">
    <default value="0"/>
    <test logic="AND" value="1">
     aero/alpha-deg ge 53 
     velocities/v-fps le 18
    </test>
   </switch>

   <switch name="fcs/speedbrake-initiate">
    <default value="0"/>
    <test logic="OR" value="1">
     fcs/speedbrake-alpha-limiter eq 1
     fcs/speedbrake-cmd-norm eq 1
    </test>
   </switch>

   <!--
     - Speedbrake deflection is limited to 43 degrees (instead of 60
     - degrees) when the gear is extended to prevent physical
     - speedbrake damage on touchdown.
     -->
   <scheduled_gain name="fcs/speedbrake-scheduler">
    <input>fcs/speedbrake-initiate</input>
    <table>
     <independentVar>gear/gear-cmd-norm</independentVar>
     <tableData>
      0 1.0
      1 0.71667
     </tableData>
    </table>
    <!-- <output>fcs/speedbrake-pos-norm</output> -->
   </scheduled_gain>

   <kinematic name="fcs/speedbrake-control">
    <input>fcs/speedbrake-scheduler</input>
    <traverse>
     <setting>
      <position>0</position>
      <time>0</time>
     </setting>
     <setting>
      <position>60</position>
      <time>1</time>
     </setting>
    </traverse>
    <output>fcs/speedbrake-pos-deg</output>
   </kinematic>

     <aerosurface_scale name="fcs/speedbrake-position-normalizer">
     <input>fcs/speedbrake-control</input>
     <domain>
    <min>0</min>
    <max>60</max>
     </domain>
     <range>
    <min>0</min>
    <max>1</max>
     </range>
     <output>fcs/speedbrake-pos-norm</output>
   </aerosurface_scale>

  </channel>

  <channel name="Hook">

   <kinematic name="fcs/hook-control">
    <input>fcs/hook-engage</input>
    <traverse>
     <setting>
      <position>0</position>
      <time>0</time>
     </setting>
     <setting>
      <position>1</position>
      <time>2.5</time>
     </setting>
    </traverse>
    <output>fcs/hook-pos-norm</output>
   </kinematic>
   
  </channel>

  <channel name="Canopy">

   <switch name="fcs/canopy-trigger">
    <default value="fcs/canopy-engage"/>
    <test value="0">
     velocities/u-fps gt 1.0
    </test>
   </switch>

   <kinematic name="fcs/canopy-control">
    <input>fcs/canopy-trigger</input>
    <traverse>
     <setting>
      <position>0</position>
      <time>0</time>
     </setting>
     <setting>
      <position>1</position>
      <time>10</time>
     </setting>
    </traverse>
    <output>fcs/canopy-pos-norm</output>
   </kinematic>

  </channel>

 </flight_control>

 <aerodynamics>

  <function name="aero/function/kCLge">
   <description>Change_in_lift_due_to_ground_effect</description>
   <table>
     <independentVar>aero/h_b-mac-ft</independentVar>
     <tableData>
       0.0000  1.2290
       0.1000  1.1240
       0.1500  1.1160
       0.2000  1.1240
       0.3000  1.1050
       0.4000  1.0410
       0.5000  1.0340
       0.6000  1.0190
       0.7000  1.0080
       0.8000  1.0030
       0.9000  1.0010
       1.0000  1.0000
       1.1000  1.0000
     </tableData>
   </table>
  </function>

  <axis name="DRAG">
   <function name="aero/coefficient/CDDh">
    <description>Drag_due_to_horizontal_tail_deflection</description>
    <product>
     <property>aero/qbar-psf</property>
     <property>metrics/Sw-sqft</property>
       <table name="CDdHT">
        <independentVar lookup="row">aero/alpha-rad</independentVar>
        <independentVar lookup="column">fcs/elevator-pos-rad</independentVar>
        <tableData>
                 -0.4360 -0.2180  0.0000  0.2180  0.4360
         -0.1750  0.2170  0.1740  0.1560  0.1810  0.2300
         -0.0870  0.0940  0.0550  0.0410  0.0620  0.1010
          0.0000  0.0810  0.0400  0.0210  0.0390  0.0760
          0.0870  0.1060  0.0610  0.0400  0.0570  0.1010
          0.1750  0.1660  0.1190  0.0960  0.1140  0.1580
          0.2620  0.2520  0.2030  0.1820  0.2020  0.2400
          0.3490  0.4040  0.3620  0.3470  0.3710  0.4160
          0.4360  0.6280  0.5880  0.5770  0.6010  0.6370
          0.5240  0.8750  0.8400  0.8260  0.8520  0.8800
          0.6110  1.1270  1.0950  1.0840  1.1020  1.1250
          0.6980  1.3650  1.3340  1.3260  1.3380  1.3560
          0.7850  1.5170  1.4870  1.4780  1.4820  1.4890
        </tableData>
       </table>
    </product>
   </function>
   <function name="aero/coefficient/CDmach">
    <description>Drag_due_to_mach</description>
    <product>
     <property>aero/qbar-psf</property>
     <property>metrics/Sw-sqft</property>
       <table>
        <independentVar>velocities/mach</independentVar>
        <tableData>
         0.0000  0.0000
         0.8100  0.0000
         1.1000  0.0230
         1.8000  0.0150
        </tableData>
       </table>
    </product>
   </function>
   <function name="aero/coefficient/CDDlef">
    <description>Drag_due_to_leading_edge_flap_deflection</description>
    <product>
     <property>aero/qbar-psf</property>
     <property>metrics/Sw-sqft</property>
     <property>fcs/lef-pos-rad</property>
       <table>
        <independentVar>aero/alpha-rad</independentVar>
        <tableData>
         -0.1750  0.0030
         -0.0870  0.0010
          0.0000  0.0000
          0.0870  0.0010
          0.1750  0.0020
          0.2620  0.0040
          0.3490  0.0070
          0.4360  0.0110
          0.5240  0.0150
          0.6110  0.0190
          0.6980  0.0230
          0.7850  0.0240
        </tableData>
       </table>
    </product>
   </function>
   <function name="aero/coefficient/CDDflaps">
    <description>Drag_due_to_trailing_edge_flaps</description>
    <product>
     <property>aero/qbar-psf</property>
     <property>metrics/Sw-sqft</property>
     <property>fcs/flaperon-mix-rad</property>
     <value>0.0800</value>
    </product>
   </function>
   <function name="aero/coefficient/CDgear">
    <description>Drag_due_to_gear</description>
    <product>
     <property>aero/qbar-psf</property>
     <property>metrics/Sw-sqft</property>
     <property>gear/gear-pos-norm</property>
     <value>0.0270</value>
    </product>
   </function>
   <function name="aero/coefficient/CDDsb">
    <description>Drag_due_to_speedbrake_deflection</description>
    <product>
     <property>aero/qbar-psf</property>
     <property>metrics/Sw-sqft</property>
     <property>fcs/speedbrake-pos-rad</property>
       <table>
        <independentVar>aero/alpha-rad</independentVar>
        <tableData>
         -0.1750 -0.0545
         -0.0870 -0.0225
          0.0000  0.0096
          0.0870  0.0590
          0.1750  0.1244
          0.2620  0.2182
          0.3490  0.2324
          0.4360  0.2029
          0.5240  0.1435
          0.6110  0.1046
          0.6980  0.1363
          0.7850  0.1196
        </tableData>
       </table>
    </product>
   </function>
   <function name="aero/coefficient/CDq">
    <description>Drag_due_to_pitch_rate</description>
    <product>
     <property>aero/qbar-psf</property>
     <property>metrics/Sw-sqft</property>
     <property>velocities/q-aero-rad_sec</property>
     <property>aero/ci2vel</property>
       <table>
        <independentVar>aero/alpha-rad</independentVar>
        <tableData>
         -0.1750  -1.2650
         -0.0870  -2.1390
          0.0000  -0.3080
          0.0870   1.4020
          0.1750   3.3690
          0.2620   5.1350
          0.3490   6.8800
          0.4360  10.0600
          0.5240  13.2010
          0.6110  15.8720
          0.6980  23.2170
          0.7850  24.1050
        </tableData>
       </table>
    </product>
   </function>
   <function name="aero/coefficient/CDq_Dlef">
    <description>Drag_due_to_pitch_rate_and_leading_edge_flap_deflection</description>
    <product>
     <property>aero/qbar-psf</property>
     <property>metrics/Sw-sqft</property>
     <property>velocities/q-aero-rad_sec</property>
     <property>aero/ci2vel</property>
     <property>fcs/lef-pos-rad</property>
       <table>
        <independentVar>aero/alpha-rad</independentVar>
        <tableData>
         -0.1750  0.0670
         -0.0870  0.0340
          0.0000  0.0280
          0.0870  0.0290
          0.1750  0.0330
          0.2620  0.0590
          0.3490  0.0610
          0.4360  0.0270
          0.5240  0.0360
          0.6110  0.0470
          0.6980  0.0290
          0.7850  0.0150
        </tableData>
       </table>
    </product>
   </function>
  </axis>

  <axis name="SIDE">
   <function name="aero/coefficient/CYb">
    <description>Side_force_due_to_beta</description>
    <product>
     <property>aero/qbar-psf</property>
     <property>metrics/Sw-sqft</property>
     <property>aero/beta-rad</property>
     <value>-1.1460</value>
    </product>
   </function>
   <function name="aero/coefficient/CYb_M">
    <description>Change_in_Side_force_due_to_beta_due_to_mach</description>
    <product>
     <property>aero/qbar-psf</property>
     <property>metrics/Sw-sqft</property>
     <property>aero/beta-rad</property>
       <table>
        <independentVar>velocities/mach</independentVar>
        <tableData>
          0.4000  0.0000
          1.2000  0.0573
          1.6000 -0.1719
        </tableData>
       </table>
    </product>
   </function>
   <function name="aero/coefficient/CYDa">
    <description>Side_force_due_to_aileron</description>
    <product>
     <property>aero/qbar-psf</property>
     <property>metrics/Sw-sqft</property>
     <property>fcs/aileron-pos-rad</property>
     <value>-0.0226</value>
    </product>
   </function>
   <function name="aero/coefficient/CYdr">
    <description>Side_force_due_to_rudder</description>
    <product>
     <property>aero/qbar-psf</property>
     <property>metrics/Sw-sqft</property>
     <property>fcs/rudder-pos-rad</property>
     <value>0.0860</value>
    </product>
   </function>
   <function name="aero/coefficient/CYp">
    <description>Side_force_due_to_roll_rate</description>
    <product>
     <property>aero/qbar-psf</property>
     <property>metrics/Sw-sqft</property>
     <property>aero/bi2vel</property>
     <property>velocities/p-aero-rad_sec</property>
       <table>
        <independentVar>aero/alpha-rad</independentVar>
        <tableData>
         -0.1750 -0.1080
         -0.0870 -0.1080
          0.0000 -0.1880
          0.0870  0.1100
          0.1750  0.2580
          0.2620  0.2260
          0.3490  0.3440
          0.4360  0.3620
          0.5240  0.6110
          0.6110  0.5290
          0.6980  0.2980
          0.7850 -0.2270
        </tableData>
       </table>
    </product>
   </function>
   <function name="aero/coefficient/CYr">
    <description>Side_force_due_to_yaw_rate</description>
    <product>
     <property>aero/qbar-psf</property>
     <property>metrics/Sw-sqft</property>
     <property>aero/bi2vel</property>
     <property>velocities/r-aero-rad_sec</property>
       <table>
        <independentVar>aero/alpha-rad</independentVar>
        <tableData>
         -0.1750  0.8820
         -0.0870  0.8520
          0.0000  0.8760
          0.0870  0.9580
          0.1750  0.9620
          0.2620  0.9740
          0.3490  0.8190
          0.4360  0.4830
          0.5240  0.5900
          0.6110  1.2100
          0.6980 -0.4930
          0.7850 -1.0400
        </tableData>
       </table>
    </product>
   </function>
  </axis>

  <axis name="LIFT">
   <function name="aero/coefficient/CLDh">
    <description>Lift_due_to_horizontal_tail_deflection</description>
    <product>
     <property>aero/qbar-psf</property>
     <property>metrics/Sw-sqft</property>
     <property>aero/function/kCLge</property>
       <table>
        <independentVar lookup="row">aero/alpha-rad</independentVar>
        <independentVar lookup="column">fcs/elevator-pos-rad</independentVar>
        <tableData>
                 -0.4360 -0.2180  0.0000  0.2180  0.4360
         -0.1750 -0.6590 -0.7090 -0.7540 -0.7920 -0.8250
         -0.0870 -0.1510 -0.1960 -0.2380 -0.2780 -0.3160
          0.0000  0.1830  0.1410  0.1000  0.0590  0.0170
          0.0870  0.4910  0.4540  0.4140  0.3710  0.3260
          0.1750  0.7970  0.7630  0.7250  0.6800  0.6300
          0.2620  1.1080  1.0790  1.0410  0.9930  0.9400
          0.3490  1.3950  1.3660  1.3270  1.2740  1.2140
          0.4360  1.6150  1.5870  1.5470  1.4900  1.4270
          0.5240  1.8040  1.7770  1.7370  1.6740  1.6100
          0.6110  1.9000  1.8720  1.8290  1.7660  1.6990
          0.6980  1.8980  1.8690  1.8220  1.7570  1.6890
          0.7850  1.7530  1.7240  1.6740  1.6120  1.5460
        </tableData>
       </table>
    </product>
   </function>
   <function name="aero/coefficient/CLDlef">
    <description>Lift_due_to_leading_edge_flap_deflection</description>
    <product>
     <property>aero/qbar-psf</property>
     <property>metrics/Sw-sqft</property>
     <property>fcs/lef-pos-rad</property>
     <property>aero/function/kCLge</property>
       <table>
        <independentVar>aero/alpha-rad</independentVar>
        <tableData>
         -0.1750 -0.0120
         -0.0870 -0.0040
          0.0000  0.0020
          0.0870  0.0070
          0.1750  0.0120
          0.2620  0.0180
          0.3490  0.0220
          0.4360  0.0250
          0.5240  0.0260
          0.6110  0.0280
          0.6980  0.0280
          0.7850  0.0250
        </tableData>
       </table>
    </product>
   </function>
   <function name="aero/coefficient/CLDflaps">
    <description>Delta_Lift_due_to_trailing_edge_flaps</description>
    <product>
     <property>aero/qbar-psf</property>
     <property>metrics/Sw-sqft</property>
     <property>fcs/flaperon-mix-rad</property>
     <property>aero/function/kCLge</property>
     <value>0.3500</value>
    </product>
   </function>
   <function name="aero/coefficient/CLDsb">
    <description>Lift_due_to_speedbrake_deflection</description>
    <product>
     <property>aero/qbar-psf</property>
     <property>metrics/Sw-sqft</property>
     <property>aero/function/kCLge</property>
     <property>fcs/speedbrake-pos-rad</property>
       <table>
        <independentVar>aero/alpha-rad</independentVar>
        <tableData>
         -0.1750  0.3645
         -0.0870  0.3678 
          0.0000  0.3684
          0.0870  0.2522
          0.1750  0.2710
          0.2620  0.3615
          0.3490  0.1283
          0.4360  0.0075
          0.5240 -0.1311
          0.6110 -0.1836
          0.6980 -0.1161
          0.7850 -0.1064
        </tableData>
       </table>
    </product>
   </function>
   <function name="aero/coefficient/CLq">
    <description>Lift_due_to_pitch_rate</description>
    <product>
     <property>aero/qbar-psf</property>
     <property>metrics/Sw-sqft</property>
     <property>velocities/q-aero-rad_sec</property>
     <property>aero/function/kCLge</property>
     <property>aero/ci2vel</property>
       <table>
        <independentVar>aero/alpha-rad</independentVar>
        <tableData>
         -0.1750   8.7127
         -0.0870  25.7114
          0.0000  28.9000
          0.0870  31.3973
          0.1750  31.0872
          0.2620  30.4071
          0.3490  26.9735
          0.4360  26.4242
          0.5240  25.8647
          0.6110  25.2654
          0.6980  30.5158
          0.7850  25.8165
        </tableData>
       </table>
    </product>
   </function>
   <function name="aero/coefficient/CLq_Dsb">
    <description>Lift_due_to_pitch_rate_and_speedbrake_deflection</description>
    <product>
     <property>aero/qbar-psf</property>
     <property>metrics/Sw-sqft</property>
     <property>velocities/q-aero-rad_sec</property>
     <property>aero/ci2vel</property>
     <property>fcs/speedbrake-pos-rad</property>
       <table>
        <independentVar>aero/alpha-rad</independentVar>
        <tableData>
         -0.1750 -0.2560
         -0.0870 -0.0620
          0.0000 -0.0100
          0.0870  0.0200
          0.1750 -0.0110
          0.2620  0.0530
          0.3490  0.0630
          0.4360 -0.0090
          0.5240  0.0340
          0.6110  0.0420
          0.6980  0.0050
          0.7850  0.0010
        </tableData>
       </table>
    </product>
   </function>
  </axis>

  <axis name="ROLL">
   <function name="aero/coefficient/Clb">
    <description>Roll_moment_due_to_beta</description>
    <product>
     <property>aero/qbar-psf</property>
     <property>metrics/Sw-sqft</property>
     <property>metrics/bw-ft</property>
       <table>
        <independentVar lookup="row">aero/alpha-rad</independentVar>
        <independentVar lookup="column">aero/beta-rad</independentVar>
        <tableData>
                 -0.5240 -0.4360 -0.3490 -0.2620 -0.1750 -0.0870  0.0000  0.0870  0.1750  0.2620  0.3490  0.4360  0.5240
         -0.1750 -0.0090 -0.0070 -0.0000  0.0010  0.0030  0.0010  0.0000 -0.0010 -0.0030 -0.0010  0.0000  0.0070  0.0090
         -0.0870  0.0110  0.0100  0.0100  0.0100  0.0090  0.0040  0.0000 -0.0040 -0.0090 -0.0100 -0.0100 -0.0100 -0.0110
          0.0000  0.0230  0.0230  0.0220  0.0200  0.0170  0.0080  0.0000 -0.0080 -0.0170 -0.0200 -0.0220 -0.0230 -0.0230
          0.0870  0.0370  0.0340  0.0340  0.0300  0.0240  0.0120  0.0000 -0.0120 -0.0240 -0.0300 -0.0340 -0.0340 -0.0370
          0.1750  0.0500  0.0490  0.0470  0.0390  0.0300  0.0160  0.0000 -0.0160 -0.0300 -0.0390 -0.0470 -0.0490 -0.0500
          0.2620  0.0680  0.0630  0.0600  0.0540  0.0410  0.0220  0.0000 -0.0220 -0.0410 -0.0540 -0.0600 -0.0630 -0.0680
          0.3490  0.0890  0.0810  0.0690  0.0570  0.0450  0.0220  0.0000 -0.0220 -0.0450 -0.0570 -0.0690 -0.0810 -0.0890
          0.4360  0.0880  0.0790  0.0670  0.0540  0.0400  0.0210  0.0000 -0.0210 -0.0400 -0.0540 -0.0670 -0.0790 -0.0880
          0.5240  0.0910  0.0600  0.0330  0.0230  0.0160  0.0150  0.0000 -0.0150 -0.0160 -0.0230 -0.0330 -0.0600 -0.0910
          0.6110  0.0760  0.0580  0.0360  0.0060  0.0020  0.0080  0.0000 -0.0080 -0.0020 -0.0060 -0.0360 -0.0580 -0.0760
          0.6980  0.0770  0.0620  0.0350  0.0140  0.0100  0.0130  0.0000 -0.0130 -0.0100 -0.0140 -0.0350 -0.0620 -0.0770
          0.7850  0.0760  0.0590  0.0350  0.0270  0.0190  0.0150  0.0000 -0.0150 -0.0190 -0.0270 -0.0350 -0.0590 -0.0760
        </tableData>
       </table>
    </product>
   </function>
   <function name="aero/coefficient/Clb_M">
    <description>Change_in_Roll_moment_due_to_beta_due_to_mach</description>
    <product>
     <property>aero/qbar-psf</property>
     <property>metrics/Sw-sqft</property>
     <property>metrics/bw-ft</property>
     <property>aero/beta-rad</property>
       <table>
        <independentVar>velocities/mach</independentVar>
        <tableData>
         0.6000  0.0000
         0.8000  0.1891
         1.0000  0.1776
         1.2000  0.1375
         1.4000  0.1203
         1.6000  0.0859
        </tableData>
       </table>
    </product>
   </function>
   <function name="aero/coefficient/Clp">
    <description>Roll_moment_due_to_roll_rate_(roll_damping)</description>
    <product>
     <property>aero/qbar-psf</property>
     <property>metrics/Sw-sqft</property>
     <property>metrics/bw-ft</property>
     <property>aero/bi2vel</property>
     <property>velocities/p-aero-rad_sec</property>
       <table>
        <independentVar>aero/alpha-rad</independentVar>
        <tableData>
         -0.1750  -0.3600
         -0.0870  -0.3590
         0.0000  -0.4430
         0.0870  -0.4200
         0.1750  -0.3830
         0.2620  -0.3750
         0.3490  -0.3290
         0.4360  -0.2940
         0.5240  -0.2300
         0.6110  -0.2100
         0.6980  -0.1200
         0.7850  -0.1000
        </tableData>
       </table>
    </product>
   </function>
   <function name="aero/coefficient/Clr">
    <description>Roll_moment_due_to_yaw_rate</description>
    <product>
     <property>aero/qbar-psf</property>
     <property>metrics/Sw-sqft</property>
     <property>metrics/bw-ft</property>
     <property>aero/bi2vel</property>
     <property>velocities/r-aero-rad_sec</property>
       <table>
        <independentVar>aero/alpha-rad</independentVar>
        <tableData>
         -0.1750  -0.1260
         -0.0870  -0.0260
         0.0000  0.0630
         0.0870  0.1130
         0.1750  0.2080
         0.2620  0.2300
         0.3490  0.3190
         0.4360  0.4370
         0.5240  0.6800
         0.6110  0.1000
         0.6980  0.4470
         0.7850  -0.3300
        </tableData>
       </table>
    </product>
   </function>
   <function name="aero/coefficient/Clda">
    <description>Roll_moment_due_to_aileron</description>
    <product>
     <property>aero/qbar-psf</property>
     <property>metrics/Sw-sqft</property>
     <property>metrics/bw-ft</property>
     <property>fcs/aileron-pos-rad</property>
       <table>
        <independentVar lookup="row">aero/alpha-rad</independentVar>
        <independentVar lookup="column">aero/beta-rad</independentVar>
        <tableData>
           -0.5240 -0.3490 -0.1750  0.0000  0.1750  0.3490  0.5240
         -0.1750  0.0410  0.0410  0.0420  0.0400  0.0430  0.0440  0.0430
         -0.0870  0.0520  0.0530  0.0530  0.0520  0.0490  0.0480  0.0490
         0.0000   0.0530  0.0530  0.0520  0.0510  0.0480  0.0480  0.0470
         0.0870   0.0560  0.0530  0.0510  0.0520  0.0490  0.0470  0.0450
         0.1750   0.0500  0.0500  0.0490  0.0480  0.0430  0.0420  0.0420
         0.2620   0.0560  0.0510  0.0490  0.0480  0.0420  0.0410  0.0370
         0.3490   0.0820  0.0660  0.0430  0.0420  0.0420  0.0200  0.0030
         0.4360   0.0590  0.0430  0.0350  0.0370  0.0360  0.0280  0.0130
         0.5240   0.0420  0.0380  0.0260  0.0310  0.0250  0.0130  0.0100
         0.6110   0.0380  0.0270  0.0160  0.0260  0.0210  0.0140  0.0030
         0.6980   0.0270  0.0230  0.0180  0.0170  0.0160  0.0110  0.0070
         0.7850   0.0170  0.0160  0.0140  0.0120  0.0110 -0.0100  0.0080
        </tableData>
       </table>
    </product>
   </function>
   <function name="aero/coefficient/Clda_M">
    <description>Change_in_Roll_moment_due_to_aileron_due_to_mach</description>
    <product>
     <property>aero/qbar-psf</property>
     <property>metrics/Sw-sqft</property>
     <property>metrics/bw-ft</property>
     <property>aero/alpha-rad</property>
     <property>fcs/aileron-pos-rad</property>
       <table>
        <independentVar>velocities/mach</independentVar>
        <tableData>
         0.6000  0.0000
         1.2000  -0.0630
         1.6000  -0.0630
        </tableData>
       </table>
    </product>
   </function>
   <function name="aero/coefficient/Cldr_M">
    <description>Change_in_Roll_moment_due_to_rudder_due_to_mach</description>
    <product>
     <property>aero/qbar-psf</property>
     <property>metrics/Sw-sqft</property>
     <property>metrics/bw-ft</property>
     <property>aero/alpha-rad</property>
     <property>fcs/rudder-pos-rad</property>
       <table>
        <independentVar>velocities/mach</independentVar>
        <tableData>
         0.6000  0.0000
         1.6000  -0.0201
        </tableData>
       </table>
    </product>
   </function>
   <function name="aero/coefficient/Cldr">
    <description>Roll_moment_due_to_rudder</description>
    <product>
     <property>aero/qbar-psf</property>
     <property>metrics/Sw-sqft</property>
     <property>metrics/bw-ft</property>
     <property>fcs/rudder-pos-rad</property>
       <table>
        <independentVar lookup="row">aero/alpha-rad</independentVar>
        <independentVar lookup="column">aero/beta-rad</independentVar>
        <tableData>
        -0.5240  -0.3490  -0.1750  0.0000  0.1750  0.3490  0.5240
         -0.1750  0.0050  0.0070  0.0130  0.0180  0.0150  0.0210  0.0230
         -0.0870  0.0170  0.0160  0.0130  0.0150  0.0140  0.0110  0.0100
         0.0000  0.0140  0.0140  0.0110  0.0150  0.0130  0.0100  0.0110
         0.0870  0.0100  0.0140  0.0120  0.0140  0.0130  0.0110  0.0110
         0.1750  -0.0050  0.0130  0.0110  0.0140  0.0120  0.0100  0.0110
         0.2620  0.0090  0.0090  0.0090  0.0140  0.0110  0.0090  0.0100
         0.3490  0.0190  0.0120  0.0080  0.0140  0.0110  0.0080  0.0080
         0.4360  0.0050  0.0050  0.0050  0.0150  0.0100  0.0100  0.0100
         0.5240  0.0000  0.0000  0.0000  0.0130  0.0080  0.0060  0.0060
         0.6110  -0.0050  0.0040  0.0050  0.0110  0.0080  0.0050  0.0140
         0.6980  -0.0110  0.0090  0.0030  0.0060  0.0070  0.0000  0.0200
         0.7850  0.0080  0.0070  0.0050  0.0010  0.0030  0.0010  0.0000
        </tableData>
       </table>
    </product>
   </function>
  </axis>

  <axis name="PITCH">
   <function name="aero/coefficient/CmDh">
    <description>Pitch_moment_due_to_horizontal_tail_deflection</description>
    <product>
     <property>aero/qbar-psf</property>
     <property>metrics/Sw-sqft</property>
     <property>metrics/cbarw-ft</property>
       <table>
        <independentVar lookup="row">aero/alpha-rad</independentVar>
        <independentVar lookup="column">fcs/elevator-pos-rad</independentVar>
        <tableData>
                 -0.4360 -0.2180  0.0000  0.2180  0.4360
         -0.1750  0.2050  0.0810 -0.0460 -0.1740 -0.2590
         -0.0870  0.1680  0.0770 -0.0200 -0.1450 -0.2020
          0.0000  0.1860  0.1070 -0.0090 -0.1210 -0.1840
          0.0870  0.1960  0.1100 -0.0050 -0.1270 -0.1930
          0.1750  0.2130  0.1100 -0.0060 -0.1290 -0.1990
          0.2620  0.2510  0.1410  0.0100 -0.1020 -0.1500
          0.3490  0.2450  0.1270  0.0060 -0.0970 -0.1600
          0.4360  0.2380  0.1190 -0.0010 -0.1130 -0.1670
          0.5240  0.2520  0.1330  0.0140 -0.0870 -0.1040
          0.6110  0.2310  0.1080  0.0000 -0.0840 -0.0760
          0.6980  0.1980  0.0810 -0.0130 -0.0690 -0.0410
          0.7850  0.1920  0.0930  0.0320 -0.0060 -0.0050
        </tableData>
       </table>
    </product>
   </function>
   <function name="aero/coefficient/Cma_M">
    <description>Change_in_Pitch_moment_due_to_alpha_due_to_mach</description>
    <product>
     <property>aero/qbar-psf</property>
     <property>metrics/Sw-sqft</property>
     <property>metrics/cbarw-ft</property>
     <property>aero/alpha-rad</property>
       <table>
        <independentVar>velocities/mach</independentVar>
        <tableData>
          0.6000  0.0000
          0.8000  0.0974
          0.9000 -0.3323
          1.0000 -0.9626
          1.1000 -0.8480
          1.2000 -0.7907
        </tableData>
       </table>
    </product>
   </function>
   <function name="aero/coefficient/CmDsb">
    <description>Change_in_Pitch_moment_due_to_speedbrake</description>
    <product>
     <property>aero/qbar-psf</property>
     <property>metrics/Sw-sqft</property>
     <property>metrics/cbarw-ft</property>
     <property>fcs/speedbrake-pos-rad</property>
       <table>
        <independentVar>aero/alpha-rad</independentVar>
        <tableData>
          -0.1750 -0.0036
          -0.0870 -0.0036
           0.0000 -0.0036
           0.0870  0.0303
           0.1750  0.0225
           0.2620  0.0128
           0.3490  0.0252
           0.4360  0.0275
           0.5240 -0.0171
           0.6110 -0.0448
           0.6980 -0.0737
           0.7850 -0.0884
        </tableData>
       </table>
    </product>
   </function>
   <function name="aero/coefficient/Cmq">
    <description>Pitch_moment_due_to_pitch_rate</description>
    <product>
     <property>aero/qbar-psf</property>
     <property>metrics/Sw-sqft</property>
     <property>metrics/cbarw-ft</property>
     <property>aero/ci2vel</property>
     <property>velocities/q-aero-rad_sec</property>
       <table>
        <independentVar>aero/alpha-rad</independentVar>
        <tableData>
         -0.1750 -7.2100
         -0.0870 -5.4000
          0.0000 -5.2300
          0.0870 -5.2600
          0.1750 -6.1100
          0.2620 -6.6400
          0.3490 -5.6900
          0.4360 -6.0000
          0.5240 -6.2000
          0.6110 -6.4000
          0.6980 -6.6000
          0.7850 -6.0000
        </tableData>
       </table>
    </product>
   </function>
  </axis>

  <axis name="YAW">
   <function name="aero/coefficient/Cnb">
    <description>Yaw_moment_due_to_beta</description>
    <product>
     <property>aero/qbar-psf</property>
     <property>metrics/Sw-sqft</property>
     <property>metrics/bw-ft</property>
       <table>
        <independentVar lookup="row">aero/alpha-rad</independentVar>
        <independentVar lookup="column">aero/beta-rad</independentVar>
        <tableData>
                 -0.5240 -0.4360 -0.3490 -0.2620 -0.1750 -0.0870  0.0000  0.0870  0.1750  0.2620  0.3490  0.4360  0.5240
         -0.1750 -0.0790 -0.0740 -0.0640 -0.0560 -0.0380 -0.0180  0.0000  0.0180  0.0380  0.0560  0.0640  0.0740  0.0790
         -0.0870 -0.0900 -0.0860 -0.0770 -0.0570 -0.0420 -0.0190  0.0000  0.0190  0.0420  0.0570  0.0770  0.0860  0.0900
          0.0000 -0.1060 -0.0930 -0.0760 -0.0590 -0.0420 -0.0180  0.0000  0.0180  0.0420  0.0590  0.0760  0.0930  0.1060
          0.0870 -0.1060 -0.0890 -0.0740 -0.0580 -0.0420 -0.0190  0.0000  0.0190  0.0420  0.0580  0.0740  0.0890  0.1060
          0.1750 -0.0960 -0.0800 -0.0730 -0.0580 -0.0430 -0.0190  0.0000  0.0190  0.0430  0.0580  0.0730  0.0800  0.0960
          0.2620 -0.0800 -0.0620 -0.0570 -0.0530 -0.0390 -0.0180  0.0000  0.0180  0.0390  0.0530  0.0570  0.0620  0.0800
          0.3490 -0.0680 -0.0490 -0.0290 -0.0320 -0.0300 -0.0130  0.0000  0.0130  0.0300  0.0320  0.0290  0.0490  0.0680
          0.4360 -0.0300 -0.0220 -0.0070 -0.0120 -0.0170 -0.0070  0.0000  0.0070  0.0170  0.0120  0.0070  0.0220  0.0300
          0.5240 -0.0640 -0.0280 -0.0120 -0.0020 -0.0040 -0.0040  0.0000  0.0040  0.0040  0.0020  0.0120  0.0280  0.0640
          0.6110 -0.0150  0.0120  0.0340  0.0460  0.0350  0.0140  0.0000 -0.0140 -0.0350 -0.0460 -0.0340 -0.0120  0.0150
          0.6980 -0.0110  0.0020  0.0650  0.0710  0.0470  0.0170  0.0000 -0.0170 -0.0470 -0.0710 -0.0650 -0.0020  0.0110
          0.7850  0.0010  0.0130  0.0410  0.0730  0.0570  0.0330  0.0000 -0.0330 -0.0570 -0.0730 -0.0410 -0.0130 -0.0010
        </tableData>
       </table>
    </product>
   </function>
   <function name="aero/coefficient/Cnb_M">
    <description>Change_in_Yaw_moment_due_to_beta_due_to_mach</description>
    <product>
     <property>aero/qbar-psf</property>
     <property>metrics/Sw-sqft</property>
     <property>metrics/bw-ft</property>
     <property>aero/beta-rad</property>
       <table>
        <independentVar>velocities/mach</independentVar>
        <tableData>
          0.6000  0.0000
          0.7000 -0.0688
          0.8000 -0.0172
          0.9000  0.0229
          1.0000  0.0000
          1.2000 -0.0688
          1.4000  0.0057
          1.6000  0.0688
        </tableData>
       </table>
    </product>
   </function>
   <function name="aero/coefficient/Cnp">
    <description>Yaw_moment_due_to_roll_rate</description>
    <product>
     <property>aero/qbar-psf</property>
     <property>metrics/Sw-sqft</property>
     <property>metrics/bw-ft</property>
     <property>aero/bi2vel</property>
     <property>velocities/p-aero-rad_sec</property>
       <table>
        <independentVar>aero/alpha-rad</independentVar>
        <tableData>
         -0.1750 -0.0610
         -0.0870 -0.0520
          0.0000 -0.0520
          0.0870  0.0120
          0.1750  0.0130
          0.2620  0.0240
          0.3490 -0.0500
          0.4360 -0.1500
          0.5240 -0.1300
          0.6110 -0.1580
          0.6980 -0.2400
          0.7850 -0.1500
        </tableData>
       </table>
    </product>
   </function>
   <function name="aero/coefficient/Cnr">
    <description>Yaw_moment_due_to_yaw_rate</description>
    <product>
     <property>aero/qbar-psf</property>
     <property>metrics/Sw-sqft</property>
     <property>metrics/bw-ft</property>
     <property>aero/bi2vel</property>
     <property>velocities/r-aero-rad_sec</property>
       <table>
        <independentVar>aero/alpha-rad</independentVar>
        <tableData>
         -0.1750 -0.3800
         -0.0870 -0.3630
          0.0000 -0.3780
          0.0870 -0.3860
          0.1750 -0.3700
          0.2620 -0.4530
          0.3490 -0.5500
          0.4360 -0.5820
          0.5240 -0.5950
          0.6110 -0.6370
          0.6980 -1.0200
          0.7850 -0.8400
        </tableData>
       </table>
    </product>
   </function>
   <function name="aero/coefficient/Cnda_M">
    <description>Change_in_Yaw_moment_due_to_aileron_due_to_mach</description>
    <product>
     <property>aero/qbar-psf</property>
     <property>metrics/Sw-sqft</property>
     <property>metrics/bw-ft</property>
     <property>fcs/aileron-pos-rad</property>
       <table>
        <independentVar>velocities/mach</independentVar>
        <tableData>
          0.6000  0.0000
          0.8000  0.0149
          1.0000 -0.0011
          1.2000  0.0097
          1.4000  0.0126
          1.6000 -0.0040
        </tableData>
       </table>
    </product>
   </function>
   <function name="aero/coefficient/Cnda">
    <description>Yaw_moment_due_to_aileron</description>
    <product>
     <property>aero/qbar-psf</property>
     <property>metrics/Sw-sqft</property>
     <property>metrics/bw-ft</property>
     <property>fcs/aileron-pos-rad</property>
       <table>
        <independentVar lookup="row">aero/alpha-rad</independentVar>
        <independentVar lookup="column">aero/beta-rad</independentVar>
        <tableData>
                 -0.5240 -0.3490 -0.1750  0.0000  0.1750  0.3490  0.5240
         -0.1750  0.0010  0.0020  0.0060  0.0110  0.0150  0.0240 -0.0220
         -0.0870  0.0270  0.0140  0.0080  0.0110  0.0150  0.0100 -0.0020
          0.0000  0.0170  0.0160  0.0060  0.0100  0.0140  0.0040  0.0030
          0.0870  0.0130  0.0160  0.0060  0.0090  0.0120  0.0020  0.0050
          0.1750  0.0120  0.0140  0.0050  0.0080  0.0110  0.0010  0.0030
          0.2620  0.0160  0.0190  0.0080  0.0060  0.0080 -0.0030  0.0010
          0.3490 -0.0010  0.0210  0.0050 -0.0000  0.0020 -0.0140  0.0090
          0.4360 -0.0170 -0.0020 -0.0070 -0.0040 -0.0020 -0.0060  0.0090
          0.5240 -0.0110 -0.0120 -0.0040 -0.0070 -0.0060  0.0010  0.0010
          0.6110 -0.0170 -0.0160 -0.0070 -0.0100 -0.0120 -0.0040 -0.0030
          0.6980 -0.0080 -0.0150 -0.0060 -0.0040 -0.0110 -0.0040  0.0020
          0.7850 -0.0160 -0.0110 -0.0060 -0.0100 -0.0110 -0.0060 -0.0010
        </tableData>
       </table>
    </product>
   </function>
   <function name="aero/coefficient/Cndr">
    <description>Yaw_moment_due_to_rudder</description>
    <product>
     <property>aero/qbar-psf</property>
     <property>metrics/Sw-sqft</property>
     <property>metrics/bw-ft</property>
     <property>fcs/rudder-pos-rad</property>
       <table>
        <independentVar lookup="row">aero/alpha-rad</independentVar>
        <independentVar lookup="column">aero/beta-rad</independentVar>
        <tableData>
                 -0.5240 -0.3490 -0.1750  0.0000  0.1750  0.3490  0.5240
         -0.1750 -0.0180 -0.0280 -0.0370 -0.0480 -0.0430 -0.0520 -0.0620
         -0.0870 -0.0520 -0.0510 -0.0410 -0.0450 -0.0440 -0.0340 -0.0340
          0.0000 -0.0520 -0.0430 -0.0380 -0.0450 -0.0410 -0.0360 -0.0270
          0.0870 -0.0520 -0.0460 -0.0400 -0.0450 -0.0410 -0.0360 -0.0280
          0.1750 -0.0540 -0.0450 -0.0400 -0.0440 -0.0400 -0.0350 -0.0270
          0.2620 -0.0490 -0.0490 -0.0380 -0.0450 -0.0380 -0.0280 -0.0270
          0.3490 -0.0590 -0.0570 -0.0370 -0.0470 -0.0340 -0.0240 -0.0230
          0.4360 -0.0510 -0.0520 -0.0300 -0.0480 -0.0350 -0.0230 -0.0230
          0.5240 -0.0300 -0.0300 -0.0270 -0.0490 -0.0350 -0.0200 -0.0190
          0.6110 -0.0370 -0.0330 -0.0240 -0.0450 -0.0290 -0.0160 -0.0090
          0.6980 -0.0260 -0.0300 -0.0190 -0.0330 -0.0220 -0.0100 -0.0250
          0.7850 -0.0130 -0.0080 -0.0130 -0.0160 -0.0090 -0.0140 -0.0100
        </tableData>
       </table>
    </product>
   </function>
   <function name="aero/coefficient/Cndr_M">
    <description>Change_in_Yaw_moment_due_to_rudder_due_to_mach</description>
    <product>
     <property>aero/qbar-psf</property>
     <property>metrics/Sw-sqft</property>
     <property>metrics/bw-ft</property>
     <property>aero/alpha-rad</property>
     <property>fcs/rudder-pos-rad</property>
       <table>
        <independentVar>velocities/mach</independentVar>
        <tableData>
          0.6000  0.0000
          1.2000  0.0401
          1.6000  0.0716
        </tableData>
       </table>
    </product>
   </function>
  </axis>
 </aerodynamics>
<!--
  <output name="f16_datalog.csv" type="CSV" rate="1">
 <property> aero/qbar-psf </property>
 <property> attitude/phi-rad </property>
 <property> position/h-sl-ft </property>
 <property> velocities/vc-kts </property>
 <property> fcs/throttle-cmd-norm </property>
 <property> fcs/elevator-cmd-norm </property>
 <property> fcs/pitch-trim-cmd-norm </property>
 <property> propulsion/total-fuel-lbs </property>
 <property> flight-path/gamma-rad </property>
 <property> accelerations/n-pilot-z-norm </property>
 <rates> ON </rates>
 <velocities> ON </velocities>
 <forces> ON </forces>
 <moments> ON </moments>
 <position> ON </position>
 <fcs> ON </fcs>
 <propulsion> OFF </propulsion>
 <aerosurfaces> ON </aerosurfaces>
 <fcs> ON </fcs>
 <ground_reactions> ON </ground_reactions>
  </output>
-->
</fdm_config>

<?xml version="1.0"?>
<initialize name="reset00">
  <!--
    This file sets up the aircraft to start off
    from the runway in preparation for takeoff.
  -->
  <ubody unit="FT/SEC">    0.0  </ubody>
  <vbody unit="FT/SEC">    0.0  </vbody>
  <wbody unit="FT/SEC">    0.0  </wbody>
  <latitude unit="DEG">   47.0  </latitude>
  <longitude unit="DEG"> 122.0  </longitude>
  <phi unit="DEG">         0.0  </phi>
  <theta unit="DEG">       0.0  </theta>
  <psi unit="DEG">       180.0  </psi>
  <altitude unit="FT">     5.5  </altitude>
</initialize>
// This file instructs the automatic synchronization utilities where to
// install this aircraft and under what name.
//
// The syntax is easy;
// * the package name at the beginning of a new line followed by a colon
// * a space as a column separator
// * the path and filename relative to the aircraft install directory
//
// Currently known package names are: FlightGear

FlightGear:

   (C) 2001,2002 Erik Hofman

   This configuration file is Freeware; you can redistribute it
   and/or modify it under the terms of the GNU General Public
   License version 2, as published by the Free Software Foundation.

   This file is distributed in the hope that it will be useful, but
   WITHOUT ANY WARRANTY; without even the implied warranty of
   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
   General Public License for more details.



F-22 aerodynamic numbers as presented in the scaleless aerodymanic charts
provided by Lockheed-Martin. These are numbers in millimemters.

ALPHA    ClB     ClB     ClDr    ClDh    CnB    CnB     CnDr    CnDr    CnDh    Cm,-Dh  Cma,-Dh Cma     Cma,Dh  Cm,Dh
         (LEF)           (-30)   (+10)   (LEF)          (LEF)           (+30)   (+10)   (-TV)                   (+TV)
-10                     -10.40   -7.10                   12.10    1.11   -3.10
 -5      20.15    0.00   -9.40   -7.10    7.30    0.00   18.80    0.89   -1.60   14.70    6.20   -1.05   -9.45  -16.30
  0      18.80    0.00   -7.90   -7.10    7.45    0.00   19.30    0.72   -0.65   15.65    6.70    0.00   -9.10  -16.10
  5      12.75   -0.80   -5.80   -7.10    8.30   -0.40   20.65    0.44    0.00   16.06    7.50    0.55   -9.20  -16.40
 10       5.35    1.40   -3.05   -7.10   11.95   -1.85   22.70    0.11    0.50   16.10    7.10    0.30   -9.60  -16.80
 15       5.20   -2.50   -0.90   -8.55   13.00    1.00   18.90    0.00    1.50   16.80    7.65    1.05   -8.25  -15.50
 20       2.95   11.35    1.10   -6.90   11.80   -5.75   14.65    0.00    4.25   16.25    7.35    0.85   -5.25  -12.30
 25       9.00    8.20   -0.55   -3.25    9.60  -19.80   11.40    6.79    5.75   17.50    7.95    1.60   -3.15   -9.95
 30      18.30    0.00   -2.50   -3.25   15.00   -8.65    9.50    2.56    7.50   18.35    8.85    2.65   -1.05   -7.95
 35       4.75    0.00   -2.50   -1.40    7.00   -2.10    7.50    0.00    8.80   17.75    8.55    2.55   -1.02   -7.65
 40                      -2.30    0.00                    6.10    0.00    7.15   17.02    7.35    1.95   -1.25   -7.20
 45                      -1.25    1.90                    3.70    0.00    5.70   16.55    6.90    1.75   -1.20   -6.80
 50                      -0.40    2.70                    0.00    0.00    4.50   14.70    6.60    2.50   -0.70   -6.90
 60                       0.00    3.95                    0.00    0.00    3.95    8.90    0.40   -2.15   -3.80  -10.90
 70                       0.00    4.90                    0.00    0.00    3.05    0.50   -6.25   -8.70   -9.90  -16.75
 80                       0.00    6.10                    0.00    0.00    1.80

MAX       20.15   20.15   10.4    10.4    15      15      22.7    22.7    22.7    18.35   18.35   18.35   18.35   18.35


F-22 aerodynamic factors derived from the measured values above, devided by the
maximum value. These are important numbers because they will represent an
approximation of the real numbers when multiplied by the right factor.

alpha   KlB     KlB     KlDr    KlDh    KnB,LEF KnB     KnDr    KnDr    KnDh    Km(-Dh) Kma,-Dh Kma     Kma,Dh  Km,Dh
        (LEF)                   (-30)   (+10)           (LEF)           (+30)   (+10)   (-TV)                   (+TV)
-0.1745                 -1.0000 -0.6827                  0.5330  0.5820 -0.1366
-0.0873  1.0000  1.0000 -0.9038 -0.6827  0.4867  0.4867  0.8282  0.8674 -0.0705  0.8011  0.3379 -0.0572 -0.5150 -0.8883
 0.0000  0.9330  0.9330 -0.7596 -0.6827  0.4967  0.4967  0.8502  0.8821 -0.0286  0.8529  0.3651  0.0000 -0.4959 -0.8774
 0.0873  0.6328  0.5931 -0.5577 -0.6827  0.5533  0.5267  0.9097  0.9293  0.0000  0.8752  0.4087  0.0300 -0.5014 -0.8937
 0.1745  0.2655  0.3350 -0.2933 -0.6827  0.7967  0.6733  1.0000  1.0049  0.0220  0.8774  0.3869  0.0163 -0.5232 -0.9155
 0.2618  0.2581  0.1340 -0.0865 -0.8221  0.8667  0.9333  0.8326  0.8326  0.0661  0.9155  0.4169  0.0572 -0.4496 -0.8447
 0.3491  0.1464  0.7097  0.1058 -0.6635  0.7867  0.4033  0.6454  0.6454  0.1872  0.8856  0.4005  0.0463 -0.2861 -0.6703
 0.4363  0.4467  0.8536 -0.0529 -0.3125  0.6400 -0.6800  0.5022  0.8011  0.2533  0.9537  0.4332  0.0872 -0.1717 -0.5422
 0.5236  0.9082  0.9082 -0.2404 -0.3125  1.0000  0.4233  0.4185  0.5312  0.3304  1.0000  0.4823  0.1444 -0.0572 -0.4332
 0.6109  0.2357  0.2357 -0.2404 -0.1346  0.4667  0.3267  0.3304  0.3304  0.3877  0.9673  0.4659  0.1390 -0.0556 -0.4169
 0.6981                 -0.2212  0.0000                  0.2687  0.2687  0.3150  0.9275  0.4005  0.1063 -0.0681 -0.3924
 0.7854                 -0.1202  0.1827                  0.1630  0.1630  0.2511  0.9019  0.3760  0.0954 -0.0654 -0.3706
 0.8727                 -0.0385  0.2596                  0.0000  0.0000  0.1982  0.8011  0.3597  0.1362 -0.0381 -0.3760
 1.0472                  0.0000  0.3798                  0.0000  0.0000  0.1740  0.4850  0.0218 -0.1172 -0.2071 -0.5940
 1.2217                  0.0000  0.4712                  0.0000  0.0000  0.1344  0.0272 -0.3406 -0.4741 -0.5395 -0.9128
 1.3963                  0.0000  0.5865                  0.0000  0.0000  0.0793                                 



F-22 aerodynamic coefficients after being corrected by the estimated 
multiplication factor. These values are useable to reconstruct the flight
characteristics of the aircraft.

alpha    ClB     ClB     ClDr    ClBdh   CnB     CnB     CnDr    CnDr    CnBdh  CmDh    CmDh    CmDh    CmDh    CmDh
         (LEF)                          (LEF)           (LEF)                 (-25,-20) (-25,0) (0,0)   (+30,0) (+30,20)
-0.1745                  0.0078 -0.0010                 -0.0082 -0.0087  0.2905                        
-0.0873  0.0189  0.0189  0.0070 -0.0010 -0.0016 -0.0016 -0.0128 -0.0129  0.1499  0.7639  0.3222 -0.0546 -0.4911 -0.8470
0.0000   0.0176  0.0176  0.0059 -0.0010 -0.0016 -0.0016 -0.0131 -0.0131  0.0609  0.8132  0.3482  0.0000 -0.4729 -0.8366
0.0873   0.0119  0.0112  0.0043 -0.0010 -0.0018 -0.0017 -0.0140 -0.0138  0.0000  0.8345  0.3897  0.0286 -0.4781 -0.8522
0.1745   0.0050  0.0063  0.0023 -0.0010 -0.0026 -0.0022 -0.0154 -0.0149 -0.0469  0.8366  0.3689  0.0156 -0.4988 -0.8730
0.2618   0.0049  0.0025  0.0007 -0.0013 -0.0028 -0.0031 -0.0128 -0.0124 -0.1406  0.8730  0.3975  0.0546 -0.4287 -0.8054
0.3491   0.0028  0.0134 -0.0008 -0.0010 -0.0026 -0.0013 -0.0100 -0.0096 -0.3983  0.8444  0.3819  0.0442 -0.2728 -0.6392
0.4363   0.0084  0.0161  0.0004 -0.0005 -0.0021  0.0022 -0.0077 -0.0119 -0.5388  0.9094  0.4131  0.0831 -0.1637 -0.5170
0.5236   0.0171  0.0171  0.0019 -0.0005 -0.0033 -0.0014 -0.0065 -0.0079 -0.7028  0.9535  0.4599  0.1377 -0.0546 -0.4131
0.6109   0.0044  0.0044  0.0019 -0.0002 -0.0015 -0.0011 -0.0051 -0.0049 -0.8247  0.9224  0.4443  0.1325 -0.0530 -0.3975
0.6981                   0.0017  0.0000                 -0.0041 -0.0040 -0.6700  0.8844  0.3819  0.1013 -0.0650 -0.3741
0.7854                   0.0009  0.0003                 -0.0025 -0.0024 -0.5342  0.8600  0.3585  0.0909 -0.0624 -0.3534
0.8727                   0.0003  0.0004                  0.0000  0.0000 -0.4217  0.7639  0.3430  0.1299 -0.0364 -0.3585
1.0472                   0.0000  0.0006                  0.0000  0.0000 -0.3702  0.4625  0.0208 -0.1117 -0.1975 -0.5664
1.2217                   0.0000  0.0007                  0.0000  0.0000 -0.2858  0.0260  0.3248 -0.4521 -0.5144 -0.8704
1.3963                   0.0000  0.0009                  0.0000  0.0000 -0.1687

<?xml version="1.0"?>
<?xml-stylesheet type="text/xsl" href="http://jsbsim.sourceforge.net/JSBSim.xsl"?>
<fdm_config name="General Dynamics F-22A" version="2.0" release="PRODUCTION"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:noNamespaceSchemaLocation="http://jsbsim.sourceforge.net/JSBSim.xsd">

    <fileheader>
        <author>Brian Mills </author>
        <filecreationdate>2009-05-24</filecreationdate>
        <version>$Revision: 1.38 $</version>
        <description>Models an F-22A Raptor</description>
        <license>
            <licenseName>GPL (General Public License)</licenseName>
            <licenseURL>http://www.gnu.org/licenses/gpl.html</licenseURL>
        </license>
        <note>
            This model was created using data that is, or has been, publically
            available by means of technical reports, textbooks, image graphs or
            published code. This aircraft description file is in no way related
            to the manufacturer of the real aircraft.
            Neither the name of (any of) the authors nor the names of (any of) the
            manufacturers may be used to endorse or promote products derived from
            this file.
    
            The data is provided ''as is'' and any express or implied
            warranties, including, but not limitted to the implied warranties of
            merchantability and fitness for a particular purpose are disclaimed.
        </note>
    </fileheader>
    
    <metrics>
        <wingarea unit="FT2"> 840.0 </wingarea>
        <wingspan unit="FT"> 44.49 </wingspan>
        <chord unit="FT"> 23.06 </chord>
        <htailarea unit="FT2"> 238.9 </htailarea>
        <htailarm unit="FT"> 18.66 </htailarm>
        <vtailarea unit="FT2"> 158.2 </vtailarea>
        <vtailarm unit="FT"> 0 </vtailarm>
        <location name="AERORP" unit="IN">
            <x> 417.6 </x>
            <y> 0 </y>
            <z> 0 </z>
        </location>
        <location name="EYEPOINT" unit="IN">
            <x> 148.8 </x>
            <y> 0 </y>
            <z> 38 </z>
        </location>
        <location name="VRP" unit="IN">
            <x> 100 </x>
            <y> 0 </y>
            <z> 0 </z>
        </location>
    </metrics>

    <mass_balance negated_crossproduct_inertia="true">
        <ixx unit="SLUG*FT2"> 56005 </ixx>
        <iyy unit="SLUG*FT2"> 280766 </iyy>
        <izz unit="SLUG*FT2"> 354090 </izz>
        <ixz unit="SLUG*FT2"> 713 </ixz>
        <emptywt unit="LBS"> 43430 </emptywt>
        <location name="CG" unit="IN">
            <x> 445.7 </x>
            <y> 0 </y>
            <z> -18.6 </z>
        </location>
        <pointmass name="Pilot">
            <weight unit="LBS"> 230 </weight>
            <location name="POINTMASS" unit="IN">
                <x> 148.8 </x>
                <y> 0 </y>
                <z> 20 </z>
            </location>
        </pointmass>
    </mass_balance>
    
    <ground_reactions>
        <contact type="BOGEY" name="NOSE_LG">
            <location unit="IN">
                <x> 96.7 </x>
                <y> 0 </y>
                <z> -89.3 </z>
            </location>
            <static_friction> 0.8 </static_friction>
            <dynamic_friction> 0.5 </dynamic_friction>
            <rolling_friction> 0.02 </rolling_friction>
            <spring_coeff unit="LBS/FT"> 18603.4 </spring_coeff>
            <damping_coeff unit="LBS/FT/SEC"> 6201.1 </damping_coeff>
            <max_steer unit="DEG"> 80 </max_steer>
            <brake_group> NONE </brake_group>
            <retractable>1</retractable>
        </contact>
        <contact type="BOGEY" name="LEFT_MLG">
            <location unit="IN">
                <x> 468.8 </x>
                <y> -48 </y>
                <z> -89.3 </z>
            </location>
            <static_friction> 0.8 </static_friction>
            <dynamic_friction> 0.5 </dynamic_friction>
            <rolling_friction> 0.02 </rolling_friction>
            <spring_coeff unit="LBS/FT"> 82011.2 </spring_coeff>
            <damping_coeff unit="LBS/FT/SEC"> 22402.2 </damping_coeff>
            <max_steer unit="DEG"> 0.0 </max_steer>
            <brake_group> LEFT </brake_group>
            <retractable>1</retractable>
        </contact>
        <contact type="BOGEY" name="RIGHT_MLG">
            <location unit="IN">
                <x> 468.8 </x>
                <y> 48 </y>
                <z> -89.3 </z>
            </location>
            <static_friction> 0.8 </static_friction>
            <dynamic_friction> 0.5 </dynamic_friction>
            <rolling_friction> 0.02 </rolling_friction>
            <spring_coeff unit="LBS/FT"> 82011.2 </spring_coeff>
            <damping_coeff unit="LBS/FT/SEC"> 22402.2 </damping_coeff>
            <max_steer unit="DEG"> 0.0 </max_steer>
            <brake_group> RIGHT </brake_group>
            <retractable>1</retractable>
        </contact>
    </ground_reactions>

    <propulsion>
        <engine file="F119-PW-1">
            <feed>0</feed>
            <feed>1</feed>
            <thruster file="direct">
                <location unit="IN">
                    <x> 684.131 </x>
                    <y>-20 </y>
                    <z> 0 </z>
                </location>
                <orient unit="DEG">
                    <roll> 0.0 </roll>
                    <pitch> 0.0 </pitch>
                    <yaw> 0.0 </yaw>
                </orient>
            </thruster>
        </engine>
        <engine file="F119-PW-1">
            <feed>0</feed>
            <feed>1</feed>
            <thruster file="direct">
                <location unit="IN">
                    <x> 684.131 </x>
                    <y> 20 </y>
                    <z> 0 </z>
                </location>
                <orient unit="DEG">
                    <roll> 0.0 </roll>
                    <pitch> 0.0 </pitch>
                    <yaw> 0.0 </yaw>
                </orient>
            </thruster>
        </engine>
        <tank type="FUEL">
            <location unit="IN">
                <x> 446.478 </x>
                <y> -36 </y>
                <z> -18.6033 </z>
            </location>
            <capacity unit="LBS"> 9350 </capacity>
            <contents unit="LBS"> 9350 </contents>
        </tank>
        <tank type="FUEL">
            <location unit="IN">
                <x> 446.478 </x>
                <y> 36 </y>
                <z> -18.6033 </z>
            </location>
            <capacity unit="LBS"> 9350 </capacity>
            <contents unit="LBS"> 9350 </contents>
        </tank>
    </propulsion>

    <flight_control name="F-22 FC">

        <!-- Declare some interface properties -->
<!--        <property>fcs/alpha-norm</property>
        <property>fcs/tvc-pos-norm</property>
        <property>fcs/tvc-pos-rad</property>
        <property>fcs/thrust-norm</property>        
        <property>fcs/lef-pos-rad</property>
        <property>fcs/lef-pos-norm</property>
        <property>fcs/throttle-override</property>
        <property>fcs/speedbrake-aileron</property>
        <property>fcs/speedbrake-aileron-right</property>
        <property>fcs/speedbrake-rudder</property>
        <property>fcs/speedbrake-flap</property>
        <property>fcs/yaw-rate-integrator</property>
        <property>fcs/pitch-rate-integrator</property>
        <property>fcs/tvc-inhibit</property> -->

        <channel name="Lateral">

            <!-- Normalize the u-velocity to m/s-->
            <pure_gain name="fcs/u-velocity-norm">
                <input>velocities/u-fps</input>
                <gain>0.3048</gain>
            </pure_gain>

            <summer name="fcs/aileron-cmd-limiter">
                <input>fcs/aileron-cmd-norm</input>
                <input>fcs/roll-trim-cmd-norm</input>
                <clipto>
                    <min>-1</min>
                    <max>1</max>
                </clipto>
            </summer>
            
            <!-- Stick filter -->
            <lag_filter name="fcs/roll-cmd-filter">
                <input>fcs/aileron-cmd-limiter</input>
                <c1>10</c1>
                </lag_filter>

            <!-- Limit roll rate command in radians based on altitude, mach and AoA-->
            <fcs_function name="fcs/roll-cmd-limit">
                <function>
                    <table>
                        <independentVar lookup="column">velocities/mach</independentVar>
                        <independentVar lookup="row">aero/alpha-deg</independentVar>
                        <independentVar lookup="table">position/h-sl-ft</independentVar>
                        <tableData breakPoint="0">
                                   0      0.2    0.4    0.6    0.8    1.0    1.2    1.4    1.6
                            -90    0.6    0.6    0.6    0.6    0.6    0.6    0.6    0.6    0.6
                            -25    0.6    0.6    0.6    0.6    0.6    0.6    0.6    0.6    0.6
                            -20    0.6    0.85   1      1      1      1      1      1      1
                            -15    0.6    0.85   1.5    1.5    1.5    1.5    1.5    1.5    1.5
                            -10    0.6    1      2.5    3.14   3.14   3.14   3.14   2.617  2.1
                              0    0.6    1.5    2.5    3.66   4      4      3.14   2.617  2.1
                             10    0.6    1      2.5    3.14   3.14   3.14   3.14   2.617  2.1
                             15    0.6    0.85   2.5    2.617  2.617  2.617  2.617  2.617  2.1
                             20    0.6    0.85   2.1    2.1    2.1    2.1    2.1    2.1    2.1
                             25    0.6    0.85   1.5    1.5    1.5    1.5    1.5    1.5    1.5
                             30    0.6    0.85   1.3    1.3    1.3    1.3    1.3    1.3    1.3
                             35    0.6    0.85   1      1      1      1      1      1      1
                             40    0.4    0.4    0.4    0.4    0.4    0.4    0.4    0.4    0.4
                             45    0.4    0.4    0.4    0.4    0.4    0.4    0.4    0.4    0.4
                            180    0.4    0.4    0.4    0.4    0.4    0.4    0.4    0.4    0.4
                        </tableData>
                        <tableData breakPoint="30000">
                                   0      0.2    0.4    0.6    0.8    1.0    1.2    1.4    1.6    
                            -90    0.6    0.6    0.6    0.6    0.6    0.6    0.6    0.6    0.6
                            -25    0.6    0.6    0.6    0.6    0.6    0.6    0.6    0.6    0.6
                            -20    0.6    0.85   1      1      1      1      1      1      1
                            -15    0.6    0.85   1.5    1.5    1.5    1.5    1.5    1.5    1.5
                            -10    0.6    0.85   2.5    3.14   3.14   3.14   3.14   2.617  2.1
                              0    0.6    0.85   2.5    3.66   4      4      3.14   2.617  2.1
                             10    0.6    0.85   2.5    3.14   3.14   3.14   3.14   2.617  2.1
                             15    0.6    0.85   2.5    2.617  2.617  2.617  2.617  2.617  2.1    
                             20    0.6    0.85   2.1    2.1    2.1    2.1    2.1    2.1    2.1
                             25    0.6    0.85   1.5    1.5    1.5    1.5    1.5    1.5    1.5
                             30    0.6    0.85   1.3    1.3    1.3    1.3    1.3    1.3    1.3
                             35    0.6    0.85   1      1      1      1      1      1      1
                             40    0.4    0.4    0.4    0.4    0.4    0.4    0.4    0.4    0.4
                             45    0.4    0.4    0.4    0.4    0.4    0.4    0.4    0.4    0.4
                            180    0.4    0.4    0.4    0.4    0.4    0.4    0.4    0.4    0.4
                        </tableData>
                        <tableData breakPoint="70000">
                                   0      0.2    0.4    0.6    0.8    1.0    1.2    1.4    1.6    
                            -90    0.6    0.6    0.6    0.6    0.6    0.6    0.6    0.6    0.6
                            -25    0.6    0.6    0.6    0.6    0.6    0.6    0.6    0.6    0.6
                            -20    0.6    0.85   1      1      1      1      1      1      1
                            -15    0.6    0.85   1      1.25   1.5    1.5    1.5    1.5    1.5
                            -10    0.6    0.85   1.5    1.5    2      2.25   2.25   2.25   2
                              0    0.6    0.85   1.5    2      2.5    2.5    2.75   2.75   2.5
                             10    0.6    0.85   1.5    1.5    2      2.25   2.25   2.25   2
                             15    0.6    0.85   1.5    2      2      2      2      2      2    
                             20    0.6    0.85   1      1.25   1.5    2      2      2      2
                             25    0.6    0.85   1      1.25   1.5    1.5    1.5    1.5    1.5
                             30    0.6    0.85   1      1      1.3    1.3    1.3    1.3    1.3
                             35    0.6    0.85   1      1      1      1      1      1      1
                             40    0.4    0.4    0.4    0.4    0.4    0.4    0.4    0.4    0.4
                             45    0.4    0.4    0.4    0.4    0.4    0.4    0.4    0.4    0.4
                            180    0.4    0.4    0.4    0.4    0.4    0.4    0.4    0.4    0.4
                        </tableData>
                    </table>
                </function>
            </fcs_function>

            <!-- Calculate the normalized commanded roll rate absolutely limited to +230 deg/s -230 deg/s--> 
            <pure_gain name="fcs/roll-rate-cmd">
                <input>fcs/roll-cmd-filter</input>
                <gain>fcs/roll-cmd-limit</gain>
                  <clipto>
                    <min>-4</min>
                    <max>4</max>
                </clipto>
            </pure_gain>

            <deadband name="fcs/roll-windup-trigger">
                <input>fcs/roll-rate-integrator</input>
                <width>8</width>
                <clipto>
                    <min>-4</min>
                    <max>4</max>
                </clipto>
            </deadband>            

            <summer name="fcs/roll-rate-error">
                <input>fcs/roll-rate-cmd</input>
                <input>-velocities/p-aero-rad_sec</input>
                <input>-fcs/roll-windup-trigger</input>
            </summer>

            <integrator name="fcs/roll-rate-integrator">
                <!--trigger>fcs/aileron-int-trigger</trigger-->
                <input>fcs/roll-rate-error</input>
                <c1> 1 </c1>
                <clipto>
                    <min>-4</min>
                    <max>4</max>
                </clipto>    
            </integrator>

            <!-- Normalize the v-velocity to m/s-->
            <pure_gain name="fcs/v-velocity-norm">
                <input>velocities/v-fps</input>
                <gain>0.3048</gain>
            </pure_gain>

            <pure_gain name="fcs/rudder-cmd-limiter">
                <input>fcs/rudder-cmd-norm</input>
                <gain> 1.0 </gain>
                <clipto>
                    <min>-1</min>
                    <max>1</max>
                </clipto>
            </pure_gain>

            <!-- Rudder pedal filter -->
            <lag_filter name="fcs/rudder-cmd-filter">
                <input>fcs/rudder-cmd-limiter</input>
                <c1>10</c1>
            </lag_filter>

            <!-- Limit yaw rate command in radians based on mach and altitude -->
            <fcs_function name="fcs/yaw-rate-limit">
                <function>
                    <table>
                        <independentVar lookup="row">velocities/mach</independentVar>
                        <independentVar lookup="column">position/h-sl-ft</independentVar>
                        <tableData>
                                  0      36000
                            0    -0.436     -0.436    
                            0.4  -0.349     -0.349
                            0.8  -0.1745    -0.1745
                            1.0  -0.1       -0.1
                            2.0  -0.1       -0.1
                        </tableData>
                    </table>
                </function>
            </fcs_function>

            <pure_gain name="fcs/yaw-rate-cmd">
                <input>fcs/rudder-cmd-filter</input>
                <gain>fcs/yaw-rate-limit</gain>
            </pure_gain>

            <!-- washout filter to fullfill handling qualities-->
            <washout_filter name="fcs/yaw-rate-filter">
                <input>velocities/r-aero-rad_sec</input>
                <c1> 1.2 </c1>
            </washout_filter>

            <deadband name="fcs/yaw-windup-trigger">
                <input>fcs/yaw-rate-integrator</input>
                <width>0.872</width>
                <clipto>
                    <min>-0.436</min>
                    <max>0.436</max>
                </clipto>
            </deadband>

            <summer name="fcs/yaw-rate-error">
                <input> -fcs/yaw-rate-filter    </input>
                <input> -fcs/yaw-windup-trigger </input>
                <input>  fcs/yaw-rate-cmd       </input>
            </summer>

            <integrator name="fcs/yaw-rate-integrator">
                <!--trigger>fcs/rudder-int-trigger</trigger-->
                <input>fcs/yaw-rate-error</input>
                <c1> 1 </c1>
                <clipto>
                    <min>-0.436</min>
                    <max>0.436</max>
                </clipto>
                <output>fcs/yaw-rate-integrator</output>
            </integrator>
            
            <!-- if yaw rate exceeds limits based on rate and mach, then apply opposite rudder-->
            <fcs_function name="fcs/yaw-rate-override">
                <function>
                    <table>
                        <independentVar lookup="row">velocities/r-aero-rad_sec</independentVar>
                        <independentVar lookup="column">velocities/mach</independentVar>
                        <tableData>
                                    0    0.4    0.8    1.0    2.0
                            -0.440    0.872 0.7    0.35    0.2    0.2 
                            -0.436    0    0.7    0.35    0.2    0.2 
                            -0.360    0    0.7    0.35    0.2    0.2
                            -0.349    0    0    0.35    0.2    0.2
                            -0.180    0    0    0.35    0.2    0.2
                            -0.1745    0    0    0    0.2    0.2
                            -0.11        0    0    0    0.2    0.2
                            -0.1        0    0    0    0    0
                             0        0    0    0    0    0
                             0.1        0    0    0    0    0
                             0.11        0    0    0    -0.2    -0.2
                             0.1745    0    0    0    -0.2    -0.2
                             0.18        0    0    -0.35    -0.2    -0.2
                             0.349        0    0    -0.35    -0.2    -0.2
                             0.36        0    -0.7    -0.35    -0.2    -0.2
                             0.436        0    -0.7    -0.35    -0.2    -0.2
                             0.440        -0.872 -0.7    -0.35    -0.2    -0.2
                        </tableData>
                    </table>
                </function>
            </fcs_function>

            <summer name="fcs/yaw-cmd-summer">
                <input>fcs/yaw-rate-integrator</input>
                <input>fcs/yaw-rate-override</input>
            </summer>

            <!-- LQR Tracker Integral aileron roll-rate control-->
            <fcs_function name="fcs/roll-cmd">
                <function>
                    <sum>
                        <product>
                            <table>
                                <independentVar lookup="row">velocities/vc-kts</independentVar>
                                <independentVar lookup="column">position/h-sl-ft</independentVar>
                                <tableData>
                                          0     33000     50000
                                     160  0.5       0.35      0.3
                                     270  0.5       0.35      0.3
                                     400  0.45      0.4       0.3
                                     500  0.45      0.4       0.35
                                     580  0.5       0.45      0.35
                                    1000  0.5       0.45      0.4
                                </tableData>
                            </table>
                            <property> fcs/roll-rate-integrator </property>
                            <value> -1 </value>
                            <table>
                                <independentVar lookup="row">velocities/vc-kts</independentVar>
                                <independentVar lookup="column">position/h-sl-ft</independentVar>
                                <tableData>
                                             0      33000      50000
                                    160    -28.4059   -31.1627   -31.1627
                                    270    -30.9146   -32.6575   -32.6575
                                    330    -35.9146   -32.6575   -32.6575
                                    400    -44.4687   -38.7651   -38.7651
                                    580    -44.2746   -36.5662   -36.5662
                                    700    -39.0735   -34.9842   -34.9842
                                </tableData>
                            </table>
                        </product>
                        <product>
                            <property> fcs/v-velocity-norm </property>
                            <value> 0 </value>
                            <table>
                                <independentVar lookup="row">velocities/vc-kts</independentVar>
                                <independentVar lookup="column">position/h-sl-ft</independentVar>
                                <tableData>
                                          0       33000      50000
                                    160  -0.0494     -0.0266    -0.0266
                                    270   0.0067     -0.0160    -0.0160
                                    330   0.0067     -0.0160    -0.0160
                                    400  -0.1082     -0.0108    -0.0108
                                    580  -0.0104     -0.0091    -0.0091
                                    700  -0.0095     -0.0118    -0.0118
                                </tableData>
                            </table>
                        </product>
                        <product>
                            <!--table>
                                <independentVar lookup="row">velocities/vc-kts</independentVar>
                                <independentVar lookup="column">position/h-sl-ft</independentVar>
                                    <tableData>
                                              0   33000    50000
                                        160   1       1.5      2
                                        270   1       1.35     1.75
                                        400   1       1.2      1.5
                                        500   1.0     1.1      1.0
                                        580   1.0     1.0      1.0
                                        1000  1.0     1.0      1.0
                                     </tableData>
                                </table-->
                              <property>velocities/p-aero-rad_sec</property>
                              <value>-.35</value>
                              <table>
                                  <independentVar lookup="row">velocities/vc-kts</independentVar>
                                  <independentVar lookup="column">position/h-sl-ft</independentVar>
                                  <tableData>
                                            0      33000      50000
                                      160  11.7952    13.4573    13.4573
                                      270  11.9041    13.1381    13.1381
                                      330  11.9041    13.1381    13.1381
                                      400  12.0644    10.6808    10.6808
                                      580  11.0366    10.7511    10.7511
                                      700   9.3909    10.8556    10.8556
                                  </tableData>
                              </table>
                        </product>
                      </sum>
                      <!--table>
                          <independentVar lookup="row">velocities/vc-kts</independentVar>
                          <independentVar lookup="column">aero/alpha-rad</independentVar>
                          <tableData>
                                    -1    -0.25    0  0.25 0.5    1    2    3
                                160    1.5    1.25    1 1.25 1.5    2    2.5    3
                                270    1.5    1.25    1 1.25 1.5    2    2.5    3
                                400    1.5    1.25    1 1.25 1.5    2    2.5    3
                                500    1.5    1.15    1 1.15 1.35    2    2.5    3
                                580    1.5    1.15    1 1.15 1.35    2    2.5    3
                                1000    1.5    1.15    1 1.15 1.35    2    2.5    3

                            </tableData>
                        </table-->
                </function>    
                <clipto>
                    <min>-5</min>
                    <max>5</max>
                </clipto>        
            </fcs_function>

            <aerosurface_scale name="fcs/roll-reg-scale">
                <input> fcs/roll-cmd </input>
                <domain>
                    <min> -5 </min>
                    <max> 5 </max>
                </domain>
                <range>
                    <min> -1 </min>
                    <max> 1 </max>
                </range>
            </aerosurface_scale >

            <actuator name="fcs/aileron-act">
                <input> fcs/roll-reg-scale</input>
                <lag> 0.00 </lag>
                <rate_limit> 2.29 </rate_limit>
                <clipto>
                    <min> -1 </min>
                    <max> 1 </max>
                </clipto>
            </actuator>

            <summer name="fcs/left-aileron-out">
                <input>fcs/aileron-act</input>
                <input>fcs/speedbrake-aileron</input>
                <clipto>
                    <min> -1 </min>
                    <max> 1 </max>
                </clipto>
                <output>fcs/left-aileron-pos-norm</output>
            </summer>

            <aerosurface_scale name="fcs/left-aileron-control">
                <input>fcs/aileron-act</input>
                <range>
                    <min>-0.436</min>
                    <max>0.436</max>
                </range>
                <output>fcs/left-aileron-pos-rad</output>
            </aerosurface_scale>

            <pure_gain name="fcs/left-aileron-neg">
                <input>fcs/aileron-act</input>
                <gain>-1</gain>
            </pure_gain>

            <summer name="fcs/right-aileron-out">
                <input>fcs/left-aileron-neg</input>
                <input>fcs/speedbrake-aileron-right</input>
                <clipto>
                    <min> -1 </min>
                    <max> 1 </max>
                </clipto>
                <output>fcs/right-aileron-pos-norm</output>
            </summer>

            <aerosurface_scale name="fcs/right-aileron-control">
                <input>fcs/left-aileron-neg</input>
                <range>
                    <min>-0.436</min>
                    <max>0.436</max>
                </range>
                <output>fcs/right-aileron-pos-rad</output>
            </aerosurface_scale>

            <!-- LQR Tracker Integral rudder yaw-rate control-->
            <fcs_function name="fcs/yaw-cmd">
                <function>
                    <product>
                        <sum>                    
                            <product>
                                <property>fcs/yaw-cmd-summer</property>
                                <value>-0.2</value>
                                <table>
                                    <independentVar lookup="row">velocities/vc-kts</independentVar>
                                    <independentVar lookup="column">position/h-sl-ft</independentVar>
                                    <tableData>
                                              0      33000     50000
                                        160  22.1027    22.1741   22.1741
                                        270  22.1775    15.7518   15.7518
                                        400  14.0894    14.0894   14.0894
                                        580  12.8629    12.8629   12.8629
                                        700  14.8347    12.8631   12.8631
                                    </tableData>
                                </table>
                            </product>
                            <product>
                                <property>fcs/yaw-rate-filter</property>
                                <value>-0.2</value>
                                <table>
                                    <independentVar lookup="row">velocities/vc-kts</independentVar>
                                    <independentVar lookup="column">position/h-sl-ft</independentVar>
                                    <tableData>
                                               0      33000      50000
                                        160  -21.4844   -29.9948   -29.9948
                                        270  -19.5573   -17.5259   -17.5259
                                        400  -13.6930   -13.6930   -13.6930
                                        580   -9.6423    -9.6423    -9.6423
                                        700   -7.7903    -6.1197    -6.1197
                                    </tableData>
                                </table>
                            </product>
                        </sum>
                        <table>
                            <independentVar lookup="row">velocities/vc-kts</independentVar>
                            <independentVar lookup="column">position/h-sl-ft</independentVar>
                            <tableData>
                                     0   33000   50000
                                160  1       1.2     1.2
                                270  1       1.1     1.1
                                400  0.5     0.55    0.6
                                580  0.3     0.35    0.4
                                700  0.2     0.25    0.3
                            </tableData>
                        </table>
                        <table>
                            <independentVar lookup="row">aero/alpha-deg</independentVar>
                            <independentVar lookup="column">position/h-sl-ft</independentVar>
                            <tableData>
                                     0    33000    50000
                                -60  3        3.5      4
                                -40  2        2.5      3
                                -20  1.5      1.75     2
                                  0  0.7      0.8      0.9
                                 20  1.75     2        2.5
                                 40  2.5      3        3.5
                                 60  3        3.5      4
                                 80  3.5      4        5
                            </tableData>
                        </table>
                    </product>
                </function>
                <clipto>
                    <min>-5</min>
                    <max>5</max>
                </clipto>    
            </fcs_function>

            <aerosurface_scale name="fcs/yaw-reg-scale">
                <input> fcs/yaw-cmd </input>
                <domain>
                    <min> -5 </min>
                    <max> 5 </max>
                </domain>
                <range>
                    <min> -1 </min>
                    <max> 1 </max>
                </range>
            </aerosurface_scale >
        
            <actuator name="fcs/rudder-act">
                <input> fcs/yaw-reg-scale</input>
                <lag> 0 </lag>
                <rate_limit> 2.673 </rate_limit>
                
                <clipto>
                    
                    <min> -1 </min>
                    <max> 1 </max>
                </clipto>
            </actuator>

            <summer name="fcs/rudder-pos-out">
                <input>fcs/rudder-act</input>
                <input>fcs/speedbrake-rudder</input>
                <clipto>
                    <min> -1 </min>
                    <max> 1 </max>
                </clipto>
                <output>fcs/rudder-pos-norm</output>
            </summer>
            
            <aerosurface_scale name="fcs/rudder-position">
                <input>fcs/rudder-act</input>
                <range>
                    <min>-0.5236</min>
                    <max>0.5236</max>
                </range>
                <output>fcs/rudder-pos-rad</output>
            </aerosurface_scale>
        </channel>

        <channel name="Pitch">
            
            <!--
              - accelerations/n-pilot-z-norm has the disadvantage that it
              - has an offset of 1G when positioned horizontal (and -1G
              - when upside down). To calculate the difference between the
              - commanded pitch-rate and actual pitch-rate this offset has
              - to be eliminated. The following function calculates an offset
              - to compensate for the earth's gravity.
              -->
            <fcs_function name="fcs/n-pilot-z-correction">
                <function>
                    <product>
                        <cos>
                            <property>attitude/pitch-rad</property>
                        </cos>
                        <cos>
                            <property>attitude/roll-rad</property>
                        </cos>
                    </product>
                </function>
            </fcs_function>

            <summer name="fcs/g-load-corrected">
                <input>accelerations/n-pilot-z-norm</input>
                <input>-fcs/n-pilot-z-correction</input>
            </summer>

            <pure_gain name="fcs/g-load-norm">
                <input>fcs/g-load-corrected</input>
                <gain>-1.0</gain>
            </pure_gain>

            <!-- Pilot stick filter -->
            <lag_filter name="fcs/stick-filter">
                <input>fcs/elevator-cmd-norm</input>
                <c1>10</c1>
            </lag_filter>

            <!-- Do not allow TVC to operate when gear is down! -->
            <switch name="fcs/tvc-inhibit">
                <default value="1"/>
                <test logic="AND" value="0">
                    gear/gear-pos-norm gt 0
                </test>
                <output>fcs/tvc-inhibit</output>
            </switch>

            <summer name="fcs/elevator-cmd-limiter">
                <input>fcs/stick-filter</input>
                <input>fcs/pitch-trim-cmd-norm</input>
                <clipto>
                    <min>-1</min>
                    <max>0.6</max>
                </clipto>
            </summer>
            
            <!-- Limit pitch rate command based on altitude and mach.  Max of +50/-30 deg/sec command -->
            <fcs_function name="fcs/pitch-cmd-limiter">
                <function>
                    <table>
                        <independentVar lookup="row">velocities/mach</independentVar>
                        <independentVar lookup="column">position/h-sl-ft</independentVar>
                        <tableData>
                                   0      30000      60000
                            0      0.7        0.5236     0.349
                            0.2    0.8727     0.5236     0.349
                            0.4    0.8727     0.5236     0.349
                            0.6    0.8727     0.7        0.349
                            0.8    0.8727     0.7        0.349    
                            1.0    0.7845     0.7        0.4363
                            1.2    0.611      0.611      0.4363
                            1.4    0.611      0.5236     0.349
                            1.6    0.5236     0.4363     0.349
                            1.8    0.4363     0.4363     0.349
                            2.0    0.349      0.349      0.349
                        </tableData>
                    </table>
                </function>
            </fcs_function>

            <pure_gain name="fcs/pitch-rate-cmd">
                <input>fcs/elevator-cmd-limiter</input>
                <gain>-fcs/pitch-cmd-limiter</gain>
            </pure_gain>
            
            <!-- G-limiter based on mach.  +9.5/-3.5 G limit. --> 
            <fcs_function name="fcs/pitch-cmd-g-limiter">
                <function>
                    <table>
                        <independentVar lookup="column">velocities/mach</independentVar>
                        <independentVar lookup="row">fcs/g-load-norm</independentVar>
                        <tableData>
                                    0     0.4   0.8   1.0   1.2   1.4   1.6   1.8   2.0    
                            -3.75   0     0     0     0     0     0     0     0     0
                            -3.5    1     1     1     1     0     0     0     0     0
                            -3.25   1     1     1     1     1     1     0     0     0
                            -3.0    1     1     1     1     1     1     1     1     1
                             0      1     1     1     1     1     1     1     1     1
                             7      1     1     1     1     1     1     1     1     1
                             7.25   1     1     1     1     1    -0.1  -0.1  -0.1  -0.1    
                             7.5    1     1     1     1     1    -0.1  -0.1  -0.1  -0.1
                             7.75   1     1     1     1    -0.1  -0.1  -0.1  -0.1  -0.1
                             8.0    1     1     1     1    -0.1  -0.1  -0.1  -0.1  -0.1
                             8.25   1     1     1     1    -0.1  -0.1  -0.1  -0.1  -0.1
                             8.5    1     1     1     1    -0.1  -0.1  -0.1  -0.1  -0.1
                             8.75   1     1     1     1    -0.1  -0.1  -0.1  -0.1  -0.1
                             9.0    1     1     1     1    -0.1  -0.1  -0.1  -0.1  -0.1
                             9.25   1     1     1     1    -0.1  -0.1  -0.1  -0.1  -0.1
                             9.5    1     1     1     1    -0.1  -0.1  -0.1  -0.1  -0.1
                             9.75  -0.1  -0.1  -0.1  -0.1  -0.1  -0.1   0     0     0
                             10.0  -1    -1    -1    -1    -1    -1    -1    -1    -1    
                        </tableData>
                    </table>
                </function>
            </fcs_function>
    
            <pure_gain name="fcs/g-limiter">
                <input>fcs/pitch-rate-cmd</input>
                <gain>fcs/pitch-cmd-g-limiter</gain>
                <clipto>
                    <min>-0.5236</min>
                    <max>0.8727</max>
                </clipto>
            </pure_gain>
        
            <!--    Limit pitch rate command when gear is down--> 
            <switch name="fcs/gear-down-q-limit">
                <default value="1"/>
                <test logic="AND" value=".3">
                    gear/gear-pos-norm gt 0
                </test>
            </switch>

            <pure_gain name="fcs/q-gear-down-limiter">
                <input>fcs/g-limiter</input>
                <gain>fcs/gear-down-q-limit</gain>
                <clipto>
                    <min>-0.5236</min>
                    <max>0.8727</max>
                </clipto>
            </pure_gain>

            <deadband name="fcs/pitch-windup-trigger">
                <input>fcs/pitch-rate-integrator</input>
                <width>1.4</width>
                <clipto>
                    <min>-0.5236</min>
                    <max>0.8727</max>
                </clipto>
            </deadband>    

            <summer name="fcs/pitch-rate-error">
                <input>fcs/q-gear-down-limiter</input>
                <input>-velocities/q-aero-rad_sec</input>
                <input>-fcs/pitch-windup-trigger</input>
            </summer>

            <integrator name="fcs/pitch-rate-integrator">
                <!--trigger>fcs/pitch-int-trigger</trigger-->
                <input>fcs/pitch-rate-error</input>
                <c1> 1 </c1>
                <clipto>
                    <min>-0.5236</min>
                    <max>0.8727</max>
                </clipto>
                <output>fcs/pitch-rate-integrator</output>
            </integrator>

            <summer name="fcs/pitch-cmd-summer">
                <input>fcs/pitch-rate-integrator</input>
                <!--input>fcs/pitch-rate-override</input-->
            </summer>

            <!-- Normalize the w-velocity to m/s -->
            <pure_gain name="fcs/w-velocity-norm">
                <input>velocities/w-fps</input>
                <gain>0.3048</gain>
            </pure_gain>

            <!-- LQR Tracker Integral elevator pitch rate controller-->
            <fcs_function name="fcs/el-pitch-cmd">
                <function>       
                    <sum>
                        <product>
                            <table>
                                <independentVar lookup="row">velocities/vc-kts</independentVar>
                                <independentVar lookup="column">aero/alpha-deg</independentVar>
                                <tableData>
                                          19  25  35
                                     90    1   1   1
                                    180    1   1   1
                                    200    1   1   1
                                    215    1   1   1
                                    230    1   1   1
                                    380    1   1   1
                                    500    1   1   1
                                    900    1   1   1
                                </tableData>
                            </table>

                            <property>fcs/pitch-cmd-summer</property>
                            <value>-0.5</value>
                            <table>
                                <independentVar lookup="row">velocities/vc-kts</independentVar>
                                <independentVar lookup="column">aero/alpha-deg</independentVar>
                                <tableData>
                                         19       25       35
                                    90   38.8840  25.9906  25.9906
                                    180  38.8840  25.9906  25.9906
                                    200  38.8840  25.9906  25.9906
                                    215  58.8840  25.9906  25.9906
                                    230  81.9605  58.8840  25.9906
                                    380  63.4645  56.8517  34.4889
                                    500  61.1371  58.5955  33.0386
                                    900  48.8597  42.1147  42.1147
                                </tableData>
                            </table>
                        </product>
                        <product>
                            <property>fcs/w-velocity-norm</property>
                            <value>0</value>
                            <table>
                                <independentVar lookup="row">velocities/vc-kts</independentVar>
                                <independentVar lookup="column">aero/alpha-deg</independentVar>
                                <tableData>
                                         19       25       35
                                     90  -0.0231  -0.0119  -0.0119
                                    180  -0.0231  -0.0119  -0.0119
                                    200  -0.0231  -0.0119  -0.0119
                                    215  -0.0231  -0.0119  -0.0119
                                    230  -0.0406  -0.0231  -0.0119
                                    380  -0.0244  -0.0195  -0.0159
                                    500  -0.0115  -0.0085  -0.0061
                                    900  -0.0045  -0.0029  -0.0029
                                </tableData>
                            </table>
                        </product>
                        <product>
                            <table>
                                <independentVar lookup="row">velocities/vc-kts</independentVar>
                                <independentVar lookup="column">aero/alpha-deg</independentVar>
                                <tableData>
                                         19  25  35
                                     90   1   1   1
                                    180   1   1   1
                                    200   1   1   1
                                    215   1   1   1
                                    230   1   1   1
                                    380   1   1   1
                                    500   1   1   1
                                    900   1   1   1
                                </tableData>
                            </table>
                            <property>velocities/q-aero-rad_sec</property>
                            <value>-0.3</value>
                            <table>
                                <independentVar lookup="row">velocities/vc-kts</independentVar>
                                <independentVar lookup="column">aero/alpha-deg</independentVar>
                                <tableData>
                                          19        25        35
                                     90  -34.0297  -19.6316  -19.6316
                                    180  -34.0297  -19.6316  -19.6316
                                    200  -34.0297  -19.6316  -19.6316
                                    215  -44.0297  -19.6316  -19.6316
                                    230  -62.1151  -44.0297  -19.6316
                                    380  -47.3350  -42.1836  -26.0436
                                    500  -45.4195  -43.0593  -24.6616
                                    900  -35.7627  -30.5733  -30.5733
                                </tableData>
                            </table>
                        </product>
                    </sum>
                </function>
                <clipto>
                    <min>-5</min>
                    <max>5</max>
                </clipto>
            </fcs_function>

            <aerosurface_scale name="fcs/el-reg-scale">
                <input> fcs/el-pitch-cmd </input>
                <domain>
                    <min> -5 </min>
                    <max> 5 </max>
                </domain>
                <range>
                    <min> -1 </min>
                    <max> 1 </max>
                </range>
            </aerosurface_scale >

            <actuator name="fcs/elevator-act">
                <input> fcs/el-reg-scale</input>
                <lag> 0.0 </lag>
                <rate_limit> 2 </rate_limit>
                <clipto>
                    <min> -1 </min>
                    <max> 1 </max>
                </clipto>
                <output>fcs/elevator-pos-norm</output>
            </actuator>

            <aerosurface_scale name="fcs/elevator-position">
                <input>fcs/elevator-pos-norm</input>
                <range>
                    <min>-0.5236</min>
                    <max>0.5236</max>
                </range>
                <output>fcs/elevator-pos-rad</output>
            </aerosurface_scale>

            <summer name="fcs/dht-left-pos-rad">
                <input>-fcs/elevator-pos-rad</input>
                <input>-fcs/left-aileron-pos-rad</input>
                <clipto>
                    <min>-0.5236</min>
                    <max>0.5236</max>
                </clipto>
            </summer>

            <summer name="fcs/dht-right-pos-rad">
                <input>fcs/elevator-pos-rad</input>
                <input>fcs/right-aileron-pos-rad</input>
                <clipto>
                    <min>-0.5236</min>
                    <max>0.5236</max>
                </clipto>
            </summer>

            <!-- Reduce TVC gains if AB is on-->
            <switch name="fcs/tvc-gain-select">
                <default value="1"/>
                <test logic="AND" value="0.6">
                    fcs/throttle-pos-norm ge 0.99
                </test>
            </switch>

            <!-- LQR Tracker Integral TVC pitch rate controller-->
            <fcs_function name="fcs/tvc-pitch-cmd">
                <!-- description>thrust vector control lqr regulator</description -->
                <function>
                    <product>
                        <sum>
                            <product>
                                <table>
                                    <independentVar lookup="row">velocities/vc-kts</independentVar>
                                    <independentVar lookup="column">aero/alpha-deg</independentVar>
                                    <tableData>
                                             12    20    30    60
                                         70   0.4   0.4   0.3   0.3
                                        140   0.4   0.4   0.3   0.3
                                        200   0.4   0.45  0.35  0.3
                                        215   0.4   0.45  0.35  0.3
                                        230   0.4   0.45  0.35  0.3
                                        330   0.4   0.45  0.35  0.3
                                        380   0.4   0.4   0.4   0.4
                                        500   0.4   0.4   0.4   0.4
                                        900   0.4   0.4   0.4   0.4
                                    </tableData>
                                </table>
                                <property>fcs/pitch-cmd-summer</property>
                                <value>-1</value>
                                <table>
                                    <independentVar lookup="row">velocities/vc-kts</independentVar>
                                    <independentVar lookup="column">aero/alpha-deg</independentVar>
                                    <independentVar lookup="table">position/h-sl-ft</independentVar>
                                    <tableData breakPoint="-1000">
                                             12       20       30
                                         70  97.6705  95.6705  95.6705
                                        140  97.6705  95.6705  95.6705
                                        200  97.6705  95.6705  95.6705
                                        215  67.9777  95.6705  95.6705
                                        230   0       67.9777  95.6705
                                        330   0        0        0
                                        380   0        0        0
                                        500   0        0        0
                                        900   0        0        0
                                    </tableData>
                                    <tableData breakPoint="30000">
                                             12       20       30
                                        70   97.6705  95.6705  95.6705
                                        140  97.6705  95.6705  95.6705
                                        200  97.6705  95.6705  95.6705
                                        215  67.9777  95.6705  95.6705
                                        230   0       67.9777  95.6705
                                        330   0       49.6594  70.1697
                                        380   0       34.2680  34.2680
                                        500   0        0        0
                                        900   0        0        0
                                    </tableData>
                                    <tableData breakPoint="70000">
                                             12       20       30
                                         70  97.6705  95.6705  95.6705
                                        140  97.6705  95.6705  95.6705
                                        200  97.6705  95.6705  95.6705
                                        215  67.9777  95.6705  95.6705
                                        230   0       67.9777  95.6705
                                        330   0       56.0773  75.1918
                                        380   0       56.0773  75.1918
                                        500   0       49.6594  70.1697
                                        900   0       34.2680  34.2680
                                    </tableData>
                                </table>
                            </product>
                            <product>
                                <property>fcs/w-velocity-norm</property>
                                <value>-0</value>
                                <table>
                                    <independentVar lookup="row">velocities/vc-kts</independentVar>
                                    <independentVar lookup="column">aero/alpha-deg</independentVar>
                                    <independentVar lookup="table">position/h-sl-ft</independentVar>
                                    <tableData breakPoint="-1000">
                                             12       20       30
                                         70  -0.0444  -0.0444  -0.0444
                                        140  -0.0444  -0.0444  -0.0444
                                        200  -0.0444  -0.0444  -0.0444
                                        215  -0.0271  -0.0444  -0.0444
                                        230   0       -0.0271  -0.0444
                                        330   0        0        0
                                        380   0        0        0
                                        500   0        0        0
                                        900   0        0        0
                                    </tableData>
                                    <tableData breakPoint="30000">
                                             12       20       30
                                         70  -0.0444  -0.0444  -0.0444
                                        140  -0.0444  -0.0444  -0.0444
                                        200  -0.0444  -0.0444  -0.0444
                                        215  -0.0271  -0.0444  -0.0444
                                        230   0       -0.0271  -0.0444
                                        330   0       -0.0073  -0.0130
                                        380   0       -0.0024  -0.0024
                                        500   0        0        0
                                        900   0        0        0
                                    </tableData>
                                    <tableData breakPoint="70000">
                                             12       20       30
                                         70  -0.0444  -0.0444  -0.0444
                                        140  -0.0444  -0.0444  -0.0444
                                        200  -0.0444  -0.0444  -0.0444
                                        215  -0.0271  -0.0444  -0.0444
                                        230   0       -0.0271  -0.0444
                                        330   0       -0.0195  -0.0349
                                        380   0       -0.0195  -0.0349
                                        500   0       -0.0073  -0.0130
                                        900   0       -0.0024  -0.0024
                                    </tableData>
                                </table>
                            </product>
                            <product>
                                <table>
                                    <independentVar lookup="row">velocities/vc-kts</independentVar>
                                    <independentVar lookup="column">aero/alpha-deg</independentVar>
                                    <tableData>
                                             12     20     30
                                         70   0.2    0.2    0.2
                                        140   0.2    0.2    0.2
                                        200   0.2    0.2    0.2
                                        215   0.2    0.2    0.2
                                        230   0.225  0.2    0.2
                                        330   0.225  0.225  0.2
                                        380   0.225  0.225  0.2
                                        500   0.225  0.225  0.2
                                        900   0.225  0.225  0.2
                                    </tableData>
                                </table>
                                <property>velocities/q-aero-rad_sec</property>
                                <value>-1</value>
                                <table>
                                    <independentVar lookup="row">velocities/vc-kts</independentVar>
                                    <independentVar lookup="column">aero/alpha-deg</independentVar>
                                    <independentVar lookup="table">position/h-sl-ft</independentVar>
                                    <tableData breakPoint="-1000">
                                              12        20        30
                                         70  -72.1205  -72.1205  -72.1205
                                        140  -72.1205  -72.1205  -72.1205
                                        200  -72.1205  -72.1205  -72.1205
                                        215  -50.7416  -72.1205  -72.1205
                                        230    0       -50.7416  -72.1205
                                        330    0         0         0
                                        380    0         0         0
                                        500    0         0         0
                                        900    0         0         0
                                    </tableData>
                                    <tableData breakPoint="30000">
                                              12        20        30
                                         70  -72.1205  -72.1205  -72.1205
                                        140  -72.1205  -72.1205  -72.1205
                                        200  -72.1205  -72.1205  -72.1205
                                        215  -50.7416  -72.1205  -72.1205
                                        230    0       -50.7416  -72.1205
                                        330    0       -36.1358  -51.7437
                                        380    0       -24.8715  -24.8715
                                        500    0         0         0
                                        900    0         0         0
                                    </tableData>
                                    <tableData breakPoint="70000">
                                              12        20        30
                                         70  -72.1205  -72.1205  -72.1205
                                        140  -72.1205  -72.1205  -72.1205
                                        200  -72.1205  -72.1205  -72.1205
                                        215  -50.7416  -72.1205  -72.1205
                                        230    0       -50.7416  -72.1205
                                        330    0       -41.5043  -56.5934
                                        380    0       -41.5043  -56.5934
                                        500    0       -36.1358  -51.7437
                                        900    0       -24.8715  -24.8715
                                    </tableData>
                                </table>
                            </product>
                        </sum>
                        <value>1</value>
                    </product>
                </function>
                <clipto>
                    <min>-5</min>
                    <max>5</max>
                </clipto>
            </fcs_function>

            <!-- inhibit the tvc if gear down -->
            <pure_gain name="fcs/tvc-gain">
                <input>fcs/tvc-pitch-cmd</input>
                <gain>fcs/tvc-inhibit</gain>
            </pure_gain>

            <!-- reduce tvc gain for burner on -->
            <pure_gain name="fcs/tvc-gain-hi-lo">
                <input>fcs/tvc-gain</input>
                <gain>1</gain>
            </pure_gain>

            <!--TVC used for trim in high altitude supersonic flight-->
            <!-- Uses TVC to reduce trim setting of elevator for reduced drag-->
            <fcs_function name="fcs/ss-trim">
                <function>
                    <product>
                        <sum>
                            <product>
                                <value>7.0626</value>
                                <property>fcs/pitch-rate-integrator</property>
                            </product>
                            <product>
                                <value>-0.0019</value>
                                <property>fcs/u-velocity-norm</property>
                            </product>
                            <product>
                                <value>0.0083</value>
                                <property>fcs/w-velocity-norm</property>
                            </product>
                            <product>
                                <value>-5.1005</value>
                                <property>velocities/q-aero-rad_sec</property>
                            </product>
                        </sum>
                        <table>
                            <independentVar lookup="row">velocities/mach</independentVar>
                            <independentVar lookup="column">position/h-sl-ft</independentVar>
                            <tableData>
                                      45000  50000
                                0.92      0      0
                                0.95      0      1.5    
                                1.00      0      2.5
                                1.10      0      3.5
                                1.15      0      4
                                1.20      0      2.5
                                1.25      0      2
                                1.30      0      1.5
                                1.35      0      1.5
                                1.40      0      1
                                1.45      0      0.9
                                1.50      0      0.75
                                1.55      0      0.7
                                1.60      0      0.65
                                1.7       0      0.6
                                1.8       0      0.6    
                                1.9       0      0.6
                                2.0       0      0.6
                            </tableData>
                        </table>
                    </product>
                </function>
                <clipto>
                    <min>-0.7</min>
                    <max>0.05</max>
                </clipto>
            </fcs_function>

            <!-- In situations where TVC control is not called for, disable TVC SS Trim if manuevering-->
            <fcs_function name="fcs/ss-trim-override">
                <function>
                    <table>
                        <independentVar lookup="row">velocities/q-aero-rad_sec</independentVar>
                        <tableData>
                            -0.15  0
                            -0.1   1
                             0.0   1
                             0.1   1
                             0.15  0
                        </tableData>
                    </table>
                </function>
            </fcs_function>
            
            <!-- inhibit the ss trim if manuevering-->
            <pure_gain name="fcs/ss-trim-gain">
                <input>fcs/ss-trim</input>
                <gain>fcs/ss-trim-override</gain>
            </pure_gain>

            <summer name="fcs/tvc-summer">
                <input>fcs/tvc-gain-hi-lo</input>
                <input>fcs/ss-trim-gain</input>
            </summer>

            <aerosurface_scale name="fcs/tvc-reg-scale">
                <input> fcs/tvc-summer</input>
                <domain>
                    <min> -5 </min>
                    <max> 5 </max>
                </domain>
                <range>
                    <min> -1 </min>
                    <max> 1 </max>
                </range>
            </aerosurface_scale >

            <actuator name="fcs/tvc-act">
                <input> fcs/tvc-reg-scale</input>
                <lag> 0.00 </lag>
                <rate_limit> 2 </rate_limit>
                <clipto>
                    <min> -1 </min>
                    <max> 1 </max>
                </clipto>
                <output>fcs/tvc-pos-norm</output>
            </actuator>
        
            <aerosurface_scale name="fcs/tvc-position">
                <input>fcs/tvc-pos-norm</input>
                <range>
                    <min>-0.349</min>
                    <max>0.349</max>
                </range>
                <output>fcs/tvc-pos-rad</output>
            </aerosurface_scale>

        </channel>

        <channel name="Leading Edge Flap">

            <pure_gain name="fcs/lef-alpha-gain">
                <input>aero/alpha-deg</input>
                <gain>1.38</gain>
            </pure_gain>

            <lead_lag_filter name="fcs/lef-alpha-filter">
                <input>fcs/lef-alpha-gain</input>
                <c1> 2 </c1>
                <c2> 7.25 </c2>
                <c3> 1 </c3>
                <c4> 7.25 </c4>
            </lead_lag_filter>

            <fcs_function name="fcs/lef-transfer-function">
                <function>
                    <description>leading edge flap control function</description>
                    <sum>
                        <property> fcs/lef-alpha-filter </property>
                        <product>
                            <quotient>
                                <property>aero/qbar-psf</property>
                                <property>atmosphere/P-psf</property>
                            </quotient>
                            <value>-9.05</value>     
                        </product>
                        <value>1.45</value>
                    </sum>
                </function>
            </fcs_function>
 
            <pure_gain name="fcs/lef-deg-to-rad">
                <input>fcs/lef-transfer-function</input>
                <gain>0.01745</gain>
                <clipto>
                    <min> -0.001 </min>
                    <max> 0.6108 </max>
                </clipto>
            </pure_gain>
        
            <switch name="fcs/lef-pos">
                <default value="0.0"/>
                <test logic="AND" value="0">
                    gear/wow eq 1
                    gear/gear-pos-norm gt 0
                </test>
                <test value="fcs/lef-deg-to-rad">
                    gear/gear-pos-norm == 0       
                </test>
                <test logic="AND" value="0">
                    velocities/mach gt 0.9
                </test>
            </switch>

            <pure_gain name="fcs/lef-norm">
                <input>fcs/lef-pos</input>
                <gain>1.637197</gain>
            </pure_gain>

            <kinematic name="fcs/lef-control">
                <input>fcs/lef-norm</input>
                <traverse>
                    <setting>
                        <position>-1.0</position>
                        <time>0.55</time>
                    </setting>
                    <setting>
                        <position>1.0</position>
                        <time>0.55</time>
                    </setting>
                </traverse>
                <output>fcs/lef-pos-norm</output>
            </kinematic>

            <aerosurface_scale name="fcs/lef-deg">
                <input>fcs/lef-control</input>
                <domain>
                    <min>-1.0</min>
                    <max>1.0</max>
                </domain>
                <range>
                    <min>0</min>
                    <max>35</max>
                </range>
                <output>fcs/lef-pos-deg</output>
            </aerosurface_scale>

            <aerosurface_scale name="fcs/lef-pos-rad">
                <input>fcs/lef-control</input>
                <domain>
                    <min>-1.0</min>
                    <max>1.0</max>
                </domain>
                <range>
                    <min>0</min>
                    <max>0.6108</max>
                </range>
                <output>fcs/lef-pos-rad</output>
            </aerosurface_scale>

        </channel>

        <channel name="Throttle">

            <!--FADEC function to automatically add throttle in post stall conditions for TVC pitch authority-->
            <fcs_function name="fcs/throttle-adjust">
                <function>
                    <table>
                        <independentVar lookup="column">aero/alpha-deg</independentVar>
                        <independentVar lookup="row">velocities/vc-kts</independentVar>
                        <tableData>
                                    0     20     30     40    50
                               0    0.85   0.9    0.98   1     1
                              50    0.8    0.85   0.95   1     1
                              60    0.75   0.65   0.93   1     1
                              70    0.7    0.55   0.9    0.98  1
                              80    0.65   0.5    0.85   0.98  1
                              90    0.6    0.7    0.8    0.95  1
                             100    0.55   0.65   0.75   0.85  1
                             110    0.4    0.5    0.6    0.65  1
                             120    0.2    0.3    0.35   0.35  1
                             130    0.1    0.2    0.25   0.25  0.5
                            1000    0.1    0.1    0.2    0.25  0.5
                        </tableData>
                    </table>
                </function>
            </fcs_function>

            <pure_gain name="fcs/throttle-gain">
                <input>fcs/throttle-adjust</input>
                <gain>fcs/tvc-inhibit</gain>
                <output>fcs/throttle-override</output>        
            </pure_gain>

            <!-- Throttle filter -->
            <lag_filter name="fcs/throttle-filter">
                <input>fcs/throttle-cmd-norm</input>
                <c1>1</c1>
            </lag_filter>

            <summer name="fcs/t1-summer">
                <input>fcs/throttle-filter</input>
                <!--input>fcs/throttle-override</input-->
                <clipto>
                    <min>fcs/throttle-override</min>
                    <max>1</max>
                </clipto>
            </summer>

            <pure_gain name="fcs/throttle1">
                <input>fcs/t1-summer</input>
                <gain>1.001</gain>
                <output>fcs/throttle-pos-norm</output>
            </pure_gain>

            <!-- Throttle filter -->
            <lag_filter name="fcs/throttle1-filter">
                <input>fcs/throttle-cmd-norm[1]</input>
                <c1>1</c1>
            </lag_filter>

            <summer name="fcs/t2-summer">
                <input>fcs/throttle1-filter</input>
                <!--input>fcs/throttle-override</input-->
                <clipto>
                    <min>fcs/throttle-override</min>
                    <max>1</max>
                </clipto>
            </summer>

            <pure_gain name="fcs/throttle2">
                <input>fcs/t2-summer</input>
                <gain>1.001</gain>
                <output>fcs/throttle-pos-norm[1]</output>
            </pure_gain>

            <!-- Needed to compute TVC pitch moment contribution-->
            <fcs_function name="fcs/thrust-normalized">
                <!-- description>Normalized thrust output</description -->
                <function>
                    <quotient>
                        <property>propulsion/engine/thrust-lbs</property>
                        <value>26550</value>
                    </quotient>
                </function>
                <clipto>
                    <min> 0 </min>
                    <max> 1.5 </max>
                    </clipto>
                <output>fcs/thrust-norm</output>
            </fcs_function>
             
        </channel>
        
        <channel name="Flaps">

            <switch name="fcs/tef-pos">
                <default value="0.0"/>
                <test logic="AND" value="1">
                    velocities/vc-kts lt 180
                    velocities/mach lt 0.4
                </test>
                <test logic="AND" value="0.5235">
                    velocities/vc-kts lt 200
                    velocities/mach lt 0.45
                </test>
                <test logic="AND" value="0.26175">
                    velocities/vc-kts lt 225
                    velocities/mach lt 0.5
                </test>
                <test logic="AND" value="0.13">
                    velocities/vc-kts lt 240
                    velocities/mach lt 0.55
                </test>
                <test logic="AND" value="0.065">
                    velocities/vc-kts lt 255
                    velocities/mach lt 0.6
                </test>
            </switch>

            <pure_gain name="fcs/tef-norm">
                <input>fcs/tef-pos</input>
                <gain>1.91</gain>
            </pure_gain>

            <kinematic name="fcs/flap-controller">
                <input>fcs/tef-norm</input>
                <traverse>
                    <setting>
                        <position>0</position>
                        <time>0</time>
                    </setting>
                    <setting>
                        <position>0.5</position>
                        <time>3.0</time>
                    </setting>
                    <setting>
                        <position>1.0</position>
                        <time>3.0</time>
                    </setting>
                </traverse>
                <output>fcs/flap-pos-norm</output>
            </kinematic>
        
            <summer name="fcs/flap-pos-out">
                <input>fcs/flap-controller</input>
                <input>fcs/speedbrake-flap</input>
                <clipto>
                    <min> 0 </min>
                    <max> 1 </max>
                </clipto>
            </summer>

            <aerosurface_scale name="fcs/tef-pos-deg">
                <input>fcs/flap-pos-out</input>
                <domain>
                    <min>0</min>
                    <max>1.0</max>
                </domain>
                <range>
                    <min>0</min>
                    <max>30</max>
                </range>
                <output>fcs/flap-pos-deg</output>
            </aerosurface_scale>

        </channel>

        <!-- Speedbrake currently borrowed from F-16 -->
        <channel name="Speedbrake">
            <!--
              - To prevent deep stall the Flight Computer commands speedbrake
              - deflection at high angle of attack (alpha) and low speeds. This
              - will provide just enough pitch down moment to keep the aircraft
              - under control.
              -->
            <switch name="fcs/speedbrake-alpha-limiter">
                <default value="0"/>
                <test logic="AND" value="1">
                    aero/alpha-deg ge 120
                    velocities/v-fps le 10
                </test>
            </switch>

            <switch name="fcs/speedbrake-initiate">
                <default value="0"/>
                <test logic="OR" value="1">
                    fcs/speedbrake-alpha-limiter eq 1
                    fcs/speedbrake-cmd-norm eq 1
                </test>
            </switch>

            <kinematic name="fcs/speedbrake-control">
                <input>fcs/speedbrake-initiate</input>
                <traverse>
                    <setting>
                        <position>0</position>
                        <time>0</time>
                    </setting>
                    <setting>
                        <position>60</position>
                        <time>1</time>
                    </setting>
                </traverse>
                <output>fcs/speedbrake-pos-deg</output>
            </kinematic>

            <aerosurface_scale name="fcs/speedbrake-position-normalizer">
                <input>fcs/speedbrake-control</input>
                <domain>
                    <min>0</min>
                    <max>60</max>
                </domain>
                <range>
                    <min>0</min>
                    <max>1</max>
                </range>
                <output>fcs/speedbrake-pos-norm</output>
            </aerosurface_scale>

            <!-- F-22 uses flaps, ailerons and rudders for speedbrakes. Outputs are
                 used to animate surfaces during speedbrake deployment-->
            <pure_gain name="fcs/speedbrake-aileron">
                <input>fcs/speedbrake-pos-norm</input>
                <gain>-1</gain>
                <output>fcs/speedbrake-aileron</output>
            </pure_gain>

            <pure_gain name="fcs/speedbrake-ail-right">
                <input>fcs/speedbrake-pos-norm</input>
                <gain>-1</gain>
                <output>fcs/speedbrake-aileron-right</output>
            </pure_gain>

            <pure_gain name="fcs/speedbrake-rudder">
                <input>fcs/speedbrake-pos-norm</input>
                <gain>1</gain>
                <output>fcs/speedbrake-rudder</output>
            </pure_gain>
        
            <pure_gain name="fcs/speedbrake-flaps">
                <input>fcs/speedbrake-pos-norm</input>
                <gain>1</gain>
                <output>fcs/speedbrake-flap</output>
            </pure_gain>

        </channel>

        <channel name="Landing Gear">

            <kinematic name="fcs/gear-control">
                <input>gear/gear-cmd-norm</input>
                <traverse>
                    <setting>
                        <position>0</position>
                        <time>0</time>
                    </setting>
                    <setting>
                        <position>1</position>
                        <time>5</time>
                    </setting>
                </traverse>
                <output>gear/gear-pos-norm</output>
            </kinematic>

            <scheduled_gain name="fcs/scheduled-steer-pos-deg">
                <input>fcs/steer-cmd-norm</input>
                <table>
                    <independentVar>velocities/vg-fps</independentVar>
                    <tableData>
                        10.0        80
                        50.0        15
                        150.0       2
                    </tableData>
                </table>
                <output>fcs/steer-pos-deg</output>
            </scheduled_gain>

        </channel>

    </flight_control>

    <aerodynamics>

        <!-- Shift the aero ref point aft. F-22 is 10% unstable at subsonic, stable at around Mach 1.2+ -->
        <function name="aero_ref_pt_shift_x">
            <table>
                <independentVar>velocities/mach</independentVar>
                <tableData>
                    0.0000    0.0000
                    0.6000  0.01
                    0.8000  0.025
                    0.9000  0.035
                    1.0000  0.045
                    1.1000  0.1
                    1.2000  0.105    
                    1.3000  0.11
                </tableData>
            </table>
        </function>

        <function name="aero/function/kCLge">
            <description>Change_in_lift_due_to_ground_effect</description>
            <table>
                <independentVar>aero/h_b-mac-ft</independentVar>
                <tableData>
                    0.0000  1.3893
                    0.1000  1.2108
                    0.1500  1.1972
                    0.2000  1.2108
                    0.3000  1.1785
                    0.4000  1.0697
                    0.5000  1.0578
                    0.6000  1.0323
                    0.7000  1.0136
                    0.8000  1.0051
                    0.9000  1.0017
                    1.0000  1.0000
                    1.1000  1.0000
                </tableData>
            </table>
        </function>

        <function name="aero/function/kCDge">
            <description>Change_in_drag_due_to_ground_effect</description>
            <table>
                <independentVar>aero/h_b-mac-ft</independentVar>
                <tableData>
                    0.0000  0.5235
                    0.1000  0.4759
                    0.1500  0.5250
                    0.2000  0.5388
                    0.3000  0.5924
                    0.4000  0.6471
                    0.5000  0.6941
                    0.6000  0.7624
                    0.7000  0.8253
                    0.8000  0.8812
                    0.9000  0.9412
                    1.0000  1.0000
                    1.1000  1.0000
                </tableData>
            </table>
        </function>

        <axis name="DRAG">

            <function name="aero/coefficient/CD0">
                <description>Drag_at_zero_lift</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>aero/function/kCDge</property>
                    <table>
                        <independentVar>aero/alpha-rad</independentVar>
                        <tableData>
                            -1.5700    1.5000
                            -0.2600    0.0480
                             0.0000    0.00820
                             0.2600    0.0480
                             1.5700    1.5000
                        </tableData>
                    </table>
                </product>
            </function>

            <function name="aero/coefficient/CDi">
                <description>Induced_drag</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>aero/cl-squared</property>
                    <property>aero/function/kCDge</property>
                    <value>0.0700</value>
                </product>
            </function>

            <function name="aero/coefficient/CDmach">
                <description>Drag_due_to_mach</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <table>
                        <independentVar>velocities/mach</independentVar>
                        <tableData>
                            0.0000    0.0000
                            0.8100    0.0000
                            1.1000    0.0220
                            1.8000    0.0140
                            2.4000    0.020
                        </tableData>
                    </table>
                </product>
            </function>

            <function name="aero/coefficient/CDflap">
                <description>Drag_due_to_flaps</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>fcs/flap-pos-norm</property>
                    <property>aero/function/kCDge</property>
                    <value>0.0750</value>
                </product>
            </function>

            <function name="aero/coefficient/CDgear">
                <description>Drag_due_to_gear</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>gear/gear-pos-norm</property>
                    <value>0.0200</value>
                </product>
            </function>

            <function name="aero/coefficient/CDsb">
                <description>Drag_due_to_speedbrakes</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>fcs/speedbrake-pos-norm</property>
                    <value>0.0240</value>
                </product>
            </function>

            <function name="aero/coefficient/CDbeta">
                <description>Drag_due_to_sideslip</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>aero/function/kCDge</property>
                    <table>
                        <independentVar>aero/beta-rad</independentVar>
                        <tableData>
                            -1.5700    1.2300
                            -0.2600    0.0500
                             0.0000    0.0000
                             0.2600    0.0500
                             1.5700    1.2300
                        </tableData>
                    </table>
                </product>
            </function>

            <function name="aero/coefficient/CDde">
                   <description>Drag_due_to_Elevator_Deflection</description>
                   <product>
                       <property>aero/qbar-psf</property>
                       <property>metrics/Sw-sqft</property>
                       <property>aero/function/kCDge</property>
                        <table>
                             <independentVar>fcs/elevator-pos-rad</independentVar>
                             <tableData>
                -0.5236           0.075
                -0.218           0.0375
                0        0.010
                0.218        0.0375
                0.5236        0.077
                 </tableData>
                       </table>
                   </product>
              </function>

         <function name="aero/coefficient/CDDlef">
                   <description>Drag_due_to_leading_edge_flap_deflection</description>
                   <product>
                       <property>aero/qbar-psf</property>
                       <property>metrics/Sw-sqft</property>
                       <property>aero/function/kCDge</property>
            <property>fcs/lef-pos-rad</property>
                        <table>
                             <independentVar>aero/alpha-rad</independentVar>
                             <tableData>
                -0.175  0.003
                    -0.087  0.001
                     0.000  0.000
                     0.087  0.001
                     0.175  0.002
                     0.262  0.004
                     0.349  0.007
                     0.436  0.011
                     0.524  0.015
                     0.611  0.019
                     0.698  0.023
                     0.785  0.024
                 </tableData>
                       </table>
                   </product>
              </function>
        <function name="aero/coefficient/CDq">
                   <description>Drag_due_to_pitch_rate</description>
                   <product>
                       <property>aero/qbar-psf</property>
                       <property>metrics/Sw-sqft</property>
                       <property>velocities/q-aero-rad_sec</property>
            <property>aero/ci2vel</property>
                        <table>
                             <independentVar>aero/alpha-rad</independentVar>
                             <tableData>
                -0.175 -1.265
                    -0.087 -2.139
                     0.000 -0.308
                     0.087  1.402
                     0.175  3.369
                     0.262  5.135
                     0.349  6.880
                     0.436  8.060
                     0.524 11.201
                     0.611 13.872
                     0.698 19.217
                     0.785 22.105
                 </tableData>
                       </table>
                   </product>
              </function>
        <function name="aero/coefficient/CDq_Dlef">
                    <description>Drag_due_to_pitch_rate_and_leading_edge_flap_deflection</description>
                   <product>
                       <property>aero/qbar-psf</property>
                       <property>metrics/Sw-sqft</property>
                       <property>velocities/q-aero-rad_sec</property>
            <property>aero/ci2vel</property>
            <property>fcs/lef-pos-rad</property>
                        <table>
                             <independentVar>aero/alpha-rad</independentVar>
                             <tableData>
                -0.175  0.067
                    -0.087  0.034
                     0.000  0.028
                     0.087  0.029
                     0.175  0.033
                     0.262  0.059
                     0.349  0.061
                     0.436  0.027
                     0.524  0.036
                     0.611  0.047
                     0.698  0.029
                     0.785  0.015
                 </tableData>
                       </table>
                   </product>
              </function>
           </axis>
   
           <axis name="SIDE">
               <function name="aero/coefficient/CYb">
                   <description>Side_force_due_to_beta</description>
                   <product>
                       <property>aero/qbar-psf</property>
                       <property>metrics/Sw-sqft</property>
                       <property>aero/beta-rad</property>
                       <value>-1.7875</value>
                   </product>
               </function>
        <function name="aero/coefficient/CYb_M">
                   <description>Side_force_due_to_beta_due_to_mach</description>
                   <product>
                       <property>aero/qbar-psf</property>
                       <property>metrics/Sw-sqft</property>
                       <property>aero/beta-rad</property>
                       <table>
                             <independentVar>velocities/mach</independentVar>
                             <tableData>
                    0.4        0.0
                       1.2      0.0573
                       1.6     -0.1719
                 </tableData>
            </table>
                   </product>
               </function>
               <function name="aero/coefficient/CYbdot">
                   <description>Side_force_due_to_beta_rate</description>
                   <product>
                       <property>aero/qbar-psf</property>
                       <property>metrics/Sw-sqft</property>
                       <property>aero/betadot-rad_sec</property>
                       <value>-0.0458</value>
                   </product>
               </function>
        <function name="aero/coefficient/CYDa">
                   <description>Side_force_due_to_aileron</description>
                   <product>
                       <property>aero/qbar-psf</property>
                       <property>metrics/Sw-sqft</property>
                       <property>fcs/left-aileron-pos-rad</property>
                       <value>-1.1516e-3</value>
                   </product>
               </function>
               <function name="aero/coefficient/CYDr">
                   <description>Side_force_due_to_rudder</description>
                   <product>
                       <property>aero/qbar-psf</property>
                       <property>metrics/Sw-sqft</property>
                       <property>fcs/rudder-pos-rad</property>
                       <value>0.0619</value>
                   </product>
              </function>
               <function name="aero/coefficient/CYp">
                   <description>Side_force_due_to_roll_rate</description>
                   <product>
                       <property>aero/qbar-psf</property>
                       <property>metrics/Sw-sqft</property>
                       <property>aero/bi2vel</property>
                       <property>velocities/p-aero-rad_sec</property>
                       <value>0.0399</value>
                   </product>
               </function>
               <function name="aero/coefficient/CYr">
                   <description>Side_force_due_to_yaw_rate</description>
                   <product>
                       <property>aero/qbar-psf</property>
                       <property>metrics/Sw-sqft</property>
                       <property>aero/bi2vel</property>
                       <property>velocities/r-aero-rad_sec</property>
                       <value>0.1218</value>
                   </product>
               </function>
           </axis>
  
           <axis name="LIFT">

               <function name="aero/coefficient/CLalpha">
                   <description>Lift_due_to_alpha</description>
                   <product>
                       <property>aero/qbar-psf</property>
                       <property>metrics/Sw-sqft</property>
                         <table>
                             <independentVar>aero/alpha-rad</independentVar>
                             <tableData>
                                 -0.1745    -0.4279
                                 0.7854    2.3000
                                 1.3963    1.0726
                             </tableData>
                        </table>
                   </product>
               </function>

        <function name="aero/coefficient/CLDlef">
                   <description>Lift_due_to_leading_edge_flap_deflection</description>
                   <product>
                       <property>aero/qbar-psf</property>
                       <property>metrics/Sw-sqft</property>
            <property>fcs/lef-pos-rad</property>
            <property>aero/function/kCLge</property>
                         <table>
                             <independentVar>aero/alpha-rad</independentVar>
                             <tableData>
                                 -0.1750  -0.0120
                              -0.0870  -0.0040
                              0.0000  0.0020
                              0.0870  0.0070
                              0.1750  0.0120
                              0.2620  0.0180
                              0.3490  0.0220
                              0.4360  0.0250
                              0.5240  0.0260
                              0.6110  0.0280
                              0.6980  0.0300
                              0.7850  0.032
                        0.8727   0.03
                        1.0472   0.028
                        1.2217   0.025
                        1.3963   0.02
                             </tableData>
                        </table>
                   </product>
               </function>
               <function name="aero/coefficient/CLadot">
                   <description>Lift_due_to_alpha_rate</description>
                   <product>
                       <property>aero/qbar-psf</property>
                       <property>metrics/Sw-sqft</property>
                       <property>aero/alphadot-rad_sec</property>
                       <property>aero/ci2vel</property>
                       <value>2.5602</value>
                   </product>
               </function>
               <function name="aero/coefficient/CLq">
                   <description>Lift_due_to_pitch_rate</description>
                   <product>
                       <property>aero/qbar-psf</property>
                       <property>metrics/Sw-sqft</property>
            <property>velocities/q-aero-rad_sec</property>
            <property>aero/ci2vel</property>
            <property>aero/function/kCLge</property>
                         <table>
                             <independentVar>aero/alpha-rad</independentVar>
                             <tableData>
                                -0.175  8.7127
                     -0.087 25.7114
                      0.000 28.9000
                      0.087 31.3973
                      0.175 31.0872
                      0.262 30.4071
                      0.349 28.9735
                      0.436 28.4242
                      0.524 27.8647
                      0.611 27.2654
                      0.698 30.5158
                      0.785 27.8165
                             </tableData>
                        </table>
                   </product>
               </function>
               <function name="aero/coefficient/dCLflap">
                   <description>Delta_Lift_due_to_flaps</description>
                   <product>
                       <property>aero/qbar-psf</property>
                       <property>metrics/Sw-sqft</property>
                       <property>fcs/flap-pos-norm</property>
            <property>aero/function/kCLge</property>
                       <value>0.3500</value>
                   </product>
               </function>
               <function name="aero/coefficient/dCLsb">
                   <description>Delta_Lift_due_to_speedbrake</description>
                   <product>
                       <property>aero/qbar-psf</property>
                       <property>metrics/Sw-sqft</property>
                      <property>fcs/speedbrake-pos-norm</property>
            <property>aero/function/kCLge</property>
                       <value>0.3500</value>
                   </product>
               </function>
<!--
            <function name="aero/coefficient/CLDh">
                <description>Lift_due_to_horizontal_tail_deflection</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>aero/function/kCLge</property>
                      <table>
                          <independentVar lookup="row">aero/alpha-rad</independentVar>
                          <independentVar lookup="column">fcs/elevator-pos-rad</independentVar>
                          <tableData>
                              -0.1745    -0.4279
                    0.0000    0.1346
                    0.7854    2.00
                    1.3963    1.0726  
                           
                          </tableData>
                      </table>
                </product>
            </function>
               
               <function name="aero/coefficient/CLDh">
                <description>Lift_due_to_horizontal_tail_deflection</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>aero/function/kCLge</property>
                      <table>
                          <independentVar lookup="row">aero/alpha-rad</independentVar>
                          <independentVar lookup="column">fcs/elevator-pos-rad</independentVar>
                          <tableData>
                                
           -0.175  -0.428 
           -0.087  -0.135 
            0.000  0.135  
            0.087   0.414 
            0.175  0.725 
            0.262  1.041 
            0.349  1.327 
            0.436  1.547 
            0.524  1.737 
            0.611  1.829 
            0.698  1.930 
            0.785  2.000 
        0.8727 1.982 
            1.0472 1.830 
            1.2217 1.548 
            1.3963 1.073 
                          </tableData>
                      </table>
                </product>
            </function>
-->
        <function name="aero/coefficient/CLde">
                   <description>Lift_due_to_elevator</description>
                   <product>
                       <property>aero/qbar-psf</property>
                       <property>metrics/Sw-sqft</property>
                      <property>fcs/elevator-pos-rad</property>
            <property>aero/function/kCLge</property>
                       <value>0.190</value>
                   </product>
               </function>
           </axis>
   
           <axis name="ROLL">
              <function name="aero/coefficient/Clb">
                   <description>Roll_moment_due_to_beta</description>
                   <product>
                       <property>aero/qbar-psf</property>
                       <property>metrics/Sw-sqft</property>
                       <property>metrics/bw-ft</property>
                       <property>aero/beta-rad</property>
                         <table>
                             <independentVar>aero/alpha-rad</independentVar>
                             <tableData>
                                 -0.0873    0.0189
                                 0.0000    0.0176
                                 0.0873    0.0119
                                 0.1745    0.0050
                                 0.2618    0.0049
                                 0.3491    0.0028
                                 0.4363    0.0084
                                 0.5236    0.0171
                                 0.6109    0.0044
                             </tableData>
                         </table>
                   </product>
               </function>
        <function name="aero/coefficient/Clda_M">
                   <description>Change_in_Roll_moment_due_to_aileron_due_to_mach</description>
                   <product>
                       <property>aero/qbar-psf</property>
                       <property>metrics/Sw-sqft</property>
                       <property>metrics/bw-ft</property>
                       <property>aero/alpha-rad</property>
                       <property>fcs/left-aileron-pos-rad</property>
                         <table>
                             <independentVar>velocities/mach</independentVar>
                             <tableData>
                                 0.6      0.0
                       1.2     -0.063
                       1.6     -0.063
                             </tableData>
                         </table>
                   </product>
               </function>
        <function name="aero/coefficient/Cldr_M">
                   <description>Change_in_Roll_moment_due_to_rudder_due_to_mach</description>
                   <product>
                       <property>aero/qbar-psf</property>
                       <property>metrics/Sw-sqft</property>
                       <property>metrics/bw-ft</property>
                       <property>aero/alpha-rad</property>
                        <property>fcs/rudder-pos-rad</property>
                         <table>
                             <independentVar>velocities/mach</independentVar>
                             <tableData>
                                 0.6      0.0
                        1.6     -0.0201
                             </tableData>
                         </table>
                   </product>
               </function>
               <function name="aero/coefficient/Clbdot">
                  <description>Roll_moment_due_to_beta_rate</description>
                   <product>
                       <property>aero/qbar-psf</property>
                       <property>metrics/Sw-sqft</property>
                       <property>metrics/bw-ft</property>
                       <property>aero/bi2vel</property>
                       <property>aero/betadot-rad_sec</property>
                       <value>-0.0037</value>
                   </product>
               </function>
              <function name="aero/coefficient/Clp">
                   <description>Roll_moment_due_to_roll_rate</description>
                   <product>
                       <property>aero/qbar-psf</property>
                       <property>metrics/Sw-sqft</property>
                       <property>metrics/bw-ft</property>
                      <property>aero/bi2vel</property>
                       <property>velocities/p-aero-rad_sec</property>
                       <table>
                           <independentVar>aero/alpha-rad</independentVar>
                           <tableData>
                               0.0000  -0.4000
                               0.3490  -0.3100
                           </tableData>
                       </table>
                   </product>
               </function>
               <function name="aero/coefficient/Clr">
                   <description>Roll_moment_due_to_yaw_rate</description>
                   <product>
                       <property>aero/qbar-psf</property>
                       <property>metrics/Sw-sqft</property>
                       <property>metrics/bw-ft</property>
                      <property>aero/bi2vel</property>
                       <property>velocities/r-aero-rad_sec</property>
                       <table>
                           <independentVar>aero/alpha-rad</independentVar>
                           <tableData>
                               -0.175 -0.126
                    -0.087 -0.026
                     0.0    0.063
                     0.087  0.113
                     0.175  0.208
                     0.262  0.230
                     0.349  0.319
                     0.436  0.437
                     0.524  0.680
                     0.611  0.100
                     0.698  0.447
                     0.785 -0.330
                           </tableData>
                       </table>
                   </product>
               </function>
               <function name="aero/coefficient/Clda">
                   <description>Roll_moment_due_to_aileron</description>
                   <product>
                <value>4</value>
                       <property>aero/qbar-psf</property>
                       <property>metrics/Sw-sqft</property>
                       <property>metrics/bw-ft</property>
                       <property>fcs/left-aileron-pos-rad</property>
                         <table>
                             <independentVar>aero/alpha-rad</independentVar>
                             <tableData>
                                -0.1745   0.045
                      -0.0873   0.052
                       0.0000   0.060
                       0.0873   0.057
                       0.1745   0.052
                       0.2618   0.047
                       0.3491   0.040
                       0.4363   0.034
                       0.5236   0.029
                       0.6109   0.023
                       0.6981   0.019
                       0.7854   0.015
                       0.8727   0.012
                       1.0472   0.011
                       1.2217   0.009
                       1.3963   0.008
                             </tableData>
                         </table>
                   </product>
               </function>
               <function name="aero/coefficient/ClDr">
                   <description>Roll_moment_due_to_rudder</description>
                   <product>
                <value>2</value>
                       <property>aero/qbar-psf</property>
                       <property>metrics/Sw-sqft</property>
                       <property>metrics/bw-ft</property>
                      <property>fcs/rudder-pos-rad</property>
                         <table>
                             <independentVar>aero/alpha-rad</independentVar>
                            <tableData>
                                 -0.1745    0.0078
                                 -0.0873    0.0070
                                 0.0000    0.0059
                                 0.0873    0.0043
                                 0.1745    0.0023
                                 0.2618    0.0007
                                 0.3491    -0.0008
                                 0.4363    0.0004
                                 0.5236    0.0019
                                 0.6109    0.0019
                                 0.6981    0.0017
                                 0.7854    0.0009
                                 0.8727    0.0003
                                 1.0472    0.0000
                                 1.2217    0.0000
                                 1.3963    0.0000
                             </tableData>
                         </table>
                   </product>
               </function>
           </axis>
   
           <axis name="PITCH">
               <function name="aero/coefficient/CmDh">
                   <description>Pitch_moment_due_to_horizontal_tail_deflection</description>
                   <product>
                
                       <property>aero/qbar-psf</property>
                       <property>metrics/Sw-sqft</property>
                       <property>metrics/cbarw-ft</property>
                         <table>
                           <independentVar lookup="row">aero/alpha-rad</independentVar>
                           <independentVar lookup="column">fcs/elevator-pos-rad</independentVar>
                           <tableData>
                                        -0.5236  0.0    0.5236
                      -0.0873    0.3222 -0.0546 -0.4911
                               0.0000    0.3482  0.0000 -0.4729
                               0.0873    0.3897  0.0286 -0.4782
                               0.1745    0.3689  0.0156 -0.4988
                               0.2618    0.3975  0.0546 -0.4287
                               0.3491    0.3819  0.0442 -0.2722
                               0.4363    0.4131  0.0831 -0.1637
                               0.5236    0.4599  0.1377 -0.0546
                               0.6109    0.4443  0.1325 -0.0530
                               0.6981    0.3819  0.1013 -0.0650
                               0.7854    0.3585  0.0909 -0.0624
                               0.8727    0.3430  0.1299 -0.0364
                               1.0472    0.0208 -0.1117 -0.1975
                               1.2217    0.3248 -0.4521 -0.5144

                           </tableData>
                         </table>
            <value>1.5</value>
                   </product>
               </function>
   
               <function name="aero/coefficient/CmDtv">
                   <description>Pitch_moment_due_to_thrust_vectoring</description>
                   <product>
            <value>1.25</value>
                       <property>aero/qbar-psf</property>
                       <property>metrics/Sw-sqft</property>
                       <property>metrics/cbarw-ft</property>
                       <property>fcs/thrust-norm</property>
                         <table>
                           <independentVar lookup="row">aero/alpha-rad</independentVar>
                           <independentVar lookup="column">fcs/tvc-pos-rad</independentVar>
                           <tableData>
                    -0.3491  0.0  0.3491
                   -0.0873    0.4417  0.0 -0.7924
                    0.0000    0.4650  0.0 -0.8366
                    0.0873    0.4448  0.0 -0.8808
                    0.1745    0.4677  0.0 -0.8886
                    0.2618    0.4755  0.0 -0.8600
                    0.3491    0.4625  0.0 -0.7534
                    0.4363    0.4963  0.0 -0.6901
                    0.5236    0.4936  0.0 -0.6408
                    0.6109    0.4781  0.0 -0.6000
                    0.6981    0.5025  0.0 -0.5454
                    0.7854    0.5015  0.0 -0.5143
                    0.8727    0.4209  0.0 -0.5284
                    1.0472    0.4417  0.0 -0.5047
                    1.2217    0.2988  0.0 -0.4883

                           </tableData>
                        </table>
                   </product>
               </function>
           <function name="aero/coefficient/Cma_M">
                   <description>Change_in_Pitch_moment_due_to_alpha_due_to_mach</description>
                   <product>
                       <property>aero/qbar-psf</property>
                       <property>metrics/Sw-sqft</property>
                       <property>metrics/cbarw-ft</property>
                       <property>aero/alpha-rad</property>
                        <table>
                             <independentVar>velocities/mach</independentVar>
                             <tableData>              
                       0.6000  0.0000
                       0.8000  0.0974
                       0.9000  -0.3323
                       1.0000  -0.9626
                       1.1000  -0.8480
                       1.2000  -0.7907
                             </tableData>
                         </table>
                   </product>
               </function>
               <function name="aero/coefficient/Cmq">
                   <description>Pitch_moment_due_to_pitch_rate</description>
                   <product>
                       <property>aero/qbar-psf</property>
                       <property>metrics/Sw-sqft</property>
                       <property>metrics/cbarw-ft</property>
                       <property>aero/ci2vel</property>
                       <property>velocities/q-aero-rad_sec</property>
                       <table>
                             <independentVar>aero/alpha-rad</independentVar>
                             <tableData>              
                       -0.1750  -7.2100
                    -0.0870  -5.4000
                    0.0000  -5.2300
                    0.0870  -5.2600
                    0.1750  -6.1100
                    0.2620  -6.6400
                    0.3490  -5.6900
                    0.4360  -6.0000
                    0.5240  -6.2000
                    0.6110  -6.4000
                    0.6980  -6.6000
                    0.7850  -6.0000
                             </tableData>
                         </table>
                   </product>
               </function>
               <function name="aero/coefficient/Cmadot">
                   <description>Pitch_moment_due_to_alpha_rate</description>
                   <product>
                       <property>aero/qbar-psf</property>
                       <property>metrics/Sw-sqft</property>
                       <property>metrics/cbarw-ft</property>
                       <property>aero/ci2vel</property>
                       <property>aero/alphadot-rad_sec</property>
                       <table>
                             <independentVar>velocities/mach</independentVar>
                             <tableData>
                                 0.2570    -1.5611
                                 1.8000    -2.0500
                             </tableData>
                         </table>
                   </product>
               </function>
               
           </axis>
           <axis name="YAW">
               <function name="aero/coefficient/Cnb">
                   <description>Yaw_moment_due_to_beta</description>
                   <product>
                      <property>aero/qbar-psf</property>
                       <property>metrics/Sw-sqft</property>
                       <property>metrics/bw-ft</property>
                       <property>aero/beta-rad</property>
                      <table>
                             <independentVar>aero/alpha-rad</independentVar>
                             <tableData>
                                 -0.349    0.0745
                           0.000    0.1780
                            0.873    0.0086


                             </tableData>
                         </table>
                   </product>
               </function>
               <function name="aero/coefficient/Cnb_M">
                   <description>Change_in_Yaw_moment_due_to_beta_due_to_mach</description>
                   <product>
                       <property>aero/qbar-psf</property>
                       <property>metrics/Sw-sqft</property>
                       <property>metrics/bw-ft</property>
                       <property>aero/beta-rad</property>
                         <table>
                             <independentVar>velocities/mach</independentVar>
                             <tableData>
                                 0.6000  0.0000
                      0.7000  -0.0688
                      0.8000  -0.0172
                      0.9000  0.0229
                      1.0000  0.0000
                      1.2000  -0.0688
                      1.4000  0.0057
                      1.6000  0.0688
                             </tableData>
                         </table>
                   </product>
               </function>
               <function name="aero/coefficient/Cnbdot">
                   <description>Yaw_moment_due_to_beta_rate</description>
                   <product>
                       <property>aero/qbar-psf</property>
                       <property>metrics/Sw-sqft</property>
                       <property>metrics/bw-ft</property>
                      <property>aero/bi2vel</property>
                       <property>aero/betadot-rad_sec</property>
                       <value>-0.0115</value>
                   </product>
               </function>
               <function name="aero/coefficient/Cnp">
                   <description>Yaw_moment_due_to_roll_rate</description>
                   <product>
                       <property>aero/qbar-psf</property>
                       <property>metrics/Sw-sqft</property>
                       <property>metrics/bw-ft</property>
                       <property>aero/bi2vel</property>
                       <property>velocities/p-aero-rad_sec</property>
                       <value>-0.0035</value>
                   </product>
               </function>
               <function name="aero/coefficient/Cnr">
                   <description>Yaw_moment_due_to_yaw_rate</description>
                   <product>
                       <property>aero/qbar-psf</property>
                       <property>metrics/Sw-sqft</property>
                       <property>metrics/bw-ft</property>
                       <property>aero/bi2vel</property>
                       <property>velocities/r-aero-rad_sec</property>
                       <table>
                          <independentVar>aero/alpha-rad</independentVar>
                          <tableData>
                              -0.1750  -0.3800
                              -0.0870  -0.3630
                              0.0000  -0.3780
                              0.0870  -0.3860
                              0.1750  -0.3700
                              0.2620  -0.4530
                              0.3490  -0.5500
                              0.4360  -0.5820
                              0.5240  -0.5950
                              0.6110  -0.6370
                              0.6980  -1.0200
                              0.7850  -0.8400
                          </tableData>
                      </table>

                   </product>
               </function>
               <function name="aero/coefficient/CnDr">
                   <description>Yaw_moment_due_to_rudder</description>
                   <product>
                <value>5</value>
                       <property>aero/qbar-psf</property>
                       <property>metrics/Sw-sqft</property>
                       <property>metrics/bw-ft</property>
                       <property>fcs/rudder-pos-rad</property>
                         <table>
                             <independentVar>aero/alpha-rad</independentVar>
                             <tableData>
                                 
                      -0.1745    -0.048
                                -0.0873    -0.045
                                 0.0000    -0.045
                                 0.0873    -0.045
                                 0.1745    -0.044
                                 0.2618    -0.045
                                0.3491    -0.047
                                 0.4363    -0.048
                                 0.5236    -0.040
                                 0.6109    -0.033
                                 0.6981    -0.025
                                 0.7854    -0.017
                                 0.8727    -0.010
                                 1.0472    -0.0075
                                 1.2217    -0.0075
                                 1.3963    -0.0075

                             </tableData>
                         </table>
                   </product>
               </function>
        <function name="aero/coefficient/Cndr_M">
                   <description>Change_in_Yaw_moment_due_to_rudder_due_to_mach</description>
                   <product>
                       <property>aero/qbar-psf</property>
                       <property>metrics/Sw-sqft</property>
                       <property>metrics/bw-ft</property>
            <property>aero/alpha-rad</property>
                       <property>fcs/rudder-pos-rad</property>
                         <table>
                             <independentVar>velocities/mach</independentVar>
                             <tableData>
                                 0.6000  0.0000
                      1.2000  0.0401
                      1.6000  0.0716
                             </tableData>
                         </table>
                   </product>
               </function>
               <function name="aero/coefficient/Cnda">
                   <description>Adverse_yaw</description>
                   <product>
                <value>2</value>
                       <property>aero/qbar-psf</property>
                       <property>metrics/Sw-sqft</property>
                       <property>metrics/bw-ft</property>
                       <property>fcs/left-aileron-pos-rad</property>
                       <table>
                             <independentVar>aero/alpha-rad</independentVar>
                             <tableData>
                -0.1745  0.01
                      -0.0873  0.009
                       0.0000  0.010
                       0.0873  0.009
                       0.1745  0.008
                       0.2618  0.006
                       0.3491  -0.002
                       0.4363  -0.003
                       0.5236  -0.005
                       0.6109  -0.008
                       0.6981  -0.006
                       0.7854  -0.006
                       0.8727  -0.008
                       1.0472  -0.01
                       1.2217  -0.011
                       1.3963  -0.013
                 </tableData>
            </table>
                   </product>
               </function>
           </axis>
       </aerodynamics>
<!--
  <output name="f16_datalog.csv" type="CSV" rate="1">
    <property> aero/qbar-psf </property>
    <property> attitude/phi-rad </property>
    <property> position/h-sl-ft </property>
    <property> velocities/vc-kts </property>
    <property> fcs/throttle-cmd-norm </property>
    <property> fcs/elevator-cmd-norm </property>
    <property> fcs/pitch-trim-cmd-norm </property>
    <property> propulsion/total-fuel-lbs </property>
    <property> flight-path/gamma-rad </property>
    <property> accelerations/n-pilot-z-norm </property>
    <rates> ON </rates>
    <velocities> ON </velocities>
    <forces> ON </forces>
    <moments> ON </moments>
    <position> ON </position>
    <fcs> ON </fcs>
    <propulsion> OFF </propulsion>
    <aerosurfaces> ON </aerosurfaces>
    <fcs> ON </fcs>
    <ground_reactions> ON </ground_reactions>
  </output>
-->
</fdm_config>
<?xml version="1.0"?>
<?xml-stylesheet type="text/xsl" href="http://jsbsim.sourceforge.net/JSBSim.xsl"?>
<fdm_config name="F22" version="2.0" release="BETA"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:noNamespaceSchemaLocation="http://jsbsim.sourceforge.net/JSBSim.xsd">

    <fileheader>
        Erik Hofman<author>  </author>
        <filecreationdate> 2004-01-01 </filecreationdate>
        <version> $Revision: 1.1 $ </version>
        <description> Models an F-22 Raptor </description>
        <license>
         <licenseName>GPL (General Public License)</licenseName>
         <licenseURL>http://www.gnu.org/licenses/gpl.html</licenseURL>
        </license>
        <note>
         This model was created using data that is, or has been, publically
         available by means of technical reports, textbooks, image graphs or
         published code. This aircraft description file is in no way related
         to the manufacturer of the real aircraft.
         Neither the name of (any of) the authors nor the names of (any of) the
         manufacturers may be used to endorse or promote products derived from
         this file.

         The data is provided ''as is'' and any express or implied
         warranties, including, but not limitted to the implied warranties of
         merchantability and fitness for a particular purpose are disclaimed.
        </note>
    </fileheader>

    <metrics>
        <wingarea unit="FT2"> 840.0 </wingarea>
        <wingspan unit="FT"> 44.49 </wingspan>
        <chord unit="FT"> 23.06 </chord>
        <htailarea unit="FT2"> 238.9 </htailarea>
        <htailarm unit="FT"> 18.66 </htailarm>
        <vtailarea unit="FT2"> 158.2 </vtailarea>
        <vtailarm unit="FT"> 0 </vtailarm>
        <location name="AERORP" unit="IN">
            <x> 446.5 </x>
            <y> 0 </y>
            <z> 0 </z>
        </location>
        <location name="EYEPOINT" unit="IN">
            <x> 148.8 </x>
            <y> 0 </y>
            <z> 38 </z>
        </location>
        <location name="VRP" unit="IN">
            <x> 100 </x>
            <y> 0 </y>
            <z> 0 </z>
        </location>
    </metrics>

    <mass_balance negated_crossproduct_inertia="true">
        <ixx unit="SLUG*FT2"> 40843 </ixx>
        <iyy unit="SLUG*FT2"> 204751 </iyy>
        <izz unit="SLUG*FT2"> 258201 </izz>
        <ixz unit="SLUG*FT2"> 520 </ixz>
        <emptywt unit="LBS"> 43430 </emptywt>
        <location name="CG" unit="IN">
            <x> 446.5 </x>
            <y> 0 </y>
            <z> -18.6 </z>
        </location>
        <pointmass name="Pilot">
            <weight unit="LBS"> 230 </weight>
            <location name="POINTMASS" unit="IN">
                <x> 148.8 </x>
                <y> 0 </y>
                <z> 20 </z>
            </location>
        </pointmass>
    </mass_balance>

    <ground_reactions>
        <contact type="BOGEY" name="NOSE_LG">
            <location unit="IN">
                <x> 96.7 </x>
                <y> 0 </y>
                <z> -89.3 </z>
            </location>
            <static_friction> 0.8 </static_friction>
            <dynamic_friction> 0.5 </dynamic_friction>
            <rolling_friction> 0.02 </rolling_friction>
            <spring_coeff unit="LBS/FT"> 18603.4 </spring_coeff>
            <damping_coeff unit="LBS/FT/SEC"> 6201.1 </damping_coeff>
            <max_steer unit="DEG"> 5 </max_steer>
            <brake_group> NONE </brake_group>
            <retractable>1</retractable>
        </contact>
        <contact type="BOGEY" name="LEFT_MLG">
            <location unit="IN">
                <x> 468.8 </x>
                <y> -48 </y>
                <z> -89.3 </z>
            </location>
            <static_friction> 0.8 </static_friction>
            <dynamic_friction> 0.5 </dynamic_friction>
            <rolling_friction> 0.02 </rolling_friction>
            <spring_coeff unit="LBS/FT"> 62011.2 </spring_coeff>
            <damping_coeff unit="LBS/FT/SEC"> 12402.2 </damping_coeff>
            <max_steer unit="DEG"> 0.0 </max_steer>
            <brake_group> LEFT </brake_group>
            <retractable>1</retractable>
        </contact>
        <contact type="BOGEY" name="RIGHT_MLG">
            <location unit="IN">
                <x> 468.8 </x>
                <y> 48 </y>
                <z> -89.3 </z>
            </location>
            <static_friction> 0.8 </static_friction>
            <dynamic_friction> 0.5 </dynamic_friction>
            <rolling_friction> 0.02 </rolling_friction>
            <spring_coeff unit="LBS/FT"> 62011.2 </spring_coeff>
            <damping_coeff unit="LBS/FT/SEC"> 12402.2 </damping_coeff>
            <max_steer unit="DEG"> 0.0 </max_steer>
            <brake_group> RIGHT </brake_group>
            <retractable>1</retractable>
        </contact>
    </ground_reactions>
    <propulsion>
        <engine file="F119-PW-1">
            <feed>0</feed>
            <thruster file="direct">
                <location unit="IN">
                    <x> 684.131 </x>
                    <y> -20 </y>
                    <z> 0 </z>
                </location>
                <orient unit="DEG">
                    <roll> 0.0 </roll>
                    <pitch> 0.0 </pitch>
                    <yaw> 0.0 </yaw>
                </orient>
            </thruster>
        </engine>
        <engine file="F119-PW-1">
            <feed>1</feed>
            <thruster file="direct">
                <location unit="IN">
                    <x> 684.131 </x>
                    <y> 20 </y>
                    <z> 0 </z>
                </location>
                <orient unit="DEG">
                    <roll> 0.0 </roll>
                    <pitch> 0.0 </pitch>
                    <yaw> 0.0 </yaw>
                </orient>
            </thruster>
        </engine>
        <tank type="FUEL">
            <location unit="IN">
                <x> 446.478 </x>
                <y> 0 </y>
                <z> -18.6033 </z>
            </location>
            <capacity unit="LBS"> 7000 </capacity>
            <contents unit="LBS"> 3500 </contents>
        </tank>
        <tank type="FUEL">
            <location unit="IN">
                <x> 446.478 </x>
                <y> 0 </y>
                <z> -18.6033 </z>
            </location>
            <capacity unit="LBS"> 7000 </capacity>
            <contents unit="LBS"> 3500 </contents>
        </tank>
    </propulsion>
    <flight_control name="FCS: F22">
        <channel name="Throttle">
            <pure_gain name="Throttle1">
                <input>fcs/throttle-cmd-norm</input>
                <gain>2</gain>
                <output>fcs/throttle-pos-norm</output>
            </pure_gain>
        </channel>

        <channel name="Pitch">
            <summer name="Pitch Trim Sum">
                <input>fcs/elevator-cmd-norm</input>
                <input>fcs/pitch-trim-cmd-norm</input>
                <clipto>
                    <min>-1</min>
                    <max>1</max>
                </clipto>
            </summer>

            <aerosurface_scale name="Elevator Control">
                <input>fcs/pitch-trim-sum</input>
                <range>
                    <min>-0.35</min>
                    <max>0.3</max>
                </range>
                <output>fcs/elevator-pos-rad</output>
            </aerosurface_scale>
        </channel>
        <channel name="Roll">
            <summer name="Roll Trim Sum">
                <input>fcs/aileron-cmd-norm</input>
                <input>fcs/roll-trim-cmd-norm</input>
                <clipto>
                    <min>-1</min>
                    <max>1</max>
                </clipto>
            </summer>

            <aerosurface_scale name="Left Aileron Control">
                <input>fcs/roll-trim-sum</input>
                <range>
                    <min>-0.35</min>
                    <max>0.35</max>
                </range>
                <output>fcs/left-aileron-pos-rad</output>
            </aerosurface_scale>

            <aerosurface_scale name="Right Aileron Control">
                <input>-fcs/roll-trim-sum</input>
                <range>
                    <min>-0.35</min>
                    <max>0.35</max>
                </range>
                <output>fcs/right-aileron-pos-rad</output>
            </aerosurface_scale>
        </channel>
        <channel name="Yaw">
            <summer name="Rudder Command Sum">
                <input>fcs/rudder-cmd-norm</input>
                <input>fcs/yaw-trim-cmd-norm</input>
                <clipto>
                    <min>-1</min>
                    <max>1</max>
                </clipto>
            </summer>

            <scheduled_gain name="Yaw Damper Rate">
                <input>velocities/r-aero-rad_sec</input>
                <table>
                  <independentVar>aero/qbar-psf</independentVar>
                  <tableData>
                     3.00  0.00
                    11.00  2.00
                  </tableData>
                </table>
            </scheduled_gain>
            <scheduled_gain name="Yaw Damper Beta">
                <input>aero/beta-rad</input>
                <table>
                  <independentVar>aero/qbar-psf</independentVar>
                  <tableData>
                     3.00  0.00
                    11.00  0.00
                  </tableData>
                </table>
            </scheduled_gain>

            <summer name="Yaw Damper Sum">
                <input>fcs/yaw-damper-beta</input>
                <input>fcs/yaw-damper-rate</input>
                <clipto>
                    <min>-0.2</min>
                    <max>0.2</max>
                </clipto>
            </summer>

            <scheduled_gain name="Yaw Damper Final">
                <input>fcs/yaw-damper-sum</input>
                <table>
                  <independentVar>aero/qbar-psf</independentVar>
                  <tableData>
                    2.99  0.0
                    3.00  1.0
                  </tableData>
                </table>
            </scheduled_gain>

            <summer name="Rudder Sum">
                <input>fcs/rudder-command-sum</input>
                <input>fcs/yaw-damper-final</input>
                <clipto>
                    <min>-1</min>
                    <max>1</max>
                </clipto>
            </summer>

            <aerosurface_scale name="Rudder Control">
                <input>fcs/rudder-sum</input>
                <range>
                    <min>-0.35</min>
                    <max>0.35</max>
                </range>
                <output>fcs/rudder-pos-rad</output>
            </aerosurface_scale>
        </channel>
        <channel name="Flaps">
            <switch name="Flap Command">
                <default value="0"/>
                <test logic="OR" value="1">
                    velocities/vc-kts lt 250
                </test>
            </switch>
            <kinematic name="Flaps Control">
                <input>fcs/flap-command</input>
                <traverse>
                    <setting>
                        <position>0</position>
                        <time>0</time>
                    </setting>
                    <setting>
                        <position>15</position>
                        <time>4</time>
                    </setting>
                    <setting>
                        <position>30</position>
                        <time>3</time>
                    </setting>
                </traverse>
                <output>fcs/flap-pos-deg</output>
            </kinematic>
            <aerosurface_scale name="Flap Position Normalizer">
              <input>fcs/flap-pos-deg</input>
              <domain>
                <min>0</min>
                <max>30</max>
              </domain>
              <range>
                <min>0</min>
                <max>1</max>
              </range>
              <output>fcs/flap-pos-norm</output>
            </aerosurface_scale>
        </channel>
        <channel name="Landing Gear">
            <kinematic name="Gear Control">
                <input>gear/gear-cmd-norm</input>
                <traverse>
                    <setting>
                        <position>0</position>
                        <time>0</time>
                    </setting>
                    <setting>
                        <position>1</position>
                        <time>5</time>
                    </setting>
                </traverse>
                <output>gear/gear-pos-norm</output>
            </kinematic>
        </channel>
        <channel name="Speedbrake">
            <kinematic name="Speedbrake Control">
                <input>fcs/speedbrake-cmd-norm</input>
                <traverse>
                    <setting>
                        <position>0</position>
                        <time>0</time>
                    </setting>
                    <setting>
                        <position>1</position>
                        <time>1</time>
                    </setting>
                </traverse>
                <output>fcs/speedbrake-pos-norm</output>
            </kinematic>
        </channel>
    </flight_control>
    <aerodynamics>
        <function name="aero/function/kCLge">
            <description>Change_in_lift_due_to_ground_effect</description>
            <product>
                  <table>
                      <independentVar>aero/h_b-mac-ft</independentVar>
                      <tableData>
                        0.0000  1.3893
                        0.1000  1.2108
                        0.1500  1.1972
                        0.2000  1.2108
                        0.3000  1.1785
                        0.4000  1.0697
                        0.5000  1.0578
                        0.6000  1.0323
                        0.7000  1.0136
                        0.8000  1.0051
                        0.9000  1.0017
                        1.0000  1.0000
                        1.1000  1.0000
                      </tableData>
                  </table>
            </product>
        </function>
        <function name="aero/function/kCDge">
            <description>Change_in_drag_due_to_ground_effect</description>
            <product>
                  <table>
                      <independentVar>aero/h_b-mac-ft</independentVar>
                      <tableData>
                        0.0000  0.5235
                        0.1000  0.4759
                        0.1500  0.5250
                        0.2000  0.5388
                        0.3000  0.5924
                        0.4000  0.6471
                        0.5000  0.6941
                        0.6000  0.7624
                        0.7000  0.8253
                        0.8000  0.8812
                        0.9000  0.9412
                        1.0000  1.0000
                        1.1000  1.0000
                      </tableData>
                  </table>
            </product>
        </function>

        <axis name="DRAG">
            <function name="aero/coefficient/CD0">
                <description>Drag_at_zero_lift</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>aero/function/kCDge</property>
                      <table>
                          <independentVar>aero/alpha-rad</independentVar>
                          <tableData>
                              -1.5700    1.5000
                              -0.2600    0.0480
                              0.0000    0.0240
                              0.2600    0.0480
                              1.5700    1.5000
                          </tableData>
                      </table>
                </product>
            </function>
            <function name="aero/coefficient/CDi">
                <description>Induced_drag</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>aero/cl-squared</property>
                    <property>aero/function/kCDge</property>
                    <value>0.0900</value>
                </product>
            </function>
            <function name="aero/coefficient/CDmach">
                <description>Drag_due_to_mach</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                      <table>
                          <independentVar>velocities/mach</independentVar>
                          <tableData>
                              0.0000    0.0000
                              0.8100    0.0000
                              1.1000    0.0230
                              1.8000    0.0150
                          </tableData>
                      </table>
                </product>
            </function>
            <function name="aero/coefficient/CDflap">
                <description>Drag_due_to_flaps</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>fcs/flap-pos-norm</property>
                    <property>aero/function/kCDge</property>
                    <value>0.0750</value>
                </product>
            </function>
            <function name="aero/coefficient/CDgear">
                <description>Drag_due_to_gear</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>gear/gear-pos-norm</property>
                    <value>0.0200</value>
                </product>
            </function>
            <function name="aero/coefficient/CDsb">
                <description>Drag_due_to_speedbrakes</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>fcs/speedbrake-pos-norm</property>
                    <value>0.0240</value>
                </product>
            </function>
            <function name="aero/coefficient/CDbeta">
                <description>Drag_due_to_sideslip</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>aero/function/kCDge</property>
                      <table>
                          <independentVar>aero/beta-rad</independentVar>
                          <tableData>
                              -1.5700    1.2300
                              -0.2600    0.0500
                              0.0000    0.0000
                              0.2600    0.0500
                              1.5700    1.2300
                          </tableData>
                      </table>
                </product>
            </function>
            <function name="aero/coefficient/CDde">
                <description>Drag_due_to_Elevator_Deflection</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>fcs/mag-elevator-pos-rad</property>
                    <property>aero/function/kCDge</property>
                    <value>0.0750</value>
                </product>
            </function>
        </axis>

        <axis name="SIDE">
            <function name="aero/coefficient/CYb">
                <description>Side_force_due_to_beta</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>aero/beta-rad</property>
                    <value>-0.2875</value>
                </product>
            </function>
            <function name="aero/coefficient/CYbdot">
                <description>Side_force_due_to_beta_rate</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>aero/betadot-rad_sec</property>
                    <value>-0.0458</value>
                </product>
            </function>
            <function name="aero/coefficient/CYDr">
                <description>Side_force_due_to_rudder</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>fcs/rudder-pos-rad</property>
                    <value>0.0619</value>
                </product>
            </function>
            <function name="aero/coefficient/CYp">
                <description>Side_force_due_to_roll_rate</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>aero/bi2vel</property>
                    <property>velocities/p-aero-rad_sec</property>
                    <value>0.0399</value>
                </product>
            </function>
            <function name="aero/coefficient/CYr">
                <description>Side_force_due_to_yaw_rate</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>aero/bi2vel</property>
                    <property>velocities/r-aero-rad_sec</property>
                    <value>0.1218</value>
                </product>
            </function>
        </axis>

        <axis name="LIFT">
            <function name="aero/coefficient/CLalpha">
                <description>Lift_due_to_alpha</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                      <table>
                          <independentVar>aero/alpha-rad</independentVar>
                          <tableData>
                              -0.1745    -0.4279
                              0.7854    2.0000
                              1.3963    1.0726
                          </tableData>
                      </table>
                </product>
            </function>
            <function name="aero/coefficient/CLadot">
                <description>Lift_due_to_alpha_rate</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>aero/alphadot-rad_sec</property>
                    <property>aero/ci2vel</property>
                    <value>2.5602</value>
                </product>
            </function>
            <function name="aero/coefficient/CLq">
                <description>Lift_due_to_pitch_rate</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>velocities/q-aero-rad_sec</property>
                    <property>aero/function/kCLge</property>
                    <property>aero/ci2vel</property>
                    <value>2.7711</value>
                </product>
            </function>
            <function name="aero/coefficient/dCLflap">
                <description>Delta_Lift_due_to_flaps</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>fcs/flap-pos-norm</property>
                    <value>0.3500</value>
                </product>
            </function>
            <function name="aero/coefficient/dCLsb">
                <description>Delta_Lift_due_to_speedbrake</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>fcs/speedbrake-pos-norm</property>
                    <value>0.0000</value>
                </product>
            </function>
            <function name="aero/coefficient/CLde">
                <description>Lift_due_to_Elevator_Deflection</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>aero/function/kCLge</property>
                    <property>fcs/elevator-pos-rad</property>
                    <value>0.2000</value>
                </product>
            </function>
        </axis>

        <axis name="ROLL">
            <function name="aero/coefficient/Clb">
                <description>Roll_moment_due_to_beta</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>aero/beta-rad</property>
                      <table>
                          <independentVar>aero/alpha-rad</independentVar>
                          <tableData>
                              -0.0873    0.0189
                              0.0000    0.0176
                              0.0873    0.0119
                              0.1745    0.0050
                              0.2618    0.0049
                              0.3491    0.0028
                              0.4363    0.0084
                              0.5236    0.0171
                              0.6109    0.0044
                          </tableData>
                      </table>
                </product>
            </function>
            <function name="aero/coefficient/Clbdot">
                <description>Roll_moment_due_to_beta_rate</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>aero/ci2vel</property>
                    <property>aero/betadot-rad_sec</property>
                    <value>-0.0037</value>
                </product>
            </function>
            <function name="aero/coefficient/Clp">
                <description>Roll_moment_due_to_roll_rate</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>aero/bi2vel</property>
                    <property>velocities/p-aero-rad_sec</property>
                    <table>
                        <independentVar>aero/alpha-rad</independentVar>
                        <tableData>
                            0.0000  -0.4000
                            0.3490  -0.3100
                        </tableData>
                    </table>
                </product>
            </function>
            <function name="aero/coefficient/Clr">
                <description>Roll_moment_due_to_yaw_rate</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>aero/bi2vel</property>
                    <property>velocities/r-aero-rad_sec</property>
                    <value>0.1500</value>
                </product>
            </function>
            <function name="aero/coefficient/Clda">
                <description>Roll_moment_due_to_aileron</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>fcs/left-aileron-pos-rad</property>
                      <table>
                          <independentVar>velocities/mach</independentVar>
                          <tableData>
                              0.0000    0.0489
                              2.0000    0.0400
                          </tableData>
                      </table>
                </product>
            </function>
            <function name="aero/coefficient/ClDr">
                <description>Roll_moment_due_to_rudder</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>fcs/rudder-pos-rad</property>
                      <table>
                          <independentVar>aero/alpha-rad</independentVar>
                          <tableData>
                              -0.1745    0.0078
                              -0.0873    0.0070
                              0.0000    0.0059
                              0.0873    0.0043
                              0.1745    0.0023
                              0.2618    0.0007
                              0.3491    -0.0008
                              0.4363    0.0004
                              0.5236    0.0019
                              0.6109    0.0019
                              0.6981    0.0017
                              0.7854    0.0009
                              0.8727    0.0003
                              1.0472    0.0000
                              1.2217    0.0000
                              1.3963    0.0000
                          </tableData>
                      </table>
                </product>
            </function>
        </axis>

        <axis name="PITCH">
            <function name="aero/coefficient/CmDh">
                <description>Pitch_moment_due_to_horizontal_tail_deflection</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/cbarw-ft</property>
                      <table>
                        <independentVar lookup="row">aero/alpha-rad</independentVar>
                        <independentVar lookup="column">fcs/elevator-pos-rad</independentVar>
                        <tableData>
                                     -0.5236    0.0       0.4363
                           -0.0873    0.3222 -0.0546 -0.4911
                            0.0000    0.3482  0.0000 -0.4729
                            0.0873    0.3897  0.0286 -0.4782
                            0.1745    0.3689  0.0156 -0.4988
                            0.2618    0.3975  0.0546 -0.4287
                            0.3491    0.3819  0.0442 -0.2722
                            0.4363    0.4131  0.0831 -0.1637
                            0.5236    0.4599  0.1377 -0.0546
                            0.6109    0.4443  0.1325 -0.0530
                            0.6981    0.3819  0.1013 -0.0650
                            0.7854    0.3585  0.0909 -0.0624
                            0.8727    0.3430  0.1299 -0.0364
                            1.0472    0.0208 -0.1117 -0.1975
                            1.2217    0.3248 -0.4521 -0.5144                          
                        </tableData>
                      </table>
                </product>
            </function>
<!--
            <function name="aero/coefficient/CmDtv">
                <description>Pitch_moment_due_to_thrust_vectoring</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/cbarw-ft</property>
                    <property>fcs/throttle-pos-norm</property>
                      <table>
                        <independentVar lookup="row">aero/alpha-rad</independentVar>
                        <independentVar lookup="column">fcs/thrust-control-pos-rad</independentVar>
                        <tableData>
                                     -0.3491  0.0  0.3491
                           -0.0873    0.4417  0.0 -0.7924
                            0.0000    0.4650  0.0 -0.8366
                            0.0873    0.4448  0.0 -0.8808
                            0.1745    0.4677  0.0 -0.8886
                            0.2618    0.4755  0.0 -0.8600
                            0.3491    0.4625  0.0 -0.6834
                            0.4363    0.4963  0.0 -0.6001
                            0.5236    0.4936  0.0 -0.5508
                            0.6109    0.4781  0.0 -0.5300
                            0.6981    0.5025  0.0 -0.4754
                            0.7854    0.5015  0.0 -0.4443
                            0.8727    0.4209  0.0 -0.4884
                            1.0472    0.4417  0.0 -0.4547
                            1.2217   -0.2988  0.0 -0.4183
                        </tableData>
                      </table>
                </product>
            </function>
-->
            <function name="aero/coefficient/Cmq">
                <description>Pitch_moment_due_to_pitch_rate</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/cbarw-ft</property>
                    <property>aero/ci2vel</property>
                    <property>velocities/q-aero-rad_sec</property>
                    <value>-17.830</value>
                </product>
            </function>
            <function name="aero/coefficient/Cmadot">
                <description>Pitch_moment_due_to_alpha_rate</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/cbarw-ft</property>
                    <property>aero/ci2vel</property>
                    <property>aero/alphadot-rad_sec</property>
                    <table>
                          <independentVar>velocities/mach</independentVar>
                          <tableData>
                              0.2570    -1.5611
                              1.8000    -2.0500
                          </tableData>
                      </table>
                </product>
            </function>
            <function name="aero/coefficient/CmadotDh">
                <description>Pitch_moment_due_to_horizontal_tail_deflection</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/cbarw-ft</property>
                    <property>aero/ci2vel</property>
                    <property>aero/alphadot-rad_sec</property>
                    <property>fcs/elevator-pos-rad</property>
                    <value>-1.5611</value>
                </product>
            </function>
            <function name="aero/coefficient/CmqDh">
                <description>Pitch_moment_due_to_pitch_rate_and_horizontal_tail_deflection</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/cbarw-ft</property>
                    <property>aero/ci2vel</property>
                    <property>velocities/q-aero-rad_sec</property>
                    <property>fcs/elevator-pos-rad</property>
                    <value>-1.1726</value>
                </product>
            </function>
        </axis>

        <axis name="YAW">
            <function name="aero/coefficient/Cnb">
                <description>Yaw_moment_due_to_beta</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>aero/beta-rad</property>
                    <value>0.1200</value>
                </product>
            </function>
            <function name="aero/coefficient/Cnb">
                <description>Yaw_moment_due_to_beta</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>aero/beta-rad</property>
                      <table>
                          <independentVar>aero/alpha-rad</independentVar>
                          <tableData>
                              -0.0873    0.0016
                              0.0000    0.0016
                              0.0873    0.0018
                              0.1745    0.0026
                              0.2618    0.0028
                              0.3491    0.0026
                              0.4363    0.0021
                              0.5236    0.0033
                              0.6109    0.0015
                          </tableData>
                      </table>
                </product>
            </function>
            <function name="aero/coefficient/Cnbdot">
                <description>Yaw_moment_due_to_beta_rate</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>aero/ci2vel</property>
                    <property>aero/betadot-rad_sec</property>
                    <value>-0.0115</value>
                </product>
            </function>
            <function name="aero/coefficient/Cnp">
                <description>Yaw_moment_due_to_roll_rate</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>aero/bi2vel</property>
                    <property>velocities/p-aero-rad_sec</property>
                    <value>-0.0035</value>
                </product>
            </function>
            <function name="aero/coefficient/Cnr">
                <description>Yaw_moment_due_to_yaw_rate</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>aero/bi2vel</property>
                    <property>velocities/r-aero-rad_sec</property>
                    <value>-0.1500</value>
                </product>
            </function>
            <function name="aero/coefficient/CnDr">
                <description>Yaw_moment_due_to_rudder</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>fcs/rudder-pos-rad</property>
                      <table>
                          <independentVar>aero/alpha-rad</independentVar>
                          <tableData>
                              -0.1745    -0.0082
                              -0.0873    -0.0128
                              0.0000    -0.0131
                              0.0873    -0.0140
                              0.1745    -0.0154
                              0.2618    -0.0128
                              0.3491    -0.0100
                              0.4363    -0.0077
                              0.5236    -0.0065
                              0.6109    -0.0051
                              0.6981    -0.0041
                              0.7854    -0.0025
                              0.8727    0.0000
                              1.0472    0.0000
                              1.2217    0.0000
                              1.3963    0.0000
                          </tableData>
                      </table>
                </product>
            </function>
            <function name="aero/coefficient/Cnda">
                <description>Adverse_yaw</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>fcs/left-aileron-pos-rad</property>
                    <value>0.0000</value>
                </product>
            </function>
        </axis>
    </aerodynamics>
</fdm_config>
<html><head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">





<title> Fokker F70 </title>
</head>
<body bgcolor="#ffffff" link="#ff0000" vlink="#0000ff"><div id="wm-ipp" class="__wb_banner_div" style="display: block; position: relative; padding: 0px 5px; min-height: 70px; min-width: 800px;" lang="en">


<div id="wm-ipp-inside" class="__wb_banner_div" style="position:fixed;padding:0!important;margin:0!important;width:97%;min-width:780px;border:5px solid #000;border-top:none;background-image:url(/static/images/toolbar/wm_tb_bk_trns.png);text-align:center;-moz-box-shadow:1px 1px 3px #333;-webkit-box-shadow:1px 1px 3px #333;box-shadow:1px 1px 3px #333;font-size:11px!important;font-family:'Lucida Grande','Arial',sans-serif!important;">
   <table style="border-collapse:collapse;margin:0;padding:0;width:100%;"><tbody><tr>
   <td style="padding:10px;vertical-align:top;min-width:110px;">
   </td>
   <td style="padding:0!important;text-align:center;vertical-align:top;width:100%;">

       <table style="border-collapse:collapse;margin:0 auto;padding:0;width:570px;"><tbody><tr>
       <td style="padding:3px 0;" colspan="2">
       <form target="_top" method="get" action="/web/form-submit.jsp" name="wmtb" id="wmtb" style="margin:0!important;padding:0!important;"><input name="url" id="wmtbURL" value="http://www.lissys.demon.co.uk/f7tx2.html" style="width:400px;font-size:11px;font-family:'Lucida Grande','Arial',sans-serif;" onfocus="javascript:this.focus();this.select();" type="text"><input name="type" value="replay" type="hidden"><input name="date" value="20050308045500" type="hidden"><input value="Go" style="font-size:11px;font-family:'Lucida Grande','Arial',sans-serif;margin-left:5px;width: inherit !important" type="submit"><span id="wm_tb_options" style="display:block;"></span></form>
       </td>
       <td style="vertical-align:bottom;padding:5px 0 0 0!important;" rowspan="2">
           <table style="border-collapse:collapse;width:110px;color:#99a;font-family:'Helvetica','Lucida Grande','Arial',sans-serif;"><tbody>
			
           <!-- NEXT/PREV MONTH NAV AND MONTH INDICATOR -->
           <tr style="width:110px;height:16px;font-size:10px!important;">
           	<td style="padding-right:9px;font-size:11px!important;font-weight:bold;text-transform:uppercase;text-align:right;white-space:nowrap;overflow:visible;" nowrap="nowrap">
               
		                <a href="http://web.archive.org/web/20041208002525/http://www.lissys.demon.co.uk/f7tx2.html" style="text-decoration:none;color:#33f;font-weight:bold;background-color:transparent;border:none;" title="8 Dec 2004"><strong>DEC</strong></a>
		                
               </td>
               <td id="displayMonthEl" style="background: none repeat scroll 0% 0% rgb(0, 0, 0); color: rgb(255, 255, 0); font-size: 11px ! important; font-weight: bold; text-transform: uppercase; width: 34px; height: 15px; padding-top: 1px; text-align: center;" title="You are here: 4:55:00 Mar 8, 2005">Mar</td>
				<td style="padding-left:9px;font-size:11px!important;font-weight:bold;text-transform:uppercase;white-space:nowrap;overflow:visible;" nowrap="nowrap">
               
		                <a href="http://web.archive.org/web/20051217003519/http://www.lissys.demon.co.uk/f7tx2.html" style="text-decoration:none;color:#33f;font-weight:bold;background-color:transparent;border:none;" title="17 Dec 2005"><strong>DEC</strong></a>
		                
               </td>
           </tr>

           <!-- NEXT/PREV CAPTURE NAV AND DAY OF MONTH INDICATOR -->
           <tr>
               <td style="padding-right:9px;white-space:nowrap;overflow:visible;text-align:right!important;vertical-align:middle!important;" nowrap="nowrap">
               
		                
               </td>
               <td id="displayDayEl" style="background: none repeat scroll 0% 0% rgb(0, 0, 0); color: rgb(255, 255, 0); width: 34px; height: 24px; padding: 2px 0px 0px; text-align: center; font-size: 24px; font-weight: bold;" title="You are here: 4:55:00 Mar 8, 2005">8</td>
				<td style="padding-left:9px;white-space:nowrap;overflow:visible;text-align:left!important;vertical-align:middle!important;" nowrap="nowrap">
               
		                
			    </td>
           </tr>

           <!-- NEXT/PREV YEAR NAV AND YEAR INDICATOR -->
           <tr style="width:110px;height:13px;font-size:9px!important;">
				<td style="padding-right:9px;font-size:11px!important;font-weight: bold;text-align:right;white-space:nowrap;overflow:visible;" nowrap="nowrap">
               
		                <a href="http://web.archive.org/web/20031212015134/http://www.lissys.demon.co.uk/f7tx2.html" style="text-decoration:none;color:#33f;font-weight:bold;background-color:transparent;border:none;" title="12 Dec 2003"><strong>2003</strong></a>
		                
               </td>
               <td id="displayYearEl" style="background: none repeat scroll 0% 0% rgb(0, 0, 0); color: rgb(255, 255, 0); font-size: 11px ! important; font-weight: bold; padding-top: 1px; width: 34px; height: 13px; text-align: center;" title="You are here: 4:55:00 Mar 8, 2005">2005</td>
				<td style="padding-left:9px;font-size:11px!important;font-weight: bold;white-space:nowrap;overflow:visible;" nowrap="nowrap">
               
                       2006
                       
				</td>
           </tr>
           </tbody></table>
       </td>

       </tr>
       <tr>
       <td style="vertical-align:middle;padding:0!important;">
       </td>
       <td style="padding:0!important;">
       <a style="position:relative; white-space:nowrap; width:475px;height:27px;" href="http://web.archive.org/web/20030915000000/http://www.lissys.demon.co.uk/f7tx2.html" id="wm-graph-anchor">
       </div>
		</a>

       </td>
       </tr></tbody></table>
   </td>
   <td style="text-align:right;padding:5px;width:65px;font-size:11px!important;">
       <a href="javascript:;" onclick="document.getElementById('wm-ipp').style.display='none';" style="display:block;padding-right:18px;background:url(/static/images/toolbar/wm_tb_close.png) no-repeat 100% 0;color:#33f;font-family:'Lucida Grande','Arial',sans-serif;margin-bottom:23px;background-color:transparent;border:none;" title="Close the toolbar">Close</a>
       <a href="http://faq.web.archive.org/" style="display:block;padding-right:18px;background:url(/static/images/toolbar/wm_tb_help.png) no-repeat 100% 0;color:#33f;font-family:'Lucida Grande','Arial',sans-serif;background-color:transparent;border:none;" title="Get some help using the Wayback Machine">Help</a>
   </td>
   </tr></tbody></table>

</div>
</div>
<!-- BEGIN WAYBACK TOOLBAR INSERT -->
<script> if (window.archive_analytics) { window.archive_analytics.values['server_name']="wwwb-app13.us.archive.org";}; </script>

<script type="text/javascript">
//<![CDATA[
var firstDate = 820454400000;
var lastDate = 1420070399999;
var wbPrefix = "/web/";
var wbCurrentUrl = "http:\/\/www.lissys.demon.co.uk\/f7tx2.html";

var curYear = -1;
var curMonth = -1;
var yearCount = 18;
var firstYear = 1996;
var imgWidth = 475;
var yearImgWidth = 25;
var monthImgWidth = 2;
var trackerVal = "none";
var displayDay = "8";
var displayMonth = "Mar";
var displayYear = "2005";
var prettyMonths = ["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];

function showTrackers(val) {
	if(val == trackerVal) {
		return;
	}
	if(val == "inline") {
		document.getElementById("displayYearEl").style.color = "#ec008c";
		document.getElementById("displayMonthEl").style.color = "#ec008c";
		document.getElementById("displayDayEl").style.color = "#ec008c";		
	} else {
		document.getElementById("displayYearEl").innerHTML = displayYear;
		document.getElementById("displayYearEl").style.color = "#ff0";
		document.getElementById("displayMonthEl").innerHTML = displayMonth;
		document.getElementById("displayMonthEl").style.color = "#ff0";
		document.getElementById("displayDayEl").innerHTML = displayDay;
		document.getElementById("displayDayEl").style.color = "#ff0";
	}
   document.getElementById("wbMouseTrackYearImg").style.display = val;
   document.getElementById("wbMouseTrackMonthImg").style.display = val;
   trackerVal = val;
}
function getElementX2(obj) {
	var thing = jQuery(obj);
	if((thing == undefined) 
			|| (typeof thing == "undefined") 
			|| (typeof thing.offset == "undefined")) {
		return getElementX(obj);
	}
	return Math.round(thing.offset().left);
}
function trackMouseMove(event,element) {

   var eventX = getEventX(event);
   var elementX = getElementX2(element);
   var xOff = eventX - elementX;
	if(xOff < 0) {
		xOff = 0;
	} else if(xOff > imgWidth) {
		xOff = imgWidth;
	}
   var monthOff = xOff % yearImgWidth;

   var year = Math.floor(xOff / yearImgWidth);
	var yearStart = year * yearImgWidth;
   var monthOfYear = Math.floor(monthOff / monthImgWidth);
   if(monthOfYear > 11) {
       monthOfYear = 11;
   }
   // 1 extra border pixel at the left edge of the year:
   var month = (year * 12) + monthOfYear;
   var day = 1;
	if(monthOff % 2 == 1) {
		day = 15;
	}
	var dateString = 
		zeroPad(year + firstYear) + 
		zeroPad(monthOfYear+1,2) +
		zeroPad(day,2) + "000000";

	var monthString = prettyMonths[monthOfYear];
	document.getElementById("displayYearEl").innerHTML = year + 1996;
	document.getElementById("displayMonthEl").innerHTML = monthString;
	// looks too jarring when it changes..
	//document.getElementById("displayDayEl").innerHTML = zeroPad(day,2);

	var url = wbPrefix + dateString + '/' +  wbCurrentUrl;
	document.getElementById('wm-graph-anchor').href = url;

   //document.getElementById("wmtbURL").value="evX("+eventX+") elX("+elementX+") xO("+xOff+") y("+year+") m("+month+") monthOff("+monthOff+") DS("+dateString+") Moy("+monthOfYear+") ms("+monthString+")";
   if(curYear != year) {
       var yrOff = year * yearImgWidth;
       document.getElementById("wbMouseTrackYearImg").style.left = yrOff + "px";
       curYear = year;
   }
   if(curMonth != month) {
       var mtOff = year + (month * monthImgWidth) + 1;
       document.getElementById("wbMouseTrackMonthImg").style.left = mtOff + "px";
       curMonth = month;
   }
}
//]]>
</script>

<style type="text/css">body{margin-top:0!important;padding-top:0!important;min-width:800px!important;}#wm-ipp a:hover{text-decoration:underline!important;}</style>

<script type="text/javascript">
 var wmDisclaimBanner = document.getElementById("wm-ipp");
 if(wmDisclaimBanner != null) {
   disclaimElement(wmDisclaimBanner);
 }
</script>
<!-- END WAYBACK TOOLBAR INSERT -->

<font color="#000077"> Fokker F70 Sample Analysis </font> </p></h1> <p> </p><hr>
<font color="#000000">
</font><p><font color="#000000">
This sample text output was compiled directly from the Piano model of 
the Fokker F70. Various reports are shown, in no particular order.</font>
</p><blockquote>
<pre>

 Welcome to Piano Version 3.6!

 Loading "Fokker F70 option"...
 Loading "Medium-BPR Fan late80s" engine...
 calculating geometry/mass/balance ...

 

 Fokker F70 option ____________________________
 
 PAYLOAD         79.  PAX = 15800.lb.

 MTOW         84000.  lb.
 OEW          49984.  lb. = 59.5% of mtow

 FUEL-CAP.     3531.  US.gal. Avail/Req=1.29

 SPAN          91.9   feet 

 WING-AREA     1006.  sq.feet trapezoidal

 ENG.THRUST   13850.  *2 lbf. reference fn*
              13642.  *2 lbf. available slst

 W/S             83.  p.s.f. trapezoidal

 T/W          0.330   reference
              0.325   available 
 ______________________________________________




 GEOMETRY REPORT
 _______________
                                Wing    Stabiliser   Fin (excl.dorsal)
                                ----    ----------   --- 
 Area, trapezoidal reference   1006.43   244.47    178.83    sq.feet
 Area, piano gross             1008.99   244.47    178.83    sq.feet
 Area, airbus gross            997.60                        sq.feet
 Area, boeing wimpress         1006.43                       sq.feet
 Area, esdu                    1006.43                       sq.feet
 Area, exposed                 821.77    244.47    178.83    sq.feet
 Area, wetted                  1676.69   497.20    363.44    sq.feet

 Aspect Ratio, trapezoidal       8.40      4.50      1.00    
 Aspect Ratio, piano gross       8.38      4.50      1.00   
 Aspect Ratio, airbus gross      8.47
 Aspect Ratio, boeing wimpress   8.40
 Aspect Ratio, esdu              8.40

 Span                           91.95     33.17     13.37    feet

 Sweepback at 1/4-chord         17.40     27.50     40.00    degrees

 Taper Ratio (trapezoidal)       0.23      0.40      0.73   

 t/c at root                    0.123     0.104     0.102   
 t/c at thickness break           n/a
 t/c at tip                     0.096     0.104     0.102   

 Volume Coefficient (V-bar)               0.925     0.073   
 Mean Aerodynamic Chord         12.41      7.82     13.48    feet
 Arm between MAC 1/4 chords               47.22     37.62    feet

 Wing chord at tip                                4.02       feet
 Wing chord at planform break                      n/a       feet
 Wing chord at root (gross)                      16.24       feet
 Wing chord at c/line (gross)                    18.34       feet
 Wing chord at c/line (notional trapezoidal)     17.87       feet

 Planform break location        0.000  (fraction of exposed semispan)
 Thickness break location       0.000  (fraction of exposed semispan)

 Wing location (station of extended leading edge at c/line):
 35.78 feet    (39.1 % of fuse.length)

 Spar locations (fractions of local trapez.chord):
 Wing root: 0.15, 0.65       Wing tip: 0.15, 0.65

 Fuel capacity  avail/reqrd = 1.293
 -------------  centresection is wet
 Available:  3531.00 US.gal. (geometric capacity)
 Required :  2731.03 US.gal. (at mtow &amp; design payload)

 Fuselage geometry
 -----------------
 fuselage max. width            10.83    feet
 fuselage max. depth            10.83    feet

 length, total fuselage         91.47    feet
 length, front section          16.40    feet
 length, mid section            35.37    feet
 length, rear section           39.70    feet
 
 wetted area, total fuselage   2587.85   sq.feet
 wetted area, front section    416.91    sq.feet
 wetted area, mid section      1202.05   sq.feet
 wetted area, rear section     968.89    sq.feet

 Nacelle geometry
 ----------------
 nacelle length                 16.08    feet
 nacelle max. width              5.58    feet
 nacelle max. depth              5.58    feet
 wetted area per nac.          262.47    sq.feet

 Overall dimensions
 ------------------
 Span                          91.95     feet
 Overall aircraft length       101.25    feet
 Height at top of fin          27.94     feet
 Overall aircraft wetted area  5691.49   sq.feet 




 Design Limits
 _____________

 Design cruise point is Mach 0.77 at 32808.feet

 Design dive Mach     MD       0.82
 Design cruise speed  VC       327. KEAS
 Design dive speed    VD       384. KEAS
 Limit    load factor          3.16
 Ultimate load factor          4.74
 Cabin pressure differential   7.54 psi (limit)

 Mass Report      (in lb. and % of MTOW)
 ________________________________________

 MTOW    84000.
 OEW     49984.     (59.5%)
 MZFW    72000.     (85.7%)
 MLW     78999.     (94.0%)

 Mass Breakdown            lb.    % MTOW
 ________________________________________
 wing group               8503.   10.12 %
  (struct.box    6444.)
  (flaps         1688.)
  (spoilers       238.)
  (ailerons       134.)
 fuselage group           9527.   11.34 %
 stabiliser               1095.    1.30 %
 fin (incl.dorsal)        1003.    1.19 %
 undercarriage            3247.    3.87 %
 _____________________  _______   _______
 basic structure total   23375.   27.83 %

 powerplants total        7914.    9.42 %

 furnishings              5608.    6.68 %
 surface controls         1227.    1.46 %
 fuel systems              562.    0.67 %
 hydraulics                630.    0.75 %
 electrics                1142.    1.36 %
 avionics                  647.    0.77 %
 APU                       573.    0.68 %
 air conditioning          763.    0.91 %
 misc. systems            2100.    2.50 %
 _____________________  _______   _______
 fixed equipment total   13252.   15.78 %

 manufact. contingency       0.    0.00 %
 _____________________  _______   _______
 Manufact. Empty Mass    44541.   53.03 %  = MEW

 crew                     1102.    1.31 %
 operational items        4341.    5.17 %
 _____________________  _______   _______
 Operators Empty Mass    49984.   59.50 %  = OEW

 design payload          15800.   18.81 %
 design fuel             18216.   21.69 %
 _____________________  _______   _______
 Maximum Takeoff Mass    84000.   100   %  = MTOW




 Calculating Design RangeÉÉDone.

  RANGE REPORT 
  _____________

  {Takeoff mass 84000.lb./ Fuel 18216.lb./ Payload 15800.lb.}

  Range mode: fixed mach, step-up cruise, fixed climb sched. 

  Climb schedule: 250.kcas, 255.kcas, 0.650 mach

  Cruise at Mach = 0.720  {FL 350}

  ICA 35000.feet, 415.ktas, 242.kcas, CL=0.45, 2680.lbf./eng=MCR-9%
  FCA 35000.feet, 415.ktas, 242.kcas, CL=0.39, 2486.lbf./eng=MCR-16%

                Distance        Time        Fuel
                (n.miles)      (min.)      (lb.)
                _________      ______     _______
  Climb            134.          24.        2573.   {S.L to ICA}
  Cruise          1158.         167.        9900.   {ICA to ICA}
  Descent          129.          23.         623.   {ICA to S.L}
                _________      ______     _______
  Trip  total     1420.         213.       13095.
  Block total   =========       233.       13959.

  Emissions: taxi,t/o  climb   cruise  descent  app,taxi   total
  (lb.NOx)      2.7     30.4     62.3      1.8      1.9     99.1

  Manoeuvre allowances:
  taxi-out     214. lb. {extra to t/o mass}      9.min.
  takeoff      169. lb.                          1.min.
  approach     362. lb.                          5.min.
  taxi-in      119. lb. {taken from reserves}    5.min.

  Diversion distance          200. n.miles
  Diversion mach            0.648
  Diversion altitude        26061. feet
  Diversion fuel             2184. lb.

  Holding time                 45. minutes
  Holding mach              0.258
  Holding altitude           1500. feet
  Holding fuel               2406. lb.

  Contingency fuel              0. lb. {0.% of mission fuel}

  Total Reserve fuel         4590. lb.




 AERODYNAMIC DRAG REPORT at:
 ---------------------------
 MACH                  0.720
 Altitude (pressure)   35000. feet
 KTAS                  415.0
 KEAS                  231.0
 KCAS                  242.2
 Reynolds number       1.723  millions per foot
 Delta-ISA               +0.  deg.C.

 CL                    0.440  based on:
 Reference Area       1006.43 sq.feet  (trapezoidal)

 Drag Coefficients based on ref.area
 -----------------------------------

 Cd Zero-Lift              0.01922    (65.9 %)
 Cd Lift-Induced           0.00867    (29.7 %)
 Cd Compressibility        0.00115    ( 4.0 %)
 Cd Trim                   0.00013    ( 0.5 %)
 Delta Cd (polar-mod)      0.00000    ( 0.0 %)
                           -------    --------
 Cd Total                  0.02917    ( 100 %)

 Aerodynamic Boundaries:
 -----------------------
 Divergence Mach         0.737 {at the given CL 0.440}
 Initial Buffet Mach     0.861 {at the given CL 0.440}
 Initial Buffet CL       0.881 {at the given Mach 0.720}

 Zero-Lift Component Breakdown (Drag Areas,= Cd*S = D/q)
 -----------------------------

 Wing                    5.901  sq.feet    (30.5 %)
 Winglets                0.000  sq.feet    ( 0.0 %)
 Fuselage &amp; fairing      7.886  sq.feet    (40.8 %)
 Stabiliser              1.862  sq.feet    ( 9.6 %)
 Fin                     1.291  sq.feet    ( 6.7 %)  (incl.dorsal)
 Nacelles (total)        2.403  sq.feet    (12.4 %)
 User CdS Increment      0.000  sq.feet    ( 0.0 %)
                       -------             --------
 Total Cd0*S            19.342  sq.feet    ( 100 %)

 Overall Lift / Drag Ratio = 15.08 
 =================================

 Total Lift Force       80000. lbf.
 Total Drag Force        5306. lbf. (2653.lbf. per engine) 


 Engine / Airframe Performance:
 ------------------------------
 Total Fuel Flow at Thrust=Drag:       3665. lb/hr
 Specific Fuel Consumption (SFC)       0.6908 lb/hr/lbf
 Specific Air Range (SAR)              0.1132 nm/lb
 Emissions Index, NOx                  6.56 g/kg.
 Available Total Thrust at MCR:        5901. lbf.
 Available Total Thrust at MCL:        6394. lbf.

 Instantaneous Performance Reserves at Weight=Lift:
 
 RoC at MCR, constant Mach 0.720:      335. feet/min
 RoC at MCR, constant 242.KCAS:        249. feet/min

 RoC at MCL, constant Mach 0.720:      613. feet/min
 RoC at MCL, constant 242.KCAS:        455. feet/min



 Climb from 1500.feet to:   35000.feet
 --------------------------------------------------
 Time                22.72     minutes
 Fuel burn           2461.     lb.
 Distance            129.8     n.miles

 Initial mass        84000.    lb.
 Airspeed schedule   250.kcas, 255.kcas, 0.650 mach
 Delta-ISA           +0.       deg.C. 

 NOx emissions       28.82     lb.
 --------------------------------------------------

 Climb details
 
  Alt.     Time      Dist.      Burn      FN/eng    R.o.C.    NOx   
 (feet)    (sec)   (n.miles)    (lb.)     (lbf.)    (f.p.m)   (lb.) 

  1500.       0.       0.0         0.       7205.    2542.      0.0
  2655.      28.       2.0        73.       7026.    2476.      1.1
  3810.      56.       4.0       146.       6852.    2410.      2.1
  4966.      85.       6.2       219.       6683.    2345.      3.1
  6121.     115.       8.4       292.       6516.    2279.      4.1
  7276.     146.      10.8       365.       6350.    2211.      5.2
  8431.     178.      13.3       439.       6186.    2141.      6.2
  9586.     211.      15.9       514.       6024.    2071.      7.1
 10741.     249.      19.0       598.       5852.    1995.      8.3
 11897.     284.      21.9       674.       5717.    1936.      9.2
 13052.     320.      25.0       751.       5583.    1875.     10.2
 14207.     358.      28.2       829.       5451.    1814.     11.2
 15362.     397.      31.7       908.       5327.    1756.     12.2
 16517.     437.      35.2       987.       5205.    1698.     13.2
 17672.     479.      39.0      1067.       5084.    1638.     14.1
 18828.     522.      43.0      1149.       4964.    1577.     15.1
 19983.     567.      47.3      1232.       4845.    1515.     16.1
 21138.     614.      51.8      1317.       4718.    1442.     17.1
 22293.     663.      56.6      1404.       4596.    1368.     18.1
 23448.     715.      61.8      1494.       4476.    1295.     19.1
 24603.     770.      67.3      1587.       4363.    1224.     20.1
 25759.     828.      73.4      1684.       4255.    1155.     21.2
 26914.     890.      79.9      1784.       4150.    1087.     22.3
 28069.     948.      86.0      1877.       4050.    1321.     23.3
 29224.    1002.      91.8      1961.       3955.    1272.     24.1
 30379.    1058.      97.8      2047.       3838.    1197.     25.0
 31534.    1119.     104.3      2138.       3677.    1071.     25.9
 32690.    1188.     111.5      2235.       3515.     941.     26.9
 33845.    1268.     119.9      2341.       3354.     807.     27.8
 35000.    1363.     129.8      2461.       3192.     668.     28.8




 TAKEOFF PERFORMANCE {84000.lb., elevation 0.feet, ISA+0.deg.C.}
 ___________________

 JAR25 Takeoff Field Length     4919. feet 

 115% Factored All-Eng.Dist.    4820. feet
 Balanced Field Length          4919. feet

 2nd Segment Climb Gradient     5.59 %

 Takeoff CLmax            1.91  {trapezoidal ref.area}
 Takeoff Vstall           114.  keas
 Takeoff Vfail            129.  keas
 Takeoff V2               136.  keas
 L/D at 2nd segment      12.54  {incl.windmill &amp; asymm.}

 Takeoff Wing Loading      83.  p.s.f.{trap.W/S}
 Takeoff Thrust/Weight   0.325  available static 


 LANDING PERFORMANCE {78999.lb., elevation 0.feet, ISA+0.deg.C.}
 ___________________

 JAR25 Landing Field Length     4181. feet

 Landing Distance (LFL*0.6)     2508. feet
 Landing Ground Roll            1502. feet

 Landing  CLmax           2.43  {trapezoidal ref.area}
 Landing  Vstall           98.  keas
 Approach Speed           127.  keas
 Approach L/D             4.91  {gear down}




 Iterating for Off-Design Range..Done.

  RANGE REPORT 
  _____________

  {Takeoff mass 75773.lb./ Fuel 9989.lb./ Payload 15800.lb.}

  Range mode: fixed mach, step-up cruise, fixed climb sched. 

  Climb schedule: 250.kcas, 255.kcas, 0.650 mach

  Cruise at Mach = 0.720  {FL 350}

  ICA 35000.feet, 415.ktas, 242.kcas, CL=0.40, 2525.lbf./eng=MCR-14%
  FCA 35000.feet, 415.ktas, 242.kcas, CL=0.39, 2484.lbf./eng=MCR-16%

                Distance        Time        Fuel
                (n.miles)      (min.)      (lb.)
                _________      ______     _______
  Climb            110.          19.        2149.   {S.L to ICA}
  Cruise           262.          38.        2179.   {ICA to ICA}
  Descent          127.          22.         617.   {ICA to S.L}
                _________      ______     _______
  Trip  total      500.          80.        4945.
  Block total   =========       100.        5809.

  Emissions: taxi,t/o  climb   cruise  descent  app,taxi   total
  (lb.NOx)      2.7     25.5     13.2      1.7      1.9     45.1



  Prices, millions of U.S.$ 
  ________________________________

  Airframe                  11.63
  Engines                    3.08
  Aircraft Delivery Price   14.71 
  ________________________________

  Costing method: aea-89-medium-range
  
  Operating Costs       U.S.$/trip    % of total
  ______________________________________________
          
  Depreciation              636.       11.79
  Interest                  494.        9.14
  Insurance                  43.        0.80

  Flight Crew               845.       15.65
  Cabin Crew                416.        7.70
  Landing Fees              297.        5.50
  Navigation                404.        7.49
  Ground handling           717.       13.27

  Fuel                      650.       12.03   {0.750 $/US.gal.}

  Airframe Maintenance      580.       10.75
  Engines Maintenance       317.        5.87
  ________________________________________________

  Total Ownership          1173.    U.S.$ per trip
  Total Cash               4225.    U.S.$ per trip
  Total D.O.C.             5399.    U.S.$ per trip
  ________________________________________________

  Utilization             1697      trips/year
  Block time              1.71      hours
  Block distance          500.      n.miles
  Block fuel              5777.     lb.
  Block fuel/seat         73.       lb./seat
  D.O.C./ block hour      3157.     U.S.$/hr
  D.O.C./ seat            68.       U.S.$/seat
  D.O.C./ seat-n.mile     0.13667   U.S.$/seat-n.mile



 PAYLOAD-RANGE
 _____________

 Range mode: fixed mach, step-up 

 Max.payload / MTOW case
 _______________________
 Payload       22016. lb.
 Range           651. n.miles
 Fuel          12000. lb.
 Cruise mach   0.720
 Cruise alt.   35000. feet

 Fuel volume limit / MTOW case (kinkpoint)
 _____________________________
 Payload       10464. lb.
 Range          2109. n.miles
 Fuel          23552. lb.
 Cruise mach   0.720
 Cruise alt.   35000. feet

 Zero payload / TOW=OEW+max.fuel case
 ____________________________________
 Payload        zero
 Range          2351. n.miles
 TOW           73536. lb.
 Fuel          23552. lb.
 Cruise mach   0.720
 Cruise alt.   35000. feet


</pre>
</blockquote> 
<hr>

<font size="-1">
<p align="center"> |
<a href="http://web.archive.org/web/20050308045500/http://www.lissys.demon.co.uk/index.html#Index"> Home </a> |
<a href="http://web.archive.org/web/20050308045500/http://www.lissys.demon.co.uk/f7tx1.html"> Fokker F70 </a> |
</p>
</font>








</body></html>
<!--
     FILE ARCHIVED ON 4:55:00 Mar 8, 2005 AND RETRIEVED FROM THE
     INTERNET ARCHIVE ON 9:27:03 Jan 26, 2014.
     JAVASCRIPT APPENDED BY WAYBACK MACHINE, COPYRIGHT INTERNET ARCHIVE.

     ALL OTHER CONTENT MAY ALSO BE PROTECTED BY COPYRIGHT (17 U.S.C.
     SECTION 108(a)(3)).
-->
// This file instructs the automatic synchronization utilities where to
// install this aircraft and under what name.
//
// The syntax is easy;
// * the package name at the beginning of a new line followed by a colon
// * a space as a column separator
// * the path and filename relative to the aircraft install directory
//
// Currently known package names are: FlightGear

FlightGear:
<?xml version='1.0' encoding='UTF-8' ?>
<system name="pushback">
 <property>/sim/model/pushback/target-speed-fps</property>
 <channel name="Pushback">

   <switch name="systems/pushback/linked">
     <default value="-1"/>
     <test value="0">
       /sim/model/pushback/position-norm gt 0.95
       /gear/gear/wow == 1
       gear/unit[0]/wheel-speed-fps lt 50
     </test>
   </switch>

   <summer name="systems/pushback/speed-error">
     <input>/sim/model/pushback/target-speed-fps</input>
     <input>-gear/unit[0]/wheel-speed-fps</input>
   </summer>

   <pid name="systems/pushback/force">
     <input>systems/pushback/speed-error</input>
     <kp>/sim/model/pushback/kp</kp>
     <ki>/sim/model/pushback/ki</ki>
     <kd>/sim/model/pushback/kd</kd>
     <trigger>systems/pushback/linked</trigger>
     <output>/sim/model/pushback/force</output>
   </pid>

   <switch name="systems/pushback/force-output">
     <default value="0"/>
     <test value="systems/pushback/force">
       systems/pushback/linked == 0
     </test>
     <output>external_reactions/pushback/magnitude</output>
   </switch>

 </channel>
</system><?xml version="1.0"?>
<?xml-stylesheet type="text/xsl" href="http://jsbsim.sourceforge.net/JSBSim.xsl"?>
<fdm_config name="Fokker-100" version="2.0" release="ALPHA"
   xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
   xsi:noNamespaceSchemaLocation="http://jsbsim.sourceforge.net/JSBSim.xsd">

 <fileheader>
  <author> Erik Hofman </author>
  <filecreationdate>2010-08-08</filecreationdate>
  <version>$Revision: 1.32 $</version>
  <description> Fokker-100 commercial airliner </description>
  <reference title="Butterworth-Heinemann - Civil Jet Aircraft Design (BH)
        http://www.elsevierdirect.com/companions/9780340741528/appendices/data-a/table-8/table.htm"/>
  <reference title="Lissys - PIANO aircraft analysis software
        http://www.lissys.demon.co.uk/f7tx2.html"/>
  <reference title="Aerodynamic Design of Transport Aircraft
        http://www.scribd.com/doc/23956816/Aerodynamic-Design-of-Transport-Aircraft"/>
      <note>
        This model was created using publicly available data, publicly available
        technical reports, textbooks, and guesses. It contains no proprietary or
        restricted data. If this model has been validated at all, it would be
        only to the extent that it seems to "fly right", and that it possibly
        complies with published, publicly known, performance data (maximum speed,
        endurance, etc.). Thus, this model is meant for educational and entertainment
        purposes only.

        This simulation model is not endorsed by the manufacturer. This model is not
        to be sold.
      </note>
 </fileheader>

<!--
  File:     Fokker-100.xml
  Inputs:
    name:          Fokker-100
    type:          two-engine transonic transport
    max weight:    95013.45 lb
    wing span:     92.13048 ft
    length:        106.6325 ft
    wing area:     1006.5275 sq-ft
    gear type:     tricycle
    retractable?:  yes
    # engines:     2
    engine type:   turbine
    engine layout: aft fuselage
    yaw damper?    yes

  Outputs:
    wing loading:  94.40 lb/sq-ft
    CL-alpha:      4.4 per radian
    CL-0:          0.2
    CL-max:        1.72
    CD-0:          0.02
    K:             0.043

-->

 <metrics>
   <wingarea  unit="FT2"> 1006.53 </wingarea>
   <wingspan  unit="FT" >   92.13 </wingspan>
   <wing_incidence>          2.00 </wing_incidence>
   <chord     unit="FT" >   12.4671 </chord>
   <htailarea unit="FT2">  233.792 </htailarea>
   <htailarm  unit="FT" >   52.4934 </htailarm>
   <vtailarea unit="FT2">  132.396 </vtailarea>
   <vtailarm  unit="FT" >   44.6194 </vtailarm>
   <location name="AERORP" unit="IN">
     <x> 699.48 </x> <!-- 668.48 -->
     <y>   0.00 </y>
     <z>  38.00 </z>
   </location>
   <location name="EYEPOINT" unit="IN">
     <x> 122.04 </x>
     <y> -30.00 </y>
     <z>  88.94 </z>
   </location>
   <location name="VRP" unit="IN">
     <x> 101.65 </x>
     <y>   0.0  </y>
     <z>   0.0  </z>
   </location>
 </metrics>

 <mass_balance>
   <ixx unit="SLUG*FT2">    234805 </ixx>
   <iyy unit="SLUG*FT2">    726720 </iyy>
   <izz unit="SLUG*FT2">    925012 </izz>
   <emptywt unit="LBS" >     54217 </emptywt>
   <location name="CG" unit="IN">
     <x> 719.81 </x> <!-- 693.81 -->
     <y>   0.00 </y>
     <z>  38.12 </z>
   </location>
   <pointmass name="pilot">
     <weight unit="LBS"> 230 </weight>
     <location name="POINTMASS" unit="IN">
       <x> 122.04 </x>
       <y> -30.0 </y>
       <z>  66.0 </z>
     </location>
   </pointmass>
   <pointmass name="copilot">
     <weight unit="LBS"> 230 </weight>
     <location name="POINTMASS" unit="IN">
       <x> 122.04 </x>
       <y>  30.0 </y>
       <z>  66.0 </z>
     </location>
   </pointmass>
   <pointmass name="steward">
     <weight unit="LBS"> 400 </weight>
     <location name="POINTMASS" unit="IN">
       <x>  218 </x>
       <y>  32.0 </y>
       <z>  66.0 </z>
     </location>
   </pointmass>
 </mass_balance>

 <ground_reactions>

  <contact type="BOGEY" name="NOSE">
   <location unit="IN">
     <x> 172.87 </x>
     <y>   0.00 </y>
     <z> -55.73 </z>
   </location>
   <static_friction>  0.80 </static_friction>
   <dynamic_friction> 0.50 </dynamic_friction>
   <rolling_friction> 0.02 </rolling_friction>
   <spring_coeff unit="LBS/FT">       7750.03 </spring_coeff>
   <damping_coeff unit="LBS/FT/SEC">  1600.34 </damping_coeff>
   <max_steer unit="DEG"> 5.00 </max_steer>
   <brake_group>NONE</brake_group>
   <retractable>1</retractable>
 </contact>

  <contact type="BOGEY" name="LEFT_MAIN">
   <location unit="IN">
     <x> 731.93 </x>
     <y>-101.65 </y>
     <z> -63.53 </z>
   </location>
   <static_friction>  0.80 </static_friction>
   <dynamic_friction> 0.50 </dynamic_friction>
   <rolling_friction> 0.02 </rolling_friction>
   <spring_coeff unit="LBS/FT">      95013.45 </spring_coeff>
   <damping_coeff unit="LBS/FT/SEC"> 19002.69 </damping_coeff>
   <max_steer unit="DEG">0</max_steer>
   <brake_group>LEFT</brake_group>
   <retractable>1</retractable>
 </contact>

  <contact type="BOGEY" name="RIGHT_MAIN">
   <location unit="IN">
     <x> 731.93 </x>
     <y> 101.65 </y>
     <z> -63.53 </z>
   </location>
   <static_friction>  0.80 </static_friction>
   <dynamic_friction> 0.50 </dynamic_friction>
   <rolling_friction> 0.02 </rolling_friction>
   <spring_coeff unit="LBS/FT">      95013.45 </spring_coeff>
   <damping_coeff unit="LBS/FT/SEC"> 19002.69 </damping_coeff>
   <max_steer unit="DEG">0</max_steer>
   <brake_group>RIGHT</brake_group>
   <retractable>1</retractable>
 </contact>

  <contact type="STRUCTURE" name="LEFT_WING">
    <location unit="IN">
     <x> 753.77 </x>
     <y>-1105.4 </y>
     <z>   0.0 </z>
    </location>
    <static_friction>  0.80 </static_friction>
    <dynamic_friction> 0.50 </dynamic_friction>
    <spring_coeff unit="LBS/FT">      95013.45 </spring_coeff>
    <damping_coeff unit="LBS/FT/SEC"> 19002.69 </damping_coeff>
 </contact>

  <contact type="STRUCTURE" name="RIGHT_WING">
    <location unit="IN">
     <x> 753.77 </x>
     <y> 1105.4 </y>
     <z>   0.0  </z>
    </location>
    <static_friction>  0.80 </static_friction>
    <dynamic_friction> 0.50 </dynamic_friction>
    <spring_coeff unit="LBS/FT">      95013.45 </spring_coeff>
    <damping_coeff unit="LBS/FT/SEC"> 19002.69 </damping_coeff>
 </contact>

 </ground_reactions>

 <external_reactions>
    <force name="pushback" frame="BODY">
       <location unit="IN">
          <x>-139</x>
          <y>0</y>
          <z>-71</z>
       </location>
       <direction>
          <x>1</x>
          <y>0</y>
          <z>0</z>
       </direction>
    </force>
 </external_reactions>

 <propulsion>

   <engine file="Tay-620">
    <feed>0</feed>
    <thruster file="direct">
     <location unit="IN">
       <x>  922.52 </x>
       <y> -101.65 </y>
       <z>   43.53 </z>
     </location>
     <orient unit="DEG">
       <pitch> 0.00 </pitch>
       <roll>  0.00 </roll>
       <yaw>   0.00 </yaw>
     </orient>
    </thruster>
  </engine>

   <engine file="Tay-620">
    <feed>1</feed>
    <thruster file="direct">
     <location unit="IN">
       <x>  922.52 </x>
       <y>  101.65 </y>
       <z>   43.53 </z>
     </location>
     <orient unit="DEG">
       <pitch> 0.00 </pitch>
       <roll>  0.00 </roll>
       <yaw>   0.00 </yaw>
     </orient>
    </thruster>
  </engine>

  <tank type="FUEL" number="0">
     <location unit="IN">
       <x> 713.81 </x>
       <y>-190.59 </y>
       <z>   0.0  </z>
     </location>
     <capacity unit="LBS"> 13360.01 </capacity>
     <contents unit="LBS">  8688.50 </contents>
  </tank>

  <tank type="FUEL" number="1">
     <location unit="IN">
       <x> 713.81 </x>
       <y> 190.59 </y>
       <z>   0.0  </z>
     </location>
     <capacity unit="LBS"> 13360.01 </capacity>
     <contents unit="LBS">  8688.50 </contents>
  </tank>
<!--
  <tank type="FUEL" number="2">
     <location unit="IN">
       <x> 703.77 </x>
       <y>   0.00 </y>
       <z> -31.99 </z>
     </location>
     <capacity unit="LBS"> 1377.01 </capacity>
     <contents unit="LBS"> 688.50 </contents>
  </tank>
-->
 </propulsion>

 <system file="pushback"/>

 <flight_control name="FCS: Fokker-100">

  <channel name="Pitch">
   <summer name="fcs/pitch-trim-sum">
      <input>fcs/elevator-cmd-norm</input>
      <input>fcs/pitch-trim-cmd-norm</input>
      <clipto>
        <min> -1 </min>
        <max>  1 </max>
      </clipto>
   </summer>

   <aerosurface_scale name="fcs/elevator-control">
      <input>fcs/pitch-trim-sum</input>
      <range>
        <min> -0.35 </min>
        <max>  0.35 </max>
      </range>
      <output>fcs/elevator-pos-rad</output>
   </aerosurface_scale>

   <aerosurface_scale name="fcs/elevator-normalization">
      <input>fcs/elevator-pos-rad</input>
      <domain>
        <min> -0.35 </min>
        <max>  0.35 </max>
      </domain>
      <range>
        <min> -1 </min>
        <max>  1 </max>
      </range>
      <output>fcs/elevator-pos-norm</output>
   </aerosurface_scale>

  </channel>

  <channel name="Roll">
   <summer name="fcs/roll-trim-sum">
      <input>fcs/aileron-cmd-norm</input>
      <input>fcs/roll-trim-cmd-norm</input>
      <clipto>
        <min> -1 </min>
        <max>  1 </max>
      </clipto>
   </summer>

   <aerosurface_scale name="fcs/left-aileron-control">
      <input>fcs/roll-trim-sum</input>
      <range>
        <min> -0.35 </min>
        <max>  0.35 </max>
      </range>
      <output>fcs/left-aileron-pos-rad</output>
   </aerosurface_scale>

   <aerosurface_scale name="fcs/right-aileron-control">
      <input>fcs/roll-trim-sum</input>
      <range>
        <min> -0.35 </min>
        <max>  0.35 </max>
      </range>
      <output>fcs/right-aileron-pos-rad</output>
   </aerosurface_scale>

   <aerosurface_scale name="fcs/left-aileron-normalization">
      <input>fcs/left-aileron-pos-rad</input>
      <domain>
        <min> -0.35 </min>
        <max>  0.35 </max>
      </domain>
      <range>
        <min> -1 </min>
        <max>  1 </max>
      </range>
      <output>fcs/left-aileron-pos-norm</output>
   </aerosurface_scale>

   <aerosurface_scale name="fcs/right-aileron-normalization">
      <input>fcs/right-aileron-pos-rad</input>
      <domain>
        <min> -0.35 </min>
        <max>  0.35 </max>
      </domain>
      <range>
        <min> -1 </min>
        <max>  1 </max>
      </range>
      <output>fcs/right-aileron-pos-norm</output>
   </aerosurface_scale>

  </channel>

  <channel name="Yaw">
   <summer name="fcs/rudder-command-sum">
      <input>fcs/rudder-cmd-norm</input>
      <input>fcs/yaw-trim-cmd-norm</input>
      <clipto>
        <min> -0.35 </min>
        <max>  0.35 </max>
      </clipto>
   </summer>

   <scheduled_gain name="fcs/yaw-damper-rate">
      <input>velocities/r-aero-rad_sec</input>
      <table>
        <independentVar lookup="row">velocities/ve-kts</independentVar>
         <tableData>
            30     0.00
            60     2.00
         </tableData>
      </table>
   </scheduled_gain>

   <scheduled_gain name="fcs/yaw-damper-beta">
      <input>aero/beta-rad</input>
      <table>
        <independentVar lookup="row">velocities/ve-kts</independentVar>
        <tableData>
           30     0.00
           60     0.00
        </tableData>
      </table>
   </scheduled_gain>

   <summer name="fcs/yaw-damper-sum">
      <input>fcs/yaw-damper-beta</input>
      <input>fcs/yaw-damper-rate</input>
      <clipto>
        <min> -0.1 </min>
        <max>  0.1 </max>
      </clipto>
   </summer>

   <scheduled_gain name="fcs/yaw-damper-final">
      <input>fcs/yaw-damper-sum</input>
      <table>
        <independentVar lookup="row">velocities/ve-kts</independentVar>
        <tableData>
           30         0.0
           31         1.0
        </tableData>
      </table>
   </scheduled_gain>

   <summer name="fcs/rudder-sum">
      <input>fcs/rudder-command-sum</input>
      <input>fcs/yaw-damper-final</input>
      <clipto>
        <min> -1 </min>
        <max>  1 </max>
      </clipto>
   </summer>

   <aerosurface_scale name="fcs/rudder-control">
      <input>fcs/rudder-sum</input>
      <range>
        <min> -0.35 </min>
        <max>  0.35 </max>
      </range>
      <output>fcs/rudder-pos-rad</output>
   </aerosurface_scale>

   <aerosurface_scale name="rcs/rudder-normalization">
      <input>fcs/rudder-pos-rad</input>
      <domain>
        <min> -0.35 </min>
        <max>  0.35 </max>
      </domain>
      <range>
        <min> -1 </min>
        <max>  1 </max>
      </range>
      <output>fcs/rudder-pos-norm</output>
   </aerosurface_scale>

  </channel>

  <channel name="Flaps">
   <kinematic name="fcs/flaps-control">
     <input>fcs/flap-cmd-norm</input>
     <traverse>
       <setting>
         <position>0</position>
         <time>0</time>
       </setting>
       <setting>
         <position>8</position>
         <time>3</time>
       </setting>
       <setting>
         <position>15</position>
         <time>3</time>
       </setting>
       <setting>
         <position>25</position>
         <time>4</time>
       </setting>
       <setting>
         <position>42</position>
         <time>4</time>
       </setting>
     </traverse>
     <output>fcs/flap-pos-deg</output>
   </kinematic>

   <aerosurface_scale name="fcs/flap-normalization">
      <input>fcs/flap-pos-deg</input>
      <domain>
        <min>0</min>
        <max>42</max>
      </domain>
      <range>
        <min>0</min>
        <max>1</max>
      </range>
      <output>fcs/flap-pos-norm</output>
   </aerosurface_scale>

  </channel>

  <channel name="Landing Gear">
   <kinematic name="fcs/gear-control">
     <input>gear/gear-cmd-norm</input>
     <traverse>
       <setting>
          <position> 0 </position>
          <time>     0 </time>
       </setting>
       <setting>
          <position> 1 </position>
          <time>     5 </time>
       </setting>
     </traverse>
     <output>gear/gear-pos-norm</output>
   </kinematic>

  </channel>

  <channel name="Speedbrake">
   <kinematic name="fcs/speedbrake-control">
     <input>fcs/speedbrake-cmd-norm</input>
     <traverse>
       <setting>
          <position> 0 </position>
          <time>     0 </time>
       </setting>
       <setting>
          <position> 1 </position>
          <time>     1 </time>
       </setting>
     </traverse>
     <output>fcs/speedbrake-pos-norm</output>
   </kinematic>
  </channel>


  <channel name="Spoilers">
   <kinematic name="fcs/spoiler-control">
     <input>fcs/spoiler-cmd-norm</input>
     <traverse>
        <setting>
          <position>0</position>
          <time>0</time>
        </setting>
        <setting>
          <position>1</position>
          <time>1</time>
        </setting>
     </traverse>
     <output>fcs/spoiler-pos-norm</output>
   </kinematic>
  </channel>
 </flight_control>

    <aerodynamics>  

        <function name="aero/function/kCDge">
            <description>Change_in_drag_due_to_ground_effect</description>
            <table>
                <independentVar>aero/h_b-mac-ft</independentVar>
                <tableData>
                    0.0000	0.0350
                    0.1000	0.4170
                    0.1500	0.5390
                    0.2000	0.6240
                    0.3000	0.7510
                    0.4000	0.8000
                    0.5000	0.8960
                    0.6000	0.9390
                    0.7000	0.9740
                    0.8000	0.9810
                    0.9000	0.9900
                    1.0000	0.9940
                    1.1000	1.0000
                </tableData>
            </table>
        </function>

        <function name="aero/function/kCLge">
            <description>Change_in_lift_due_to_ground_effect</description>
            <table>
                <independentVar>aero/h_b-mac-ft</independentVar>
                <tableData>
                    0.0000	1.3910
                    0.1000	1.2350
                    0.1500	1.1670
                    0.2000	1.1350
                    0.3000	1.0850
                    0.4000	1.1020
                    0.5000	1.0350
                    0.6000	1.0240
                    0.7000	1.0150
                    0.8000	1.0110
                    0.9000	1.0060
                    1.0000	1.0040
                    1.1000	1.0000
                </tableData>
            </table>
        </function>

        <function name="aero/function/kCmge">
            <description>Change_in_pitch_due_to_ground_effect</description>
            <table>
                <independentVar>aero/h_b-mac-ft</independentVar>
                <tableData>
                    0.0000	1.2030
                    0.1000	1.1270
                    0.1500	1.0900
                    0.2000	1.0730
                    0.3000	1.0460
                    0.4000	1.0550
                    0.5000	1.0190
                    0.6000	1.0130
                    0.7000	1.0080
                    0.8000	1.0060
                    0.9000	1.0030
                    1.0000	1.0020
                    1.1000	1.0000
                </tableData>
            </table>
        </function>


        <axis name="DRAG">
            <function name="aero/coefficient/CD0">
                <description>Drag_at_zero_lift</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>aero/function/kCDge</property>
                      <table>
                          <independentVar>aero/alpha-rad</independentVar>
                          <tableData>
                              -1.5700	1.5000
                              -0.2600	0.0400
                              0.0000	0.01922
                              0.2600	0.0400
                              1.5700	1.5000
                          </tableData>
                      </table>
                </product>
            </function>
            <function name="aero/coefficient/CDi">
                <description>Induced_drag</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>aero/function/kCDge</property>
                    <table>
                          <independentVar>velocities/mach</independentVar>
                          <tableData>
                              0.458     0.04432
                              0.546	0.02207
                              0.600	0.01469
                              0.720	0.00867
                              0.800	0.00478
                              0.860	0.00358
                          </tableData>
                      </table>
                </product>
            </function>
            <function name="aero/coefficient/CDDflap">
                <description>Drag_due_to_flap_deflection</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>aero/function/kCDge</property>
                    <table>
                          <independentVar lookup="row">aero/alpha-rad</independentVar>
                          <independentVar lookup="column">fcs/flap-pos-deg</independentVar>
                          <tableData>
                                     0.000  25.0   42.0
                              -0.07  0.0000 0.0047 0.0156
                               0.00  0.0000 0.0070 0.0200
                               0.03  0.0001 0.0077 0.0225
                               0.07  0.0005 0.0089 0.0257
                               0.10  0.0008 0.0129 0.0276
                               0.14  0.0025 0.0156 0.0313
                          </tableData>
                      </table>
                </product>
            </function>
            <function name="aero/coefficient/CDmach">
                <description>Drag_due_to_mach</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                      <table>
                          <independentVar>velocities/mach</independentVar>
                          <tableData>
                              0.000	0.00000
                              0.600	0.00000
                              0.650	0.00026
                              0.720	0.00115
                              0.770	0.00251
                              0.800	0.00373
                              0.848	0.01067
                              0.860	0.01858
                              1.000	0.02737
                          </tableData>
                      </table>
                </product>
            </function>
            <function name="aero/coefficient/CDgear">
                <description>Drag_due_to_gear</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>gear/gear-pos-norm</property>
                    <value>0.0120</value>
                </product>
            </function>
            <function name="aero/coefficient/CDsb">
                <description>Drag_due_to_speedbrakes</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>fcs/speedbrake-pos-norm</property>
                    <value>0.1200</value>
                </product>
            </function>
            <function name="aero/coefficient/CDsp">
                <description>Drag_due_to_spoilers</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>fcs/spoiler-pos-norm</property>
                    <value>0.0280</value>
                </product>
            </function>
            <function name="aero/coefficient/CDrv">
                <description>Drag_due_to_reverse</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>propulsion/engine[0]/reverser-angle-rad</property>
                    <property>propulsion/engine[1]/reverser-angle-rad</property>
                    <value>0.0187</value>
                </product>
            </function>
            <function name="aero/coefficient/CDbeta">
                <description>Drag_due_to_sideslip</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                      <table>
                          <independentVar>aero/beta-rad</independentVar>
                          <tableData>
                              -1.5700	1.2300
                              -0.2600	0.0500
                              0.0000	0.0000
                              0.2600	0.0500
                              1.5700	1.2300
                          </tableData>
                      </table>
                </product>
            </function>
            <function name="aero/coefficient/CDde">
                <description>Drag_due_to_Elevator_Deflection</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>fcs/mag-elevator-pos-rad</property>
                    <value>0.0590</value>
                </product>
            </function>
        </axis>

        <axis name="SIDE">
            <function name="aero/coefficient/CYb">
                <description>Side_force_due_to_beta</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>aero/beta-rad</property>
                    <value>-1.0000</value>
                </product>
            </function>
        </axis>

        <axis name="LIFT">
            <function name="aero/coefficient/CLflaps">
                <description>Lift_due_to_flap_deflection</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>aero/function/kCLge</property>
                      <table>
                          <independentVar lookup="row">aero/alpha-rad</independentVar>
                          <independentVar lookup="column">fcs/flap-pos-deg</independentVar>
                          <tableData>
                                     0.000  25.0   42.0 
                               0.00  0.217  0.837  1.269
                               0.17  1.109  1.701  2.173
                               0.21  1.270  1.827  2.308
                               0.24  1.400  1.722  1.908
                               0.28  1.336  0.707  0.000
                               0.60  0.600  0.000  0.000
                          </tableData>
                      </table>
                </product>
            </function>
            <function name="aero/coefficient/dCLsp">
                <description>Delta_Lift_due_to_spoiler</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>fcs/spoiler-pos-norm</property>
                    <property>aero/function/kCLge</property>
                    <value>-0.1200</value>
                </product>
            </function>
            <function name="aero/coefficient/CLde">
                <description>Lift_due_to_Elevator_Deflection</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>fcs/elevator-pos-rad</property>
                    <value>0.2000</value>
                </product>
            </function>
        </axis>

        <axis name="ROLL">
            <function name="aero/coefficient/Clb">
                <description>Roll_moment_due_to_beta</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>aero/beta-rad</property>
                    <value>-0.1000</value>
                </product>
            </function>
            <function name="aero/coefficient/Clp">
                <description>Roll_moment_due_to_roll_rate</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>aero/bi2vel</property>
                    <property>velocities/p-aero-rad_sec</property>
                    <value>-0.4000</value>
                </product>
            </function>
            <function name="aero/coefficient/Clr">
                <description>Roll_moment_due_to_yaw_rate</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>aero/bi2vel</property>
                    <property>velocities/r-aero-rad_sec</property>
                    <value>0.1500</value>
                </product>
            </function>
            <function name="aero/coefficient/Clda">
                <description>Roll_moment_due_to_aileron</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <table>
                          <independentVar lookup="row">velocities/mach</independentVar>
                          <independentVar lookup="column">fcs/left-aileron-pos-rad</independentVar>
                          <tableData>
                                    -0.349 -0.1745 0.000  0.1745 0.349
                               0.00 -0.043 -0.022  0.000  0.022  0.043
                               0.60 -0.043 -0.022  0.000  0.022  0.043
                               0.65 -0.037 -0.022  0.000  0.022  0.037
                               0.70 -0.027 -0.022  0.000  0.023  0.027
                               0.75 -0.027 -0.019  0.000  0.019  0.027
                               0.88 -0.026 -0.019  0.000  0.019  0.026
                          </tableData>
                      </table>
                </product>
            </function>
            <function name="aero/coefficient/Cldr">
                <description>Roll_moment_due_to_rudder</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>fcs/rudder-pos-rad</property>
                    <value>0.0100</value>
                </product>
            </function>
        </axis>

        <axis name="PITCH">
            <function name="aero/coefficient/Cmo">
                <description>Pitching_moment_at_zero_alpha</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/cbarw-ft</property>
                    <property>aero/function/kCmge</property>
                    <value>-0.000737</value>
                </product>
            </function>
            <function name="aero/coefficient/Cmalpha">
                <description>Pitch_moment_due_to_alpha</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/cbarw-ft</property>
                    <property>aero/alpha-rad</property>
                    <value>-0.6000</value>
                </product>
            </function>
            <function name="aero/coefficient/Cmde">
                <description>Pitch_moment_due_to_elevator</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/cbarw-ft</property>
                    <property>fcs/elevator-pos-rad</property>
                      <table>
                          <independentVar>velocities/mach</independentVar>
                          <tableData>
                              0.0000	-1.2000
                              2.0000	-0.3000
                          </tableData>
                      </table>
                </product>
            </function>
            <function name="aero/coefficient/Cmq">
                <description>Pitch_moment_due_to_pitch_rate</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/cbarw-ft</property>
                    <property>aero/ci2vel</property>
                    <property>velocities/q-aero-rad_sec</property>
                    <value>-31.0000</value>
                </product>
            </function>
            <function name="aero/coefficient/Cmadot">
                <description>Pitch_moment_due_to_alpha_rate</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/cbarw-ft</property>
                    <property>aero/ci2vel</property>
                    <property>aero/alphadot-rad_sec</property>
                    <value>-16.0000</value>
                </product>
            </function>
        </axis>

        <axis name="YAW">
            <function name="aero/coefficient/Cnb">
                <description>Yaw_moment_due_to_beta</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>aero/beta-rad</property>
                    <value>0.1200</value>
                </product>
            </function>
            <function name="aero/coefficient/Cnr">
                <description>Yaw_moment_due_to_yaw_rate</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>aero/bi2vel</property>
                    <property>velocities/r-aero-rad_sec</property>
                    <value>-0.1500</value>
                </product>
            </function>
            <function name="aero/coefficient/Cndr">
                <description>Yaw_moment_due_to_rudder</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>fcs/rudder-pos-rad</property>
                    <value>-0.1000</value>
                </product>
            </function>
            <function name="aero/coefficient/Cnda">
                <description>Adverse_yaw</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>fcs/left-aileron-pos-rad</property>
                    <value>0.0000</value>
                </product>
            </function>
        </axis>
    </aerodynamics>
</fdm_config>
<?xml version="1.0"?>
<?xml-stylesheet type="text/xsl" href="http://jsbsim.sourceforge.net/JSBSim.xsl"?>
<fdm_config name="Fokker 70" version="2.0" release="BETA"
   xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
   xsi:noNamespaceSchemaLocation="http://jsbsim.sourceforge.net/JSBSim.xsd">

 <fileheader>
  <author> Erik Hofman </author>
  <filecreationdate> 2010-08-08 </filecreationdate>
  <version> $Revision: 1.3 $ </version>
  <description> Fokker 70 commercial airliner </description>
  <reference title="Butterworth-Heinemann - Civil Jet Aircraft Design (BH)
        http://www.elsevierdirect.com/companions/9780340741528/appendices/data-a/table-8/table.htm"/>
  <reference title="Lissys - PIANO aircraft analysis software
        http://www.lissys.demon.co.uk/f7tx2.html"/>
  <reference title="Aerodynamic Design of Transport Aircraft
        http://www.scribd.com/doc/23956816/Aerodynamic-Design-of-Transport-Aircraft"/>
 </fileheader>

<!--
  File:     Fokker-70.xml
  Inputs:
    name:          Fokker-70
    type:          two-engine transonic transport
    max weight:    81011.7 lb
    wing span:     92.13048 ft
    length:        91.47428 ft
    wing area:     1006.5275 sq-ft
    gear type:     tricycle
    retractable?:  yes
    # engines:     2
    engine type:   turbine
    engine layout: aft fuselage
    yaw damper?    yes

  Outputs:
    wing loading:  80.49 lb/sq-ft
    CL-alpha:      4.4 per radian
    CL-0:          0.2
    CL-max:        1.72
    CD-0:          0.02
    K:             0.043

-->


 <metrics>
   <wingarea  unit="FT2"> 1006.53 </wingarea>
   <wingspan  unit="FT" >   92.13 </wingspan>
   <wing_incidence>          2.00 </wing_incidence>
   <chord     unit="FT" >   12.4671 </chord>
   <htailarea unit="FT2">  233.792 </htailarea>
   <htailarm  unit="FT" >   47.2440 </htailarm>
   <vtailarea unit="FT2">  132.396 </vtailarea>
   <vtailarm  unit="FT" >   37.4015 </vtailarm>
   <location name="AERORP" unit="IN">
     <x> 587.73 </x>
     <y>   0.00 </y>
     <z>  38.00 </z>
   </location>
   <location name="EYEPOINT" unit="IN">
     <x>  76.84 </x>
     <y> -30.00 </y>
     <z>  88.94 </z>
   </location>
   <location name="VRP" unit="IN">
     <x> 101.65 </x>
     <y>   0.0  </y>
     <z>   0.0  </z>
   </location>
 </metrics>

 <mass_balance>
   <ixx unit="SLUG*FT2">    200203 </ixx>
   <iyy unit="SLUG*FT2">    455983 </iyy>
   <izz unit="SLUG*FT2">    672987 </izz>
   <emptywt unit="LBS" >     49985 </emptywt>
   <location name="CG" unit="IN">
     <x> 605.73 </x>
     <y>   0.00 </y>
     <z>  38.12 </z>
   </location>

   <pointmass name="pilot">
     <weight unit="LBS"> 230 </weight>
     <location name="POINTMASS" unit="IN">
       <x> 96.84 </x>
       <y> -30.0 </y>
       <z> 66.0 </z>
     </location>
   </pointmass>
   <pointmass name="copilot">
     <weight unit="LBS"> 230 </weight>
     <location name="POINTMASS" unit="IN">
       <x> 96.84 </x>
       <y> 30.0 </y>
       <z> 66.0 </z>
     </location>
   </pointmass>
   <pointmass name="steward">
     <weight unit="LBS"> 400 </weight>
     <location name="POINTMASS" unit="IN">
       <x> 206 </x>
       <y> 30.0 </y>
       <z> 66.0 </z>
     </location>
   </pointmass>

 </mass_balance>

 <ground_reactions>

  <contact type="BOGEY" name="NOSE">
   <location unit="IN">
     <x> 142.70 </x>
     <y>   0.00 </y>
     <z> -55.73 </z>
   </location>
   <static_friction>  0.80 </static_friction>
   <dynamic_friction> 0.50 </dynamic_friction>
   <rolling_friction> 0.02 </rolling_friction>
   <spring_coeff unit="LBS/FT">       7750.51 </spring_coeff>
   <damping_coeff unit="LBS/FT/SEC">  1600.17 </damping_coeff>
   <max_steer unit="DEG"> 5.00 </max_steer>
   <brake_group>NONE</brake_group>
   <retractable>1</retractable>
 </contact>

  <contact type="BOGEY" name="LEFT_MAIN">
   <location unit="IN">
     <x> 627.88 </x>
     <y>-101.65 </y>
     <z> -63.53 </z>
   </location>
   <static_friction>  0.80 </static_friction>
   <dynamic_friction> 0.50 </dynamic_friction>
   <rolling_friction> 0.02 </rolling_friction>
   <spring_coeff unit="LBS/FT">      81011.70 </spring_coeff>
   <damping_coeff unit="LBS/FT/SEC"> 16202.34 </damping_coeff>
   <max_steer unit="DEG">0</max_steer>
   <brake_group>LEFT</brake_group>
   <retractable>1</retractable>
 </contact>

  <contact type="BOGEY" name="RIGHT_MAIN">
   <location unit="IN">
     <x> 627.88 </x>
     <y> 101.65 </y>
     <z> -63.53 </z>
   </location>
   <static_friction>  0.80 </static_friction>
   <dynamic_friction> 0.50 </dynamic_friction>
   <rolling_friction> 0.02 </rolling_friction>
   <spring_coeff unit="LBS/FT">      81011.70 </spring_coeff>
   <damping_coeff unit="LBS/FT/SEC"> 16202.34 </damping_coeff>
   <max_steer unit="DEG">0</max_steer>
   <brake_group>RIGHT</brake_group>
   <retractable>1</retractable>
 </contact>

  <contact type="STRUCTURE" name="LEFT_WING">
    <location unit="IN">
     <x> 603.73 </x>
     <y>-1105.4 </y>
     <z>   0.0  </z>
    </location>
    <static_friction>  0.80 </static_friction>
    <dynamic_friction> 0.50 </dynamic_friction>
    <spring_coeff unit="LBS/FT">      81011.70 </spring_coeff>
    <damping_coeff unit="LBS/FT/SEC"> 16202.34 </damping_coeff>
 </contact>

  <contact type="STRUCTURE" name="RIGHT_WING">
    <location unit="IN">
     <x> 603.73 </x>
     <y> 1105.4 </y>
     <z>   0.0  </z>
    </location>
    <static_friction>  0.80 </static_friction>
    <dynamic_friction> 0.50 </dynamic_friction>
    <spring_coeff unit="LBS/FT">      81011.70 </spring_coeff>
    <damping_coeff unit="LBS/FT/SEC"> 16202.34 </damping_coeff>
  </contact>

 </ground_reactions>

 <external_reactions>
    <force name="pushback" frame="BODY">
       <location unit="IN">
          <x>-139</x>
          <y>0</y>
          <z>-71</z>
       </location>
       <direction>
          <x>1</x>
          <y>0</y>
          <z>0</z>
       </direction>
    </force>
 </external_reactions>

  <propulsion>

   <engine file="Tay-620">
    <feed>0</feed>
    <thruster file="direct">
     <location unit="IN">
       <x>  893.52 </x>
       <y> -101.65 </y>
       <z>   43.53 </z>
     </location>
     <orient unit="DEG">
       <pitch> 0.00 </pitch>
       <roll>  0.00 </roll>
       <yaw>   0.00 </yaw>
     </orient>
    </thruster>
  </engine>

   <engine file="Tay-620">
    <feed>1</feed>
    <thruster file="direct">
     <location unit="IN">
       <x>  893.52 </x>
       <y>  101.65 </y>
       <z>   43.53 </z>
     </location>
     <orient unit="DEG">
       <pitch> 0.00 </pitch>
       <roll>  0.00 </roll>
       <yaw>   0.00 </yaw>
     </orient>
    </thruster>
  </engine>

  <tank type="FUEL" number="0">
     <location unit="IN">
       <x> 601.73 </x>
       <y>-190.59 </y>
       <z>   0.0  </z>
     </location>
     <capacity unit="LBS"> 1174.08 </capacity>
     <contents unit="LBS"> 587.04 </contents>
  </tank>

  <tank type="FUEL" number="1">
     <location unit="IN">
       <x> 601.73 </x>
       <y> 190.59 </y>
       <z>   0.0  </z>
     </location>
     <capacity unit="LBS"> 1174.08 </capacity>
     <contents unit="LBS"> 587.04 </contents>
  </tank>
<!--
  <tank type="FUEL" number="2">
     <location unit="IN">
       <x> 603.73 </x>
       <y>   0.00 </y>
       <z> -27.44 </z>
     </location>
     <capacity unit="LBS"> 1174.08 </capacity>
     <contents unit="LBS"> 587.04 </contents>
  </tank>
-->
 </propulsion>

 <system file="pushback"/>

 <flight_control name="FCS: Fokker-70">

  <channel name="Pitch">
   <summer name="fcs/pitch-trim-sum">
      <input>fcs/elevator-cmd-norm</input>
      <input>fcs/pitch-trim-cmd-norm</input>
      <clipto>
        <min> -1 </min>
        <max>  1 </max>
      </clipto>
   </summer>

   <aerosurface_scale name="fcs/elevator-control">
      <input>fcs/pitch-trim-sum</input>
      <range>
        <min> -0.35 </min>
        <max>  0.35 </max>
      </range>
      <output>fcs/elevator-pos-rad</output>
   </aerosurface_scale>

   <aerosurface_scale name="fcs/elevator-normalization">
      <input>fcs/elevator-pos-rad</input>
      <domain>
        <min> -0.35 </min>
        <max>  0.35 </max>
      </domain>
      <range>
        <min> -1 </min>
        <max>  1 </max>
      </range>
      <output>fcs/elevator-pos-norm</output>
   </aerosurface_scale>

  </channel>

  <channel name="Roll">
   <summer name="fcs/roll-trim-sum">
      <input>fcs/aileron-cmd-norm</input>
      <input>fcs/roll-trim-cmd-norm</input>
      <clipto>
        <min> -1 </min>
        <max>  1 </max>
      </clipto>
   </summer>

   <aerosurface_scale name="fcs/left-aileron-control">
      <input>fcs/roll-trim-sum</input>
      <range>
        <min> -0.35 </min>
        <max>  0.35 </max>
      </range>
      <output>fcs/left-aileron-pos-rad</output>
   </aerosurface_scale>

   <aerosurface_scale name="fcs/right-aileron-control">
      <input>fcs/roll-trim-sum</input>
      <range>
        <min> -0.35 </min>
        <max>  0.35 </max>
      </range>
      <output>fcs/right-aileron-pos-rad</output>
   </aerosurface_scale>

   <aerosurface_scale name="fcs/left-aileron-normalization">
      <input>fcs/left-aileron-pos-rad</input>
      <domain>
        <min> -0.35 </min>
        <max>  0.35 </max>
      </domain>
      <range>
        <min> -1 </min>
        <max>  1 </max>
      </range>
      <output>fcs/left-aileron-pos-norm</output>
   </aerosurface_scale>

   <aerosurface_scale name="fcs/right-aileron-normalization">
      <input>fcs/right-aileron-pos-rad</input>
      <domain>
        <min> -0.35 </min>
        <max>  0.35 </max>
      </domain>
      <range>
        <min> -1 </min>
        <max>  1 </max>
      </range>
      <output>fcs/right-aileron-pos-norm</output>
   </aerosurface_scale>

  </channel>

  <channel name="Yaw">
   <summer name="fcs/rudder-command-sum">
      <input>fcs/rudder-cmd-norm</input>
      <input>fcs/yaw-trim-cmd-norm</input>
      <clipto>
        <min> -0.35 </min>
        <max>  0.35 </max>
      </clipto>
   </summer>

   <scheduled_gain name="fcs/yaw-damper-rate">
      <input>velocities/r-aero-rad_sec</input>
      <table>
        <independentVar lookup="row">velocities/ve-kts</independentVar>
         <tableData>
            30     0.00
            60     2.00
         </tableData>
      </table>
   </scheduled_gain>

   <scheduled_gain name="fcs/yaw-damper-beta">
      <input>aero/beta-rad</input>
      <table>
        <independentVar lookup="row">velocities/ve-kts</independentVar>
        <tableData>
           30     0.00
           60     0.00
        </tableData>
      </table>
   </scheduled_gain>

   <summer name="fcs/yaw-damper-sum">
      <input>fcs/yaw-damper-beta</input>
      <input>fcs/yaw-damper-rate</input>
      <clipto>
        <min> -0.1 </min>
        <max>  0.1 </max>
      </clipto>
   </summer>

   <scheduled_gain name="fcs/yaw-damper-final">
      <input>fcs/yaw-damper-sum</input>
      <table>
        <independentVar lookup="row">velocities/ve-kts</independentVar>
        <tableData>
           30         0.0
           31         1.0
        </tableData>
      </table>
   </scheduled_gain>

   <summer name="fcs/rudder-sum">
      <input>fcs/rudder-command-sum</input>
      <input>fcs/yaw-damper-final</input>
      <clipto>
        <min> -1 </min>
        <max>  1 </max>
      </clipto>
   </summer>

   <aerosurface_scale name="fcs/rudder-control">
      <input>fcs/rudder-sum</input>
      <range>
        <min> -0.35 </min>
        <max>  0.35 </max>
      </range>
      <output>fcs/rudder-pos-rad</output>
   </aerosurface_scale>

   <aerosurface_scale name="fcs/rudder-normalization">
      <input>fcs/rudder-pos-rad</input>
      <domain>
        <min> -0.35 </min>
        <max>  0.35 </max>
      </domain>
      <range>
        <min> -1 </min>
        <max>  1 </max>
      </range>
      <output>fcs/rudder-pos-norm</output>
   </aerosurface_scale>

  </channel>

  <channel name="Flaps">
   <kinematic name="fcs/flaps-control">
     <input>fcs/flap-cmd-norm</input>
     <traverse>
       <setting>
         <position>0</position>
         <time>0</time>
       </setting>
       <setting>
         <position>8</position>
         <time>3</time>
       </setting>
       <setting>
         <position>15</position>
         <time>3</time>
       </setting>
       <setting>
         <position>25</position>
         <time>4</time>
       </setting>
       <setting>
         <position>42</position>
         <time>4</time>
       </setting>
     </traverse>
     <output>fcs/flap-pos-deg</output>
   </kinematic>

   <aerosurface_scale name="fcs/flap-normalization">
      <input>fcs/flap-pos-deg</input>
      <domain>
        <min>0</min>
        <max>42</max>
      </domain>
      <range>
        <min>0</min>
        <max>1</max>
      </range>
      <output>fcs/flap-pos-norm</output>
   </aerosurface_scale>

  </channel>

  <channel name="Landing Gear">
   <kinematic name="fcs/gear-control">
     <input>gear/gear-cmd-norm</input>
     <traverse>
       <setting>
          <position> 0 </position>
          <time>     0 </time>
       </setting>
       <setting>
          <position> 1 </position>
          <time>     5 </time>
       </setting>
     </traverse>
     <output>gear/gear-pos-norm</output>
   </kinematic>

  </channel>

  <channel name="Speedbrake">
   <kinematic name="fcs/speedbrake-control">
     <input>fcs/speedbrake-cmd-norm</input>
     <traverse>
       <setting>
          <position> 0 </position>
          <time>     0 </time>
       </setting>
       <setting>
          <position> 1 </position>
          <time>     1 </time>
       </setting>
     </traverse>
     <output>fcs/speedbrake-pos-norm</output>
   </kinematic>

  </channel>

  <channel name="Spoilers">
   <kinematic name="fcs/spoiler-control">
     <input>fcs/spoiler-cmd-norm</input>
     <traverse>
        <setting>
          <position>0</position>
          <time>0</time>
        </setting>
        <setting>
          <position>1</position>
          <time>1</time>
        </setting>
     </traverse>
     <output>fcs/spoiler-pos-norm</output>
   </kinematic>
  </channel>

 </flight_control>


    <aerodynamics>

        <function name="aero/function/kCDge">
            <description>Change_in_drag_due_to_ground_effect</description>
            <product>
                  <table>
                      <independentVar>aero/h_b-mac-ft</independentVar>
                      <tableData>
                          0.0000	0.0350
                          0.1000	0.4170
                          0.1500	0.5390
                          0.2000	0.6240
                          0.3000	0.7510
                          0.4000	0.8000
                          0.5000	0.8960
                          0.6000	0.9390
                          0.7000	0.9740
                          0.8000	0.9810
                          0.9000	0.9900
                          1.0000	0.9940
                          1.1000	1.0000
                      </tableData>
                  </table>
            </product>
        </function>

        <function name="aero/function/kCLge">
            <description>Change_in_lift_due_to_ground_effect</description>
            <product>
                  <table>
                      <independentVar>aero/h_b-mac-ft</independentVar>
                      <tableData>
                          0.0000	1.3910
                          0.1000	1.2350
                          0.1500	1.1670
                          0.2000	1.1350
                          0.3000	1.0850
                          0.4000	1.1020
                          0.5000	1.0350
                          0.6000	1.0240
                          0.7000	1.0150
                          0.8000	1.0110
                          0.9000	1.0060
                          1.0000	1.0040
                          1.1000	1.0000
                      </tableData>
                  </table>
            </product>
        </function>

        <axis name="DRAG">
            <function name="aero/coefficient/CD0">
                <description>Drag_at_zero_lift</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>aero/function/kCDge</property>
                      <table>
                          <independentVar>aero/alpha-rad</independentVar>
                          <tableData>
                              -1.5700	1.5000
                              -0.2600	0.0400
                              0.0000	0.0192
                              0.2600	0.0400
                              1.5700	1.5000
                          </tableData>
                      </table>
                </product>
            </function>
            <function name="aero/coefficient/CDi">
                <description>Induced_drag</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>aero/cl-squared</property>
                    <property>aero/function/kCDge</property>
                    <value>0.00717</value>
                </product>
            </function>
            <function name="aero/coefficient/CDflap">
                <description>Drag_due_to_flaps</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>fcs/flap-pos-norm</property>
                    <property>aero/function/kCDge</property>
                    <value>0.0830</value>
                </product>
            </function>
            <function name="aero/coefficient/CDmach">
                <description>Drag_due_to_mach</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                      <table>
                          <independentVar>velocities/mach</independentVar>
                          <tableData>
                              0.0000	0.0000
                              0.6500	0.0000
                              0.7700	0.0015
                              0.8600	0.0200
                              1.1000	0.0390
                              1.8000	0.0260
                          </tableData>
                      </table>
                </product>
            </function>
            <function name="aero/coefficient/CDgear">
                <description>Drag_due_to_gear</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>gear/gear-pos-norm</property>
                    <value>0.0120</value>
                </product>
            </function>
            <function name="aero/coefficient/CDsb">
                <description>Drag_due_to_speedbrakes</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>fcs/speedbrake-pos-norm</property>
                    <value>0.1200</value>
                </product>
            </function>
            <function name="aero/coefficient/CDsp">
                <description>Drag_due_to_spoilers</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>fcs/spoiler-pos-norm</property>
                    <value>0.0280</value>
                </product>
            </function>
            <function name="aero/coefficient/CDrv">
                <description>Drag_due_to_reverse</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>propulsion/engine[0]/reverser-angle-rad</property>
                    <property>propulsion/engine[1]/reverser-angle-rad</property>
                    <value>0.0187</value>
                </product>
            </function>
            <function name="aero/coefficient/CDbeta">
                <description>Drag_due_to_sideslip</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                      <table>
                          <independentVar>aero/beta-rad</independentVar>
                          <tableData>
                              -1.5700	1.2300
                              -0.2600	0.0500
                              0.0000	0.0000
                              0.2600	0.0500
                              1.5700	1.2300
                          </tableData>
                      </table>
                </product>
            </function>
            <function name="aero/coefficient/CDde">
                <description>Drag_due_to_Elevator_Deflection</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>fcs/mag-elevator-pos-rad</property>
                    <value>0.0590</value>
                </product>
            </function>
        </axis>

        <axis name="SIDE">
            <function name="aero/coefficient/CYb">
                <description>Side_force_due_to_beta</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>aero/beta-rad</property>
                    <value>-1.0000</value>
                </product>
            </function>
        </axis>

        <axis name="LIFT">
            <function name="aero/coefficient/CLalpha">
                <description>Lift_due_to_alpha</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>aero/function/kCLge</property>
                      <table>
                          <independentVar>aero/alpha-rad</independentVar>
                          <tableData>
                              -0.20 -0.680
                               0.00  0.217
                               0.23  1.300
                               0.60  0.600
                          </tableData>
                      </table>
                </product>
            </function>
            <function name="aero/coefficient/dCLflap">
                <description>Delta_Lift_due_to_flaps</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>aero/function/kCLge</property>
                      <table>
                          <independentVar>fcs/flap-pos-norm</independentVar>
                          <tableData>
                              0.0000	0.0000
                              0.3570	0.4900
                              1.0000	1.1800
                          </tableData>
                      </table>
                </product>
            </function>
            <function name="aero/coefficient/dCLsp">
                <description>Delta_Lift_due_to_spoiler</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>fcs/spoiler-pos-norm</property>
                    <property>aero/function/kCLge</property>
                    <value>-0.1200</value>
                </product>
            </function>
            <function name="aero/coefficient/CLde">
                <description>Lift_due_to_Elevator_Deflection</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>fcs/elevator-pos-rad</property>
                    <value>0.2000</value>
                </product>
            </function>
        </axis>

        <axis name="ROLL">
            <function name="aero/coefficient/Clb">
                <description>Roll_moment_due_to_beta</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>aero/beta-rad</property>
                    <value>-0.1000</value>
                </product>
            </function>
            <function name="aero/coefficient/Clp">
                <description>Roll_moment_due_to_roll_rate</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>aero/bi2vel</property>
                    <property>velocities/p-aero-rad_sec</property>
                    <value>-0.4000</value>
                </product>
            </function>
            <function name="aero/coefficient/Clr">
                <description>Roll_moment_due_to_yaw_rate</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>aero/bi2vel</property>
                    <property>velocities/r-aero-rad_sec</property>
                    <value>0.1500</value>
                </product>
            </function>
            <function name="aero/coefficient/Clda">
                <description>Roll_moment_due_to_aileron</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>fcs/left-aileron-pos-rad</property>
                      <table>
                          <independentVar>velocities/mach</independentVar>
                          <tableData>
                              0.0000	0.1000
                              2.0000	0.0330
                          </tableData>
                      </table>
                </product>
            </function>
            <function name="aero/coefficient/Cldr">
                <description>Roll_moment_due_to_rudder</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>fcs/rudder-pos-rad</property>
                    <value>0.0100</value>
                </product>
            </function>
        </axis>

        <axis name="PITCH">
            <function name="aero/function/kCmge">
                <description>Change_in_lift_due_to_ground_effect</description>
                <product>
                      <table>
                          <independentVar>aero/h_b-mac-ft</independentVar>
                          <tableData>
                              0.0000	1.2030
                              0.1000	1.1270
                              0.1500	1.0900
                              0.2000	1.0730
                              0.3000	1.0460
                              0.4000	1.0550
                              0.5000	1.0190
                              0.6000	1.0130
                              0.7000	1.0080
                              0.8000	1.0060
                              0.9000	1.0030
                              1.0000	1.0020
                              1.1000	1.0000
                          </tableData>
                      </table>
                </product>
            </function>

            <function name="aero/coefficient/Cmo">
                <description>Pitching_moment_at_zero_alpha</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/cbarw-ft</property>
                    <property>aero/function/kCmge</property>
                    <value>-0.000737</value>
                </product>
            </function>
            <function name="aero/coefficient/Cmalpha">
                <description>Pitch_moment_due_to_alpha</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/cbarw-ft</property>
                    <property>aero/alpha-rad</property>
                    <value>-0.6000</value>
                </product>
            </function>
            <function name="aero/coefficient/Cmde">
                <description>Pitch_moment_due_to_elevator</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/cbarw-ft</property>
                    <property>fcs/elevator-pos-rad</property>
                      <table>
                          <independentVar>velocities/mach</independentVar>
                          <tableData>
                              0.0000	-1.2000
                              2.0000	-0.3000
                          </tableData>
                      </table>
                </product>
            </function>
            <function name="aero/coefficient/Cmq">
                <description>Pitch_moment_due_to_pitch_rate</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/cbarw-ft</property>
                    <property>aero/ci2vel</property>
                    <property>velocities/q-aero-rad_sec</property>
                    <value>-31.0000</value>
                </product>
            </function>
            <function name="aero/coefficient/Cmadot">
                <description>Pitch_moment_due_to_alpha_rate</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/cbarw-ft</property>
                    <property>aero/ci2vel</property>
                    <property>aero/alphadot-rad_sec</property>
                    <value>-16.0000</value>
                </product>
            </function>
        </axis>

        <axis name="YAW">
            <function name="aero/coefficient/Cnb">
                <description>Yaw_moment_due_to_beta</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>aero/beta-rad</property>
                    <value>0.1200</value>
                </product>
            </function>
            <function name="aero/coefficient/Cnr">
                <description>Yaw_moment_due_to_yaw_rate</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>aero/bi2vel</property>
                    <property>velocities/r-aero-rad_sec</property>
                    <value>-0.1500</value>
                </product>
            </function>
            <function name="aero/coefficient/Cndr">
                <description>Yaw_moment_due_to_rudder</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>fcs/rudder-pos-rad</property>
                    <value>-0.1000</value>
                </product>
            </function>
            <function name="aero/coefficient/Cnda">
                <description>Adverse_yaw</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>fcs/left-aileron-pos-rad</property>
                    <value>0.0000</value>
                </product>
            </function>
        </axis>
    </aerodynamics>
</fdm_config>
		Root		Tip
		------------	-----------
Fokker 100	Fokker 12.3%	Fokker 9.6%
 Fokker 50	NACA 64-421	NACA 64-415
 Fokker 60	NACA 64-421	NACA 64-415
 Fokker 70	Fokker 12.3%	Fokker 9.6%

-------------------------------------------------------------------------------
http://rahauav.com/Library/Aerodynamic/Aerodynamic_design_of_transport_aircraft_www.rahaUAV.com.pdf
Aerodynamic Design of Transport Aircraft

Figure 27.14 Tail-Off lift curves for the Fokker 100
             (Source: Fokker Rep. A-166 and A-173

alpha		flaps (deg)
(deg)	0	20	42
0.0	0.22	0.84	1.27
10.0	1.11	1.70	2.17
12.0	1.27	1.83	2.31
14.0	1.40	1.72	1.90
16.0	1.34	0.71	0.00

Figure 27.23 Drag due to flap deflection at three angles of attack, Fokker 100
             (Source: Fokker Rep. A-166 and A-173)

alpha		flaps (deg)
(deg)	0	20	42
-4.0	0.0000	0.0047	0.0156
0.0	0.0000	0.0070	0.0200
2.0	0.0001	0.0077	0.0225
4.0	0.0005	0.0089	0.0257
6.0	0.0008	0.0129	0.0276
8.0	0.0025	0.0156	0.0313

Figure 33.9 Comparison of aileron effectiveness from wind tunnel and
            flight tests - Fokker F-28 Mk 1000
            (Source: Fokker report V-28-75)

Clda	flaps (deg)
Mach	10	20
0.60	-0.022	-0.043
0.65	-0.022	-0.037
0.70	-0.023	-0.027
0.75	-0.019	-0.027
0.80	-0.015	-0.026

-------------------------------------------------------------------------------
Advanced Topics in Aerodynamics, Aerodynamic Database (AD)
http://aerodyn.org/HighLift/tables.html
---
CLmax			3.45	(in ground effect)

-------------------------------------------------------------------------------
Butterworth-Heinemann - Civil Jet Aircraft Design
http://booksite.elsevier.com/9780340741528/appendices/data-a/default.htm
http://booksite.elsevier.com/9780340741528/appendices/data-a/table-8/table.htm
---
CLmax (t/o)		2.17	(Df = 15 degrees)
CLmax (l/d@MLM)		2.59	(Df = 42 degrees)

-------------------------------------------------------------------------------
Lissys - Piano-X output:
http://www.lissys.demon.co.uk/f7tx2.html
(Note: Simulated Fokker 70 data)
---
CLmax (t/o)		1.91	(Df =  0 degrees)
L/D (2nd sgement)	12.54	(incl. windmill. & asymm).

CLmax (l/d)		2.43	(Df = 42 degrees)
L/D (approach)		4.91	(gear down)

AERODYNAMIC DRAG REPORT		(Altitude: 0ft) 
-------------------------------------------------------
MACH      CD0     CDi   CDmach  CDtrim  CDtotal| CL  | SFC
-----   ------- ------- ------- ------- -------|-----|------
0.212	0.02035	0.05398	0.00190	-.00011	0.07613|1.099|0.7209
0.230	0.02013	0.04096	0.00000	0.00013	0.06122|0.957|0.7520
0.272	0.01957	0.01975	0.00000	0.00042	0.03975|0.665|0.8105
0.302	0.01925	0.01296	0.00000	0.00047	0.03268|0.539|0.8341
0.378	0.01857	0.00531	0.00000	0.00045	0.02432|0.345|0.8575
0.454	0.01801	0.00256	0.00000	0.00039	0.02096|0.239|0.8627
0.600	0.01712	0.00083	0.00000	0.00030	0.01826|0.137|0.8574
0.800	0.01614	0.00027	0.00373	0.00023	0.02036|0.077|0.8552
0.840	0.01596	0.00022	0.01067	0.00022	0.02707|0.070|0.8909
0.860	0.01587	0.00020	0.01858	0.00021	0.03487|0.067|0.8985

AERODYNAMIC DRAG REPORT		(Altitude: 1000ft)
-------------------------------------------------------
MACH	  CD0 	  CDi	CDmach	CDtrim	CDtotal| CL  | SFC
-----	-------	-------	-------	-------	-------|-----|------
0.653	0.01691	0.00064	0.00026	0.00028	0.01809|0.120|0.8476
0.771	0.01633	0.00033	0.00201	0.00024	0.01891|0.086|0.8524
0.800	0.01620	0.00028	0.00373	0.00023	0.02045|0.080|0.8516

AERODYNAMIC DRAG REPORT         (Altitude: 35000ft)
-------------------------------------------------------
MACH      CD0     CDi   CDmach  CDtrim  CDtotal| CL  | SFC
-----   ------- ------- ------- ------- -------|-----|------
0.458	0.02102	0.04432	0.00222	0.00007	0.06763|0.996|0.5924
0.546	0.02034	0.02207	0.00017	0.00040	0.04299|0.703|0.6251
0.603	0.01995	0.01482	0.00036	0.00046	0.03560|0.576|0.6474
0.720	0.01922	0.00867	0.00115	0.00013	0.02917|0.440|0.6908
0.741	0.01910	0.00648	0.00152	0.00046	0.02756|0.381|0.6976
0.768	0.01894	0.00562	0.00251	0.00045	0.02752|0.355|0.7112
0.800	0.01876	0.00478	0.00541	0.00044	0.02939|0.327|0.7392
0.848	0.01855	0.00393	0.01616	0.00042	0.03906|0.296|0.7526
0.860	0.01844	0.00358	0.02737	0.00042	0.04981|0.283|0.7575

-------------------------------------------------------------------------------
Buffet envelope prediction of transport
aircraft during the conceptual design phase
- Predict transonic, shock induced buffet onset
J.N.A. van Eijndhoven BSc

Figure 4.2: Fokker 100 buffet onset flight test

M	CL
0.5	1.00
0.55	0.93
0.60	0.88
0.70	0.86
0.75	0.65
0.80	0.52
0.85	0.25

Table 1: dCL for literature and Matrix-V results,
         Fokker 100 wing, Λ0.5c at Re ≈ 1.5 · 107

M∞	CLLit [−]	CLM atV [−]	dCL [−]
0.65	0.86		0.83		0.03
0.68	0.86		0.84		0.02
0.70	0.87		0.85		0.02
0.73	0.72		0.81		-0.09
0.75	0.68		0.71		-0.03

Figure 3.2: Fuselage effect on wing lift distribution
	Body Ise		Tip
  	0	0.5	0.75	1.0

CL	0.73	0.7	0.68	0.3
	


<?xml version="1.0"?>
<?xml-stylesheet type="text/xsl" href="http://jsbsim.sourceforge.net/JSBSim.xsl"?>
<fdm_config name="Fokker-100" version="2.0" release="ALPHA"
   xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
   xsi:noNamespaceSchemaLocation="http://jsbsim.sourceforge.net/JSBSim.xsd">

 <fileheader>
  <author> Erik Hofman </author>
  <filecreationdate> 2010-08-08 </filecreationdate>
  <version>$Revision: 1.3 $</version>
  <description> Fokker-100 commercial airliner </description>
  <reference title="Butterworth-Heinemann - Civil Jet Aircraft Design (BH)
        http://www.elsevierdirect.com/companions/9780340741528/appendices/data-a/table-8/table.htm"/>
  <reference title="Lissys - PIANO aircraft analysis software
        http://www.lissys.demon.co.uk/f7tx2.html"/>
  <reference title="Aerodynamic Design of Transport Aircraft
        http://www.scribd.com/doc/23956816/Aerodynamic-Design-of-Transport-Aircraft"/>
 </fileheader>

<!--
  File:     xf100.xml
  Inputs:
    name:          NG-Aircraft XF-100 (Fokker 100NG)
    type:          two-engine transonic transport
    max weight:    95013.45 lb
    wing span:     92.13048 ft
    length:        106.6325 ft
    wing area:     1025.9045 sq-ft
    gear type:     tricycle
    retractable?:  yes
    # engines:     2
    engine type:   turbine
    engine layout: aft fuselage
    yaw damper?    yes

  Outputs:
    wing loading:  83.35 lb/sq-ft
    CL-alpha:      4.4 per radian
    CL-0:          0.2
    CL-max:        1.72
    CD-0:          0.02
    K:             0.043

-->

 <metrics>
   <wingarea  unit="FT2"> 1025.90 </wingarea>
   <wingspan  unit="FT" >   92.13 </wingspan>
   <wing_incidence>          2.00 </wing_incidence>
   <chord     unit="FT" >   12.4671 </chord>
   <htailarea unit="FT2">  233.792 </htailarea>
   <htailarm  unit="FT" >   52.4934 </htailarm>
   <vtailarea unit="FT2">  132.396 </vtailarea>
   <vtailarm  unit="FT" >   44.6194 </vtailarm>
   <location name="AERORP" unit="IN">
     <x> 699.48 </x> <!-- 668.48 -->
     <y>   0.00 </y>
     <z>  38.00 </z>
   </location>
   <location name="EYEPOINT" unit="IN">
     <x> 122.04 </x>
     <y> -30.00 </y>
     <z>  88.94 </z>
   </location>
   <location name="VRP" unit="IN">
     <x> 101.65 </x>
     <y>   0.0  </y>
     <z>   0.0  </z>
   </location>
 </metrics>

 <mass_balance>
   <ixx unit="SLUG*FT2">    218368 </ixx>
   <iyy unit="SLUG*FT2">    675849 </iyy>
   <izz unit="SLUG*FT2">    860261 </izz>
   <emptywt unit="LBS" >     51307 </emptywt>
   <location name="CG" unit="IN">
     <x> 719.81 </x> <!-- 693.81 -->
     <y>   0.00 </y>
     <z>  38.12 </z>
   </location>
   <pointmass name="pilot">
     <weight unit="LBS"> 230 </weight>
     <location name="POINTMASS" unit="IN">
       <x> 122.04 </x>
       <y> -30.0 </y>
       <z>  66.0 </z>
     </location>
   </pointmass>
   <pointmass name="copilot">
     <weight unit="LBS"> 230 </weight>
     <location name="POINTMASS" unit="IN">
       <x> 122.04 </x>
       <y>  30.0 </y>
       <z>  66.0 </z>
     </location>
   </pointmass>
   <pointmass name="steward">
     <weight unit="LBS"> 400 </weight>
     <location name="POINTMASS" unit="IN">
       <x>  218 </x>
       <y>  32.0 </y>
       <z>  66.0 </z>
     </location>
   </pointmass>
 </mass_balance>

 <ground_reactions>

  <contact type="BOGEY" name="NOSE">
   <location unit="IN">
     <x> 172.87 </x>
     <y>   0.00 </y>
     <z> -55.73 </z>
   </location>
   <static_friction>  0.80 </static_friction>
   <dynamic_friction> 0.50 </dynamic_friction>
   <rolling_friction> 0.02 </rolling_friction>
   <spring_coeff unit="LBS/FT">       7750.03 </spring_coeff>
   <damping_coeff unit="LBS/FT/SEC">  1600.34 </damping_coeff>
   <max_steer unit="DEG"> 5.00 </max_steer>
   <brake_group>NONE</brake_group>
   <retractable>1</retractable>
 </contact>

  <contact type="BOGEY" name="LEFT_MAIN">
   <location unit="IN">
     <x> 731.93 </x>
     <y>-101.65 </y>
     <z> -63.53 </z>
   </location>
   <static_friction>  0.80 </static_friction>
   <dynamic_friction> 0.50 </dynamic_friction>
   <rolling_friction> 0.02 </rolling_friction>
   <spring_coeff unit="LBS/FT">      95013.45 </spring_coeff>
   <damping_coeff unit="LBS/FT/SEC"> 19002.69 </damping_coeff>
   <max_steer unit="DEG">0</max_steer>
   <brake_group>LEFT</brake_group>
   <retractable>1</retractable>
 </contact>

  <contact type="BOGEY" name="RIGHT_MAIN">
   <location unit="IN">
     <x> 731.93 </x>
     <y> 101.65 </y>
     <z> -63.53 </z>
   </location>
   <static_friction>  0.80 </static_friction>
   <dynamic_friction> 0.50 </dynamic_friction>
   <rolling_friction> 0.02 </rolling_friction>
   <spring_coeff unit="LBS/FT">      95013.45 </spring_coeff>
   <damping_coeff unit="LBS/FT/SEC"> 19002.69 </damping_coeff>
   <max_steer unit="DEG">0</max_steer>
   <brake_group>RIGHT</brake_group>
   <retractable>1</retractable>
 </contact>

  <contact type="STRUCTURE" name="LEFT_WING">
    <location unit="IN">
     <x> 753.77 </x>
     <y>-1105.4 </y>
     <z>   0.0 </z>
    </location>
    <static_friction>  0.80 </static_friction>
    <dynamic_friction> 0.50 </dynamic_friction>
    <spring_coeff unit="LBS/FT">      95013.45 </spring_coeff>
    <damping_coeff unit="LBS/FT/SEC"> 19002.69 </damping_coeff>
 </contact>

  <contact type="STRUCTURE" name="RIGHT_WING">
    <location unit="IN">
     <x> 753.77 </x>
     <y> 1105.4 </y>
     <z>   0.0  </z>
    </location>
    <static_friction>  0.80 </static_friction>
    <dynamic_friction> 0.50 </dynamic_friction>
    <spring_coeff unit="LBS/FT">      95013.45 </spring_coeff>
    <damping_coeff unit="LBS/FT/SEC"> 19002.69 </damping_coeff>
 </contact>

 </ground_reactions>

 <external_reactions>
    <force name="pushback" frame="BODY">
       <location unit="IN">
          <x>-139</x>
          <y>0</y>
          <z>-71</z>
       </location>
       <direction>
          <x>1</x>
          <y>0</y>
          <z>0</z>
       </direction>
    </force>
 </external_reactions>

 <propulsion>

   <engine file="BR-725">
    <feed>0</feed>
    <thruster file="direct">
     <location unit="IN">
       <x>  922.52 </x>
       <y> -101.65 </y>
       <z>   43.53 </z>
     </location>
     <orient unit="DEG">
       <pitch> 0.00 </pitch>
       <roll>  0.00 </roll>
       <yaw>   0.00 </yaw>
     </orient>
    </thruster>
  </engine>

   <engine file="BR-725">
    <feed>1</feed>
    <thruster file="direct">
     <location unit="IN">
       <x>  922.52 </x>
       <y>  101.65 </y>
       <z>   43.53 </z>
     </location>
     <orient unit="DEG">
       <pitch> 0.00 </pitch>
       <roll>  0.00 </roll>
       <yaw>   0.00 </yaw>
     </orient>
    </thruster>
  </engine>

  <tank type="FUEL" number="0">
     <location unit="IN">
       <x> 713.81 </x>
       <y>-190.59 </y>
       <z>   0.0  </z>
     </location>
     <capacity unit="LBS"> 13360.01 </capacity>
     <contents unit="LBS"> 688.50 </contents>
  </tank>

  <tank type="FUEL" number="1">
     <location unit="IN">
       <x> 713.81 </x>
       <y> 190.59 </y>
       <z>   0.0  </z>
     </location>
     <capacity unit="LBS"> 13360.01 </capacity>
     <contents unit="LBS"> 688.50 </contents>
  </tank>
  <tank type="FUEL" number="2">
     <location unit="IN">
       <x> 703.77 </x>
       <y>   0.00 </y>
       <z> -31.99 </z>
     </location>
     <capacity unit="LBS"> 1377.01 </capacity>
     <contents unit="LBS"> 688.50 </contents>
  </tank>
 </propulsion>

 <system file="pushback"/>

 <flight_control name="FCS: Fokker-100">

  <channel name="Pitch">
   <summer name="fcs/pitch-trim-sum">
      <input>fcs/elevator-cmd-norm</input>
      <input>fcs/pitch-trim-cmd-norm</input>
      <clipto>
        <min> -1 </min>
        <max>  1 </max>
      </clipto>
   </summer>

   <aerosurface_scale name="fcs/elevator-control">
      <input>fcs/pitch-trim-sum</input>
      <range>
        <min> -0.35 </min>
        <max>  0.35 </max>
      </range>
      <output>fcs/elevator-pos-rad</output>
   </aerosurface_scale>

   <aerosurface_scale name="fcs/elevator-normalization">
      <input>fcs/elevator-pos-rad</input>
      <domain>
        <min> -0.35 </min>
        <max>  0.35 </max>
      </domain>
      <range>
        <min> -1 </min>
        <max>  1 </max>
      </range>
      <output>fcs/elevator-pos-norm</output>
   </aerosurface_scale>

  </channel>

  <channel name="Roll">
   <summer name="fcs/roll-trim-sum">
      <input>fcs/aileron-cmd-norm</input>
      <input>fcs/roll-trim-cmd-norm</input>
      <clipto>
        <min> -1 </min>
        <max>  1 </max>
      </clipto>
   </summer>

   <aerosurface_scale name="fcs/left-aileron-control">
      <input>fcs/roll-trim-sum</input>
      <range>
        <min> -0.35 </min>
        <max>  0.35 </max>
      </range>
      <output>fcs/left-aileron-pos-rad</output>
   </aerosurface_scale>

   <aerosurface_scale name="fcs/right-aileron-control">
      <input>fcs/roll-trim-sum</input>
      <range>
        <min> -0.35 </min>
        <max>  0.35 </max>
      </range>
      <output>fcs/right-aileron-pos-rad</output>
   </aerosurface_scale>

   <aerosurface_scale name="fcs/left-aileron-normalization">
      <input>fcs/left-aileron-pos-rad</input>
      <domain>
        <min> -0.35 </min>
        <max>  0.35 </max>
      </domain>
      <range>
        <min> -1 </min>
        <max>  1 </max>
      </range>
      <output>fcs/left-aileron-pos-norm</output>
   </aerosurface_scale>

   <aerosurface_scale name="fcs/right-aileron-normalization">
      <input>fcs/right-aileron-pos-rad</input>
      <domain>
        <min> -0.35 </min>
        <max>  0.35 </max>
      </domain>
      <range>
        <min> -1 </min>
        <max>  1 </max>
      </range>
      <output>fcs/right-aileron-pos-norm</output>
   </aerosurface_scale>

  </channel>

  <channel name="Yaw">
   <summer name="fcs/rudder-command-sum">
      <input>fcs/rudder-cmd-norm</input>
      <input>fcs/yaw-trim-cmd-norm</input>
      <clipto>
        <min> -0.35 </min>
        <max>  0.35 </max>
      </clipto>
   </summer>

   <scheduled_gain name="fcs/yaw-damper-rate">
      <input>velocities/r-aero-rad_sec</input>
      <table>
        <independentVar lookup="row">velocities/ve-kts</independentVar>
         <tableData>
            30     0.00
            60     2.00
         </tableData>
      </table>
   </scheduled_gain>

   <scheduled_gain name="fcs/yaw-damper-beta">
      <input>aero/beta-rad</input>
      <table>
        <independentVar lookup="row">velocities/ve-kts</independentVar>
        <tableData>
           30     0.00
           60     0.00
        </tableData>
      </table>
   </scheduled_gain>

   <summer name="fcs/yaw-damper-sum">
      <input>fcs/yaw-damper-beta</input>
      <input>fcs/yaw-damper-rate</input>
      <clipto>
        <min> -0.1 </min>
        <max>  0.1 </max>
      </clipto>
   </summer>

   <scheduled_gain name="fcs/yaw-damper-final">
      <input>fcs/yaw-damper-sum</input>
      <table>
        <independentVar lookup="row">velocities/ve-kts</independentVar>
        <tableData>
           30         0.0
           31         1.0
        </tableData>
      </table>
   </scheduled_gain>

   <summer name="fcs/rudder-sum">
      <input>fcs/rudder-command-sum</input>
      <input>fcs/yaw-damper-final</input>
      <clipto>
        <min> -1 </min>
        <max>  1 </max>
      </clipto>
   </summer>

   <aerosurface_scale name="fcs/rudder-control">
      <input>fcs/rudder-sum</input>
      <range>
        <min> -0.35 </min>
        <max>  0.35 </max>
      </range>
      <output>fcs/rudder-pos-rad</output>
   </aerosurface_scale>

   <aerosurface_scale name="rcs/rudder-normalization">
      <input>fcs/rudder-pos-rad</input>
      <domain>
        <min> -0.35 </min>
        <max>  0.35 </max>
      </domain>
      <range>
        <min> -1 </min>
        <max>  1 </max>
      </range>
      <output>fcs/rudder-pos-norm</output>
   </aerosurface_scale>

  </channel>

  <channel name="Flaps">
   <kinematic name="fcs/flaps-control">
     <input>fcs/flap-cmd-norm</input>
     <traverse>
       <setting>
         <position>0</position>
         <time>0</time>
       </setting>
       <setting>
         <position>8</position>
         <time>3</time>
       </setting>
       <setting>
         <position>15</position>
         <time>3</time>
       </setting>
       <setting>
         <position>25</position>
         <time>4</time>
       </setting>
       <setting>
         <position>42</position>
         <time>4</time>
       </setting>
     </traverse>
     <output>fcs/flap-pos-deg</output>
   </kinematic>

   <aerosurface_scale name="fcs/flap-normalization">
      <input>fcs/flap-pos-deg</input>
      <domain>
        <min>0</min>
        <max>42</max>
      </domain>
      <range>
        <min>0</min>
        <max>1</max>
      </range>
      <output>fcs/flap-pos-norm</output>
   </aerosurface_scale>

  </channel>

  <channel name="Landing Gear">
   <kinematic name="fcs/gear-control">
     <input>gear/gear-cmd-norm</input>
     <traverse>
       <setting>
          <position> 0 </position>
          <time>     0 </time>
       </setting>
       <setting>
          <position> 1 </position>
          <time>     5 </time>
       </setting>
     </traverse>
     <output>gear/gear-pos-norm</output>
   </kinematic>

  </channel>

  <channel name="Speedbrake">
   <kinematic name="fcs/speedbrake-control">
     <input>fcs/speedbrake-cmd-norm</input>
     <traverse>
       <setting>
          <position> 0 </position>
          <time>     0 </time>
       </setting>
       <setting>
          <position> 1 </position>
          <time>     1 </time>
       </setting>
     </traverse>
     <output>fcs/speedbrake-pos-norm</output>
   </kinematic>
  </channel>


  <channel name="Spoilers">
   <kinematic name="fcs/spoiler-control">
     <input>fcs/spoiler-cmd-norm</input>
     <traverse>
        <setting>
          <position>0</position>
          <time>0</time>
        </setting>
        <setting>
          <position>1</position>
          <time>1</time>
        </setting>
     </traverse>
     <output>fcs/spoiler-pos-norm</output>
   </kinematic>
  </channel>
 </flight_control>

    <aerodynamics>

        <function name="aero/function/kCDge">
            <description>Change_in_drag_due_to_ground_effect</description>
            <product>
                  <table>
                      <independentVar>aero/h_b-mac-ft</independentVar>
                      <tableData>
                          0.0000	0.0350
                          0.1000	0.4170
                          0.1500	0.5390
                          0.2000	0.6240
                          0.3000	0.7510
                          0.4000	0.8000
                          0.5000	0.8960
                          0.6000	0.9390
                          0.7000	0.9740
                          0.8000	0.9810
                          0.9000	0.9900
                          1.0000	0.9940
                          1.1000	1.0000
                      </tableData>
                  </table>
            </product>
        </function>

        <function name="aero/function/kCLge">
            <description>Change_in_lift_due_to_ground_effect</description>
            <product>
                  <table>
                      <independentVar>aero/h_b-mac-ft</independentVar>
                      <tableData>
                          0.0000	1.3910
                          0.1000	1.2350
                          0.1500	1.1670
                          0.2000	1.1350
                          0.3000	1.0850
                          0.4000	1.1020
                          0.5000	1.0350
                          0.6000	1.0240
                          0.7000	1.0150
                          0.8000	1.0110
                          0.9000	1.0060
                          1.0000	1.0040
                          1.1000	1.0000
                      </tableData>
                  </table>
            </product>
        </function>

        <axis name="DRAG">
            <function name="aero/coefficient/CD0">
                <description>Drag_at_zero_lift</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>aero/function/kCDge</property>
                      <table>
                          <independentVar>aero/alpha-rad</independentVar>
                          <tableData>
                              -1.5700	1.5000
                              -0.2600	0.0392
                              0.0000	0.01884
                              0.2600	0.0392
                              1.5700	1.4700
                          </tableData>
                      </table>
                </product>
            </function>
            <function name="aero/coefficient/CDi">
                <description>Induced_drag</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>aero/cl-squared</property>
                    <property>aero/function/kCDge</property>
                    <value>0.00717</value>
                </product>
            </function>
            <function name="aero/coefficient/CDflap">
                <description>Drag_due_to_flaps</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>fcs/flap-pos-norm</property>
                    <property>aero/function/kCDge</property>
                    <value>0.0830</value>
                </product>
            </function>
            <function name="aero/coefficient/CDmach">
                <description>Drag_due_to_mach</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                      <table>
                          <independentVar>velocities/mach</independentVar>
                          <tableData>
                              0.0000	0.0000
                              0.6500	0.0000
                              0.7700	0.0015
                              0.8600	0.0200
                              1.1000	0.0390
                              1.8000	0.0260
                          </tableData>
                      </table>
                </product>
            </function>
            <function name="aero/coefficient/CDgear">
                <description>Drag_due_to_gear</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>gear/gear-pos-norm</property>
                    <value>0.0120</value>
                </product>
            </function>
            <function name="aero/coefficient/CDsb">
                <description>Drag_due_to_speedbrakes</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>fcs/speedbrake-pos-norm</property>
                    <value>0.1200</value>
                </product>
            </function>
            <function name="aero/coefficient/CDsp">
                <description>Drag_due_to_spoilers</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>fcs/spoiler-pos-norm</property>
                    <value>0.0280</value>
                </product>
            </function>
            <function name="aero/coefficient/CDrv">
                <description>Drag_due_to_reverse</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>propulsion/engine[0]/reverser-angle-rad</property>
                    <property>propulsion/engine[1]/reverser-angle-rad</property>
                    <value>0.0187</value>
                </product>
            </function>
            <function name="aero/coefficient/CDbeta">
                <description>Drag_due_to_sideslip</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                      <table>
                          <independentVar>aero/beta-rad</independentVar>
                          <tableData>
                              -1.5700	1.2300
                              -0.2600	0.0500
                              0.0000	0.0000
                              0.2600	0.0500
                              1.5700	1.2300
                          </tableData>
                      </table>
                </product>
            </function>
            <function name="aero/coefficient/CDde">
                <description>Drag_due_to_Elevator_Deflection</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>fcs/mag-elevator-pos-rad</property>
                    <value>0.0590</value>
                </product>
            </function>
        </axis>

        <axis name="SIDE">
            <function name="aero/coefficient/CYb">
                <description>Side_force_due_to_beta</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>aero/beta-rad</property>
                    <value>-1.0000</value>
                </product>
            </function>
        </axis>

        <axis name="LIFT">
            <function name="aero/coefficient/CLalpha">
                <description>Lift_due_to_alpha</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>aero/function/kCLge</property>
                      <table>
                          <independentVar>aero/alpha-rad</independentVar>
                          <tableData>
                              -0.20 -0.680
                               0.00  0.221
                               0.23  1.300
                               0.60  0.612
                          </tableData>
                      </table>
                </product>
            </function>
            <function name="aero/coefficient/dCLflap">
                <description>Delta_Lift_due_to_flaps</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>aero/function/kCLge</property>
                      <table>
                          <independentVar>fcs/flap-pos-norm</independentVar>
                          <tableData>
                              0.0000	0.0000
                              0.3570	0.4900
                              1.0000	1.1800
                          </tableData>
                      </table>
                </product>
            </function>
            <function name="aero/coefficient/dCLsp">
                <description>Delta_Lift_due_to_spoiler</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>fcs/spoiler-pos-norm</property>
                    <property>aero/function/kCLge</property>
                    <value>-0.1200</value>
                </product>
            </function>
            <function name="aero/coefficient/CLde">
                <description>Lift_due_to_Elevator_Deflection</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>fcs/elevator-pos-rad</property>
                    <value>0.2000</value>
                </product>
            </function>
        </axis>

        <axis name="ROLL">
            <function name="aero/coefficient/Clb">
                <description>Roll_moment_due_to_beta</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>aero/beta-rad</property>
                    <value>-0.1000</value>
                </product>
            </function>
            <function name="aero/coefficient/Clp">
                <description>Roll_moment_due_to_roll_rate</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>aero/bi2vel</property>
                    <property>velocities/p-aero-rad_sec</property>
                    <value>-0.4000</value>
                </product>
            </function>
            <function name="aero/coefficient/Clr">
                <description>Roll_moment_due_to_yaw_rate</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>aero/bi2vel</property>
                    <property>velocities/r-aero-rad_sec</property>
                    <value>0.1500</value>
                </product>
            </function>
            <function name="aero/coefficient/Clda">
                <description>Roll_moment_due_to_aileron</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>fcs/left-aileron-pos-rad</property>
                      <table>
                          <independentVar>velocities/mach</independentVar>
                          <tableData>
                              0.0000	0.1000
                              2.0000	0.0330
                          </tableData>
                      </table>
                </product>
            </function>
            <function name="aero/coefficient/Cldr">
                <description>Roll_moment_due_to_rudder</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>fcs/rudder-pos-rad</property>
                    <value>0.0100</value>
                </product>
            </function>
        </axis>

        <axis name="PITCH">
            <function name="aero/function/kCmge">
                <description>Change_in_lift_due_to_ground_effect</description>
                <product>
                      <table>
                          <independentVar>aero/h_b-mac-ft</independentVar>
                          <tableData>
                              0.0000	1.2030
                              0.1000	1.1270
                              0.1500	1.0900
                              0.2000	1.0730
                              0.3000	1.0460
                              0.4000	1.0550
                              0.5000	1.0190
                              0.6000	1.0130
                              0.7000	1.0080
                              0.8000	1.0060
                              0.9000	1.0030
                              1.0000	1.0020
                              1.1000	1.0000
                          </tableData>
                      </table>
                </product>
            </function>

            <function name="aero/coefficient/Cmo">
                <description>Pitching_moment_at_zero_alpha</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/cbarw-ft</property>
                    <property>aero/function/kCmge</property>
                    <value>-0.000737</value>
                </product>
            </function>
            <function name="aero/coefficient/Cmalpha">
                <description>Pitch_moment_due_to_alpha</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/cbarw-ft</property>
                    <property>aero/alpha-rad</property>
                    <value>-0.6000</value>
                </product>
            </function>
            <function name="aero/coefficient/Cmde">
                <description>Pitch_moment_due_to_elevator</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/cbarw-ft</property>
                    <property>fcs/elevator-pos-rad</property>
                      <table>
                          <independentVar>velocities/mach</independentVar>
                          <tableData>
                              0.0000	-1.2000
                              2.0000	-0.3000
                          </tableData>
                      </table>
                </product>
            </function>
            <function name="aero/coefficient/Cmq">
                <description>Pitch_moment_due_to_pitch_rate</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/cbarw-ft</property>
                    <property>aero/ci2vel</property>
                    <property>velocities/q-aero-rad_sec</property>
                    <value>-31.0000</value>
                </product>
            </function>
            <function name="aero/coefficient/Cmadot">
                <description>Pitch_moment_due_to_alpha_rate</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/cbarw-ft</property>
                    <property>aero/ci2vel</property>
                    <property>aero/alphadot-rad_sec</property>
                    <value>-16.0000</value>
                </product>
            </function>
        </axis>

        <axis name="YAW">
            <function name="aero/coefficient/Cnb">
                <description>Yaw_moment_due_to_beta</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>aero/beta-rad</property>
                    <value>0.1200</value>
                </product>
            </function>
            <function name="aero/coefficient/Cnr">
                <description>Yaw_moment_due_to_yaw_rate</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>aero/bi2vel</property>
                    <property>velocities/r-aero-rad_sec</property>
                    <value>-0.1500</value>
                </product>
            </function>
            <function name="aero/coefficient/Cndr">
                <description>Yaw_moment_due_to_rudder</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>fcs/rudder-pos-rad</property>
                    <value>-0.1000</value>
                </product>
            </function>
            <function name="aero/coefficient/Cnda">
                <description>Adverse_yaw</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>fcs/left-aileron-pos-rad</property>
                    <value>0.0000</value>
                </product>
            </function>
        </axis>
    </aerodynamics>
</fdm_config>
// This file instructs the automatic synchronization utilities where to
// install this aircraft and under what name.
//
// The syntax is easy;
// * the package name at the beginning of a new line followed by a colon
// * a space as a column separator
// * the path and filename relative to the aircraft install directory
//
// Currently known package names are: FlightGear

FlightGear:
<?xml version="1.0"?>
<?xml-stylesheet type="text/xsl" href="http://jsbsim.sourceforge.net/JSBSim.xsl"?>

<!--
  Reference:
  http://www.dtic.mil/dtic/tr/fulltext/u2/a257974.pdf
-->
<fdm_config name="fokker50" version="2.0" release="BETA"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:noNamespaceSchemaLocation="http://jsbsim.sourceforge.net/JSBSim.xsd">

    <fileheader>
        <author> Erik Hofman </author>
        <filecreationdate> 2002-01-01</filecreationdate>
        <version> $Revision: 1.22 $ </version>
        <description> Fokker 50 commercial turboprop airliner </description>
        <reference refID="None" author="n/a" title="n/a" date="n/a"/>
    </fileheader>

    <metrics>
        <wingarea unit="FT2"> 753.55 </wingarea>
        <wingspan unit="FT"> 95.15 </wingspan>
        <wing_incidence> 3.27 </wing_incidence>
        <chord unit="FT"> 7.92 </chord>
        <htailarea unit="FT2"> 120.57 </htailarea>
        <htailarm unit="FT"> 41.42 </htailarm>
        <vtailarea unit="FT2"> 135.64 </vtailarea>
        <vtailarm unit="FT"> 41.42 </vtailarm>
        <location name="AERORP" unit="IN">
            <x> 497.1 </x> <!--491.1-->
            <y> 0 </y>
            <z> 0 </z>
        </location>
        <location name="EYEPOINT" unit="IN">
            <x> 0 </x>  <!-- 79.5 -->
            <y> 0 </y>	<!-- Original -24 -->
            <z> 0 </z>   <!--original 65 -->
        </location>
        <location name="VRP" unit="IN">
            <x> 497.1 </x> <!-- 497.1 -->
            <y> 0 </y>
            <z> -24.9 </z>  <!-- original -24.9 -->
        </location>
    </metrics>

    <mass_balance>
        <ixx unit="SLUG*FT2"> 474936 </ixx>
        <iyy unit="SLUG*FT2"> 430723 </iyy>
        <izz unit="SLUG*FT2"> 896344 </izz>
        <emptywt unit="LBS"> 29700 </emptywt>
        <location name="CG" unit="IN">
            <x> 497.1 </x>
            <y> 0 </y>
            <z> -24.9 </z>
        </location>
    </mass_balance>

    <ground_reactions>
        <contact type="BOGEY" name="NOSE_LG">
            <location unit="IN">
                <x> 129.2 </x>
                <y> 0 </y>
                <z> -119.3 </z>
            </location>
            <static_friction> 0.8 </static_friction>
            <dynamic_friction> 0.5 </dynamic_friction>
            <rolling_friction> 0.02 </rolling_friction>
            <spring_coeff unit="LBS/FT"> 13196.9 </spring_coeff>
            <damping_coeff unit="LBS/FT/SEC"> 4399 </damping_coeff>
            <max_steer unit="DEG"> 65 </max_steer>
            <brake_group> NONE </brake_group>
            <retractable>1</retractable>
        </contact>
        <contact type="BOGEY" name="LEFT_MLG">
            <location unit="IN">
                <x> 521.9 </x>
                <y> -125.6 </y>
                <z> -119.3 </z>
            </location>
            <static_friction> 0.8 </static_friction>
            <dynamic_friction> 0.5 </dynamic_friction>
            <rolling_friction> 0.02 </rolling_friction>
            <spring_coeff unit="LBS/FT"> 43989.8 </spring_coeff>
            <damping_coeff unit="LBS/FT/SEC"> 8798 </damping_coeff>
            <max_steer unit="DEG"> 0.0 </max_steer>
            <brake_group> LEFT </brake_group>
            <retractable>1</retractable>
        </contact>
        <contact type="BOGEY" name="RIGHT_MLG">
            <location unit="IN">
                <x> 521.9 </x>
                <y> 125.6 </y>
                <z> -119.3 </z>
            </location>
            <static_friction> 0.8 </static_friction>
            <dynamic_friction> 0.5 </dynamic_friction>
            <rolling_friction> 0.02 </rolling_friction>
            <spring_coeff unit="LBS/FT"> 43989.8 </spring_coeff>
            <damping_coeff unit="LBS/FT/SEC"> 8798 </damping_coeff>
            <max_steer unit="DEG"> 0.0 </max_steer>
            <brake_group> RIGHT </brake_group>
            <retractable>1</retractable>
        </contact>
        <contact type="STRUCTURE" name="RWT">
            <location unit="IN">
                <x> 497.1 </x>
                <y> 47.575 </y>
                <z> -24.9 </z>
            </location>
            <static_friction> 0.2 </static_friction>
            <dynamic_friction> 0.2 </dynamic_friction>
            <rolling_friction> 0.2 </rolling_friction>
            <spring_coeff unit="LBS/FT"> 10000 </spring_coeff>
            <damping_coeff unit="LBS/FT/SEC"> 2000 </damping_coeff>
            <max_steer unit="DEG"> 0.0 </max_steer>
            <brake_group> NONE </brake_group>
            <retractable>0</retractable>
        </contact>
        <contact type="STRUCTURE" name="LWT">
            <location unit="IN">
                <x> 497.1 </x>
                <y> -47.575 </y>
                <z> -24.9 </z>
            </location>
            <static_friction> 0.2 </static_friction>
            <dynamic_friction> 0.2 </dynamic_friction>
            <rolling_friction> 0.2 </rolling_friction>
            <spring_coeff unit="LBS/FT"> 10000 </spring_coeff>
            <damping_coeff unit="LBS/FT/SEC"> 2000 </damping_coeff>
            <max_steer unit="DEG"> 0.0 </max_steer>
            <brake_group> NONE </brake_group>
            <retractable>0</retractable>
        </contact>
        <contact type="STRUCTURE" name="NOSE">
            <location unit="IN">
                <x> 994.143 </x>
                <y> 0 </y>
                <z> -24.9 </z>
            </location>
            <static_friction> 0.2 </static_friction>
            <dynamic_friction> 0.2 </dynamic_friction>
            <rolling_friction> 0.2 </rolling_friction>
            <spring_coeff unit="LBS/FT"> 10000 </spring_coeff>
            <damping_coeff unit="LBS/FT/SEC"> 2000 </damping_coeff>
            <max_steer unit="DEG"> 0.0 </max_steer>
            <brake_group> NONE </brake_group>
            <retractable>0</retractable>
        </contact>
        <contact type="STRUCTURE" name="BELLY">
            <location unit="IN">
                <x> 497.1 </x>
                <y> 0 </y>
                <z> -49.8 </z>
            </location>
            <static_friction> 0.2 </static_friction>
            <dynamic_friction> 0.2 </dynamic_friction>
            <rolling_friction> 0.2 </rolling_friction>
            <spring_coeff unit="LBS/FT"> 10000 </spring_coeff>
            <damping_coeff unit="LBS/FT/SEC"> 2000 </damping_coeff>
            <max_steer unit="DEG"> 0.0 </max_steer>
            <brake_group> NONE </brake_group>
            <retractable>0</retractable>
        </contact>
        <contact type="STRUCTURE" name="VTT">
            <location unit="IN">
                <x> 0 </x>
                <y> 0 </y>
                <z> 303.1 </z>
            </location>
            <static_friction> 0.2 </static_friction>
            <dynamic_friction> 0.2 </dynamic_friction>
            <rolling_friction> 0.2 </rolling_friction>
            <spring_coeff unit="LBS/FT"> 10000 </spring_coeff>
            <damping_coeff unit="LBS/FT/SEC"> 2000 </damping_coeff>
            <max_steer unit="DEG"> 0.0 </max_steer>
            <brake_group> NONE </brake_group>
            <retractable>0</retractable>
        </contact>
    </ground_reactions>


    <propulsion>
        <engine file="PW125BX">  -->
            <feed>0</feed>
            <thruster file="dowty-rotol-aero">   
                <location unit="IN">
                    <x> 497.072 </x>
                    <y> -190.298 </y>
                    <z> -40 </z>
                </location>
                <orient unit="DEG">
                    <roll> 0.0 </roll>
                    <pitch> 0.0 </pitch>
                    <yaw> 0.0 </yaw>
                </orient>
            </thruster>
        </engine>
        <engine file="PW125BX">  
            <feed>1</feed>
            <thruster file="dowty-rotol-aero">  
                <location unit="IN">
                    <x> 497.072 </x>
                    <y> 190.298 </y>
                    <z> -40 </z>
                </location>
                <orient unit="DEG">
                    <roll> 0.0 </roll>
                    <pitch> 0.0 </pitch>
                    <yaw> 0.0 </yaw>
                </orient>
            </thruster>
        </engine>

        <tank type="FUEL">    <!-- Tank number 0 -->
            <location unit="IN">
                <x> 497.072 </x>
                <y> 3 </y>
                <z> -24.8536 </z>
            </location>
            <capacity unit="LBS"> 4576 </capacity>
            <contents unit="LBS"> 1100 </contents>
        </tank>
        <tank type="FUEL">    <!-- Tank number 1 -->
            <location unit="IN">
                <x> 497.072 </x>
                <y> -3 </y>
                <z> -24.8536 </z>
            </location>
            <capacity unit="LBS"> 4576 </capacity>
            <contents unit="LBS"> 1100 </contents>
        </tank>  <!--
        <tank type="FUEL">     Tank number 2 
            <location unit="IN">
                <x> 497.072 </x>
                <y> 0 </y>
                <z> -24.8536 </z>
            </location>
            <capacity unit="LBS"> 814.6 </capacity>
            <contents unit="LBS"> 407.3 </contents>
        </tank>  -->
    </propulsion>


    <flight_control name="Fokker50">

      <property value="0" type="float">/systems/fokker50/erp/settingn</property>
      <property value="0" type="float">/systems/fokker50/erp/settinggi</property>

      <channel name="EEC">

	<switch name="fcs/eec-throttle-multiplier">
                <default value="0.825"/>
                <test logic="AND" value="1.0"> <!-- GA == 1 -->
                    /systems/fokker50/erp/settingn GT 0.5
                    /systems/fokker50/erp/settingn LT 1.5
                </test>
                <test logic="AND" value="0.93"> <!-- TO == 2 -->
                    /systems/fokker50/erp/settingn GT 1.5
                    /systems/fokker50/erp/settingn LT 2.5
                </test>
                <test logic="AND" value="0.95"> <!-- MCT == 3 -->
                    /systems/fokker50/erp/settingn GT 2.5
                    /systems/fokker50/erp/settingn LT 3.5
                </test>
                <test logic="AND" value="0.82"> <!-- CRZ == 5 -->
                    /systems/fokker50/erp/settingn GT 4.5
                    /systems/fokker50/erp/settingn LT 5.5
                </test>
                <test logic="AND" value="0.91"> <!-- CLB == 4 -->
                    /systems/fokker50/erp/settingn GT 3.5
                    /systems/fokker50/erp/settingn LT 4.5
                </test>

             </switch>

             <fcs_function name="fcs/eec-throttle-pos-norm[0]">
                 <function>
                     <product>
                         <property> fcs/eec-throttle-multiplier </property>
                         <property> /controls/engines/engine/throttle </property>
                     </product>
                 </function>
               <output>fcs/throttle-cmd-norm[0]</output> 
             </fcs_function>

             <fcs_function name="fcs/eec-throttle-pos-norm[1]">
                 <function>
                     <product>
                         <property> fcs/eec-throttle-multiplier </property>
                         <property> /controls/engines/engine[1]/throttle </property>
                     </product>
                 </function>
                 <output>fcs/throttle-cmd-norm[1]</output>
             </fcs_function>

<!-- Control Np.  GA =1 TO =2 MCT =3 CLB = 4 CRZ =5, plus 0.5 for gnd idle range -->
             <switch name="fcs/erp-np-cmd">
                 <default value="0.825"/>
                 <test logic="OR" value="0.495">
                   /systems/fokker50/erp/settinggi == 5
                   /systems/fokker50/erp/settinggi == 4
                 </test>
                  <test logic="OR" value="0">
                   /systems/fokker50/erp/settinggi == 2.5
                   /systems/fokker50/erp/settinggi == 3.5
                   /systems/fokker50/erp/settinggi == 4.5
                   /systems/fokker50/erp/settinggi == 5.5
                 </test>
                 <output>fcs/advance-pos-norm[1]</output>
                 <output>fcs/advance-pos-norm</output>
             </switch>

             <switch name="fcs/erp-np-cmd[1]">
                 <default value="0.825"/>
                  <test logic="OR" value="0.495">
                   /systems/fokker50/erp/settinggi == 5
                   /systems/fokker50/erp/settinggi == 4
                 </test>
                  <test logic="OR" value="0">
                   /systems/fokker50/erp/settinggi == 2.5
                   /systems/fokker50/erp/settinggi == 3.5
                   /systems/fokker50/erp/settinggi == 4.5
                   /systems/fokker50/erp/settinggi == 5.5
                 </test>
                 <output>fcs/advance-pos-norm</output>
             </switch>
        </channel>

        <channel name="Thruster">
            <summer name="Thrust Coefficient Left">
                <input>propulsion/engine[0]/thrust-coefficient</input>
                <output>systems/propulsion/thrust-coefficient-left</output>
            </summer>
            <summer name="Thrust Coefficient Right">
                <input>propulsion/engine[1]/thrust-coefficient</input>
                <output>systems/propulsion/thrust-coefficient-right</output>
            </summer>
            <summer name="Thrust Coefficient Left-Right">
                <input>systems/propulsion/thrust-coefficient-left</input>
                <input>-systems/propulsion/thrust-coefficient-right</input>
                <output>systems/propulsion/thrust-coefficient-left-right</output>
            </summer>
            <summer name="Thrust Coefficient">
                <input>systems/propulsion/thrust-coefficient-left</input>
                <input>systems/propulsion/thrust-coefficient-right</input>
                <output>systems/propulsion/thrust-coefficient</output>
            </summer>
        </channel>

        <channel name="Pitch">

            <summer name="Pitch Trim Sum">
                <input>fcs/elevator-cmd-norm</input>
                <input>fcs/pitch-trim-cmd-norm</input>
                <clipto>
                    <min>-1</min>
                    <max>1</max>
                </clipto>
                <output>fcs/elevator-pos-norm</output>
            </summer>

            <aerosurface_scale name="Elevator Control">
                <input>fcs/pitch-trim-sum</input>
                <range>
                    <min>-0.35</min>
                    <max>0.3</max>
                </range>
                <output>fcs/elevator-pos-rad</output>
            </aerosurface_scale>
        </channel>

        <channel name="Roll">
            <summer name="Roll Trim Sum">
                <input>fcs/aileron-cmd-norm</input>
                <input>fcs/roll-trim-cmd-norm</input>
                <clipto>
                    <min>-1</min>
                    <max>1</max>
                </clipto>
                <output>fcs/left-aileron-pos-norm</output>
            </summer>

            <aerosurface_scale name="Left Aileron Control">
                <input>fcs/roll-trim-sum</input>
                <range>
                    <min>-0.35</min>
                    <max>0.35</max>
                </range>
                <output>fcs/left-aileron-pos-rad</output>
            </aerosurface_scale>

            <aerosurface_scale name="Right Aileron Control">
                <input>-fcs/roll-trim-sum</input>
                <range>
                    <min>-0.35</min>
                    <max>0.35</max>
                </range>
                <output>fcs/right-aileron-pos-rad</output>
            </aerosurface_scale>
        </channel>

        <channel name="Yaw">
            <summer name="Rudder Command Sum">
                <input>fcs/rudder-cmd-norm</input>
                <input>fcs/yaw-trim-cmd-norm</input>
                <clipto>
                    <min>-1</min>
                    <max>1</max>
                </clipto>
            </summer>

            <scheduled_gain name="Yaw Damper Rate">
                <input>velocities/r-aero-rad_sec</input>
                <table>
                    <independentVar>aero/qbar-psf</independentVar>
                    <tableData>
                        3.00  0.00
                       11.00  2.00
                    </tableData>
                </table>
            </scheduled_gain>

            <scheduled_gain name="Yaw Damper Beta">
                <input>aero/beta-rad</input>
                <table>
                    <independentVar>aero/qbar-psf</independentVar>
                    <tableData>
                        3.00  0.00
                       11.00  0.00
                    </tableData>
                </table>
            </scheduled_gain>

            <summer name="Yaw Damper Sum">
                <input>fcs/yaw-damper-beta</input>
                <input>fcs/yaw-damper-rate</input>
                <clipto>
                    <min>-0.2</min>
                    <max>0.2</max>
                </clipto>
            </summer>

            <scheduled_gain name="Yaw Damper Final">
                <input>fcs/yaw-damper-sum</input>
                <table>
                    <independentVar>aero/qbar-psf</independentVar>
                    <tableData>
                        2.99  0.00
                        3.00  1.00
                    </tableData>
                </table>
            </scheduled_gain>

            <summer name="Rudder Sum">
                <input>fcs/rudder-command-sum</input>
                <input>fcs/yaw-damper-final</input>
                <clipto>
                    <min>-1</min>
                    <max>1</max>
                </clipto>
                <output>fcs/rudder-pos-norm</output>
            </summer>

            <aerosurface_scale name="Rudder Control">
                <input>fcs/rudder-sum</input>
                <range>
                    <min>-0.35</min>
                    <max>0.35</max>
                </range>
                <output>fcs/rudder-pos-rad</output>
            </aerosurface_scale>
        </channel>

        <channel name="Flaps">
            <kinematic name="Flaps Control">
                <input>fcs/flap-cmd-norm</input>
                <traverse>
                    <setting>
                        <position>0</position>
                        <time>0</time>
                    </setting>
                    <setting>
                        <position>0.5</position>
                        <time>4</time>
                    </setting>
                    <setting>
                        <position>1.0</position>
                        <time>3</time>
                    </setting>
                </traverse>
                <output>fcs/flap-pos-norm</output>
            </kinematic>
        </channel>

        <channel name="Landing Gear">
            <kinematic name="Gear Control">
                <input>gear/gear-cmd-norm</input>
                <traverse>
                    <setting>
                        <position>0</position>
                        <time>0</time>
                    </setting>
                    <setting>
                        <position>1</position>
                        <time>5</time>
                    </setting>
                </traverse>
                <output>gear/gear-pos-norm</output>
            </kinematic>
        </channel>

        <channel name="Speedbrake">
            <kinematic name="Speedbrake Control">
                <input>fcs/speedbrake-cmd-norm</input>
                <traverse>
                    <setting>
                        <position>0</position>
                        <time>0</time>
                    </setting>
                    <setting>
                        <position>1</position>
                        <time>1</time>
                    </setting>
                </traverse>
                <output>fcs/speedbrake-pos-norm</output>
            </kinematic>
        </channel>
    </flight_control>

    <system name="NWS">
     <property>systems/NWS/engaged</property>

     <channel name="Nose Wheel Steering">
      <scheduled_gain name="systems/NWS/steer-cmd">
       <input>fcs/rudder-cmd-norm</input>
       <table>
        <independentVar lookup="row">systems/NWS/engaged</independentVar>
         <tableData>
            0     -0.1
            1     -1.0
         </tableData>
       </table>
       <output>fcs/steer-cmd-norm</output>
      </scheduled_gain>
     </channel>
    </system>

    <aerodynamics>

        <function name="aero/function/kCDge">
            <description>Change_in_drag_due_to_ground_effect</description>
            <table>
                <independentVar>aero/h_b-mac-ft</independentVar>
                <tableData>
                    0.0000	0.0480
                    0.1000	0.5150
                    0.1500	0.6290
                    0.2000	0.7090
                    0.3000	0.8150
                    0.4000	0.8820
                    0.5000	0.9280
                    0.6000	0.9620
                    0.7000	0.9880
                    0.8000	1.0000
                    0.9000	1.0000
                    1.0000	1.0000
                    1.1000	1.0000
                </tableData>
            </table>
        </function>

        <function name="aero/function/kCLge">
            <description>Change_in_lift_due_to_ground_effect</description>
            <table>
                <independentVar>aero/h_b-mac-ft</independentVar>
                <tableData>
                    0.0000	1.2030
                    0.1000	1.1270
                    0.1500	1.0900
                    0.2000	1.0730
                    0.3000	1.0460
                    0.4000	1.0550
                    0.5000	1.0190
                    0.6000	1.0130
                    0.7000	1.0080
                    0.8000	1.0060
                    0.9000	1.0030
                    1.0000	1.0020
                    1.1000	1.0000
                </tableData>
            </table>
        </function>

        <axis name="DRAG">
            <function name="aero/coefficient/CD0">
                <description>Drag_at_zero_lift</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                      <table>
                          <independentVar>aero/alpha-rad</independentVar>
                          <tableData>
                             -1.5700	1.4083
                             -0.3400	0.0806
                              0.0000	0.0245
                              0.3400	0.0806
                              1.5700	1.4083
                          </tableData>
                      </table>
                </product>
            </function>
            <function name="aero/coefficient/CDi">
                <description>Induced_drag</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>aero/cl-squared</property>
                    <property>aero/function/kCDge</property>
                    <value>0.0300</value>
                </product>
            </function>
            <function name="aero/coefficient/CDmach">
                <description>Drag_due_to_mach</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>aero/function/kCDge</property>
                      <table>
                          <independentVar>velocities/mach</independentVar>
                          <tableData>
                              0.0000	0.0000
                              0.7000	0.0000
                              1.1000	0.0230
                              1.8000	0.0150
                          </tableData>
                      </table>
                </product>
            </function>
            <function name="aero/coefficient/CDflap">
                <description>Drag_due_to_flaps</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>fcs/flap-pos-norm</property>
                    <property>aero/function/kCDge</property>
                    <value>0.0011</value>
                </product>
            </function>
            <function name="aero/coefficient/CDgear">
                <description>Drag_due_to_gear</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>gear/gear-pos-norm</property>
                    <value>0.0460</value>
                </product>
            </function>
            <function name="aero/coefficient/CDbeta">
                <description>Drag_due_to_sideslip</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                      <table>
                          <independentVar>aero/beta-rad</independentVar>
                          <tableData>
                             -1.5700	1.2300
                             -0.2600	0.0500
                              0.0000	0.0000
                              0.2600	0.0500
                              1.5700	1.2300
                          </tableData>
                      </table>
                </product>
            </function>
            <function name="aero/coefficient/CDde">
                <description>Drag_due_to_Elevator_Deflection</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>fcs/mag-elevator-pos-rad</property>
                    <value>0.0400</value>
                </product>
            </function>
        </axis>

        <axis name="SIDE">
            <function name="aero/coefficient/CYb">
                <description>Side_force_due_to_beta</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>aero/beta-rad</property>
                    <value>-0.4157</value>
                </product>
            </function>
            <function name="aero/force/Side_roll_rate">
                <description>Side_force_due_to_roll_rate</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>aero/bi2vel</property>
                    <property>velocities/p-aero-rad_sec</property>
                    <table>
                       <independentVar lookup="row">aero/Re</independentVar>
                       <tableData>
                           9657151   0.4339
                          10622865   0.0324
                          14485727   0.0144
                          19153512   0.0082
                       </tableData>
                    </table>
                </product>
             </function>
             <function name="aero/force/Side_yaw_rate">
                <description>Side_force_due_to_yaw_rate</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>aero/bi2vel</property>
                    <property>velocities/r-aero-rad_sec</property>
                    <value> 0.3618 </value>
                </product>
             </function>
             <function name="aero/force/Side_rudder">
                <description>Side_force_due_to_rudder</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>fcs/rudder-pos-rad</property>
                    <value> 0.2532 </value>
                </product>
             </function>
        </axis>

        <axis name="LIFT">
            <function name="aero/force/Lift_propwash">
                <description>Delta lift due to propeller induced velocity</description>
                <product>
                   <property>systems/propulsion/thrust-coefficient</property>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <table>
                      <independentVar lookup="row">aero/alpha-rad</independentVar>
                      <independentVar lookup="column">fcs/flap-pos-deg</independentVar>
                      <tableData>
                               0.0     60.0
                        -0.15  0.000   0.000
                         0.00  0.057   0.151
                         0.38  0.299   0.797
                         0.75  0.000   0.000
                      </tableData>
                    </table>
                </product>
            </function>

            <function name="aero/coefficient/CLalpha">
                <description>Lift_due_to_alpha</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>aero/function/kCLge</property>
                      <table>
                          <independentVar>aero/alpha-rad</independentVar>
                          <tableData>
                             -0.2000  -0.6932
                              0.0000   0.4678
                              0.3400   2.4669
                              0.6000   0.8813
                          </tableData>
                      </table>
                </product>
            </function>
            <function name="aero/force/Lift_pitch_rate">
                <description>Lift_due_to_pitch_rate</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>velocities/q-aero-rad_sec</property>
                    <property>aero/ci2vel</property>
                    <value> 5.2170 </value>
                </product>
              </function>
              <function name="aero/force/Lift_alpha_rate">
                <description>Lift_due_to_alpha_rate</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>aero/alphadot-rad_sec</property>
                    <property>aero/ci2vel</property>
                    <value> 1.4906 </value>
                </product>
              </function>
            <function name="aero/coefficient/dCLflap">
                <description>Delta_Lift_due_to_flaps</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>fcs/flap-pos-norm</property>
                    <property>aero/function/kCLge</property>
                    <value>0.6000</value>
                </product>
            </function>
            <function name="aero/coefficient/CLde">
                <description>Lift_due_to_Elevator_Deflection</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>fcs/elevator-pos-rad</property>
                    <value>0.2732</value>
                </product>
            </function>
        </axis>

        <axis name="ROLL">
            <function name="aero/moment/Roll_differential_propwash">
                <description>Roll moment due to differential propwash</description>
                <product>
                    <property>systems/propulsion/thrust-coefficient-left-right</property>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>aero/alpha-rad</property>
                    <value> -1.7213 </value>
                </product>
            </function>

            <function name="aero/coefficient/Clb">
                <description>Roll_moment_due_to_beta</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>aero/beta-rad</property>
                    <table>
                        <independentVar lookup="row">aero/alpha-rad</independentVar>
                        <independentVar lookup="column">aero/Re</independentVar>
                        <tableData>
                                   9657151 10622865 14485727 19153512
                          -0.0349  -0.2127  -0.0369  -0.0290  -0.0265
                           0.3491  -0.3313  -0.0478  -0.0406  -0.0391
                        </tableData>
                    </table>
                </product>
            </function>
            <function name="aero/coefficient/Clp">
                <description>Roll_moment_due_to_roll_rate</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>aero/bi2vel</property>
                    <property>velocities/p-aero-rad_sec</property>
                    <value>-0.5138</value>
                </product>
            </function>
            <function name="aero/coefficient/Clr">
                <description>Roll_moment_due_to_yaw_rate</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>aero/bi2vel</property>
                    <property>velocities/r-aero-rad_sec</property>
                    <table>
                       <independentVar lookup="row">aero/alpha-rad</independentVar>
                       <independentVar lookup="column">aero/Re</independentVar>
                       <tableData>
                                    9657151 10622865 14485727 19153512
                           -0.0349   0.7227   0.1035   0.0758   0.0663
                            0.3491   6.8236   0.6608   0.6331   0.6236
                       </tableData>
                    </table>
                </product>
            </function>
            <function name="aero/coefficient/Clda">
                <description>Roll_moment_due_to_aileron</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>fcs/left-aileron-pos-rad</property>
                      <table>
                          <independentVar>velocities/mach</independentVar>
                          <tableData>
                              0.0000	0.1500
                              2.0000	0.0375
                          </tableData>
                      </table>
                </product>
            </function>
            <function name="aero/coefficient/Cldr">
                <description>Roll_moment_due_to_rudder</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>fcs/rudder-pos-rad</property>
                    <value>0.0100</value>
                </product>
            </function>
        </axis>

        <axis name="PITCH">
            <function name="aero/moment/Pitch_propwash">
                <description>Pitch moment due to propeller induced velocity</description>
                <product>
                    <property>systems/propulsion/thrust-coefficient</property>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <table>
                      <independentVar lookup="row">aero/alpha-rad</independentVar>
                      <independentVar lookup="column">fcs/flap-pos-deg</independentVar>
                      <tableData>
                               0.0     60.0
                        -0.01  0.000   0.000
                         0.00 -0.035  -0.093
                         0.38 -0.185  -0.492
                         0.49  0.000   0.000
                      </tableData>
                    </table>
                </product>
            </function>

            <function name="aero/coefficient/Cmalpha">
                <description>Pitch_moment_due_to_alpha</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/cbarw-ft</property>
                    <property>aero/alpha-rad</property>
                    <value>-1.8763</value>
                </product>
            </function>
            <function name="aero/coefficient/Cmde">
                <description>Pitch_moment_due_to_elevator</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/cbarw-ft</property>
                    <property>fcs/elevator-pos-rad</property>
                      <table>
                          <independentVar>velocities/mach</independentVar>
                          <tableData>
                              0.0000	-1.6280
                              2.0000	-0.4070
                          </tableData>
                      </table>
                </product>
            </function>
            <function name="aero/coefficient/Cmq">
                <description>Pitch_moment_due_to_pitch_rate</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/cbarw-ft</property>
                    <property>aero/ci2vel</property>
                    <property>velocities/q-aero-rad_sec</property>
                    <value>-20.1341</value>
                </product>
            </function>
            <function name="aero/coefficient/Cmadot">
                <description>Pitch_moment_due_to_alpha_rate</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/cbarw-ft</property>
                    <property>aero/ci2vel</property>
                    <property>aero/alphadot-rad_sec</property>
                    <value>-5.7526</value>
                </product>
            </function>
        </axis>

        <axis name="YAW">
            <!-- Stall initiator -->
            <function name="aero/moment/Yaw_alpha">
               <description>Yaw moment due to alpha</description>
               <product>
                   <property>aero/qbar-psf</property>
                   <property>metrics/Sw-sqft</property>
                   <property>metrics/bw-ft</property>
                   <property>aero/alpha-rad</property>
                   <table>
                     <independentVar lookup="row">aero/beta-rad</independentVar>
                     <independentVar lookup="column">aero/Re</independentVar>
                     <tableData>
                                  9657151 10622865
                         -0.3491   1.0000   0.0000
                          0.3491  -1.0000   0.0000
                     </tableData>
                   </table>
               </product>
            </function>
            <function name="aero/coefficient/Cnb">
                <description>Yaw_moment_due_to_beta</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>aero/beta-rad</property>
                    <value>0.1809</value>
                </product>
            </function>
            <function name="aero/moment/Yaw_rol_rate">
               <description>Yaw_moment_due_to_roll_rate</description>
               <product>
                   <property>aero/qbar-psf</property>
                   <property>metrics/Sw-sqft</property>
                   <property>metrics/bw-ft</property>
                   <property>aero/bi2vel</property>
                   <property>velocities/p-rad_sec</property>
                   <table>
                       <independentVar lookup="row">aero/Re</independentVar>
                       <tableData>
                         9657151  -3.0836
                        10622865  -0.2300
                        14485727  -0.1022
                        19153512  -0.0585
                       </tableData>
                    </table>
               </product>
            </function>
            <function name="aero/coefficient/Cnr">
                <description>Yaw_moment_due_to_yaw_rate</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>aero/bi2vel</property>
                    <property>velocities/r-aero-rad_sec</property>
                    <value>-0.1739</value>
                </product>
            </function>
            <function name="aero/coefficient/Cndr">
                <description>Yaw_moment_due_to_rudder</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>fcs/rudder-pos-rad</property>
                    <value>-0.1102</value>
                </product>
            </function>
            <function name="aero/coefficient/Cnda">
                <description>Adverse_yaw</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>fcs/left-aileron-pos-rad</property>
                    <value>-0.0080</value>
                </product>
            </function>
        </axis>
    </aerodynamics>
</fdm_config>
<?xml version="1.0" encoding="utf-8"?>
<initialize name="airborne">

  <!-- 
     This file sets up the aircraft initial conditions. It turns
	 all of the engines on, and provides a default altitude and
	 airspeed. This may be overridden in the script file that
	 calls this initialization file.
  -->
  <running>                -1   </running>
  <altitude unit="FT">  30000.0  </altitude>
  <vc unit="KTS">        200.0  </vc>

</initialize>
<fdm_config xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" name="global5000" release="ALPHA" version="2.0" xsi:noNamespaceSchemaLocation="http://jsbsim.sourceforge.net/JSBSim.xsd">

 <fileheader>
  <author> Aeromatic v 0.96 and fixed bugs Guilherme Lima da Silva </author>
  <filecreationdate>2021-05-17</filecreationdate>
  <version>$Revision: 1.20 $</version>
  <description>


    File created with Aeromatic

    Based on Moellemi, M., Jafer, S., Towhidnejad, M. "Flight Dynamics Model of Bombardier Global 5000 Aircraft", AIAA Modeling and Simulation Technologies Conference, 13-17 June 2016, Washington D.C., AIAA 2016-3525, DOI: 10.2514/6.2016-3525

    Models a global5000

    Mods:
    included feed=2 in the engine to use tank 2
    included important outputs
    adjusted CL and CD tables to match theoretical Polar Drag curve
    by considering e=0.83 and k=0.03453 and FAA TC 18-7

    modified by Guilherme Lima da Silva
    ATS aerohermalsolutions.co
    aerospace@ats4i.com
    May 2021

    File:     global5000.xml
    Inputs:
    name:          global5000
    type:          two-engine transonic transport
    max weight:    87700 lb
    wing span:     93 ft
    length:        96.9 ft
    wing area:     1022 sq-ft
    gear type:     tricycle
    castering:
    retractable?:  yes
    # engines:     2
    engine type:   turbine
    engine layout: aft fuselage
    yaw damper?    yes
    Outputs:
    wing loading:  85.81 lb/sq-ft
    payload:       15172.1 lbs
    CL-alpha:      4.4 per radian
    CL-0:          0.2
    CL-max:        1.2
    CD-0:          0.02
    K:             0.043

  </description>
 </fileheader>



 <metrics>
   <wingarea unit="FT2"> 1022.00 </wingarea>
   <wingspan unit="FT">   93.00 </wingspan>
   <wing_incidence>          2.00 </wing_incidence>
   <chord unit="FT">   10.99 </chord>
   <htailarea unit="FT2">  245.00 </htailarea>
   <htailarm unit="FT">   31.00 </htailarm>
   <vtailarea unit="FT2">  186.00 </vtailarea>
   <vtailarm unit="FT">   13.00 </vtailarm>
   <location name="AERORP" unit="IN">
     <x> 790.80 </x>
     <y>   0.00 </y>
     <z>   0.00 </z>
   </location>
   <location name="EYEPOINT" unit="IN">
     <x>  81.40 </x>
     <y> -30.00 </y>
     <z>  70.00 </z>
   </location>
   <location name="VRP" unit="IN">
     <x>0</x>
     <y>0</y>
     <z>0</z>
   </location>
 </metrics>

 <mass_balance>
   <ixx unit="SLUG*FT2">    238070 </ixx>
   <iyy unit="SLUG*FT2">    589404 </iyy>
   <izz unit="SLUG*FT2">    834676 </izz>
   <emptywt unit="LBS">     48235 </emptywt>
   <location name="CG" unit="IN">
     <x> 790.82 </x>
     <y>   0.00 </y>
     <z> -29.07 </z>
   </location>
   <pointmass name="Payload">
    <description> 15172 LBS + full (24293 LBS) fuel should bring model up to entered max weight</description>
    <weight unit="LBS">   7586.0 </weight>
    <location name="POINTMASS" unit="IN">
      <x> 790.80 </x>
      <y>   0.00 </y>
      <z> -29.07 </z>
    </location>
  </pointmass> 
 </mass_balance>

 <ground_reactions>

  <contact name="NOSE" type="BOGEY">
   <location unit="IN">
     <x> 151.16 </x>
     <y>   0.00 </y>
     <z> -139.54 </z>
   </location>
   <static_friction>  0.80 </static_friction>
   <dynamic_friction> 0.50 </dynamic_friction>
   <rolling_friction> 0.02 </rolling_friction>
   <spring_coeff unit="LBS/FT">      26310.00 </spring_coeff>
   <damping_coeff unit="LBS/FT/SEC"> 13155.00 </damping_coeff>
   <max_steer unit="DEG"> 5.00 </max_steer>
   <brake_group>NONE</brake_group>
   <retractable>1</retractable>
  </contact>

  <contact name="LEFT_MAIN" type="BOGEY">
   <location unit="IN">
     <x> 822.43 </x>
     <y> -100.44 </y>
     <z> -139.54 </z>
   </location>
   <static_friction>  0.80 </static_friction>
   <dynamic_friction> 0.50 </dynamic_friction>
   <rolling_friction> 0.02 </rolling_friction>
   <spring_coeff unit="LBS/FT">      87700.00 </spring_coeff>
   <damping_coeff unit="LBS/FT/SEC"> 43850.00 </damping_coeff>
   <max_steer unit="DEG">0</max_steer>
   <brake_group>LEFT</brake_group>
   <retractable>1</retractable>
  </contact>

  <contact name="RIGHT_MAIN" type="BOGEY">
   <location unit="IN">
     <x> 822.43 </x>
     <y> 100.44 </y>
     <z> -139.54 </z>
   </location>
   <static_friction>  0.80 </static_friction>
   <dynamic_friction> 0.50 </dynamic_friction>
   <rolling_friction> 0.02 </rolling_friction>
   <spring_coeff unit="LBS/FT">      87700.00 </spring_coeff>
   <damping_coeff unit="LBS/FT/SEC"> 43850.00 </damping_coeff>
   <max_steer unit="DEG">0</max_steer>
   <brake_group>RIGHT</brake_group>
   <retractable>1</retractable>
  </contact>

  <contact name="LEFT_WING" type="STRUCTURE">
    <location unit="IN">
     <x> 790.80 </x>
     <y> -46.50 </y>
     <z> -29.07 </z>
    </location>
    <static_friction>  1.00 </static_friction>
    <dynamic_friction> 1.00 </dynamic_friction>
    <spring_coeff unit="LBS/FT">      87700.00 </spring_coeff>
    <damping_coeff unit="LBS/FT/SEC"> 87700.00 </damping_coeff>
  </contact>

  <contact name="RIGHT_WING" type="STRUCTURE">
    <location unit="IN">
     <x> 790.80 </x>
     <y>  46.50 </y>
     <z> -29.07 </z>
    </location>
    <static_friction>  1.00 </static_friction>
    <dynamic_friction> 1.00 </dynamic_friction>
    <spring_coeff unit="LBS/FT">      87700.00 </spring_coeff>
    <damping_coeff unit="LBS/FT/SEC"> 87700.00 </damping_coeff>
  </contact>

 </ground_reactions>

 <propulsion>

   <engine file="BR710">
    <feed>0</feed>
    <feed>2</feed>
    <thruster file="direct">
     <location unit="IN">
       <x> 1102.80 </x>
       <y> -20.00 </y>
       <z>   0.00 </z>
     </location>
     <orient unit="DEG">
       <pitch> 0.00 </pitch>
       <roll>  0.00 </roll>
       <yaw>   0.00 </yaw>
     </orient>
    </thruster>
  </engine>

   <engine file="BR710">
    <feed>1</feed>
    <feed>2</feed>
    <thruster file="direct">
     <location unit="IN">
       <x> 1102.80 </x>
       <y>  20.00 </y>
       <z>   0.00 </z>
     </location>
     <orient unit="DEG">
       <pitch> 0.00 </pitch>
       <roll>  0.00 </roll>
       <yaw>   0.00 </yaw>
     </orient>
    </thruster>
  </engine>

  <tank number="0" type="FUEL">
     <location unit="IN">
       <x> 790.80 </x>
       <y>   0.00 </y>
       <z> -29.07 </z>
     </location>
     <capacity unit="LBS"> 8097.63 </capacity>
     <contents unit="LBS"> 8097.63 </contents>
  </tank>

  <tank number="1" type="FUEL">
     <location unit="IN">
       <x> 790.80 </x>
       <y>   0.00 </y>
       <z> -29.07 </z>
     </location>
     <capacity unit="LBS"> 8097.63 </capacity>
     <contents unit="LBS"> 8097.63 </contents>
  </tank>

  <tank number="2" type="FUEL">
     <location unit="IN">
       <x> 790.80 </x>
       <y>   0.00 </y>
       <z> -29.07 </z>
     </location>
     <capacity unit="LBS"> 8097.63 </capacity>
     <contents unit="LBS"> 8097.63 </contents>
  </tank>

 </propulsion>

 
 <system file="GNCUtilities" />

 <system file="Autopilot">
      <property value="0.523"> guidance/roll-angle-limit </property>
      <property value="0.174"> guidance/roll-rate-limit </property>
 </system>
 
 <autopilot file="global5000ap" />


 <flight_control name="FCS: global5000">

  <channel name="Pitch">

   <summer name="Pitch Trim Sum">
      <input>ap/elevator_cmd</input> 
      <input>fcs/elevator-cmd-norm</input>
      <input>fcs/pitch-trim-cmd-norm</input>
      <clipto>
        <min> -1 </min>
        <max>  1 </max>
      </clipto>
   </summer>

   <aerosurface_scale name="Elevator Control">
      <input>fcs/pitch-trim-sum</input>
      <range>
        <min> -0.35 </min>
        <max>  0.35 </max>
      </range>
      <output>fcs/elevator-pos-rad</output>
   </aerosurface_scale>

   <aerosurface_scale name="elevator normalization">
      <input>fcs/elevator-pos-rad</input>
      <domain>
        <min> -0.35 </min>
        <max>  0.35 </max>
      </domain>
      <range>
        <min> -1 </min>
        <max>  1 </max>
      </range>
      <output>fcs/elevator-pos-norm</output>
   </aerosurface_scale>

  </channel>

  <channel name="Roll">

   <summer name="Roll Trim Sum">
      <input>fcs/aileron-cmd-norm</input>
      <input>fcs/roll-trim-cmd-norm</input>
      <clipto>
        <min> -1 </min>
        <max>  1 </max>
      </clipto>
   </summer>

   <aerosurface_scale name="Left Aileron Control">
      <input>fcs/roll-trim-sum</input>
      <range>
        <min> -0.35 </min>
        <max>  0.35 </max>
      </range>
      <output>fcs/left-aileron-pos-rad</output>
   </aerosurface_scale>

   <aerosurface_scale name="Right Aileron Control">
      <input>fcs/roll-trim-sum</input>
      <range>
        <min> -0.35 </min>
        <max>  0.35 </max>
      </range>
      <output>fcs/right-aileron-pos-rad</output>
   </aerosurface_scale>

   <aerosurface_scale name="left aileron normalization">
      <input>fcs/left-aileron-pos-rad</input>
      <domain>
        <min> -0.35 </min>
        <max>  0.35 </max>
      </domain>
      <range>
        <min> -1 </min>
        <max>  1 </max>
      </range>
      <output>fcs/left-aileron-pos-norm</output>
   </aerosurface_scale>

   <aerosurface_scale name="right aileron normalization">
      <input>fcs/right-aileron-pos-rad</input>
      <domain>
        <min> -0.35 </min>
        <max>  0.35 </max>
      </domain>
      <range>
        <min> -1 </min>
        <max>  1 </max>
      </range>
      <output>fcs/right-aileron-pos-norm</output>
   </aerosurface_scale>

  </channel>

  <property value="1">fcs/yaw-damper-enable</property>
  <channel name="Yaw">

   <summer name="Rudder Command Sum">
      <input>fcs/rudder-cmd-norm</input>
      <input>fcs/yaw-trim-cmd-norm</input>
      <clipto>
        <min> -1 </min>
        <max>  1 </max>
      </clipto>
   </summer>

   <scheduled_gain name="Yaw Damper Rate">
      <input>velocities/r-aero-rad_sec</input>
      <table>
        <independentVar lookup="row">velocities/ve-kts</independentVar>
         <tableData>
            30     0.00
            60     2.00
         </tableData>
      </table>
      <gain>fcs/yaw-damper-enable</gain>
   </scheduled_gain>

   <summer name="Rudder Sum">
      <input>fcs/rudder-command-sum</input>
      <input>fcs/yaw-damper-rate</input>
      <clipto>
        <min> -1.1 </min>
        <max>  1.1 </max>
      </clipto>
   </summer>

   <aerosurface_scale name="Rudder Control">
      <input>fcs/rudder-sum</input>
      <domain>
        <min> -1.1 </min>
        <max>  1.1 </max>
      </domain>
      <range>
        <min> -0.35 </min>
        <max>  0.35 </max>
      </range>
      <output>fcs/rudder-pos-rad</output>
   </aerosurface_scale>

   <aerosurface_scale name="rudder normalization">
      <input>fcs/rudder-pos-rad</input>
      <domain>
        <min> -0.35 </min>
        <max>  0.35 </max>
      </domain>
      <range>
        <min> -1 </min>
        <max>  1 </max>
      </range>
      <output>fcs/rudder-pos-norm</output>
   </aerosurface_scale>

  </channel>

  <channel name="Flaps">
   <kinematic name="Flaps Control">
     <input>fcs/flap-cmd-norm</input>
     <traverse>
       <setting>
          <position>  0 </position>
          <time>      0 </time>
       </setting>
       <setting>
          <position> 15 </position>
          <time>      4 </time>
       </setting>
       <setting>
          <position> 30 </position>
          <time>      3 </time>
       </setting>
     </traverse>
     <output>fcs/flap-pos-deg</output>
   </kinematic>

   <aerosurface_scale name="flap normalization">
      <input>fcs/flap-pos-deg</input>
      <domain>
        <min>  0 </min>
        <max> 30 </max>
      </domain>
      <range>
        <min> 0 </min>
        <max> 1 </max>
      </range>
      <output>fcs/flap-pos-norm</output>
   </aerosurface_scale>

  </channel>

  <channel name="Landing Gear">
   <kinematic name="Gear Control">
     <input>gear/gear-cmd-norm</input>
     <traverse>
       <setting>
          <position> 0 </position>
          <time>     0 </time>
       </setting>
       <setting>
          <position> 1 </position>
          <time>     5 </time>
       </setting>
     </traverse>
     <output>gear/gear-pos-norm</output>
   </kinematic>

  </channel>

  <channel name="Speedbrake">
   <kinematic name="Speedbrake Control">
     <input>fcs/speedbrake-cmd-norm</input>
     <traverse>
       <setting>
          <position> 0 </position>
          <time>     0 </time>
       </setting>
       <setting>
          <position> 1 </position>
          <time>     1 </time>
       </setting>
     </traverse>
     <output>fcs/speedbrake-pos-norm</output>
   </kinematic>

  </channel>

 </flight_control>

 <aerodynamics>

        <function name="aero/function/kCDge">
            <description>Change_in_drag_due_to_ground_effect</description>
            <table>
                <independentVar>aero/h_b-mac-ft</independentVar>
                <tableData>
                    0.0000	0.0480
                    0.1000	0.5150
                    0.1500	0.6290
                    0.2000	0.7090
                    0.3000	0.8150
                    0.4000	0.8820
                    0.5000	0.9280
                    0.6000	0.9620
                    0.7000	0.9880
                    0.8000	1.0000
                </tableData>
            </table>
        </function>
 
	 <function name="aero/function/kCLge">
	    <description>Change_in_lift_due_to_ground_effect</description>
	    <table>
		<independentVar>aero/h_b-mac-ft</independentVar>
		<tableData>
		    0.0000	1.2030
		    0.1000	1.1270
		    0.1500	1.0900
		    0.2000	1.0730
		    0.3000	1.0460
		    0.4000	1.0280
		    0.5000	1.0190
		    0.6000	1.0130
		    0.7000	1.0080
		    0.8000	1.0060
		    0.9000	1.0030
		    1.0000	1.0020
		    1.1000	1.0000
		</tableData>
	    </table>
	</function>

        <function name="aero/function/kCLsb">
            <description>Change_in_lift_due_to_speed_brake</description>
            <table>
                <independentVar>fcs/speedbrake-pos-norm</independentVar>
                <tableData>
                    0.0000	1.0
                    0.1000	0.85
                </tableData>
            </table>
        </function>

        <function name="aero/function/kCLsp">
            <description>Change_in_lift_due_to_spoilers</description>
            <table>
                <independentVar>fcs/spoiler-pos-norm</independentVar>
                <tableData>
                    0.0000	1.0
                    0.1000	0.6
                </tableData>
            </table>
        </function>


  <axis name="LIFT">

    <function name="aero/force/Lift_alpha">
      <description>Lift due to alpha</description>
      <product>
          <property>aero/qbar-psf</property>
          <property>metrics/Sw-sqft</property>
          <table>
            <independentVar lookup="row">aero/alpha-rad</independentVar>
            <tableData>
              -0.20 -0.880
               0.00  0.000
               0.23  1.000
               0.60  0.880
            </tableData>
          </table>
      </product>
    </function>

    <function name="aero/force/Lift_flap">
       <description>Delta Lift due to flaps</description>
       <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <property>fcs/flap-pos-deg</property>
           <value> 0.05000 </value>
       </product>
    </function>

    <function name="aero/force/Lift_speedbrake">
       <description>Delta Lift due to speedbrake</description>
       <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <property>fcs/speedbrake-pos-norm</property>
           <value>-0.1</value>
       </product>
    </function>

    <function name="aero/force/Lift_elevator">
       <description>Lift due to Elevator Deflection</description>
       <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <property>fcs/elevator-pos-rad</property>
           <value>0.2</value>
       </product>
    </function>

  </axis>

  <axis name="DRAG">

    <function name="aero/force/Drag_basic">
       <description>Drag at zero lift</description>
       <product>
          <property>aero/qbar-psf</property>
          <property>metrics/Sw-sqft</property>
          <table>
            <independentVar lookup="row">aero/alpha-rad</independentVar>
            <tableData>
             -1.57    1.504
             -0.26    0.030
              0.00    0.024
              0.26    0.030
              1.57    1.504
            </tableData>
          </table>
       </product>
    </function>

    <function name="aero/force/Drag_induced">
       <description>Induced drag</description>
         <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <property>aero/cl-squared</property>
           <value>0.043</value>
         </product>
    </function>

    <function name="aero/force/Drag_mach">
       <description>Drag due to mach</description>
        <product>
          <property>aero/qbar-psf</property>
          <property>metrics/Sw-sqft</property>
          <table>
            <independentVar lookup="row">velocities/mach</independentVar>
            <tableData>
                0.00      0.000
                0.79      0.000
                1.10      0.023
                1.80      0.015
            </tableData>
          </table>
        </product>
    </function>

    <function name="aero/force/Drag_flap">
       <description>Drag due to flaps</description>
         <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <property>fcs/flap-pos-deg</property>
           <value> 0.00197 </value>
         </product>
    </function>

    <function name="aero/force/Drag_gear">
       <description>Drag due to gear</description>
         <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <property>gear/gear-pos-norm</property>
           <value>0.015</value>
         </product>
    </function>

    <function name="aero/force/Drag_speedbrake">
       <description>Drag due to speedbrakes</description>
         <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <property>fcs/speedbrake-pos-norm</property>
           <value>0.02</value>
         </product>
    </function>

    <function name="aero/force/Drag_beta">
       <description>Drag due to sideslip</description>
       <product>
          <property>aero/qbar-psf</property>
          <property>metrics/Sw-sqft</property>
          <table>
            <independentVar lookup="row">aero/beta-rad</independentVar>
            <tableData>
              -1.57    1.230
              -0.26    0.050
               0.00    0.000
               0.26    0.050
               1.57    1.230
            </tableData>
          </table>
       </product>
    </function>

    <function name="aero/force/Drag_elevator">
       <description>Drag due to Elevator Deflection</description>
       <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <abs><property>fcs/elevator-pos-norm</property></abs>
           <value>0.04</value>
       </product>
    </function>

  </axis>

  <axis name="SIDE">

    <function name="aero/force/Side_beta">
       <description>Side force due to beta</description>
       <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <property>aero/beta-rad</property>
           <value>-1</value>
       </product>
    </function>

  </axis>

  <axis name="ROLL">

    <function name="aero/moment/Roll_beta">
       <description>Roll moment due to beta</description>
       <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <property>metrics/bw-ft</property>
           <property>aero/beta-rad</property>
           <value>-0.1</value>
       </product>
    </function>

    <function name="aero/moment/Roll_damp">
       <description>Roll moment due to roll rate</description>
       <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <property>metrics/bw-ft</property>
           <property>aero/bi2vel</property>
           <property>velocities/p-aero-rad_sec</property>
           <value>-0.4</value>
       </product>
    </function>

    <function name="aero/moment/Roll_yaw">
       <description>Roll moment due to yaw rate</description>
       <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <property>metrics/bw-ft</property>
           <property>aero/bi2vel</property>
           <property>velocities/r-aero-rad_sec</property>
           <value>0.15</value>
       </product>
    </function>

    <function name="aero/moment/Roll_aileron">
       <description>Roll moment due to aileron</description>
       <product>
          <property>aero/qbar-psf</property>
          <property>metrics/Sw-sqft</property>
          <property>metrics/bw-ft</property>
          <property>fcs/left-aileron-pos-rad</property>
          <value>0.1</value>
       </product>
    </function>

    <function name="aero/moment/Roll_rudder">
       <description>Roll moment due to rudder</description>
       <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <property>metrics/bw-ft</property>
           <property>fcs/rudder-pos-rad</property>
           <value>0.01</value>
       </product>
    </function>

  </axis>

  <axis name="PITCH">

    <function name="aero/moment/Pitch_alpha">
       <description>Pitch moment due to alpha</description>
       <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <property>metrics/cbarw-ft</property>
           <property>aero/alpha-rad</property>
           <value>-0.6</value>
       </product>
    </function>

    <function name="aero/moment/Pitch_elevator">
       <description>Pitch moment due to elevator</description>
       <product>
          <property>aero/qbar-psf</property>
          <property>metrics/Sw-sqft</property>
          <property>metrics/cbarw-ft</property>
          <property>fcs/elevator-pos-rad</property>
          <table>
            <independentVar lookup="row">velocities/mach</independentVar>
            <tableData>
              0.0     -1.200
              2.0     -0.300
            </tableData>
          </table>
       </product>
    </function>

    <function name="aero/moment/Pitch_damp">
       <description>Pitch moment due to pitch rate</description>
       <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <property>metrics/cbarw-ft</property>
           <property>aero/ci2vel</property>
           <property>velocities/q-aero-rad_sec</property>
           <value>-17</value>
       </product>
    </function>

    <function name="aero/moment/Pitch_alphadot">
       <description>Pitch moment due to alpha rate</description>
       <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <property>metrics/cbarw-ft</property>
           <property>aero/ci2vel</property>
           <property>aero/alphadot-rad_sec</property>
           <value>-6</value>
       </product>
    </function>

  </axis>

  <axis name="YAW">

    <function name="aero/moment/Yaw_beta">
       <description>Yaw moment due to beta</description>
       <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <property>metrics/bw-ft</property>
           <property>aero/beta-rad</property>
           <value>0.12</value>
       </product>
    </function>

    <function name="aero/moment/Yaw_damp">
       <description>Yaw moment due to yaw rate</description>
       <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <property>metrics/bw-ft</property>
           <property>aero/bi2vel</property>
           <property>velocities/r-aero-rad_sec</property>
           <value>-0.15</value>
       </product>
    </function>

    <function name="aero/moment/Yaw_rudder">
       <description>Yaw moment due to rudder</description>
       <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <property>metrics/bw-ft</property>
           <property>fcs/rudder-pos-rad</property>
           <value>-0.1</value>
       </product>
    </function>

    <function name="aero/moment/Yaw_aileron">
       <description>Adverse yaw</description>
       <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <property>metrics/bw-ft</property>
           <property>fcs/left-aileron-pos-rad</property>
           <value>0</value>
       </product>
    </function>

  </axis>

 </aerodynamics>

    <output name="global5000.csv" rate="60" type="CSV">
	<property> aero/alphadot-deg_sec </property>
	<property> aero/betadot-deg_sec  </property>
	<property> velocities/ve-kts </property>
	<property> velocities/vc-kts </property>
	<property> velocities/mach </property>
	<property> aero/beta-deg </property>
	<property> aero/alpha-deg </property>
	<property> velocities/vtrue-kts </property>
	<property> gear/gear-cmd-norm </property>
	<property> aero/coefficient/CLalpha </property>
	<property> position/h-agl-ft </property>


	<simulation>       OFF </simulation>
	<atmosphere>       OFF </atmosphere>
	<massprops>        OFF </massprops>
	<aerosurfaces>     OFF </aerosurfaces>
	<rates>            OFF </rates>
	<velocities>       OFF </velocities>
	<forces>           OFF </forces>
	<moments>          OFF </moments>
	<position>         OFF </position>
	<coefficients>     OFF </coefficients>
	<ground_reactions> OFF </ground_reactions>
	<fcs>              OFF </fcs>
	<propulsion>       ON </propulsion>
    </output>
</fdm_config><?xml version="1.0"?>
<!--

  Author:   Jon Berndt
  Date:     18 August 2002
  Modified with help of Guilherme Lima da Silva, ATS, aerothermal.co
  Mod Date: 30 May 2021
  Function: Global5000 autopilot test file
            the elevator controls altitude
            the engine controls alpha


  Note: this file represents a test only of the new autopilot
        setup in JSBSim. The same components used in the FCS
        can also be used in the autopilot section. There are
        some new FCS input and output identifiers directly
        related to the autopilot:

          ap/elevator_cmd,
          ap/aileron_cmd,
          ap/attitude_hold,
          ap/altitude_hold,
          ap/alpha_hold,
          ap/heading_hold,
          ap/altitude_setpoint,
          ap/heading_setpoint
          ap/alpha_setpoint

-->
<autopilot name="Global5000 Autopilot">

<!-- INTERFACE PROPERTIES -->

  <property> ap/attitude_hold     </property>
  <property> ap/altitude_hold     </property>
  <property> ap/heading_hold      </property>
  <property> ap/altitude_setpoint </property>
  <property> ap/heading_setpoint  </property>
  <property> ap/aileron_cmd       </property>
  <property> ap/elevator_cmd      </property>
  <property> ap/airspeed_setpoint </property>
  <property> ap/airspeed_hold     </property>
  <property> ap/throttle-cmd-norm </property>
  <property> ap/alpha_setpoint </property>
  <property> ap/alpha_hold     </property>

<!-- INITIAL GAIN VALUES -->
  
  <property value="0.5"> ap/hdg-roll-err-c1 </property>
  <property value="50.0"> ap/roll-pid-kp </property>
  <property value="5.0"> ap/roll-pid-ki </property>
  <property value="17.0"> ap/roll-pid-kd </property>

<!--
=====================================================
ROLL CHANNEL
=====================================================
-->

<!-- Wing leveler -->

<channel name="Roll wing leveler">

  <sensor name="fcs/attitude/sensor/phi-rad">
    <input> attitude/phi-rad </input>
    <lag> 0.5 </lag>
    <delay> 2 </delay>
    <noise variation="PERCENT" distribution="GAUSSIAN"> 0.05 </noise>
    <quantization name="attitude/sensor/quantized/phi-rad">
      <bits> 12 </bits>
      <min> -3.1416 </min>
      <max>  3.1416 </max>
    </quantization>
    <bias> 0.001 </bias>
  </sensor>

  <switch name="fcs/wing-leveler-ap-on-off">
    <default value="-1"/>
    <test value="0">
      ap/attitude_hold == 1
    </test>
  </switch>

  <pid name="fcs/roll-ap-error-pid">
    <input>attitude/phi-rad</input>
    <kp> ap/roll-pid-kp </kp>
    <ki> ap/roll-pid-ki </ki>
    <kd> ap/roll-pid-kd </kd>
    <trigger> fcs/wing-leveler-ap-on-off </trigger>
  </pid>

  <switch name="fcs/roll-ap-autoswitch">
    <default value="0.0"/>
    <test value="-fcs/roll-ap-error-pid">
      ap/attitude_hold == 1
    </test>
  </switch>

</channel>

<!-- Heading hold -->

<channel name="Roll heading hold">
  <pure_gain name="fcs/heading-true-degrees">
    <input>attitude/heading-true-rad</input>
    <gain>57.3</gain> <!-- convert to degrees -->
  </pure_gain>

  <summer name="fcs/heading-error">
    <input> -fcs/heading-true-degrees</input>
    <input> ap/heading_setpoint </input>
  </summer>

  <switch name="fcs/heading-error-bias-switch">
    <default value="0.0"/>
    <test value="360.0">
      fcs/heading-error lt -180
    </test>
    <test value="-360.0">
      fcs/heading-error gt 180
    </test>
  </switch>

  <summer name="fcs/heading-corrected">
    <input> fcs/heading-error-bias-switch </input>
    <input> fcs/heading-error </input>
    <clipto>
      <min>-30</min>
      <max>30</max>
    </clipto>
  </summer>

  <pure_gain name="fcs/heading-command">
    <input> fcs/heading-corrected </input>
    <gain> 0.01745 </gain>
  </pure_gain>

  <lag_filter name="fcs/heading-roll-error-lag">
    <input> fcs/heading-command </input>
    <c1> ap/hdg-roll-err-c1 </c1>
  </lag_filter>

  <summer name="fcs/heading-roll-error">
    <input> fcs/heading-roll-error-lag </input>
    <input> -attitude/phi-rad </input>
  </summer>

  <switch name="fcs/heading-roll-error-switch">
    <default value="0.0"/>
    <test value="fcs/heading-roll-error">
      ap/heading_hold == 1
    </test>
  </switch>

  <pid name="fcs/heading-pi-controller">
    <input> fcs/heading-roll-error-switch </input>
    <kp> 6.0 </kp>
    <ki> 0.13 </ki>
    <kd> 6.0 </kd>
  </pid>

  <switch name="fcs/roll-command-selector">
    <default value="0.0"/>
    <test value="fcs/heading-pi-controller">
      ap/heading_hold == 1
      gear/unit[2]/WOW == 0
    </test>
    <test value="fcs/roll-ap-autoswitch">
      ap/attitude_hold == 1
      gear/unit[2]/WOW == 0
    </test>
    <output>ap/aileron_cmd</output>
  </switch>
<!--
  <switch name="fcs/roll-command-selector-steering">
    <default value="0.0"/>
    <test value="fcs/heading-pi-controller">
      ap/heading_hold == 1
      gear/unit/WOW == 1
    </test>
    <output>fcs/steer-cmd-norm</output>
  </switch>
-->
</channel>
<!--
=====================================================
PITCH CHANNEL
=====================================================
-->

<!-- Altitude hold -->

<!-- The Altitude Error component below computes the altitude error, subtracting
     the desired altitude (altitude_setpoint) from the actual altitude above sea
     level (_not_ Above Ground Level).  This error signal is interpreted as an
     hdot command (hdot is time rate of change of altitude, or rate of climb). As
     such it is limited to a maximum absolute value of 12 fps here (720 fpm). The
     maximum achievable climb rate depends on altitude. The commanded climb rate
     is scheduled in the HDot Command component, below. For the given altitude
     (left column in the table), the commanded maaximum climb rate divided by 100
     is given in the right column.
-->

<channel name="Pitch altitude hold">

  <!--
  The difference between the desired altitude and the actual altitude
  is determined, and limited to 100. The output from this component is
  the desired climb rate in percent of maximum.
  -->
  <summer name="fcs/altitude-error">
    <input> ap/altitude_setpoint </input>
    <input> -position/h-agl-ft </input>
    <clipto>
      <min>-100</min>
      <max> 100</max>
    </clipto>
  </summer>

  <!--
  The desired climb rate is lagged slightly for stability.
  -->
  <lag_filter name="fcs/alt-error-lag">
    <input> fcs/altitude-error </input>
    <c1> 1 </c1>
  </lag_filter>

  <!--
  Dependent on altitude, the lagged (and limited) altitude error is multipled
  by the scheduled gain determined from the table, below. The output from this
  component is the absolute climb rate in feet/second. For example, if the desired
  climb rate is 100 percent of maximum and the current altitude is 1000.0 ft., then
  the output from this component would be 11 ft. sec.
  -->
  <scheduled_gain name="fcs/hdot-command">
    <input> fcs/alt-error-lag </input>
    <table>
      <independentVar>position/h-sl-ft</independentVar>
      <tableData>
           0.0   0.12
        1000.0   0.11
        2000.0   0.10
        3000.0   0.096
        4000.0   0.093
        5000.0   0.086
        6000.0   0.078
        7000.0   0.069
        8000.0   0.061
        9000.0   0.053
       10000.0   0.045
       11000.0   0.037
       12000.0   0.028
      </tableData>
    </table>
  </scheduled_gain>

  <!--
  This component calculates the climb rate error, taking the difference between
  the commanded climb rate (from the previous component) and actual climb rate
  in ft./sec.
  -->
  <summer name="fcs/hdot-error">
    <input> fcs/hdot-command </input>
    <input> -velocities/h-dot-fps </input>
  </summer>

  <!--
  If the altitude hold autopilot command is ON, then this switch component will
  pass through the climb rate error (from the previous component). Otherwise, it
  will pass zero.
  -->
  <switch name="fcs/ap-alt-hold-switch">
    <default value="0.0"/>
    <test value="fcs/hdot-error">
      ap/altitude_hold == 1
    </test>
  </switch>

  <!--
  The windup trigger below assumes the elevator will travel +/-23 degrees. The
  elevator, however, does not travel symmetrically. This will need to be addressed
  in a fix to the deadband component.
  -->
  <deadband name="fcs/windup-trigger">
    <input> fcs/elevator-pos-deg </input>
    <width>46.0</width>
  </deadband>

  <!--
  The integrator integrates the hdot error (when the switch component passes that
  signal through above when the altitude hold is selected ON). In the situation
  where the elevator becomes saturated, the integrator ceases to integrate. The
  windup protection is indicated below, with the windup-trigger property being
  the trigger to halt integration. When the windup trigger is non-zero (when the
  elevator position falls outside the range +/- 23 degrees - a deadband of 46
  degrees) then the deadband passes a non-zero value, triggering the anti-windup
  logic in the integrator.

  The proportional component multiplies the error signal by a constant, providing
  the proportional control action of this PI altitude hold controller.

  The pid component combines the proportional and integral control
  signals. It clips the sum to +/- 1.0.
  -->

  <pid name="fcs/altitude-hold-pid">
    <input> fcs/ap-alt-hold-switch </input>
    <kp> 0.01 </kp>
    <ki> 0.0030 </ki>
    <kd> 0.03 </kd>
    <trigger> fcs/windup-trigger </trigger>
    <clipto> <min>-1.0</min>
             <max> 1.0</max> </clipto>
  </pid>

  <!--
  The elevator component flips the sign on the output of the control summer
  above and sets the ap/elevator_command property.
  -->
  <pure_gain name="fcs/elevator">
    <input> fcs/altitude-hold-pid </input>
    <gain> -1.0 </gain>
    <output> ap/elevator_cmd </output>
  </pure_gain>
  
  
</channel>

<channel name="Alpha hold">
  <!-- Compute the error between the target alpha and the actual value -->
  <summer name="aero/alpha-error">
    <input> ap/alpha_setpoint </input>
    <input> -aero/alpha-deg </input>
    <clipto>
      <min>-5</min>
      <max> 5</max>
    </clipto>
  </summer>
  
  <switch name="aero/ap-alpha-hold-switch">
    <default value="0.0"/>
    <test value="aero/alpha-error">
      ap/alpha_hold == 1
    </test>
  </switch>

  <pid name="aero/alpha-hold-pid">
    <input> aero/ap-alpha-hold-switch </input>
    <kp> 100 </kp>
    <ki> 0 </ki>
    <kd> 320 </kd>
    <clipto>
      <min> 0 </min>
      <max> 1</max> </clipto>
  </pid>

  <!-- Forces the auto throttle value to 0 when ap/alpha_hold is different than 1.0
        This allows to disable the autothrottle. -->
  <switch name="ap/throttle-cmd">
    <default value="0.0"/>
    <test value="aero/alpha-hold-pid">
      ap/alpha_hold == 1
    </test>
  </switch>

  <!-- Drives engine #0 throttle position -->
  <summer name="fcs/throttle-pos-norm[0]">
    <input> fcs/throttle-cmd-norm[0] </input>
    <input> -ap/throttle-cmd </input>
    <clipto>
      <min> 0 </min>
      <max> 1.0 </max>
    </clipto>
  </summer>

  <!-- Drives engine #1 throttle position -->
  <summer name="fcs/throttle-pos-norm[1]">
    <input> fcs/throttle-cmd-norm[1] </input>
    <input> -ap/throttle-cmd </input>
    <clipto>
      <min> 0 </min>
      <max> 1.0 </max>
    </clipto>
  </summer>
  
</channel>

</autopilot>
<?xml version="1.0"?>
<!--

  Author:   Jon Berndt
  Date:     18 August 2002
  Modified with help of Guilherme Lima da Silva, ATS, aerothermal.co
  Mod Date: 30 May 2021
  Function: Global5000 autopilot test file
            the engine controls altitude
            the elevator controls alpha
            Note: there are some stability problems yet. Under development.


  Note: this file represents a test only of the new autopilot
        setup in JSBSim. The same components used in the FCS
        can also be used in the autopilot section. There are
        some new FCS input and output identifiers directly
        related to the autopilot:

          ap/elevator_cmd,
          ap/aileron_cmd,
          ap/attitude_hold,
          ap/altitude_hold,
          ap/alpha_hold,
          ap/heading_hold,
          ap/altitude_setpoint,
          ap/heading_setpoint
          ap/alpha_setpoint

-->
<autopilot name="Global5000 Autopilot">

<!-- INTERFACE PROPERTIES -->

  <property> ap/attitude_hold     </property>
  <property> ap/altitude_hold     </property>
  <property> ap/heading_hold      </property>
  <property> ap/altitude_setpoint </property>
  <property> ap/heading_setpoint  </property>
  <property> ap/aileron_cmd       </property>
  <property> ap/elevator_cmd      </property>
  <property> ap/airspeed_setpoint </property>
  <property> ap/airspeed_hold     </property>
  <property> ap/throttle-cmd-norm </property>
  <property> ap/alpha_setpoint </property>
  <property> ap/alpha_hold     </property>

<!-- INITIAL GAIN VALUES -->
  
  <property value="0.5"> ap/hdg-roll-err-c1 </property>
  <property value="50.0"> ap/roll-pid-kp </property>
  <property value="5.0"> ap/roll-pid-ki </property>
  <property value="17.0"> ap/roll-pid-kd </property>

<!--
=====================================================
ROLL CHANNEL
=====================================================
-->

<!-- Wing leveler -->

<channel name="Roll wing leveler">

  <sensor name="fcs/attitude/sensor/phi-rad">
    <input> attitude/phi-rad </input>
    <lag> 0.5 </lag>
    <delay> 2 </delay>
    <noise variation="PERCENT" distribution="GAUSSIAN"> 0.05 </noise>
    <quantization name="attitude/sensor/quantized/phi-rad">
      <bits> 12 </bits>
      <min> -3.1416 </min>
      <max>  3.1416 </max>
    </quantization>
    <bias> 0.001 </bias>
  </sensor>

  <switch name="fcs/wing-leveler-ap-on-off">
    <default value="-1"/>
    <test value="0">
      ap/attitude_hold == 1
    </test>
  </switch>

  <pid name="fcs/roll-ap-error-pid">
    <input>attitude/phi-rad</input>
    <kp> ap/roll-pid-kp </kp>
    <ki> ap/roll-pid-ki </ki>
    <kd> ap/roll-pid-kd </kd>
    <trigger> fcs/wing-leveler-ap-on-off </trigger>
  </pid>

  <switch name="fcs/roll-ap-autoswitch">
    <default value="0.0"/>
    <test value="-fcs/roll-ap-error-pid">
      ap/attitude_hold == 1
    </test>
  </switch>

</channel>

<!-- Heading hold -->

<channel name="Roll heading hold">
  <pure_gain name="fcs/heading-true-degrees">
    <input>attitude/heading-true-rad</input>
    <gain>57.3</gain> <!-- convert to degrees -->
  </pure_gain>

  <summer name="fcs/heading-error">
    <input> -fcs/heading-true-degrees</input>
    <input> ap/heading_setpoint </input>
  </summer>

  <switch name="fcs/heading-error-bias-switch">
    <default value="0.0"/>
    <test value="360.0">
      fcs/heading-error lt -180
    </test>
    <test value="-360.0">
      fcs/heading-error gt 180
    </test>
  </switch>

  <summer name="fcs/heading-corrected">
    <input> fcs/heading-error-bias-switch </input>
    <input> fcs/heading-error </input>
    <clipto>
      <min>-30</min>
      <max>30</max>
    </clipto>
  </summer>

  <pure_gain name="fcs/heading-command">
    <input> fcs/heading-corrected </input>
    <gain> 0.01745 </gain>
  </pure_gain>

  <lag_filter name="fcs/heading-roll-error-lag">
    <input> fcs/heading-command </input>
    <c1> ap/hdg-roll-err-c1 </c1>
  </lag_filter>

  <summer name="fcs/heading-roll-error">
    <input> fcs/heading-roll-error-lag </input>
    <input> -attitude/phi-rad </input>
  </summer>

  <switch name="fcs/heading-roll-error-switch">
    <default value="0.0"/>
    <test value="fcs/heading-roll-error">
      ap/heading_hold == 1
    </test>
  </switch>

  <pid name="fcs/heading-pi-controller">
    <input> fcs/heading-roll-error-switch </input>
    <kp> 6.0 </kp>
    <ki> 0.13 </ki>
    <kd> 6.0 </kd>
  </pid>

  <switch name="fcs/roll-command-selector">
    <default value="0.0"/>
    <test value="fcs/heading-pi-controller">
      ap/heading_hold == 1
      gear/unit[2]/WOW == 0
    </test>
    <test value="fcs/roll-ap-autoswitch">
      ap/attitude_hold == 1
      gear/unit[2]/WOW == 0
    </test>
    <output>ap/aileron_cmd</output>
  </switch>
<!--
  <switch name="fcs/roll-command-selector-steering">
    <default value="0.0"/>
    <test value="fcs/heading-pi-controller">
      ap/heading_hold == 1
      gear/unit/WOW == 1
    </test>
    <output>fcs/steer-cmd-norm</output>
  </switch>
-->
</channel>
<!--
=====================================================
PITCH CHANNEL
=====================================================
-->


<channel name="Alpha hold">

  <summer name="aero/alpha-error">
    <input> ap/alpha_setpoint </input>
    <input> -aero/alpha-deg </input>
    <clipto>
      <min>-5</min>
      <max> 5</max>
    </clipto>
  </summer>

  <switch name="aero/ap-alpha-hold-switch">
    <default value="0.0"/>
    <test value="aero/alpha-error">
      ap/alpha_hold == 1
    </test>
  </switch>

  <deadband name="aero/windup-trigger">
    <input> fcs/elevator-pos-deg </input>
    <width>46.0</width>
  </deadband>

  <pid name="aero/alpha-hold-pid">
    <input> aero/ap-alpha-hold-switch </input>
    <kp> 0.01 </kp>
    <ki> 0.0030 </ki>
    <kd> 0.03 </kd>
    <trigger> aero/windup-trigger </trigger>
    <clipto> <min>-1.0</min>
             <max> 1.0</max> </clipto>
  </pid>

  <!--
  The elevator component flips the sign on the output of the control summer
  above and sets the ap/elevator_command property.
  -->
  <pure_gain name="fcs/elevator">
    <input> aero/alpha-hold-pid </input>
    <gain> -1.0 </gain>
    <output> ap/elevator_cmd </output>
  </pure_gain>
  
  
</channel>

<channel name="Altitude hold">
  
   <summer name="fcs/altitude-error">
      <input> -ap/altitude_setpoint </input>
      <input> position/h-agl-ft </input>
      <clipto>
        <min>-500</min>
        <max> 500</max>
      </clipto>
  </summer>
  
  <switch name="fcs/ap-alt-hold-switch">
    <default value="0.0"/>
    <test value="fcs/altitude-error">
      ap/altitude_hold == 1
    </test>
  </switch>

  <pid name="fcs/alt-hold-pid">
    <input> fcs/ap-alt-hold-switch </input>
    <kp> 300 </kp>
    <ki> 50 </ki>
    <kd> 40 </kd>
    <clipto>
      <min> 0  </min>
      <max> 1 </max> 
    </clipto>
  </pid>

  <!-- Drives engine #0 throttle position -->
  <summer name="fcs/throttle-pos-norm[0]">
    <input> fcs/throttle-cmd-norm[0] </input>
    <input> -fcs/alt-hold-pid </input>
    <clipto>
      <min> 0.6 </min>
      <max> 1.0 </max>
    </clipto>
  </summer>

  <!-- Drives engine #1 throttle position -->
  <summer name="fcs/throttle-pos-norm[1]">
    <input> fcs/throttle-cmd-norm[1] </input>
    <input> -fcs/alt-hold-pid </input>
    <clipto>
      <min> 0.6 </min>
      <max> 1.0 </max>
    </clipto>
  </summer>
  
</channel>

</autopilot>
<?xml version="1.0" encoding="utf-8"?>
<?xml-stylesheet type="text/xsl" href="http://jsbsim.sf.net/JSBSimScript.xsl"?>
<runscript xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:noNamespaceSchemaLocation="http://jsbsim.sf.net/JSBSimScript.xsd"
    name="Trim in Cruise configuration">

  <description>
    Trimmed at altitude/airspeed in Cruise configuration, 
    run for 1 second

      Author:
    Bill Galbraith
    Holy Cows, Inc.
    billg@holycows.net
    December 2010
    
      Modified by:
    Guilherme Lima da Silva
    ATS aerothermalsolutions.co 
    aerospace@ats4i.com 
    May 2021
    
  </description>          

  <use aircraft="global5000" initialize="airborne"/>

  <run start="0" end="2" dt="0.00833333">
  
      <property value="0"> simulation/notify-time-trigger </property>

    <!-- 
	  Specify the initial conditions for the test if
	  different than in the initialize script, and
	  trim the aircraft.
	-->
    <event name="Trim">
      <condition> simulation/sim-time-sec ge 0.0 </condition>
	  <set name="ic/vc-kts"  value="161.25"/>
	  <set name="ic/h-sl-ft" value="30000.0"/>
      <set name="simulation/do_simple_trim" value="1"/>
    </event>
 
      <event name="Repeating Notify" persistent="true">
      <description>Output message at 1 second interval, starting after
                   trimming is completed.
      </description>
      <notify>
        <property>position/h-agl-ft</property>
        <property>velocities/mach</property>  
        <property>propulsion/engine[0]/n2</property>
        <property>propulsion/engine[1]/n2</property>
        <property>propulsion/engine[0]/thrust-lbs</property>
        <property>propulsion/engine[1]/thrust-lbs</property>
        <property>velocities/vc-kts</property>
<!--        <property>velocities/vc-fps</property>-->
<!--        <property>velocities/vt-fps</property>-->
<!--        <property>attitude/theta-rad</property>-->
        <property>aero/alpha-deg</property>
        <property>simulation/frame</property>
      </notify>
      <condition logic="AND">
        simulation/sim-time-sec >= simulation/notify-time-trigger
        simulation/trim-completed eq 1
      </condition>

      <set name="simulation/notify-time-trigger" value="1" type="FG_DELTA"/>
      <notify/>
      
    </event>

  </run>

</runscript>
<?xml version="1.0" encoding="utf-8"?>
<?xml-stylesheet type="text/xsl" href="http://jsbsim.sf.net/JSBSimScript.xsl"?>
<runscript xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:noNamespaceSchemaLocation="http://jsbsim.sf.net/JSBSimScript.xsd"
    name="Trim in Cruise configuration">

  <description>
    Trimmed at altitude/airspeed in Cruise configuration, 
    run for 18000 seconds or 5 hours to check Fuel consumption

      Author:
    Bill Galbraith
    Holy Cows, Inc.
    billg@holycows.net
    December 2010
    
      Modified by:
    Guilherme Lima da Silva
    ATS aerothermalsolutions.co 
    aerospace@ats4i.com 
    May 2021
    
  </description>          

  <use aircraft="global5000" initialize="airborne"/>
  <run start="0" end="18000" dt="0.00833333">
  
      <property value="0"> simulation/notify-time-trigger </property>
 

    <!-- 
	  Specify the initial conditions for the test if
	  different than in the initialize script, and
	  trim the aircraft.
	-->
    <event name="Trim">
      <condition> simulation/sim-time-sec ge 0.0 </condition>
	  <set name="ic/vc-kts"  value="161.25"/>
	  <set name="ic/h-sl-ft" value="30000.0"/>
      <set name="simulation/do_simple_trim" value="1"/>
    </event>
    
    <event name="Hold heading and altitude">
        <condition> velocities/vc-kts >= 51 </condition>
        <delay>10.0</delay>
        <set name="ap/altitude_setpoint" value="30000.0"/>
        <set name="ap/altitude_hold" value="1"/>
        <set name="ap/alpha_setpoint" value="6.08"/>
        <set name="ap/alpha_hold" value="1"/>
      <set name="simulation/output/log_rate_hz" value="10"/>
      <notify>
        <property caption="Cal. airspeed (kts):  "> velocities/vc-kts</property>
        <property caption="Altitude (AGL, ft):   "> position/h-agl-ft</property>
        <property caption="Weight (lbs):         "> inertia/weight-lbs </property>
      </notify>
      <notify/>
    </event>
 
      <event name="Repeating Notify" persistent="true">
      <description>Output message at 1800 seconds intervals, starting after
                   trimming is completed.
      </description>
      <notify>
        <property>position/h-agl-ft</property>
        <property>velocities/mach</property>  
        <property>propulsion/engine[0]/n1</property>
        <property>propulsion/engine[1]/n1</property>
        <property>propulsion/engine[0]/thrust-lbs</property>
        <property>propulsion/engine[1]/thrust-lbs</property>
        <property>velocities/vc-kts</property>
<!--        <property>velocities/vc-fps</property>-->
<!--        <property>velocities/vt-fps</property>-->
<!--        <property>attitude/theta-rad</property>-->
        <property>aero/alpha-deg</property>
        <property>simulation/frame</property>
      </notify>
      <condition logic="AND">
        simulation/sim-time-sec >= simulation/notify-time-trigger
        simulation/trim-completed eq 1
      </condition>
      <set name="simulation/notify-time-trigger" value="1800" type="FG_DELTA"/>
      <notify/>
      
    </event>

  </run>

</runscript>
// This file instructs the automatic synchronization utilities where to
// install this aircraft and under what name.
//
// The syntax is easy;
// * the package name at the beginning of a new line followed by a colon
// * a space as a column separator
// * the path and filename relative to the aircraft install directory
//
// Currently known package names are: FlightGear

// Don't install in the FlightGear base package.
//FlightGear:
<?xml version="1.0"?>
<?xml-stylesheet type="text/xsl" href="http://jsbsim.sourceforge.net/JSBSim.xsl"?>
<fdm_config name="sgstest" version="2.0" release="BETA"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:noNamespaceSchemaLocation="http://jsbsim.sourceforge.net/JSBSim.xsd">

    <fileheader>
        <author> Unknown </author>
        <filecreationdate>2003-01-01</filecreationdate>
        <version> $Revision: 1.16 $ </version>
        <description> Model SGS glider </description>
      <note>
        This model was created using publicly available data, publicly available
        technical reports, textbooks, and guesses. It contains no proprietary or
        restricted data. If this model has been validated at all, it would be
        only to the extent that it seems to "fly right", and that it possibly
        complies with published, publicly known, performance data (maximum speed,
        endurance, etc.). Thus, this model is meant for educational and entertainment
        purposes only.

        This simulation model is not endorsed by the manufacturer. This model is not
        to be sold.
      </note>
    </fileheader>

    <metrics>
        <wingarea unit="FT2"> 42.23 </wingarea>
        <wingspan unit="FT"> 8 </wingspan>
        <chord unit="FT"> 0.5682 </chord>
        <htailarea unit="FT2"> 0.3949 </htailarea>
        <htailarm unit="FT"> 1.561 </htailarm>
        <vtailarea unit="FT2"> 0.6266 </vtailarea>
        <vtailarm unit="FT"> 0 </vtailarm>
        <location name="AERORP" unit="IN">
            <x> 0 </x>
            <y> 0 </y>
            <z> 2.08 </z>
        </location>
        <location name="EYEPOINT" unit="IN">
            <x> 0 </x>
            <y> 0 </y>
            <z> 0 </z>
        </location>
        <location name="VRP" unit="IN">
            <x> 0 </x>
            <y> 0 </y>
            <z> 0 </z>
        </location>
    </metrics>

    <mass_balance negated_crossproduct_inertia="true">
        <ixx unit="SLUG*FT2"> 0.4752 </ixx>
        <iyy unit="SLUG*FT2"> 0.3147 </iyy>
        <izz unit="SLUG*FT2"> 0.7785 </izz>
        <ixz unit="SLUG*FT2"> -0.0255 </ixz>
        <emptywt unit="LBS"> 11.07 </emptywt>
        <location name="CG" unit="IN">
            <x> 0 </x>
            <y> 0 </y>
            <z> 0 </z>
        </location>
        <pointmass name="name">
            <weight unit="LBS"> 0 </weight>
            <location name="POINTMASS" unit="IN">
                <x> 0 </x>
                <y> 0 </y>
                <z> 0 </z>
            </location>
        </pointmass>
    </mass_balance>

    <ground_reactions>
        <contact type="BOGEY" name="NOSE">
            <location unit="IN">
                <x> 0 </x>
                <y> 0 </y>
                <z> 0 </z>
            </location>
            <static_friction> 0.8 </static_friction>
            <dynamic_friction> 0.5 </dynamic_friction>
            <rolling_friction> 0.02 </rolling_friction>
            <spring_coeff unit="LBS/FT"> 1800 </spring_coeff>
            <damping_coeff unit="LBS/FT/SEC"> 600 </damping_coeff>
            <max_steer unit="DEG"> 10 </max_steer>
            <brake_group> NONE </brake_group>
            <retractable>0</retractable>
        </contact>
        <contact type="BOGEY" name="LEFT_MAIN">
            <location unit="IN">
                <x> 0 </x>
                <y> 0 </y>
                <z> 0 </z>
            </location>
            <static_friction> 0.8 </static_friction>
            <dynamic_friction> 0.5 </dynamic_friction>
            <rolling_friction> 0.02 </rolling_friction>
            <spring_coeff unit="LBS/FT"> 5400 </spring_coeff>
            <damping_coeff unit="LBS/FT/SEC"> 1600 </damping_coeff>
            <max_steer unit="DEG"> 360.0 </max_steer>
            <brake_group> LEFT </brake_group>
            <retractable>0</retractable>
        </contact>
        <contact type="BOGEY" name="RIGHT_MAIN">
            <location unit="IN">
                <x> 0 </x>
                <y> 0 </y>
                <z> 0 </z>
            </location>
            <static_friction> 0.8 </static_friction>
            <dynamic_friction> 0.5 </dynamic_friction>
            <rolling_friction> 0.02 </rolling_friction>
            <spring_coeff unit="LBS/FT"> 5400 </spring_coeff>
            <damping_coeff unit="LBS/FT/SEC"> 1600 </damping_coeff>
            <max_steer unit="DEG"> 360.0 </max_steer>
            <brake_group> RIGHT </brake_group>
            <retractable>0</retractable>
        </contact>
        <contact type="BOGEY" name="TAIL_SKID">
            <location unit="IN">
                <x> 0 </x>
                <y> 0 </y>
                <z> 0 </z>
            </location>
            <static_friction> 0.2 </static_friction>
            <dynamic_friction> 0.2 </dynamic_friction>
            <rolling_friction> 0.2 </rolling_friction>
            <spring_coeff unit="LBS/FT"> 20000 </spring_coeff>
            <damping_coeff unit="LBS/FT/SEC"> 1000 </damping_coeff>
            <max_steer unit="DEG"> 0.0 </max_steer>
            <brake_group> NONE </brake_group>
            <retractable>0</retractable>
        </contact>
        <contact type="BOGEY" name="LEFT_TIP">
            <location unit="IN">
                <x> 0 </x>
                <y> 0 </y>
                <z> 0 </z>
            </location>
            <static_friction> 0.2 </static_friction>
            <dynamic_friction> 0.2 </dynamic_friction>
            <rolling_friction> 0.2 </rolling_friction>
            <spring_coeff unit="LBS/FT"> 10000 </spring_coeff>
            <damping_coeff unit="LBS/FT/SEC"> 2000 </damping_coeff>
            <max_steer unit="DEG"> 0.0 </max_steer>
            <brake_group> NONE </brake_group>
            <retractable>0</retractable>
        </contact>
        <contact type="BOGEY" name="RIGHT_TIP">
            <location unit="IN">
                <x> 0 </x>
                <y> 0 </y>
                <z> 0 </z>
            </location>
            <static_friction> 0.2 </static_friction>
            <dynamic_friction> 0.2 </dynamic_friction>
            <rolling_friction> 0.2 </rolling_friction>
            <spring_coeff unit="LBS/FT"> 10000 </spring_coeff>
            <damping_coeff unit="LBS/FT/SEC"> 2000 </damping_coeff>
            <max_steer unit="DEG"> 0.0 </max_steer>
            <brake_group> NONE </brake_group>
            <retractable>0</retractable>
        </contact>
    </ground_reactions>
    <propulsion>
    </propulsion>
    <flight_control name="SGS-mini">
        <channel name="Pitch">
          <summer name="Pitch Trim Sum">
              <input>fcs/elevator-cmd-norm</input>
              <input>fcs/pitch-trim-cmd-norm</input>
              <clipto>
                  <min>-1</min>
                  <max>1</max>
              </clipto>
          </summer>

          <aerosurface_scale name="Elevator Control">
              <input>fcs/pitch-trim-sum</input>
              <gain>0.01745</gain>
              <range>
                  <min>-28</min>
                  <max>23</max>
              </range>
              <output>fcs/elevator-pos-rad</output>
          </aerosurface_scale>
        </channel>
        <channel name="Roll">
            <summer name="Roll Trim Sum">
                <input>fcs/aileron-cmd-norm</input>
                <input>fcs/roll-trim-cmd-norm</input>
                <clipto>
                    <min>-1</min>
                    <max>1</max>
                </clipto>
            </summer>

            <aerosurface_scale name="Aileron Control">
                <input>fcs/aileron-cmd-norm</input>
                <gain>0.01745</gain>
                <range>
                    <min>-20</min>
                    <max>15</max>
                </range>
                <output>fcs/left-aileron-pos-rad</output>
            </aerosurface_scale>
        </channel>
        <channel name="Yaw">
            <summer name="Yaw Trim Sum">
                <input>fcs/rudder-cmd-norm</input>
                <input>fcs/yaw-trim-cmd-norm</input>
                <clipto>
                    <min>-1</min>
                    <max>1</max>
                </clipto>
            </summer>

            <aerosurface_scale name="Rudder Control">
                <input>fcs/rudder-cmd-norm</input>
                <gain>0.01745</gain>
                <range>
                    <min>-16</min>
                    <max>16</max>
                </range>
                <output>fcs/rudder-pos-rad</output>
            </aerosurface_scale>
        </channel>
        <channel name="Flaps">
            <kinematic name="Flaps Control">
                <input>fcs/flap-cmd-norm</input>
                <traverse>
                    <setting>
                        <position>0</position>
                        <time>0</time>
                    </setting>
                    <setting>
                        <position>10</position>
                        <time>2</time>
                    </setting>
                    <setting>
                        <position>20</position>
                        <time>1</time>
                    </setting>
                    <setting>
                        <position>30</position>
                        <time>1</time>
                    </setting>
                </traverse>
                <output>fcs/flap-pos-deg</output>
            </kinematic>
            <aerosurface_scale name="Flap Position Normalizer">
              <input>fcs/flap-pos-deg</input>
              <domain>
                <min>0</min>  <!-- Flaps actual minimum position -->
                <max>30</max>  <!-- Flaps actual maximum position -->
              </domain>
              <range>
                <min>0</min>  <!-- Flaps normalized minimum position -->
                <max>1</max>  <!-- Flaps normalized maximum position -->
              </range>
              <output>fcs/flap-pos-norm</output>
            </aerosurface_scale>
        </channel>
    </flight_control>
    <aerodynamics>

        <function name="aero/function/kCLge">
            <description>Change_in_lift_due_to_ground_effect</description>
            <table>
                <independentVar>aero/h_b-mac-ft</independentVar>
                <tableData>
                    0.0000	1.2030
                    0.1000	1.1270
                    0.1500	1.0900
                    0.2000	1.0730
                    0.3000	1.0460
                    0.4000	1.0550
                    0.5000	1.0190
                    0.6000	1.0130
                    0.7000	1.0080
                    0.8000	1.0060
                    0.9000	1.0030
                    1.0000	1.0020
                    1.1000	1.0000
                </tableData>
            </table>
        </function>

        <axis name="DRAG">
            <function name="aero/coefficient/CDo">
                <description>Drag_at_zero_lift</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <value>0.0007</value>
                </product>
            </function>
            <function name="aero/coefficient/CDwbh">
                <description>Drag_due_to_alpha</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                      <table>
                          <independentVar lookup="row">aero/alpha-rad</independentVar>
                          <!-- <independentVar lookup="column">fcs/flap-pos-deg</independentVar> -->
                          <tableData>
                              -0.0175	0.0100
                              0.0000	0.0150
                              0.0175	0.0200
                              0.0349	0.0250
                              0.0524	0.0300
                              0.0698	0.0350
                              0.0873	0.0400
                              0.1745	0.1000
                              0.2618	0.2300
                              0.3491	0.3700
                              0.4363	0.5000
                              0.5236	0.6000
                              0.6109	0.7600
                              0.6981	0.8500
                              0.7854	0.9600
                              0.8727	1.0600
                              0.9599	1.1400
                              1.0472	1.2200
                              1.2217	1.3800
                              1.3963	1.5000
                              1.5708	1.4600
                          </tableData>
                      </table>
                </product>
            </function>
            <function name="aero/coefficient/CDDe">
                <description>Drag_due_to_Elevator_Deflection</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                      <table>
                          <independentVar>fcs/elevator-pos-norm</independentVar>
                          <tableData>
                              -1.0000	0.1140
                              0.0000	0.0000
                              1.0000	0.1140
                          </tableData>
                      </table>
                </product>
            </function>
        </axis>

        <axis name="SIDE">
            <function name="aero/coefficient/CYb">
                <description>Side_force_due_to_beta</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>aero/beta-rad</property>
                    <value>-0.2850</value>
                </product>
            </function>
            <function name="aero/coefficient/CYda">
                <description>Side_force_due_to_aileron</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>fcs/left-aileron-pos-rad</property>
                    <value>-0.0456</value>
                </product>
            </function>
            <function name="aero/coefficient/CYdr">
                <description>Side_force_due_to_rudder</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>fcs/rudder-pos-rad</property>
                    <value>0.1880</value>
                </product>
            </function>
        </axis>

        <axis name="LIFT">
            <function name="aero/coefficient/CLwbh">
                <description>Lift_due_to_alpha</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>aero/function/kCLge</property>
                      <table>
                          <independentVar>aero/alpha-rad</independentVar>
                          <tableData>
                              -0.1571	0.0000
                              -0.1369	0.0600
                              -0.1222	0.1200
                              -0.0900	0.1900
                              -0.0524	0.2600
                              -0.0349	0.3300
                              -0.0175	0.4300
                              0.0000	0.4800
                              0.0175	0.5600
                              0.0349	0.6400
                              0.0524	0.7100
                              0.0698	0.7800
                              0.0873	0.8200
                              0.1047	0.9200
                              0.1222	0.9900
                              0.1369	1.0600
                              0.1571	1.1000
                              0.1745	1.1600
                              0.1920	1.2200
                              0.2094	1.2500
                              0.2269	1.2600
                              0.2444	1.2500
                              0.2618	1.2400
                              0.2793	1.2100
                              0.2967	1.1600
                              0.3142	1.1400
                              0.3316	1.1400
                              0.3491	1.0900
                              0.4363	0.9800
                              0.5236	0.8800
                              0.6109	0.8300
                              0.6981	0.8400
                              0.7854	0.8200
                              0.8727	0.7900
                              0.9599	0.7400
                              1.0472	0.6600
                              1.2217	0.4700
                              1.3963	0.2600
                              1.5708	0.0300
                          </tableData>
                      </table>
                </product>
            </function>
            <function name="aero/coefficient/CLDe">
                <description>Lift_due_to_Elevator_Deflection</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>fcs/elevator-pos-rad</property>
                    <value>0.3420</value>
                </product>
            </function>
        </axis>

        <axis name="ROLL">
            <function name="aero/coefficient/Clo">
                <description>Roll_moment_due_to_vertical_tail_incidence</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <value>-0.0000</value>
                </product>
            </function>
            <function name="aero/coefficient/Clb">
                <description>Roll_moment_due_to_beta</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>aero/beta-rad</property>
                    <value>-0.0513</value>
                </product>
            </function>
            <function name="aero/coefficient/Clp">
                <description>Roll_moment_due_to_roll_rate_(roll_damping)</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>aero/bi2vel</property>
                    <property>velocities/p-aero-rad_sec</property>
                    <value>-0.4700</value>
                </product>
            </function>
            <function name="aero/coefficient/Clr">
                <description>Roll_moment_due_to_yaw_rate</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>aero/bi2vel</property>
                    <property>velocities/r-aero-rad_sec</property>
                    <value>0.1500</value>
                </product>
            </function>
            <function name="aero/coefficient/Clda">
                <description>Roll_moment_due_to_aileron</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>fcs/left-aileron-pos-rad</property>
                    <value>0.2500</value>
                </product>
            </function>
            <function name="aero/coefficient/Cldr">
                <description>Roll_moment_due_to_rudder</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>fcs/rudder-pos-rad</property>
                    <value>0.0046</value>
                </product>
            </function>
        </axis>

        <axis name="PITCH">
            <function name="aero/coefficient/Cmalpha">
                <description>Pitch_moment_due_to_alpha</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/cbarw-ft</property>
                    <property>aero/alpha-rad</property>
                    <value>-0.5730</value>
                </product>
            </function>
            <function name="aero/coefficient/Cmq">
                <description>Pitch_moment_due_to_pitch_rate</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/cbarw-ft</property>
                    <property>aero/ci2vel</property>
                    <property>velocities/q-aero-rad_sec</property>
                    <value>-9.0000</value>
                </product>
            </function>
            <function name="aero/coefficient/Cmadot">
                <description>Pitch_moment_due_to_alpha_rate</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/cbarw-ft</property>
                    <property>aero/ci2vel</property>
                    <property>aero/alphadot-rad_sec</property>
                    <value>-5.2000</value>
                </product>
            </function>
            <function name="aero/coefficient/Cmo">
                <description>Pitching_moment_at_zero_alpha</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/cbarw-ft</property>
                    <value>0.0000</value>
                </product>
            </function>
            <function name="aero/coefficient/Cmde">
                <description>Pitch_moment_due_to_elevator_deflection</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/cbarw-ft</property>
                    <property>fcs/elevator-pos-rad</property>
                    <value>-1.2610</value>
                </product>
            </function>
        </axis>

        <axis name="YAW">
            <function name="aero/coefficient/Cnb">
                <description>Yaw_moment_due_to_beta</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>aero/beta-rad</property>
                    <value>0.0170</value>
                </product>
            </function>
            <function name="aero/coefficient/Cnp">
                <description>Yaw_moment_due_to_roll_rate</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>aero/bi2vel</property>
                    <property>velocities/p-aero-rad_sec</property>
                    <value>-0.1800</value>
                </product>
            </function>
            <function name="aero/coefficient/Cnr">
                <description>Yaw_moment_due_to_yaw_rate</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>aero/bi2vel</property>
                    <property>velocities/r-aero-rad_sec</property>
                    <value>-0.0250</value>
                </product>
            </function>
            <function name="aero/coefficient/Cnda">
                <description>Yaw_moment_due_to_aileron</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>fcs/left-aileron-pos-rad</property>
                    <value>0.0115</value>
                </product>
            </function>
            <function name="aero/coefficient/Cndr">
                <description>Yaw_moment_due_to_rudder</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>fcs/rudder-pos-rad</property>
                    <value>-0.0370</value>
                </product>
            </function>
        </axis>
    </aerodynamics>
</fdm_config>
<?xml version="1.0"?>
<initialize name="reset00">
  <!--
    This file sets up the aircraft to start off
    from the runway in preparation for takeoff.
  -->
  <ubody unit="FT/SEC">    0.0  </ubody>
  <vbody unit="FT/SEC">    0.0  </vbody>
  <wbody unit="FT/SEC">    0.0  </wbody>
  <latitude unit="DEG">   47.0  </latitude>
  <longitude unit="DEG"> 122.0  </longitude>
  <phi unit="DEG">         0.0  </phi>
  <theta unit="DEG">       0.0  </theta>
  <psi unit="DEG">       150.0  </psi>
  <altitude unit="FT">     5.5  </altitude>
  <winddir unit="DEG">   120.0  </winddir>
  <vwind unit="FT/SEC">   20.0  </vwind>
</initialize>
// This file instructs the automatic synchronization utilities where to
// install this aircraft and under what name.
//
// The syntax is easy;
// * the package name at the beginning of a new line followed by a colon
// * a space as a column separator
// * the path and filename relative to the aircraft install directory
//
// Currently known package names are: FlightGear

// Don't install in the FlightGear base package.
//FlightGear:
<?xml version="1.0"?>
<?xml-stylesheet type="text/xsl" href="http://jsbsim.sourceforge.net/JSBSim.xsl"?>
<fdm_config name="MK-82" version="2.0" release="BETA"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:noNamespaceSchemaLocation="http://jsbsim.sourceforge.net/JSBSim.xsd">

    <fileheader>
        <author> Unknown </author>
        <filecreationdate> 2001-01-01 </filecreationdate>
        <version> $Revision: 1.13 $ </version>
        <description> Mk-82 </description>
      <note>
        This model was created using publicly available data, publicly available
        technical reports, textbooks, and guesses. It contains no proprietary or
        restricted data. If this model has been validated at all, it would be
        only to the extent that it seems to "fly right", and that it possibly
        complies with published, publicly known, performance data (maximum speed,
        endurance, etc.). Or, it could be a gross approximation, with the only
        similarity to an actual object being the name. Thus, this model is meant
        for educational and entertainment purposes only.

        This simulation model is not endorsed by the manufacturer. This model is not
        to be sold.
      </note>
    </fileheader>

    <metrics>
        <wingarea unit="FT2"> 2.54 </wingarea>
        <wingspan unit="FT"> 0.9 </wingspan>
        <chord unit="FT"> 0.9 </chord>
        <htailarea unit="FT2"> 0 </htailarea>
        <htailarm unit="FT"> 0 </htailarm>
        <vtailarea unit="FT2"> 0 </vtailarea>
        <vtailarm unit="FT"> 0 </vtailarm>
        <location name="AERORP" unit="IN">
            <x> 33.08 </x>
            <y> 0 </y>
            <z> 0 </z>
        </location>
        <location name="EYEPOINT" unit="IN">
            <x> 0 </x>
            <y> 0 </y>
            <z> 0 </z>
        </location>
        <location name="VRP" unit="IN">
            <x> 31 </x>
            <y> 0 </y>
            <z> 0 </z>
        </location>
    </metrics>

    <mass_balance>
        <ixx unit="SLUG*FT2"> 0.66 </ixx>
        <iyy unit="SLUG*FT2"> 633 </iyy>
        <izz unit="SLUG*FT2"> 633 </izz>
        <emptywt unit="LBS"> 500 </emptywt>
        <location name="CG" unit="IN">
            <x> 31 </x>
            <y> 0 </y>
            <z> 0 </z>
        </location>
    </mass_balance>

    <ground_reactions>
        <contact type="STRUCTURE" name="NOSE_CONTACT">
            <location unit="IN">
                <x> 0 </x>
                <y> 0 </y>
                <z> 0 </z>
            </location>
            <static_friction> 0 </static_friction>
            <dynamic_friction> 0 </dynamic_friction>
            <rolling_friction> 0 </rolling_friction>
            <spring_coeff unit="LBS/FT"> 10000 </spring_coeff>
            <damping_coeff unit="LBS/FT/SEC"> 200000 </damping_coeff>
            <max_steer unit="DEG"> 0.0 </max_steer>
            <brake_group> NONE </brake_group>
            <retractable>0</retractable>
        </contact>
        <contact type="STRUCTURE" name="TAIL_CONTACT">
            <location unit="IN">
                <x> 66 </x>
                <y> 0 </y>
                <z> 0 </z>
            </location>
            <static_friction> 0 </static_friction>
            <dynamic_friction> 0 </dynamic_friction>
            <rolling_friction> 0 </rolling_friction>
            <spring_coeff unit="LBS/FT"> 10000 </spring_coeff>
            <damping_coeff unit="LBS/FT/SEC"> 200000 </damping_coeff>
            <max_steer unit="DEG"> 0.0 </max_steer>
            <brake_group> NONE </brake_group>
            <retractable>0</retractable>
        </contact>
    </ground_reactions>
    <propulsion>
    </propulsion>
    <flight_control name="FCS: MK-82 FCS">
    </flight_control>
    <aerodynamics>

        <axis name="DRAG">
            <function name="aero/coefficient/CDmin">
                <description>Drag_minimum</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                      <table>
                          <independentVar>velocities/mach</independentVar>
                          <tableData>
                              0.2000	0.1400	
                              0.4000	0.1390	
                              0.8000	0.1440	
                              0.9000	0.1490	
                              0.9500	0.2110	
                              0.9800	0.2520	
                              1.0000	0.2810	
                              1.0200	0.3050	
                              1.0500	0.3270	
                              1.1000	0.3590	
                              1.2000	0.3730	
                              1.4000	0.4180	
                              1.6000	0.2750	
                          </tableData>
                      </table>
                </product>
            </function>
            <function name="aero/coefficient/CDi">
                <description>Drag_induced</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>aero/cl-squared</property>
                      <table>
                          <independentVar lookup="row">aero/alpha-rad</independentVar>
                          <independentVar lookup="column">velocities/mach</independentVar>
                          <tableData>
                              	0.2000	0.4000	0.8000	0.9000	0.9500	0.9800	1.0000	1.0200	1.0500	1.1000	1.2000	1.4000	1.6000	
                              0.0000	0.0000	0.0000	0.0000	0.0000	0.0000	0.0000	0.0000	0.0000	0.0000	0.0000	0.0000	0.0000	0.0000	
                              0.1750	0.1560	0.1500	0.1070	0.1050	0.1030	0.1020	0.1020	0.1010	0.0990	0.0980	0.1110	0.1600	0.1190	
                              0.3490	0.6730	0.5730	0.4500	0.4510	0.4440	0.4430	0.4450	0.4430	0.4450	0.4470	0.6230	0.8560	0.7290	
                              0.5240	1.4760	1.3320	1.1990	1.4870	1.5370	1.6100	1.6740	1.7090	1.7460	1.7740	1.9140	2.3430	1.9960	
                              0.6980	2.1210	2.0970	2.8570	2.9140	2.9880	3.1060	3.2080	3.2780	3.3460	3.3770	3.5290	4.2260	3.5760	
                              0.8730	2.5020	2.7550	4.5630	4.5610	4.6780	4.9210	5.1210	5.2740	5.4180	5.4270	5.5120	6.2080	5.3600	
                              1.0470	2.9490	3.3400	6.2000	6.2250	6.3620	6.6550	6.8950	7.0660	7.2180	7.2770	7.4390	8.0250	7.1240	
                              1.2220	3.2720	4.0200	7.6130	7.5170	7.6200	8.0050	8.3230	8.5590	8.7720	8.8950	9.0890	9.4860	8.6470	
                              1.3960	3.4140	4.4490	8.5890	8.3450	8.5060	8.9530	9.3140	9.5900	9.8810	10.0510	10.1820	10.4330	9.7400	
                              1.5530	3.3830	4.5250	8.9570	8.6620	8.8520	9.3210	9.6990	10.0120	10.3210	10.5040	10.5930	10.7020	10.1650	
                          </tableData>
                      </table>
                </product>
            </function>
        </axis>

        <axis name="SIDE">
            <function name="aero/coefficient/CYb">
                <description>Side_force_due_to_beta</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>aero/beta-rad</property>
                      <table>
                          <independentVar lookup="row">aero/alpha-rad</independentVar>
                          <independentVar lookup="column">velocities/mach</independentVar>
                          <tableData>
                              	0.2000	0.4000	0.8000	0.9000	0.9500	0.9800	1.0000	1.0200	1.0500	1.1000	1.2000	1.4000	1.6000	
                              0.0000	-4.5720	-4.7780	-2.8390	-2.7830	-2.7820	-2.7820	-2.8020	-2.7880	-2.7260	-2.6240	-2.1270	-3.7510	-1.8680	
                              0.1750	-3.4650	-3.4620	-2.5390	-2.5700	-2.5920	-2.6220	-2.6620	-2.6740	-2.6870	-2.6990	-3.2400	-5.0870	-3.5300	
                              0.3490	-4.0330	-3.1760	-2.3060	-2.4370	-2.4890	-2.5570	-2.6210	-2.6490	-2.7270	-2.8330	-4.4100	-6.4600	-5.2600	
                              0.5240	-3.7880	-3.2320	-2.9470	-4.1930	-4.5100	-4.8660	-5.1520	-5.3400	-5.5510	-5.7630	-6.4010	-7.7820	-6.4780	
                              0.6980	-3.1380	-3.0860	-4.9400	-5.1690	-5.4310	-5.7500	-6.0080	-6.2040	-6.4040	-6.5570	-6.9630	-7.8090	-6.5080	
                              0.8730	-2.9750	-3.2000	-5.2580	-5.3000	-5.5000	-5.8190	-6.0770	-6.2740	-6.4640	-6.5150	-6.6640	-7.2910	-6.2470	
                              1.0470	-2.7910	-3.0190	-4.9470	-4.9880	-5.1250	-5.3530	-5.5420	-5.6700	-5.7860	-5.8440	-6.0050	-6.4240	-5.6280	
                              1.2220	-2.5860	-2.8680	-4.3030	-4.2850	-4.3540	-4.5250	-4.6730	-4.7700	-4.8570	-4.9100	-5.0550	-5.3130	-4.7050	
                              1.3960	-2.3880	-2.5850	-3.4120	-3.3890	-3.4360	-3.5320	-3.6200	-3.6690	-3.7200	-3.7470	-3.8640	-4.0610	-3.5780	
                              1.5530	-2.2370	-2.2840	-2.4930	-2.5160	-2.5300	-2.5510	-2.5830	-2.5840	-2.5840	-2.5790	-2.7030	-2.9020	-2.4700	
                          </tableData>
                      </table>
                </product>
            </function>
        </axis>

        <axis name="LIFT">
            <function name="aero/coefficient/CLwbh">
                <description>Lift_due_to_alpha</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>aero/alpha-rad</property>
                      <table>
                          <independentVar lookup="row">aero/alpha-rad</independentVar>
                          <independentVar lookup="column">velocities/mach</independentVar>
                          <tableData>
                              	0.2000	0.4000	0.8000	0.9000	0.9500	0.9800	1.0000	1.0200	1.0500	1.1000	1.2000	1.4000	1.6000	
                              0.0000	0.0000	0.0000	0.0000	0.0000	0.0000	0.0000	0.0000	0.0000	0.0000	0.0000	0.0000	0.0000	0.0000	
                              0.1750	0.8920	0.8530	0.6050	0.5960	0.5830	0.5770	0.5780	0.5720	0.5640	0.5510	0.6290	0.0000	0.0000	
                              0.3490	1.8910	1.5980	1.2390	1.2460	1.2240	1.2220	1.2310	1.2240	1.2300	1.2340	1.7500	0.9180	0.6530	
                              0.5240	2.6800	2.3890	2.1310	2.7150	2.8200	2.9670	3.0950	3.1670	3.2450	3.3060	3.5860	2.3710	1.9530	
                              0.6980	2.7130	2.6710	3.8650	3.9660	4.0880	4.2740	4.4320	4.5460	4.6580	4.7190	4.9500	4.0820	3.3810	
                              0.8730	2.2200	2.4250	4.1130	4.1320	4.2580	4.4950	4.6880	4.8340	4.9760	5.0020	5.1060	5.0580	4.1590	
                              1.0470	1.7770	1.9990	3.7420	3.7690	3.8700	4.0620	4.2180	4.3260	4.4280	4.4760	4.5890	5.2690	4.4650	
                              1.2220	1.2300	1.5000	2.8490	2.8190	2.8740	3.0280	3.1540	3.2430	3.3290	3.3840	3.4650	4.7080	4.1210	
                              1.3960	0.6120	0.7940	1.5350	1.4940	1.5310	1.6170	1.6850	1.7320	1.7870	1.8230	1.8500	3.5210	3.1700	
                              1.5530	0.0470	0.0670	0.1450	0.1400	0.1440	0.1520	0.1590	0.1600	0.1650	0.1690	0.1720	1.8770	1.7320	
                          </tableData>
                      </table>
                </product>
            </function>
        </axis>

        <axis name="ROLL">
            <function name="aero/coefficient/Clbeta">
                <description>Roll_moment_due_to_beta</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>aero/beta-rad</property>
                      <table>
                          <independentVar lookup="row">aero/alpha-rad</independentVar>
                          <independentVar lookup="column">velocities/mach</independentVar>
                          <tableData>
                              	0.2000	0.4000	0.8000	0.9000	0.9500	0.9800	1.0000	1.0200	1.0500	1.1000	1.2000	1.4000	1.6000	
                              0.0000	0.0000	0.0000	0.0000	0.0000	0.0000	0.0000	0.0000	0.0000	0.0000	0.0000	0.0000	0.0000	0.0000	
                              0.1750	0.1500	0.0890	0.0050	0.0110	0.0140	0.0160	0.0170	0.0170	0.0180	0.0190	0.0210	0.0370	0.0400	
                              0.3490	-0.0550	-0.0550	-0.0370	-0.0290	-0.0270	-0.0240	-0.0220	-0.0200	-0.0160	-0.0100	0.0020	0.0350	0.0420	
                              0.5240	-0.0280	-0.0200	0.0110	0.0160	0.0180	0.0190	0.0200	0.0210	0.0220	0.0180	0.0260	0.0500	0.0740	
                              0.6980	0.2960	0.2760	0.2300	0.2210	0.2130	0.2090	0.2080	0.2040	0.1980	0.1880	0.1790	0.1560	0.1660	
                              0.8730	0.3000	0.2920	0.2750	0.2730	0.2700	0.2690	0.2700	0.2680	0.2660	0.2610	0.2660	0.2690	0.2570	
                              1.0470	0.2960	0.2980	0.3070	0.3110	0.3100	0.3110	0.3130	0.3120	0.3110	0.3080	0.3210	0.3390	0.3230	
                              1.2220	0.3100	0.3120	0.3240	0.3290	0.3290	0.3300	0.3330	0.3320	0.3300	0.3280	0.3430	0.3650	0.3520	
                              1.3960	0.3160	0.3170	0.3300	0.3360	0.3370	0.3380	0.3410	0.3400	0.3390	0.3380	0.3540	0.3780	0.3660	
                              1.5530	0.3120	0.3130	0.3270	0.3320	0.3330	0.3340	0.3380	0.3370	0.3360	0.3340	0.3500	0.3740	0.3630	
                          </tableData>
                      </table>
                </product>
            </function>
        </axis>

        <axis name="PITCH">
            <function name="aero/coefficient/Cmalpha">
                <description>Pitch_moment_due_to_alpha</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/cbarw-ft</property>
                    <property>aero/alpha-rad</property>
                      <table>
                          <independentVar lookup="row">aero/alpha-rad</independentVar>
                          <independentVar lookup="column">velocities/mach</independentVar>
                          <tableData>
                              	0.2000	0.4000	0.8000	0.9000	0.9500	0.9800	1.0000	1.0200	1.0500	1.1000	1.2000	1.4000	1.6000	
                              0.0000	-1.3720	-1.7830	-1.3250	-0.2610	-0.2670	-0.0530	-0.2280	-0.1110	0.3980	-0.0010	-1.6930	-3.6220	9.0240	
                              0.1750	-3.6990	-3.7670	-2.3840	-1.2630	-1.1680	-0.9210	-1.0390	-0.8730	-0.3300	-0.5070	-1.5380	-2.5500	8.7340	
                              0.3490	-6.2840	-6.2120	-4.5940	-3.4430	-3.2580	-2.9880	-3.0420	-2.8720	-2.3760	-2.4010	-3.1630	-3.7190	5.6670	
                              0.5240	-6.6830	-6.6450	-5.4900	-4.8850	-4.7620	-4.5880	-4.6300	-4.5470	-4.2660	-4.3030	-5.0530	-5.7670	0.4580	
                              0.6980	-1.3220	-1.7460	-2.7300	-3.1210	-3.2820	-3.3450	-3.4360	-3.5030	-3.5630	-3.7900	-4.5880	-6.0190	-3.9490	
                              0.8730	0.4270	-0.0950	-2.1340	-2.9000	-3.1370	-3.3200	-3.3910	-3.5370	-3.8170	-3.9870	-4.4190	-5.6210	-7.8500	
                              1.0470	-3.0160	-3.0290	-4.1670	-4.9730	-5.0950	-5.2690	-5.2630	-5.4040	-5.7450	-5.6550	-5.4110	-5.5440	-11.3800	
                              1.2220	-4.2180	-4.1060	-5.2920	-6.2680	-6.3560	-6.5490	-6.5100	-6.6640	-7.0630	-6.8850	-6.3960	-6.1490	-14.1200	
                              1.3960	-4.5480	-4.4880	-5.7950	-6.8090	-6.8780	-7.0910	-7.0530	-7.2180	-7.6500	-7.4550	-6.9020	-6.5500	-15.1500	
                              1.5530	-4.5480	-4.5460	-5.8850	-6.8540	-6.9290	-7.1500	-7.1170	-7.2760	-7.7250	-7.5390	-6.9700	-6.6060	-15.1600	
                          </tableData>
                      </table>
                </product>
            </function>
            <function name="aero/coefficient/Cmq">
                <description>Pitch_moment_due_to_pitch_rate</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/cbarw-ft</property>
                    <property>aero/ci2vel</property>
                    <property>velocities/q-aero-rad_sec</property>
                    <value>-50.0000</value>
                </product>
            </function>
            <function name="aero/coefficient/Cmadot">
                <description>Pitch_moment_due_to_alpha_rate</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/cbarw-ft</property>
                    <property>aero/ci2vel</property>
                    <property>aero/alphadot-rad_sec</property>
                    <value>-3.4600</value>
                </product>
            </function>
        </axis>

        <axis name="YAW">
            <function name="aero/coefficient/Cnbeta">
                <description>Yaw_moment_due_to_beta</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/cbarw-ft</property>
                    <property>aero/beta-rad</property>
                      <table>
                          <independentVar lookup="row">aero/alpha-rad</independentVar>
                          <independentVar lookup="column">velocities/mach</independentVar>
                          <tableData>
                              	0.2000	0.4000	0.8000	0.9000	0.9500	0.9800	1.0000	1.0200	1.0500	1.1000	1.2000	1.4000	1.6000	
                              0.0000	1.3720	1.7830	1.3250	0.2610	0.2670	0.0530	0.2280	0.1110	-0.3980	0.0010	1.6930	3.6220	-9.0240	
                              0.1750	3.6990	3.7670	2.3840	1.2630	1.1680	0.9210	1.0390	0.8730	0.3300	0.5070	1.5380	2.5500	-8.7340	
                              0.3490	6.2840	6.2120	4.5940	3.4430	3.2580	2.9880	3.0420	2.8720	2.3760	2.4010	3.1630	3.7190	-5.6670	
                              0.5240	6.6830	6.6450	5.4900	4.8850	4.7620	4.5880	4.6300	4.5470	4.2660	4.3030	5.0530	5.7670	-0.4580	
                              0.6980	1.3220	1.7460	2.7300	3.1210	3.2820	3.3450	3.4360	3.5030	3.5630	3.7900	4.5880	6.0190	3.9490	
                              0.8730	-0.4270	0.0950	2.1340	2.9000	3.1370	3.3200	3.3910	3.5370	3.8170	3.9870	4.4190	5.6210	7.8500	
                              1.0470	3.0160	3.0290	4.1670	4.9730	5.0950	5.2690	5.2630	5.4040	5.7450	5.6550	5.4110	5.5440	11.3800	
                              1.2220	4.2180	4.1060	5.2920	6.2680	6.3560	6.5490	6.5100	6.6640	7.0630	6.8850	6.3960	6.1490	14.1200	
                              1.3960	4.5480	4.4880	5.7950	6.8090	6.8780	7.0910	7.0530	7.2180	7.6500	7.4550	6.9020	6.5500	15.1500	
                              1.5530	4.5480	4.5460	5.8850	6.8540	6.9290	7.1500	7.1170	7.2760	7.7250	7.5390	6.9700	6.6060	15.1600	
                          </tableData>
                      </table>
                </product>
            </function>
            <function name="aero/coefficient/Cnr">
                <description>Yaw_moment_due_to_yaw_rate</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>aero/bi2vel</property>
                    <property>velocities/r-aero-rad_sec</property>
                    <value>-60.0000</value>
                </product>
            </function>
        </axis>
    </aerodynamics>
</fdm_config>
<?xml version="1.0"?>
<initialize name="reset00">
  <!--
    This file sets up the mk82 to start off
    from altitude.
  -->
  <ubody unit="FT/SEC">   560.88 </ubody>
  <vbody unit="FT/SEC">   0.000 </vbody>
  <wbody unit="FT/SEC">   -190.000 </wbody>
  <latitude unit="DEG">   0.0000  </latitude>
  <longitude unit="DEG">   0.0000  </longitude>
  <phi unit="DEG">         0.0000  </phi>
  <theta unit="DEG">       90.0000  </theta>
  <psi unit="DEG">         0.0000  </psi>
  <altitude unit="M">  2010.00 </altitude>
</initialize>
<?xml version="1.0"?>
<initialize name="reset00">
  <!--
    This file sets up the mk82 to start off
    from altitude.
  -->
  <ubody unit="FT/SEC">   400.0  </ubody>
  <vbody unit="FT/SEC">   120.0  </vbody>
  <wbody unit="FT/SEC">     0.0  </wbody>
  <latitude unit="DEG">    47.0  </latitude>
  <longitude unit="DEG"> -110.0  </longitude>
  <phi unit="DEG">          0.0  </phi>
  <theta unit="DEG">        0.0  </theta>
  <psi unit="DEG">        270.0  </psi>
  <altitude unit="FT">  10000.0  </altitude>
</initialize>
<?xml version="1.0"?>
<!-- Generated by Aero-Matic v 1

     Inputs:
                horsepower: 1940.0
                     pitch: variable
            max engine rpm: 3000
        prop diameter (ft): 11.5

     Outputs:
              max prop rpm: 1631.57
                gear ratio:    1.84
                       Cp0: 0.110944
                       Ct0: 0.258500
       static thrust (lbs): 7950.04
-->

<propeller name="prop">
  <ixx>23.6164 </ixx>
  <diameter unit="IN">138.0 </diameter>
  <numblades> 4 </numblades>
  <gearratio>2.38</gearratio>
  <minpitch>23</minpitch>
  <maxpitch>65</maxpitch>
  <minrpm>756</minrpm> <!-- 1800 to 3000 engine RPM -->
  <maxrpm>1260</maxrpm>
  <ct_factor> 1.2 </ct_factor>
  <cp_factor> 0.95 </cp_factor>
 
  <table name="C_THRUST" type="internal">
      <tableData>
                 15      25      35      45      55      65
        0.0  0.2068  0.2534  0.2792  0.2974  0.2779  0.2326
        0.2  0.1696  0.2358  0.2615  0.2825  0.2640  0.2210
        0.4  0.1243  0.2273  0.2498  0.2726  0.2571  0.2152
        0.6  0.0622  0.1934  0.2262  0.2512  0.2398  0.2036
        0.8  0.0032  0.1344  0.2038  0.2248  0.2226  0.1890
        1.0 -0.0532  0.0798  0.1903  0.2076  0.2148  0.1841
        1.2 -0.1094  0.0246  0.1564  0.2005  0.2148  0.1841
        1.4 -0.1598 -0.0430  0.1351  0.2370  0.2530  0.2210
        1.6 -0.1682 -0.1150  0.0775  0.2405  0.2612  0.2326
        1.8 -0.1682 -0.1682  0.0130  0.2068  0.2534  0.2326
        2.0 -0.1787 -0.1787 -0.0549  0.1716  0.2681  0.2472
        2.2 -0.2522 -0.2522 -0.1746  0.1746  0.3722  0.3490
        2.4 -0.2733 -0.2733 -0.2733  0.1008  0.3293  0.3780
        2.6 -0.3153 -0.3153 -0.3153  0.0147  0.2405  0.3878
        2.8 -0.3889 -0.3889 -0.3889 -0.1077  0.1943  0.3889
3.0 -0.4099 -0.4099 -0.4099 -0.2459 0.1074  0.3151
3.2 -0.4309 -0.4309 -0.4309 -0.3975 0.0100  0.2321
3.4 -0.4519 -0.4519 -0.4519 -0.4519 -0.0972 0.1389
3.6 -0.4730 -0.4730 -0.4519 -0.4519 -0.2051 0.0350
      </tableData>
  </table>

  <table name="C_POWER" type="internal">
     <tableData>
                  15        25        35        45        55        65
       0.0    0.1109    0.2740    0.4848    0.7211    0.8354    0.9208
       0.2    0.1073    0.2552    0.4637    0.7211    0.8354    0.9208
       0.4    0.0924    0.2352    0.4404    0.7211    0.8354    0.9208
       0.6    0.0610    0.2186    0.4127    0.7067    0.8321    0.9208
       0.8    0.0185    0.1853    0.3883    0.6745    0.8321    0.9208
       1.0    0.0185    0.1298    0.3661    0.6401    0.8288    0.9208
       1.2   -0.0610    0.0499    0.3240    0.6135    0.8232    0.9208
       1.4   -0.0921   -0.0369    0.2496    0.6046    0.8132    0.9208
       1.6   -0.1076   -0.1109    0.1575    0.5880    0.7955    0.8876
       1.8   -0.1109   -0.1853    0.0463    0.5214    0.7711    0.8687
       2.0   -0.1420   -0.2585   -0.0555    0.4438    0.7344    0.8509
       2.2   -0.1742   -0.3328   -0.1664    0.3606    0.7123    0.8132
       2.4   -0.2052   -0.4072   -0.2774    0.2574    0.6912    0.7955
       2.6   -0.2363   -0.4804   -0.3517    0.1076    0.6745    0.7677
       2.8   -0.2685   -0.5547   -0.4216   -0.0366    0.6601    0.7577
       3.0   -0.2995   -0.6291   -0.4992   -0.1664    0.6379    0.7577
       3.2   -0.3306   -0.7023   -0.5736   -0.2962    0.5969    0.7400
       3.4   -0.3628   -0.7766   -0.6468   -0.4249    0.4626    0.7211
       3.6   -0.3939   -0.8509   -0.7211   -0.5547    0.3251    0.7023
     </tableData>
  </table>

</propeller>
<?xml version="1.0"?>
<!--

  Packard V-1650-7 configured for 150 octane fuel for P51B/C/D use.  British 
  Mustang IIIs would have been setup for a WEP of 81 inHg (25 lb boost).

-->


<piston_engine name="V1650-7">
    <injected>1</injected>
    <minmp unit="INHG"> 5.0 </minmp>
    <maxmp unit="INHG"> 29.9 </maxmp>
    <displacement unit="IN3"> 1650</displacement>
    
    <bore unit="IN"> 5.4  </bore> 
    <stroke unit="IN"> 6.0 </stroke>
    <cylinders> 12 </cylinders>
    <cylinder-head-mass unit="LBS"> 40 </cylinder-head-mass>
    <compression-ratio> 6 </compression-ratio>
    <sparkfaildrop> 0.1 </sparkfaildrop>
    
    <!--
       bsfc and VE are overriden at runtime by the propulsion module 
    -->
    <bsfc unit="LBS/HP*HR"> 0.591 </bsfc>
    <volumetric-efficiency> 0.8295 </volumetric-efficiency>
    
    <air-intake-impedance-factor> 0.1 </air-intake-impedance-factor>
    <ram-air-factor> 0.9 </ram-air-factor>
    
    <maxhp> 1700 </maxhp>
    <cycles> 4 </cycles>
    <idlerpm> 500.0 </idlerpm>
    <maxrpm> 3000.0 </maxrpm>
    
    <maxthrottle> 1.0 </maxthrottle>
    <minthrottle> 0.003 </minthrottle>
    
    <boostmanual> 1 </boostmanual>
    <boostoverride> 0 </boostoverride>
    <numboostspeeds> 2 </numboostspeeds> 
    <!--<takeoffboost unit="INHG"> 45 </takeoffboost>--> <!-- WEP 75inHg -->
    
    <ratedboost1 unit="INHG"> 51 </ratedboost1>   <!-- 67 inHG - 29.97 -->
    <ratedpower1> 1940 </ratedpower1>
    <ratedrpm1> 3000 </ratedrpm1>
    <ratedaltitude1> 5000 </ratedaltitude1>
        
    <ratedboost2 unit="INHG"> 51 </ratedboost2>
    <ratedpower2> 1800 </ratedpower2>  
    <ratedrpm2> 3000 </ratedrpm2>
    <ratedaltitude2> 16000 </ratedaltitude2>
    
</piston_engine>// This file instructs the automatic synchronization utilities where to
// install this aircraft and under what name.
//
// The syntax is easy;
// * the package name at the beginning of a new line followed by a colon
// * a space as a column separator
// * the path and filename relative to the aircraft install directory
//
// Currently known package names are: FlightGear

// Don't install in the FlightGear base package.
//FlightGear:
<?xml version="1.0"?>

<system name="alpha_buffet">

  <property>systems/alpha_buffet/hertz</property>
  <property>systems/alpha_buffet/sine_wave</property>

  <channel name="Alpha_Buffet">

       <switch name="enable">
          <default value="0"/>
          <test logic="AND" value="1">
               velocities/ve-kts gt 65
               gear/unit[0]/WOW == 0
          </test>
          <output>systems/alpha_buffet/enabled</output>
       </switch>

   <scheduled_gain name="Buffet Frequency">
      <input>systems/alpha_buffet/enabled</input>
      <table>
        <independentVar lookup="row">aero/alpha-deg</independentVar>
        <tableData>
           0         0.0
           10.4      0.0
           10.5     15.0
           12.0      6.0
        </tableData>
      </table>
      <output>systems/alpha_buffet/hertz</output>
   </scheduled_gain>

   <scheduled_gain name="Buffet Strength">
      <input>systems/alpha_buffet/enabled</input>
      <table>
        <independentVar lookup="row">aero/alpha-deg</independentVar>
        <independentVar lookup="column">velocities/ve-kts</independentVar>
        <tableData>
                       100   130    200
           0           0.0   0.0    0.0
           10.4        0.0   0.0    0.0
           10.5        0.3   0.01   0.0
           16.0        1.5   0.05   0.0
        </tableData>
      </table>
      <output>systems/alpha_buffet/strength</output>
   </scheduled_gain>

   <fcs_function name="Sine Wave Generator">
     <function>
       <sin>
         <product>
           <property>systems/alpha_buffet/hertz</property>
           <property>simulation/sim-time-sec</property>
           <value>6.283185307</value>
         </product>
       </sin>
     </function>
     <output>systems/alpha_buffet/sine_wave</output>
   </fcs_function>

  </channel>


</system>
<?xml version="1.0"?> 

<system name="Autothrottle">

    <!-- INTERFACE PROPERTIES -->
    <property value="0.0">ap/ap_map_hold</property>
    <property>ap/throttle-cmd-norm</property>
    
    <!-- INITIAL GAIN and control VALUES -->

    <property value="0.05"> ap/map-pid-kp </property>
    <property value="0.1"> ap/map-pid-ki </property>
    <property value="0.00625"> ap/map-pid-kd </property>
    <property value="1"> ap/throttle-gain </property>
    <property value="25.0"> ap/lag_constant </property>
    <property value="75"> ap/max_MP </property>

    <!--
    =====================================================

    MANIFOLD PRESSURE CHANNEL 
    
    Implements the RR Merlin engine monifold control system. 

    =====================================================
    -->     

    <!-- Manifold Pressure hold -->

    <channel name="Manifold pressure hold">
    
    
       <!-- deal with corner cases -->
       <switch name="ap/ap_map_trigger">
          <default value="0.0"/>
          
          <!-- disable pid if engine not running -->
          <test value="1.0">  
              propulsion/engine/set-running == 0
          </test>
          
          <!-- disable pid if target-mp < actual mp and butterfly fully closed -->
          <test LOGIC="AND" value="1.0">
             ap/map-error LT 0.0
             fcs/throttle-pos-norm LE 0.001
          </test>
          
          <!-- disable pid if target-mp > actual mp and butterfly fully open -->
          <test logic="AND" value="1.0">
             ap/map-error GT 0.0
             fcs/throttle-pos-norm GT 0.99
          </test>  
       </switch>

        <!--
            The difference between the desired manifold pressure and the actual 
            manifold pressure is determined.
            
            systems/engine/target-mp-inhg is defined and set in the propulsion module
        -->

        <summer name="ap/map-error">
            <input> systems/engine/target-mp-inhg </input> 
            <input> -/engines/engine/mp-inhg </input>
            <clipto>
               <min>-ap/max_MP </min>
               <max> ap/max_MP </max>
            </clipto>
        </summer>

        <!--
           The desired MP is lagged slightly for stability.
        -->

        <lag_filter name="ap/map-error-lag">
            <input> ap/map-error </input>
            <c1> ap/lag_constant </c1>
        </lag_filter>

        <!--
            If the MP autopilot command is ON, then this switch component will
            pass through the MP error (from the previous component). Otherwise, it
            will pass zero.    On this engine it is on by default and is only over riden
            if the automatic system fails.
        -->

        <switch name="ap/map-switch">
            <default value="0.0"/>
            <test value="ap/map-error-lag">
                ap/ap_map_hold == 0
            </test>
        </switch>
        
        <pid name="ap/map-error-pid">
            <input>ap/map-switch</input>
            <kp> ap/map-pid-kp </kp>
            <ki> ap/map-pid-ki </ki>
            <kd> ap/map-pid-kd </kd>
            <trigger> ap/ap_map_trigger </trigger>
        </pid>

        <pure_gain name="ap/throttle-cmd-out">
            <input> ap/map-error-pid </input>
            <gain> ap/throttle-gain </gain>
            <clipto>
              <min> 0</min>
              <max> 1</max>
            </clipto>
            <output>ap/throttle-cmd-norm</output>
        </pure_gain>      

   </channel>
</system><?xml version="1.0"?>

<system name="compressability">

  <property>systems/compressabilty/hertz</property>
  <property>systems/compressabilty/sine_wave</property>
  <property>systems/compressabilty/enabled</property>

  <channel name="Compressabilty">

    <switch name="fcs/compressabilty-enable">
        <default value="0"/>
        <test value="1">
            velocities/mach gt 0.7
        </test>
        <output>systems/compressabilty/enabled</output>
    </switch>

   <scheduled_gain name="fcs/frequency">
      <input>systems/compressabilty/enabled</input>
      <table>
        <independentVar lookup="row">velocities/mach</independentVar>
        <tableData>
           0         0.0
           0.76      0.0
           0.78      0.1
           0.9       0.5
        </tableData>
      </table>
      <output>systems/compressabilty/hertz</output>
   </scheduled_gain>

   <scheduled_gain name="fcs/strength">
      <input>systems/compressabilty/enabled</input>
      <table>
        <independentVar lookup="row">velocities/mach</independentVar>
        <tableData>
           0           0.0
           0.76        0.0
           0.78        0.3
           0.9         10.0
        </tableData>
      </table>
      <output>systems/compressabilty/strength</output>
   </scheduled_gain>

   <fcs_function name="fcs/sine-wave-generator">
     <function>
       <product>
       <sin>
         <product>
           <property>systems/compressabilty/hertz</property>
           <property>simulation/sim-time-sec</property>
           <value>6.283185307</value>
         </product>
       </sin>
       <property>systems/compressabilty/strength</property>
       </product>
     </function>
     <output>systems/compressabilty/sine_wave</output>
   </fcs_function>

  </channel>


</system>

<?xml version="1.0"?>

<system name="crash-detect">

  <property value="0">systems/crash-detect/crashed</property>

  <channel name="Over-G">

     <switch name="systems/crash-detect/over-g">
          <test value="1">
                accelerations/Nz gt 9.0
          </test>
          <test value="1">
                accelerations/Nz lt -6.0
          </test>
          <output>systems/crash-detect/crashed</output>
     </switch>

  </channel>

  <channel name="impact-ground">

     <switch name="systems/crash-detect/impact">
          <test logic="AND" value="1">
                position/h-agl-ft lt 1.0
                simulation/sim-time-sec gt 1.0
          </test>
          <output>systems/crash-detect/crashed</output>
     </switch>

  </channel>

  <channel name="freeze">

    <switch name="systems/crash-detect/switch1">
          <default value="simulation/integrator/position/rotational"/>          
          <test value="0">
                systems/crash-detect/crashed eq 1
          </test>
          <output>simulation/integrator/position/rotational</output>
    </switch>
    <switch name="systems/crash-detect/switch2">
          <default value="simulation/integrator/position/translational"/>          
          <test value="0">
                systems/crash-detect/crashed eq 1
          </test>
          <output>simulation/integrator/position/translational</output>
    </switch>
    <switch name="systems/crash-detect/switch3">
          <default value="simulation/integrator/rate/rotational"/>          
          <test value="0">
                systems/crash-detect/crashed eq 1
          </test>
          <output>simulation/integrator/rate/rotational</output>
    </switch>
    <switch name="systems/crash-detect/switch4">
          <default value="simulation/integrator/rate/translational"/>          
          <test value="0">
                systems/crash-detect/crashed eq 1
          </test>
          <output>simulation/integrator/rate/translational</output>
    </switch>

  </channel>

</system>
<?xml version="1.0"?>

<system name="Electrictal">

    <property value="1">propulsion/tank/priority</property>
    <property value="0">propulsion/tank[1]/priority</property>
    <property value="0">propulsion/tank[2]/priority</property>
    <property value="0">propulsion/tank[3]/priority</property>
    <property value="0">propulsion/tank[4]/priority</property>
    <property value="0">systems/right-flor-gain</property>

    <!-- Additional properties which are defined separately in FlightGear -->
    <property value="0">/controls/gear/gear-safe-light-check</property>
    <property value="0">/controls/gear/gear-unsafe-light-check</property>
    <property value="0">/controls/lighting/left-flor-pos</property>
    <property value="0">/controls/lighting/right-flor-pos</property>
    <property value="0">/controls/armament/weapons-select</property>
    <property value="0">/controls/armament/trigger</property>
    <property>/controls/armament/guns-enabled</property>
    <property>/controls/armament/rocket[1]/trigger</property>
    <property>/controls/armament/rocket[2]/trigger</property>
    <property>/controls/armament/rocket[3]/trigger</property>
    <property>/controls/armament/rocket[4]/trigger</property>
    <property>/controls/armament/rocket[5]/trigger</property>
    <property>/controls/armament/rocket[6]/trigger</property>
    <property>/controls/armament/rocket[7]/trigger</property>
    <property>/controls/armament/rocket[8]/trigger</property>
    <property>/controls/armament/rocket[9]/trigger</property>
    <property>/controls/armament/rocket[10]/trigger</property>
    <property>/controls/armament/User-Selected-Stores</property>

    <channel name="warning lights">

       <switch name="/controls/engines/engine/boost-light-on">
          <default value="0"/>
          <test value="1">
              propulsion/engine/boost-speed GT 0.9
          </test>
          <test value="1">
              /controls/engines/engine/blower-light-check GT 0.9
          </test>
      </switch>

      <switch name="/controls/gear/safe-light-on">
         <default value="0"/>
         <test login="AND" value ="1">
             /controls/engines/engine[0]/throttle LT 0.25
             gear/unit/pos-norm GT 0.99
         </test>
         <test value="1">
            /controls/gear/gear-safe-light-check GT 0.9
         </test>
      </switch>

      <switch name="/controls/gear/unsafe-light-on">
         <default value="0"/>
         <test login="AND" value ="1">
             /controls/engines/engine[0]/throttle LT 0.25
             gear/unit/pos-norm LT 0.99
         </test>
         <test value="1">
            /controls/gear/gear-unsafe-light-check GT 0.9
         </test>
      </switch>

    </channel>

    <channel name="flor lights">

       <switch name="systems/lighting/left-flor-switch-gain">
          <default value="0"/>
          <test value="0.2">
             /controls/lighting/left-flor-pos == 1
          </test>
          <test value="0.75">
             /controls/lighting/left-flor-pos == 2
          </test>
          <test value="0.5">
             /controls/lighting/left-flor-pos == 3
          </test>
       </switch>

       <switch name="systems/lighting/right-flor-switch-gain">
          <default value="0"/>
          <test value="0.2">
             /controls/lighting/right-flor-pos == 1
          </test>
          <test value="0.75">
             /controls/lighting/right-flor-pos == 2
          </test>
          <test value="0.5">
             /controls/lighting/right-flor-pos == 3
          </test>
       </switch>

        <fcs_function name="systems/lighting/flor-instrument">
          <function>
                 <property>systems/lighting/right-flor-switch-gain</property>
          </function>
          <output>/controls/lighting/instruments-norm</output>
        </fcs_function>

     </channel>

    <channel name="Weapons">

       <!-- support animating the weapons selector switch -->

        <switch name="/controls/armament/rockets">
           <default value="0"/>
           <test value="1">
              /controls/armament/weapons-select GT 2.9
           </test>
        </switch>

        <switch name="/controls/armament/bombs-train">
           <default value="0"/>
           <test logic="AND" value="1">
              /controls/armament/weapons-select GT 1.9
              /controls/armament/weapons-select LT 2.9
          </test>
        </switch>

        <switch name="/controls/armament/bombs-both">
           <default value="0"/>
           <test logic="AND" value="1">
              /controls/armament/weapons-select GT 0.9
              /controls/armament/weapons-select LT 1.9
          </test>
        </switch>

        <!-- connect the triggers to the correct weapons systems -->
        <switch name="/controls/armament/gun-trigger">
           <default value="0"/>
           <test logic="AND" value="1">
              /controls/armament/trigger GT 0.9
              /controls/armament/guns-enabled GT 0.9
          </test>
        </switch>

         <switch name="/controls/armament/next-RX">
           <default value="0"/>
           <test logic="AND" value="1">
              /ai/submodels/submodel[8]/count == 1
          </test>
          <test logic="AND" value="2">
              /ai/submodels/submodel[8]/count == 0
              /ai/submodels/submodel[9]/count == 1
           </test>
           <test logic="AND" value="3">
               /ai/submodels/submodel[9]/count  == 0
               /ai/submodels/submodel[10]/count == 1
          </test>
          <test logic="AND" value="4">
              /ai/submodels/submodel[10]/count  == 0
              /ai/submodels/submodel[11]/count  == 1
           </test>
           <test logic="AND" value="5">
              /ai/submodels/submodel[11]/count  == 0
              /ai/submodels/submodel[12]/count  == 1
          </test>
          <test logic="AND" value="6">
              /ai/submodels/submodel[12]/count  == 0
              /ai/submodels/submodel[13]/count  == 1
          </test>
          <test logic="AND" value="7">
              /ai/submodels/submodel[13]/count  == 0
              /ai/submodels/submodel[14]/count  == 1
           </test>
           <test logic="AND" value="8">
              /ai/submodels/submodel[14]/count  == 0
              /ai/submodels/submodel[15]/count  == 1
          </test>
          <test logic="AND" value="9">
              /ai/submodels/submodel[15]/count  == 0
              /ai/submodels/submodel[16]/count  == 1
          </test>
          <test logic="AND" value="10">
              /ai/submodels/submodel[16]/count  == 0
              /ai/submodels/submodel[17]/count  == 1
           </test>
        </switch>

        <switch name="systems/armament/rocket-sound1">
           <default value="0"/>
           <test logic="AND" value="1">
              /controls/armament/rocket[1]/trigger GT 0
              /ai/submodels/submodel[8]/count GT 0
           </test>
       </switch>

       <switch name="systems/armament/rocket-sound2">
           <default value="0"/>
           <test logic="AND" value="1">
              /controls/armament/rocket[2]/trigger == 1
              /ai/submodels/submodel[9]/count GT 0
           </test>
       </switch>

       <switch name="systems/armament/rocket-sound3">
           <default value="0"/>
           <test logic="AND" value="1">
              /controls/armament/rocket[3]/trigger == 1
              /ai/submodels/submodel[10]/count GT 0
           </test>
       </switch>

       <switch name="systems/armament/rocket-sound4">
           <default value="0"/>
           <test logic="AND" value="1">
              /controls/armament/rocket[4]/trigger == 1
              /ai/submodels/submodel[11]/count GT 0
           </test>
       </switch>

       <switch name="systems/armament/rocket-sound5">
           <default value="0"/>
           <test logic="AND" value="1">
              /controls/armament/rocket[5]/trigger == 1
              /ai/submodels/submodel[12]/count GT 0
           </test>
       </switch>

       <switch name="systems/armament/rocket-sound6">
           <default value="0"/>
           <test logic="AND" value="1">
              /controls/armament/rocket[6]/trigger == 1
              /ai/submodels/submodel[13]/count GT 0
           </test>
       </switch>

       <switch name="systems/armament/rocket-sound7">
           <default value="0"/>
           <test logic="AND" value="1">
              /controls/armament/rocket[7]/trigger == 1
              /ai/submodels/submodel[14]/count GT 0
           </test>
       </switch>

       <switch name="systems/armament/rocket-sound8">
           <default value="0"/>
           <test logic="AND" value="1">
              /controls/armament/rocket[8]/trigger == 1
              /ai/submodels/submodel[15]/count GT 0
           </test>
       </switch>

       <switch name="systems/armament/rocket-sound9">
           <default value="0"/>
           <test logic="AND" value="1">
              /controls/armament/rocket[9]/trigger == 1
              /ai/submodels/submodel[16]/count GT 0
           </test>
       </switch>

       <switch name="systems/armament/rocket-sound10">
           <default value="0"/>
           <test logic="AND" value="1">
              /controls/armament/rocket[10]/trigger == 1
              /ai/submodels/submodel[17]/count GT 0
           </test>
       </switch>
              

        <switch name="systems/armament/outer-pylons">
           <default value="0"/>
           <test value="1">
               /controls/armament/User-Selected-Stores == 2
           </test>
           <test value="1">
               /controls/armament/User-Selected-Stores == 3
           </test>
           <test value="1">
               /controls/armament/User-Selected-Stores == 5
           </test>
        </switch>

        <switch name="systems/armament/inner-pylons">
           <default value="0"/>
           <test value="1">
               /controls/armament/User-Selected-Stores == 2
           </test>
        </switch>

        <switch name="systems/armament/bomb-pylons">
           <default value="0"/>
           <test value="1">
               /controls/armament/User-Selected-Stores == 1
           </test>
           <test value="1">
               /controls/armament/User-Selected-Stores == 3
           </test>
           <test value="1">
               /controls/armament/User-Selected-Stores == 4
           </test>
           <test value="1">
               /controls/armament/User-Selected-Stores == 5
           </test>
        </switch>

        <switch name="systems/armament/drop-tanks">
           <default value="0"/>
           <test logic="AND" value="1">
               /controls/armament/User-Selected-Stores == 4
               /ai/submodels/submodel[12]/count GT 0
           </test>
           <test logic="AND" value="1">
               /controls/armament/User-Selected-Stores == 5
               /ai/submodels/submodel[12]/count GT 0
           </test>
        </switch>

        <switch name="systems/armament/right-bomb">
           <default value="0"/>
           <test logic="AND" value="1">
               /controls/armament/User-Selected-Stores == 1
               /ai/submodels/submodel[11]/count GT 0
           </test>
           <test logic="AND" value="1">
               /controls/armament/User-Selected-Stores == 3
               /ai/submodels/submodel[11]/count GT 0
           </test>
        </switch>

        <switch name="systems/armament/left-bomb">
           <default value="0"/>
           <test logic="AND" value="1">
               /controls/armament/User-Selected-Stores == 1
               /ai/submodels/submodel[10]/count GT 0
           </test>
           <test logic="AND" value="1">
               /controls/armament/User-Selected-Stores == 3
               /ai/submodels/submodel[10]/count GT 0
           </test>
        </switch>

     </channel>

</system>
<?xml version="1.0"?>

<!--

Emulates the auto mixture controls of a Packard Merlin powered Mustang P-51B/C/D/K/H.  
Would probably work for other Merlin powered aircraft like the Spitefire and 
Mosquito as well.

Lever in Full Rich position will give full rich mixture 100% of the time.
This is used for stating the engine, take off and landing at lower altitudes  
and in case the auto mixture feature malfunctions.

With the lever at it's lowest position it will give a leaned mixture for 
cruising.  This will automatically control mixture but should only be used 
for reduced throttle cruising.  It will reduce fuel use by about 5% compared 
to the normal run position.  When the throttle is fully closed this 
position will also act as the fuel cutoff position for shutting down the 
engine on the ground.

In between will result in the normal run position which will automatically 
control mixture at all altitudes and power settings.

-->
<system name="Mixture">
    
     
    <channel name="Mixture Control">
       
        <switch name="mixture/position">
            <default value= "atmosphere/delta" />
            <test value="atmosphere/delta">  <!-- emergency full rich -->
                fcs/mixture-cmd-norm  GE 0.90
            </test> 
            <test  logic="AND" value="999999999999">  <!-- cut off -->
                fcs/throttle-cmd-norm  LE 0.1
                fcs/mixture-cmd-norm  LE 0.1
            </test>
            <test value="1.053">   <!-- lean -->
                fcs/mixture-cmd-norm  LE 0.1
            </test>
            <test value="1.0">    <!-- normal run -->
                fcs/mixture-cmd-norm  LT 0.90
                fcs/mixture-cmd-norm  GT 0.1
            </test> 
        </switch>
        
         
      <fcs_function name="mixture">
          <function>
            <product>
                <quotient>  <!-- invert mixture/position -->
                    <value> 1.0 </value>
                    <property> mixture/position </property>
                </quotient>
                <property> atmosphere/delta </property>
            </product>
          </function>
          <output>fcs/mixture-pos-norm</output>   
        </fcs_function>
        
  </channel>
    
</system>
<?xml version="1.0"?>



<system name="Propulsion">
    
    <property>systems/engine/mp-inhg</property>
    <property>/engines/engine[0]/mp-inhg</property>
    <property> /engines/engine/oil-temperature-degf </property>
    <property>/engines/engine/cht-degf</property>
    <!--<property>atmosphere/density-altitude</property>-->
    
    <property>ap/ap_map_hold</property>
    <!--<property>ap/throttle-cmd-out</property>-->
    <property> ap/throttle-cmd-norm </property>
    <property value="0">/controls/fuel/tank-selector</property>
    <property> /controls/engines/engine/throttle </property>

    <!-- Additional properties which are defined separately in FlightGear -->
    <property value="0"> /controls/engines/engine/supercharger-switch </property>
    <property value="0"> /controls/engines/engine/blower-light-check </property>
        
   <channel name="Boost">
   
        <scheduled_gain name="systems/engine/target-mp-inhg">
            <input>propulsion/engine/set-running</input>
            <table>
                <independentVar>/controls/engines/engine/throttle</independentVar>
                <tableData>
                      0.0    10.95
                      0.97   66.99
                      1.0    75.05
                </tableData>         
            </table>
        </scheduled_gain>   
   
     <fcs_function name="systems/engine/boost-calc">
        <function>
            <integer>
                <table>
                    <independentVar lookup="row">atmosphere/density-altitude</independentVar>
                    <independentVar lookup="column">systems/engine/target-mp-inhg</independentVar>
                    <independentVar lookup="table">propulsion/engine/boost-speed</independentVar>
                    <tableData breakPoint="0">
                                    36     46     61     67    75     81
                        0           0     0.1    0.2    0.4    0.6   0.8
                        5000        0.1   0.2    0.4    0.6    0.8    1
                        6500        0.2   0.4    0.6    0.8    1      1.2
                        10500       0.4   0.6    0.8    1      1.2    1.4
                        13400       0.6   0.8    1      1.2    1.4    1.6
                        14200       0.8   1      1.2    1.4    1.6    1.8
                        16250       1     1.2    1.4    1.5    1.8    1.99
                    </tableData>
                    <tableData breakPoint="1">
                                    36     46     61     67    75     81
                        0           0     0.1    0.2    0.4    0.6   0.8
                        5000        0.1   0.2    0.4    0.6    0.95  1.1
                        6500        0.2   0.4    0.6    0.95    1.1  1.25
                        10500       0.4   0.6    0.95   1.1    1.25  1.5
                        13400       0.6   0.95   1.1    1.25   1.5   1.75
                        14200       0.95  1.1    1.25   1.5    1.75  1.9
                        16250       1.1   1.25   1.5    1.75   1.9   1.99
                    </tableData>
                </table>
                </integer>
            </function>
            <output>systems/engine/boost-calculation</output>
        </fcs_function>

       <switch name="systems/engine/boost-speed">
           <!--<default value="0"/>-->
           <test value="1">
              /controls/engines/engine/supercharger-switch GT 0.9
           </test>
           <test value="0">
               /controls/engines/engine/supercharger-switch LT -0.9
           </test>
           <test loginc="AND" value="systems/engine/boost-calculation">
               /controls/engines/engine/supercharger-switch LT 0.1
               /controls/engines/engine/supercharger-switch GT -0.1
           </test>
       </switch>

       <pure_gain name="systems/engine/boost-speed-gain">
          <input> systems/engine/boost-speed </input>
          <gain> 1.0 </gain>
          <output> propulsion/engine/boost-speed </output>
       </pure_gain>
        
       <fcs_function name="systems/engine/MP-alt-bsfc-lbs_hphr-curve">
          <function>
                <table>
                    <independentVar lookup="row">atmosphere/density-altitude</independentVar>
                    <independentVar lookup="column">/engines/engine/mp-inhg</independentVar>
                    <independentVar lookup="table">propulsion/engine/boost-speed</independentVar>
                    <tableData breakPoint="0">
                                36      46      61      67      75
                        0       0.3900  0.4100  0.5700  0.5900  0.6000
                        5000    0.4000  0.4200  0.5900  0.6100  0.6300
                        10000   0.4100  0.4400  0.6100  0.6300  0.6500
                        15000   0.4300  0.4600  0.6300  0.6500  0.6700
                        20000   0.4500  0.4800  0.6500  0.6700  0.6900
                        25000   0.4800  0.5100  0.6700  0.6900  0.7100
                        30000   0.5200  0.5600  0.7000  0.7200  0.7400
                        35000   0.5700  0.6100  0.7300  0.7500  0.7700
                        40000   0.6400  0.6600  0.7500  0.7700  0.7900
                   </tableData> 
                   <tableData breakPoint="1">   
                                36      46      61      67      75
                        0       0.3900  0.4230  0.6000  0.6200  0.6300
                        5000    0.4300  0.4426  0.6500  0.6700  0.6800
                        10000   0.4600  0.4700  0.6900  0.7100  0.7200
                        15000   0.4800  0.4900  0.7200  0.7500  0.7700
                        20000   0.5000  0.5300  0.7700  0.8000  0.8200
                        25000   0.5400  0.5900  0.8100  0.8400  0.8700
                        30000   0.6100  0.6600  0.8600  0.9000  0.9300
                        35000   0.7000  0.7400  0.9300  0.9700  1
                        40000   0.7800  0.8200  1.0400  1.0700  1.1
                   </tableData>
                </table>  
          </function>
          <output>propulsion/engine/bsfc-lbs_hphr</output>   
        </fcs_function>
        
        <fcs_function name="systems/engine/VE-MP-curve">
          <function>
                <table>
                    <independentVar lookup="row">/engines/engine/mp-inhg</independentVar>
                    <tableData>
                            30   0.75    
                            36   0.69 
                            40   0.625 
                            46   0.65
                            61   0.8259
                            67   0.8  
                    </tableData>
                </table>  
          </function>
          <output>propulsion/engine/volumetric-efficiency</output>   
        </fcs_function>
       
       <pure_gain name="systems/engine/throttle">
          <input> ap/throttle-cmd-norm </input>
          <gain> 1.0 </gain>
          <output> fcs/throttle-pos-norm </output>
       </pure_gain>
        
    </channel>
    
    <!-- 
    Create plusible oil pressure, oil temp and coolant temps for this engine.  These are 
    currently modeled in JSBSim for air cooled engines only (O-360) and these functions 
    use those numbers to guestimate the kinds of numbers a liquid cooled engine would have.
    
    At best this is a cludge and will have to be redone as JSBSim's engine modeling improves.
    -->
    
    <channel name="Engine Gauges">
       
       <fcs_function name="systems/engine/oil-temp-degC">
        <function>
            <table>    
            <independentVar lookup="row">/engines/engine/oil-temperature-degf</independentVar>
                <tableData>
                    32     0.0
                    70     19
                    100    37
                    300    55
                    400    65
                    650    75
                    750    85
                    900    100            
                </tableData>         
            </table>  
        </function>
      </fcs_function>
    
       <!--<fcs_function name="systems/engine/oil-pressure-psi">
        <function>
            <table>    
            <independentVar lookup="row">systems/engine/oil-temp-degC</independentVar>
            <independentVar lookup="column">/engines/engine/rpm</independentVar>
                <tableData>
                            0     500   1000    2000    3000
                    -50     0.0   60      90    120     200
                    0       0.0   40      60    80      100
                    70      0.0   25      50    75      80
                    100     0.0   20      40    65      70      
                </tableData>         
            </table>  
        </function>
       </fcs_function>-->
   
     <fcs_function name="systems/engine/coolant-temp-degC">
        <function>
        <table>    
            <independentVar lookup="row">/engines/engine/cht-degf</independentVar>
                <tableData>
                    -70    -56.7
                    32      0.0
                    300     80
                    500     100
                    800     140 
                    <!---70    -56.7
                    32      0.0
                    300     30
                    500     60
                    800     90 
                    1500    100
                    3500    120
                    6500    150-->
                </tableData>         
            </table>  
        </function>
      </fcs_function>
    </channel>

    <channel>
       <!-- fuel tank selection -->

       <switch name="/consumables/fuel/tank/selected">
          <default value="0.0"/>
          <test value="1">
             /controls/fuel/tank-selector == 0
          </test>
      </switch>

      <switch name="/consumables/fuel/tank[1]/selected">
          <default value="0"/>
          <test value="1">
             /controls/fuel/tank-selector == 1
          </test>
      </switch>

      <switch name="/consumables/fuel/tank[2]/selected">
          <default value="0"/>
          <test value="1">
             /controls/fuel/tank-selector == 2
          </test>
      </switch>

      <switch name="/consumables/fuel/tank[3]/selected">
          <default value="0"/>
          <test value="1">
             /controls/fuel/tank-selector == 3
          </test>
      </switch>

      <switch name="/consumables/fuel/tank[4]/selected">
          <default value="0"/>
          <test value="1">
             /controls/fuel/tank-selector == 4
          </test>
      </switch>

      <pure_gain name="tank0-selected">
            <input> /consumables/fuel/tank/selected </input>
            <gain> 1.0 </gain>
            <clipto>
              <min> 0</min>
              <max> 1</max>
            </clipto>
            <output>propulsion/tank/priority</output>
        </pure_gain>

      <pure_gain name="tank1-selected">
            <input> /consumables/fuel/tank[1]/selected </input>
            <gain> 1.0 </gain>
            <clipto>
              <min> 0</min>
              <max> 1</max>
            </clipto>
            <output>propulsion/tank[1]/priority</output>
        </pure_gain>
         
      <pure_gain name="tank2-selected">
            <input> /consumables/fuel/tank[2]/selected </input>
            <gain> 1.0 </gain>
            <clipto>
              <min> 0</min>
              <max> 1</max>
            </clipto>
            <output>propulsion/tank[2]/priority</output>
        </pure_gain>

        <pure_gain name="tank3-selected">
            <input> /consumables/fuel/tank[3]/selected </input>
            <gain> 1.0 </gain>
            <clipto>
              <min> 0</min>
              <max> 1</max>
            </clipto>
            <output>propulsion/tank[3]/priority</output>
        </pure_gain>

        <pure_gain name="tank4-selected">
            <input> /consumables/fuel/tank[4]/selected </input>
            <gain> 1.0 </gain>
            <clipto>
              <min> 0</min>
              <max> 1</max>
            </clipto>
            <output>propulsion/tank[4]/priority</output>
        </pure_gain>           

        <pure_gain name="tank-selected">
            <input> /controls/fuel/tank-selector </input>
            <gain> 1.0 </gain>
            <output>/controls/engines/engine/feed_tank</output>
        </pure_gain>


    </channel>   
</system>

<?xml version="1.0"?>

<system name="Weapons Weight">

   <property>/ai/submodels/submodel[0]/count</property>
   <property>/ai/submodels/submodel[1]/count</property>
   <property>/ai/submodels/submodel[2]/count</property>
   <property>/ai/submodels/submodel[3]/count</property>
   <property>/ai/submodels/submodel[4]/count</property>
   <property>/ai/submodels/submodel[5]/count</property>
   <property>/ai/submodels/submodel[6]/count</property>
   <property>/ai/submodels/submodel[7]/count</property>
   <property>/ai/submodels/submodel[8]/count</property>
   <property>/ai/submodels/submodel[9]/count</property>
   <property>/ai/submodels/submodel[10]/count</property>
   <property>/ai/submodels/submodel[11]/count</property>
   <property>/ai/submodels/submodel[12]/count</property>
   <property>/ai/submodels/submodel[13]/count</property>
   <property>/ai/submodels/submodel[14]/count</property>
   <property>/ai/submodels/submodel[15]/count</property>
   <property>/ai/submodels/submodel[16]/count</property>
   <property>/ai/submodels/submodel[17]/count</property>
   <property>/ai/submodels/submodel[18]/count</property>
   <property>/ai/submodels/submodel[19]/count</property>
   <property>/ai/submodels/submodel[20]/count</property>
   <property>/ai/submodels/submodel[21]/count</property>

     <channel name="bullets weight">

       <fcs_function name="systems/armament/gun[0]/ammo-weight">
            <function>
              <product>
                 <property>/ai/submodels/submodel[2]/count</property>
                 <value> 0.396476 </value>
              </product>   
            </function>
            <output>inertia/pointmass-weight-lbs[1]</output>
       </fcs_function>
       
       <fcs_function name="systems/armament/gun[1]/ammo-weight">
            <function>
              <product>
                 <property>/ai/submodels/submodel[3]/count</property>
                 <value> 0.396476 </value> 
              </product>
            </function>
            <output>inertia/pointmass-weight-lbs[2]</output>
       </fcs_function>

       <fcs_function name="systems/armament/gun[2]/ammo-weight">
            <function>
              <product>
                 <property>/ai/submodels/submodel[4]/count</property>
                 <value> 0.396476 </value> 
              </product>
            </function>
            <output>inertia/pointmass-weight-lbs[3]</output>
       </fcs_function>

       <fcs_function name="systems/armament/gun[3]/ammo-weight">
            <function>
              <product>
                 <property>/ai/submodels/submodel[5]/count</property>
                 <value> 0.396476 </value>
              </product>
            </function>
            <output>inertia/pointmass-weight-lbs[4]</output>
       </fcs_function>

       <fcs_function name="systems/armament/gun[4]/ammo-weight">
            <function>
              <product>
                 <property>/ai/submodels/submodel[6]/count</property>
                 <value> 0.396476 </value>
              </product>
            </function>
            <output>inertia/pointmass-weight-lbs[5]</output>
       </fcs_function>

       <fcs_function name="systems/armament/gun[5]/ammo-weight">
            <function>
              <product>
                 <property>/ai/submodels/submodel[7]/count</property>
                 <value> 0.396476 </value>
              </product>
            </function>
            <output>inertia/pointmass-weight-lbs[6]</output>
       </fcs_function>

     </channel>

      <channel name="rockets weight">

       <fcs_function name="systems/armament/rockets[0]/weight">
            <function>
              <product>
                 <sum>
                    <property>/ai/submodels/submodel[9]/count</property>
                    <property>/ai/submodels/submodel[11]/count</property>
                    <property>/ai/submodels/submodel[13]/count</property>
                    <property>/ai/submodels/submodel[15]/count</property>
                    <property>/ai/submodels/submodel[17]/count</property>
                 </sum>
                 <value> 140 </value>
              </product>
            </function>
            <output>inertia/pointmass-weight-lbs[7]</output>
       </fcs_function>

       <fcs_function name="systems/armament/rockets[1]/weight">
            <function>
               <product>
                 <sum>
                    <property>/ai/submodels/submodel[8]/count</property>
                    <property>/ai/submodels/submodel[10]/count</property>
                    <property>/ai/submodels/submodel[12]/count</property>
                    <property>/ai/submodels/submodel[14]/count</property>
                    <property>/ai/submodels/submodel[16]/count</property>
                 </sum>
                 <value> 140 </value>
              </product>
            </function>
            <output>inertia/pointmass-weight-lbs[8]</output>
       </fcs_function>


   </channel>

   <channel name="bomb weight">

      <fcs_function name="systems/armament/bombs[0]/weight">
            <function>
              <product>
                 <property>/ai/submodels/submodel[18]/count</property>
                 <value> 500 </value>
              </product>
            </function>
            <output>inertia/pointmass-weight-lbs[9]</output>
       </fcs_function>

       <fcs_function name="systems/armament/bombs[1]/weight">
            <function>
              <product>
                 <property>/ai/submodels/submodel[19]/count</property>
                 <value> 500 </value>
              </product>
            </function>
            <output>inertia/pointmass-weight-lbs[10]</output>
       </fcs_function>

   </channel>

   <channel name="empty drop tank weight">

     <fcs_function name="systems/armament/drop-tank[0]/weight">
            <function>
              <product>
                 <property>/ai/submodels/submodel[20]/count</property>
                 <value> 50 </value>
              </product>
            </function>
            <output>inertia/pointmass-weight-lbs[11]</output>
       </fcs_function>

       <fcs_function name="systems/armament/drop-tank[1]/weight">
            <function>
              <product>
                 <property>/ai/submodels/submodel[21]/count</property>
                 <value> 50 </value>
              </product>
            </function>
            <output>inertia/pointmass-weight-lbs[12]</output>
       </fcs_function>

    </channel>

</system><?xml version="1.0"?>

<!--

Modified version of what was origianlly in FlightGear CVS.  This has 
been extensively modified by:

Hal V. Engel hvengel@astound.net

-->
<?xml-stylesheet type="text/xsl" href="http://jsbsim.sourceforge.net/JSBSim.xsl"?>
<fdm_config name="P-51D (JSBSim)" version="2.0" release="BETA"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:noNamespaceSchemaLocation="http://jsbsim.sourceforge.net/JSBSim.xsd">

    <fileheader>
        <author> Aeromatic / Jon Berndt / DATCOM / Hal V. Engel</author>
        <filecreationdate> 2001-01-01 </filecreationdate>
        <version> $Revision: 1.23 $ </version>
        <description> Advanced model of P-51D fighter (Beta) </description>
      <note>
        This model was created using publicly available data, publicly available
        technical reports, textbooks, and guesses. It contains no proprietary or
        restricted data. If this model has been validated at all, it would be
        only to the extent that it seems to "fly right", and that it possibly
        complies with published, publicly known, performance data (maximum speed,
        endurance, etc.). Thus, this model is meant for educational and entertainment
        purposes only.

        This simulation model is not endorsed by the manufacturer. This model is not
        to be sold.
      </note>
    </fileheader>

    <metrics>
        <wingarea unit="FT2"> 235 </wingarea>
        <wingspan unit="FT"> 37.1 </wingspan>
        <wing_incidence unit="DEG"> 1.00 </wing_incidence>
        <chord unit="FT"> 6.6 </chord>
        <htailarea unit="FT2"> 41 </htailarea>
        <htailarm unit="FT"> 15 </htailarm>
        <vtailarea unit="FT2"> 20 </vtailarea>
        <vtailarm unit="FT"> 0 </vtailarm>
        <location name="AERORP" unit="IN">
            <x> 99 </x>
            <y> 0 </y>
            <z> -26.5 </z>
        </location>
        <location name="EYEPOINT" unit="IN">
            <x> 128 </x>
            <y> 0 </y>
            <z> 30 </z>
        </location>
        <location name="VRP" unit="IN">
            <x> 0 </x>
            <y> 0 </y>
            <z> 0 </z>
        </location>
    </metrics>

    <mass_balance>
        <ixx unit="SLUG*FT2"> 8031 </ixx>
        <iyy unit="SLUG*FT2"> 9274 </iyy>
        <izz unit="SLUG*FT2"> 14547 </izz>
        <emptywt unit="LBS"> 7125 </emptywt>
        <location name="CG" unit="IN">
            <x> 96.5 </x>
            <y> 0 </y>
            <z> -9 </z>
        </location>
        <pointmass name="pilot">
            <weight unit="LBS"> 180 </weight>
            <location name="POINTMASS" unit="IN">
                <x> 98 </x>
                <y> 0 </y>
                <z> 15 </z>
            </location>
        </pointmass>

         <!-- each 50 cal bullet is a little less than 180 grams but with links are
      probably close to 180 gram each.  The inner two guns can have up to 400
      rounds each and the outer 4 guns can be loaded with up to 270 rounds each. -->

      <pointmass name="Ammo right inner gun">
            <weight unit="LBS"> 0 </weight>
            <location name="POINTMASS" unit="IN">
                <x> 97 </x>
                <y> -79.2</y>
                <z> -19.2 </z>
            </location>
        </pointmass>
        <pointmass name="Ammo left inner gun">
            <weight unit="LBS"> 0 </weight>
            <location name="POINTMASS" unit="IN">
                <x> 97 </x>
                <y> 79.2</y>
                <z> -19.2 </z>
            </location>
        </pointmass>
        
        <pointmass name="Ammo right middle gun">
            <weight unit="LBS"> 0 </weight>
            <location name="POINTMASS" unit="IN">
                <x> 97 </x>
                <y> -87.6</y>
                <z> -19.2 </z>
            </location>
        </pointmass>
        <pointmass name="Ammo left middle gun">
            <weight unit="LBS"> 0 </weight>
            <location name="POINTMASS" unit="IN">
                <x> 97 </x>
                <y> 87.6</y>
                <z> -19.2 </z>
            </location>
        </pointmass>
        
        <pointmass name="Ammo right outer gun">
            <weight unit="LBS"> 0 </weight>
            <location name="POINTMASS" unit="IN">
                <x> 97 </x>
                <y> -96</y>
                <z> -19.2 </z>
            </location>
        </pointmass>
        <pointmass name="Ammo left outer gun">
            <weight unit="LBS"> 0 </weight>
            <location name="POINTMASS" unit="IN">
                <x> 97 </x>
                <y> 96</y>
                <z> -19.2 </z>
            </location>
        </pointmass>

        <pointmass name="left rockets">
            <weight unit="LBS"> 0 </weight>
            <location name="POINTMASS" unit="IN">
                <x> 97 </x>
                <y> 87.6</y>
                <z> -30 </z>
            </location>
        </pointmass>
        <pointmass name="right rockets">
            <weight unit="LBS"> 0 </weight>
            <location name="POINTMASS" unit="IN">
                <x> 97 </x>
                <y> -87</y>
                <z> -30 </z>
            </location>
        </pointmass>

        <pointmass name="left bomb">
            <weight unit="LBS"> 0 </weight>
            <location name="POINTMASS" unit="IN">
                <x> 97 </x>
                <y> 87.6</y>
                <z> -43 </z>
            </location>
        </pointmass>
        <pointmass name="right bomb">
            <weight unit="LBS"> 0 </weight>
            <location name="POINTMASS" unit="IN">
                <x> 97 </x>
                <y> -87</y>
                <z> -43 </z>
            </location>
        </pointmass>

        <pointmass name="left drop tank">
            <weight unit="LBS"> 0 </weight>
            <location name="POINTMASS" unit="IN">
                <x> 97 </x>
                <y> 87.6</y>
                <z> -43 </z>
            </location>
        </pointmass>
        <pointmass name="right drop tank">
            <weight unit="LBS"> 0 </weight>
            <location name="POINTMASS" unit="IN">
                <x> 97 </x>
                <y> -87</y>
                <z> -43 </z>
            </location>
        </pointmass>

    </mass_balance>

    <ground_reactions>
        <contact type="BOGEY" name="LEFT_MLG">
            <location unit="IN">
                <x> 78 </x>
                <y> -71 </y>
                <z> -89.5 </z>
            </location>
            <static_friction> 0.8 </static_friction>
            <dynamic_friction> 0.5 </dynamic_friction>
            <rolling_friction> 0.05 </rolling_friction>
            <spring_coeff unit="LBS/FT"> 9500 </spring_coeff>
            <damping_coeff unit="LBS/FT/SEC"> 2500 </damping_coeff>
            <damping_coeff_rebound unit="LBS/FT/SEC">6200</damping_coeff_rebound>
            <max_steer unit="DEG"> 0.0 </max_steer>
            <brake_group> LEFT </brake_group>
            <retractable>1</retractable>
        </contact>
        <contact type="BOGEY" name="RIGHT_MLG">
            <location unit="IN">
                <x> 78 </x>
                <y> 71 </y>
                <z> -89.5 </z>
            </location>
            <static_friction> 0.8 </static_friction>
            <dynamic_friction> 0.5 </dynamic_friction>
            <rolling_friction> 0.05 </rolling_friction>
            <spring_coeff unit="LBS/FT"> 9500 </spring_coeff>
            <damping_coeff unit="LBS/FT/SEC"> 2500 </damping_coeff>
            <damping_coeff_rebound unit="LBS/FT/SEC">6200</damping_coeff_rebound>
            <max_steer unit="DEG"> 0.0 </max_steer>
            <brake_group> RIGHT </brake_group>
            <retractable>1</retractable>
        </contact>
        <contact type="BOGEY" name="TAIL_LG">
            <location unit="IN">
                <x> 282 </x>
                <y> 0 </y>
                <z> -47 </z>
            </location>
            <static_friction> 0.9 </static_friction>
            <dynamic_friction> 0.7 </dynamic_friction>
            <rolling_friction> 0.05 </rolling_friction>
            <spring_coeff unit="LBS/FT"> 4100 </spring_coeff>
            <damping_coeff unit="LBS/FT/SEC"> 4280 </damping_coeff>
            <steerability> STEERABLE </steerability>
            <max_steer unit="DEG"> -6.0 </max_steer>
            <brake_group> NONE </brake_group>
            <retractable>1</retractable>
        </contact>
        
          <contact type="STRUCTURE" name="LEFT_WING_TIP">
              <location unit="IN">
              <x> 100 </x>
              <y> -222 </y>
              <z>  -7 </z>
              </location>
              <static_friction>  0.80 </static_friction>
              <dynamic_friction> 0.50 </dynamic_friction>
              <spring_coeff unit="LBS/FT">       11000 </spring_coeff>
              <damping_coeff unit="LBS/FT/SEC">  1179.23 </damping_coeff>
          </contact>

            <contact type="STRUCTURE" name="RIGHT_WING_TIP">
              <location unit="IN">
              <x> 100 </x>
              <y> 222 </y>
              <z>  -7 </z>
              </location>
              <static_friction>  0.80 </static_friction>
              <dynamic_friction> 0.50 </dynamic_friction>
              <spring_coeff unit="LBS/FT">       11000 </spring_coeff>
              <damping_coeff unit="LBS/FT/SEC">  1179.23 </damping_coeff>
          </contact>

          <contact type="STRUCTURE" name="TAIL_BOTTOM">
              <location unit="IN">
              <x> 300 </x>
              <y> 0 </y>
              <z>  -25 </z>
              </location>
              <static_friction>  0.80 </static_friction>
              <dynamic_friction> 0.50 </dynamic_friction>
              <spring_coeff unit="LBS/FT">       11000 </spring_coeff>
              <damping_coeff unit="LBS/FT/SEC">  1179.23 </damping_coeff>
          </contact>

          <contact type="STRUCTURE" name="TAIL_TOP">
              <location unit="IN">
              <x> 300 </x>
              <y> 0 </y>
              <z>  50 </z>
              </location>
              <static_friction>  0.80 </static_friction>
              <dynamic_friction> 0.50 </dynamic_friction>
              <spring_coeff unit="LBS/FT">       11000 </spring_coeff>
              <damping_coeff unit="LBS/FT/SEC">  1179.23 </damping_coeff>
          </contact>

          <contact type="STRUCTURE" name="NOSE_BOTTOM">
              <location unit="IN">
              <x> 25 </x>
              <y> 0 </y>
              <z>  -30 </z>
              </location>
              <static_friction>  0.80 </static_friction>
              <dynamic_friction> 0.50 </dynamic_friction>
              <spring_coeff unit="LBS/FT">       11000 </spring_coeff>
              <damping_coeff unit="LBS/FT/SEC">  1179.23 </damping_coeff>
          </contact>

          <contact type="STRUCTURE" name="NOSE_TOP">
              <location unit="IN">
              <x> 15 </x>
              <y> 0 </y>
              <z> 10 </z>
              </location>
              <static_friction>  0.80 </static_friction>
              <dynamic_friction> 0.50 </dynamic_friction>
              <spring_coeff unit="LBS/FT">       11000 </spring_coeff>
              <damping_coeff unit="LBS/FT/SEC">  1179.23 </damping_coeff>
          </contact>

          <contact type="STRUCTURE" name="CANOPY">
              <location unit="IN">
                <x> 110 </x>
                <y> 0 </y>
                <z> 30 </z>
              </location>
              <static_friction>  0.80 </static_friction>
              <dynamic_friction> 0.50 </dynamic_friction>
              <spring_coeff unit="LBS/FT">       11000 </spring_coeff>
              <damping_coeff unit="LBS/FT/SEC">  1179.23 </damping_coeff>
          </contact>
            
           <contact type="STRUCTURE" name="BELLY">
              <location unit="IN">
              <x> 85 </x>
              <y> 0 </y>
              <z>  -27 </z>
              </location>
              <static_friction>  0.80 </static_friction>
              <dynamic_friction> 0.50 </dynamic_friction>
              <spring_coeff unit="LBS/FT">       11000 </spring_coeff>
              <damping_coeff unit="LBS/FT/SEC">  1179.23 </damping_coeff>
          </contact>  

           <contact type="STRUCTURE" name="DOG_HOUSE">
              <location unit="IN">
              <x> 185 </x>
              <y> 0 </y>
              <z> -45 </z>
              </location>
              <static_friction>  0.80 </static_friction>
              <dynamic_friction> 0.50 </dynamic_friction>
              <spring_coeff unit="LBS/FT">       11000 </spring_coeff>
              <damping_coeff unit="LBS/FT/SEC">  1179.23 </damping_coeff>
          </contact>

          <contact type="STRUCTURE" name="PROP_BOTTOM">
              <location unit="IN">
              <x> 10 </x>
              <y> 0 </y>
              <z> -67.5 </z>
              </location>
              <static_friction>  0.80 </static_friction>
              <dynamic_friction> 0.50 </dynamic_friction>
              <spring_coeff unit="LBS/FT">       50 </spring_coeff>
              <damping_coeff unit="LBS/FT/SEC">  5000 </damping_coeff>
          </contact>

          <contact type="STRUCTURE" name="PROP_TOP">
              <location unit="IN">
              <x> 10 </x>
              <y> 0 </y>
              <z> -67.5 </z>
              </location>
              <static_friction>  0.80 </static_friction>
              <dynamic_friction> 0.50 </dynamic_friction>
              <spring_coeff unit="LBS/FT">       50 </spring_coeff>
              <damping_coeff unit="LBS/FT/SEC">  5000 </damping_coeff>
          </contact>

          <contact type="STRUCTURE" name="PROP_LEFT">
              <location unit="IN">
              <x> 10 </x>
              <y> -67.5 </y>
              <z> 0 </z>
              </location>
              <static_friction>  0.80 </static_friction>
              <dynamic_friction> 0.50 </dynamic_friction>
              <spring_coeff unit="LBS/FT">       50 </spring_coeff>
              <damping_coeff unit="LBS/FT/SEC">  5000 </damping_coeff>
          </contact>

          <contact type="STRUCTURE" name="PROP_RIGHT">
              <location unit="IN">
              <x> 10 </x>
              <y> 67.5 </y>
              <z> 0 </z>
              </location>
              <static_friction>  0.80 </static_friction>
              <dynamic_friction> 0.50 </dynamic_friction>
              <spring_coeff unit="LBS/FT">       50 </spring_coeff>
              <damping_coeff unit="LBS/FT/SEC">  5000 </damping_coeff>
          </contact>
        
    </ground_reactions>

    <propulsion>
        <engine file="Packard-V-1650-7">
            <feed>0</feed>
            <feed>1</feed>
            <feed>2</feed>
            <feed>3</feed>
            <feed>4</feed>
            <thruster file="P51prop">
                <location unit="IN">
                    <x> 36 </x>
                    <y> 0 </y>
                    <z> 0 </z>
                </location>
                <orient unit="DEG">
                    <roll> -4.0 </roll>
                    <pitch> 2.5 </pitch>
                    <yaw> -6.0 </yaw>
                </orient>
                <sense> 1 </sense>
                <p_factor> 60 </p_factor>
            </thruster>
        </engine>
        
        <!--
           internal wing tanks
           capacity 92 US gallons each
        -->           
        <tank type="FUEL">    <!-- Tank number 0 left wing -->
            <location unit="IN">
                <x> 110 </x>
                <y> -80 </y>
                <z> -9.675 </z>
            </location>
            <capacity unit="LBS"> 607.21 </capacity>
            <contents unit="LBS"> 396 </contents>
            <priority> 1 </priority>
        </tank>
        <tank type="FUEL">    <!-- Tank number 1 right wing-->
            <location unit="IN">
                <x> 110 </x>
                <y> 80 </y>
                <z> -9.675 </z>
            </location>
            <capacity unit="LBS"> 607.21 </capacity>
            <contents unit="LBS"> 396 </contents>
            <priority> 0 </priority>
        </tank>
        <tank type="FUEL">    <!-- Tank number 2 FUS-->
            <location unit="IN">
                <x> 130 </x>
                <y> 0 </y>
                <z> -3.0 </z>
            </location>
            <capacity unit="LBS"> 561 </capacity>
            <contents unit="LBS"> 0 </contents>
            <priority> 0 </priority>
        </tank>
        <tank type="FUEL">    <!-- Tank number 3 left drop -->
            <location unit="IN">
                <x> 97.5 </x>
                <y> -198 </y>
                <z> -25 </z>
            </location>
            <capacity unit="LBS"> 495 </capacity>
            <contents unit="LBS"> 0 </contents>
            <priority> 0 </priority>
        </tank>
        <tank type="FUEL">    <!-- Tank number 4 right drop -->
            <location unit="IN">
                <x> 97.5 </x>
                <y> 198 </y>
                <z> -25 </z>
            </location>
            <capacity unit="LBS"> 495 </capacity>
            <contents unit="LBS"> 0 </contents>
            <priority> 0 </priority>
        </tank>
    </propulsion>

    <system file="propulsion"/>
    <system file="autothrottle"/>
    <system file="mixture-control"/>
    <system file="alpha-buffet"/>
    <system file="crash-detect"/>
    <system file="electrical"/>
    <system file="compressability"/>
    <system file="weapons-weight"/>
    <!-- <system file="lift"/> -->
    
    <flight_control name="FCS: P51D">
       
        <channel name="Pitch">
            <summer name="Pitch Trim Sum">
                <input>fcs/elevator-cmd-norm</input>
                <input>fcs/pitch-trim-cmd-norm</input>
                <clipto>
                    <min>-1</min>
                    <max>1</max>
                </clipto>
            </summer>

            <aerosurface_scale name="Elevator Control">
                <input>fcs/pitch-trim-sum</input>
                <range>
                    <min>-0.18</min>
                    <max>0.15</max>
                </range>
                <output>fcs/elevator-pos-rad</output>
            </aerosurface_scale>\

            <aerosurface_scale name="Elevator Position Normalized">
                <input>fcs/elevator-pos-rad</input>
                <domain>
                    <min>-0.18</min>
                    <max>0.15</max>
                </domain>
                <range>
                   <min>-1.0</min>
                   <max>1.0</max>
                </range>
                <output>fcs/elevator-pos-norm</output>
            </aerosurface_scale>
            
        </channel>
        
        <channel name="Roll">
            <summer name="Roll Trim Sum">
                <input>fcs/aileron-cmd-norm</input>
                <input>fcs/roll-trim-cmd-norm</input>
                <clipto>
                    <min>-1</min>
                    <max>1</max>
                </clipto>
            </summer>

            <aerosurface_scale name="Left Aileron Control">
                <input>fcs/roll-trim-sum</input>
                <range>
                    <min>-0.35</min>
                    <max>0.35</max>
                </range>
                <output>fcs/left-aileron-pos-rad</output>
            </aerosurface_scale>

            <aerosurface_scale name="Right Aileron Control">
                <input>-fcs/roll-trim-sum</input>
                <range>
                    <min>-0.35</min>
                    <max>0.35</max>
                </range>
                <output>fcs/right-aileron-pos-rad</output>
            </aerosurface_scale>

            <aerosurface_scale name="Left Aileron Position Normalized">
                <input>fcs/left-aileron-pos-rad</input>
                <domain>
                    <min>-0.35</min>
                    <max>0.35</max>
                </domain>
                <range>
                   <min>-1.0</min>
                   <max>1.0</max>
                </range>
                <output>fcs/left-aileron-pos-norm</output>
            </aerosurface_scale>

            <aerosurface_scale name="Right Aileron Position Normalized">
                <input>fcs/right-aileron-pos-rad</input>
                <domain>
                    <min>-0.35</min>
                    <max>0.35</max>
                </domain>
                <range>
                   <min>-1.0</min>
                   <max>1.0</max>
                </range>
                <output>fcs/right-aileron-pos-norm</output>
            </aerosurface_scale>

        </channel>
        <channel name="Yaw">
            <summer name="Rudder Command Sum">
                <input>fcs/rudder-cmd-norm</input>
                <input>fcs/yaw-trim-cmd-norm</input>
                <clipto>
                    <min>-1</min>
                    <max>1</max>
                </clipto>
            </summer>

            <aerosurface_scale name="Rudder Control">
                <input>fcs/rudder-command-sum</input>
                <range>
                    <min>-0.35</min>
                    <max>0.35</max>
                </range>
                <output>fcs/rudder-pos-rad</output>
            </aerosurface_scale>

            <aerosurface_scale name="Rudder Position Normalized">
                <input>fcs/rudder-pos-rad</input>
                <domain>
                    <min>-0.35</min>
                    <max>0.35</max>
                </domain>
                <range>
                   <min>-1.0</min>
                   <max>1.0</max>
                </range>
                <output>fcs/rudder-pos-norm</output>
            </aerosurface_scale>

        </channel>
                
        <channel name="Flaps">
            <kinematic name="Flaps Control">
                <input>fcs/flap-cmd-norm</input>
                <traverse>
                    <setting>
                        <position>0</position>
                        <time>0</time>
                    </setting>
                    <setting>
                        <position>10</position>
                        <time>3</time>
                    </setting>
                    <setting>
                        <position>20</position>
                        <time>3</time>
                    </setting>
                    <setting>
                        <position>30</position>
                        <time>3</time>
                    </setting>
                    <setting>
                        <position>40</position>
                        <time>3</time>
                    </setting>
                    <setting>
                        <position>47</position>
                        <time>3</time>
                    </setting>
                </traverse>
                <output>fcs/flap-pos-deg</output>
            </kinematic>
            <aerosurface_scale name="Flap Position Normalizer">
              <input>fcs/flap-pos-deg</input>
              <domain>
                <min>0</min>  <!-- Flaps actual minimum position -->
                <max>47</max>  <!-- Flaps actual maximum position -->
              </domain>
              <range>
                <min>0</min>  <!-- Flaps normalized minimum position -->
                <max>1</max>  <!-- Flaps normalized maximum position -->
              </range>
              <output>fcs/flap-pos-norm</output>
            </aerosurface_scale>
        </channel>
        <channel name="Landing Gear">
            <kinematic name="Gear Control">
                <input>gear/gear-cmd-norm</input>
                <traverse>
                    <setting>
                        <position>0</position>
                        <time>0</time>
                    </setting>
                    <setting>
                        <position>1</position>
                        <time>12</time>
                    </setting>
                </traverse>
                <output>gear/gear-pos-norm</output>
            </kinematic>
        </channel>   
        
        <!-- Deactivate this channel for stand-alone runs since its purpose is
             to transmit FlightGear brake parameters to JSBSim
        <channel name="Brakes">
        
           <summer name="systems/brakes/brake-left">
                <input>/controls/gear/brake-left</input>
                <input>/controls/gear/brake-parking</input>
                <clipto>
                    <min>-1</min>
                    <max>1</max>
                </clipto>
            </summer>

            <summer name="systems/brakes/brake-right">
                <input>/controls/gear/brake-right</input>
                <input>/controls/gear/brake-parking</input>
                <clipto>
                    <min>-1</min>
                    <max>1</max>
                </clipto>
            </summer>
            
           <aerosurface_scale name="Brake left">
                <input>systems/brakes/brake-left</input>
                <range>
                    <min>0.0</min>
                    <max>0.60</max>
                </range>
                <output>fcs/left-brake-cmd-norm</output>
            </aerosurface_scale>

            <aerosurface_scale name="Brake right">
                <input>systems/brakes/brake-right</input>
                <range>
                    <min>0.0</min>
                    <max>0.60</max>
                </range>
                <output>fcs/right-brake-cmd-norm</output>
            </aerosurface_scale>
        
        </channel>
        --> 
        
    </flight_control>
    
    
    <aerodynamics>

       <function name="aero/function/kCLge">
            <description>Change_in_lift_due_to_ground_effect</description>
            <table>
                <independentVar>aero/h_b-mac-ft</independentVar>
                <tableData>
                    0.0000  1.2290
                    0.1000  1.1240
                    0.1500  1.1160
                    0.2000  1.1240
                    0.3000  1.1050
                    0.4000  1.0410
                    0.5000  1.0340
                    0.6000  1.0190
                    0.7000  1.0080
                    0.8000  1.0030
                    0.9000  1.0010
                    1.0000  1.0000
                    1.1000  1.0000
                </tableData>
            </table>
        </function>

        <function name="aero/thrust-qbar_psf">
            <product>
                <v> 0.5 </v>
                <p> atmosphere/rho-slugs_ft3 </p>
                <pow>
                    <sum>
                        <p> velocities/u-aero-fps </p>
                        <product>
                            <p> propulsion/engine/prop-induced-velocity_fps </p>
                            <v> 2.0 </v>
                        </product>
                    </sum>
                    <v> 2.0 </v>
                </pow>
            </product>
        </function>

        <axis name="DRAG">
            <!--
               Add in parisitic drag for fuselage, cooling etc.  Since
               "aero/coefficient/CDalpha" is the wing alone.
            -->
           <function name="aero/coefficient/CDo">
                <description>Drag_due_to_non_wing_components</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <value> 0.07 </value>
                    <table>
                      <independentVar lookup="row">aero/alpha-deg</independentVar>
                      <tableData>  
                          -90        0.25
                          -30        0.07
                          -15        0.03518
                          -12.5      0.02613
                          -10        0.02010
                          -7.5       0.01608
                          -5         0.01357
                          -2.5       0.01226
                          0          0.01216
                          2.5        0.01226
                          5          0.01357
                          7.5        0.01608
                          10         0.02010
                          12.5       0.02613
                          15         0.03518
                          30         0.07
                          90         0.25
                      </tableData>
                  </table>
                </product>
            </function>
            
            <function name="aero/coefficient/CDalpha">
                <description>Drag_due_to_alpha</description>
                    <!--
                    Actual measured drag from 
                    http://www.worldofkrauss.com/foils/getpolar/1085.dat 
                    -90, -30, 30 and 90 degrees are guesses. 
                     The data has been manually smoothed.  
                                  
                      This is the wing only
                    -->
                    <product>
                        <property>aero/qbar-psf</property>
                        <property>metrics/Sw-sqft</property>
                        <!--
                            increase drag to reflect real world conditions since 
                            otherwise this would be an idealized prefect wing only.
                        -->
                         <value> 1.0 </value>
                        <table>
                        <independentVar>aero/alpha-deg</independentVar>
                          <tableData>
                                -90       1.250000
                                -30     0.350000
                                -15.0   0.104490
                                -14.5   0.097000
                                -14.0   0.092000
                                -13.5   0.087940
                                -13.0   0.083500
                                -12.5   0.079000
                                -12.0   0.074000
                                -11.5   0.069950
                                -11.0   0.066480
                                -10.5   0.062970
                                -10.0   0.059210
                                -9.5    0.056600
                                -9.0    0.054030
                                -8.5    0.050650
                                -8.0    0.047000
                                -7.5    0.041000
                                -7.0    0.025500
                                -6.5    0.020000
                                -6.0    0.018000
                                -5.5    0.017600
                                -5.0    0.018000
                                -4.5    0.019000
                                -4.0    0.019520
                                -3.5    0.020000
                                -3.0    0.020000
                                -2.5    0.019780
                                -2.0    0.019290
                                -1.5    0.018720
                                -1.0    0.018000
                                -0.5    0.017300
                                0.0     0.016800
                                0.5     0.016300
                                1.0     0.015700
                                1.5     0.015300
                                2.0     0.015000
                                2.5     0.015000
                                3.0     0.015150
                                3.5     0.015600
                                4.0     0.016240
                                4.5     0.017260
                                5.0     0.018500
                                5.5     0.019700
                                6.0     0.021000
                                6.5     0.022500
                                7.0     0.024050
                                7.5     0.025330
                                8.0     0.027300
                                8.5     0.029240
                                9.0     0.031750
                                9.5     0.034460
                                10.0    0.037040
                                10.5    0.039620
                                11.0    0.043000
                                11.5    0.050000
                                12.0    0.068000
                                12.5    0.077000
                                13.0    0.082000
                                13.5    0.087500
                                14.0    0.093000
                                14.5    0.097000
                                15.0    0.100680
                                30      0.345000
                                90      1.250000
                          </tableData>
                        </table>
                    </product>
            </function>
            
            <function name="aero/coefficient/CDi">
                <description>Induced_drag</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>aero/cl-squared</property>
                    <value>0.0125</value> <!-- based on NACA X51 data -->
                </product>
            </function>
            
            <!-- from NACA P-51X and P-51B test data -->
            <function name="aero/coefficient/CDmach">
                <description>Drag_due_to_mach</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <table>
                        <independentVar>velocities/mach</independentVar>
                        <tableData>
                            0.0000        0.0000
                            0.6600        0.0000
                            0.7           0.0230
                            0.75          0.03
                            0.8           0.045
                            1.0           0.1  <!-- guess to extend the table -->
                        </tableData>
                    </table>
                </product>
            </function>
            
            <function name="aero/coefficient/CDflap">
                <description>Drag_due_to_flaps</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>fcs/flap-pos-norm</property>
                    <value>0.0300</value>
                </product>
            </function>
            <function name="aero/coefficient/CDgear">
                <description>Drag_due_to_gear</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>gear/gear-pos-norm</property>
                    <value>0.0200</value>
                </product>
            </function>
            <function name="aero/coefficient/CDbeta">
                <description>Drag_due_to_sideslip</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                      <table>
                          <independentVar>aero/beta-rad</independentVar>
                          <tableData>
                              -1.5700        1.00
                              -0.2600        0.0200
                              0.0000         0.0000
                              0.2600         0.0200
                              1.5700         1.00
                          </tableData>
                      </table>
                </product>
            </function>
            <function name="aero/coefficient/CDde">
                <description>Drag_due_to_Elevator_Deflection</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>fcs/mag-elevator-pos-rad</property>
                    <value>0.035</value>
                </product>
            </function>
        </axis>

        <axis name="SIDE">
            <function name="aero/coefficient/CYb">
                <description>Side_force_due_to_beta</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>aero/beta-rad</property>
                    <value>-1.0000</value>
                </product>
            </function>
        </axis>

        <axis name="LIFT">
            
           <function name="aero/coefficient/CLalpha">
                <description>Lift_due_to_alpha</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>aero/function/kCLge</property>
                    <value> 0.97 </value>
                    <table>
                         <!--
                              Actual data from 
                              http://www.worldofkrauss.com/foils/getpolar/1085.dat 
                              Data has been hand smoothed.  90 and -90 are guesses.
                          -->
                          <independentVar lookup="row">aero/alpha-deg</independentVar>
                          <tableData>
                              -90.0         0.0
                              -18.5        -0.4770
                              -16.0        -0.6770
                              -15.0        -0.8770
                              -14.5        -0.8700
                              -14.0        -0.8300
                              -13.5        -0.7910
                              -13.0        -0.7590
                              -12.5        -0.7260
                              -12.0        -0.6930
                              -11.5        -0.6580
                              -11.0        -0.6200
                              -10.5        -0.5800
                              -10.0        -0.5350
                              -9.5         -0.4900
                              -9.0         -0.4500
                              -8.5         -0.4000
                              -8.0         -0.3550
                              -7.5         -0.3500
                              -7.0         -0.5560
                              -6.5         -0.5650
                              -6.0         -0.5100
                              -5.5         -0.4520
                              -5.0         -0.3950
                              -4.5         -0.3420
                              -4.0         -0.2850
                              -3.5         -0.2300
                              -3.0         -0.1750
                              -2.5         -0.1200
                              -2.0         -0.0585
                              -1.5         0.0000
                              -1.0         0.0500
                              -0.5         0.1050
                              0.0          0.1550
                              0.5          0.2050
                              1.0          0.2600
                              1.5          0.3150
                              2.0          0.3750
                              2.5          0.4300
                              3.0          0.4850
                              3.5          0.5450
                              4.0          0.6050
                              4.5          0.6700
                              5.0          0.7280
                              5.5          0.7810
                              6.0          0.8320
                              6.5          0.8840
                              7.0          0.9350
                              7.5          0.9830
                              8.0          1.0290
                              8.5          1.0750
                              9.0          1.1170
                              9.5          1.1590
                              10.0         1.1890
                              10.5         1.2170
                              11.0         1.1950
                              11.5         1.1250
                              12.0         1.0160
                              12.5         1.0500
                              13.0         1.0900
                              13.5         1.1340
                              14.0         1.1700
                              14.5         1.2050
                              15.0         1.2210
                              17.0         1.0500
                              20.0         0.8200
                              24.0         0.5200
                              30.0         0.4000
                              90.0         0.0
                          </tableData>
                      </table>
                </product>
            </function>
            <function name="aero/coefficient/dCLflap">
                <description>Delta_Lift_due_to_flaps</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>fcs/flap-pos-norm</property>
                    <value>0.3000</value>
                </product>
            </function>
            <function name="aero/coefficient/dCLsb">
                <description>Delta_Lift_due_to_speedbrake</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>fcs/speedbrake-pos-norm</property>
                    <value>0.0000</value>
                </product>
            </function>
            <function name="aero/coefficient/CLde">
                <description>Lift_due_to_Elevator_Deflection</description>
                <product>
                    <property>aero/thrust-qbar_psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>fcs/elevator-pos-rad</property>
                    <value>0.2000</value>
                </product>
            </function>
        </axis>

        <axis name="ROLL">
            <function name="aero/coefficient/Clb">
                <description>Roll_moment_due_to_beta</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>aero/beta-rad</property>
                    <value>-0.1000</value>
                </product>
            </function>
            <function name="aero/coefficient/Clp">
                <description>Roll_moment_due_to_roll_rate</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>aero/bi2vel</property>
                    <property>velocities/p-aero-rad_sec</property>
                    <value>-0.4000</value>
                </product>
            </function>
            <function name="aero/coefficient/Clr">
                <description>Roll_moment_due_to_yaw_rate</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>aero/bi2vel</property>
                    <property>velocities/r-aero-rad_sec</property>
                    <value>0.1500</value>
                </product>
            </function>
            <function name="aero/coefficient/Clda">
                <description>Roll_moment_due_to_aileron</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>fcs/left-aileron-pos-rad</property>
                      <table>
                          <independentVar>velocities/mach</independentVar>
                          <tableData>
                              0.0000        0.1200
                              2.0000        0.0400
                          </tableData>
                      </table>
                </product>
            </function>
            <function name="aero/coefficient/Cldr">
                <description>Roll_moment_due_to_rudder</description>
                <product>
                    <property>aero/thrust-qbar_psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>fcs/rudder-pos-rad</property>
                    <value>-0.050</value>
                </product>
            </function>

           <!--
               Create roll moment to drop the left wing at stall.
               This will induce a spin.
            -->
           <function name="aero/coefficient/Clalpha">
                <description>Yaw_moment_due_to_alpha</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                        <table>
                          <independentVar lookup="row">aero/alpha-deg</independentVar>
                           <tableData>
                                  -90.0  0.0
                                   0.0   0.0
                                   5.0   0.0
                                  10.5   -0.001
                                  14.5   -0.03
                          </tableData>
                        </table>
                </product>
            </function>
        </axis>

        <axis name="PITCH">
        
            <!-- make it nose heavy when gear and/or flaps are extended --> 
        
            <function name="aero/coefficient/Cmflap">
                <description>Pitch_moment_due_to_flaps</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/cbarw-ft</property>
                    <property>fcs/flap-pos-norm</property>
                    <value>-0.0250</value>
                </product>
            </function>
            
            <function name="aero/coefficient/Cmgear">
                <description>Pitch_moment_due_to_gear</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/cbarw-ft</property>
                    <property>gear/gear-pos-norm</property>
                    <value>-0.0070</value>
                </product>
            </function>

            <function name="aero/coefficient/Cmalpha-wing">
                <description>Pitch_moment_due_to_alpha</description>               
                  <product>
                      <property>aero/qbar-psf</property>
                      <property>metrics/Sw-sqft</property>
                      <property>metrics/cbarw-ft</property>
                      <!--
                          actual data from http://www.worldofkrauss.com/foils/getpolar/1085.dat 
                          from -15 to 15 degrees - other data is extrapolated.
                          Data has been hand smoothed.
                      -->
                      <table>
                        <independentVar lookuadp="row">aero/alpha-deg</independentVar>
                        <tableData> 
                          -90.0        0.58700
                          -80.0        0.51700
                          -70.0        0.44700
                          -60.0        0.37700
                          -50.0        0.30700
                          -40.0        0.23700
                          -30.0        0.16700
                          -20.0        0.09700
                          -15.0        0.06100
                          -14.5        0.05800
                          -14.0        0.05500
                          -13.5        0.05200
                          -13.0        0.04800
                          -12.5        0.04500
                          -12.0        0.04200
                          -11.5        0.03900
                          -11.0        0.03500
                          -10.5        0.03200
                          -10.0        0.02800
                          -9.5         0.02500
                          -9.0         0.02200
                          -8.5         0.01800
                          -8.0         0.01500
                          -7.5         0.01100
                          -7.0         0.00800
                          -6.5         0.00500
                          -6.0         0.00200
                          -5.5        -0.00160
                          -5.0        -0.00500
                          -4.5        -0.00800
                          -4.0        -0.01200
                          -3.5        -0.01550
                          -3.0        -0.01850
                          -2.5        -0.02150
                          -2.0        -0.02500
                          -1.5        -0.02800
                          -1.0        -0.03100
                          -0.5        -0.03500
                          0.0         -0.03800
                          0.5         -0.04100
                          1.0         -0.04350
                          1.5         -0.04600
                          2.0         -0.04900
                          2.5         -0.05200
                          3.0         -0.05500
                          3.5         -0.05700
                          4.0         -0.06000
                          4.5         -0.06300
                          5.0         -0.06500
                          5.5         -0.06750
                          6.0         -0.07050
                          6.5         -0.07350
                          7.0         -0.07600
                          7.5         -0.07900
                          8.0         -0.08200
                          8.5         -0.08600
                          9.0         -0.09100
                          9.5         -0.09700
                          10.0        -0.10400
                          10.5        -0.11400
                          11.0        -0.12300
                          11.5        -0.13000
                          12.0        -0.13600
                          12.5        -0.13900
                          13.0        -0.14200
                          13.5        -0.14400
                          14.0        -0.14600
                          14.5        -0.14700
                          15.0        -0.14800
                          16.0        -0.15000
                          17.0        -0.16000
                          18.0        -0.17000
                          19.0        -0.18000
                          20.0        -0.19000
                          30.0        -0.25300
                          40.0        -0.32300
                          50.0        -0.39300
                          60.0        -0.46300
                          70.0        -0.53300
                          80.0        -0.60300
                          90.0        -0.67300
                      </tableData>
                    </table>-->
                </product>                
            </function>

            <function name="aero/coefficient/Cmbuffet-and-stall">
                <description>Pitch_moment_due_to_stall-buffet</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/cbarw-ft</property>
                    <sum>
                        <property>systems/alpha_buffet/sine_wave</property>
                        <product>
                          <value>0.01</value>
                          <property>systems/alpha_buffet/strength</property>
                        </product>
                    </sum>
                    <property>systems/alpha_buffet/strength</property>
                    <value>1.0</value>
                </product>
            </function>

            <function name="aero/coefficient/Cm-mach">
                <description>Pitch_moment_due_mach</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/cbarw-ft</property>
                    <property>systems/compressabilty/sine_wave</property>
                    <property>systems/compressabilty/strength</property>
                    <value>0.1</value>
                </product>
            </function>
            
            <function name="aero/coefficient/Cmde">
                <description>Pitch_moment_due_to_elevator</description>
                <product>
                    <property>aero/thrust-qbar_psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/cbarw-ft</property>
                    <property>fcs/elevator-pos-rad</property>
                      <table>
                          <independentVar>velocities/mach</independentVar>
                          <tableData>
                              0.0000        -0.80000
                              2.0000        -0.200
                          </tableData>
                      </table>
                </product>
            </function>
            
            <function name="aero/coefficient/Cmq">
                <description>Pitch_moment_due_to_pitch_rate</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/cbarw-ft</property>
                    <property>aero/ci2vel</property>
                    <property>velocities/q-aero-rad_sec</property>
                    <value>-10.0000</value>
                </product>
            </function>
            
   <!--         <function name="aero/coefficient/Cmht">
                <description>Pitch_moment_due_to_alpha_horiz_tail</description>
                <product>
                    <property>aero/qbarUV-psf</property>
                    <property>metrics/Sh-sqft</property>
                    <property>metrics/lh-ft</property>
                    <value> -0.05 </value>
                    <table>
                      <independentVar lookuadp="row">aero/alpha-deg</independentVar>
                      <tableData>
                          -179.5  0.0000
                          -169.5  0.7800
                          -159.5  0.6700
                          -149.5  0.6200
                          -139.5  0.8900
                          -129.5  0.8900
                          -119.5  0.7400
                          -109.5  0.5000
                          -99.5   0.2300
                          -89.5   -0.0500
                          -79.5   -0.3650
                          -69.5   -0.6300
                          -59.5   -0.8900
                          -49.5   -1.0900
                          -39.5   -1.0800
                          -29.5   -0.9200
                          -19.5   -0.6800
                          -18.5   -0.6500
                          -17.5   -0.6200
                          -16.5   -0.6000
                          -15.5   -0.6000
                          -14.5   -0.6800
                          -13.5   -0.7800
                          -12.5   -0.8700
                          -11.5   -0.9500
                          -10.5   -1.0000
                          -9.5    -0.9800
                          -8.5    -0.9300
                          -7.5    -0.8700
                          -6.5    -0.7900
                          -5.5    -0.7000
                          -4.5    -0.6000
                          -3.5    -0.5000
                          -2.5    -0.3800
                          -1.5    -0.2600
                          -0.5    -0.1300
                          0.5      0.0000
                          1.5      0.1300
                          2.5      0.2600
                          3.5      0.3800
                          4.5      0.5000
                          5.5      0.6000
                          6.5      0.7000
                          7.5      0.7900
                          8.5      0.8700
                          9.5      0.9300
                          10.5     0.9800
                          11.5     1.0000
                          12.5     0.9500
                          13.5     0.8700
                          14.5     0.7800
                          15.5     0.6800
                          16.5     0.6000
                          17.5     0.6000
                          18.5     0.6200
                          19.5     0.6500
                          20.5     0.6800
                          30.5     0.9200
                          40.5     1.0800
                          50.5     1.0900
                          60.5     0.8900
                          70.5     0.6300
                          80.5     0.3650
                          90.5     0.0500
                          100.5   -0.2300
                          110.5   -0.5000
                          120.5   -0.7400
                          130.5   -0.8900
                          140.5   -0.8900
                          150.5   -0.6200
                          160.5   -0.6700
                          170.5   -0.7800
                          180.5    0.0000
                      </tableData>
                  </table>
                </product>
            </function> -->
            
        </axis>

        <axis name="YAW">
            <function name="aero/coefficient/Cnb">
                <description>Yaw_moment_due_to_beta</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>aero/beta-rad</property>
                    <value>0.1200</value>
                </product>
            </function>
            <function name="aero/coefficient/Cnr">
                <description>Yaw_moment_due_to_yaw_rate</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>aero/bi2vel</property>
                    <property>velocities/r-aero-rad_sec</property>
                    <value>-0.1500</value>
                </product>
            </function>
            <function name="aero/coefficient/Cndr">
                <description>Yaw_moment_due_to_rudder</description>
                <product>
                    <property>aero/thrust-qbar_psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>fcs/rudder-pos-rad</property>
                    <value>-0.1000</value>
                </product>
            </function>
            <function name="aero/coefficient/Cnda">
                <description>Adverse_yaw</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>fcs/left-aileron-pos-rad</property>
                    <value>-0.0030</value>
                </product>
            </function>

            <!--
               Create YAW to drop the left wing at stall.
               This will induce a spin.
            -->
           <function name="aero/coefficient/Cnalpha">
                <description>Yaw_moment_due_to_alpha</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                        <table> 
                          <independentVar lookup="row">aero/alpha-deg</independentVar>
                           <tableData> 
                                  -90.0  0.0
                                   0.0   0.0
                                   5.0   0.0
                                  10.5  -0.001
                                  14.5  -0.03
                          </tableData>
                        </table>
                </product>
            </function>
        </axis>
    </aerodynamics>
    
</fdm_config>

<?xml version="1.0"?>
<initialize name="reset00">
  <ubody unit="FT/SEC"> -3.40143 </ubody> 
  <vbody unit="FT/SEC"> 0.0628171 </vbody> 
  <wbody unit="FT/SEC"> 17.7183 </wbody> 
  <phi unit="DEG"> 0.00330818 </phi>
  <theta unit="DEG"> 0.192334 </theta>
  <psi unit="DEG"> 5.19992 </psi>
  <longitude unit="DEG"> 0 </longitude>
  <latitude unit="DEG"> 0 </latitude>
  <altitude unit="FT"> -0.438433 </altitude>
</initialize>
<?xml version="1.0"?>
<initialize name="reset01">
  <ubody unit="FT/SEC"> 0.0 </ubody> 
  <vbody unit="FT/SEC"> 0.0 </vbody> 
  <wbody unit="FT/SEC"> 0.0 </wbody> 
  <phi unit="DEG">   10.0 </phi>
  <theta unit="DEG"> 0.0 </theta>
  <psi unit="DEG">   90.0 </psi>
  <longitude unit="DEG"> 122.0 </longitude>
  <latitude unit="DEG">   47.0 </latitude>
  <altitude unit="FT"> 0.0 </altitude>
  <hwind unit="KTS"> 3.0 </hwind>
</initialize>
<?xml version="1.0"?>
<initialize name="reset4-00">
  <!--
    This file sets up the aircraft 10 feet above
    the runway to see how the gear bounces
  -->
  <ubody>       0.0 </ubody>
  <vbody>       0.0 </vbody>
  <wbody>       0.0 </wbody>
  <latitude unit="DEG">   47.0 </latitude>
  <longitude unit="DEG"> 122.0 </longitude>
  <phi>         0.0 </phi>
  <theta>       0.0 </theta>
  <psi unit="DEG">       150.0 </psi>
  <altitude>   10.7  </altitude>
</initialize>
// This file instructs the automatic synchronization utilities where to
// install this aircraft and under what name.
//
// The syntax is easy;
// * the package name at the beginning of a new line followed by a colon
// * a space as a column separator
// * the path and filename relative to the aircraft install directory
//
// Currently known package names are: FlightGear

// Don't install in the FlightGear base package.
//FlightGear:
<?xml version="1.0"?>
<?xml-stylesheet type="text/xsl" href="http://jsbsim.sourceforge.net/JSBSim.xsl"?>
<fdm_config name="PA28-180" version="2.0" release="BETA"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:noNamespaceSchemaLocation="http://jsbsim.sourceforge.net/JSBSim.xsd">

    <fileheader>
        <author> Unknown </author>
        <filecreationdate> 2001-01-01 </filecreationdate>
        <version> $Revision: 1.18 $ </version>
        <description> Piper PA-28 general aviation aircraft </description>
      <note>
        This model was created using publicly available data, publicly available
        technical reports, textbooks, and guesses. It contains no proprietary or
        restricted data. If this model has been validated at all, it would be
        only to the extent that it seems to "fly right", and that it possibly
        complies with published, publicly known, performance data (maximum speed,
        endurance, etc.). Thus, this model is meant for educational and entertainment
        purposes only.

        This simulation model is not endorsed by the manufacturer. This model is not
        to be sold.
      </note>
    </fileheader>

    <metrics>
        <wingarea unit="FT2"> 160 </wingarea>
        <wingspan unit="FT"> 30 </wingspan>
        <chord unit="FT"> 5.25 </chord>
        <htailarea unit="FT2"> 24.4 </htailarea>
        <htailarm unit="FT"> 12.9 </htailarm>
        <vtailarea unit="FT2"> 11.4 </vtailarea>
        <vtailarm unit="FT"> 0 </vtailarm>
        <location name="AERORP" unit="IN">
            <x> 102 </x>
            <y> 0 </y>
            <z> -6 </z>
        </location>
        <location name="EYEPOINT" unit="IN">
            <x> 81.6 </x>
            <y> -9.6 </y>
            <z> 21 </z>
        </location>
        <location name="VRP" unit="IN">
            <x> 88.32 </x>
            <y> 0 </y>
            <z> 0 </z>
        </location>
    </metrics>

    <mass_balance>
        <ixx unit="SLUG*FT2"> 1070 </ixx>
        <iyy unit="SLUG*FT2"> 1249 </iyy>
        <izz unit="SLUG*FT2"> 2312 </izz>
        <emptywt unit="LBS"> 1650 </emptywt>
        <location name="CG" unit="IN">
            <x> 88.32 </x>
            <y> 0 </y>
            <z> 0 </z>
        </location>
        <pointmass name="name">
            <weight unit="LBS"> 180 </weight>
            <location name="POINTMASS" unit="IN">
                <x> 81.6 </x>
                <y> -9.6 </y>
                <z> 0 </z>
            </location>
        </pointmass>
    </mass_balance>

    <ground_reactions>
        <contact type="BOGEY" name="NOSE">
            <location unit="IN">
                <x> 35.8 </x>
                <y> 0 </y>
                <z> -50 </z>
            </location>
            <static_friction> 0.8 </static_friction>
            <dynamic_friction> 0.5 </dynamic_friction>
            <rolling_friction> 0.02 </rolling_friction>
            <spring_coeff unit="LBS/FT"> 1500 </spring_coeff>
            <damping_coeff unit="LBS/FT/SEC"> 100 </damping_coeff>
            <max_steer unit="DEG"> 15 </max_steer>
            <brake_group> NONE </brake_group>
            <retractable>0</retractable>
        </contact>
        <contact type="BOGEY" name="LEFT_MAIN">
            <location unit="IN">
                <x> 111.1 </x>
                <y> -60 </y>
                <z> -42.4 </z>
            </location>
            <static_friction> 0.8 </static_friction>
            <dynamic_friction> 0.5 </dynamic_friction>
            <rolling_friction> 0.02 </rolling_friction>
            <spring_coeff unit="LBS/FT"> 5000 </spring_coeff>
            <damping_coeff unit="LBS/FT/SEC"> 150 </damping_coeff>
            <max_steer unit="DEG"> 360.0 </max_steer>
            <brake_group> LEFT </brake_group>
            <retractable>0</retractable>
        </contact>
        <contact type="BOGEY" name="RIGHT_MAIN">
            <location unit="IN">
                <x> 111.1 </x>
                <y> 60 </y>
                <z> -42.4 </z>
            </location>
            <static_friction> 0.8 </static_friction>
            <dynamic_friction> 0.5 </dynamic_friction>
            <rolling_friction> 0.02 </rolling_friction>
            <spring_coeff unit="LBS/FT"> 5000 </spring_coeff>
            <damping_coeff unit="LBS/FT/SEC"> 150 </damping_coeff>
            <max_steer unit="DEG"> 360.0 </max_steer>
            <brake_group> RIGHT </brake_group>
            <retractable>0</retractable>
        </contact>
        <contact type="BOGEY" name="TAIL_SKID">
            <location unit="IN">
                <x> 271.9 </x>
                <y> 0 </y>
                <z> -1.6 </z>
            </location>
            <static_friction> 0.2 </static_friction>
            <dynamic_friction> 0.2 </dynamic_friction>
            <rolling_friction> 0.2 </rolling_friction>
            <spring_coeff unit="LBS/FT"> 20000 </spring_coeff>
            <damping_coeff unit="LBS/FT/SEC"> 1000 </damping_coeff>
            <max_steer unit="DEG"> 0.0 </max_steer>
            <brake_group> NONE </brake_group>
            <retractable>0</retractable>
        </contact>
        <contact type="BOGEY" name="VTAIL_TOP">
            <location unit="IN">
                <x> 264.3 </x>
                <y> 0 </y>
                <z> 70.4 </z>
            </location>
            <static_friction> 0.2 </static_friction>
            <dynamic_friction> 0.2 </dynamic_friction>
            <rolling_friction> 0.2 </rolling_friction>
            <spring_coeff unit="LBS/FT"> 20000 </spring_coeff>
            <damping_coeff unit="LBS/FT/SEC"> 1000 </damping_coeff>
            <max_steer unit="DEG"> 0.0 </max_steer>
            <brake_group> NONE </brake_group>
            <retractable>0</retractable>
        </contact>
        <contact type="BOGEY" name="VTAIL_TIP">
            <location unit="IN">
                <x> 281.4 </x>
                <y> 0 </y>
                <z> 64.1 </z>
            </location>
            <static_friction> 0.2 </static_friction>
            <dynamic_friction> 0.2 </dynamic_friction>
            <rolling_friction> 0.2 </rolling_friction>
            <spring_coeff unit="LBS/FT"> 20000 </spring_coeff>
            <damping_coeff unit="LBS/FT/SEC"> 1000 </damping_coeff>
            <max_steer unit="DEG"> 0.0 </max_steer>
            <brake_group> NONE </brake_group>
            <retractable>0</retractable>
        </contact>
        <contact type="BOGEY" name="LEFT_TIP">
            <location unit="IN">
                <x> 106.5 </x>
                <y> -180 </y>
                <z> 5.2 </z>
            </location>
            <static_friction> 0.2 </static_friction>
            <dynamic_friction> 0.2 </dynamic_friction>
            <rolling_friction> 0.2 </rolling_friction>
            <spring_coeff unit="LBS/FT"> 10000 </spring_coeff>
            <damping_coeff unit="LBS/FT/SEC"> 2000 </damping_coeff>
            <max_steer unit="DEG"> 0.0 </max_steer>
            <brake_group> NONE </brake_group>
            <retractable>0</retractable>
        </contact>
        <contact type="BOGEY" name="RIGHT_TIP">
            <location unit="IN">
                <x> 106.5 </x>
                <y> 180 </y>
                <z> 5.2 </z>
            </location>
            <static_friction> 0.2 </static_friction>
            <dynamic_friction> 0.2 </dynamic_friction>
            <rolling_friction> 0.2 </rolling_friction>
            <spring_coeff unit="LBS/FT"> 10000 </spring_coeff>
            <damping_coeff unit="LBS/FT/SEC"> 2000 </damping_coeff>
            <max_steer unit="DEG"> 0.0 </max_steer>
            <brake_group> NONE </brake_group>
            <retractable>0</retractable>
        </contact>
        <contact type="BOGEY" name="NOSE_TIP">
            <location unit="IN">
                <x> 0 </x>
                <y> 0 </y>
                <z> 0 </z>
            </location>
            <static_friction> 0.2 </static_friction>
            <dynamic_friction> 0.2 </dynamic_friction>
            <rolling_friction> 0.2 </rolling_friction>
            <spring_coeff unit="LBS/FT"> 10000 </spring_coeff>
            <damping_coeff unit="LBS/FT/SEC"> 2000 </damping_coeff>
            <max_steer unit="DEG"> 0.0 </max_steer>
            <brake_group> NONE </brake_group>
            <retractable>0</retractable>
        </contact>
    </ground_reactions>
    <propulsion>
        <engine file="engIO360C">
            <feed>0</feed>
            <thruster file="propC8v">
                <location unit="IN">
                    <x> 4 </x>
                    <y> 0 </y>
                    <z> 0 </z>
                </location>
                <orient unit="DEG">
                    <roll> 0.0 </roll>
                    <pitch> 0.0 </pitch>
                    <yaw> 0.0 </yaw>
                </orient>
                <sense> 1 </sense>
                <p_factor> 10 </p_factor>
            </thruster>
        </engine>
        <tank type="FUEL">    <!-- Tank number 0 -->
            <location unit="IN">
                <x> 90 </x>
                <y> 0 </y>
                <z> 0 </z>
            </location>
            <capacity unit="LBS"> 150 </capacity>
            <contents unit="LBS"> 150 </contents>
        </tank>
    </propulsion>
    <flight_control name="FCS: PA28-180">
        <channel name="Pitch">
            <summer name="Pitch Trim Sum">
                <input>fcs/elevator-cmd-norm</input>
                <input>fcs/pitch-trim-cmd-norm</input>
                <clipto>
                    <min>-1</min>
                    <max>1</max>
                </clipto>
            </summer>

            <aerosurface_scale name="Elevator Control">
                <input>fcs/pitch-trim-sum</input>
                <gain>0.01745</gain>
                <range>
                    <min>-28</min>
                    <max>23</max>
                </range>
                <output>fcs/elevator-pos-rad</output>
            </aerosurface_scale>
        </channel>
        <channel name="Roll">
            <summer name="Roll Trim Sum">
                <input>fcs/aileron-cmd-norm</input>
                <input>fcs/roll-trim-cmd-norm</input>
                <clipto>
                    <min>-1</min>
                    <max>1</max>
                </clipto>
            </summer>

            <aerosurface_scale name="Left Aileron Control">
                <input>fcs/roll-trim-sum</input>
                <gain>0.01745</gain>
                <range>
                    <min>-30</min>
                    <max>15</max>
                </range>
                <output>fcs/left-aileron-pos-rad</output>
            </aerosurface_scale>

            <aerosurface_scale name="Right Aileron Control">
                <input>-fcs/roll-trim-sum</input>
                <gain>0.01745</gain>
                <range>
                    <min>-30</min>
                    <max>15</max>
                </range>
                <output>fcs/right-aileron-pos-rad</output>
            </aerosurface_scale>
        </channel>
        <channel name="Yaw">
            <summer name="Yaw Trim Sum">
                <input>fcs/rudder-cmd-norm</input>
                <input>fcs/yaw-trim-cmd-norm</input>
                <clipto>
                    <min>-1</min>
                    <max>1</max>
                </clipto>
            </summer>

            <aerosurface_scale name="Rudder Control">
                <input>fcs/yaw-trim-sum</input>
                <gain>0.01745</gain>
                <range>
                    <min>-27</min>
                    <max>27</max>
                </range>
                <output>fcs/rudder-pos-rad</output>
            </aerosurface_scale>
        </channel>
        <channel name="Flaps">
            <kinematic name="Flaps Control">
                <input>fcs/flap-cmd-norm</input>
                <traverse>
                    <setting>
                        <position>0</position>
                        <time>0</time>
                    </setting>
                    <setting>
                        <position>15</position>
                        <time>2</time>
                    </setting>
                    <setting>
                        <position>25</position>
                        <time>1</time>
                    </setting>
                    <setting>
                        <position>40</position>
                        <time>1</time>
                    </setting>
                </traverse>
                <output>fcs/flap-pos-deg</output>
            </kinematic>
            <aerosurface_scale name="Flap Position Normalizer">
              <input>fcs/flap-pos-deg</input>
              <domain>
                <min>0</min>  <!-- Flaps actual minimum position -->
                <max>40</max>  <!-- Flaps actual maximum position -->
              </domain>
              <range>
                <min>0</min>  <!-- Flaps normalized minimum position -->
                <max>1</max>  <!-- Flaps normalized maximum position -->
              </range>
              <output>fcs/flap-pos-norm</output>
            </aerosurface_scale>
        </channel>
    </flight_control>
    <aerodynamics>

        <function name="aero/function/kCLge">
            <description>Change_in_lift_due_to_ground_effect</description>
            <table>
                <independentVar>aero/h_b-mac-ft</independentVar>
                <tableData>
                    0.0000	1.2030
                    0.1000	1.1270
                    0.1500	1.0900
                    0.2000	1.0730
                    0.3000	1.0460
                    0.4000	1.0550
                    0.5000	1.0190
                    0.6000	1.0130
                    0.7000	1.0080
                    0.8000	1.0060
                    0.9000	1.0030
                    1.0000	1.0020
                    1.1000	1.0000
                </tableData>
            </table>
        </function>

        <axis name="DRAG">
            <function name="aero/coefficient/CDo">
                <description>Drag_at_zero_lift</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <value>0.019</value>
                </product>
            </function>
            <function name="aero/coefficient/CDDf">
                <description>Delta_drag_due_to_flap_deflection</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                      <table>
                          <independentVar>fcs/flap-pos-deg</independentVar>
                          <tableData>
                              0.0000	0.0000
                              15.0000	0.0100
                              25.0000	0.0300
                              40.0000	0.0500
                          </tableData>
                      </table>
                </product>
            </function>
            <function name="aero/coefficient/CDi">
                <description>Drag_induced</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                      <table>
                          <independentVar>aero/alpha-rad</independentVar>
                          <tableData>
                              -0.1750	0.0130
                              -0.1400	0.0050
                              -0.1050	0.0010
                              -0.0700	0.0000
                              -0.0350	0.0050
                              0.0000	0.0150
                              0.0350	0.0290
                              0.0700	0.0500
                              0.1050	0.0760
                              0.1400	0.1060
                              0.1750	0.1340
                              0.2090	0.1590
                              0.2440	0.1810
                              0.2790	0.1960
                              0.3140	0.2050
                              0.3490	0.2010
                          </tableData>
                      </table>
                </product>
            </function>
            <function name="aero/coefficient/CDDe">
                <description>Drag_due_to_Elevator_Deflection</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>fcs/mag-elevator-pos-rad</property>
                    <value>0.0600</value>
                </product>
            </function>
            <function name="aero/coefficient/CDbeta">
                <description>Drag_due_to_sideslip</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>aero/mag-beta-rad</property>
                    <value>0.1400</value>
                </product>
            </function>
            <function name="aero/coefficient/CDgear">
                <description>Drag_due_to_landing_gear</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>gear/gear-pos-norm</property>
                    <value>0.0300</value>
                </product>
            </function>
        </axis>

        <axis name="SIDE">
            <function name="aero/coefficient/CYb">
                <description>Side_force_due_to_beta</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>aero/beta-rad</property>
                    <value>-0.2904</value>
                </product>
            </function>
            <function name="aero/coefficient/CYda">
                <description>Side_force_due_to_aileron</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>fcs/left-aileron-pos-rad</property>
                    <value>0.0000</value>
                </product>
            </function>
            <function name="aero/coefficient/CYdr">
                <description>Side_force_due_to_rudder</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>fcs/rudder-pos-rad</property>
                    <value>0.2300</value>
                </product>
            </function>
            <function name="aero/coefficient/CYp">
                <description>Side_force_due_to_roll_rate</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>aero/bi2vel</property>
                    <property>velocities/p-rad_sec</property>
                    <value>-0.0342</value>
                </product>
            </function>
            <function name="aero/coefficient/CYr">
                <description>Side_force_due_to_yaw_rate</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>aero/bi2vel</property>
                    <property>velocities/r-rad_sec</property>
                    <value>0.2166</value>
                </product>
            </function>
        </axis>

        <axis name="LIFT">
            <function name="aero/coefficient/CLwbh">
                <description>Lift_due_to_alpha</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>aero/function/kCLge</property>
                      <table>
                          <independentVar>aero/alpha-rad</independentVar>
                          <tableData>
                              -0.1750	-0.4390
                              -0.1400	-0.2480
                              -0.1050	-0.0630
                              -0.0700	0.1260
                              -0.0350	0.3210
                              0.0000	0.5220
                              0.0350	0.7290
                              0.0700	0.9410
                              0.1050	1.1550
                              0.1400	1.3660
                              0.1750	1.5440
                              0.2090	1.6880
                              0.2440	1.7990
                              0.2790	1.8740
                              0.3140	1.9110
                              0.3490	1.8840
                          </tableData>
                      </table>
                </product>
            </function>
            <function name="aero/coefficient/CLDf">
                <description>Delta_lift_due_to_flap_deflection</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>aero/function/kCLge</property>
                      <table>
                          <independentVar>fcs/flap-pos-deg</independentVar>
                          <tableData>
                              0.0000	0.0000
                              15.0000	0.0650
                              25.0000	0.0160
                              40.0000	0.2540
                          </tableData>
                      </table>
                </product>
            </function>
            <function name="aero/coefficient/CLDe">
                <description>Lift_due_to_Elevator_Deflection</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>fcs/elevator-pos-rad</property>
                    <value>0.8100</value>
                </product>
            </function>
            <function name="aero/coefficient/CLadot">
                <description>Lift_due_to_alpha_rate</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>aero/alphadot-rad_sec</property>
                    <property>aero/ci2vel</property>
                      <table>
                          <independentVar>aero/alpha-rad</independentVar>
                          <tableData>
                              -0.1750	2.3500
                              -0.1400	-0.4460
                              -0.1050	-0.4450
                              -0.0700	-0.4640
                              -0.0350	-0.4820
                              0.0000	-0.4980
                              0.0350	-0.5100
                              0.0700	-0.5180
                              0.1050	-0.5150
                              0.1400	-0.4570
                              0.1750	-0.3610
                              0.2090	-0.2750
                              0.2440	-0.1820
                              0.2790	-0.0750
                              0.3140	0.0710
                              0.3490	0.2530
                          </tableData>
                      </table>
                </product>
            </function>
            <function name="aero/coefficient/CLq">
                <description>Lift_due_to_pitch_rate</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>velocities/q-rad_sec</property>
                    <property>aero/ci2vel</property>
                      <table>
                          <independentVar>aero/alpha-rad</independentVar>
                          <tableData>
                              -0.1750	10.6900
                              -0.1400	2.3540
                              -0.1050	2.4200
                              -0.0700	2.5400
                              -0.0350	2.6670
                              0.0000	2.6940
                              0.0350	2.6110
                              0.0700	2.5380
                              0.1050	2.4310
                              0.1400	2.1760
                              0.1750	1.7560
                              0.2090	1.3520
                              0.2440	0.9840
                              0.2790	0.4320
                              0.3140	-0.0930
                              0.3490	-0.2710
                          </tableData>
                      </table>
                </product>
            </function>
        </axis>

        <axis name="ROLL">
            <function name="aero/coefficient/Clb">
                <description>Roll_moment_due_to_beta</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>aero/beta-rad</property>
                    <value>-0.0107</value>
                </product>
            </function>
            <function name="aero/coefficient/Clp">
                <description>Roll_moment_due_to_roll_rate_(roll_damping)</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>aero/bi2vel</property>
                    <property>velocities/p-rad_sec</property>
                    <value>-0.4704</value>
                </product>
            </function>
            <function name="aero/coefficient/Clr">
                <description>Roll_moment_due_to_yaw_rate</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>aero/bi2vel</property>
                    <property>velocities/r-rad_sec</property>
                    <value>-0.1665</value>
                </product>
            </function>
            <function name="aero/coefficient/Clda">
                <description>Roll_moment_due_to_aileron</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>fcs/left-aileron-pos-rad</property>
                    <value>0.0900</value>
                </product>
            </function>
            <function name="aero/coefficient/Cldr">
                <description>Roll_moment_due_to_rudder</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>fcs/rudder-pos-rad</property>
                    <value>-0.0192</value>
                </product>
            </function>
        </axis>

        <axis name="PITCH">
            <function name="aero/coefficient/Cmalpha">
                <description>Pitch_moment_due_to_alpha</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/cbarw-ft</property>
                    <property>aero/alpha-rad</property>
                    <value>-1.0230</value>
                </product>
            </function>
            <function name="aero/coefficient/CmDf">
                <description>Delta_pitching_moment_due_to_flap_deflection</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/cbarw-ft</property>
                      <table>
                          <independentVar>fcs/flap-pos-deg</independentVar>
                          <tableData>
                              0.0000	0.0000
                              15.0000	-0.0654
                              25.0000	-0.0981
                              35.0000	-0.1140
                          </tableData>
                      </table>
                </product>
            </function>
            <function name="aero/coefficient/Cmq">
                <description>Pitch_moment_due_to_pitch_rate</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/cbarw-ft</property>
                    <property>aero/ci2vel</property>
                    <property>velocities/q-rad_sec</property>
                    <value>-6.3480</value>
                </product>
            </function>
            <function name="aero/coefficient/Cmadot">
                <description>Pitch_moment_due_to_alpha_rate</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/cbarw-ft</property>
                    <property>aero/ci2vel</property>
                    <property>aero/alphadot-rad_sec</property>
                    <value>-0.0840</value>
                </product>
            </function>
            <function name="aero/coefficient/Cmo">
                <description>Pitching_moment_at_zero_alpha</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/cbarw-ft</property>
                    <value>0.0700</value>
                </product>
            </function>
            <function name="aero/coefficient/Cmde">
                <description>Pitch_moment_due_to_elevator_deflection</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/cbarw-ft</property>
                    <property>fcs/elevator-pos-rad</property>
                    <value>-0.6030</value>
                </product>
            </function>
        </axis>

        <axis name="YAW">
            <function name="aero/coefficient/Cnb">
                <description>Yaw_moment_due_to_beta</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>aero/beta-rad</property>
                    <value>0.0921</value>
                </product>
            </function>
            <function name="aero/coefficient/Cnp">
                <description>Yaw_moment_due_to_roll_rate</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>aero/bi2vel</property>
                    <property>velocities/p-rad_sec</property>
                    <value>-0.0691</value>
                </product>
            </function>
            <function name="aero/coefficient/Cnr">
                <description>Yaw_moment_due_to_yaw_rate</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>aero/bi2vel</property>
                    <property>velocities/r-rad_sec</property>
                    <value>-0.0930</value>
                </product>
            </function>
            <function name="aero/coefficient/Cnda">
                <description>Yaw_moment_due_to_aileron</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>fcs/left-aileron-pos-rad</property>
                    <value>0.0068</value>
                </product>
            </function>
            <function name="aero/coefficient/Cndr">
                <description>Yaw_moment_due_to_rudder</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>fcs/rudder-pos-rad</property>
                    <value>-0.0430</value>
                </product>
            </function>
        </axis>
    </aerodynamics>
</fdm_config>
<?xml version="1.0"?>
<initialize name="reset00">
  <!--
    This file sets up the aircraft to start off
    from the runway in preparation for takeoff.
  -->
  <ubody unit="FT/SEC">    0.0  </ubody>
  <vbody unit="FT/SEC">    0.0  </vbody>
  <wbody unit="FT/SEC">    0.0  </wbody>
  <latitude unit="DEG">   47.0  </latitude>
  <longitude unit="DEG"> 122.0  </longitude>
  <phi unit="DEG">         0.0  </phi>
  <theta unit="DEG">       0.0  </theta>
  <psi unit="DEG">       150.0  </psi>
  <altitude unit="FT">     5.5  </altitude>
</initialize>
<?xml version="1.0"?>

<!-- Generated by Aero-Matic v 3.2.5

    See: http://wiki.flightgear.org/JSBSim_Thrusters#FGPropeller

    Inputs:
           horsepower: 17.1997
       max engine rpm: 10450
   prop diameter (ft): 4.10105
      prop chord (ft): 0.76954
                pitch: fixed at 45 inch

    Outputs:
         max prop rpm: 4575.17
           gear ratio: 2.28407
                  Cp0: 0.00773442
                  Ct0: 0.0108282
  static thrust (lbs): 45.3692
-->

<propeller version="1.01" name="prop">
  <ixx> 0.433486 </ixx>
  <diameter unit="IN"> 49.2126 </diameter>
  <numblades> 2 </numblades>
  <gearratio> 3.58 </gearratio>
  <cp_factor> 1.00 </cp_factor>
  <ct_factor> 1.00 </ct_factor>

  <table name="C_THRUST" type="internal">
     <tableData>
      0.00    0.0863
      0.05    0.0824
      0.10    0.0788
      0.15    0.0753
      0.20    0.0720
      0.25    0.0689
      0.30    0.0659
      0.35    0.0630
      0.40    0.0602
      0.45    0.0576
      0.50    0.0550
      0.55    0.0526
      0.60    0.0502
      0.65    0.0478
      0.70    0.0455
      0.75    0.0433
      0.80    0.0411
      0.85    0.0390
      0.90    0.0369
      0.95    0.0348
      1.00    0.0327
      1.05    0.0306
      1.10    0.0286
      1.15    0.0265
      1.20    0.0244
      1.25    0.0224
      1.30    0.0203
      1.35    0.0182
      1.40    0.0161
      1.50    0.0119
      1.60    0.0075
      1.70    0.0031
      1.80   -0.0015
      1.90   -0.0063
      2.00   -0.0112
      2.10   -0.0163
      2.20   -0.0215
      2.30   -0.0270
      2.40   -0.0326
     </tableData>
  </table>


  <table name="C_POWER" type="internal">
     <tableData>
      0.00    0.0704
      0.05    0.0700
      0.10    0.0695
      0.15    0.0689
      0.20    0.0683
      0.25    0.0675
      0.30    0.0667
      0.35    0.0658
      0.40    0.0649
      0.45    0.0639
      0.50    0.0628
      0.55    0.0616
      0.60    0.0604
      0.65    0.0591
      0.70    0.0577
      0.75    0.0562
      0.80    0.0546
      0.85    0.0529
      0.90    0.0512
      0.95    0.0493
      1.00    0.0474
      1.05    0.0453
      1.10    0.0432
      1.15    0.0409
      1.20    0.0385
      1.25    0.0360
      1.30    0.0333
      1.35    0.0305
      1.40    0.0276
      1.50    0.0214
      1.60    0.0146
      1.70    0.0071
      1.80   -0.0010
      1.90   -0.0098
      2.00   -0.0192
      2.10   -0.0294
      2.20   -0.0404
      2.30   -0.0521
      2.40   -0.0646
     </tableData>
  </table>

<!-- thrust effects of helical tip Mach -->
<table name="CT_MACH" type="internal">
  <tableData>
    0.85   1.0
    1.05   0.8
  </tableData>
</table>

<!-- power-required effects of helical tip Mach -->
<table name="CP_MACH" type="internal">
  <tableData>
    0.85   1.0
    1.05   1.8
    2.00   1.4
  </tableData>
</table>

</propeller>
<?xml version="1.0"?>

<!--
  File:     THOR80.xml
  Author:   AeromatiC++ v 3.2.5

  See: http://wiki.flightgear.org/JSBSim_Engines#FGPiston

  Inputs:
    name:           THOR80
    type:           Piston Engine
    power:          17.1997 hp
-->

<piston_engine name="THOR80">
  <minmp unit="INHG">         10.0 </minmp>
  <maxmp unit="INHG">         28.5 </maxmp>
   <displacement unit="IN3"> 2.248 </displacement>
  <maxhp>        17.1997 </maxhp>
  <cycles>         2.0 </cycles>
  <idlerpm>      700.0 </idlerpm>
  <maxrpm>     10450.0 </maxrpm>
  <sparkfaildrop>  0.1 </sparkfaildrop>
  <volumetric-efficiency> 0.85 </volumetric-efficiency>
  <man-press-lag> 0.1 </man-press-lag>
  <static-friction  unit="HP"> 0.0859983 </static-friction>
  <starter-torque> 13.7597 </starter-torque>
  <starter-rpm> 1400 </starter-rpm>
 <!-- Defining <bsfc> over-rides the built-in horsepower calculations -->
 <!--<bsfc>           0.45 </bsfc>-->
  <stroke unit="IN">  1.732 </stroke>
  <bore unit="IN">    1.969 </bore>
  <cylinders>         1  </cylinders>
  <compression-ratio> 14.0 </compression-ratio>
</piston_engine>
// This file instructs the automatic synchronization utilities where to
// install this aircraft and under what name.
//
// The syntax is easy;
// * the package name at the beginning of a new line followed by a colon
// * a space as a column separator
// * the path and filename relative to the aircraft install directory
//
// Currently known package names are: FlightGear

FlightGear:
<?xml version="1.0"?>

<system name="Parahute Controls">

  <channel name="Pitch and Roll">

    <summer name="Pitch Trim Summer">
      <input>fcs/elevator-cmd-norm</input>
      <input>fcs/pitch-trim-cmd-norm</input>
      <clipto>
        <min>  0 </min>
        <max>  1 </max>
      </clipto>
      <output>fcs/elevator-pos-norm</output>
   </summer>

   <summer name="Roll Trim Summer">
      <input>-fcs/aileron-cmd-norm</input>
      <input>-fcs/roll-trim-cmd-norm</input>
      <clipto>
        <min> -1 </min>
        <max>  1 </max>
      </clipto>
      <output>fcs/aileron-pos-norm</output>
   </summer>

   <summer name="Left Elevon Control">
     <input>fcs/elevator-pos-norm</input>
     <input>fcs/aileron-pos-norm</input>
     <clipto>
        <min>  0 </min>
        <max>  1 </max>
      </clipto>
     <output>fcs/left-elevon-pos-norm</output>
   </summer>

   <aerosurface_scale name="Left Aileron Control">
      <input>fcs/left-elevon-pos-norm</input>
      <range>
        <min>  0.000 </min>
        <max>  0.785 </max>
      </range>
      <output>fcs/left-aileron-pos-rad</output>
   </aerosurface_scale>

   <summer name="Right Elevon Control">
     <input>fcs/elevator-pos-norm</input>
     <input>-fcs/aileron-pos-norm</input>
     <clipto>
        <min>  0 </min>
        <max>  1 </max>
      </clipto>
     <output>fcs/right-elevon-pos-norm</output>
   </summer>

   <aerosurface_scale name="Right Aileron Control">
      <input>-fcs/aileron-pos-norm</input>
      <range>
        <min>  0.000 </min>
        <max>  0.785 </max>
      </range>
      <output>fcs/right-aileron-pos-rad</output>
   </aerosurface_scale>
  </channel>

</system>
<?xml version="1.0" encoding="UTF-8"?>
<?xml-stylesheet type="text/xsl" href="http://jsbsim.sourceforge.net/JSBSim.xsl"?>
<fdm_config name="paraglider" version="2.0" release="BETA"
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xsi:noNamespaceSchemaLocation="http://jsbsim.sourceforge.net/JSBSim.xsd">

  <fileheader>
    <author> David Culp, Erik Hofman </author>
    <filecreationdate> 2001-01-01 </filecreationdate>
    <version> 2.1 </version>
    <description> (Powered) Paraglider </description>
<!--
    Reference:
    CFD Calculation of Stability and Control Derivatives
    For Ram-Air Parachutes

    http://www.cobaltcfd.com/pdfs/2016/AIAA-2016-1536.pdf


    http://www.ojovolador.com/eng/read/tests/discus/
     Cells				44
     Wing area (m²)			24	(258.33 ft²)
     Wing area projected (m²)		20.5	(220.66 ft²)
     Wing span (m)			11.2	( 36.75 ft)
     Projected wing span (m)		 8.8	( 28.87 ft)
     Aspect ratio			 5.2
     Projected aspect ratio		 3.7
     Glider weight (kg)			 4.9	( 10.8 lbs)
     Max speed (km/h)			47 ±2	( 25.4 kts ±2)
     Trim speed (km/h)			38 ±1	( 20.5 kts ±½)
-->
  </fileheader>

  <metrics>
    <wingarea unit="FT2"> 220 </wingarea>
    <wingspan unit="FT"> 29 </wingspan>
    <chord unit="FT"> 7 </chord>
    <htailarea unit="FT2"> 1 </htailarea>
    <htailarm unit="FT"> 1 </htailarm>
    <vtailarea unit="FT2"> 1 </vtailarea>
    <vtailarm unit="FT"> 1 </vtailarm>
    <location name="AERORP" unit="IN">
      <x> 0 </x>
      <y> 0 </y>
      <z> 0 </z>
    </location>
    <location name="EYEPOINT" unit="IN">
      <x> 0 </x>
      <y> 0 </y>
      <z> -330 </z>
    </location>
    <location name="VRP" unit="IN">
      <x> 0 </x>
      <y> 0 </y>
      <z> 0 </z>
    </location>
  </metrics>

  <mass_balance>
  <ixx unit="SLUG*FT2">1.703</ixx>
  <iyy unit="SLUG*FT2">1.898</iyy>
  <izz unit="SLUG*FT2">1.360</izz>
  <emptywt unit="LBS"> 10</emptywt>
    <location name="CG" unit="IN">
      <x> 0 </x>
      <y> 0 </y>
      <z> 0 </z>
    </location>
    <pointmass name="Pilot">
      <weight unit="LBS"> 180 </weight>
      <location name="POINTMASS" unit="IN">
        <x>  0 </x>
        <y>  0 </y>
        <z> -330 </z>
      </location>
    </pointmass>
    <pointmass name="Polini Engine">
      <weight unit="LBS"> 25.13 </weight>
      <location name="POINTMASS" unit="IN">
        <x>  4 </x>
        <y>  0 </y>
        <z> -330 </z>
      </location>
    </pointmass>
    <pointmass name="DT Propeller">
      <weight unit="LBS"> 2.425 </weight>
      <location name="POINTMASS" unit="IN">
        <x> 10 </x>
        <y>  0 </y>
        <z> -330 </z>
      </location>
    </pointmass>
  </mass_balance>

  <ground_reactions>
    <contact type="BOGEY" name="LMLG">
      <location unit="IN">
        <x> 0 </x>
        <y> -10 </y>
        <z> -180 </z>
      </location>
      <static_friction> 0.8 </static_friction>
      <dynamic_friction> 0.5 </dynamic_friction>
      <rolling_friction> 0.5 </rolling_friction>
      <spring_coeff unit="LBS/FT"> 200 </spring_coeff>
      <damping_coeff unit="LBS/FT/SEC"> 50 </damping_coeff>
      <max_steer unit="DEG"> 0.0 </max_steer>
      <brake_group> NONE </brake_group>
      <retractable>0</retractable>
    </contact>
    <contact type="BOGEY" name="RMLG">
      <location unit="IN">
        <x> 0 </x>
        <y> 10 </y>
        <z> -180 </z>
      </location>
      <static_friction> 0.8 </static_friction>
      <dynamic_friction> 0.5 </dynamic_friction>
      <rolling_friction> 0.5 </rolling_friction>
      <spring_coeff unit="LBS/FT"> 200 </spring_coeff>
      <damping_coeff unit="LBS/FT/SEC"> 50 </damping_coeff>
      <max_steer unit="DEG"> 0.0 </max_steer>
      <brake_group> NONE </brake_group>
      <retractable>0</retractable>
    </contact>
  </ground_reactions>

  <system file="Controls.xml"/>

  <propulsion>
    <engine file="Polini_THOR80">
    <feed> 0 </feed>

    <thruster file="DT_Propeller">
     <sense> 1 </sense>
     <location unit="IN">
       <x>    10.00 </x>
       <y>     0.00 </y>
       <z>  -330.00 </z>
     </location>
     <orient unit="DEG">
       <pitch>     0.00 </pitch>
        <roll>     0.00 </roll>
         <yaw>     0.00 </yaw>
     </orient>
    </thruster>
  </engine>

  <tank type="FUEL" number="0">
     <location unit="IN">
       <x>     8.00 </x>
       <y>     0.00 </y>
       <z>  -330.00 </z>
     </location>
     <capacity unit="LBS"> 3.5 </capacity>
     <contents unit="LBS"> 1.0 </contents>
  </tank>
  </propulsion>

  <flight_control name="FCS: paraglider_FCS">
  </flight_control>

  <aerodynamics>

    <!-- pilot area (area of a circle with a diameter of 4.1 foot) -->
    <property type="float" value="13.2">metrics/Sp-sqft</property>

    <!-- pilot arm (-330 inches equals to 27.5 foot -->
    <property type="float" value="27.5">metrics/bp-ft</property>

    <axis name="DRAG">
     <function name="aero/coefficient/CDalpha">
      <description>Drag_due_to_alpha</description>
      <product>
       <property>aero/qbar-psf</property>
       <property>metrics/Sw-sqft</property>
       <table>
        <independentVar lookup="row">aero/alpha-deg</independentVar>
        <independentVar lookup="column">fcs/elevator-pos-norm</independentVar>
        <tableData>
                  0.0     2.0
            0.0   0.065   0.144
            2.5   0.065   0.168
            5.0   0.085   0.206
            7.5   0.109   0.236
            9.0   0.137   0.322
           11.0   0.160   0.386
           12.5   0.199   0.434
           15.0   0.237   0.578
           17.5   0.328   0.706
           19.0   0.339   0.786
           20.0   0.358   0.866
        </tableData>
       </table>
      </product>
     </function>
     <function name="aero/coefficient/CDpilot">
      <description>Drag_due_to_pilot</description>
      <product>
       <property>aero/qbar-psf</property>
       <property>metrics/Sp-sqft</property>
       <value>1.8</value>
      </product>
     </function>
    </axis>

    <axis name="SIDE">
     <function name="aero/coefficient/CYDa">
      <description>Side_force_due_to_aileron</description>
      <product>
       <property>aero/qbar-psf</property>
       <property>metrics/Sw-sqft</property>
       <table>
        <independentVar lookup="row">aero/alpha-deg</independentVar>
        <independentVar lookup="column">fcs/aileron-pos-norm</independentVar>
        <tableData>
                 -1.0     0.0     1.0
            0.0   0.004   0.000  -0.004
            2.5   0.005   0.000  -0.005
            5.0   0.006   0.000  -0.006
            7.5   0.007   0.000  -0.007
            9.0   0.008  -0.000  -0.008
           11.0   0.003  -0.001  -0.003
           12.5   0.002  -0.002  -0.002
           15.0  -0.006   0.002   0.006
           17.5   0.001  -0.001  -0.001
           19.0  -0.009  -0.002   0.009
           20.0  -0.004  -0.002   0.004
        </tableData>
       </table>
      </product>
     </function>
     <function name="aero/coefficient/CYb">
      <description>Side_force_due_to_beta</description>
      <product>
       <property>aero/qbar-psf</property>
       <property>metrics/Sw-sqft</property>
       <property>aero/beta-rad</property>
       <table>
        <independentVar>aero/alpha-deg</independentVar>
        <tableData>
           0   -0.053
           2   -0.035
           4   -0.020
           6   -0.039
           8   -0.072
          10   -0.056
        </tableData>
       </table>
      </product>
     </function>
     <function name="aero/coefficient/CYpilot">
      <description>Side_force_due_to_pilot</description>
      <product>
       <property>aero/qbar-psf</property>
       <property>metrics/Sp-sqft</property>
       <property>aero/beta-rad</property>
       <value>-1.8</value>
      </product>
     </function>
     <function name="aero/coefficient/CYp">
      <description>Side_force_due_to_roll_rate</description>
      <product>
       <property>aero/qbar-psf</property>
       <property>metrics/Sw-sqft</property>
       <property>aero/bi2vel</property>
       <property>velocities/p-aero-rad_sec</property>
       <table>
        <independentVar>aero/alpha-deg</independentVar>
        <tableData>
           0   -0.040
           2   -0.061
           4   -0.086
           6   -0.150
           8   -0.193
          10   -0.179
        </tableData>
       </table>
      </product>
     </function>
    </axis>

    <axis name="LIFT">
     <function name="aero/coefficient/CLalpha">
      <description>Lift_due_to_alpha</description>
      <product>
       <property>aero/qbar-psf</property>
       <property>metrics/Sw-sqft</property>
       <table>
        <independentVar lookup="row">aero/alpha-deg</independentVar>
        <independentVar lookup="column">fcs/elevator-pos-norm</independentVar>
        <tableData>
                  0.0     2.0
            0.0   0.275   0.642
            2.5   0.395   0.924
            5.0   0.495   1.166
            7.5   0.609   1.410
            9.0   0.628   1.546
           11.0   0.628   1.546
           12.5   0.649   1.450
           15.0   0.614   1.636
           17.5   0.789   1.726
           19.0   0.669   1.902
           20.0   0.705   2.026
        </tableData>
       </table>
      </product>
     </function>
     <function name="aero/force/CLadot">
      <description>Lift_due_to_alpha_rate</description>
      <product>
       <property>aero/qbar-psf</property>
       <property>metrics/Sw-sqft</property>
       <property>aero/ci2vel</property>
       <property>aero/alphadot-rad_sec</property>
       <table>
        <independentVar>aero/alpha-deg</independentVar>
        <tableData>
           0.0   8.1
           2.0  11.1
           4.0   1.2
           6.0   0.5
           8.0   2.4
          10.0  10.1
        </tableData>
       </table>
      </product>
     </function>
     <function name="aero/force/CLq">
      <description>Lift_due_to_pitch_rate</description>
      <product>
       <property>aero/qbar-psf</property>
       <property>metrics/Sw-sqft</property>
       <property>aero/ci2vel</property>
       <property>velocities/q-aero-rad_sec</property>
       <table>
        <independentVar>aero/alpha-deg</independentVar>
        <tableData>
           0.0  11.9
           2.0  13.6
           4.0   0.8
           6.0   0.9
           8.0   2.4
          10.0  14.9
        </tableData>
       </table>
      </product>
     </function>
    </axis>

    <axis name="ROLL">
     <function name="aero/coefficient/ClDa">
      <description>Roll_moment_due_to_aileron</description>
      <product>
       <property>aero/qbar-psf</property>
       <property>metrics/Sw-sqft</property>
       <property>metrics/bw-ft</property>
       <value>2.5</value>
       <table>
        <independentVar lookup="row">aero/alpha-deg</independentVar>
        <independentVar lookup="column">fcs/aileron-pos-norm</independentVar>
        <tableData>
                 -1.0     0.0     1.0
            0.0  -0.018   0.000   0.018
            2.5  -0.020   0.000   0.020
            5.0  -0.021   0.000   0.021
            7.5  -0.022   0.000   0.022
            9.0  -0.021   0.002   0.021
           11.0  -0.004   0.002   0.004
           12.5   0.003  -0.003  -0.003
           15.0  -0.008  -0.008   0.008
           17.5  -0.015   0.012   0.015
           19.0  -0.004   0.008   0.004
           20.0   0.000   0.018   0.000
        </tableData>
       </table>
      </product>
     </function>
     <function name="aero/moment/Clb">
      <description>Roll moment due to beta</description>
      <product>
       <property>aero/qbar-psf</property>
       <property>metrics/Sw-sqft</property>
       <property>metrics/bw-ft</property>
       <property>aero/beta-rad</property>
       <table>
        <independentVar>aero/alpha-deg</independentVar>
        <tableData>
          0  -0.080
          2  -0.051
          4  -0.088
          6  -0.107
          8  -0.133 
         10  -0.152
        </tableData>
       </table>
      </product>
     </function>
     <function name="aero/moment/Clpilot">
      <description>Roll moment due to pilot</description>
      <product>
       <property>aero/qbar-psf</property>
       <property>metrics/Sp-sqft</property>
       <property>metrics/bp-ft</property>
       <property>aero/beta-rad</property>
       <value>-1.8</value>
      </product>
     </function>
     <function name="aero/coefficient/Clp">
      <description>Roll_moment_due_to_roll_rate</description>
      <product>
       <property>aero/qbar-psf</property>
       <property>metrics/Sw-sqft</property>
       <property>metrics/bw-ft</property>
       <property>aero/bi2vel</property>
       <property>velocities/p-aero-rad_sec</property>
       <table>
        <independentVar>aero/alpha-deg</independentVar>
        <tableData>
          0  -0.320
          2  -0.348
          4  -0.200
          6  -0.358
          8  -0.393
         10  -0.367
        </tableData>
       </table>
      </product>
     </function>
     <function name="aero/moment/Clr">
      <description>Roll moment due to yaw rate</description>
      <product>
       <property>aero/qbar-psf</property>
       <property>metrics/Sw-sqft</property>
       <property>metrics/bw-ft</property>
       <property>aero/bi2vel</property>
       <property>velocities/r-aero-rad_sec</property>
       <table>
        <independentVar>aero/alpha-deg</independentVar>
        <tableData>
          0  -0.050
          2   0.110
          4   0.077
          6   0.080
          8   0.061
         10   0.039
        </tableData>
       </table>
      </product>
     </function>
    </axis>

    <axis name="PITCH">
     <function name="aero/coefficient/CmDe">
      <description>Pitch_moment_due_to_elevator</description>
      <product>
       <property>aero/qbar-psf</property>
       <property>metrics/Sw-sqft</property>
       <property>metrics/cbarw-ft</property>
       <table>
        <independentVar lookup="row">aero/alpha-deg</independentVar>
        <independentVar lookup="column">fcs/elevator-pos-norm</independentVar>
        <tableData>
                  0.0     2.0
            0.0   0.000  -0.046
            2.5  -0.006  -0.062
            5.0  -0.007  -0.084
            7.5  -0.008  -0.084
            9.0  -0.056  -0.176
           11.0  -0.070  -0.196
           12.5  -0.082  -0.242
           15.0  -0.104  -0.242
           17.5  -0.113  -0.296
           19.0  -0.119  -0.284
           20.0  -0.115  -0.296
        </tableData>
       </table>
      </product>
     </function>
     <function name="aero/coefficient/Cmpilot">
      <description>Pitch_moment_due_to_pilot</description>
      <product>
       <property>aero/qbar-psf</property>
       <property>metrics/Sp-sqft</property>
       <property>metrics/bp-ft</property>
       <value>1.8</value>
       </product>
     </function>
     <function name="aero/moment/Cmadot">
      <description>Pitch moment due to alpha rate</description>
      <product>
       <property>aero/qbar-psf</property>
       <property>metrics/Sw-sqft</property>
       <property>metrics/cbarw-ft</property>
       <property>aero/ci2vel</property>
       <property>aero/alphadot-rad_sec</property>
       <table>
        <independentVar>aero/alpha-deg</independentVar>
        <tableData>
           0.0  -2.5
           2.0  -0.5
           4.0   2.8
           6.0   0.1
           8.0  -0.4
          10.0   0.0
        </tableData>
       </table>
      </product>
     </function>
     <function name="aero/moment/Cmq">
      <description>Pitch moment due to pitch rate</description>
      <product>
       <property>aero/qbar-psf</property>
       <property>metrics/Sw-sqft</property>
       <property>metrics/cbarw-ft</property>
       <property>aero/ci2vel</property>
       <property>velocities/q-aero-rad_sec</property>
       <sum>
        <value>-20</value>
        <table>
         <independentVar>aero/alpha-deg</independentVar>
         <tableData>
            0.0  -1.9
            2.0   0.5
            4.0   0.0
            6.0   2.9
            8.0  -0.5
           10.0   0.5
         </tableData>
        </table>
       </sum>
      </product>
     </function>
    </axis>

    <axis name="YAW">
     <function name="aero/coefficient/CnDa">
      <description>Yaw_moment_due_to_aileron</description>
      <product>
       <property>aero/qbar-psf</property>
       <property>metrics/Sw-sqft</property>
       <property>metrics/bw-ft</property>
       <value>2.5</value>
       <table>
        <independentVar lookup="row">aero/alpha-deg</independentVar>
        <independentVar lookup="column">fcs/aileron-pos-norm</independentVar>
        <tableData>
                 -1.0     0.0     1.0
            0.0   0.007   0.001  -0.007
            2.5   0.007  -0.001  -0.007
            5.0   0.007   0.001  -0.007
            7.5   0.010  -0.001  -0.010
            9.0   0.010   0.001  -0.010
           11.0   0.012   0.002  -0.012
           12.5   0.016   0.000  -0.016
           15.0   0.016   0.000  -0.016
           17.5   0.007  -0.001  -0.007
           19.0   0.011   0.001  -0.011
           20.0   0.014   0.001  -0.014
        </tableData>
       </table>
      </product>
     </function>
     <function name="aero/moment/Cnb">
      <description>Yaw moment due to beta</description>
      <product>
       <property>aero/qbar-psf</property>
       <property>metrics/Sw-sqft</property>
       <property>metrics/bw-ft</property>
       <property>aero/beta-rad</property>
       <table>
        <independentVar>aero/alpha-deg</independentVar>
        <tableData>
          0   0.0009
          2  -0.0176
          4  -0.0040
          6   0.0000
          8   0.0224
         10   0.0176
        </tableData>
       </table>
      </product>
     </function>
     <function name="aero/moment/Cnp">
      <description>Yaw_moment_due_to_roll_rate</description>
      <product>
       <property>aero/qbar-psf</property>
       <property>metrics/Sw-sqft</property>
       <property>metrics/bw-ft</property>
       <property>aero/bi2vel</property>
       <property>velocities/p-aero-rad_sec</property>
       <table>
        <independentVar>aero/alpha-deg</independentVar>
        <tableData>
          0  -0.320
          2  -0.348
          4  -0.200
          6  -0.358
          8  -0.393
         10  -0.367
        </tableData>
       </table>
      </product>
     </function>
     <function name="aero/moment/Cnr">
      <description>Yaw moment due to yaw rate</description>
      <product>
       <property>aero/qbar-psf</property>
       <property>metrics/Sw-sqft</property>
       <property>metrics/bw-ft</property>
       <property>aero/bi2vel</property>
       <property>velocities/r-aero-rad_sec</property>
       <table>
        <independentVar>aero/alpha-deg</independentVar>
        <tableData>
          0  -0.070
          2  -0.112
          4  -0.156
          6  -0.036
          8  -0.072
         10  -0.072
        </tableData>
       </table>
      </product>
     </function>
    </axis>
  </aerodynamics>
</fdm_config>
<?xml version="1.0"?>
<initialize name="reset00">
  <!--
    This file sets up the aircraft to start off
    from the runway in preparation for takeoff.
  -->
  <ubody unit="FT/SEC">   25.0 </ubody>
  <vbody unit="FT/SEC">    0.0 </vbody>
  <wbody unit="FT/SEC">    0.0 </wbody>
  <latitude unit="DEG">   41.3 </latitude>
  <longitude unit="DEG">   2.1 </longitude>
  <phi unit="DEG">         0.0 </phi>
  <theta unit="DEG">      20.0 </theta>
  <psi unit="DEG">         0.0 </psi>
  <altitude unit="FT">  3000.0 </altitude>
</initialize>
<?xml version="1.0"?>

<!--
  File:     PT6A.xml
  Author:   AeromatiC++ v 3.2.5

  See: http://wiki.flightgear.org/JSBSim_Engines#FGTurboprop

  Inputs:
    name:                   PT6A
    type:                   Turboprop Engine
    power:                  549.8 hp
    inlet temperature:      725.0 degrees C
    overall pressure ratio: 6.3:1

  Outputs:
    psfc:                   0.641 lbs/hr/hp
    engine weight:          298.2 lbs
    engine length:          4.6 ft
    engine diameter:        1.8 ft
-->

<turboprop_engine name="PT6A">
  <milthrust unit="LBS">       1231.6   </milthrust>
  <idlen1>                       60.0   </idlen1>
  <maxn1>                       100.0   </maxn1>
  <maxpower unit="HP">          549.8   </maxpower>
  <psfc unit="LBS/HR/HP">         0.641 </psfc>
  <n1idle_max_delay>              1     </n1idle_max_delay>
  <maxstartingtime>              20     </maxstartingtime>
  <startern1>                    20     </startern1>
  <ielumaxtorque unit="FT*LB"> 1303.7   </ielumaxtorque>
  <itt_delay>                     0.05  </itt_delay>
  <betarangeend>                 64     </betarangeend>
  <reversemaxpower>              60     </reversemaxpower>

  <function name="EnginePowerVC">
    <table>
      <description> Engine power, function of airspeed and pressure </description>
      <independentVar lookup="row">atmosphere/P-psf</independentVar>
      <independentVar lookup="column">velocities/ve-kts</independentVar>
      <tableData>
              0      50    100    150    200    250
        503   0.357  0.380  0.400  0.425  0.457  0.486
       1048   0.586  0.589  0.600  0.621  0.650  0.686
       1328   0.707  0.721  0.731  0.757  0.786  0.821
       1496   0.779  0.786  0.808  0.821  0.857  0.900
       1684   0.850  0.857  0.874  0.900  0.943  0.979
       1896   0.914  0.929  0.946  0.971  1      1.057
       2135   1      1.011  1.029  1.043  1.083  1.150
       2213   1.029  1.043  1.057  1.079  1.114  1.171
     </tableData>
   </table>
  </function>

  <table name="EnginePowerRPM_N1" type="internal">
    <description> Engine Power, function of RPM and N1 </description>
    <tableData>
              0       5       60      86      94      95      96      97      98      99     100     101
      0.0     0.0     0.4     0.4     0.4     0.4     0.4     0.4     0.4     0.4     0.4     0.4     0.4
    862.7     0.0     0.4    25.9   148.0   259.0   281.2   310.8   340.4   370.0   392.2   429.2   458.8
   1291.7     0.0     0.4    22.2   170.2   296.0   318.2   347.8   373.7   407.0   436.6   473.6   503.2
   1723.0     0.0     0.4     3.7   177.6   325.6   351.5   377.4   407.0   440.3   466.2   503.2   532.8
   2154.4     0.0     0.1     0.1   166.5   333.0   366.3   388.5   418.1   451.4   481.0   518.0   551.3
   2370.1     0.0     0.1     0.1   151.7   325.6   355.2   381.1   414.4   447.7   477.3   514.3   549.8
    </tableData>
  </table>

  <table name="ITT_N1" type="internal">
    <description> Inter-Turbine Temperature ITT [deg C] depending on N1 and engine run (0=off / 1=running) </description>
    <tableData>
              0     1
        0     0     0
       15   105.1   105.1
       60   188.5   546.7
       96   283.5   714.8
      100   294.4   790.2
    </tableData>
  </table>

  <table name="CombustionEfficiency_N1" type="internal">
    <description>Dependency of fuel efficiency coefficient on N1 (and RPM)</description>
    <tableData>
      90    0.1221
      91.2  0.2834
      92.2  0.5336
      93.4  0.7188
      94.1  0.7741
      95.2  0.8471
      96.5  0.9001
     100    1
      </tableData>
  </table>
</turboprop_engine>
<?xml version="1.0"?>

<!-- Generated by Aero-Matic v 3.2.5

    See: http://wiki.flightgear.org/JSBSim_Thrusters#FGPropeller

    Inputs:
           horsepower: 549.81
       max engine rpm: 37500
   prop diameter (ft): 7.91667
      prop chord (ft): 0.756031
                pitch: variable at 45 inch

    Outputs:
         max prop rpm: 2370.06
           gear ratio: 15.8224
                  Cp0: 0.0663477
                  Ct0: 0.15459
  static thrust (lbs): 2253.1
-->

<propeller version="1.01" name="prop">
  <ixx> 6.01793 </ixx>
  <diameter unit="IN"> 95 </diameter>
  <numblades> 3 </numblades>
  <gearratio> 18.75 </gearratio>
  <cp_factor> 1.00 </cp_factor>
  <ct_factor> 1.10 </ct_factor>
  <minpitch> -12 </minpitch>
  <maxpitch> 45 </maxpitch>
  <minrpm> 1900 </minrpm>
  <maxrpm> 2200 </maxrpm>

 <!-- thrust coefficient as a function of advance ratio and blade angle -->
  <table name="C_THRUST" type="internal">
      <tableData>
                       -15         0        15        30        45        60
            0.00    0.0499    0.1140    0.1781    0.2421    0.3062    0.3702
            0.05    0.0438    0.1076    0.1712    0.2345    0.2975    0.3604
            0.10    0.0378    0.1014    0.1645    0.2272    0.2894    0.3511
            0.15    0.0319    0.0954    0.1582    0.2202    0.2816    0.3423
            0.20    0.0260    0.0895    0.1520    0.2136    0.2743    0.3340
            0.25    0.0202    0.0838    0.1461    0.2073    0.2673    0.3261
            0.30    0.0144    0.0781    0.1404    0.2013    0.2607    0.3187
            0.35    0.0086    0.0726    0.1349    0.1955    0.2544    0.3117
            0.40    0.0029    0.0672    0.1296    0.1900    0.2485    0.3051
            0.45   -0.0029    0.0618    0.1244    0.1847    0.2428    0.2988
            0.50   -0.0087    0.0565    0.1193    0.1796    0.2375    0.2929
            0.55   -0.0146    0.0513    0.1144    0.1747    0.2323    0.2872
            0.60   -0.0204    0.0461    0.1095    0.1700    0.2275    0.2819
            0.65   -0.0263    0.0409    0.1048    0.1655    0.2228    0.2769
            0.70   -0.0323    0.0357    0.1002    0.1611    0.2184    0.2721
            0.75   -0.0383    0.0306    0.0957    0.1569    0.2142    0.2676
            0.80   -0.0444    0.0255    0.0912    0.1528    0.2101    0.2633
            0.85   -0.0506    0.0203    0.0868    0.1488    0.2063    0.2593
            0.90   -0.0569    0.0152    0.0825    0.1449    0.2026    0.2554
            0.95   -0.0633    0.0100    0.0782    0.1412    0.1990    0.2517
            1.00   -0.0697    0.0049    0.0739    0.1375    0.1956    0.2482
            1.05   -0.0763   -0.0004    0.0697    0.1340    0.1924    0.2449
            1.10   -0.0830   -0.0056    0.0655    0.1305    0.1892    0.2418
            1.15   -0.0897   -0.0109    0.0614    0.1271    0.1862    0.2388
            1.20   -0.0966   -0.0162    0.0572    0.1237    0.1833    0.2359
            1.25   -0.1036   -0.0216    0.0531    0.1205    0.1805    0.2332
            1.30   -0.1108   -0.0270    0.0490    0.1173    0.1778    0.2306
            1.35   -0.1180   -0.0325    0.0449    0.1141    0.1752    0.2282
            1.40   -0.1254   -0.0381    0.0407    0.1110    0.1727    0.2258
            1.50   -0.1406   -0.0494    0.0325    0.1049    0.1679    0.2214
            1.60   -0.1564   -0.0609    0.0242    0.0989    0.1633    0.2174
            1.70   -0.1727   -0.0728    0.0158    0.0930    0.1590    0.2137
            1.80   -0.1896   -0.0850    0.0073    0.0873    0.1549    0.2103
            1.90   -0.2071   -0.0975   -0.0013    0.0815    0.1510    0.2071
            2.00   -0.2251   -0.1104   -0.0100    0.0759    0.1473    0.2042
            2.10   -0.2439   -0.1236   -0.0189    0.0702    0.1437    0.2015
            2.20   -0.2632   -0.1371   -0.0279    0.0645    0.1402    0.1990
            2.30   -0.2831   -0.1511   -0.0371    0.0589    0.1368    0.1967
            2.40   -0.3037   -0.1654   -0.0464    0.0532    0.1335    0.1945
      </tableData>
  </table>

 <!-- power coefficient as a function of advance ratio and blade angle -->
  <table name="C_POWER" type="internal">
     <tableData>
                       -15         0        15        30        45        60
            0.00    0.0067    0.0317    0.0792    0.1492    0.2418    0.3568
            0.05    0.0077    0.0344    0.0835    0.1551    0.2492    0.3658
            0.10    0.0084    0.0366    0.0873    0.1605    0.2563    0.3745
            0.15    0.0085    0.0384    0.0907    0.1657    0.2631    0.3832
            0.20    0.0083    0.0397    0.0938    0.1705    0.2698    0.3916
            0.25    0.0075    0.0407    0.0965    0.1750    0.2762    0.3999
            0.30    0.0063    0.0412    0.0989    0.1793    0.2824    0.4082
            0.35    0.0047    0.0414    0.1009    0.1832    0.2884    0.4163
            0.40    0.0025    0.0411    0.1026    0.1870    0.2942    0.4244
            0.45   -0.0000    0.0404    0.1039    0.1904    0.3000    0.4325
            0.50   -0.0031    0.0394    0.1050    0.1937    0.3055    0.4405
            0.55   -0.0066    0.0379    0.1057    0.1967    0.3110    0.4485
            0.60   -0.0106    0.0360    0.1061    0.1995    0.3163    0.4565
            0.65   -0.0151    0.0337    0.1061    0.2021    0.3215    0.4646
            0.70   -0.0201    0.0310    0.1059    0.2044    0.3267    0.4726
            0.75   -0.0256    0.0279    0.1053    0.2066    0.3317    0.4807
            0.80   -0.0315    0.0244    0.1044    0.2085    0.3366    0.4889
            0.85   -0.0380    0.0204    0.1032    0.2102    0.3415    0.4971
            0.90   -0.0451    0.0161    0.1017    0.2117    0.3463    0.5053
            0.95   -0.0526    0.0112    0.0998    0.2131    0.3510    0.5136
            1.00   -0.0607    0.0060    0.0976    0.2142    0.3556    0.5220
            1.05   -0.0694    0.0003    0.0951    0.2151    0.3602    0.5304
            1.10   -0.0786   -0.0059    0.0923    0.2158    0.3647    0.5389
            1.15   -0.0884   -0.0125    0.0891    0.2162    0.3691    0.5475
            1.20   -0.0987   -0.0195    0.0855    0.2165    0.3734    0.5562
            1.25   -0.1097   -0.0271    0.0817    0.2166    0.3777    0.5649
            1.30   -0.1212   -0.0351    0.0775    0.2164    0.3818    0.5737
            1.35   -0.1334   -0.0436    0.0729    0.2161    0.3860    0.5826
            1.40   -0.1461   -0.0526    0.0680    0.2155    0.3900    0.5915
            1.50   -0.1735   -0.0720    0.0570    0.2136    0.3979    0.6097
            1.60   -0.2034   -0.0935    0.0446    0.2109    0.4054    0.6281
            1.70   -0.2359   -0.1171    0.0306    0.2072    0.4126    0.6469
            1.80   -0.2711   -0.1428    0.0151    0.2025    0.4195    0.6660
            1.90   -0.3090   -0.1706   -0.0019    0.1969    0.4260    0.6853
            2.00   -0.3497   -0.2006   -0.0206    0.1903    0.4321    0.7049
            2.10   -0.3932   -0.2329   -0.0410    0.1826    0.4379    0.7248
            2.20   -0.4396   -0.2675   -0.0630    0.1739    0.4432    0.7449
            2.30   -0.4889   -0.3044   -0.0867    0.1641    0.4481    0.7652
            2.40   -0.5412   -0.3436   -0.1122    0.1532    0.4525    0.7858
     </tableData>
  </table>

<!-- thrust effects of helical tip Mach -->
<table name="CT_MACH" type="internal">
  <tableData>
    0.85   1.0
    1.05   0.8
  </tableData>
</table>

<!-- power-required effects of helical tip Mach -->
<table name="CP_MACH" type="internal">
  <tableData>
    0.85   1.0
    1.05   1.8
    2.00   1.4
  </tableData>
</table>

</propeller>
// This file instructs the automatic synchronization utilities where to
// install this aircraft and under what name.
//
// The syntax is easy;
// * the package name at the beginning of a new line followed by a colon
// * a space as a column separator
// * the path and filename relative to the aircraft install directory
//
// Currently known package names are: FlightGear

FlightGear:
<?xml version="1.0"?>
<system name="Conventional Controls">
  <channel name="Pitch">
   <summer name="Pitch Trim Sum">
      <input>fcs/elevator-cmd-norm</input>
      <input>fcs/pitch-trim-cmd-norm</input>
      <clipto>
        <min> -1 </min>
        <max>  1 </max>
      </clipto>
   </summer>

   <aerosurface_scale name="Elevator Control">
      <input>fcs/pitch-trim-sum</input>
      <range>
        <min> -0.35 </min>
        <max>  0.35 </max>
      </range>
      <output>fcs/elevator-pos-rad</output>
   </aerosurface_scale>

   <aerosurface_scale name="Elevator Normalization">
      <input>fcs/elevator-pos-rad</input>
      <domain>
        <min> -0.35 </min>
        <max>  0.35 </max>
      </domain>
      <range>
        <min> -1 </min>
        <max>  1 </max>
      </range>
      <output>fcs/elevator-pos-norm</output>
   </aerosurface_scale>
  </channel>

  <channel name="Roll">
   <summer name="Roll Trim Sum">
      <input>fcs/aileron-cmd-norm</input>
      <input>fcs/roll-trim-cmd-norm</input>
      <clipto>
        <min> -1 </min>
        <max>  1 </max>
      </clipto>
   </summer>

   <aerosurface_scale name="Left Aileron Control">
      <input>fcs/roll-trim-sum</input>
      <range>
        <min> -0.35 </min>
        <max>  0.35 </max>
      </range>
      <output>fcs/left-aileron-pos-rad</output>
   </aerosurface_scale>

   <aerosurface_scale name="Right Aileron Control">
      <input>-fcs/roll-trim-sum</input>
      <range>
        <min> -0.35 </min>
        <max>  0.35 </max>
      </range>
      <output>fcs/right-aileron-pos-rad</output>
   </aerosurface_scale>

   <aerosurface_scale name="Left Aileron Normalization">
      <input>fcs/left-aileron-pos-rad</input>
      <domain>
        <min> -0.35 </min>
        <max>  0.35 </max>
      </domain>
      <range>
        <min> -1 </min>
        <max>  1 </max>
      </range>
      <output>fcs/left-aileron-pos-norm</output>
   </aerosurface_scale>

   <aerosurface_scale name="Right Aileron Normalization">
      <input>fcs/right-aileron-pos-rad</input>
      <domain>
        <min> -0.35 </min>
        <max>  0.35 </max>
      </domain>
      <range>
        <min> -1 </min>
        <max>  1 </max>
      </range>
      <output>fcs/right-aileron-pos-norm</output>
   </aerosurface_scale>
  </channel>

  <channel name="Yaw">
   <summer name="Rudder Command Sum">
      <input>fcs/rudder-cmd-norm</input>
      <input>fcs/yaw-trim-cmd-norm</input>
      <clipto>
        <min> -1 </min>
        <max>  1 </max>
      </clipto>
   </summer>

   <aerosurface_scale name="Rudder Control">
      <input>fcs/rudder-command-sum</input>
      <range>
        <min> -0.35 </min>
        <max>  0.35 </max>
      </range>
      <output>fcs/rudder-pos-rad</output>
   </aerosurface_scale>

   <aerosurface_scale name="Rudder Normalization">
      <input>fcs/rudder-pos-rad</input>
      <domain>
        <min> -0.35 </min>
        <max>  0.35 </max>
      </domain>
      <range>
        <min> -1 </min>
        <max>  1 </max>
      </range>
      <output>fcs/rudder-pos-norm</output>
   </aerosurface_scale>
  </channel>

</system>
<?xml version="1.0"?>
<system name="Flaps">
  <channel name="Flaps">
   <kinematic name="Flaps Control">
    <input>fcs/flap-cmd-norm</input>
    <traverse>
      <setting>
         <position>  0 </position>
         <time>      0 </time>
      </setting>
      <setting>
         <position> 15 </position>
         <time>      4 </time>
      </setting>
      <setting>
         <position> 30 </position>
         <time>      3 </time>
      </setting>
    </traverse>
    <output>fcs/flap-pos-deg</output>
   </kinematic>

   <aerosurface_scale name="Flap Normalization">
    <input>fcs/flap-pos-deg</input>
    <domain>
      <min>  0 </min>
      <max> 30 </max>
    </domain>
    <range>
      <min> 0 </min>
      <max> 1 </max>
    </range>
    <output>fcs/flap-pos-norm</output>
   </aerosurface_scale>
  </channel>

</system>
<?xml version="1.0"?>
<system name="Landing Gear">
  <channel name="Landing Gear">
   <kinematic name="Landing Gear Control">
     <input>gear/gear-cmd-norm</input>
     <traverse>
       <setting>
          <position> 0 </position>
          <time>     0 </time>
       </setting>
       <setting>
          <position> 1 </position>
          <time>     5 </time>
       </setting>
     </traverse>
     <output>gear/gear-pos-norm</output>
   </kinematic>
  </channel>

</system>
<?xml version="1.0"?>
<?xml-stylesheet type="text/xsl" href="http://jsbsim.sourceforge.net/JSBSim.xsl"?>

<fdm_config name="PC-7" version="2.0" release="ALPHA"
   xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
   xsi:noNamespaceSchemaLocation="http://jsbsim.sourceforge.net/JSBSim.xsd">

 <fileheader>
  <author> Aeromatic v 3.3.0 </author>
  <filecreationdate> 06 Jun 2016 </filecreationdate>
  <version>$Revision: 1.18 $</version>
  <description> Models a PC-7. </description>
  <note>
    This model was created using publicly available data, publicly available
    technical reports, textbooks, and guesses. It contains no proprietary or
    restricted data. If this model has been validated at all, it would be
    only to the extent that it seems to "fly right", and that it possibly
    complies with published, publicly known, performance data (maximum speed,
    endurance, etc.). Thus, this model is meant for educational and
    entertainment purposes only.

    This simulation model is not endorsed by the manufacturer.
  </note>
 </fileheader>

<!--
  File:     PC-7.xml
  Inputs:
    name:          PC-7
    type:          WWII fighter, subsonic sport, aerobatic
    stall speed:   75.05kts
    max weight:    5953.50 lb
    length:        32.09 ft
    wing: 
     span:         34.12 ft
     area:         178.68 sq-ft
     mean chord:   5.25 ft
     aspect ratio: 6.52:1
     taper ratio:  0.47:1
     incidence:    0.00 degrees
     dihedral:     7.00 degrees
     sweep:        1.00 degrees

    no. engines:   1
    engine type:   Turboprop Engine
    engine layout: forward fuselage

    gear type:     tricycle
    steering type: steering
    retractable?:  yes

  Outputs:
    wing loading:  33.32 lb/sq-ft
    payload:       2294.52 lbs
    CL-alpha:      4.96 per radian
    CL-0:          0.39
    CL-max:        1.75
    CD-0:          0.02
    K:             0.06
    Mcrit:         0.75
-->

 <metrics>
   <wingarea  unit="FT2">   178.68 </wingarea>
   <wingspan  unit="FT" >    34.12 </wingspan>
   <wing_incidence>           0.00 </wing_incidence>
   <chord     unit="FT" >     5.25 </chord>
   <htailarea unit="FT2">    30.38 </htailarea>
   <htailarm  unit="FT" >    19.25 </htailarm>
   <vtailarea  unit="FT2">   17.87 </vtailarea>
   <vtailarm  unit="FT" >    19.25 </vtailarm>
   <location name="AERORP" unit="IN">
     <x>   154.02 </x>
     <y>     0.00 </y>
     <z>     0.00 </z>
   </location>
   <location name="EYEPOINT" unit="IN">
     <x>   107.81 </x>
     <y>     0.00 </y>
     <z>    40.00 </z>
   </location>
   <location name="VRP" unit="IN">
     <x>     0.0 </x>
     <y>     0.0 </y>
     <z>     0.0 </z>
   </location>
 </metrics>

 <mass_balance>
   <ixx unit="SLUG*FT2">   1932.45 </ixx>
   <iyy unit="SLUG*FT2">   3038.07 </iyy>
   <izz unit="SLUG*FT2">   4401.45 </izz>
   <emptywt unit="LBS" >   2932.65 </emptywt>
   <location name="CG" unit="IN">
     <x>   154.02 </x>
     <y>     0.00 </y>
     <z>    -9.63 </z>
   </location>
   <pointmass name="Payload">
    <description> 2294.52 LBS should bring model up to entered max weight </description>
    <weight unit="LBS"> 1147.26 </weight>
    <location name="POINTMASS" unit="IN">
     <x>   154.02 </x>
     <y>     0.00 </y>
     <z>    -9.63 </z>
   </location>
  </pointmass>
 </mass_balance>

 <propulsion>

   <engine file="PT6A">
    <feed> 0 </feed>

    <thruster file="Propeller">
     <sense> 1 </sense>
     <location unit="IN">
       <x>    36.00 </x>
       <y>     0.00 </y>
       <z>     0.00 </z>
     </location>
     <orient unit="DEG">
       <pitch>     0.00 </pitch>
	<roll>     0.00 </roll>
	 <yaw>     0.00 </yaw>
     </orient>
    </thruster>
  </engine>

  <tank type="FUEL" number="0">
     <location unit="IN">
       <x>   154.02 </x>
       <y>     0.00 </y>
       <z>    -9.63 </z>
     </location>
     <capacity unit="LBS"> 363.16 </capacity>
     <contents unit="LBS"> 181.58 </contents>
  </tank>
  <tank type="FUEL" number="1">
     <location unit="IN">
       <x>   154.02 </x>
       <y>     0.00 </y>
       <z>    -9.63 </z>
     </location>
     <capacity unit="LBS"> 363.16 </capacity>
     <contents unit="LBS"> 181.58 </contents>
  </tank>

 </propulsion>

 <ground_reactions>

  <contact type="BOGEY" name="NOSE">
    <location unit="IN">
      <x>    50.06 </x>
      <y>     0.00 </y>
      <z>   -46.20 </z>
    </location>
    <static_friction>  0.80 </static_friction>
    <dynamic_friction> 0.50 </dynamic_friction>
    <rolling_friction> 0.02 </rolling_friction>
    <spring_coeff  unit="LBS/FT">     1786.05 </spring_coeff>
    <damping_coeff unit="LBS/FT/SEC"> 893.03 </damping_coeff>
    <max_steer unit="DEG"> 5.00 </max_steer>
    <brake_group> NONE </brake_group>
    <retractable> 1 </retractable>
  </contact>

  <contact type="BOGEY" name="LEFT_MAIN">
    <location unit="IN">
      <x>   160.18 </x>
      <y>   -61.42 </y>
      <z>   -46.20 </z>
    </location>
    <static_friction>  0.80 </static_friction>
    <dynamic_friction> 0.50 </dynamic_friction>
    <rolling_friction> 0.02 </rolling_friction>
    <spring_coeff  unit="LBS/FT">     5953.50 </spring_coeff>
    <damping_coeff unit="LBS/FT/SEC"> 2976.75 </damping_coeff>
    <max_steer unit="DEG">0</max_steer>
    <brake_group> LEFT </brake_group>
    <retractable> 1 </retractable>
  </contact>

  <contact type="BOGEY" name="RIGHT_MAIN">
    <location unit="IN">
      <x>   160.18 </x>
      <y>    61.42 </y>
      <z>   -46.20 </z>
    </location>
    <static_friction>  0.80 </static_friction>
    <dynamic_friction> 0.50 </dynamic_friction>
    <rolling_friction> 0.02 </rolling_friction>
    <spring_coeff  unit="LBS/FT">     5953.50 </spring_coeff>
    <damping_coeff unit="LBS/FT/SEC"> 2976.75 </damping_coeff>
    <max_steer unit="DEG">0</max_steer>
    <brake_group> RIGHT </brake_group>
    <retractable> 1 </retractable>
  </contact>

  <contact type="STRUCTURE" name="LEFT_WING">
    <location unit="IN">
     <x>   154.02 </x>
     <y>  -204.72 </y>
     <z>    -9.63 </z>
    </location>
   <static_friction>  1 </static_friction>
   <dynamic_friction> 1 </dynamic_friction>
   <spring_coeff unit="LBS/FT">      5953.50 </spring_coeff>
   <damping_coeff unit="LBS/FT/SEC"> 5953.50 </damping_coeff>
  </contact>

  <contact type="STRUCTURE" name="RIGHT_WING">
    <location unit="IN">
     <x>   154.02 </x>
     <y>   204.72 </y>
     <z>    -9.63 </z>
    </location>
   <static_friction>  1 </static_friction>
   <dynamic_friction> 1 </dynamic_friction>
   <spring_coeff unit="LBS/FT">      5953.50 </spring_coeff>
   <damping_coeff unit="LBS/FT/SEC"> 5953.50 </damping_coeff>
  </contact>

 </ground_reactions>

 <system file="Conventional Controls.xml"/>
 <system file="Landing Gear.xml"/>
 <system file="Flaps.xml"/>

 <flight_control name="FCS: PC-7">
   <channel name="Landing Gear">
    <switch name="fcs/gear-no-wow">
      <default value="1"/>
      <test logic="AND" value="0">
          gear/unit[1]/WOW eq 1
          gear/unit[2]/WOW eq 1
      </test>
    </switch>
  </channel>
 </flight_control>

 <aerodynamics>

    <function name="aero/function/kCDge">
      <description>Change_in_drag_due_to_ground_effect</description>
      <table>
          <independentVar>aero/h_b-mac-ft</independentVar>
          <tableData>
              0.0000        0.4800
              0.1000        0.5150
              0.1500        0.6290
              0.2000        0.7090
              0.3000        0.8150
              0.4000        0.8820
              0.5000        0.9280
              0.6000        0.9620
              0.7000        0.9880
              0.8000        1.0000
              0.9000        1.0000
              1.0000        1.0000
              1.1000        1.0000
          </tableData>
      </table>
  </function>

  <function name="aero/function/kCLge">
      <description>Change_in_lift_due_to_ground_effect</description>
      <table>
          <independentVar>aero/h_b-mac-ft</independentVar>
          <tableData>
              0.0000        1.2030
              0.1000        1.1270
              0.1500        1.0900
              0.2000        1.0730
              0.3000        1.0460
              0.4000        1.0550
              0.5000        1.0190
              0.6000        1.0130
              0.7000        1.0080
              0.8000        1.0060
              0.9000        1.0030
              1.0000        1.0020
              1.1000        1.0000
          </tableData>
      </table>
  </function>

   <function name="aero/function/velocity-induced-fps">
    <description> velocity including the propulsion induced velocity.</description>
    <sum>
      <property>velocities/u-aero-fps</property>
      <property>propulsion/engine/prop-induced-velocity_fps</property>
      <property>propulsion/engine/prop-induced-velocity_fps</property>
    </sum>
  </function>

  <function name="aero/function/qbar-induced-psf">
    <description> q bar including the propulsion induced velocity.</description>
    <product>
      <property>aero/function/velocity-induced-fps</property>
      <property>aero/function/velocity-induced-fps</property>
      <property>atmosphere/rho-slugs_ft3</property>
      <value>0.5</value>
    </product>
  </function>

  <axis name="LIFT">

    <function name="aero/force/Lift_propwash">
      <description>Delta lift due to propeller induced velocity</description>
      <product>
         <property>propulsion/engine[0]/thrust-coefficient</property>
          <property>aero/qbar-psf</property>
          <property>metrics/Sw-sqft</property>
          <table>
            <independentVar lookup="row">aero/alpha-rad</independentVar>
            <independentVar lookup="column">fcs/flap-pos-deg</independentVar>
            <tableData>
                     0.0     60.0
              -0.29  0.000   0.000
               0.00  0.087   0.232
               0.30  0.389   1.038
               0.59  0.000   0.000
            </tableData>
          </table>
      </product>
    </function>

    <function name="aero/force/Lift_alpha">
      <description>Lift due to alpha</description>
      <product>
          <property>aero/qbar-psf</property>
          <property>metrics/Sw-sqft</property>
          <property>aero/function/kCLge</property>
          <table>
            <independentVar lookup="row">aero/alpha-rad</independentVar>
            <tableData>
              -0.20 -0.6018
               0.00  0.3900
               0.27  1.7471
               0.60  0.9328
            </tableData>
          </table>
      </product>
    </function>

    <function name="aero/force/Lift_pitch_rate">
        <description>Lift due to pitch rate</description>
        <product>
          <property>aero/qbar-psf</property>
          <property>metrics/Sw-sqft</property>
          <property>velocities/q-aero-rad_sec</property>
          <property>aero/ci2vel</property>
          <value> 5.2675 </value>
        </product>
      </function>

      <function name="aero/force/Lift_alpha_rate">
        <description>Lift due to alpha rate</description>
        <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <property>aero/alphadot-rad_sec</property>
           <property>aero/ci2vel</property>
           <value> 2.4730 </value>
        </product>
      </function>

    <function name="aero/force/Lift_elevator">
       <description>Lift due to Elevator Deflection</description>
       <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <property>fcs/elevator-pos-rad</property>
           <value> 0.2903 </value>
       </product>
    </function>

    <function name="aero/force/Lift_flap">
       <description>Delta Lift due to flaps</description>
       <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <property>fcs/flap-pos-deg</property>
           <value> 0.0092 </value>
       </product>
    </function>


  </axis>

  <axis name="DRAG">

    <function name="aero/force/Drag_basic">
       <description>Drag at zero lift</description>
       <product>
          <property>aero/qbar-psf</property>
          <property>metrics/Sw-sqft</property>
          <table>
            <independentVar lookup="row">aero/alpha-rad</independentVar>
            <tableData>
             -1.57    1.4093
             -0.27    0.0749
              0.00    0.0197
              0.27    0.0749
              1.57    1.4093
            </tableData>
          </table>
       </product>
    </function>

    <function name="aero/force/Drag_induced">
       <description>Induced drag</description>
         <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <property>aero/cl-squared</property>
           <property>aero/function/kCDge</property>
           <value> 0.0522 </value>
         </product>
    </function>

    <function name="aero/force/Drag_mach">
       <description>Drag due to mach</description>
        <product>
          <property>aero/qbar-psf</property>
          <property>metrics/Sw-sqft</property>
          <table>
            <independentVar lookup="row">velocities/mach</independentVar>
            <tableData>
                0.00    0.0000
                0.75    0.0000
                1.10    0.0230
                1.80    0.0150
            </tableData>
          </table>
        </product>
    </function>

    <function name="aero/force/Drag_beta">
       <description>Drag due to sideslip</description>
       <product>
          <property>aero/qbar-psf</property>
          <property>metrics/Sw-sqft</property>
          <table>
            <independentVar lookup="row">aero/beta-rad</independentVar>
            <tableData>
              -1.57    1.2300
              -0.26    0.0500
               0.00    0.0000
               0.26    0.0500
               1.57    1.2300
            </tableData>
          </table>
       </product>
    </function>

    <function name="aero/force/Drag_elevator">
       <description>Drag due to Elevator Deflection</description>
       <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <abs><property>fcs/elevator-pos-rad</property></abs>
           <value> 0.0400 </value>
       </product>
    </function>

    <function name="aero/force/Drag_gear">
       <description>Drag due to gear</description>
         <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <property>gear/gear-pos-norm</property>
           <value> 0.0300 </value>
         </product>
    </function>

    <function name="aero/force/Drag_flap">
       <description>Drag due to flaps</description>
         <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <property>fcs/flap-pos-deg</property>
           <value> 0.0012 </value>
         </product>
    </function>


  </axis>

  <axis name="SIDE">

    <function name="aero/force/Side_beta">
       <description>Side force due to beta</description>
       <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <property>aero/beta-rad</property>
           <value> -0.2310 </value>
       </product>
    </function>
    <function name="aero/force/Side_roll_rate">
       <description>Side force due to roll rate</description>
       <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <property>aero/bi2vel</property>
           <property>velocities/p-aero-rad_sec</property>
           <table>
             <independentVar lookup="row">aero/Re</independentVar>
             <tableData>
                 4237447   0.2180
                 4661192   0.0191
                 6356170   0.0085
                 8404342   0.0049
             </tableData>
           </table>
       </product>
    </function>

    <function name="aero/force/Side_yaw_rate">
       <description>Side force due to yaw rate</description>
       <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <property>aero/bi2vel</property>
           <property>velocities/r-aero-rad_sec</property>
           <value> 0.2606 </value>
       </product>
    </function>

    <function name="aero/force/Side_rudder">
       <description>Side force due to rudder</description>
       <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <property>fcs/rudder-pos-rad</property>
           <value> 0.1407 </value>
       </product>
    </function>

  </axis>

  <axis name="PITCH">

    <function name="aero/moment/Pitch_propwash">
      <description>Pitch moment due to propeller induced velocity</description>
      <product>
          <property>propulsion/engine[0]/thrust-coefficient</property>
          <property>aero/qbar-psf</property>
          <property>metrics/Sw-sqft</property>
          <property>metrics/bw-ft</property>
          <table>
            <independentVar lookup="row">aero/alpha-rad</independentVar>
            <independentVar lookup="column">fcs/flap-pos-deg</independentVar>
            <tableData>
                     0.0     60.0
              -0.02  0.000   0.000
               0.00 -0.054  -0.144
               0.30 -0.243  -0.647
               0.39  0.000   0.000
            </tableData>
          </table>
      </product>
    </function>

    <function name="aero/moment/Pitch_alpha">
       <description>Pitch moment due to alpha</description>
       <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <property>metrics/cbarw-ft</property>
           <property>aero/alpha-rad</property>
           <value> -1.4070 </value>
       </product>
    </function>

    <function name="aero/moment/Pitch_elevator">
       <description>Pitch moment due to elevator</description>
       <product>
          <property>aero/function/qbar-induced-psf</property>
          <property>metrics/Sw-sqft</property>
          <property>metrics/cbarw-ft</property>
          <property>fcs/elevator-pos-rad</property>
          <table>
            <independentVar lookup="row">velocities/mach</independentVar>
            <tableData>
              0.0    -1.6414
              2.0    -0.4104
            </tableData>
          </table>
       </product>
    </function>

    <function name="aero/moment/Pitch_damp">
       <description>Pitch moment due to pitch rate</description>
       <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <property>metrics/cbarw-ft</property>
           <property>aero/ci2vel</property>
           <property>velocities/q-aero-rad_sec</property>
           <value> -19.3187 </value>
       </product>
    </function>

    <function name="aero/moment/Pitch_alphadot">
       <description>Pitch moment due to alpha rate</description>
       <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <property>metrics/cbarw-ft</property>
           <property>aero/ci2vel</property>
           <property>aero/alphadot-rad_sec</property>
           <value> -9.0698 </value>
       </product>
    </function>

  </axis>

  <axis name="ROLL">

    <function name="aero/moment/Roll_differential_propwash">
       <description>Roll moment due to differential propwash</description>
       <product>
           <property>propulsion/engine[0]/thrust-coefficient</property>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <property>metrics/bw-ft</property>
           <property>aero/alpha-rad</property>
           <value> 0.1607 </value>
       </product>
    </function>

    <function name="aero/moment/Roll_beta">
       <description>Roll moment due to beta</description>
       <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <property>metrics/bw-ft</property>
           <property>aero/beta-rad</property>
           <table>
             <independentVar lookup="row">aero/alpha-rad</independentVar>
             <independentVar lookup="column">aero/Re</independentVar>
             <tableData>
                          4237447  4661192  6356170  8404342
                 -0.0349  -0.5540  -0.1534  -0.1320  -0.1247
                  0.3491  -0.6227  -0.1610  -0.1399  -0.1332
             </tableData>
           </table>
       </product>
    </function>

    <function name="aero/moment/Roll_damp">
       <description>Roll moment due to roll rate</description>
       <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <property>metrics/bw-ft</property>
           <property>aero/bi2vel</property>
           <property>velocities/p-aero-rad_sec</property>
           <value> -0.4643 </value>
       </product>
    </function>

    <function name="aero/moment/Roll_yaw">
       <description>Roll moment due to yaw rate</description>
       <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <property>metrics/bw-ft</property>
           <property>aero/bi2vel</property>
           <property>velocities/r-aero-rad_sec</property>
           <table>
             <independentVar lookup="row">aero/alpha-rad</independentVar>
             <independentVar lookup="column">aero/Re</independentVar>
             <tableData>
                          4237447  4661192  6356170  8404342
                 -0.0349   0.5608   0.0881   0.0629   0.0542
                  0.3491   4.8743   0.5642   0.5389   0.5302
             </tableData>
           </table>
       </product>
    </function>

    <function name="aero/moment/Roll_aileron">
       <description>Roll moment due to aileron</description>
       <product>
          <property>aero/qbar-psf</property>
          <property>metrics/Sw-sqft</property>
          <property>metrics/bw-ft</property>
          <property>fcs/left-aileron-pos-rad</property>
           <table>
            <independentVar lookup="row">velocities/mach</independentVar>
            <tableData>
              0.0    0.1800
              2.0    0.0450
            </tableData>
          </table>
       </product>
    </function>

    <function name="aero/moment/Roll_rudder">
       <description>Roll moment due to rudder</description>
       <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <property>metrics/bw-ft</property>
           <property>fcs/rudder-pos-rad</property>
           <value> 0.0100 </value>
       </product>
    </function>

  </axis>

  <axis name="YAW">

    <!-- Stall initiator -->
    <function name="aero/moment/Yaw_alpha">
       <description>Yaw moment due to alpha</description>
       <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <property>metrics/bw-ft</property>
           <property>aero/alpha-rad</property>
           <property>fcs/gear-no-wow</property>
           <table>
             <independentVar lookup="row">aero/beta-rad</independentVar>
             <independentVar lookup="column">aero/Re</independentVar>
             <tableData>
                          4237447  4261192
                 -0.3491  -1.0000   0.0000
                  0.3491   1.0000   0.0000
             </tableData>
           </table>
       </product>
    </function>

    <function name="aero/moment/Yaw_beta">
       <description>Yaw moment due to beta</description>
       <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <property>metrics/bw-ft</property>
           <property>aero/beta-rad</property>
           <value> 0.1303 </value>
       </product>
    </function>

    <function name="aero/moment/Yaw_roll_rate">
       <description>Yaw moment due to roll rate</description>
       <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <property>metrics/bw-ft</property>
           <property>aero/bi2vel</property>
           <property>velocities/p-rad_sec</property>
           <table>
             <independentVar lookup="row">aero/Re</independentVar>
             <tableData>
                 4237447  -2.1839
                 4661192  -0.1917
                 6356170  -0.0852
                 8404342  -0.0487
             </tableData>
           </table>
       </product>
    </function>

    <function name="aero/moment/Yaw_damp">
       <description>Yaw moment due to yaw rate</description>
       <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <property>metrics/bw-ft</property>
           <property>aero/bi2vel</property>
           <property>velocities/r-aero-rad_sec</property>
           <value> -0.1585 </value>
       </product>
    </function>

    <function name="aero/moment/Yaw_rudder">
       <description>Yaw moment due to rudder</description>
       <product>
           <property>aero/function/qbar-induced-psf</property>
           <property>metrics/Sw-sqft</property>
           <property>metrics/bw-ft</property>
           <property>fcs/rudder-pos-rad</property>
           <value> -0.0794 </value>
       </product>
    </function>

    <function name="aero/moment/Yaw_aileron">
       <description>Adverse yaw</description>
       <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <property>metrics/bw-ft</property>
           <property>fcs/left-aileron-pos-rad</property>
           <value> -0.0030 </value>
       </product>
    </function>

  </axis>

 </aerodynamics>

 <external_reactions>
 </external_reactions>

</fdm_config>
<?xml version="1.0"?>
<!-- Generated by Java Prop

     Inputs:

Diameter  D	4.66 [m]
Spinner Dia.  Dsp	2.3 [m]
Speed of Rotation  n	2500 [1/min]
Velocity  v	200.000 [m/s]
Number of Blades  B	6 [-]
square tip
     Outputs:
v/(nD)	1.03	v/(OR)	0.328
Efficiency ?	85.776 %	loading	low
Thrust  T	17,584.13 N	Ct	0.0176
Power  P	4,099.99 kW	Cp	0.0211
B at 75%R	27.1	Pitch H	5.61 m
v/(nD)	1.03	v/(OR)	0.328
Efficiency ?	85.776 %	loading	low
Thrust  T	17,584.13 N	Ct	0.0176
Power  P	4,099.99 kW	Cp	0.0211
B at 75%R	27.1	Pitch H	5.61 m
       static thrust (kN):25.38
-->

<propeller name="prop">
  <ixx> 7.9504 </ixx>
  <diameter unit="IN"> 183.5 </diameter>
  <numblades> 6 </numblades>
  <gearratio>1.00 </gearratio>

  <table name="C_THRUST" type="internal">
     <tableData>
0.00	0.038163
0.05	0.045115
0.10	0.046475
0.15	0.045026
0.20	0.044015
0.25	0.043101
0.30	0.042092
0.35	0.041006
0.40	0.039864
0.45	0.038708
0.50	0.037681
0.55	0.036689
0.60	0.035682
0.65	0.034650
0.70	0.033574
0.75	0.033193
0.80	0.032219
0.85	0.030209
0.90	0.027452
0.95	0.023779
1.00	0.019926
1.05	0.016033
1.10	0.012099
1.11	0.011307
1.12	0.010513
1.13	0.009718
1.14	0.008921
1.15	0.008121
1.16	0.007319
1.17	0.006517
1.18	0.005712
1.19	0.004904
1.20	0.004083
1.21	0.003258
1.22	0.002424
1.23	0.001605
1.24	0.000783
1.25	-0.000051
1.26	-0.000885
1.27	-0.001719
1.28	-0.002553
1.29	-0.003387
1.30	-0.004221
     </tableData>
  </table>


  <table name="C_POWER" type="internal">
     <tableData>
0.00	0.038939
0.05	0.044732
0.10	0.045131
0.15	0.043421
0.20	0.042548
0.25	0.041868
0.30	0.041205
0.35	0.040582
0.40	0.040017
0.45	0.039394
0.50	0.038678
0.55	0.038334
0.60	0.037981
0.65	0.037702
0.70	0.037267
0.75	0.034058
0.80	0.032719
0.85	0.031415
0.90	0.029491
0.95	0.026607
1.00	0.023278
1.05	0.019629
1.10	0.015659
1.11	0.014826
1.12	0.013981
1.13	0.013124
1.14	0.012254
1.15	0.011371
1.16	0.010476
1.17	0.009571
1.18	0.008654
1.19	0.007728
1.20	0.006781
1.21	0.005827
1.22	0.004856
1.23	0.003893
1.24	0.002919
1.25	0.001919
1.30	-0.003081
     </tableData>
  </table>

</propeller>
<?xml version="1.0"?>
<!--
MILTHRUST   [LBS]
MAXTHRUST   [LBS]
idlen1      [%]
maxn1       [%]
betarangeend[%]
    if ThrottleCmd < betarangeend/100.0 then engine power=idle, propeller pitch
    is controled by ThrottleCmd (between MINPITCH and  REVERSEPITCH).
    if ThrottleCmd > betarangeend/100.0 then engine power increases up to max reverse power
reversemaxpower [%]
    max engine power in reverse mode
maxpower    [HP]
psfc power specific fuel consumption [pph/HP] for N1=100%
n1idle_max_delay [-] time constant for N1 change
maxstartenginetime [sec]
    after this time the automatic starting cycle is interrupted when the engine
    doesn't start (0=automatic starting not present)
startern1   [%]
    when starting starter spin up engine to this spin
ielumaxtorque [lb.ft]
    if torque>ielumaxtorque limiters decrease the throttle
    (ielu = Integrated Electronic Limiter Unit)
itt_delay [-] time constant for ITT change
    (ITT = Inter Turbine Temperature)
-->
<!--
  File:     Allison YT40-A-16.xml
  Author:   
-->

<turboprop_engine name="Allison YT40-A-16 ">
  <milthrust unit="LBS">      12320.0   </milthrust>
  <idlen1>                       30.0   </idlen1>
  <maxn1>                       101.0   </maxn1>
  <idlen2>                       60.0   </idlen2>
  <maxn2>                       100.0   </maxn2>
  <maxpower unit="HP">         7000.0   </maxpower>
  <psfc unit="LBS/HR/HP">         0.669 </psfc>
  <idlefuelflow>                 50.0   </idlefuelflow>
  <n1idle_max_delay>              1     </n1idle_max_delay>
  <maxstartingtime>              20     </maxstartingtime>
  <startern1>                    20     </startern1>
  <ielumaxtorque unit="FT*LB">15000     </ielumaxtorque>
  <itt_delay>                     0.05  </itt_delay>
  <betarangeend>                 34     </betarangeend>
  <reversemaxpower>              60     </reversemaxpower>

  <table name="EnginePowerVC">
    <description> Engine power, function of airspeed and pressure </description>
    <independentVar lookup="row">atmosphere/P-psf</independentVar>
    <independentVar lookup="column">velocities/ve-kts</independentVar>
    <tableData>
                 0     50    100    150    200    250
       503   0.357  0.380  0.400  0.425  0.457  0.486
      1048   0.586  0.589  0.600  0.621  0.650  0.686
      1328   0.707  0.721  0.731  0.757  0.786  0.821
      1496   0.779  0.786  0.808  0.821  0.857  0.900
      1684   0.850  0.857  0.874  0.900  0.943  0.979
      1896   0.914  0.929  0.946  0.971  1      1.057
      2135   1      1.011  1.029  1.043  1.083  1.150
      2213   1.029  1.043  1.057  1.079  1.114  1.171
    </tableData>
  </table>

  <table name="EnginePowerRPM_N1" type="internal">
    <description> Engine Power, function of RPM and N1 </description>
    <tableData>
		0	5	60	86	94	95	96	97	98	99	100	101
	0	0.0	4.0	4.0	4.0	4.0	4.0	4.0	4.0	4.0	4.0	4.0	4.0
	800	0.0	4.0	282.6	1615.1	2826.4	3068.6	3391.7	3714.7	4037.7	4279.9	4683.7	5006.7
	1200	0.0	4.0	242.3	1857.3	3230.1	3472.4	3795.4	4078.1	4441.5	4764.5	5168.2	5491.3
	1600	0.0	4.0	40.4	1938.1	3553.2	3835.8	4118.4	4441.5	4804.8	5087.5	5491.3	5814.3
	2000	0.0	0.8	0.8	1817.0	3633.9	3997.3	4239.6	4562.6	4926.0	5249.0	5652.8	6016.2
	2200	0.0	0.8	0.8	1655.5	3553.2	3876.2	4158.8	4522.2	4885.6	5208.6	5612.4	6000.0
    </tableData>
  </table>

  <table name="ITT_N1" type="internal">
    <description> Inter-Turbine Temperature ITT [deg C] depending on N1 and engine run (0=off / 1=running) </description>
    <tableData>
              0     1
        0     0     0
       15   100   100
       60   180   520
       96   270   680
      100   280   730
    </tableData>
  </table>

</turboprop_engine> 
// This file instructs the automatic synchronization utilities where to
// install this aircraft and under what name.
//
// The syntax is easy;
// * the package name at the beginning of a new line followed by a colon
// * a space as a column separator
// * the path and filename relative to the aircraft install directory
//
// Currently known package names are: FlightGear

FlightGear:
<?xml version="1.0"?>
<?xml-stylesheet type="text/xsl" href="http://jsbsim.sourceforge.net/JSBSim.xsl"?>
<fdm_config name="Pogo" version="2.0" release="ALPHA"
   xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
   xsi:noNamespaceSchemaLocation="http://jsbsim.sourceforge.net/JSBSim.xsd">

<fileheader>
  <author> Aeromatic v 0.91 </author>
  <filecreationdate> 2009-07-24 </filecreationdate>
  <version>$Revision: 1.2 $</version>
  <description> Models a Pogo. </description>
  <note>
  This model was created using publicly available data, publicly available
  technical reports, textbooks, and guesses. It contains no proprietary or
  restricted data. If this model has been validated at all, it would be
  only to the extent that it seems to "fly right", and that it possibly
  complies with published, publicly known, performance data (maximum speed,
  endurance, etc.). Thus, this model is meant for educational and entertainment
  purposes only.

  This simulation model is not endorsed by the manufacturer. This model is not
  to be sold.
  </note>
</fileheader>

<!--
  File:     Pogo.xml
  Inputs:
    name:          Pogo
    type:          WWII fighter, subsonic sport, aerobatic
    max weight:    16000.0 lb
    wing span:     25.3 ft
    length:        29.1 ft
    wing area:     336.5 sq-ft
    gear type:     taildragger
    retractable?:  yes
    # engines:     1
    engine type:   piston
    engine layout: forward fuselage
    yaw damper?    no

  Outputs:
    wing loading:  47.55 lb/sq-ft
    CL-alpha:      4.5 per radian
    CL-0:          0.17
    CL-max:        1.2
    CD-0:          0.02
    K:             0.06

-->

 <metrics>
   <wingarea  unit="FT2">  336.50 </wingarea>
   <wingspan  unit="FT" >   25.30 </wingspan>
   <wing_incidence>          2.00 </wing_incidence>
   <chord     unit="FT" >   13.30 </chord>
   <htailarea unit="FT2">   57.21 </htailarea>
   <htailarm  unit="FT" >   17.46 </htailarm>
   <vtailarea unit="FT2">   33.65 </vtailarea>
   <vtailarm  unit="FT" >   17.46 </vtailarm>
   <location name="AERORP" unit="IN">
     <x> 139.68 </x>
     <y>   0.00 </y>
     <z>   0.00 </z>
   </location>
   <location name="EYEPOINT" unit="IN">
     <x>  97.78 </x>
     <y>   0.00 </y>
     <z>  40.00 </z>
   </location>
   <location name="VRP" unit="IN">
     <x>0</x>
     <y>0</y>
     <z>0</z>
   </location>
 </metrics>

 <mass_balance>
   <ixx unit="SLUG*FT2">      12016 </ixx>
   <iyy unit="SLUG*FT2">      23361 </iyy>
   <izz unit="SLUG*FT2">      30647 </izz>
   <emptywt unit="LBS" >      11700 </emptywt>
   <location name="CG" unit="IN">
     <x> 139.68 </x>
     <y>   0.00 </y>
     <z>  -8.73 </z>
   </location>
 </mass_balance>

 <ground_reactions>

  <contact type="BOGEY" name="LEFT">
   <location unit="IN">
     <x> 200 </x>
     <y>-154 </y>
     <z> 0 </z>
   </location>
   <orientation unit="DEG">
      <pitch>-80.00 </pitch>
      <roll>  0.00 </roll>
      <yaw>   0.00 </yaw>
   </orientation>
   <static_friction>  0.80 </static_friction>
   <dynamic_friction> 0.50 </dynamic_friction>
   <rolling_friction> 0.02 </rolling_friction>
   <spring_coeff unit="LBS/FT">      8000.00 </spring_coeff>
   <damping_coeff unit="LBS/FT/SEC"> 1600.00 </damping_coeff>
   <max_steer unit="DEG">360</max_steer>
   <brake_group>LEFT</brake_group>
   <retractable>0</retractable>
 </contact>

  <contact type="BOGEY" name="RIGHT">
   <location unit="IN">
     <x> 200 </x>
     <y> 154 </y>
     <z> 0 </z>
   </location>
   <orientation unit="DEG">
      <pitch>-80.00 </pitch>
      <roll>  0.00 </roll>
      <yaw>   0.00 </yaw>
   </orientation>
   <static_friction>  0.80 </static_friction>
   <dynamic_friction> 0.50 </dynamic_friction>
   <rolling_friction> 0.02 </rolling_friction>
   <spring_coeff unit="LBS/FT">      8000.00 </spring_coeff>
   <damping_coeff unit="LBS/FT/SEC"> 1600.00 </damping_coeff>
   <max_steer unit="DEG">360</max_steer>
   <brake_group>RIGHT</brake_group>
   <retractable>0</retractable>
 </contact>

  <contact type="BOGEY" name="TAIL">
   <location unit="IN">
     <x> 200 </x>
     <y>   0.00 </y>
     <z> 128 </z>
   </location>
   <orientation unit="DEG">
      <pitch>-80.00 </pitch>
      <roll>  0.00 </roll>
      <yaw>   0.00 </yaw>
   </orientation>
   <static_friction>  0.80 </static_friction>
   <dynamic_friction> 0.50 </dynamic_friction>
   <rolling_friction> 0.02 </rolling_friction>
   <spring_coeff unit="LBS/FT">      8000.00 </spring_coeff>
   <damping_coeff unit="LBS/FT/SEC"> 1600.00 </damping_coeff>
   <max_steer unit="DEG"> 360 </max_steer>
   <brake_group>NONE</brake_group>
   <retractable>0</retractable>
 </contact>

  <contact type="BOGEY" name="Fin">
   <location unit="IN">
     <x> 200 </x>
     <y>   0.00 </y>
     <z> -128 </z>
   </location>
   <orientation unit="DEG">
      <pitch>-80.00 </pitch>
      <roll>  0.00 </roll>
      <yaw>   0.00 </yaw>
   </orientation>
   <static_friction>  0.80 </static_friction>
   <dynamic_friction> 0.50 </dynamic_friction>
   <rolling_friction> 0.02 </rolling_friction>
   <spring_coeff unit="LBS/FT">      8000.00 </spring_coeff>
   <damping_coeff unit="LBS/FT/SEC"> 1600.00 </damping_coeff>
   <max_steer unit="DEG"> 360 </max_steer>
   <brake_group>NONE</brake_group>
   <retractable>0</retractable>
 </contact>

  <contact type="STRUCTURE" name="NOSE">
    <location unit="IN">
     <x>-160 </x>
     <y> 0 </y>
     <z> 0 </z>
    </location>
    <static_friction>  0.80 </static_friction>
    <dynamic_friction> 0.50 </dynamic_friction>
    <spring_coeff unit="LBS/FT">      3200.00 </spring_coeff>
    <damping_coeff unit="LBS/FT/SEC">  640.00 </damping_coeff>
 </contact>
<!--
  <contact type="STRUCTURE" name="LEFT_WING">
    <location unit="IN">
     <x> 139.68 </x>
     <y> -12.65 </y>
     <z>  -8.73 </z>
    </location>
    <static_friction>  0.80 </static_friction>
    <dynamic_friction> 0.50 </dynamic_friction>
    <spring_coeff unit="LBS/FT">      16000.00 </spring_coeff>
    <damping_coeff unit="LBS/FT/SEC">  3200.00 </damping_coeff>
 </contact>

  <contact type="STRUCTURE" name="RIGHT_WING">
    <location unit="IN">
     <x> 139.68 </x>
     <y>  12.65 </y>
     <z>  -8.73 </z>
    </location>
    <static_friction>  0.80 </static_friction>
    <dynamic_friction> 0.50 </dynamic_friction>
    <spring_coeff unit="LBS/FT">      16000.00 </spring_coeff>
    <damping_coeff unit="LBS/FT/SEC">  3200.00 </damping_coeff>
 </contact>
-->
 </ground_reactions>

 <propulsion>

   <engine file="YT40-A-16">
    <feed>0</feed>
    <feed>1</feed>
    <thruster file="Pogo_prop">
     <location unit="IN">
       <x>  36.00 </x>
       <y>   0.00 </y>
       <z>   0.00 </z>
     </location>
     <orient unit="DEG">
       <pitch> 0.00 </pitch>
       <roll>   0.00 </roll>
       <yaw>   0.00 </yaw>
     </orient>
     <sense> 1.0 </sense>
     <p_factor> 1.0 </p_factor>
     </thruster>
  </engine>

  <tank type="FUEL" number="0">
     <location unit="IN">
       <x> 139.68 </x>
       <y>   0.00 </y>
       <z>  -8.73 </z>
     </location>
     <capacity unit="LBS"> 1000.00 </capacity>
     <contents unit="LBS"> 500.00 </contents>
  </tank>

  <tank type="FUEL" number="1">
     <location unit="IN">
       <x> 139.68 </x>
       <y>   0.00 </y>
       <z>  -8.73 </z>
     </location>
     <capacity unit="LBS"> 1000.00 </capacity>
     <contents unit="LBS"> 500.00 </contents>
  </tank>

 </propulsion>

 <flight_control name="FCS: Pogo">

  <channel name="Pitch">
   <summer name="Pitch Trim Sum">
      <input>fcs/elevator-cmd-norm</input>
      <input>fcs/pitch-trim-cmd-norm</input>
      <clipto>
        <min> -1 </min>
        <max>  1 </max>
      </clipto>
   </summer>

   <aerosurface_scale name="Elevator Control">
      <input>fcs/pitch-trim-sum</input>
      <range>
        <min> -0.35 </min>
        <max>  0.35 </max>
      </range>
      <output>fcs/elevator-pos-rad</output>
   </aerosurface_scale>

   <aerosurface_scale name="elevator normalization">
      <input>fcs/elevator-pos-rad</input>
      <domain>
        <min> -0.35 </min>
        <max>  0.35 </max>
      </domain>
      <range>
        <min> -1 </min>
        <max>  1 </max>
      </range>
      <output>fcs/elevator-pos-norm</output>
   </aerosurface_scale>

  </channel>

  <channel name="Roll">
   <summer name="Roll Trim Sum">
      <input>fcs/aileron-cmd-norm</input>
      <input>fcs/roll-trim-cmd-norm</input>
      <clipto>
        <min> -1 </min>
        <max>  1 </max>
      </clipto>
   </summer>

   <aerosurface_scale name="Left Aileron Control">
      <input>fcs/roll-trim-sum</input>
      <range>
        <min> -0.35 </min>
        <max>  0.35 </max>
      </range>
      <output>fcs/left-aileron-pos-rad</output>
   </aerosurface_scale>

   <aerosurface_scale name="Right Aileron Control">
      <input>fcs/roll-trim-sum</input>
      <range>
        <min> -0.35 </min>
        <max>  0.35 </max>
      </range>
      <output>fcs/right-aileron-pos-rad</output>
   </aerosurface_scale>

   <aerosurface_scale name="left aileron normalization">
      <input>fcs/left-aileron-pos-rad</input>
      <domain>
        <min> -0.35 </min>
        <max>  0.35 </max>
      </domain>
      <range>
        <min> -1 </min>
        <max>  1 </max>
      </range>
      <output>fcs/left-aileron-pos-norm</output>
   </aerosurface_scale>

   <aerosurface_scale name="right aileron normalization">
      <input>fcs/right-aileron-pos-rad</input>
      <domain>
        <min> -0.35 </min>
        <max>  0.35 </max>
      </domain>
      <range>
        <min> -1 </min>
        <max>  1 </max>
      </range>
      <output>fcs/right-aileron-pos-norm</output>
   </aerosurface_scale>

  </channel>

  <channel name="Yaw">
   <summer name="Rudder Command Sum">
      <input>fcs/rudder-cmd-norm</input>
      <input>fcs/yaw-trim-cmd-norm</input>
      <clipto>
        <min> -0.35 </min>
        <max>  0.35 </max>
      </clipto>
   </summer>

   <aerosurface_scale name="Rudder Control">
      <input>fcs/rudder-command-sum</input>
      <range>
        <min> -0.35 </min>
        <max>  0.35 </max>
      </range>
      <output>fcs/rudder-pos-rad</output>
   </aerosurface_scale>

   <aerosurface_scale name="rudder normalization">
      <input>fcs/rudder-pos-rad</input>
      <domain>
        <min> -0.35 </min>
        <max>  0.35 </max>
      </domain>
      <range>
        <min> -1 </min>
        <max>  1 </max>
      </range>
      <output>fcs/rudder-pos-norm</output>
   </aerosurface_scale>

  </channel>

  <channel name="Flaps">
   <kinematic name="Flaps Control">
     <input>fcs/flap-cmd-norm</input>
     <traverse>
       <setting>
          <position>  0 </position>
          <time>      0 </time>
       </setting>
       <setting>
          <position> 15 </position>
          <time>      4 </time>
       </setting>
       <setting>
          <position> 30 </position>
          <time>      3 </time>
       </setting>
     </traverse>
     <output>fcs/flap-pos-deg</output>
   </kinematic>

   <aerosurface_scale name="flap normalization">
      <input>fcs/flap-pos-deg</input>
      <domain>
        <min>  0 </min>
        <max> 30 </max>
      </domain>
      <range>
        <min> 0 </min>
        <max> 1 </max>
      </range>
      <output>fcs/flap-pos-norm</output>
   </aerosurface_scale>

  </channel>

  <channel name="Landing Gear">
   <kinematic name="Gear Control">
     <input>gear/gear-cmd-norm</input>
     <traverse>
       <setting>
          <position> 0 </position>
          <time>     0 </time>
       </setting>
       <setting>
          <position> 1 </position>
          <time>     5 </time>
       </setting>
     </traverse>
     <output>gear/gear-pos-norm</output>
   </kinematic>

  </channel>

  <channel name="Speedbrake">
   <kinematic name="Speedbrake Control">
     <input>fcs/speedbrake-cmd-norm</input>
     <traverse>
       <setting>
          <position> 0 </position>
          <time>     0 </time>
       </setting>
       <setting>
          <position> 1 </position>
          <time>     1 </time>
       </setting>
     </traverse>
     <output>fcs/speedbrake-pos-norm</output>
   </kinematic>

  </channel>

 </flight_control>

 <aerodynamics>

  <axis name="LIFT">

    <function name="aero/coefficient/CLalpha">
      <description>Lift_due_to_alpha</description>
      <product>
          <property>aero/qbar-psf</property>
          <property>metrics/Sw-sqft</property>
          <table>
            <independentVar lookup="row">aero/alpha-rad</independentVar>
            <tableData>
              -0.20 -0.730
               0.00 0.170
             0.23    1.200
               0.60 0.582
            </tableData>
          </table>
      </product>
    </function>

    <function name="aero/coefficient/dCLflap">
       <description>Delta_Lift_due_to_flaps</description>
       <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <property>fcs/flap-pos-deg</property>
           <value> 0.01000 </value>
       </product>
    </function>

    <function name="aero/coefficient/dCLsb">
       <description>Delta_Lift_due_to_speedbrake</description>
       <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <property>fcs/speedbrake-pos-norm</property>
           <value>0</value>
       </product>
    </function>

    <function name="aero/coefficient/CLde">
       <description>Lift_due_to_Elevator_Deflection</description>
       <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <property>fcs/elevator-pos-rad</property>
           <value>0.2</value>
       </product>
    </function>

  </axis>

  <axis name="DRAG">

    <function name="aero/coefficient/CD0">
       <description>Drag_at_zero_lift</description>
       <product>
          <property>aero/qbar-psf</property>
          <property>metrics/Sw-sqft</property>
          <table>
            <independentVar lookup="row">aero/alpha-rad</independentVar>
            <tableData>
             -1.57       1.500
             -0.26    0.026
              0.00    0.020
              0.26    0.026
              1.57       1.500
            </tableData>
          </table>
       </product>
    </function>

    <function name="aero/coefficient/CDi">
       <description>Induced_drag</description>
         <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <property>aero/cl-squared</property>
           <value>0.06</value>
         </product>
    </function>

    <function name="aero/coefficient/CDmach">
       <description>Drag_due_to_mach</description>
        <product>
          <property>aero/qbar-psf</property>
          <property>metrics/Sw-sqft</property>
          <table>
            <independentVar lookup="row">velocities/mach</independentVar>
            <tableData>
                0.00      0.000
                0.75      0.000
                1.10      0.023
                1.80      0.015
            </tableData>
          </table>
        </product>
    </function>

    <function name="aero/coefficient/CDflap">
       <description>Drag_due_to_flaps</description>
         <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <property>fcs/flap-pos-deg</property>
           <value> 0.00133 </value>
         </product>
    </function>

    <function name="aero/coefficient/CDgear">
       <description>Drag_due_to_gear</description>
         <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <property>gear/gear-pos-norm</property>
           <value>0.03</value>
         </product>
    </function>

    <function name="aero/coefficient/CDsb">
       <description>Drag_due_to_speedbrakes</description>
         <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <property>fcs/speedbrake-pos-norm</property>
           <value>0.02</value>
         </product>
    </function>

    <function name="aero/coefficient/CDbeta">
       <description>Drag_due_to_sideslip</description>
       <product>
          <property>aero/qbar-psf</property>
          <property>metrics/Sw-sqft</property>
          <table>
            <independentVar lookup="row">aero/beta-rad</independentVar>
            <tableData>
              -1.57       1.230
              -0.26    0.050
               0.00       0.000
               0.26    0.050
               1.57       1.230
            </tableData>
          </table>
       </product>
    </function>

    <function name="aero/coefficient/CDde">
       <description>Drag_due_to_Elevator_Deflection</description>
       <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <property>fcs/mag-elevator-pos-rad</property>
           <value>0.04</value>
       </product>
    </function>

  </axis>

  <axis name="SIDE">

    <function name="aero/coefficient/CYb">
       <description>Side_force_due_to_beta</description>
       <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <property>aero/beta-rad</property>
           <value>-1</value>
       </product>
    </function>

  </axis>

  <axis name="ROLL">

    <function name="aero/coefficient/Clprop">
       <description>HACK_Roll_moment_countering_prop_torque</description>
       <product>
           <property>moments/l-prop-lbsft</property>
           <value>-1.0</value>
       </product>
    </function>

    <function name="aero/coefficient/Clb">
       <description>Roll_moment_due_to_beta</description>
       <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <property>metrics/bw-ft</property>
           <property>aero/beta-rad</property>
           <value>-0.1</value>
       </product>
    </function>

    <function name="aero/coefficient/Clp">
       <description>Roll_moment_due_to_roll_rate</description>
       <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <property>metrics/bw-ft</property>
           <property>aero/bi2vel</property>
           <property>velocities/p-aero-rad_sec</property>
           <value>-0.4</value>
       </product>
    </function>

    <function name="aero/coefficient/Clr">
       <description>Roll_moment_due_to_yaw_rate</description>
       <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <property>metrics/bw-ft</property>
           <property>aero/bi2vel</property>
           <property>velocities/r-aero-rad_sec</property>
           <value>0.15</value>
       </product>
    </function>

    <function name="aero/coefficient/Clda">
       <description>Roll_moment_due_to_aileron</description>
       <product>
          <property>aero/qbar-psf</property>
          <property>metrics/Sw-sqft</property>
          <property>metrics/bw-ft</property>
          <property>fcs/left-aileron-pos-rad</property>
          <table>
            <independentVar lookup="row">velocities/mach</independentVar>
            <tableData>
              0.0    0.180
              2.0    0.060
            </tableData>
          </table>
       </product>
    </function>

    <function name="aero/coefficient/Cldr">
       <description>Roll_moment_due_to_rudder</description>
       <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <property>metrics/bw-ft</property>
           <property>fcs/rudder-pos-rad</property>
           <value>0.01</value>
       </product>
    </function>

  </axis>

  <axis name="PITCH">

    <function name="aero/coefficient/Cmalpha">
       <description>Pitch_moment_due_to_alpha</description>
       <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <property>metrics/cbarw-ft</property>
           <table>
             <independentVar lookup="row">aero/alpha-rad</independentVar>
             <tableData>
              -3.14159 0.0
              -2.36   -0.175
              -1.57    0.0
              -0.7     0.175
              -0.35    0.175
               0.0     0.0
               0.35   -0.175
               0.7    -0.175
               1.57    0.0
               2.36    0.175 
               3.14159 0.0
             </tableData>
           </table>
       </product>
    </function>

    <function name="aero/coefficient/Cmde">
       <description>Pitch_moment_due_to_elevator</description>
       <product>
          <property>aero/qbar-psf</property>
          <property>metrics/Sw-sqft</property>
          <property>metrics/cbarw-ft</property>
          <property>fcs/elevator-pos-rad</property>
          <table>
            <independentVar lookup="row">velocities/mach</independentVar>
            <tableData>
              0.0     -1.000
              2.0     -0.250
            </tableData>
          </table>
       </product>
    </function>

    <function name="aero/coefficient/Cmq">
       <description>Pitch_moment_due_to_pitch_rate</description>
       <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <property>metrics/cbarw-ft</property>
           <property>aero/ci2vel</property>
           <property>velocities/q-aero-rad_sec</property>
           <value>-15</value>
       </product>
    </function>

    <function name="aero/coefficient/Cmadot">
       <description>Pitch_moment_due_to_alpha_rate</description>
       <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <property>metrics/cbarw-ft</property>
           <property>aero/ci2vel</property>
           <property>aero/alphadot-rad_sec</property>
           <value>-7</value>
       </product>
    </function>

  </axis>

  <axis name="YAW">

    <function name="aero/coefficient/Cnb">
       <description>Yaw_moment_due_to_beta</description>
       <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <property>metrics/bw-ft</property>
           <property>aero/beta-rad</property>
           <value>0.12</value>
       </product>
    </function>

    <function name="aero/coefficient/Cnr">
       <description>Yaw_moment_due_to_yaw_rate</description>
       <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <property>metrics/bw-ft</property>
           <property>aero/bi2vel</property>
           <property>velocities/r-aero-rad_sec</property>
           <value>-0.15</value>
       </product>
    </function>

    <function name="aero/coefficient/Cndr">
       <description>Yaw_moment_due_to_rudder</description>
       <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <property>metrics/bw-ft</property>
           <property>fcs/rudder-pos-rad</property>
           <value>-0.1</value>
       </product>
    </function>

    <function name="aero/coefficient/Cnda">
       <description>Adverse_yaw</description>
       <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <property>metrics/bw-ft</property>
           <property>fcs/left-aileron-pos-rad</property>
           <value>-0.003</value>
       </product>
    </function>

  </axis>

 </aerodynamics>
 <output name="pogo.csv"  type="CSV" rate="20">
        <simulation> OFF </simulation>
        <atmosphere> OFF </atmosphere>
        <massprops> OFF</massprops>
        <aerosurfaces> OFF </aerosurfaces>
        <rates> OFF </rates>
        <forces> OFF </forces>
        <moments> ON </moments>
        <position> ON </position>
        <propulsion> ON </propulsion>
        <velocities> OFF </velocities>
        <fcs> OFF </fcs>
        <ground_reactions> ON </ground_reactions>
        <coefficients> OFF </coefficients>
        <!--property> moments/l-prop-lbsft </property-->
  </output>  
</fdm_config>
<?xml version="1.0"?>
<initialize name="reset00">
  <!--
    This file sets up the aircraft to start off
    from the runway in preparation for takeoff.
  -->
  <ubody unit="FT/SEC">    0.0  </ubody>
  <vbody unit="FT/SEC">    0.0  </vbody>
  <wbody unit="FT/SEC">    0.0  </wbody>
  <latitude unit="DEG">   45.0  </latitude>
  <longitude unit="DEG">  90.0  </longitude>
  <phi unit="DEG">         0.0  </phi>
  <theta unit="DEG">      90.0  </theta>
  <psi unit="DEG">       200.0  </psi>
  <altitude unit="FT">     4.0  </altitude>
</initialize>
<?xml version="1.0"?>
<initialize name="reset01">
  <!--
    This file sets up the aircraft to start off
    from the runway in preparation for takeoff.
  -->
  <ubody unit="FT/SEC">    500.0  </ubody>
  <vbody unit="FT/SEC">    0.0  </vbody>
  <wbody unit="FT/SEC">    0.0  </wbody>
  <latitude unit="DEG">   45.0  </latitude>
  <longitude unit="DEG">  90.0  </longitude>
  <phi unit="DEG">         0.0  </phi>
  <theta unit="DEG">       0.0  </theta>
  <psi unit="DEG">       200.0  </psi>
  <altitude unit="FT">  4000.0  </altitude>
</initialize>
// This file instructs the automatic synchronization utilities where to
// install this aircraft and under what name.
//
// The syntax is easy;
// * the package name at the beginning of a new line followed by a colon
// * a space as a column separator
// * the path and filename relative to the aircraft install directory
//
// Currently known package names are: FlightGear

// Don't install in the FlightGear base package.
//FlightGear:
<?xml version="1.0"?>
<?xml-stylesheet type="text/xsl" href="http://jsbsim.sourceforge.net/JSBSim.xsl"?>
<fdm_config name="sgs126" version="2.0" release="BETA"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:noNamespaceSchemaLocation="http://jsbsim.sourceforge.net/JSBSim.xsd">

    <fileheader>
        <author> Unknown </author>
        <filecreationdate> 2001-01-01 </filecreationdate>
        <version> $Revision: 1.13 $ </version>
        <description> SGS-126 glider </description>
      <note>
        This model was created using publicly available data, publicly available
        technical reports, textbooks, and guesses. It contains no proprietary or
        restricted data. If this model has been validated at all, it would be
        only to the extent that it seems to "fly right", and that it possibly
        complies with published, publicly known, performance data (maximum speed,
        endurance, etc.). Thus, this model is meant for educational and entertainment
        purposes only.

        This simulation model is not endorsed by the manufacturer. This model is not
        to be sold.
      </note>
    </fileheader>

    <metrics>
        <wingarea unit="FT2"> 160 </wingarea>
        <wingspan unit="FT"> 40 </wingspan>
        <chord unit="FT"> 4 </chord>
        <htailarea unit="FT2"> 19.2 </htailarea>
        <htailarm unit="FT"> 12.9 </htailarm>
        <vtailarea unit="FT2"> 16 </vtailarea>
        <vtailarm unit="FT"> 0 </vtailarm>
        <location name="AERORP" unit="IN">
            <x> 103.2 </x>
            <y> 0 </y>
            <z> 0 </z>
        </location>
        <location name="EYEPOINT" unit="IN">
            <x> 49 </x>
            <y> 0 </y>
            <z> 9 </z>
        </location>
        <location name="VRP" unit="IN">
            <x> 0 </x>
            <y> 0 </y>
            <z> 0 </z>
        </location>
    </metrics>

    <mass_balance>
        <ixx unit="SLUG*FT2"> 1508 </ixx>
        <iyy unit="SLUG*FT2"> 410 </iyy>
        <izz unit="SLUG*FT2"> 1703 </izz>
        <emptywt unit="LBS"> 445 </emptywt>
        <location name="CG" unit="IN">
            <x> 103.2 </x>
            <y> 0 </y>
            <z> -6.4 </z>
        </location>
    </mass_balance>

    <ground_reactions>
        <contact type="BOGEY" name="LEFT_MLG">
            <location unit="IN">
                <x> 108.36 </x>
                <y> -2.4 </y>
                <z> -25.8 </z>
            </location>
            <static_friction> 0.8 </static_friction>
            <dynamic_friction> 0.5 </dynamic_friction>
            <rolling_friction> 0.5 </rolling_friction>
            <spring_coeff unit="LBS/FT"> 700 </spring_coeff>
            <damping_coeff unit="LBS/FT/SEC"> 140 </damping_coeff>
            <max_steer unit="DEG"> 0.0 </max_steer>
            <brake_group> NONE </brake_group>
            <retractable>1</retractable>
        </contact>
        <contact type="BOGEY" name="RIGHT_MLG">
            <location unit="IN">
                <x> 108.36 </x>
                <y> 2.4 </y>
                <z> -25.8 </z>
            </location>
            <static_friction> 0.8 </static_friction>
            <dynamic_friction> 0.5 </dynamic_friction>
            <rolling_friction> 0.5 </rolling_friction>
            <spring_coeff unit="LBS/FT"> 700 </spring_coeff>
            <damping_coeff unit="LBS/FT/SEC"> 140 </damping_coeff>
            <max_steer unit="DEG"> 0.0 </max_steer>
            <brake_group> NONE </brake_group>
            <retractable>1</retractable>
        </contact>
        <contact type="BOGEY" name="NOSE_LG">
            <location unit="IN">
                <x> 33.54 </x>
                <y> 0 </y>
                <z> -15.48 </z>
            </location>
            <static_friction> 0.8 </static_friction>
            <dynamic_friction> 0.5 </dynamic_friction>
            <rolling_friction> 0.5 </rolling_friction>
            <spring_coeff unit="LBS/FT"> 210 </spring_coeff>
            <damping_coeff unit="LBS/FT/SEC"> 70 </damping_coeff>
            <max_steer unit="DEG"> 5 </max_steer>
            <brake_group> NONE </brake_group>
            <retractable>1</retractable>
        </contact>
        <contact type="BOGEY" name="LEFT_WING">
            <location unit="IN">
                <x> 103.2 </x>
                <y> -20 </y>
                <z> -6.45 </z>
            </location>
            <static_friction> 0.8 </static_friction>
            <dynamic_friction> 0.5 </dynamic_friction>
            <rolling_friction> 0.5 </rolling_friction>
            <spring_coeff unit="LBS/FT"> 210 </spring_coeff>
            <damping_coeff unit="LBS/FT/SEC"> 70 </damping_coeff>
            <max_steer unit="DEG"> 0.0 </max_steer>
            <brake_group> NONE </brake_group>
            <retractable>1</retractable>
        </contact>
        <contact type="BOGEY" name="RIGHT_WING">
            <location unit="IN">
                <x> 103.2 </x>
                <y> -20 </y>
                <z> -6.45 </z>
            </location>
            <static_friction> 0.8 </static_friction>
            <dynamic_friction> 0.5 </dynamic_friction>
            <rolling_friction> 0.5 </rolling_friction>
            <spring_coeff unit="LBS/FT"> 210 </spring_coeff>
            <damping_coeff unit="LBS/FT/SEC"> 70 </damping_coeff>
            <max_steer unit="DEG"> 0.0 </max_steer>
            <brake_group> NONE </brake_group>
            <retractable>1</retractable>
        </contact>
    </ground_reactions>
    <propulsion>
    </propulsion>
    <flight_control name="FCS: sgs126">
        <channel name="Pitch">
            <summer name="Pitch Trim Sum">
                <input>fcs/elevator-cmd-norm</input>
                <input>fcs/pitch-trim-cmd-norm</input>
                <clipto>
                    <min>-1</min>
                    <max>1</max>
                </clipto>
            </summer>

            <aerosurface_scale name="Elevator Control">
                <input>fcs/pitch-trim-sum</input>
                <range>
                    <min>-0.35</min>
                    <max>0.3</max>
                </range>
                <output>fcs/elevator-pos-rad</output>
            </aerosurface_scale>
        </channel>
        <channel name="Roll">
            <summer name="Roll Trim Sum">
                <input>fcs/aileron-cmd-norm</input>
                <input>fcs/roll-trim-cmd-norm</input>
                <clipto>
                    <min>-1</min>
                    <max>1</max>
                </clipto>
            </summer>

            <aerosurface_scale name="Left Aileron Control">
                <input>fcs/roll-trim-sum</input>
                <range>
                    <min>-0.35</min>
                    <max>0.35</max>
                </range>
                <output>fcs/left-aileron-pos-rad</output>
            </aerosurface_scale>

            <aerosurface_scale name="Right Aileron Control">
                <input>-fcs/roll-trim-sum</input>
                <range>
                    <min>-0.35</min>
                    <max>0.35</max>
                </range>
                <output>fcs/right-aileron-pos-rad</output>
            </aerosurface_scale>
        </channel>
        <channel name="Yaw">
            <summer name="Rudder Command Sum">
                <input>fcs/rudder-cmd-norm</input>
                <input>fcs/yaw-trim-cmd-norm</input>
                <clipto>
                    <min>-1</min>
                    <max>1</max>
                </clipto>
            </summer>

            <aerosurface_scale name="Rudder Control">
                <input>fcs/rudder-command-sum</input>
                <range>
                    <min>-0.35</min>
                    <max>0.35</max>
                </range>
                <output>fcs/rudder-pos-rad</output>
            </aerosurface_scale>
        </channel>
        <channel name="Flaps">
            <kinematic name="Flaps Control">
                <input>fcs/flap-cmd-norm</input>
                <traverse>
                    <setting>
                        <position>0</position>
                        <time>0</time>
                    </setting>
                    <setting>
                        <position>15</position>
                        <time>4</time>
                    </setting>
                    <setting>
                        <position>30</position>
                        <time>3</time>
                    </setting>
                </traverse>
                <output>fcs/flap-pos-deg</output>
            </kinematic>
            <aerosurface_scale name="Flap Position Normalizer">
              <input>fcs/flap-pos-deg</input>
              <domain>
                <min>0</min>  <!-- Flaps actual minimum position -->
                <max>30</max>  <!-- Flaps actual maximum position -->
              </domain>
              <range>
                <min>0</min>  <!-- Flaps normalized minimum position -->
                <max>1</max>  <!-- Flaps normalized maximum position -->
              </range>
              <output>fcs/flap-pos-norm</output>
            </aerosurface_scale>
        </channel>
        <channel name="Landing Gear">
              <kinematic name="Gear Control">
                  <input>gear/gear-cmd-norm</input>
                  <traverse>
                      <setting>
                          <position>0</position>
                          <time>0</time>
                      </setting>
                      <setting>
                          <position>1</position>
                          <time>5</time>
                      </setting>
                  </traverse>
                  <output>gear/gear-pos-norm</output>
              </kinematic>
        </channel>
        <channel name="Speedbrake">
            <kinematic name="Speedbrake Control">
                <input>fcs/speedbrake-cmd-norm</input>
                <traverse>
                    <setting>
                        <position>0</position>
                        <time>0</time>
                    </setting>
                    <setting>
                        <position>1</position>
                        <time>1</time>
                    </setting>
                </traverse>
                <output>fcs/speedbrake-pos-norm</output>
            </kinematic>
        </channel>
    </flight_control>
    <aerodynamics>

        <axis name="DRAG">
            <function name="aero/coefficient/CD0">
                <description>Drag_at_zero_lift</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                      <table>
                          <independentVar>aero/alpha-rad</independentVar>
                          <tableData>
                              -1.5700	1.5000
                              -0.2600	0.0200
                              0.0000	0.0100
                              0.2600	0.0200
                              1.5700	1.5000
                          </tableData>
                      </table>
                </product>
            </function>
            <function name="aero/coefficient/CDi">
                <description>Induced_drag</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>aero/cl-squared</property>
                    <value>0.0230</value>
                </product>
            </function>
            <function name="aero/coefficient/CDmach">
                <description>Drag_due_to_mach</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                      <table>
                          <independentVar>velocities/mach</independentVar>
                          <tableData>
                              0.0000	0.0000
                              0.7000	0.0000
                              1.1000	0.0230
                              1.8000	0.0150
                          </tableData>
                      </table>
                </product>
            </function>
            <function name="aero/coefficient/CDflap">
                <description>Drag_due_to_flaps</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>fcs/flap-pos-norm</property>
                    <value>0.0240</value>
                </product>
            </function>
            <function name="aero/coefficient/CDgear">
                <description>Drag_due_to_gear</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>gear/gear-pos-norm</property>
                    <value>0.0010</value>
                </product>
            </function>
            <function name="aero/coefficient/CDsb">
                <description>Drag_due_to_speedbrakes</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>fcs/speedbrake-pos-norm</property>
                    <value>0.0100</value>
                </product>
            </function>
            <function name="aero/coefficient/CDbeta">
                <description>Drag_due_to_sideslip</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                      <table>
                          <independentVar>aero/beta-rad</independentVar>
                          <tableData>
                              -1.5700	1.2300
                              -0.2600	0.0500
                              0.0000	0.0000
                              0.2600	0.0500
                              1.5700	1.2300
                          </tableData>
                      </table>
                </product>
            </function>
            <function name="aero/coefficient/CDde">
                <description>Drag_due_to_Elevator_Deflection</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>fcs/mag-elevator-pos-rad</property>
                    <value>0.0240</value>
                </product>
            </function>
        </axis>

        <axis name="SIDE">
            <function name="aero/coefficient/CYb">
                <description>Side_force_due_to_beta</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>aero/beta-rad</property>
                    <value>-1.0000</value>
                </product>
            </function>
        </axis>

        <axis name="LIFT">
            <function name="aero/coefficient/CLalpha">
                <description>Lift_due_to_alpha</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                      <table>
                          <independentVar>aero/alpha-rad</independentVar>
                          <tableData>
                              -0.2000	-0.8500
                              0.0000	0.2500
                              0.2100	1.4000
                              0.6000	0.7100
                          </tableData>
                      </table>
                </product>
            </function>
            <function name="aero/coefficient/dCLflap">
                <description>Delta_Lift_due_to_flaps</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>fcs/flap-pos-norm</property>
                    <value>0.2000</value>
                </product>
            </function>
            <function name="aero/coefficient/dCLsb">
                <description>Delta_Lift_due_to_speedbrake</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>fcs/speedbrake-pos-norm</property>
                    <value>-0.0500</value>
                </product>
            </function>
            <function name="aero/coefficient/CLde">
                <description>Lift_due_to_Elevator_Deflection</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>fcs/elevator-pos-rad</property>
                    <value>0.2000</value>
                </product>
            </function>
        </axis>

        <axis name="ROLL">
            <function name="aero/coefficient/Clb">
                <description>Roll_moment_due_to_beta</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>aero/beta-rad</property>
                    <value>-0.1000</value>
                </product>
            </function>
            <function name="aero/coefficient/Clp">
                <description>Roll_moment_due_to_roll_rate</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>aero/bi2vel</property>
                    <property>velocities/p-aero-rad_sec</property>
                    <value>-0.4000</value>
                </product>
            </function>
            <function name="aero/coefficient/Clr">
                <description>Roll_moment_due_to_yaw_rate</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>aero/bi2vel</property>
                    <property>velocities/r-aero-rad_sec</property>
                    <value>0.1500</value>
                </product>
            </function>
            <function name="aero/coefficient/Clda">
                <description>Roll_moment_due_to_aileron</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>fcs/left-aileron-pos-rad</property>
                      <table>
                          <independentVar>velocities/mach</independentVar>
                          <tableData>
                              0.0000	0.0600
                              2.0000	0.0200
                          </tableData>
                      </table>
                </product>
            </function>
            <function name="aero/coefficient/Cldr">
                <description>Roll_moment_due_to_rudder</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>fcs/rudder-pos-rad</property>
                    <value>0.0100</value>
                </product>
            </function>
        </axis>

        <axis name="PITCH">
            <function name="aero/coefficient/Cmalpha">
                <description>Pitch_moment_due_to_alpha</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/cbarw-ft</property>
                    <property>aero/alpha-rad</property>
                    <value>-0.5000</value>
                </product>
            </function>
            <function name="aero/coefficient/Cmde">
                <description>Pitch_moment_due_to_elevator</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/cbarw-ft</property>
                    <property>fcs/elevator-pos-rad</property>
                      <table>
                          <independentVar>velocities/mach</independentVar>
                          <tableData>
                              0.0000	-0.8000
                              2.0000	-0.2000
                          </tableData>
                      </table>
                </product>
            </function>
            <function name="aero/coefficient/Cmq">
                <description>Pitch_moment_due_to_pitch_rate</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/cbarw-ft</property>
                    <property>aero/ci2vel</property>
                    <property>velocities/q-aero-rad_sec</property>
                    <value>-9.0000</value>
                </product>
            </function>
            <function name="aero/coefficient/Cmadot">
                <description>Pitch_moment_due_to_alpha_rate</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/cbarw-ft</property>
                    <property>aero/ci2vel</property>
                    <property>aero/alphadot-rad_sec</property>
                    <value>-12.0000</value>
                </product>
            </function>
        </axis>

        <axis name="YAW">
            <function name="aero/coefficient/Cnb">
                <description>Yaw_moment_due_to_beta</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>aero/beta-rad</property>
                    <value>0.1200</value>
                </product>
            </function>
            <function name="aero/coefficient/Cnr">
                <description>Yaw_moment_due_to_yaw_rate</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>aero/bi2vel</property>
                    <property>velocities/r-aero-rad_sec</property>
                    <value>-0.1500</value>
                </product>
            </function>
            <function name="aero/coefficient/Cndr">
                <description>Yaw_moment_due_to_rudder</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>fcs/rudder-pos-rad</property>
                    <value>-0.0300</value>
                </product>
            </function>
            <function name="aero/coefficient/Cnda">
                <description>Adverse_yaw</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>fcs/left-aileron-pos-rad</property>
                    <value>-0.0200</value>
                </product>
            </function>
        </axis>
    </aerodynamics>
</fdm_config>
// This file instructs the automatic synchronization utilities where to
// install this aircraft and under what name.
//
// The syntax is easy;
// * the package name at the beginning of a new line followed by a colon
// * a space as a column separator
// * the path and filename relative to the aircraft install directory
//
// Currently known package names are: FlightGear

FlightGear:
<?xml version="1.0"?>
<?xml-stylesheet type="text/xsl" href="http://jsbsim.sourceforge.net/JSBSim.xsl"?>
<fdm_config name="sgs233" version="2.0" release="BETA"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:noNamespaceSchemaLocation="http://jsbsim.sourceforge.net/JSBSim.xsd">

    <fileheader>
        <author> Unknown </author>
        <filecreationdate> 2001-01-01 </filecreationdate>
        <version> $Revision: 1.10 $ </version>
        <description> SGS-233 glider </description>
      <note>
        This model was created using publicly available data, publicly available
        technical reports, textbooks, and guesses. It contains no proprietary or
        restricted data. If this model has been validated at all, it would be
        only to the extent that it seems to "fly right", and that it possibly
        complies with published, publicly known, performance data (maximum speed,
        endurance, etc.). Thus, this model is meant for educational and entertainment
        purposes only.

        This simulation model is not endorsed by the manufacturer. This model is not
        to be sold.
      </note>
    </fileheader>

    <metrics>
        <wingarea unit="FT2"> 219.48 </wingarea>
        <wingspan unit="FT"> 51 </wingspan>
        <chord unit="FT"> 4.3 </chord>
        <htailarea unit="FT2"> 24 </htailarea>
        <htailarm unit="FT"> 14 </htailarm>
        <vtailarea unit="FT2"> 18 </vtailarea>
        <vtailarm unit="FT"> 14 </vtailarm>
        <location name="AERORP" unit="IN">
            <x> 103.2 </x>
            <y> 0 </y>
            <z> 0 </z>
        </location>
        <location name="EYEPOINT" unit="IN">
            <x> 49 </x>
            <y> 0 </y>
            <z> 9 </z>
        </location>
        <location name="VRP" unit="IN">
            <x> 0 </x>
            <y> 0 </y>
            <z> 0 </z>
        </location>
    </metrics>

    <mass_balance>
        <ixx unit="SLUG*FT2"> 1800 </ixx>
        <iyy unit="SLUG*FT2"> 850 </iyy>
        <izz unit="SLUG*FT2"> 1950 </izz>
        <emptywt unit="LBS"> 610 </emptywt>
        <location name="CG" unit="IN">
            <x> 103.2 </x>
            <y> 0 </y>
            <z> -6.4 </z>
        </location>
        <pointmass name="name">
            <weight unit="LBS"> 180 </weight>
            <location name="POINTMASS" unit="IN">
                <x> 43 </x>
                <y> 0 </y>
                <z> 4 </z>
            </location>
        </pointmass>
        <pointmass name="name">
            <weight unit="LBS"> 180 </weight>
            <location name="POINTMASS" unit="IN">
                <x> 85 </x>
                <y> 0 </y>
                <z> 4 </z>
            </location>
        </pointmass>
    </mass_balance>

    <ground_reactions>
        <contact type="BOGEY" name="LEFT_MLG">
            <location unit="IN">
                <x> 108.36 </x>
                <y> -2.4 </y>
                <z> -50.0 </z>
            </location>
            <static_friction> 0.8 </static_friction>
            <dynamic_friction> 0.5 </dynamic_friction>
            <rolling_friction> 0.05 </rolling_friction>
            <spring_coeff unit="LBS/FT"> 700 </spring_coeff>
            <damping_coeff unit="LBS/FT/SEC"> 140 </damping_coeff>
            <max_steer unit="DEG"> 0.0 </max_steer>
            <brake_group> NONE </brake_group>
            <retractable>0</retractable>
        </contact>
        <contact type="BOGEY" name="RIGHT_MLG">
            <location unit="IN">
                <x> 108.36 </x>
                <y> 2.4 </y>
                <z> -50.0 </z>
            </location>
            <static_friction> 0.8 </static_friction>
            <dynamic_friction> 0.5 </dynamic_friction>
            <rolling_friction> 0.05 </rolling_friction>
            <spring_coeff unit="LBS/FT"> 700 </spring_coeff>
            <damping_coeff unit="LBS/FT/SEC"> 140 </damping_coeff>
            <max_steer unit="DEG"> 0.0 </max_steer>
            <brake_group> NONE </brake_group>
            <retractable>0</retractable>
        </contact>
        <contact type="BOGEY" name="NOSE_SKID">
            <location unit="IN">
                <x> 33.54 </x>
                <y> 0 </y>
                <z> -48.0 </z>
            </location>
            <static_friction> 0.8 </static_friction>
            <dynamic_friction> 0.5 </dynamic_friction>
            <rolling_friction> 0.5 </rolling_friction>
            <spring_coeff unit="LBS/FT"> 1000 </spring_coeff>
            <damping_coeff unit="LBS/FT/SEC"> 1000 </damping_coeff>
            <max_steer unit="DEG"> 5 </max_steer>
            <brake_group> NONE </brake_group>
            <retractable>0</retractable>
        </contact>
        <contact type="STRUCTURE" name="LEFT_WING">
            <location unit="IN">
                <x> 103.2 </x>
                <y> -240 </y>
                <z> 6 </z>
            </location>
            <static_friction> 0.8 </static_friction>
            <dynamic_friction> 0.5 </dynamic_friction>
            <rolling_friction> 0.5 </rolling_friction>
            <spring_coeff unit="LBS/FT"> 210 </spring_coeff>
            <damping_coeff unit="LBS/FT/SEC"> 70 </damping_coeff>
            <max_steer unit="DEG"> 0.0 </max_steer>
            <brake_group> NONE </brake_group>
            <retractable>0</retractable>
        </contact>
        <contact type="STRUCTURE" name="RIGHT_WING">
            <location unit="IN">
                <x> 103.2 </x>
                <y> 240 </y>
                <z> 6 </z>
            </location>
            <static_friction> 0.8 </static_friction>
            <dynamic_friction> 0.5 </dynamic_friction>
            <rolling_friction> 0.5 </rolling_friction>
            <spring_coeff unit="LBS/FT"> 210 </spring_coeff>
            <damping_coeff unit="LBS/FT/SEC"> 70 </damping_coeff>
            <max_steer unit="DEG"> 0.0 </max_steer>
            <brake_group> NONE </brake_group>
            <retractable>0</retractable>
        </contact>
        <contact type="STRUCTURE" name="TAIL">
            <location unit="IN">
                <x> 271 </x>
                <y> 0 </y>
                <z> -20 </z>
            </location>
            <static_friction> 0.8 </static_friction>
            <dynamic_friction> 0.5 </dynamic_friction>
            <rolling_friction> 0.5 </rolling_friction>
            <spring_coeff unit="LBS/FT"> 210 </spring_coeff>
            <damping_coeff unit="LBS/FT/SEC"> 70 </damping_coeff>
            <max_steer unit="DEG"> 0.0 </max_steer>
            <brake_group> NONE </brake_group>
            <retractable>0</retractable>
        </contact>
    </ground_reactions>
    <propulsion>
    </propulsion>
    <flight_control name="FCS: sgs233">
        <channel name="Pitch">
            <summer name="Pitch Trim Sum">
                <input>fcs/elevator-cmd-norm</input>
                <input>fcs/pitch-trim-cmd-norm</input>
                <clipto>
                    <min>-1</min>
                    <max>1</max>
                </clipto>
            </summer>

            <aerosurface_scale name="Elevator Control">
                <input>fcs/pitch-trim-sum</input>
                <range>
                    <min>-0.3</min>
                    <max>0.3</max>
                </range>
                <output>fcs/elevator-pos-rad</output>
            </aerosurface_scale>
        </channel>
        <channel name="Roll">
            <summer name="Roll Trim Sum">
                <input>fcs/aileron-cmd-norm</input>
                <input>fcs/roll-trim-cmd-norm</input>
                <clipto>
                    <min>-1</min>
                    <max>1</max>
                </clipto>
            </summer>

            <aerosurface_scale name="Left Aileron Control">
                <input>fcs/roll-trim-sum</input>
                <range>
                    <min>-0.35</min>
                    <max>0.35</max>
                </range>
                <output>fcs/left-aileron-pos-rad</output>
            </aerosurface_scale>

            <aerosurface_scale name="Right Aileron Control">
                <input>-fcs/roll-trim-sum</input>
                <range>
                    <min>-0.35</min>
                    <max>0.35</max>
                </range>
                <output>fcs/right-aileron-pos-rad</output>
            </aerosurface_scale>
        </channel>
        <channel name="Yaw">
            <summer name="Rudder Command Sum">
                <input>fcs/rudder-cmd-norm</input>
                <input>fcs/yaw-trim-cmd-norm</input>
                <clipto>
                    <min>-1</min>
                    <max>1</max>
                </clipto>
            </summer>

            <aerosurface_scale name="Rudder Control">
                <input>fcs/rudder-command-sum</input>
                <range>
                    <min>-0.35</min>
                    <max>0.35</max>
                </range>
                <output>fcs/rudder-pos-rad</output>
            </aerosurface_scale>
        </channel>
        <channel name="Speedbrake">
            <kinematic name="Speedbrake Control">
                <input>fcs/speedbrake-cmd-norm</input>
                <traverse>
                    <setting>
                        <position>0</position>
                        <time>0</time>
                    </setting>
                    <setting>
                        <position>1</position>
                        <time>1</time>
                    </setting>
                </traverse>
                <output>fcs/speedbrake-pos-norm</output>
            </kinematic>
        </channel>
    </flight_control>
    <aerodynamics>

        <axis name="DRAG">
            <function name="aero/coefficient/CD0">
                <description>Drag_at_zero_lift</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                      <table>
                          <independentVar>aero/alpha-rad</independentVar>
                          <tableData>
                              -1.5700	1.5000
                              -0.2600	0.0340
                              0.0000	0.0170
                              0.2600	0.0340
                              1.5700	1.5000
                          </tableData>
                      </table>
                </product>
            </function>
            <function name="aero/coefficient/CDi">
                <description>Induced_drag</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>aero/cl-squared</property>
                    <value>0.0500</value>
                </product>
            </function>
            <function name="aero/coefficient/CDgear">
                <description>Drag_due_to_gear</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>gear/gear-pos-norm</property>
                    <value>0.0010</value>
                </product>
            </function>
            <function name="aero/coefficient/CDsb">
                <description>Drag_due_to_speedbrakes</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>fcs/speedbrake-pos-norm</property>
                    <value>0.0100</value>
                </product>
            </function>
            <function name="aero/coefficient/CDbeta">
                <description>Drag_due_to_sideslip</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                      <table>
                          <independentVar>aero/beta-rad</independentVar>
                          <tableData>
                              -1.5700	1.2300
                              -0.2600	0.0500
                              0.0000	0.0000
                              0.2600	0.0500
                              1.5700	1.2300
                          </tableData>
                      </table>
                </product>
            </function>
            <function name="aero/coefficient/CDde">
                <description>Drag_due_to_Elevator_Deflection</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>fcs/mag-elevator-pos-rad</property>
                    <value>0.0240</value>
                </product>
            </function>
        </axis>

        <axis name="SIDE">
            <function name="aero/coefficient/CYb">
                <description>Side_force_due_to_beta</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>aero/beta-rad</property>
                    <value>-1.0000</value>
                </product>
            </function>
        </axis>

        <axis name="LIFT">
            <function name="aero/coefficient/CLalpha">
                <description>Lift_due_to_alpha</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                      <table>
                          <independentVar>aero/alpha-rad</independentVar>
                          <tableData>
                              -0.2000	-0.8500
                              0.0000	0.2500
                              0.2100	1.3200
                              0.6000	0.2100
                          </tableData>
                      </table>
                </product>
            </function>
            <function name="aero/coefficient/dCLsb">
                <description>Delta_Lift_due_to_speedbrake</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>fcs/speedbrake-pos-norm</property>
                    <value>-0.0500</value>
                </product>
            </function>
            <function name="aero/coefficient/CLde">
                <description>Lift_due_to_Elevator_Deflection</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>fcs/elevator-pos-rad</property>
                    <value>0.2000</value>
                </product>
            </function>
        </axis>

        <axis name="ROLL">
            <function name="aero/coefficient/Clb">
                <description>Roll_moment_due_to_beta</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>aero/beta-rad</property>
                    <value>-0.1000</value>
                </product>
            </function>
            <function name="aero/coefficient/Clp">
                <description>Roll_moment_due_to_roll_rate</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>aero/bi2vel</property>
                    <property>velocities/p-aero-rad_sec</property>
                    <value>-0.4000</value>
                </product>
            </function>
            <function name="aero/coefficient/Clr">
                <description>Roll_moment_due_to_yaw_rate</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>aero/bi2vel</property>
                    <property>velocities/r-aero-rad_sec</property>
                    <value>0.1500</value>
                </product>
            </function>
            <function name="aero/coefficient/Clda">
                <description>Roll_moment_due_to_aileron</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>fcs/left-aileron-pos-rad</property>
                    <value>0.0700</value>
                </product>
            </function>
            <function name="aero/coefficient/Cldr">
                <description>Roll_moment_due_to_rudder</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>fcs/rudder-pos-rad</property>
                    <value>0.0100</value>
                </product>
            </function>
        </axis>

        <axis name="PITCH">
            <function name="aero/coefficient/Cmalpha">
                <description>Pitch_moment_due_to_alpha</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/cbarw-ft</property>
                    <property>aero/alpha-rad</property>
                    <value>-0.4000</value>
                </product>
            </function>
            <function name="aero/coefficient/Cmde">
                <description>Pitch_moment_due_to_elevator</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/cbarw-ft</property>
                    <property>fcs/elevator-pos-rad</property>
                    <value>-0.6000</value>
                </product>
            </function>
            <function name="aero/coefficient/Cmq">
                <description>Pitch_moment_due_to_pitch_rate</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/cbarw-ft</property>
                    <property>aero/ci2vel</property>
                    <property>velocities/q-aero-rad_sec</property>
                    <value>-9.0000</value>
                </product>
            </function>
            <function name="aero/coefficient/Cmadot">
                <description>Pitch_moment_due_to_alpha_rate</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/cbarw-ft</property>
                    <property>aero/ci2vel</property>
                    <property>aero/alphadot-rad_sec</property>
                    <value>-12.0000</value>
                </product>
            </function>
        </axis>

        <axis name="YAW">
            <function name="aero/coefficient/Cnb">
                <description>Yaw_moment_due_to_beta</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>aero/beta-rad</property>
                    <value>0.1200</value>
                </product>
            </function>
            <function name="aero/coefficient/Cnr">
                <description>Yaw_moment_due_to_yaw_rate</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>aero/bi2vel</property>
                    <property>velocities/r-aero-rad_sec</property>
                    <value>-0.1500</value>
                </product>
            </function>
            <function name="aero/coefficient/Cndr">
                <description>Yaw_moment_due_to_rudder</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>fcs/rudder-pos-rad</property>
                    <value>-0.0300</value>
                </product>
            </function>
            <function name="aero/coefficient/Cnda">
                <description>Adverse_yaw</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>fcs/left-aileron-pos-rad</property>
                    <value>-0.0200</value>
                </product>
            </function>
        </axis>
    </aerodynamics>
</fdm_config>
// This file instructs the automatic synchronization utilities where to
// install this aircraft and under what name.
//
// The syntax is easy;
// * the package name at the beginning of a new line followed by a colon
// * a space as a column separator
// * the path and filename relative to the aircraft install directory
//
// Currently known package names are: FlightGear

// Don't install in the FlightGear base package.
//FlightGear:
<?xml version="1.0"?>
<?xml-stylesheet type="text/xsl" href="http://jsbsim.sourceforge.net/JSBSim.xsl"?>
<fdm_config name="T62" version="2.0" release="BETA"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:noNamespaceSchemaLocation="http://jsbsim.sourceforge.net/JSBSim.xsd">

    <fileheader>
        <author> Aeromatic / David Culp </author>
        <filecreationdate> 2001-01-01 </filecreationdate>
        <version> $Revision: 1.14 $ </version>
        <description> T-6 Texan trainer </description>
      <note>
        This model was created using publicly available data, publicly available
        technical reports, textbooks, and guesses. It contains no proprietary or
        restricted data. If this model has been validated at all, it would be
        only to the extent that it seems to "fly right", and that it possibly
        complies with published, publicly known, performance data (maximum speed,
        endurance, etc.). Thus, this model is meant for educational and entertainment
        purposes only.

        This simulation model is not endorsed by the manufacturer. This model is not
        to be sold.
      </note>
    </fileheader>

    <metrics>
        <wingarea unit="FT2"> 176 </wingarea>
        <wingspan unit="FT"> 33.4 </wingspan>
        <chord unit="FT"> 5.27 </chord>
        <htailarea unit="FT2"> 50 </htailarea>
        <htailarm unit="FT"> 16 </htailarm>
        <vtailarea unit="FT2"> 50 </vtailarea>
        <vtailarm unit="FT"> 0 </vtailarm>
        <location name="AERORP" unit="IN">
            <x> 188.8 </x>
            <y> 0 </y>
            <z> 0 </z>
        </location>
        <location name="EYEPOINT" unit="IN">
            <x> 120.1 </x>
            <y> 0 </y>
            <z> 29.8 </z>
        </location>
        <location name="VRP" unit="IN">
            <x> 0 </x>
            <y> 0 </y>
            <z> 0 </z>
        </location>
    </metrics>

    <mass_balance negated_crossproduct_inertia="true">
        <ixx unit="SLUG*FT2"> 4216.3 </ixx>
        <iyy unit="SLUG*FT2"> 7608 </iyy>
        <izz unit="SLUG*FT2"> 10355 </izz>
        <ixz unit="SLUG*FT2"> -1000 </ixz>
        <emptywt unit="LBS"> 5000 </emptywt>
        <location name="CG" unit="IN">
            <x> 188.8 </x>
            <y> 0 </y>
            <z> 0 </z>
        </location>
    </mass_balance>

    <ground_reactions>
        <contact type="BOGEY" name="NOSE_LG">
            <location unit="IN">
                <x> 76.8 </x>
                <y> 0 </y>
                <z> -80 </z>
            </location>
            <static_friction> 0.5 </static_friction>
            <dynamic_friction> 0.5 </dynamic_friction>
            <rolling_friction> 0.02 </rolling_friction>
            <spring_coeff unit="LBS/FT"> 4000 </spring_coeff>
            <damping_coeff unit="LBS/FT/SEC"> 3000 </damping_coeff>
            <max_steer unit="DEG"> 7 </max_steer>
            <brake_group> NONE </brake_group>
            <retractable>1</retractable>
        </contact>
        <contact type="BOGEY" name="LEFT_MLG">
            <location unit="IN">
                <x> 217.6 </x>
                <y> -81.4 </y>
                <z> -80 </z>
            </location>
            <static_friction> 0.5 </static_friction>
            <dynamic_friction> 0.5 </dynamic_friction>
            <rolling_friction> 0.02 </rolling_friction>
            <spring_coeff unit="LBS/FT"> 5000 </spring_coeff>
            <damping_coeff unit="LBS/FT/SEC"> 8000 </damping_coeff>
            <max_steer unit="DEG"> 0.0 </max_steer>
            <brake_group> LEFT </brake_group>
            <retractable>1</retractable>
        </contact>
        <contact type="BOGEY" name="RIGHT_MLG">
            <location unit="IN">
                <x> 217.6 </x>
                <y> 81.4 </y>
                <z> -80 </z>
            </location>
            <static_friction> 0.5 </static_friction>
            <dynamic_friction> 0.5 </dynamic_friction>
            <rolling_friction> 0.02 </rolling_friction>
            <spring_coeff unit="LBS/FT"> 5000 </spring_coeff>
            <damping_coeff unit="LBS/FT/SEC"> 8000 </damping_coeff>
            <max_steer unit="DEG"> 0.0 </max_steer>
            <brake_group> RIGHT </brake_group>
            <retractable>1</retractable>
        </contact>
    </ground_reactions>
    <propulsion>
        <engine file="PT6A-68">
            <feed>0</feed>
            <thruster file="direct">
                <location unit="IN">
                    <x> 12 </x>
                    <y> 0 </y>
                    <z> 0 </z>
                </location>
                <orient unit="DEG">
                    <roll> 0.0 </roll>
                    <pitch> 0.0 </pitch>
                    <yaw> 0.0 </yaw>
                </orient>
            </thruster>
        </engine>
        <tank type="FUEL">    <!-- Tank number 0 -->
            <location unit="IN">
                <x> 190 </x>
                <y> -50 </y>
                <z> -12 </z>
            </location>
            <capacity unit="LBS"> 500 </capacity>
            <contents unit="LBS"> 500 </contents>
        </tank>
        <tank type="FUEL">    <!-- Tank number 1 -->
            <location unit="IN">
                <x> 190 </x>
                <y> 50 </y>
                <z> -12 </z>
            </location>
            <capacity unit="LBS"> 500 </capacity>
            <contents unit="LBS"> 500 </contents>
        </tank>
    </propulsion>
    <flight_control name="FCS: t62-fcs">
        <channel name="Pitch">
            <summer name="Pitch Trim Sum">
                <input>fcs/elevator-cmd-norm</input>
                <input>fcs/pitch-trim-cmd-norm</input>
                <clipto>
                    <min>-1</min>
                    <max>1</max>
                </clipto>
            </summer>

            <aerosurface_scale name="Elevator Control">
                <input>fcs/pitch-trim-sum</input>
                <gain>0.017</gain>
                <range>
                    <min>-30</min>
                    <max>30</max>
                </range>
                <output>fcs/elevator-pos-rad</output>
            </aerosurface_scale>
        </channel>
        <channel name="Roll">
            <summer name="Roll Trim Sum">
                <input>fcs/aileron-cmd-norm</input>
                <input>fcs/roll-trim-cmd-norm</input>
                <clipto>
                    <min>-1</min>
                    <max>1</max>
                </clipto>
            </summer>

            <aerosurface_scale name="Left Aileron Control">
                <input>fcs/roll-trim-sum</input>
                <gain>0.017</gain>
                <range>
                    <min>-20</min>
                    <max>15</max>
                </range>
                <output>fcs/left-aileron-pos-rad</output>
            </aerosurface_scale>

            <aerosurface_scale name="Right Aileron Control">
                <input>-fcs/roll-trim-sum</input>
                <gain>0.017</gain>
                <range>
                    <min>-20</min>
                    <max>15</max>
                </range>
                <output>fcs/right-aileron-pos-rad</output>
            </aerosurface_scale>
        </channel>
        <channel name="Yaw">
            <summer name="Rudder Sum">
                <input>fcs/rudder-cmd-norm</input>
                <input>fcs/yaw-trim-cmd-norm</input>
                <clipto>
                    <min>-1</min>
                    <max>1</max>
                </clipto>
            </summer>

            <aerosurface_scale name="Rudder Control">
                <input>fcs/rudder-sum</input>
                <gain>0.01745</gain>
                <range>
                    <min>-25</min>
                    <max>25</max>
                </range>
                <output>fcs/rudder-pos-rad</output>
            </aerosurface_scale>
        </channel>
        <channel name="Flaps">
            <kinematic name="Flaps Control">
                <input>fcs/flap-cmd-norm</input>
                <traverse>
                    <setting>
                        <position>0</position>
                        <time>0</time>
                    </setting>
                    <setting>
                        <position>15</position>
                        <time>4</time>
                    </setting>
                    <setting>
                        <position>30</position>
                        <time>3</time>
                    </setting>
                </traverse>
                <output>fcs/flap-pos-deg</output>
            </kinematic>
            <aerosurface_scale name="Flap Position Normalizer">
              <input>fcs/flap-pos-deg</input>
              <domain>
                <min>0</min>  <!-- Flaps actual minimum position -->
                <max>30</max>  <!-- Flaps actual maximum position -->
              </domain>
              <range>
                <min>0</min>  <!-- Flaps normalized minimum position -->
                <max>1</max>  <!-- Flaps normalized maximum position -->
              </range>
              <output>fcs/flap-pos-norm</output>
            </aerosurface_scale>
        </channel>
        <channel name="Landing Gear">
            <kinematic name="Gear Control">
                <input>gear/gear-cmd-norm</input>
                <traverse>
                    <setting>
                        <position>0</position>
                        <time>0</time>
                    </setting>
                    <setting>
                        <position>1</position>
                        <time>5</time>
                    </setting>
                </traverse>
                <output>gear/gear-pos-norm</output>
            </kinematic>
        </channel>
    </flight_control>
    <aerodynamics>

        <axis name="DRAG">
            <function name="aero/coefficient/CDo">
                <description>Drag_at_zero_lift</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <value>0.023</value>
                </product>
            </function>
            <function name="aero/coefficient/CDalpha">
                <description>Drag_due_to_alpha</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                      <table>
                          <independentVar lookup="row">aero/alpha-rad</independentVar>
                          <independentVar lookup="column">fcs/flap-pos-deg</independentVar>
                          <tableData>
                                0.0000	30.0000
                              -0.0873	0.0041	0.0014
                              -0.0698	0.0013	0.0041
                              -0.0524	0.0001	0.0084
                              -0.0349	0.0003	0.0141
                              -0.0175	0.0020	0.0212
                              0.0000	0.0052	0.0299
                              0.0175	0.0099	0.0402
                              0.0349	0.0162	0.0521
                              0.0524	0.0240	0.0655
                              0.0698	0.0334	0.0804
                              0.0873	0.0442	0.0968
                              0.1047	0.0566	0.1148
                              0.1222	0.0706	0.1343
                              0.1396	0.0860	0.1554
                              0.1571	0.0962	0.1690
                              0.1745	0.1069	0.1830
                              0.1920	0.1180	0.1975
                              0.2094	0.1298	0.2126
                              0.2269	0.1424	0.2286
                              0.2443	0.1565	0.2464
                              0.2618	0.1727	0.2667
                              0.2793	0.1782	0.2735
                              0.2967	0.1716	0.2653
                              0.3142	0.1618	0.2531
                              0.3316	0.1475	0.2351
                              0.3491	0.1097	0.1866
                          </tableData>
                      </table>
                </product>
            </function>
            <function name="aero/coefficient/CDde">
                <description>Drag_due_to_elevator_Deflection</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>fcs/mag-elevator-pos-rad</property>
                    <value>0.0500</value>
                </product>
            </function>
            <function name="aero/coefficient/CDbeta">
                <description>Drag_due_to_sideslip</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>aero/mag-beta-rad</property>
                    <value>0.2300</value>
                </product>
            </function>
            <function name="aero/coefficient/CDgear">
                <description>Drag_due_to_landing_gear</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>gear/gear-pos-norm</property>
                    <value>0.0300</value>
                </product>
            </function>
        </axis>

        <axis name="SIDE">
            <function name="aero/coefficient/CYb">
                <description>Side_force_due_to_beta</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                      <table>
                          <independentVar>aero/beta-rad</independentVar>
                          <tableData>
                              -0.3500	0.5000
                              0.0000	0.0000
                              0.3500	-0.5000
                          </tableData>
                      </table>
                </product>
            </function>
        </axis>

        <axis name="LIFT">
            <function name="aero/coefficient/CLwbh">
                <description>Lift_due_to_alpha</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                      <table>
                          <independentVar>aero/alpha-rad</independentVar>
                          <tableData>
                              -0.0900	-0.2200
                              0.0000	0.2500
                              0.0900	0.7300
                              0.1000	0.8300
                              0.1200	0.9200
                              0.1400	1.0200
                              0.1600	1.0800
                              0.1700	1.1300
                              0.1900	1.1900
                              0.2100	1.2500
                              0.2400	1.3500
                              0.2600	1.4400
                              0.2800	1.4700
                              0.3000	1.4300
                              0.3200	1.3800
                              0.3400	1.3000
                              0.3600	1.1500
                          </tableData>
                      </table>
                </product>
            </function>
            <function name="aero/coefficient/CLDf">
                <description>Delta_lift_due_to_flap_deflection</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                      <table>
                          <independentVar>fcs/flap-pos-deg</independentVar>
                          <tableData>
                              0.0000	0.0000
                              10.0000	0.2000
                              20.0000	0.3000
                              30.0000	0.3500
                          </tableData>
                      </table>
                </product>
            </function>
            <function name="aero/coefficient/CLDe">
                <description>Lift_due_to_Elevator_Deflection</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>fcs/elevator-pos-rad</property>
                    <value>0.1930</value>
                </product>
            </function>
        </axis>

        <axis name="ROLL">
            <function name="aero/coefficient/Clb">
                <description>Roll_moment_due_to_beta</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                      <table>
                          <independentVar lookup="row">aero/beta-rad</independentVar>
                          <independentVar lookup="column">aero/alpha-rad</independentVar>
                          <tableData>
                                0.0000	0.1600	0.1700	0.6000
                              -0.3500	0.0300	0.0400	0.1000	0.3000
                              0.0000	0.0000	0.0000	0.0000	0.0000
                              0.3500	-0.0300	-0.0400	-0.1000	-0.3000
                          </tableData>
                      </table>
                </product>
            </function>
            <function name="aero/coefficient/Clp">
                <description>Roll_moment_due_to_roll_rate_(roll_damping)</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>aero/bi2vel</property>
                    <property>velocities/p-aero-rad_sec</property>
                    <value>-0.5000</value>
                </product>
            </function>
            <function name="aero/coefficient/Clr">
                <description>Roll_moment_due_to_yaw_rate</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>aero/bi2vel</property>
                    <property>velocities/r-aero-rad_sec</property>
                    <value>0.0050</value>
                </product>
            </function>
            <function name="aero/coefficient/Clda">
                <description>Roll_moment_due_to_aileron</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>fcs/left-aileron-pos-rad</property>
                    <value>0.2900</value>
                </product>
            </function>
            <function name="aero/coefficient/Cldr">
                <description>Roll_moment_due_to_rudder</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>fcs/rudder-pos-rad</property>
                    <value>0.0120</value>
                </product>
            </function>
        </axis>

        <axis name="PITCH">
            <function name="aero/coefficient/Cmo">
                <description>Pitching_moment_at_zero_alpha</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/cbarw-ft</property>
                      <table>
                          <independentVar>fcs/flap-pos-deg</independentVar>
                          <tableData>
                              0.0000	0.0400
                              30.0000	0.0000
                          </tableData>
                      </table>
                </product>
            </function>
            <function name="aero/coefficient/Cmalpha">
                <description>Pitch_moment_due_to_alpha</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/cbarw-ft</property>
                    <property>aero/alpha-rad</property>
                    <value>-1.9000</value>
                </product>
            </function>
            <function name="aero/coefficient/CmDe">
                <description>Pitch_moment_due_to_elevator_Deflection</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/cbarw-ft</property>
                    <property>fcs/elevator-pos-rad</property>
                    <value>-1.2000</value>
                </product>
            </function>
            <function name="aero/coefficient/Cmq">
                <description>Pitch_moment_due_to_pitch_rate</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/cbarw-ft</property>
                    <property>aero/ci2vel</property>
                    <property>velocities/q-aero-rad_sec</property>
                    <value>-12.0000</value>
                </product>
            </function>
            <function name="aero/coefficient/Cmadot">
                <description>Pitch_moment_due_to_alpha_rate</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/cbarw-ft</property>
                    <property>aero/ci2vel</property>
                    <property>aero/alphadot-rad_sec</property>
                    <value>-9.0000</value>
                </product>
            </function>
        </axis>

        <axis name="YAW">
            <function name="aero/coefficient/Cnr">
                <description>Yaw_moment_due_to_yaw_rate</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>aero/bi2vel</property>
                    <property>velocities/r-aero-rad_sec</property>
                    <value>-0.1000</value>
                </product>
            </function>
            <function name="aero/coefficient/Cnb">
                <description>Yaw_moment_due_to_beta</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>aero/beta-rad</property>
                    <value>0.0400</value>
                </product>
            </function>
            <function name="aero/coefficient/Cndr">
                <description>Yaw_moment_due_to_rudder</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>fcs/rudder-pos-rad</property>
                    <value>-0.0600</value>
                </product>
            </function>
        </axis>
    </aerodynamics>
</fdm_config>
// This file instructs the automatic synchronization utilities where to
// install this aircraft and under what name.
//
// The syntax is easy;
// * the package name at the beginning of a new line followed by a colon
// * a space as a column separator
// * the path and filename relative to the aircraft install directory
//
// Currently known package names are: FlightGear

<?xml version="1.0"?>
<output name="balloon.csv" type="CSV" rate="20">
  <property> aero/alpha-deg </property>
  <property> aero/beta-deg </property>
  <property> aero/qbar-psf</property>
  <property> position/h-sl-ft</property>
  <property> velocities/vt-fps</property>
  <property> velocities/mach</property>
  <property> attitude/phi-rad</property>
  <property> attitude/theta-rad</property>
  <property> attitude/psi-rad</property>
  <property> attitude/roll-rad</property>
  <property> attitude/pitch-rad</property>
  <property> attitude/heading-true-rad</property>
  <property>buoyant_forces/gas-cell/max_volume-ft3</property>
  <property>buoyant_forces/gas-cell/temp-R</property>
  <property>buoyant_forces/gas-cell/pressure-psf</property>
  <property>buoyant_forces/gas-cell/volume-ft3</property>
  <property>buoyant_forces/gas-cell/buoyancy-lbs</property>
  <property>buoyant_forces/gas-cell/contents-mol</property>
  <property>buoyant_forces/gas-cell/valve_open</property>
  <property>atmosphere/T-R</property>
  <property>atmosphere/P-psf</property>
  <property>aero/Re-cor</property>
  <property>aero/force/BasicDrag</property>
  <property>metrics/Sref-sqft</property>
  <property>metrics/diameter-ft</property>
  <property>fcs/parachute_reef_pos_norm</property>
  <property>inertia/weight-lbs</property>
  <property>forces/fbz-buoyancy-lbs</property>
  <property>inertia/pointmass-location-Z-inches</property>
  <property>buoyant_forces/gas-cell/delta-pressure-psf</property>
</output>

<?xml version="1.0"?>
<initialize name="reset10">
  <!--
    This file sets up the balloon to launch
  -->
  <ubody unit="FT/SEC">    0.0 </ubody> 
  <latitude unit="DEG">   40.0  </latitude>
  <longitude unit="DEG"> -112.0  </longitude>
  <psi unit="DEG">         0.0  </psi>
  <altitude unit="FT">    10.0  </altitude>
</initialize>

<?xml version="1.0"?>
<?xml-stylesheet type="text/xsl" href="http://jsbsim.sourceforge.net/JSBSim.xsl"?>
<fdm_config name="Weather Balloon" version="2.0" release="ALPHA"
   xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
   xsi:noNamespaceSchemaLocation="http://jsbsim.sourceforge.net/JSBSim.xsd">

 <fileheader>
  <author> Ron Jensen </author>
  <filecreationdate>2011-12-11</filecreationdate>
  <version>$Revision: 1.3 $</version>
  <description> Models a 6-foot weather balloon. </description>
  <license
     licenseName="GPL (General Public License)"
     licenseURL="http://www.gnu.org/licenses/gpl.html"/>
  <note>
   This model was created using publicly available data, publicly available
   technical reports, textbooks, and guesses. It contains no proprietary or
   restricted data. It has been validated only to the extent that it seems
   to "fly right", and possibly to comply to published, publicly known,
   performance data (maximum speed, endurance, etc.). Thus, this model
   is meant for educational and entertainment purposes only.

   This simulation model is not endorsed by the manufacturer.
   This model is not to be sold.
  </note> 
  <note>
    References
    [1] BT-1039.12 http://library.gsfc.nasa.gov/Databases/Balloon/Data/BT1039.12.pdf
       Some Theoretical and Practical Aspects of Sounding Balloon Velocity
       Dewey and Alrny
       Andrew J. Kelly
       Jun 1968

    [2]  http://www.novalynx.com/400-balloons.html
      Model      Weight   Uninflated Diameter   Std Inflated Diameter   Burst Diameter
                  gm        in (mm)                   ft (cm)              ft (cm)
     400-8242    800     42.5 (108)                 6.1 (185)           22.3 (680)

     Balloon Weight   Free Lift   Payload   Gross Lift   Inflation Volume   Inflation Diameter   Ascent Rate   Altitude at Burst
           gm             gm         gm         gm               ft3 (m3)           ft (m)            m/min           mi (km)
          800           2000       1150       3950             127.4 (3.6)         6.2 (1.9)           400          17.4 (28)

    [3] http://ntrs.nasa.gov/search.jsp?R=19640016055    Aerodynamics of spherical balloon wind sensors
   </note>
 </fileheader>

 <metrics>
   <wingarea  unit="FT2">   9.8 </wingarea>
   <wingspan  unit="FT" >   6.2 </wingspan>
   <wing_incidence>         0.0 </wing_incidence>
   <chord     unit="FT" >   6.2 </chord>
   <htailarea unit="FT2">   0 </htailarea>
   <htailarm  unit="FT" >   0 </htailarm>
   <vtailarea unit="FT2">   0 </vtailarea>
   <vtailarm  unit="FT" >   0 </vtailarm>
   <location name="AERORP" unit="IN">
     <x> 0.0 </x>
     <y> 0.0 </y>
     <z> 0.0 </z>
   </location>
   <location name="EYEPOINT" unit="IN">
     <x> 0.0 </x>
     <y> 0.0 </y>
     <z> 0.0 </z>
   </location>
   <location name="VRP" unit="IN">
     <x> 0.0 </x>
     <y> 0.0 </y>
     <z> 0.0 </z>
   </location>
 </metrics>

 <mass_balance>
   <description> Inertia varies between 0.35 and 4.5 slug*ft2 as radius increases from 3.1 ft to 11.1 ft </description>
   <ixx unit="SLUG*FT2">     1.0 </ixx>
   <iyy unit="SLUG*FT2">     1.0 </iyy>
   <izz unit="SLUG*FT2">     1.0 </izz>
   <emptywt unit="KG" >      0.8 </emptywt>
   <location name="CG" unit="IN">
     <x> 0.0 </x>
     <y> 0.0 </y>
     <z> 0.0 </z>
   </location>
   <pointmass name="Radiosonde">
    <weight unit="KG">    1.15 </weight>
    <location name="POINTMASS" unit="IN">
     <x>   0.0 </x>
     <y>   0.0 </y>
     <z> -25.1 </z>
    </location>
  </pointmass> 
 </mass_balance>

 <ground_reactions>
  <contact type="STRUCTURE" name="Default">
    <location unit="IN">
     <x> 0.0 </x>
     <y> 0.0 </y>
     <z> 0.0 </z>
    </location>
    <static_friction>  1.00 </static_friction>
    <dynamic_friction> 1.00 </dynamic_friction>
    <spring_coeff unit="LBS/FT">      10.00 </spring_coeff>
    <damping_coeff unit="LBS/FT/SEC"> 10.00 </damping_coeff>
  </contact>
 </ground_reactions>

 <propulsion>
 </propulsion>

 <flight_control name="FCS: Sounding Balloon">
  <channel name="Burst">
   <switch name="buoyant_forces/gas-cell/burst">
    <default value="0.0"/>
    <test logic="OR" value="1.0">
      buoyant_forces/gas-cell/volume-ft3 ge buoyant_forces/gas-cell/max_volume-ft3
      buoyant_forces/gas-cell/burst ge 0.5
    </test>
    <output>buoyant_forces/gas-cell/valve_open</output>
   </switch>
  </channel>

  <channel name="chute">
   <fcs_function name="fcs/parachute_reef_pos_norm">
    <function>
     <sum>
      <property>inertia/weight-lbs</property>
      <property>forces/fbz-buoyancy-lbs</property>
     </sum>
    </function>
    <clipto>
     <min>0.</min>
     <max>1.</max>
    </clipto>
   </fcs_function>
  <pure_gain name="metrics/Schute-sqft">
    <input>fcs/parachute_reef_pos_norm</input>
    <gain> 8.0 </gain> <!-- Area of braking chute -->
   </pure_gain>
  </channel>

  <channel name="radiosonde">
   <fcs_function name="fcs/radiosonde-in">
    <description>Radiosonde is tied to the bottom of the balloon</description>
    <function>
     <product>
     <sum>
       <value>1.0</value> <!-- Radiosonde CG in feet below skin of balloon -->
       <property>metrics/radius-ft</property>
      </sum>
      <value>-12</value><!-- ft to inches -->
     </product>
    </function>
    <output>inertia/pointmass-location-Z-inches</output>
   </fcs_function>
  </channel>
 </flight_control>

 <aerodynamics>

  <function name="metrics/radius-ft">
   <description>Radius of balloon</description>
   <pow>
    <product>
     <value>0.23873241</value>
     <property>buoyant_forces/gas-cell/volume-ft3</property>
    </product>
    <value>0.33333</value>
    </pow>
  </function>

  <function name="metrics/diameter-ft">
   <description>Diameter of balloon</description>
   <product>
    <value>2.0</value>
    <property>metrics/radius-ft</property>
   </product>
  </function>

  <function name="metrics/Sref-sqft">
   <description>Profile area of balloon</description>
   <product>
    <property>metrics/radius-ft</property>
    <property>metrics/radius-ft</property>
    <value>3.14159</value>
   </product>
  </function>

   <function name="metrics/surface-sqft">
   <description>surface area of balloon</description>
   <product>
    <property>metrics/radius-ft</property>
    <property>metrics/radius-ft</property>
    <value>3.14159</value>
    <value>4.0</value>
   </product>
  </function>

  <function name="aero/Re-cor">
   <description>Reynold Number Corrected to balloon Diameter</description>
   <product>
    <property>aero/Re</property>
    <quotient>
      <property>metrics/diameter-ft</property>
      <property>metrics/cbarw-ft</property>
    </quotient>
   </product>
  </function>


  <axis name="LIFT">

  </axis>

  <axis name="DRAG">

   <function name="aero/force/BasicDrag">
     <description>Drag. Table from [1]</description>
      <product>
        <value name="Tweak"> 1.22 </value>
        <property>aero/qbar-psf</property>
        <property>metrics/Sref-sqft</property>
        <table>
          <independentVar>aero/Re-cor</independentVar>
          <tableData>
              8766  0.39
             28687  0.44
             81039  0.50
            110575  0.49
            232685  0.42
            460735  0.31
            613333  0.24
            690250  0.21
            883256  0.20
          </tableData>
        </table>
      </product>
    </function>

  </axis>

  <axis name="SIDE">

  </axis>

  <axis name="ROLL">
   <function name="aero/coefficient/Clp">
    <description>Roll_moment_due_to_roll_rate_(roll_damping)</description>
    <product>
     <property>aero/qbar-psf</property>
     <property>metrics/Sref-sqft</property>
     <property>aero/bi2vel</property>
     <property>velocities/p-aero-rad_sec</property>
     <value>-0.09</value>
    </product>
   </function> 

   <function name="aero/coefficient/Clpc">
    <description>Roll_moment_due_to_roll_rate_chute_(roll_damping)</description>
    <product>
     <property>aero/qbar-psf</property>
     <property>metrics/Schute-sqft</property>
     <property>aero/bi2vel</property>
     <property>velocities/p-aero-rad_sec</property>
     <value>-0.4</value>
    </product>
   </function> 
   </axis>

  <axis name="PITCH">
   <function name="aero/coefficient/Cmq">
    <description>Pitch_moment_due_to_pitch_rate</description>
    <product>
     <property>aero/qbar-psf</property>
     <property>metrics/Sref-sqft</property>
     <property>aero/ci2vel</property>
     <property>velocities/q-aero-rad_sec</property>
     <value>-0.09</value>
    </product>
   </function>

   <function name="aero/coefficient/Cmqc">
    <description>Pitch_moment_due_to_pitch_rate_chute</description>
    <product>
     <property>aero/qbar-psf</property>
     <property>metrics/Schute-sqft</property>
     <property>aero/ci2vel</property>
     <property>velocities/q-aero-rad_sec</property>
     <value>-0.4</value>
    </product>
   </function> 
  </axis>

  <axis name="YAW">
    <function name="aero/coefficient/Cnr">
     <description>Yaw_moment_due_to_yaw_rate</description>
     <product>
      <property>aero/qbar-psf</property>
      <property>metrics/Sref-sqft</property>
      <property>aero/bi2vel</property>
      <property>velocities/r-aero-rad_sec</property>
      <value>-0.05</value>
    </product>
   </function> 
 
  <function name="aero/coefficient/Cnrc">
     <description>Yaw_moment_due_to_yaw_rate_chute</description>
     <product>
      <property>aero/qbar-psf</property>
      <property>metrics/Schute-sqft</property>
      <property>aero/bi2vel</property>
      <property>velocities/r-aero-rad_sec</property>
      <value>-0.05</value>
    </product>
   </function> 
  </axis>

 </aerodynamics>

 <external_reactions>
  <force name="parachute" frame="WIND">
    <function>
      <product>
        <p> aero/qbar-psf </p>
        <p> metrics/Schute-sqft </p>
        <v> 1.4 </v> <!-- Full drag coefficient -->
      </product>
    </function>
    <location unit="FT">
      <x> 0</x>
      <y> 0</y>
      <z>-6.0</z>
    </location>
    <!-- The direction describes a unit vector. In this case, since
         the selected frame is the WIND frame, the "-1" x component
         describes a direction exactly opposite of the direction
         into the wind vector. That is, the direction specified below
         is the direction that the drag force acts in. -->
    <direction>
      <x>-1</x>
      <y>0</y>
      <z>0</z>
    </direction>
  </force>
 </external_reactions>

<buoyant_forces>
  <gas_cell type="HYDROGEN">
    <location unit="IN">
      <x> 0.0 </x>
      <y> 0.0 </y>
      <z> 0.0 </z>
    </location>
    <x_radius unit="IN"> 133.0 </x_radius>
    <y_radius unit="IN"> 133.0 </y_radius>
    <z_radius unit="IN"> 133.0 </z_radius>
    <fullness> 0.02 </fullness>
    <max_overpressure unit="LBS/FT2"> 3000.0 </max_overpressure><!-- WAG -->
    <heat>
    <!-- Heat transfer due to temperature difference. -->
    <function name="buoyant_forces/gas-cell/dU_conduction">
     <product>
      <property> metrics/surface-sqft </property> <!-- Surface area [ft2] -->
      <value>     0.02 </value> <!-- Conductivity [lb / (K ft sec)] (Guess) -->
      <difference>
       <property> atmosphere/T-R </property>
       <property> buoyant_forces/gas-cell/temp-R </property>
      </difference>
     </product>
    </function>
    <function name="buoyant_forces/gas-cell/dU_radiation">
     <product>
      <value> 0.1714e-8 </value> <!-- Stefan-Boltzmann's constant
                                      [Btu / (h ft^2 R^4)] -->
      <value>       0.05 </value> <!-- Emissivity [0,1] (Guess) -->
      <property> metrics/surface-sqft</property><!-- Surface area [ft2] -->
      <difference>
       <pow>
        <property> atmosphere/T-R </property>
        <value> 4.0 </value>
       </pow>
       <pow>
        <property> buoyant_forces/gas-cell/temp-R </property>
        <value> 4.0 </value>
       </pow>
      </difference>
     </product>
    </function> 
    </heat>
    <valve_coefficient unit="FT4*SEC/SLUG"> 100000 </valve_coefficient> <!-- just a big number so the hydrogen disappears when the balloon bursts -->
  </gas_cell>
</buoyant_forces>

</fdm_config>

// This file instructs the automatic synchronization utilities where to
// install this aircraft and under what name.
//
// The syntax is easy;
// * the package name at the beginning of a new line followed by a colon
// * a space as a column separator
// * the path and filename relative to the aircraft install directory
//
// Currently known package names are: FlightGear

FlightGear:

<pre>
======================================================
= 1903 Wright Flyer                                  =
= for FlightGear with LaRCsim and the UIUC Aeromodel =
=                                                    =
= Flight model by:                                   =
= Michael Selig, et al  (m-selig@uiuc.edu)           =
= <a href="http://www.aae.uiuc.edu/m-selig/apasim.html">http://www.aae.uiuc.edu/m-selig/apasim.html</a>     =
=                                                    =
= Visual model by:                                   =
= Jim Wilson (jimw@kelcomaine.com)                   =
= and some help from Paul Beardsley                  =
======================================================

To run, try:

fgfs --aircraft=wrightFlyer1903-v1-nl-uiuc

Files and directory structure required in $FG_ROOT/Aircraft/ to fly the
model:

wrightFlyer1903-v1-nl-uiuc-set.xml
wrightFlyer1903/Sounds/uiuc/wrightFlyer1903-sound.xml
UIUC/wrightFlyer1903-v1-nl/aircraft.dat
UIUC/wrightFlyer1903-v1-nl/CDfa.dat
UIUC/wrightFlyer1903-v1-nl/Cmfa2.dat
UIUC/wrightFlyer1903-v1-nl/Cmfade6.dat
UIUC/wrightFlyer1903-v1-nl/CLfade.dat
wrightFlyer1903/Models/[visual model files]

These files above come with the FlightGear base package.

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

Model description and updates:

12/21/02 - Updates to aircraft aero file, and tweaks (above and below)
           in this file.

5/26/02 - First release: v1-nl

* This model is based partly on wind tunnel tests of a 1903 Wright
  Flyer replica tested at NASA Ames by a group lead by Prof Culick at
  Caltech.  The model is a nonlinear model, meaning that stall of both
  the canard and biplane wing is included.  Because the replica was
  not tested to stall, data in this regime had to be deduced from a
  number of different sources, including low Reynolds number airfoil
  data taken at UIUC.

* Wonder what it was like to fly the 1903 Wright Flyer?  Be a test
  pilot.  See the longitudinal static instability.  Fly steady,
  straight and level, then put in a brief canard pulse (elevator
  stick) so as not to change the trim speed.  With an up canard pulse
  and hands off the stick, the Wright Flyer will start to pitch
  upwards until it stalls.  Down pulse, and it goes down.  This same
  instability is seen by simply trying to fly straight and level!  The
  rates are low enough that a good pilot with practice can stay ahead
  of the static instability.  Stall can get pretty nasty if both the
  canard and biplane wing stall at the same time. Typically, however,
  the canard will stall first.  Full up elevator can be used to fly
  out of the dive.  But in this condition the canard is
  stalled.  Relieving the back pressure will move the canard out of
  stall and the pull-out will be a little bit faster, but the
  difference is hard to notice.  Keep in mind that this aircraft was
  flown four times before it was damaged on Dec 17, 1903.  The first
  flight was 120 feet in 12 seconds, and the last was 852 feet in 59
  seconds.  How far can you fly?

* Run with the FGFS "enable-auto-coordination" option (default setup
  includes this option) to model the coupling between the wing warping
  and rudder to counteract the adverse yaw effect of the wing warping.
  The amount of coupling has been set to match that on the original
  Wright Flyer (see the aircraft.dat file for some specs).  The
  resulting handling is "not that great."  For later designs, the
  Wright Brothers decoupled the warping and rudder to have more
  control and the ability to fly in coordinated flight with
  cross-controls.

* Finally, it's a hand full!

* References:
 
  - Culick, F.E.C. and Jex, H.R., "Aerodynamics, Stability and
    Control of the 1903 Wright Flyer," Proceedings of The Wright
    Flyer: An Engineering Perspective, National Air and Space Museum,
    Smithsonian Institution, 1985.

  - Jex, H.R. and Culick, F.E.C., "Flight Control Dynamics of the
    1903 Wright Flyer," 12th AIAA Atmospheric Flight Mechanics
    Conference, AIAA Paper 85-1804-CP, 1985.

  - Jex, H, Grimm, R., Latz, J.P., and Hange, C., "Full-Scale 1903
    Wright Flyer Wind Tunnel Test Results From the NASA Ames Research
    Center", AIAA 38th Aerospace Sciences Meeting, AIAA Paper
    2000-0512, 2000.

  - Various other sources including 
    http://www.wrightflyer.org/Papers/papers.html
    http://www.aae.uiuc.edu/m-selig/uiuc_lsat.html (low Re data)


~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~




**************************************************
 Prof. Michael S. Selig
 Dept. of Aerospace Engineering
 University of Illinois at Urbana-Champaign
 306 Talbot Laboratory
 104 South Wright Street
 Urbana, IL 61801-2935
 (217) 244-5757 (o), (509) 691-1373 (fax)
 m-selig@uiuc.edu
 <a href="http://www.aae.uiuc.edu/m-selig">http://www.aae.uiuc.edu/m-selig</a>
**************************************************

</pre>

<?xml version="1.0"?>
<?xml-stylesheet type="text/xsl" href="http://jsbsim.sourceforge.net/JSBSim.xsl"?>
<fdm_config name="wrightFlyer1903" version="2.0" release="ALPHA"
   xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
   xsi:noNamespaceSchemaLocation="http://jsbsim.sourceforge.net/JSBSim.xsd">

 <fileheader>
  <author> Michael Selig, Erik Hofman </author>
  <filecreationdate>2015-09-19</filecreationdate>
  <version>$Revision: 1.2 $</version>
  <description> Models the 1903 Wright Flyer. </description>
 </fileheader>

<!--
  Wright Flyer data:
  (http://www.wright-brothers.org/Information_Desk/Help_with_Homework/Help_with_Homework_Intro/Flyer_Specifications_11x17.pdf)
  +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
  Dimensions: 
    40 ft. 4 in (12.29 m) overall width 
    21 ft. (6.40 m) overall length 
    8 ft. 1 in. (2.46 m) height over wings 
    8 ft. 4 in. (2.54 m) height over sweep of propellers
    6 ft. 6 in. (1.98 m) wing chord 
    1:20 wing camber 
    3.25 degrees angle of incidence
    10 in. (0.25 m) wing anhedral (droop) 

    6.2 ft (189 cm) (wing) separation
    510 sq ft (47.4 sq. m) wing area
    48 sq ft (4.6 sq m) double horizontal front rudder
    21 sq ft (1.9 sq m) twin movable vertical rear rudders

  Weights: 
    605 lbs. (274.42 kg) Total weight without pilot 
    16 lbs. (7.26 kg) fluids (water, gas, oil) 
    145 lbs. (65.77 kg) average weight of pilots 

  Engine: 
    4-cycle gasoline, 4 cylinders 
    4 in. bore x 4 in. stroke (10.16 cm x 10.16 cm) 
    Aluminum-copper alloy crankcase 
    12 hp at 1020 rpm 
    152 lbs (68.95 kg) weight of engine 
    18 lbs (8.16 kg) weight of magneto 

  Wing Loading: 
    1.47 lbs. per sq. ft. (7.18 kg per m2)
    62.5 lbs. (28.35 kg) per engine horsepower 

  Propellers 
    Twin contra-rotating propellers 
    Pusher configuration 
    Driven by roller chain, 1-in. (2.54 cm) pitch 
    8-tooth sprockets on crankshaft 
    23-tooth sprockets on propeller shafts 
    2-7/8:1 Engine to propeller rpm ratio 
    980 rpm approx. engine speed in flight 
    340 rpm approx. propeller speed in fligh

  Sources:
  * http://www.wright-brothers.org/Information_Desk/Just_the_Facts/Airplanes/Flyer_I.htm

  * http://www.wrightsfly.info/Page_27.html

  * UIUC FDM Data:
     - Culick, F.E.C. and Jex, H.R., "Aerodynamics, Stability and
       Control of the 1903 Wright Flyer," Proceedings of The Wright
       Flyer: An Engineering Perspective, National Air and Space Museum,
       Smithsonian Institution, 1985.

     - Jex, H.R. and Culick, F.E.C., "Flight Control Dynamics of the
       1903 Wright Flyer," 12th AIAA Atmospheric Flight Mechanics
       Conference, AIAA Paper 85-1804-CP, 1985.

     - Jex, H, Grimm, R., Latz, J.P., and Hange, C., "Full-Scale 1903
       Wright Flyer Wind Tunnel Test Results From the NASA Ames Research
       Center", AIAA 38th Aerospace Sciences Meeting, AIAA Paper
       2000-0512, 2000.

     - Various other sources including 
       http://www.wrightflyer.org/Papers/papers.html
       http://www.aae.uiuc.edu/m-selig/uiuc_lsat.html (low Re data)


  Descriptions:
    UIUC - University of Illinois Urbana-Champaign windtunnel data.
    Flyer - Flyer specifications from the wright-brothers.org website.

    **************************************************************
    Unless otherwise specified the data is generated by Aeromatic2 
    **************************************************************
-->

 <metrics>
   <wingarea  unit="FT2">  510.00 </wingarea>		<!-- UIUC -->
   <wingspan  unit="FT" >   40.33 </wingspan>		<!-- UIUC -->
   <wing_incidence>          3.25 </wing_incidence>	<!-- Flyer -->
   <chord     unit="FT" >    6.20 </chord>		<!-- UIUC -->
   <htailarea unit="FT2">   48.00 </htailarea>		<!-- Flyer -->
   <htailarm  unit="FT" >    6.50 </htailarm>		<!-- UIUC -->
   <vtailarea unit="FT2">   20.00 </vtailarea>		<!-- Flyer -->
   <vtailarm  unit="FT" >    6.50 </vtailarm>		<!-- UIUC -->
   <location name="AERORP" unit="IN">
     <x>  -4.3 </x>
     <y>   0.0 </y>
     <z> -17.0 </z>
   </location>
   <location name="EYEPOINT" unit="IN">			<!-- Model -->
     <x> -30.5 </x>
     <y>  18.1 </y>
     <z> -14.2 </z>
   </location>
   <location name="VRP" unit="IN">
     <x>   0.0 </x>
     <y>   0.0 </y>
     <z>   0.0 </z>
   </location>
 </metrics>

 <mass_balance>
   <ixx unit="SLUG*FT2">      1318 </ixx>		<!-- UIUC -->
   <iyy unit="SLUG*FT2">       271 </iyy>		<!-- UIUC -->
   <izz unit="SLUG*FT2">      1343 </izz>		<!-- UIUC -->
   <emptywt unit="LBS" >       435 </emptywt>		<!-- Flyer -->
   <location name="CG" unit="IN">			<!-- UIUC -->
     <x>   0.0 </x>
     <y>   0.0 </y>
     <z> -23.0 </z>
   </location>
   <pointmass name="Pilot">
    <description> 145 lbs pilot </description>
    <weight unit="LBS">    145.0 </weight>		<!-- Model -->
    <location name="POINTMASS" unit="IN">
      <x>  -2.3 </x>
      <y>  18.1 </y>
      <z> -30.9 </z>
    </location>
  </pointmass> 
  <pointmass name="Engine">
    <description> 152 lbs engine + 18 lbs magneto </description>
    <weight unit="LBS">    170.0 </weight>		<!-- Model -->
    <location name="POINTMASS" unit="IN">
      <x>  -4.9 </x>
      <y> -19.5 </y>
      <z> -27.6 </z>
    </location>
  </pointmass>
 </mass_balance>

 <ground_reactions>

  <contact type="BOGEY" name="LEFT_FRONT_MAIN">
   <location unit="IN">
     <x> -25.0 </x>
     <y> -23.0 </y>
     <z> -60.0 </z>
   </location>
   <static_friction>  0.35 </static_friction>
   <dynamic_friction> 0.50 </dynamic_friction>
   <rolling_friction> 0.002 </rolling_friction>
   <spring_coeff unit="LBS/FT">        600.00 </spring_coeff>
   <damping_coeff unit="LBS/FT/SEC">   300.00 </damping_coeff>
   <max_steer unit="DEG">0</max_steer>
   <retractable>1</retractable>
  </contact>

  <contact type="BOGEY" name="RIGHT_FRONT_MAIN">
   <location unit="IN">
     <x> -25.0 </x>
     <y>  23.0 </y>
     <z> -60.0 </z>
   </location>
   <static_friction>  0.35 </static_friction>
   <dynamic_friction> 0.50 </dynamic_friction>
   <rolling_friction> 0.002 </rolling_friction>
   <spring_coeff unit="LBS/FT">        600.00 </spring_coeff>
   <damping_coeff unit="LBS/FT/SEC">   300.00 </damping_coeff>
   <max_steer unit="DEG">0</max_steer>
   <retractable>1</retractable>
  </contact>

  <contact type="BOGEY" name="LEFT_REAR_MAIN">
   <location unit="IN">
     <x>  -5.0 </x>
     <y> -23.0 </y>
     <z> -60.0 </z>
   </location>
   <static_friction>  0.35 </static_friction>
   <dynamic_friction> 0.50 </dynamic_friction>
   <rolling_friction> 0.002 </rolling_friction>
   <spring_coeff unit="LBS/FT">        600.00 </spring_coeff>
   <damping_coeff unit="LBS/FT/SEC">   300.00 </damping_coeff>
   <max_steer unit="DEG">0</max_steer>
   <retractable>1</retractable>
  </contact>

  <contact type="BOGEY" name="RIGHT_REAR_MAIN">
   <location unit="IN">
     <x>  -5.0 </x>
     <y>  23.0 </y>
     <z> -60.0 </z>
   </location>
   <static_friction>  0.35 </static_friction>
   <dynamic_friction> 0.50 </dynamic_friction>
   <rolling_friction> 0.002 </rolling_friction>
   <spring_coeff unit="LBS/FT">        600.00 </spring_coeff>
   <damping_coeff unit="LBS/FT/SEC">   300.00 </damping_coeff>
   <max_steer unit="DEG">0</max_steer>
   <retractable>1</retractable>
  </contact>

  <contact type="STRUCTURE" name="LEFT_SKID">		<!-- Model -->
    <location unit="IN">
      <x> -15.0 </x>
      <y> -23.0 </y>
      <z> -57.6 </z>
    </location>
    <static_friction>  0.800 </static_friction>
    <dynamic_friction> 0.500 </dynamic_friction>
    <spring_coeff  unit="LBS/FT">       600.00 </spring_coeff>
    <damping_coeff unit="LBS/FT/SEC">   300.00 </damping_coeff>
  </contact>

  <contact type="STRUCTURE" name="RIGHT_SKID">		<!-- Model -->
    <location unit="IN">
     <x> -15.0 </x>
     <y>  23.0 </y>
     <z> -57.6 </z>
   </location>
   <static_friction>  0.800 </static_friction>
   <dynamic_friction> 0.500 </dynamic_friction>
   <spring_coeff unit="LBS/FT">        600.00 </spring_coeff>
   <damping_coeff unit="LBS/FT/SEC">   300.00 </damping_coeff>
  </contact>

  <contact type="STRUCTURE" name="NOSE">		<!-- Model -->
    <location unit="IN">
     <x> -129.2 </x>
     <y>    0.0 </y>
     <z>  -55.9 </z>
   </location>
   <static_friction>  0.800 </static_friction>
   <dynamic_friction> 0.500 </dynamic_friction>
   <spring_coeff unit="LBS/FT">        600.00 </spring_coeff>
   <damping_coeff unit="LBS/FT/SEC">   300.00 </damping_coeff>
  </contact>

  <contact type="STRUCTURE" name="TAIL">		<!-- Model -->
    <location unit="IN">
     <x>  117.1 </x>
     <y>    0.0 </y>
     <z>  -51.8 </z>
   </location>
   <static_friction>  0.800 </static_friction>
   <dynamic_friction> 0.500 </dynamic_friction>
   <spring_coeff unit="LBS/FT">        600.00 </spring_coeff>
   <damping_coeff unit="LBS/FT/SEC">   300.00 </damping_coeff>
  </contact>

  <contact type="STRUCTURE" name="LEFT_UPPER_WING">	<!-- Model -->
    <location unit="IN">
     <x>   -4.3 </x>
     <y>  245.8 </y>
     <z>   39.0 </z>
   </location>
   <static_friction>  1.00 </static_friction>
   <dynamic_friction> 1.00 </dynamic_friction>
   <spring_coeff unit="LBS/FT">        800.00 </spring_coeff>
   <damping_coeff unit="LBS/FT/SEC">   400.00 </damping_coeff>
  </contact>

  <contact type="STRUCTURE" name="RIGHT_UPPER_WING">	<!-- Model -->
    <location unit="IN">
     <x>   -4.3 </x>
     <y> -245.8 </y>
     <z>   39.0 </z>
   </location>
   <static_friction>  1.00 </static_friction>
   <dynamic_friction> 1.00 </dynamic_friction>
   <spring_coeff unit="LBS/FT">        800.00 </spring_coeff>
   <damping_coeff unit="LBS/FT/SEC">   400.00 </damping_coeff>
  </contact>

  <contact type="STRUCTURE" name="LEFT_LOWER_WING">	<!-- Model -->
    <location unit="IN">
     <x>   -4.3 </x>
     <y>  245.8 </y>
     <z>  -39.0 </z>
   </location>
   <static_friction>  1.00 </static_friction>
   <dynamic_friction> 1.00 </dynamic_friction>
   <spring_coeff unit="LBS/FT">        800.00 </spring_coeff>
   <damping_coeff unit="LBS/FT/SEC">   400.00 </damping_coeff>
  </contact>

  <contact type="STRUCTURE" name="RIGHT_LOWER_WING">	<!-- Model -->
    <location unit="IN">
     <x>   -4.3 </x>
     <y> -245.8 </y>
     <z>  -39.0 </z>
   </location>
   <static_friction>  1.00 </static_friction>
   <dynamic_friction> 1.00 </dynamic_friction>
   <spring_coeff unit="LBS/FT">        800.00 </spring_coeff>
   <damping_coeff unit="LBS/FT/SEC">   400.00 </damping_coeff>
  </contact>

 </ground_reactions>

 <propulsion>

   <engine file="wright1903_engine">
    <feed>0</feed>
<!--
    <thruster file="wright1903_propeller">
     <sense> 1 </sense>
     <location unit="IN">
       <x>  64.35 </x>
       <y>  66.41 </y>
       <z>   9.10 </z>
     </location>
     <orient unit="DEG">
       <pitch> 0.00 </pitch>
       <roll>  0.00 </roll>
       <yaw>   0.00 </yaw>
     </orient>
    </thruster>
    <thruster file="wright1903_propeller">
     <sense> -1 </sense>
     <location unit="IN">
       <x>  64.35 </x>
       <y> -66.41 </y>
       <z>   9.10 </z>
     </location>
     <orient unit="DEG">
       <pitch> 0.00 </pitch>
       <roll>  0.00 </roll>
       <yaw>   0.00 </yaw>
     </orient>
    </thruster>
-->
    <thruster file="wright1903_propellers">
     <sense> 1 </sense>
     <location unit="IN">
       <x>  64.35 </x>
       <y>   0.00 </y>
       <z>   9.10 </z>
     </location>
     <orient unit="DEG">
       <pitch> 0.00 </pitch>
       <roll>  0.00 </roll>
       <yaw>   0.00 </yaw>
     </orient>
    </thruster>
  </engine>

  <tank type="FUEL" number="0">
     <location unit="IN">
       <x> -26.1 </x>
       <y>  37.2 </y>
       <z>  20.2 </z>
     </location>
     <capacity unit="LBS">   1.375 </capacity>		<!-- Flyer -->
     <contents unit="LBS">   1.00 </contents>
  </tank>

 </propulsion>

 <flight_control name="FCS: unnamed">

  <channel name="Pitch">

   <aerosurface_scale name="Elevator Control">
      <input>fcs/elevator-cmd-norm</input>
      <range>
        <min> -0.35 </min>			<!-- UIUC -->
        <max>  0.35 </max>			<!-- UIUC -->
      </range>
      <output>fcs/elevator-pos-rad</output>
   </aerosurface_scale>

  </channel>

  <channel name="Roll">

   <aerosurface_scale name="Left Aileron Control">
      <input>fcs/aileron-cmd-norm</input>
      <range>
        <min> -0.148 </min>			<!-- UIUC -->
        <max>  0.148 </max>			<!-- UIUC -->
      </range>
      <output>fcs/left-aileron-pos-rad</output>
   </aerosurface_scale>

   <aerosurface_scale name="Right Aileron Control">
      <input>-fcs/aileron-cmd-norm</input>
      <range>
        <min> -0.148 </min>			<!-- UIUC -->
        <max>  0.148 </max>			<!-- UIUC -->
      </range>
      <output>fcs/right-aileron-pos-rad</output>
   </aerosurface_scale>

  </channel>

  <channel name="Yaw">

   <pure_gain name="fcs/scheduled-aileron">
      <input>fcs/aileron-cmd-norm</input>
      <gain>-0.25</gain>
   </pure_gain>

   <aerosurface_scale name="Rudder Control">
      <input>fcs/scheduled-aileron</input>
      <range>
        <min> -0.74 </min>			<!-- UIUC -->
        <max>  0.74 </max>			<!-- UIUC -->
      </range>
      <output>fcs/rudder-pos-rad</output>
   </aerosurface_scale>

  </channel>

  <channel name="Flaps">
  </channel>

  <channel name="Landing Gear">
  </channel>

  <channel name="Speedbrake">
  </channel>

 </flight_control>

 <aerodynamics>

  <function name="aero/function/kCDge">
    <description>Change_in_drag_due_to_ground_effect</description>
    <table>
        <independentVar>aero/h_b-mac-ft</independentVar>
        <tableData>
            0.0000	0.0350
            0.1000	0.4170
            0.1500	0.5390
            0.2000	0.6240
            0.3000	0.7510
            0.4000	0.8000
            0.5000	0.8960
            0.6000	0.9390
            0.7000	0.9740
            0.8000	0.9810
            0.9000	0.9900
            1.0000	0.9940
            1.1000	1.0000
        </tableData>
    </table>
  </function> 

  <function name="aero/function/kCLge">
    <description>Change_in_lift_due_to_ground_effect</description>
    <table>
        <independentVar>aero/h_b-mac-ft</independentVar>
        <tableData>
            0.0000	1.3910
            0.1000	1.2350
            0.1500	1.1670
            0.2000	1.1350
            0.3000	1.0850
            0.4000	1.1020
            0.5000	1.0350
            0.6000	1.0240
            0.7000	1.0150
            0.8000	1.0110
            0.9000	1.0060
            1.0000	1.0040
            1.1000	1.0000
        </tableData>
    </table>
  </function>

  <axis name="LIFT">

    <function name="aero/force/Lift_alpha">
      <description>Lift due to alpha and elevator deflection</description>
      <product>
          <property>aero/qbar-psf</property>
          <property>metrics/Sw-sqft</property>
          <table>
            <independentVar lookup="row">aero/alpha-rad</independentVar>
            <independentVar lookup="column">fcs/elevator-pos-rad</independentVar>
            <tableData>			<!-- UIUC: CLfade.dat -->
               		-0.080		-0.002		0.089
                -1.571	0.0		0.0		0.0
                -0.672	-0.61639	-0.61639	-0.61639
                -0.612	-0.65079	-0.65079	-0.65079
                -0.502	-0.67564	-0.67564	-0.67564
                -0.377	-0.70041	-0.70041	-0.70041
                -0.340	-0.73031	-0.73031	-0.73031
                -0.329	-0.75803	-0.75803	-0.75803
                -0.317	-0.76491	-0.76491	-0.76491
                -0.298	-0.74396	-0.74396	-0.74396
                -0.273	-0.67202	-0.67202	-0.67202
                -0.120	-0.089846	-0.089846	-0.089846
                -0.102	0.028372	0.028372	0.028372
                -0.085	0.20911		0.22067		0.23455
                -0.072	0.27635		0.29254		0.34349
                -0.065	0.31941		0.33634		0.38992
                -0.026	0.47699		0.51083		0.54184
                0.014	0.6402		0.66557		0.69661
                0.052	0.78932		0.8147		0.8288
                0.091	0.92714		0.93562		0.95252
                0.129	1.0932		1.0932		1.0932
                0.148	1.1669		1.1669		1.1669
                0.157	1.1948		1.1948		1.1948
                0.170	1.1948		1.1948		1.1948
                0.179	1.1764		1.1764		1.1764
                0.193	1.1093		1.1093		1.1093
                0.214	1.026		1.026		1.026
                0.229	1.0053		1.0053		1.0053
                0.262	0.99156		0.99156		0.99156
                0.420	0.94846		0.94846		0.94846
                0.537	0.87501		0.87501		0.87501
                0.633	0.77134		0.77134		0.77134
                1.571	0.0		0.0		0.0
            </tableData>
          </table>
      </product>
    </function>

  </axis>

  <axis name="DRAG">

    <function name="aero/force/Drag_basic">
       <description>Drag at zero lift</description>
       <product>
          <property>aero/qbar-psf</property>
          <property>metrics/Sw-sqft</property>
          <table>
            <independentVar lookup="row">aero/alpha-rad</independentVar>
            <tableData>			<!-- UIUC: CDfa.dat -->
                -1.571  1.1
                -0.722	0.75232
                -0.307	0.45656
                -0.227	0.39696
                -0.185	0.35873
                -0.158	0.30025
                -0.131	0.20354
                -0.109	0.13832
                -0.091	0.1147
                -0.065	0.10368
                -0.033	0.10708
                0.008	0.11898
                0.043	0.13711
                0.088	0.16317
                0.117	0.1915
                0.136	0.22041
                0.159	0.26314
                0.182	0.316
                0.207	0.36323
                0.254	0.41721
                0.304	0.45994
                0.658	0.6826
                1.571   1.1
            </tableData>
          </table>
       </product>
    </function>

  </axis>

  <axis name="SIDE">

    <function name="aero/force/Side_beta">
       <description>Side force due to beta</description>
       <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <property>aero/beta-rad</property>
           <value>-0.321</value>		<!-- UIUC -->
       </product>
    </function>

    <function name="aero/coefficient/Side_aileron">
       <description>Side force due to aileron</description>
       <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <property>fcs/right-aileron-pos-rad</property>
           <value>-0.636</value>		<!-- UIUC -->
       </product>
   </function>

   <function name="aero/coefficient/Side_rudder">
       <description>Side force due to rudder</description>
       <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <property>fcs/rudder-pos-rad</property>
           <value>0.241</value>			<!-- UIUC -->
       </product>
   </function>

   <function name="aero/coefficient/Side_yaw_rate">
       <description>Side force due to yaw rate</description>
       <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <property>aero/bi2vel</property>
           <property>velocities/r-aero-rad_sec</property>
           <value>0.3</value>			<!-- UIUC -->
       </product>
   </function>

  </axis>

  <axis name="ROLL">

    <function name="aero/moment/Roll_beta">
       <description>Roll moment due to beta</description>
       <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <property>metrics/bw-ft</property>
           <property>aero/beta-rad</property>
           <value>0.0212</value>		<!-- UIUC -->
       </product>
    </function>

    <function name="aero/moment/Roll_aileron">
       <description>Roll moment due to aileron</description>
       <product>
          <property>aero/qbar-psf</property>
          <property>metrics/Sw-sqft</property>
          <property>metrics/bw-ft</property>
          <property>fcs/right-aileron-pos-rad</property>
          <value>-0.1317</value>		<!-- UIUC -->
       </product>
    </function>

    <function name="aero/moment/Roll_rudder">
       <description>Roll moment due to rudder</description>
       <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <property>metrics/bw-ft</property>
           <property>fcs/rudder-pos-rad</property>
           <value>0.007</value>			<!-- UIUC -->
       </product>
    </function>

    <function name="aero/moment/Roll_damp">
       <description>Roll moment due to roll rate</description>
       <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <property>metrics/bw-ft</property>
           <property>aero/bi2vel</property>
           <property>velocities/p-aero-rad_sec</property>
           <value>-0.5</value>			<!-- UIUC -->
       </product>
    </function>

    <function name="aero/moment/Roll_yaw">
       <description>Roll moment due to yaw rate</description>
       <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <property>metrics/bw-ft</property>
           <property>aero/bi2vel</property>
           <property>velocities/r-aero-rad_sec</property>
           <value>0.0</value>			<!-- UIUC -->
       </product>
    </function>

  </axis>

  <axis name="PITCH">

    <function name="aero/moment/Pitch_alpha">
       <description>Pitch moment due to alpha</description>
       <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <property>metrics/cbarw-ft</property>
           <table>				<!-- UIUC: Cmfa2.dat -->
               <independentVar lookup="row">aero/alpha-rad</independentVar>
               <tableData>
                  -1.571	0.17
                  -0.610	0.18757
                  -0.114	-0.060044
                  -0.096	-0.081798
                  -0.084	-0.11772
                  -0.063	-0.13184
                  0.182		-0.13152
                  0.205		-0.14346
                  0.222		-0.17829
                  0.249		-0.19894
                  0.618		-0.3411
                  1.571		-0.3
               </tableData>
           </table>
       </product>
    </function>

    <function name="aero/moment/Pitch_elevator">
       <description>Pitch moment due to elevator</description>
       <product>
          <property>aero/qbar-psf</property>
          <property>metrics/Sw-sqft</property>
          <property>metrics/cbarw-ft</property>
          <table>				<!-- UIUC: Cmfade6.dat -->
            <independentVar lookup="row">aero/alpha-rad</independentVar>
            <independentVar lookup="column">fcs/elevator-cmd-norm</independentVar>
            <independentVar lookup="table">fcs/elevator-pos-rad</independentVar>
            <tableData  breakPoint="-0.524">
                         -1.0		1.0
                -1.338	-0.09		-0.09
                -0.978	-0.13938	-0.13938
                -0.808	-0.13272	-0.13272
                -0.627	-0.11193	-0.11193
                -0.572	-0.08881	-0.08881
                -0.532	-0.05452	-0.05452
                -0.499	-0.03539	-0.03539
                -0.480	-0.03847	-0.03847
                -0.458	-0.04257	-0.04257
                -0.440	-0.03351	-0.03351
                -0.395	0.0129		0.0129
                -0.343	0.06739		0.06739
                -0.306	0.1037		0.1037
                -0.267	0.13597		0.13597
                -0.232	0.15409		0.15409
                -0.193	0.1641		0.1641
                -0.172	0.16405		0.16405
                -0.150	0.15692		0.15692
                -0.129	0.1467		0.1467
                -0.113	0.14952		0.14952
                -0.094	0.14644		0.14644
                0.148	0.13977		0.13977
                0.376	0.12808		0.12808
                0.756	0.11		0.11
            </tableData>
            <tableData  breakPoint="-0.436">
                         -1.0		1.0
                -1.280	-0.09		-0.09
                -0.920	-0.13938	-0.13938
                -0.750	-0.13272	-0.13272
                -0.569	-0.11193	-0.11193
                -0.514	-0.08881	-0.08881
                -0.474	-0.05452	-0.05452
                -0.441	-0.03539	-0.03539
                -0.422	-0.03847	-0.03847
                -0.400	-0.04257	-0.04257
                -0.382	-0.03351	-0.03351
                -0.337	0.0129		0.0129
                -0.285	0.06739		0.06739
                -0.248	0.1037		0.1037
                -0.208	0.13597		0.13597
                -0.174	0.15409		0.15409
                -0.134	0.1641		0.1641
                -0.114	0.16405		0.16405
                -0.092	0.15692		0.15692
                -0.071	0.1467		0.1467
                -0.055	0.14952		0.14952
                -0.035	0.14644		0.14644
                0.206	0.13977		0.13977
                0.434	0.12808		0.12808
            </tableData>
            <tableData  breakPoint="-0.349">
                         -1.0		1.0
                -1.222	-0.09		-0.09
                -0.862	-0.13938	-0.13938
                -0.692	-0.13272	-0.13272
                -0.510	-0.11193	-0.11193
                -0.456	-0.08881	-0.08881
                -0.416	-0.05452	-0.05452
                -0.383	-0.03539	-0.03539
                -0.364	-0.03847	-0.03847
                -0.342	-0.04257	-0.04257
                -0.324	-0.03351	-0.03351
                -0.279	0.0129		0.0129
                -0.227	0.06739		0.06739
                -0.190	0.1037		0.1037
                -0.150	0.13597		0.13597
                -0.116	0.15409		0.15409
                -0.076	0.1641		0.1641
                -0.056	0.16405		0.16405
                -0.034	0.15692		0.15692
                -0.013	0.1467		0.1467
                0.003	0.14952		0.14952
                0.023	0.14644		0.14644
                0.264	0.13977		0.13977
                0.492	0.12808		0.12808
            </tableData>
            <tableData  breakPoint="-0.262">
                         -1.0		1.0
                -1.164	-0.09		-0.09
                -0.804	-0.13938	-0.13938
                -0.633	-0.13272	-0.13272
                -0.452	-0.11193	-0.11193
                -0.397	-0.08881	-0.08881
                -0.358	-0.05452	-0.05452
                -0.325	-0.03539	-0.03539
                -0.306	-0.03847	-0.03847
                -0.284	-0.04257	-0.04257
                -0.266	-0.03351	-0.03351
                -0.221	0.0129		0.0129
                -0.169	0.06739		0.06739
                -0.132	0.1037		0.1037
                -0.092	0.13597		0.13597
                -0.058	0.15409		0.15409
                -0.018	0.1641		0.1641
                0.003	0.16405		0.16405
                0.025	0.15692		0.15692
                0.045	0.1467		0.1467
                0.062	0.14952		0.14952
                0.081	0.14644		0.14644
                0.323	0.13977		0.13977
                0.550	0.12808		0.12808
            </tableData>
            <tableData  breakPoint="-0.175">
                         -1.0		1.0
                -1.105	-0.09		-0.09
                -0.745	-0.13938	-0.13938
                -0.575	-0.13272	-0.13272
                -0.394	-0.11193	-0.11193
                -0.339	-0.08881	-0.08881
                -0.300	-0.05452	-0.05452
                -0.267	-0.03539	-0.03539
                -0.247	-0.03847	-0.03847
                -0.226	-0.04257	-0.04257
                -0.208	-0.03351	-0.03351
                -0.163	0.0129		0.0129
                -0.111	0.06739		0.06739
                -0.074	0.1037		0.1037
                -0.034	0.13597		0.13597
                0.000	0.15409		0.15409
                0.040	0.1641		0.1641
                0.061	0.16405		0.16405
                0.083	0.15692		0.15692
                0.103	0.1467		0.1467
                0.120	0.14952		0.14952
                0.139	0.14644		0.14644
                0.381	0.13977		0.13977
                0.609	0.12808		0.12808
            </tableData>
            <tableData  breakPoint="-0.087">
                         -1.0		1.0
                -1.047	-0.09		-0.09
                -0.687	-0.13938	-0.13938
                -0.517	-0.13272	-0.13272
                -0.336	-0.11193	-0.11193
                -0.281	-0.08881	-0.08881
                -0.241	-0.05452	-0.05452
                -0.209	-0.03539	-0.03539
                -0.189	-0.03847	-0.03847
                -0.167	-0.04257	-0.04257
                -0.150	-0.03351	-0.03351
                -0.104	0.0129		0.0129
                -0.052	0.06739		0.06739
                -0.015	0.1037		0.1037
                0.024	0.13597		0.13597
                0.059	0.15409		0.15409
                0.098	0.1641		0.1641
                0.119	0.16405		0.16405
                0.141	0.15692		0.15692
                0.162	0.1467		0.1467
                0.178	0.14952		0.14952
                0.197	0.14644		0.14644
                0.439	0.13977		0.13977
                0.667	0.12808		0.12808
            </tableData>
            <tableData  breakPoint="0">	
                         -1.0		1.0
               -0.989	-0.09		-0.09
               -0.629	-0.13938	-0.13938
               -0.459	-0.13272	-0.13272
               -0.278	-0.11193	-0.11193
               -0.223	-0.08881	-0.08881
               -0.183	-0.05452	-0.05452
               -0.150	-0.03539	-0.03539
               -0.131	-0.03847	-0.03847
               -0.109	-0.04257	-0.04257
               -0.091	-0.03351	-0.03351
               -0.046	0.0129		0.0129
               0.006	0.06739		0.06739
               0.043	0.1037		0.1037
               0.082	0.13597		0.13597
               0.117	0.15409		0.15409
               0.156	0.1641		0.1641
               0.177	0.16405		0.16405
               0.199	0.15692		0.15692
               0.220	0.1467		0.1467
               0.236	0.14952		0.14952
               0.255	0.14644		0.14644
               0.497	0.13977		0.13977
               0.725	0.12808		0.12808
               1.105	0.11		0.11
            </tableData>
            <tableData  breakPoint="0.087">
                         -1.0		1.0
               -0.931	-0.09		-0.09
               -0.571	-0.13938	-0.13938
               -0.401	-0.13272	-0.13272
               -0.220	-0.11193	-0.11193
               -0.165	-0.08881	-0.08881
               -0.125	-0.05452	-0.05452
               -0.092	-0.03539	-0.03539
               -0.073	-0.03847	-0.03847
               -0.051	-0.04257	-0.04257
               -0.033	-0.03351	-0.03351
               0.012	0.0129		0.0129
               0.064	0.06739		0.06739
               0.101	0.1037		0.1037
               0.141	0.13597		0.13597
               0.175	0.15409		0.15409
               0.215	0.1641		0.1641
               0.235	0.16405		0.16405
               0.257	0.15692		0.15692
               0.278	0.1467		0.1467
               0.294	0.14952		0.14952
               0.314	0.14644		0.14644
               0.555	0.13977		0.13977
               0.783	0.12808		0.12808
            </tableData>
            <tableData  breakPoint="0.175">
                         -1.0		1.0
               -0.873	-0.09		-0.09
               -0.513	-0.13938	-0.13938
               -0.343	-0.13272	-0.13272
               -0.161	-0.11193	-0.11193
               -0.107	-0.08881	-0.08881
               -0.067	-0.05452	-0.05452
               -0.034	-0.03539	-0.03539
               -0.015	-0.03847	-0.03847
               0.007	-0.04257	-0.04257
               0.025	-0.03351	-0.03351
               0.070	0.0129		0.0129
               0.122	0.06739		0.06739
               0.159	0.1037		0.1037
               0.199	0.13597		0.13597
               0.233	0.15409		0.15409
               0.273	0.1641		0.1641
               0.293	0.16405		0.16405
               0.315	0.15692		0.15692
               0.336	0.1467		0.1467
               0.353	0.14952		0.14952
               0.372	0.14644		0.14644
               0.613	0.13977		0.13977
               0.841	0.12808		0.12808
            </tableData>
            <tableData  breakPoint="0.262">
                         -1.0		1.0
               -0.814	-0.09		-0.09
               -0.455	-0.13938	-0.13938
               -0.284	-0.13272	-0.13272
               -0.103	-0.11193	-0.11193
               -0.048	-0.08881	-0.08881
               -0.009	-0.05452	-0.05452
               0.024	-0.03539	-0.03539
               0.043	-0.03847	-0.03847
               0.065	-0.04257	-0.04257
               0.083	-0.03351	-0.03351
               0.128	0.0129		0.0129
               0.180	0.06739		0.06739
               0.217	0.1037		0.1037
               0.257	0.13597		0.13597
               0.291	0.15409		0.15409
               0.331	0.1641		0.1641
               0.352	0.16405		0.16405
               0.374	0.15692		0.15692
               0.394	0.1467		0.1467
               0.411	0.14952		0.14952
               0.430	0.14644		0.14644
               0.672	0.13977		0.13977
               0.899	0.12808		0.12808
            </tableData>
            <tableData  breakPoint="0.349">
                         -1.0		1.0
               -0.756	-0.09		-0.09
               -0.396	-0.13938	-0.13938
               -0.226	-0.13272	-0.13272
               -0.045	-0.11193	-0.11193
               0.010	-0.08881	-0.08881
               0.049	-0.05452	-0.05452
               0.082	-0.03539	-0.03539
               0.102	-0.03847	-0.03847
               0.124	-0.04257	-0.04257
               0.141	-0.03351	-0.03351
               0.187	0.0129		0.0129
               0.238	0.06739		0.06739
               0.275	0.1037		0.1037
               0.315	0.13597		0.13597
               0.349	0.15409		0.15409
               0.389	0.1641		0.1641
               0.410	0.16405		0.16405
               0.432	0.15692		0.15692
               0.452	0.1467		0.1467
               0.469	0.14952		0.14952
               0.488	0.14644		0.14644
               0.730	0.13977		0.13977
               0.958	0.12808		0.12808
            </tableData>
          </table>
       </product>
    </function>

    <function name="aero/moment/Pitch_damp">
       <description>Pitch moment due to pitch rate</description>
       <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <property>metrics/cbarw-ft</property>
           <property>aero/ci2vel</property>
           <property>velocities/q-aero-rad_sec</property>
           <value>-3.5</value>			<!-- UIUC -->
       </product>
    </function>

  </axis>

  <axis name="YAW">

    <function name="aero/moment/Yaw_beta">
       <description>Yaw moment due to beta</description>
       <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <property>metrics/bw-ft</property>
           <property>aero/beta-rad</property>
           <value>0.0335</value>		<!-- UIUC -->
       </product>
    </function>

    <function name="aero/moment/Yaw_rudder">
       <description>Yaw moment due to rudder</description>
       <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <property>metrics/bw-ft</property>
           <property>fcs/rudder-pos-rad</property>
           <value>-0.039</value>		<!-- UIUC -->
       </product>
    </function>

    <function name="aero/moment/Yaw_aileron">
       <description>Adverse yaw</description>
       <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <property>metrics/bw-ft</property>
           <property>fcs/right-aileron-pos-rad</property>
           <value>0.024</value>			<!-- UIUC -->
       </product>
    </function>

    <function name="aero/coefficient/Yaw_roll_rate">
       <description>Yaw moment due to roll rate</description>
       <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <property>metrics/bw-ft</property>
           <property>aero/bi2vel</property>
           <property>velocities/p-aero-rad_sec</property>
           <value>-0.06</value>			<!-- UIUC -->
       </product>
   </function>

    <function name="aero/moment/Yaw_damp">
       <description>Yaw moment due to yaw rate</description>
       <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <property>metrics/bw-ft</property>
           <property>aero/bi2vel</property>
           <property>velocities/r-aero-rad_sec</property>
           <value>-0.15</value>			<!-- UIUC -->
       </product>
    </function>

  </axis>

 </aerodynamics>

 <external_reactions>
 </external_reactions>

</fdm_config>

<?xml version="1.0"?>
<?xml-stylesheet type="text/xsl" href="http://jsbsim.sourceforge.net/JSBSim.xsl"?>
<fdm_config name="wrightFlyer1903" version="2.0" release="ALPHA"
   xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
   xsi:noNamespaceSchemaLocation="http://jsbsim.sourceforge.net/JSBSim.xsd">

 <fileheader>
  <author> Michael Selig, Erik Hofman </author>
  <filecreationdate>2015-09-19</filecreationdate>
  <version>$Revision: 1.1 $</version>
  <description> Models the 1903 Wright Flyer. </description>
 </fileheader>

<!--
  Wright Flyer data:
  (http://www.wright-brothers.org/Information_Desk/Help_with_Homework/Help_with_Homework_Intro/Flyer_Specifications_11x17.pdf)
  +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
  Dimensions: 
    40.ft. 4 in (12.29 m) overall width 
    21 ft. (6.40 m) overall length 
    8 ft. 1 in. (2.46 m) height over wings 
    8 ft. 4 in. (2.54 m) height over sweep of propellers
    6 ft. 6 in. (1.98 m) wing chord 
    1:20 wing camber 
    3.25 degrees angle of incidence
    10 in. (0.25 m) wing anhedral (droop) 

    6.2 ft (189 cm) (wing) separation
    510 sq ft (47.4 sq. m) wing area
    48 sq ft (4.6 sq m) double horizontal front rudder
    21 sq ft (1.9 sq m) twin movable vertical rear rudders

  Weights: 
    605 lbs. (274.42 kg) Total weight without pilot 
    16 lbs. (7.26 kg) fluids (water, gas, oil) 
    145 lbs. (65.77 kg) average weight of pilots 

  Engine: 
    4-cycle gasoline, 4 cylinders 
    4 in. bore x 4 in. stroke (10.16 cm x 10.16 cm) 
    Aluminum-copper alloy crankcase 
    12 hp at 1020 rpm 
    152 lbs (68.95 kg) weight of engine 
    18 lbs (8.16 kg) weight of magneto 

  Wing Loading: 
    1.47 lbs. per sq. ft. (7.18 kg per m2)
    62.5 lbs. (28.35 kg) per engine horsepower 

  Propellers 
    Twin contra-rotating propellers 
    Pusher configuration 
    Driven by roller chain, 1-in. (2.54 cm) pitch 
    8-tooth sprockets on crankshaft 
    23-tooth sprockets on propeller shafts 
    2-7/8:1 Engine to propeller rpm ratio 
    980 rpm approx. engine speed in flight 
    340 rpm approx. propeller speed in fligh

  Sources:
  * https://www.liv.ac.uk/media/livacuk/flightscience/projects/fs/fshistory/wright/publications/FHQ1905_v2.pdf

  * http://www.wright-brothers.org/Information_Desk/Just_the_Facts/Airplanes/Flyer_I.htm

  * http://www.wrightsfly.info/Page_27.html

  * UIUC FDM Data:
     - Culick, F.E.C. and Jex, H.R., "Aerodynamics, Stability and
       Control of the 1903 Wright Flyer," Proceedings of The Wright
       Flyer: An Engineering Perspective, National Air and Space Museum,
       Smithsonian Institution, 1985.

     - Jex, H.R. and Culick, F.E.C., "Flight Control Dynamics of the
       1903 Wright Flyer," 12th AIAA Atmospheric Flight Mechanics
       Conference, AIAA Paper 85-1804-CP, 1985.

     - Jex, H, Grimm, R., Latz, J.P., and Hange, C., "Full-Scale 1903
       Wright Flyer Wind Tunnel Test Results From the NASA Ames Research
       Center", AIAA 38th Aerospace Sciences Meeting, AIAA Paper
       2000-0512, 2000.

     - Various other sources including 
       http://www.wrightflyer.org/Papers/papers.html
       http://www.aae.uiuc.edu/m-selig/uiuc_lsat.html (low Re data)


  Descriptions:
    UIUC - University of Illinois Urbana-Champaign windtunnel data.
    Flyer - Flyer specifications from the wright-brothers.org website.

    **************************************************************
    Unless otherwise specified the data is generated by Aeromatic2 
    **************************************************************
-->

 <metrics>
   <wingarea  unit="FT2">  503.00 </wingarea>		<!-- Flyer III -->
   <wingspan  unit="FT" >   40.50 </wingspan>		<!-- Flyer III -->
   <wing_incidence>          3.25 </wing_incidence>	<!-- Flyer -->
   <chord     unit="FT" >    6.50 </chord>		<!-- Flyer III -->
   <htailarea unit="FT2">   83.00 </htailarea>		<!-- Flyer III -->
   <htailarm  unit="FT" >   12.00 </htailarm>		<!-- Flyer III -->
   <vtailarea unit="FT2">   34.80 </vtailarea>		<!-- Flyer III -->
   <vtailarm  unit="FT" >    6.50 </vtailarm>		<!-- UIUC -->
   <location name="AERORP" unit="IN">
     <x>  -4.3 </x>
     <y>   0.0 </y>
     <z> -17.0 </z>
   </location>
   <location name="EYEPOINT" unit="IN">			<!-- Model -->
     <x> -30.5 </x>
     <y>  18.1 </y>
     <z> -14.2 </z>
   </location>
   <location name="VRP" unit="IN">
     <x>   0.0 </x>
     <y>   0.0 </y>
     <z>   0.0 </z>
   </location>
 </metrics>

 <mass_balance>
   <ixx unit="SLUG*FT2">      1378 </ixx>		<!-- UIUC -->
   <iyy unit="SLUG*FT2">       271 </iyy>		<!-- UIUC -->
   <izz unit="SLUG*FT2">      1343 </izz>		<!-- UIUC -->
   <emptywt unit="LBS" >       565 </emptywt>		<!-- Flyer -->
   <location name="CG" unit="IN">			<!-- Flyer III -->
     <x>   0.0 </x>
     <y>   0.0 </y>
     <z> -23.0 </z>
   </location>
   <pointmass name="Pilot">
    <description> 145 lbs pilot </description>
    <weight unit="LBS">    145.0 </weight>		<!-- Model -->
    <location name="POINTMASS" unit="IN">
      <x>  -2.3 </x>
      <y>  18.1 </y>
      <z> -30.9 </z>
    </location>
  </pointmass> 
  <pointmass name="Engine">
    <description> 152 lbs engine + 18 lbs magneto </description>
    <weight unit="LBS">    170.0 </weight>		<!-- Model -->
    <location name="POINTMASS" unit="IN">
      <x>  -4.9 </x>
      <y> -19.5 </y>
      <z> -27.6 </z>
    </location>
  </pointmass>
  <pointmass name="Canard_mass">
  <description> 70 lbs to move C.G. forward </description>
    <weight unit="LBS">    70.0 </weight>
    <location name="POINTMASS" unit="IN">
      <x> -120.2 </x>
      <y>    0.0 </y>
      <z>  -55.9 </z>
    </location>
  </pointmass>

 </mass_balance>

 <ground_reactions>

  <contact type="BOGEY" name="LEFT_FRONT_MAIN">
   <location unit="IN">
     <x> -25.0 </x>
     <y> -23.0 </y>
     <z> -60.0 </z>
   </location>
   <static_friction>  0.35 </static_friction>
   <dynamic_friction> 0.50 </dynamic_friction>
   <rolling_friction> 0.002 </rolling_friction>
   <spring_coeff unit="LBS/FT">        600.00 </spring_coeff>
   <damping_coeff unit="LBS/FT/SEC">   300.00 </damping_coeff>
   <max_steer unit="DEG">0</max_steer>
   <retractable>1</retractable>
  </contact>

  <contact type="BOGEY" name="RIGHT_FRONT_MAIN">
   <location unit="IN">
     <x> -25.0 </x>
     <y>  23.0 </y>
     <z> -60.0 </z>
   </location>
   <static_friction>  0.35 </static_friction>
   <dynamic_friction> 0.50 </dynamic_friction>
   <rolling_friction> 0.002 </rolling_friction>
   <spring_coeff unit="LBS/FT">        600.00 </spring_coeff>
   <damping_coeff unit="LBS/FT/SEC">   300.00 </damping_coeff>
   <max_steer unit="DEG">0</max_steer>
   <retractable>1</retractable>
  </contact>

  <contact type="BOGEY" name="LEFT_REAR_MAIN">
   <location unit="IN">
     <x>  -5.0 </x>
     <y> -23.0 </y>
     <z> -60.0 </z>
   </location>
   <static_friction>  0.35 </static_friction>
   <dynamic_friction> 0.50 </dynamic_friction>
   <rolling_friction> 0.002 </rolling_friction>
   <spring_coeff unit="LBS/FT">        600.00 </spring_coeff>
   <damping_coeff unit="LBS/FT/SEC">   300.00 </damping_coeff>
   <max_steer unit="DEG">0</max_steer>
   <retractable>1</retractable>
  </contact>

  <contact type="BOGEY" name="RIGHT_REAR_MAIN">
   <location unit="IN">
     <x>  -5.0 </x>
     <y>  23.0 </y>
     <z> -60.0 </z>
   </location>
   <static_friction>  0.35 </static_friction>
   <dynamic_friction> 0.50 </dynamic_friction>
   <rolling_friction> 0.002 </rolling_friction>
   <spring_coeff unit="LBS/FT">        600.00 </spring_coeff>
   <damping_coeff unit="LBS/FT/SEC">   300.00 </damping_coeff>
   <max_steer unit="DEG">0</max_steer>
   <retractable>1</retractable>
  </contact>

  <contact type="STRUCTURE" name="LEFT_SKID">		<!-- Model -->
    <location unit="IN">
      <x> -15.0 </x>
      <y> -23.0 </y>
      <z> -57.6 </z>
    </location>
    <static_friction>  0.800 </static_friction>
    <dynamic_friction> 0.500 </dynamic_friction>
    <spring_coeff  unit="LBS/FT">       600.00 </spring_coeff>
    <damping_coeff unit="LBS/FT/SEC">   300.00 </damping_coeff>
  </contact>

  <contact type="STRUCTURE" name="RIGHT_SKID">		<!-- Model -->
    <location unit="IN">
     <x> -15.0 </x>
     <y>  23.0 </y>
     <z> -57.6 </z>
   </location>
   <static_friction>  0.800 </static_friction>
   <dynamic_friction> 0.500 </dynamic_friction>
   <spring_coeff unit="LBS/FT">        600.00 </spring_coeff>
   <damping_coeff unit="LBS/FT/SEC">   300.00 </damping_coeff>
  </contact>

  <contact type="STRUCTURE" name="NOSE">		<!-- Model -->
    <location unit="IN">
     <x> -129.2 </x>
     <y>    0.0 </y>
     <z>  -55.9 </z>
   </location>
   <static_friction>  0.800 </static_friction>
   <dynamic_friction> 0.500 </dynamic_friction>
   <spring_coeff unit="LBS/FT">        600.00 </spring_coeff>
   <damping_coeff unit="LBS/FT/SEC">   300.00 </damping_coeff>
  </contact>

  <contact type="STRUCTURE" name="TAIL">		<!-- Model -->
    <location unit="IN">
     <x>  117.1 </x>
     <y>    0.0 </y>
     <z>  -51.8 </z>
   </location>
   <static_friction>  0.800 </static_friction>
   <dynamic_friction> 0.500 </dynamic_friction>
   <spring_coeff unit="LBS/FT">        600.00 </spring_coeff>
   <damping_coeff unit="LBS/FT/SEC">   300.00 </damping_coeff>
  </contact>

  <contact type="STRUCTURE" name="LEFT_UPPER_WING">	<!-- Model -->
    <location unit="IN">
     <x>   -4.3 </x>
     <y>  245.8 </y>
     <z>   39.0 </z>
   </location>
   <static_friction>  1.00 </static_friction>
   <dynamic_friction> 1.00 </dynamic_friction>
   <spring_coeff unit="LBS/FT">        800.00 </spring_coeff>
   <damping_coeff unit="LBS/FT/SEC">   400.00 </damping_coeff>
  </contact>

  <contact type="STRUCTURE" name="RIGHT_UPPER_WING">	<!-- Model -->
    <location unit="IN">
     <x>   -4.3 </x>
     <y> -245.8 </y>
     <z>   39.0 </z>
   </location>
   <static_friction>  1.00 </static_friction>
   <dynamic_friction> 1.00 </dynamic_friction>
   <spring_coeff unit="LBS/FT">        800.00 </spring_coeff>
   <damping_coeff unit="LBS/FT/SEC">   400.00 </damping_coeff>
  </contact>

  <contact type="STRUCTURE" name="LEFT_LOWER_WING">	<!-- Model -->
    <location unit="IN">
     <x>   -4.3 </x>
     <y>  245.8 </y>
     <z>  -39.0 </z>
   </location>
   <static_friction>  1.00 </static_friction>
   <dynamic_friction> 1.00 </dynamic_friction>
   <spring_coeff unit="LBS/FT">        800.00 </spring_coeff>
   <damping_coeff unit="LBS/FT/SEC">   400.00 </damping_coeff>
  </contact>

  <contact type="STRUCTURE" name="RIGHT_LOWER_WING">	<!-- Model -->
    <location unit="IN">
     <x>   -4.3 </x>
     <y> -245.8 </y>
     <z>  -39.0 </z>
   </location>
   <static_friction>  1.00 </static_friction>
   <dynamic_friction> 1.00 </dynamic_friction>
   <spring_coeff unit="LBS/FT">        800.00 </spring_coeff>
   <damping_coeff unit="LBS/FT/SEC">   400.00 </damping_coeff>
  </contact>

 </ground_reactions>

 <propulsion>

   <engine file="wright1905_engine">
    <feed>0</feed>
    <thruster file="wright1903_propellers">
     <sense> 1 </sense>
     <location unit="IN">
       <x>  64.35 </x>
       <y>   0.00 </y>
       <z>   9.10 </z>
     </location>
     <orient unit="DEG">
       <pitch> 0.00 </pitch>
       <roll>  0.00 </roll>
       <yaw>   0.00 </yaw>
     </orient>
    </thruster>
  </engine>

  <tank type="FUEL" number="0">
     <location unit="IN">
       <x> -26.1 </x>
       <y>  37.2 </y>
       <z>  20.2 </z>
     </location>
     <capacity unit="LBS">  22.00 </capacity>		<!-- Flyer III -->
     <contents unit="LBS">  20.00 </contents>
  </tank>

 </propulsion>

 <flight_control name="FCS: unnamed">

  <channel name="Pitch">

   <aerosurface_scale name="Elevator Control">
      <input>fcs/elevator-cmd-norm</input>
      <range>
        <min> -0.35 </min>			<!-- UIUC -->
        <max>  0.35 </max>			<!-- UIUC -->
      </range>
      <output>fcs/elevator-pos-rad</output>
   </aerosurface_scale>

  </channel>

  <channel name="Roll">

   <aerosurface_scale name="Left Aileron Control">
      <input>fcs/aileron-cmd-norm</input>
      <range>
        <min> -0.148 </min>			<!-- UIUC -->
        <max>  0.148 </max>			<!-- UIUC -->
      </range>
      <output>fcs/left-aileron-pos-rad</output>
   </aerosurface_scale>

   <aerosurface_scale name="Right Aileron Control">
      <input>-fcs/aileron-cmd-norm</input>
      <range>
        <min> -0.148 </min>			<!-- UIUC -->
        <max>  0.148 </max>			<!-- UIUC -->
      </range>
      <output>fcs/right-aileron-pos-rad</output>
   </aerosurface_scale>

  </channel>

  <channel name="Yaw">

   <aerosurface_scale name="Rudder Control">
      <input>fcs/rudder-cmd-norm</input>
      <range>
        <min> -0.74 </min>			<!-- UIUC -->
        <max>  0.74 </max>			<!-- UIUC -->
      </range>
      <output>fcs/rudder-pos-rad</output>
   </aerosurface_scale>

  </channel>

  <channel name="Flaps">
  </channel>

  <channel name="Landing Gear">
  </channel>

  <channel name="Speedbrake">
  </channel>

 </flight_control>

 <aerodynamics>

  <function name="aero/function/kCDge">
    <description>Change_in_drag_due_to_ground_effect</description>
    <product>
          <table>
            <independentVar>aero/h_b-mac-ft</independentVar>
            <tableData>
                0.0000	0.0350
                0.1000	0.4170
                0.1500	0.5390
                0.2000	0.6240
                0.3000	0.7510
                0.4000	0.8000
                0.5000	0.8960
                0.6000	0.9390
                0.7000	0.9740
                0.8000	0.9810
                0.9000	0.9900
                1.0000	0.9940
                1.1000	1.0000
            </tableData>
          </table>
    </product>
  </function> 

  <function name="aero/function/kCLge">
    <description>Change_in_lift_due_to_ground_effect</description>
    <product>
          <table>
            <independentVar>aero/h_b-mac-ft</independentVar>
            <tableData>
                0.0000	1.3910
                0.1000	1.2350
                0.1500	1.1670
                0.2000	1.1350
                0.3000	1.0850
                0.4000	1.1020
                0.5000	1.0350
                0.6000	1.0240
                0.7000	1.0150
                0.8000	1.0110
                0.9000	1.0060
                1.0000	1.0040
                1.1000	1.0000
            </tableData>
          </table>
    </product>
  </function>

  <axis name="LIFT">

    <function name="aero/force/Lift_alpha">
      <description>Lift due to alpha and elevator deflection</description>
      <product>
          <property>aero/qbar-psf</property>
          <property>metrics/Sw-sqft</property>
          <table>
            <independentVar lookup="row">aero/alpha-rad</independentVar>
            <independentVar lookup="column">fcs/elevator-pos-rad</independentVar>
            <tableData>			<!-- UIUC: CLfade.dat -->
               		-0.080		-0.002		0.089
                -1.571	0.0		0.0		0.0
                -0.672	-0.61639	-0.61639	-0.61639
                -0.612	-0.65079	-0.65079	-0.65079
                -0.502	-0.67564	-0.67564	-0.67564
                -0.377	-0.70041	-0.70041	-0.70041
                -0.340	-0.73031	-0.73031	-0.73031
                -0.329	-0.75803	-0.75803	-0.75803
                -0.317	-0.76491	-0.76491	-0.76491
                -0.298	-0.74396	-0.74396	-0.74396
                -0.273	-0.67202	-0.67202	-0.67202
                -0.120	-0.089846	-0.089846	-0.089846
                -0.102	0.028372	0.028372	0.028372
                -0.085	0.20911		0.22067		0.23455
                -0.072	0.27635		0.29254		0.34349
                -0.065	0.31941		0.33634		0.38992
                -0.026	0.47699		0.51083		0.54184
                0.014	0.6402		0.66557		0.69661
                0.052	0.78932		0.8147		0.8288
                0.091	0.92714		0.93562		0.95252
                0.129	1.0932		1.0932		1.0932
                0.148	1.1669		1.1669		1.1669
                0.157	1.1948		1.1948		1.1948
                0.170	1.1948		1.1948		1.1948
                0.179	1.1764		1.1764		1.1764
                0.193	1.1093		1.1093		1.1093
                0.214	1.026		1.026		1.026
                0.229	1.0053		1.0053		1.0053
                0.262	0.99156		0.99156		0.99156
                0.420	0.94846		0.94846		0.94846
                0.537	0.87501		0.87501		0.87501
                0.633	0.77134		0.77134		0.77134
                1.571	0.0		0.0		0.0
            </tableData>
          </table>
      </product>
    </function>

  </axis>

  <axis name="DRAG">

    <function name="aero/force/Drag_basic">
       <description>Drag at zero lift</description>
       <product>
          <property>aero/qbar-psf</property>
          <property>metrics/Sw-sqft</property>
          <table>
            <independentVar lookup="row">aero/alpha-rad</independentVar>
            <tableData>			<!-- UIUC: CDfa.dat -->
                -1.571  1.1
                -0.722	0.75232
                -0.307	0.45656
                -0.227	0.39696
                -0.185	0.35873
                -0.158	0.30025
                -0.131	0.20354
                -0.109	0.13832
                -0.091	0.1147
                -0.065	0.10368
                -0.033	0.10708
                0.008	0.11898
                0.043	0.13711
                0.088	0.16317
                0.117	0.1915
                0.136	0.22041
                0.159	0.26314
                0.182	0.316
                0.207	0.36323
                0.254	0.41721
                0.304	0.45994
                0.658	0.6826
                1.571   1.1
            </tableData>
          </table>
       </product>
    </function>

  </axis>

  <axis name="SIDE">

    <function name="aero/force/Side_beta">
       <description>Side force due to beta</description>
       <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <property>aero/beta-rad</property>
           <value>-0.321</value>		<!-- UIUC -->
       </product>
    </function>

    <function name="aero/coefficient/Side_aileron">
       <description>Side force due to aileron</description>
       <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <property>fcs/right-aileron-pos-rad</property>
           <value>-0.636</value>		<!-- UIUC -->
       </product>
   </function>

   <function name="aero/coefficient/Side_rudder">
       <description>Side force due to rudder</description>
       <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <property>fcs/rudder-pos-rad</property>
           <value>0.241</value>			<!-- UIUC -->
       </product>
   </function>

   <function name="aero/coefficient/Side_yaw_rate">
       <description>Side force due to yaw rate</description>
       <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <property>aero/bi2vel</property>
           <property>velocities/r-aero-rad_sec</property>
           <value>0.3</value>			<!-- UIUC -->
       </product>
   </function>

  </axis>

  <axis name="ROLL">

    <function name="aero/moment/Roll_beta">
       <description>Roll moment due to beta</description>
       <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <property>metrics/bw-ft</property>
           <property>aero/beta-rad</property>
           <value>0.0212</value>		<!-- UIUC -->
       </product>
    </function>

    <function name="aero/moment/Roll_aileron">
       <description>Roll moment due to aileron</description>
       <product>
          <property>aero/qbar-psf</property>
          <property>metrics/Sw-sqft</property>
          <property>metrics/bw-ft</property>
          <property>fcs/right-aileron-pos-rad</property>
          <value>-0.1317</value>		<!-- UIUC -->
       </product>
    </function>

    <function name="aero/moment/Roll_rudder">
       <description>Roll moment due to rudder</description>
       <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <property>metrics/bw-ft</property>
           <property>fcs/rudder-pos-rad</property>
           <value>0.007</value>			<!-- UIUC -->
       </product>
    </function>

    <function name="aero/moment/Roll_damp">
       <description>Roll moment due to roll rate</description>
       <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <property>metrics/bw-ft</property>
           <property>aero/bi2vel</property>
           <property>velocities/p-aero-rad_sec</property>
           <value>-0.5</value>			<!-- UIUC -->
       </product>
    </function>

    <function name="aero/moment/Roll_yaw">
       <description>Roll moment due to yaw rate</description>
       <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <property>metrics/bw-ft</property>
           <property>aero/bi2vel</property>
           <property>velocities/r-aero-rad_sec</property>
           <value>0.0</value>			<!-- UIUC -->
       </product>
    </function>

  </axis>

  <axis name="PITCH">

    <function name="aero/moment/Pitch_alpha">
       <description>Pitch moment due to alpha</description>
       <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <property>metrics/cbarw-ft</property>
           <table>				<!-- UIUC: Cmfa2.dat (*2.5) -->
               <independentVar lookup="row">aero/alpha-rad</independentVar>
               <tableData>
                  -1.571	0.425
                  -0.61		0.468925
                  -0.114	-0.15011
                  -0.096	-0.204495
                  -0.084	-0.2943
                  -0.063	-0.3296
                  0.182		-0.3288
                  0.205		-0.35865
                  0.222		-0.445725
                  0.249		-0.49735
                  0.618		-0.85275
                  1.571		-0.75
               </tableData>
           </table>
       </product>
    </function>

    <function name="aero/moment/Pitch_elevator">
       <description>Pitch moment due to elevator</description>
       <product>
          <property>aero/qbar-psf</property>
          <property>metrics/Sw-sqft</property>
          <property>metrics/cbarw-ft</property>
          <table>			<!-- UIUC: Cmfade6.dat (*2.5) -->
            <independentVar lookup="row">aero/alpha-rad</independentVar>
            <independentVar lookup="column">fcs/elevator-cmd-norm</independentVar>
            <independentVar lookup="table">fcs/elevator-pos-rad</independentVar>
            <tableData  breakPoint="-0.524">
                         -1.0		1.0
                -1.338	-0.225		-0.225
                -0.978	-0.34845	-0.34845
                -0.808	-0.3318		-0.3318
                -0.627	-0.279825	-0.279825
                -0.572	-0.222025	-0.222025
                -0.532	-0.1363		-0.1363
                -0.499	-0.088475	-0.088475
                -0.48	-0.096175	-0.096175
                -0.458	-0.106425	-0.106425
                -0.44	-0.083775	-0.083775
                -0.395	0.03225		0.03225
                -0.343	0.168475	0.168475
                -0.306	0.25925		0.25925
                -0.267	0.339925	0.339925
                -0.232	0.385225	0.385225
                -0.193	0.41025		0.41025
                -0.172	0.410125	0.410125
                -0.15	0.3923		0.3923
                -0.129	0.36675		0.36675
                -0.113	0.3738		0.3738
                -0.094	0.3661		0.3661
                0.148	0.349425	0.349425
                0.376	0.3202		0.3202
                0.756	0.275		0.275
            </tableData>
            <tableData  breakPoint="-0.436">
                         -1.0		1.0
                -1.28	-0.225		-0.225
                -0.92	-0.34845	-0.34845
                -0.75	-0.3318		-0.3318
                -0.569	-0.279825	-0.279825
                -0.514	-0.222025	-0.222025
                -0.474	-0.1363		-0.1363
                -0.441	-0.088475	-0.088475
                -0.422	-0.096175	-0.096175
                -0.4	-0.106425	-0.106425
                -0.382	-0.083775	-0.083775
                -0.337	0.03225		0.03225
                -0.285	0.168475	0.168475
                -0.248	0.25925		0.25925
                -0.208	0.339925	0.339925
                -0.174	0.385225	0.385225
                -0.134	0.41025		0.41025
                -0.114	0.410125	0.410125
                -0.092	0.3923		0.3923
                -0.071	0.36675		0.36675
                -0.055	0.3738		0.3738
                -0.035	0.3661		0.3661
                0.206	0.349425	0.349425
                0.434	0.3202		0.3202
            </tableData>
            <tableData  breakPoint="-0.349">
                         -1.0		1.0
                -1.222	-0.225		-0.225
                -0.862	-0.34845	-0.34845
                -0.692	-0.3318		-0.3318
                -0.51	-0.279825	-0.279825
                -0.456	-0.222025	-0.222025
                -0.416	-0.1363		-0.1363
                -0.383	-0.088475	-0.088475
                -0.364	-0.096175	-0.096175
                -0.342	-0.106425	-0.106425
                -0.324	-0.083775	-0.083775
                -0.279	0.03225		0.03225
                -0.227	0.168475	0.168475
                -0.19	0.25925		0.25925
                -0.15	0.339925	0.339925
                -0.116	0.385225	0.385225
                -0.076	0.41025		0.41025
                -0.056	0.410125	0.410125
                -0.034	0.3923		0.3923
                -0.013	0.36675		0.36675
                0.003	0.3738		0.3738
                0.023	0.3661		0.3661
                0.264	0.349425	0.349425
                0.492	0.3202		0.3202

            </tableData>
            <tableData  breakPoint="-0.262">
                         -1.0		1.0
                -1.164	-0.225		-0.225
                -0.804	-0.34845	-0.34845
                -0.633	-0.3318		-0.3318
                -0.452	-0.279825	-0.279825
                -0.397	-0.222025	-0.222025
                -0.358	-0.1363		-0.1363
                -0.325	-0.088475	-0.088475
                -0.306	-0.096175	-0.096175
                -0.284	-0.106425	-0.106425
                -0.266	-0.083775	-0.083775
                -0.221	0.03225		0.03225
                -0.169	0.168475	0.168475
                -0.132	0.25925		0.25925
                -0.092	0.339925	0.339925
                -0.058	0.385225	0.385225
                -0.018	0.41025		0.41025
                0.003	0.410125	0.410125
                0.025	0.3923		0.3923
                0.045	0.36675		0.36675
                0.062	0.3738		0.3738
                0.081	0.3661		0.3661
                0.323	0.349425	0.349425
                0.55	0.3202		0.3202
            </tableData>
            <tableData  breakPoint="-0.175">
                         -1.0		1.0
                -1.105	-0.225		-0.225
                -0.745	-0.34845	-0.34845
                -0.575	-0.3318		-0.3318
                -0.394	-0.279825	-0.279825
                -0.339	-0.222025	-0.222025
                -0.3	-0.1363		-0.1363
                -0.267	-0.088475	-0.088475
                -0.247	-0.096175	-0.096175
                -0.226	-0.106425	-0.106425
                -0.208	-0.083775	-0.083775
                -0.163	0.03225		0.03225
                -0.111	0.168475	0.168475
                -0.074	0.25925		0.25925
                -0.034	0.339925	0.339925
                0	0.385225	0.385225
                0.04	0.41025		0.41025
                0.061	0.410125	0.410125
                0.083	0.3923		0.3923
                0.103	0.36675		0.36675
                0.12	0.3738		0.3738
                0.139	0.3661		0.3661
                0.381	0.349425	0.349425
                0.609	0.3202		0.3202
            </tableData>
            <tableData  breakPoint="-0.087">
                         -1.0		1.0
                -1.047	-0.225		-0.225
                -0.687	-0.34845	-0.34845
                -0.517	-0.3318		-0.3318
                -0.336	-0.279825	-0.279825
                -0.281	-0.222025	-0.222025
                -0.241	-0.1363		-0.1363
                -0.209	-0.088475	-0.088475
                -0.189	-0.096175	-0.096175
                -0.167	-0.106425	-0.106425
                -0.15	-0.083775	-0.083775
                -0.104	0.03225		0.03225
                -0.052	0.168475	0.168475
                -0.015	0.25925		0.25925
                0.024	0.339925	0.339925
                0.059	0.385225	0.385225
                0.098	0.41025		0.41025
                0.119	0.410125	0.410125
                0.141	0.3923		0.3923
                0.162	0.36675		0.36675
                0.178	0.3738		0.3738
                0.197	0.3661		0.3661
                0.439	0.349425	0.349425
                0.667	0.3202		0.3202
            </tableData>
            <tableData  breakPoint="0">	
                         -1.0		1.0
               -0.989	-0.225		-0.225
               -0.629	-0.34845	-0.34845
               -0.459	-0.3318		-0.3318
               -0.278	-0.279825	-0.279825
               -0.223	-0.222025	-0.222025
               -0.183	-0.1363		-0.1363
               -0.15	-0.088475	-0.088475
               -0.131	-0.096175	-0.096175
               -0.109	-0.106425	-0.106425
               -0.091	-0.083775	-0.083775
               -0.046	0.03225		0.03225
               0.006	0.168475	0.168475
               0.043	0.25925		0.25925
               0.082	0.339925	0.339925
               0.117	0.385225	0.385225
               0.156	0.41025		0.41025
               0.177	0.410125	0.410125
               0.199	0.3923		0.3923
               0.22	0.36675		0.36675
               0.236	0.3738		0.3738
               0.255	0.3661		0.3661
               0.497	0.349425	0.349425
               0.725	0.3202		0.3202
            </tableData>
            <tableData  breakPoint="0.087">
                         -1.0		1.0
               -0.931	-0.225		-0.225
               -0.571	-0.34845	-0.34845
               -0.401	-0.3318		-0.3318
               -0.22	-0.279825	-0.279825
               -0.165	-0.222025	-0.222025
               -0.125	-0.1363		-0.1363
               -0.092	-0.088475	-0.088475
               -0.073	-0.096175	-0.096175
               -0.051	-0.106425	-0.106425
               -0.033	-0.083775	-0.083775
               0.012	0.03225		0.03225
               0.064	0.168475	0.168475
               0.101	0.25925		0.25925
               0.141	0.339925	0.339925
               0.175	0.385225	0.385225
               0.215	0.41025		0.41025
               0.235	0.410125	0.410125
               0.257	0.3923		0.3923
               0.278	0.36675		0.36675
               0.294	0.3738		0.3738
               0.314	0.3661		0.3661
               0.555	0.349425	0.349425
               0.783	0.3202		0.3202
            </tableData>
            <tableData  breakPoint="0.175">
                         -1.0		1.0
               -0.873	-0.225		-0.225
               -0.513	-0.34845	-0.34845
               -0.343	-0.3318		-0.3318
               -0.161	-0.279825	-0.279825
               -0.107	-0.222025	-0.222025
               -0.067	-0.1363		-0.1363
               -0.034	-0.088475	-0.088475
               -0.015	-0.096175	-0.096175
               0.007	-0.106425	-0.106425
               0.025	-0.083775	-0.083775
               0.07	0.03225		0.03225
               0.122	0.168475	0.168475
               0.159	0.25925		0.25925
               0.199	0.339925	0.339925
               0.233	0.385225	0.385225
               0.273	0.41025		0.41025
               0.293	0.410125	0.410125
               0.315	0.3923		0.3923
               0.336	0.36675		0.36675
               0.353	0.3738		0.3738
               0.372	0.3661		0.3661
               0.613	0.349425	0.349425
               0.841	0.3202		0.3202
            </tableData>
            <tableData  breakPoint="0.262">
                         -1.0		1.0
               -0.814	-0.225		-0.225
               -0.455	-0.34845	-0.34845
               -0.284	-0.3318		-0.3318
               -0.103	-0.279825	-0.279825
               -0.048	-0.222025	-0.222025
               -0.009	-0.1363		-0.1363
               0.024	-0.088475	-0.088475
               0.043	-0.096175	-0.096175
               0.065	-0.106425	-0.106425
               0.083	-0.083775	-0.083775
               0.128	0.03225		0.03225
               0.18	0.168475	0.168475
               0.217	0.25925		0.25925
               0.257	0.339925	0.339925
               0.291	0.385225	0.385225
               0.331	0.41025		0.41025
               0.352	0.410125	0.410125
               0.374	0.3923		0.3923
               0.394	0.36675		0.36675
               0.411	0.3738		0.3738
               0.43	0.3661		0.3661
               0.672	0.349425	0.349425
               0.899	0.3202		0.3202
            </tableData>
            <tableData  breakPoint="0.349">
                         -1.0		1.0
               -0.756	-0.225		-0.225
               -0.396	-0.34845	-0.34845
               -0.226	-0.3318		-0.3318
               -0.045	-0.279825	-0.279825
               0.01	-0.222025	-0.222025
               0.049	-0.1363		-0.1363
               0.082	-0.088475	-0.088475
               0.102	-0.096175	-0.096175
               0.124	-0.106425	-0.106425
               0.141	-0.083775	-0.083775
               0.187	0.03225		0.03225
               0.238	0.168475	0.168475
               0.275	0.25925		0.25925
               0.315	0.339925	0.339925
               0.349	0.385225	0.385225
               0.389	0.41025		0.41025
               0.41	0.410125	0.410125
               0.432	0.3923		0.3923
               0.452	0.36675		0.36675
               0.469	0.3738		0.3738
               0.488	0.3661		0.3661
               0.73	0.349425	0.349425
               0.958	0.3202		0.3202
            </tableData>
          </table>
       </product>
    </function>

    <function name="aero/moment/Pitch_damp">
       <description>Pitch moment due to pitch rate</description>
       <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <property>metrics/cbarw-ft</property>
           <property>aero/ci2vel</property>
           <property>velocities/q-aero-rad_sec</property>
           <value>-3.5</value>			<!-- UIUC -->
       </product>
    </function>

  </axis>

  <axis name="YAW">

    <function name="aero/moment/Yaw_beta">
       <description>Yaw moment due to beta</description>
       <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <property>metrics/bw-ft</property>
           <property>aero/beta-rad</property>
           <value>0.0335</value>		<!-- UIUC -->
       </product>
    </function>

    <function name="aero/moment/Yaw_rudder">
       <description>Yaw moment due to rudder</description>
       <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <property>metrics/bw-ft</property>
           <property>fcs/rudder-pos-rad</property>
           <value>-0.039</value>		<!-- UIUC -->
       </product>
    </function>

    <function name="aero/moment/Yaw_aileron">
       <description>Adverse yaw</description>
       <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <property>metrics/bw-ft</property>
           <property>fcs/right-aileron-pos-rad</property>
           <value>0.024</value>			<!-- UIUC -->
       </product>
    </function>

    <function name="aero/coefficient/Yaw_roll_rate">
       <description>Yaw moment due to roll rate</description>
       <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <property>metrics/bw-ft</property>
           <property>aero/bi2vel</property>
           <property>velocities/p-aero-rad_sec</property>
           <value>-0.06</value>			<!-- UIUC -->
       </product>
   </function>

    <function name="aero/moment/Yaw_damp">
       <description>Yaw moment due to yaw rate</description>
       <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <property>metrics/bw-ft</property>
           <property>aero/bi2vel</property>
           <property>velocities/r-aero-rad_sec</property>
           <value>-0.15</value>			<!-- UIUC -->
       </product>
    </function>

  </axis>

 </aerodynamics>

 <external_reactions>
 </external_reactions>

</fdm_config>

// This file instructs the automatic synchronization utilities where to
// install this aircraft and under what name.
//
// The syntax is easy;
// * the package name at the beginning of a new line followed by a colon
// * a space as a column separator
// * the path and filename relative to the aircraft install directory
//
// Currently known package names are: FlightGear

FlightGear:
<?xml version="1.0"?>
<initialize name="reset00">
  <!--
    This file sets up the aircraft to start off
    from the runway in preparation for takeoff.
  -->
  <ubody unit="FT/SEC">  600.0  </ubody>
  <vbody unit="FT/SEC">    0.0  </vbody>
  <wbody unit="FT/SEC">   20.0  </wbody>
  <latitude unit="DEG">   47.0  </latitude>
  <longitude unit="DEG">-110.0  </longitude>
  <phi unit="DEG">         0.0  </phi>
  <theta unit="DEG">       0.0  </theta>
  <psi unit="DEG">       270.0  </psi>
  <altitude unit="FT"> 45000.0  </altitude>
</initialize>

<?xml version="1.0"?>
<?xml-stylesheet type="text/xsl" href="http://jsbsim.sourceforge.net/JSBSim.xsl"?>
<fdm_config name="X-24B" version="2.0" release="BETA"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:noNamespaceSchemaLocation="http://jsbsim.sourceforge.net/JSBSim.xsd">

    <fileheader>
        <author> Jon Berndt </author>
        <filecreationdate> 2001-01-01 </filecreationdate>
        <version> $Revision: 1.14 $ </version>
        <description> X-24B research aircraft </description>
      <note>
        This model was created using publicly available data, publicly available
        technical reports, textbooks, and guesses. It contains no proprietary or
        restricted data. If this model has been validated at all, it would be
        only to the extent that it seems to "fly right", and that it possibly
        complies with published, publicly known, performance data (maximum speed,
        endurance, etc.). Thus, this model is meant for educational and entertainment
        purposes only.

        This simulation model is not endorsed by the manufacturer. This model is not
        to be sold.
      </note>
    </fileheader>

    <metrics>
        <wingarea unit="FT2"> 330.5 </wingarea>
        <wingspan unit="FT"> 19 </wingspan>
        <chord unit="FT"> 37.5 </chord>
        <htailarea unit="FT2"> 0 </htailarea>
        <htailarm unit="FT"> 0 </htailarm>
        <vtailarea unit="FT2"> 0 </vtailarea>
        <vtailarm unit="FT"> 0 </vtailarm>
        <location name="AERORP" unit="IN">
            <x> 288 </x>
            <y> 0 </y>
            <z> 0 </z>
        </location>
        <location name="EYEPOINT" unit="IN">
            <x> 144 </x>
            <y> 0 </y>
            <z> 26 </z>
        </location>
        <location name="VRP" unit="IN">
            <x> 0 </x>
            <y> 0 </y>
            <z> 0 </z>
        </location>
    </metrics>

    <mass_balance negated_crossproduct_inertia="true">
        <ixx unit="SLUG*FT2"> 2650 </ixx>
        <iyy unit="SLUG*FT2"> 23710 </iyy>
        <izz unit="SLUG*FT2"> 24120 </izz>
        <ixz unit="SLUG*FT2"> -620 </ixz>
        <emptywt unit="LBS"> 8500 </emptywt>
        <location name="CG" unit="IN">
            <x> 288 </x>
            <y> 0 </y>
            <z> 0 </z>
        </location>
    </mass_balance>

    <ground_reactions>
        <contact type="BOGEY" name="NOSE">
            <location unit="IN">
                <x> 63 </x>
                <y> 0 </y>
                <z> -48 </z>
            </location>
            <static_friction> 0.5 </static_friction>
            <dynamic_friction> 0.02 </dynamic_friction>
            <rolling_friction> 0.02 </rolling_friction>
            <spring_coeff unit="LBS/FT"> 15000 </spring_coeff>
            <damping_coeff unit="LBS/FT/SEC"> 1000 </damping_coeff>
            <max_steer unit="DEG"> 0.0 </max_steer>
            <brake_group> NONE </brake_group>
            <retractable>0</retractable>
        </contact>
        <contact type="BOGEY" name="LEFT_SKID">
            <location unit="IN">
                <x> 540.6 </x>
                <y> -56.8 </y>
                <z> -76.6 </z>
            </location>
            <static_friction> 0.9 </static_friction>
            <dynamic_friction> 0.2 </dynamic_friction>
            <rolling_friction> 0.2 </rolling_friction>
            <spring_coeff unit="LBS/FT"> 15000 </spring_coeff>
            <damping_coeff unit="LBS/FT/SEC"> 1000 </damping_coeff>
            <max_steer unit="DEG"> 0.0 </max_steer>
            <brake_group> NONE </brake_group>
            <retractable>0</retractable>
        </contact>
        <contact type="BOGEY" name="RIGHT_SKID">
            <location unit="IN">
                <x> 540.6 </x>
                <y> 56.8 </y>
                <z> -76.6 </z>
            </location>
            <static_friction> 0.9 </static_friction>
            <dynamic_friction> 0.2 </dynamic_friction>
            <rolling_friction> 0.2 </rolling_friction>
            <spring_coeff unit="LBS/FT"> 15000 </spring_coeff>
            <damping_coeff unit="LBS/FT/SEC"> 1000 </damping_coeff>
            <max_steer unit="DEG"> 0.0 </max_steer>
            <brake_group> NONE </brake_group>
            <retractable>0</retractable>
        </contact>
    </ground_reactions>
    <propulsion>
        <engine file="XLR99">
            <feed>0</feed>
            <feed>1</feed>
            <thruster file="xlr99_nozzle">
                <location unit="IN">
                    <x> 450 </x>
                    <y> 0 </y>
                    <z> 0 </z>
                </location>
                <orient unit="DEG">
                    <roll> 0.0 </roll>
                    <pitch> 0.0 </pitch>
                    <yaw> 0.0 </yaw>
                </orient>
            </thruster>
        </engine>
        <tank type="OXIDIZER">    <!-- Tank number 0 -->
            <location unit="IN">
                <x> 288 </x>
                <y> 0 </y>
                <z> 0 </z>
            </location>
            <capacity unit="LBS"> 2800 </capacity>
            <contents unit="LBS"> 2800 </contents>
        </tank>
        <tank type="FUEL">    <!-- Tank number 1 -->
            <location unit="IN">
                <x> 288 </x>
                <y> 0 </y>
                <z> 0 </z>
            </location>
            <capacity unit="LBS"> 2500 </capacity>
            <contents unit="LBS"> 2500 </contents>
        </tank>
    </propulsion>
    <flight_control name="FCS: X-15 SAS">
        <channel name="Pitch">
            <summer name="Pitch Trim Sum">
                <input>fcs/elevator-cmd-norm</input>
                <input>fcs/pitch-trim-cmd-norm</input>
                <clipto>
                    <min>-1</min>
                    <max>1</max>
                </clipto>
            </summer>

            <aerosurface_scale name="Pitch Command Scale">
                <input>fcs/pitch-trim-sum</input>
                <range>
                    <min>-50</min>
                    <max>50</max>
                </range>
            </aerosurface_scale>

            <pure_gain name="Pitch Gain 1">
                <input>fcs/pitch-command-scale</input>
                <gain>-0.36</gain>
            </pure_gain>

            <scheduled_gain name="Pitch Scheduled Gain 1">
                <input>fcs/pitch-gain-1</input>
                <gain>0.017</gain>
                <table>
                    <independentVar>fcs/elevator-pos-rad</independentVar>
                    <tableData>
                        -0.68  -26.548
                        -0.595 -20.513
                        -0.51  -15.328
                        -0.425 -10.993
                        -0.34   -7.508
                        -0.255  -4.873
                        -0.17   -3.088
                        -0.085  -2.153
                         0      -2.068
                         0.085  -2.833
                         0.102  -3.088
                         0.119  -3.377
                         0.136  -3.7
                         0.153  -4.057
                         0.17   -4.448
                         0.187  -4.873
                         0.272  -7.508
                         0.357 -10.993
                         0.442 -15.328
                         0.527 -20.513
                         0.612 -26.548
                         0.697 -33.433
                    </tableData>
                </table>
            </scheduled_gain>

            <pure_gain name="Pitch SAS Feedback">
                <input>velocities/q-rad_sec</input>
                <gain>0.75</gain>
            </pure_gain>

            <summer name="Elevator Positioning">
                <input>fcs/pitch-scheduled-gain-1</input>
                <input>fcs/pitch-sas-feedback</input>
                <clipto>
                    <min>-0.26</min>
                    <max>0.61</max>
                </clipto>
            </summer>

            <lag_filter name="Elevator Filter">
                <input>fcs/elevator-positioning</input>
                <c1>600</c1>
                <output>fcs/elevator-pos-rad</output>
            </lag_filter>

        </channel>

        <channel name="Roll">

            <aerosurface_scale name="Roll Command Scale">
                <input>fcs/aileron-cmd-norm</input>
                <range>
                    <min>-20</min>
                    <max>20</max>
                </range>
            </aerosurface_scale>

            <pure_gain name="Roll Gain 1">
                <input>fcs/roll-command-scale</input>
                <gain>0.42</gain>
            </pure_gain>

            <pure_gain name="Roll Gain 2">
                <input>fcs/roll-gain-1</input>
                <gain>0.027</gain>
            </pure_gain>

            <pure_gain name="Yaw-Roll Crossover Gain">
                <input>velocities/r-rad_sec</input>
                <gain>-0.9</gain>
            </pure_gain>

            <summer name="Yaw Coupled Aileron Feedback Sum">
                <input>velocities/p-rad_sec</input>
                <input>fcs/yaw-roll-crossover-gain</input>
            </summer>

            <pure_gain name="Roll SAS Gain">
                <input>fcs/yaw-coupled-aileron-feedback-sum</input>
                <gain>-0.5</gain>
            </pure_gain>

            <summer name="Aileron Positioning">
                <input>fcs/roll-gain-2</input>
                <input>fcs/roll-sas-gain</input>
                <clipto>
                    <min>-0.35</min>
                    <max>0.35</max>
                </clipto>
                <output>fcs/left-aileron-pos-rad</output>
            </summer>

        </channel>

        <channel name="Yaw">

            <aerosurface_scale name="Yaw Command Scale">
                <input>fcs/rudder-cmd-norm</input>
                <range>
                    <min>-250</min>
                    <max>250</max>
                </range>
            </aerosurface_scale>

            <pure_gain name="Yaw Gain 1">
                <input>fcs/yaw-command-scale</input>
                <gain>0.082</gain>
            </pure_gain>

            <pure_gain name="Yaw Gain 2">
                <input>fcs/yaw-gain-1</input>
                <gain>0.04</gain>
            </pure_gain>

            <pure_gain name="Yaw SAS Gain">
                <input>velocities/r-rad_sec</input>
                <gain>0.3</gain>
            </pure_gain>

            <summer name="Rudder Positioning">
                <input>fcs/yaw-gain-2</input>
                <input>fcs/yaw-sas-gain</input>
                <clipto>
                    <min>-0.52</min>
                    <max>0.52</max>
                </clipto>
                <output>fcs/rudder-pos-rad</output>
            </summer>
        </channel>
    </flight_control>
    <aerodynamics>

        <axis name="DRAG">
            <function name="aero/coefficient/CDmin">
                <description>Drag_minimum</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <value>0.028</value>
                </product>
            </function>
            <function name="aero/coefficient/CDi">
                <description>Drag_induced</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>aero/cl-squared</property>
                    <value>0.505</value>
                </product>
            </function>
        </axis>

        <axis name="SIDE">
            <function name="aero/coefficient/CYb">
                <description>Side_force_due_to_beta</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>aero/beta-rad</property>
                    <value>-0.516</value>
                </product>
            </function>
            <function name="aero/coefficient/CYda">
                <description>Side_force_due_to_aileron</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>fcs/left-aileron-pos-rad</property>
                    <value>-0.069</value>
                </product>
            </function>
            <function name="aero/coefficient/CYdr">
                <description>Side_force_due_to_rudder</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>fcs/rudder-pos-rad</property>
                    <value>0.086</value>
                </product>
            </function>
        </axis>

        <axis name="LIFT">
            <function name="aero/coefficient/CLalpha">
                <description>Lift_due_to_alpha</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>aero/alpha-rad</property>
                    <value>1.24</value>
                </product>
            </function>
            <function name="aero/coefficient/CLDe">
                <description>Lift_due_to_Elevator_Deflection</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>fcs/elevator-pos-rad</property>
                    <value>0.286</value>
                </product>
            </function>
        </axis>

        <axis name="ROLL">
            <function name="aero/coefficient/Clb">
                <description>Roll_moment_due_to_beta</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>aero/beta-rad</property>
                      <table>
                          <independentVar>aero/alpha-rad</independentVar>
                          <tableData>
                              -0.3490	0.1150
                              0.0000	0.0000
                              0.3490	-0.1150
                          </tableData>
                      </table>
                </product>
            </function>
            <function name="aero/coefficient/Clp">
                <description>Roll_moment_due_to_roll_rate_(roll_damping)</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>aero/bi2vel</property>
                    <property>velocities/p-rad_sec</property>
                    <value>-0.1200</value>
                </product>
            </function>
            <function name="aero/coefficient/Clr">
                <description>Roll_moment_due_to_yaw_rate</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>aero/bi2vel</property>
                    <property>velocities/r-rad_sec</property>
                    <value>0.0100</value>
                </product>
            </function>
            <function name="aero/coefficient/Clda">
                <description>Roll_moment_due_to_aileron</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>fcs/left-aileron-pos-rad</property>
                    <value>0.0400</value>
                </product>
            </function>
            <function name="aero/coefficient/Cldr">
                <description>Roll_moment_due_to_rudder</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>fcs/rudder-pos-rad</property>
                    <value>0.0460</value>
                </product>
            </function>
        </axis>

        <axis name="PITCH">
            <function name="aero/coefficient/Cmalpha">
                <description>Pitch_moment_due_to_alpha</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/cbarw-ft</property>
                    <property>aero/alpha-rad</property>
                    <value>-0.0570</value>
                </product>
            </function>
            <function name="aero/coefficient/Cmq">
                <description>Pitch_moment_due_to_pitch_rate</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/cbarw-ft</property>
                    <property>aero/ci2vel</property>
                    <property>velocities/q-rad_sec</property>
                    <value>-0.3000</value>
                </product>
            </function>
            <function name="aero/coefficient/Cmde">
                <description>Pitch_moment_due_to_elevator_deflection</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/cbarw-ft</property>
                    <property>fcs/elevator-pos-rad</property>
                    <value>-0.0660</value>
                </product>
            </function>
        </axis>

        <axis name="YAW">
            <function name="aero/coefficient/Cnb">
                <description>Yaw_moment_due_to_beta</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>aero/beta-rad</property>
                    <value>0.0860</value>
                </product>
            </function>
            <function name="aero/coefficient/Cnp">
                <description>Yaw_moment_due_to_roll_rate</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>aero/bi2vel</property>
                    <property>velocities/p-rad_sec</property>
                    <value>0.1000</value>
                </product>
            </function>
            <function name="aero/coefficient/Cnr">
                <description>Yaw_moment_due_to_yaw_rate</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>aero/bi2vel</property>
                    <property>velocities/r-rad_sec</property>
                    <value>-0.4800</value>
                </product>
            </function>
            <function name="aero/coefficient/Cnda">
                <description>Yaw_moment_due_to_aileron</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>fcs/left-aileron-pos-rad</property>
                    <value>0.0290</value>
                </product>
            </function>
            <function name="aero/coefficient/Cndr">
                <description>Yaw_moment_due_to_rudder</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>fcs/rudder-pos-rad</property>
                    <value>-0.0570</value>
                </product>
            </function>
        </axis>
    </aerodynamics>
</fdm_config>
<?xml version="1.0"?>
<!--
  File:     AJ26-33A.xml
  Author:   Aero-Matic v 0.8; refined by Jon Berndt

  Inputs:
    Name:           AJ26-33A (Aerojet)
    Type:           rocket
    Thrust:         339000.0 lb
    Propellants     LO2/HC (LOX Kerosene)
    Propellant flow rate (est.): 1130 lbs/sec (lbs weight - not mass)
    Mixture Ratio   2.6 (by mass, Ox/Fuel)
    Ox. Flow Rate (SL) 816
    Fuel Flow Rate (SL) 314
    Lox-HC Mol Wt.  22
    Flame temp      3200+ K (~5300 Fahrenheit)
    Chamber Pressure 2109 psia (303,700 psf)
    ISP (sea level) 297
    ISP (vacuum)    331
    Weight          2725 lbm
    Thrust Weight   125
    Length/Diameter 12.2/6.7 feet
    Nozzle Exp. Ratio 27:1
    Nozzle exit velocity 5920 ft/sec
    Nozzle exit pressure 14.7 psi (2117 psf)

    Molecular mass of HC (Kerosene): 175

    Throttleable Control  55% - 104%
    Mixture Ratio Control  Yes
    Status Flight Qualified

-->

<rocket_engine name="AJ26-33A">
  <isp>                   331.0 </isp>
  <maxthrottle>           1.00  </maxthrottle>
  <minthrottle>           0.40  </minthrottle>
  <slfuelflowmax unit="LBS/SEC">  314.0  </slfuelflowmax>
  <sloxiflowmax unit="LBS/SEC">   816.0  </sloxiflowmax>
</rocket_engine>
<?xml version="1.0"?>
<nozzle name="AJ26-33 Nozzle">
  <!--
    pe      = Nozzle exit pressure, psf.
    expr    = Nozzle expansion ratio, Ae/At, sqft.
    nzl_eff = Nozzle efficiency, 0.0 - 1.0
    diam    = Nozzle diameter, ft.
  -->
  <pe unit="PSF">  40.0  </pe>
  <expr>            9.8  </expr>
  <nzl_eff>         0.67 </nzl_eff>
  <diam unit="FT">  3.2  </diam>
</nozzle>

<?xml version="1.0"?>
<!--
  File:     BR700-725.xml
  Author:   Aero-Matic v 0.81

  Inputs:
    name:           BR700-725
    type:           turbine
    thrust:         15460 lb
    augmented?      no
    injected?       no
-->

<turbine_engine name="BR700-725">
  <milthrust> 15460.0 </milthrust>
  <bypassratio>     4.4 </bypassratio>
  <tsfc>            0.657 </tsfc>
  <bleed>           0.03</bleed>
  <idlen1>         30.0 </idlen1>
  <idlen2>         60.0 </idlen2>
  <maxn1>         100.0 </maxn1>
  <maxn2>         100.0 </maxn2>
  <augmented>         0 </augmented>
  <injected>          0 </injected>

  <function name="IdleThrust">
   <table>
    <independentVar lookup="row">velocities/mach</independentVar>
    <independentVar lookup="column">atmosphere/density-altitude</independentVar>
    <tableData>
         -10000     0     10000   20000   30000   40000   50000   60000
     0.0  0.0430  0.0488  0.0528  0.0694  0.0899  0.1183  0.1467  0.0
     0.2  0.0500  0.0501  0.0335  0.0544  0.0797  0.1049  0.1342  0.0
     0.4  0.0040  0.0047  0.0020  0.0272  0.0595  0.0891  0.1203  0.0
     0.6  0.0     0.0     0.0     0.0     0.0276  0.0718  0.1073  0.0
     0.8  0.0     0.0     0.0     0.0     0.0474  0.0868  0.0900  0.0
     1.0  0.0     0.0     0.0     0.0     0.0     0.0552  0.0800  0.0
    </tableData>
   </table>
  </function>

  <function name="MilThrust">
   <table>
    <independentVar lookup="row">velocities/mach</independentVar>
    <independentVar lookup="column">atmosphere/density-altitude</independentVar>
    <tableData>
          -10000       0   10000   20000   30000   40000   50000   60000
     0.0   1.2600  1.0000  0.7400  0.5340  0.3720  0.2410  0.1490  0.0
     0.2   1.1710  0.9340  0.6970  0.5060  0.3550  0.2310  0.1430  0.0
     0.4   1.1500  0.9210  0.6920  0.5060  0.3570  0.2330  0.1450  0.0
     0.6   1.1810  0.9510  0.7210  0.5320  0.3780  0.2480  0.1540  0.0
     0.8   1.2580  1.0200  0.7820  0.5820  0.4170  0.2750  0.1700  0.0
     1.0   1.3690  1.1200  0.8710  0.6510  0.4750  0.3150  0.1950  0.0
     1.2   1.4850  1.2300  0.9750  0.7440  0.5450  0.3640  0.2250  0.0
     1.4   1.5941  1.3400  1.0860  0.8450  0.6280  0.4240  0.2630  0.0
    </tableData>
   </table>
  </function>

</turbine_engine>

<?xml version="1.0"?>
<!--
  File:     BR710.xml
  Author:   Aero-Matic v 0.81

  Inputs:
    name:           Rolls Royce BR710
    type:           turbine
    thrust:         15000 lb
    augmented?      no
    injected?       no

    reference: http://www.togo84.com/spec05_gas_turbines.pdf
           or: http://www.aviationnow.com/media/pdf/spec05_gas_turbines.pdf

    type: ..............................   A-F
    no. fan stages: ....................     1
    no. compressor stages: .............    10
    no. turbine stages lp: .............     2
    no. turbine stages hp: .............     2
    compressor type: ...................    An
    max power at sea level: ...........  15000 lb
    specific fuel consumption at max power:  0.639
    overall pressure ratio at max power:    24
    max envelope diameter: .............    48 in
    max envelope length: ...............   134 in
    dirty weight (wo. tailpipe): .......  3600 lb
-->

<turbine_engine name="BR710">
  <milthrust> 15000.0 </milthrust>
  <bypassratio>     4.2 </bypassratio>
  <tsfc>            0.639 </tsfc>
  <bleed>           0.03</bleed>
  <idlen1>         30.0 </idlen1>
  <idlen2>         60.0 </idlen2>
  <maxn1>         100.0 </maxn1>
  <maxn2>         100.0 </maxn2>
  <augmented>         0 </augmented>
  <injected>          0 </injected>

  <function name="IdleThrust">
   <table>
    <independentVar lookup="row">velocities/mach</independentVar>
    <independentVar lookup="column">atmosphere/density-altitude</independentVar>
    <tableData>
         -10000     0     10000   20000   30000   40000   50000   60000
     0.0  0.0430  0.0488  0.0528  0.0694  0.0899  0.1183  0.1467  0.0
     0.2  0.0500  0.0501  0.0335  0.0544  0.0797  0.1049  0.1342  0.0
     0.4  0.0040  0.0047  0.0020  0.0272  0.0595  0.0891  0.1203  0.0
     0.6  0.0     0.0     0.0     0.0     0.0276  0.0718  0.1073  0.0
     0.8  0.0     0.0     0.0     0.0     0.0474  0.0868  0.0900  0.0
     1.0  0.0     0.0     0.0     0.0     0.0     0.0552  0.0800  0.0
    </tableData>
   </table>
  </function>

  <function name="MilThrust">
   <table>
    <independentVar lookup="row">velocities/mach</independentVar>
    <independentVar lookup="column">atmosphere/density-altitude</independentVar>
    <tableData>
          -10000       0   10000   20000   30000   40000   50000   60000
     0.0   1.2600  1.0000  0.7400  0.5340  0.3720  0.2410  0.1490  0.0
     0.2   1.1710  0.9340  0.6970  0.5060  0.3550  0.2310  0.1430  0.0
     0.4   1.1500  0.9210  0.6920  0.5060  0.3570  0.2330  0.1450  0.0
     0.6   1.1810  0.9510  0.7210  0.5320  0.3780  0.2480  0.1540  0.0
     0.8   1.2580  1.0200  0.7820  0.5820  0.4170  0.2750  0.1700  0.0
     1.0   1.3690  1.1200  0.8710  0.6510  0.4750  0.3150  0.1950  0.0
     1.2   1.4850  1.2300  0.9750  0.7440  0.5450  0.3640  0.2250  0.0
     1.4   1.5941  1.3400  1.0860  0.8450  0.6280  0.4240  0.2630  0.0
    </tableData>
   </table>
  </function>

</turbine_engine>

<?xml version="1.0"?>
<!--
  File:     CF6-80C2A3.xml
  Author:   Aero-Matic v 0.8, DPC

  Inputs:
    name:           CF6-80C2A3
    type:           turbine
    thrust:         60200 lb
    augmented?      no
    injected?       no

  Additional sources:
    http://www.geae.com/engines/commercial/comparison_turbofan.html
-->

<turbine_engine name="CF6-80C2A3">
  <milthrust> 60200.0 </milthrust>
  <bypassratio>     5.31 </bypassratio>
  <tsfc>            0.576 </tsfc>
  <idlen1>         30.0 </idlen1>
  <idlen2>         60.0 </idlen2>
  <maxn1>         100.0 </maxn1>
  <maxn2>         100.0 </maxn2>
  <augmented>         0 </augmented>
  <injected>          0 </injected>

  <function name="IdleThrust">
   <table>
    <independentVar lookup="row">velocities/mach</independentVar>
    <independentVar lookup="column">atmosphere/density-altitude</independentVar>
    <tableData>
         -10000     0     10000   20000   30000   40000   50000   60000
     0.0  0.0430  0.0488  0.0528  0.0694  0.0899  0.1183  0.1467  0.0
     0.2  0.0500  0.0501  0.0335  0.0544  0.0797  0.1049  0.1342  0.0
     0.4  0.0040  0.0047  0.0020  0.0272  0.0595  0.0891  0.1203  0.0
     0.6  0.0     0.0     0.0     0.0     0.0276  0.0718  0.1073  0.0
     0.8  0.0     0.0     0.0     0.0     0.0474  0.0868  0.0900  0.0
     1.0  0.0     0.0     0.0     0.0     0.0     0.0552  0.0800  0.0
    </tableData>
   </table>
  </function>

  <function name="MilThrust">
   <table>
    <independentVar lookup="row">velocities/mach</independentVar>
    <independentVar lookup="column">atmosphere/density-altitude</independentVar>
    <tableData>
          -10000       0   10000   20000   30000   40000   50000   60000
     0.0   1.2600  1.0000  0.7400  0.5340  0.3720  0.2410  0.1490  0.0
     0.2   1.1710  0.9340  0.6970  0.5060  0.3550  0.2310  0.1430  0.0
     0.4   1.1500  0.9210  0.6920  0.5060  0.3570  0.2330  0.1450  0.0
     0.6   1.1810  0.9510  0.7210  0.5320  0.3780  0.2480  0.1540  0.0
     0.8   1.2580  1.0200  0.7820  0.5820  0.4170  0.2750  0.1700  0.0
     1.0   1.3690  1.1200  0.8710  0.6510  0.4750  0.3150  0.1950  0.0
     1.2   0.0000  0.0000  0.0000  0.0000  0.0000  0.0000  0.0000  0.0
    </tableData>
   </table>
  </function>

</turbine_engine>
<?xml version="1.0"?>
<!--
  File:     CFM56_5.xml
  Author:   Aero-Matic v 0.8

  Inputs:
    name:           CFM56
    type:           turbine
    thrust:         20000 lb
    augmented?      no
    injected?       no
-->

<turbine_engine name="CFM56">
  <milthrust> 20000.0 </milthrust>
  <bypassratio>     5.9 </bypassratio>
  <tsfc>            0.657 </tsfc>
  <bleed>           0.04 </bleed>
  <idlen1>         30.0 </idlen1>
  <idlen2>         60.0 </idlen2>
  <maxn1>         100.0 </maxn1>
  <maxn2>         100.0 </maxn2>
  <augmented>         0 </augmented>
  <injected>          0 </injected>

  <function name="IdleThrust">
   <table>
    <independentVar lookup="row">velocities/mach</independentVar>
    <independentVar lookup="column">atmosphere/density-altitude</independentVar>
    <tableData>
         -10000     0     10000   20000   30000   40000   50000   60000
     0.0  0.0420  0.0436  0.0528  0.0694  0.0899  0.1183  0.1467  0.0
     0.2  0.0500  0.0501  0.0335  0.0544  0.0797  0.1049  0.1342  0.0
     0.4  0.0040  0.0047  0.0020  0.0272  0.0595  0.0891  0.1203  0.0
     0.6  0.0     0.0     0.0     0.0     0.0276  0.0718  0.1073  0.0
     0.8  0.0     0.0     0.0     0.0     0.0174  0.0468  0.0900  0.0
     1.0  0.0     0.0     0.0     0.0     0.0     0.0422  0.0700  0.0
    </tableData>
   </table>
  </function>

  <function name="MilThrust">
   <table>
    <independentVar lookup="row">velocities/mach</independentVar>
    <independentVar lookup="column">atmosphere/density-altitude</independentVar>
    <tableData>
          -10000       0   10000   20000   30000   40000   50000   60000
     0.0   1.2600  1.0000  0.7400  0.5340  0.3720  0.2410  0.1490  0.0
     0.2   1.1710  0.9340  0.6970  0.5060  0.3550  0.2310  0.1430  0.0
     0.4   1.1500  0.9210  0.6920  0.5060  0.3570  0.2330  0.1450  0.0
     0.6   1.1810  0.9510  0.7210  0.5320  0.3780  0.2480  0.1540  0.0
     0.8   1.2580  1.0200  0.7820  0.5820  0.4170  0.2750  0.1700  0.0
     1.0   1.3690  1.1200  0.8710  0.6510  0.4750  0.3150  0.1950  0.0
     1.2   0.0000  0.0000  0.0000  0.0000  0.0000  0.0000  0.0000  0.0
    </tableData>
   </table>
  </function>

</turbine_engine>
<?xml version="1.0"?>
<!--
  File:     CFM56_5.xml
  Author:   Aero-Matic v 0.8

  Inputs:
    name:           CFM56_5
    type:           turbine
    thrust:         25000 lb
    augmented?      no
    injected?       no
-->

<turbine_engine name="CFM56_5">
  <milthrust> 25000.0 </milthrust>
  <bypassratio>     5.9 </bypassratio>
  <tsfc>            0.657 </tsfc>
  <idlen1>         30.0 </idlen1>
  <idlen2>         60.0 </idlen2>
  <maxn1>         100.0 </maxn1>
  <maxn2>         100.0 </maxn2>
  <augmented>         0 </augmented>
  <injected>          0 </injected>

  <function name="IdleThrust">
   <table>
    <independentVar lookup="row">velocities/mach</independentVar>
    <independentVar lookup="column">atmosphere/density-altitude</independentVar>
    <tableData>
         -10000     0     10000   20000   30000   40000   50000   60000
     0.0  0.0420  0.0436  0.0528  0.0694  0.0899  0.1183  0.1467  0.0
     0.2  0.0500  0.0501  0.0335  0.0544  0.0797  0.1049  0.1342  0.0
     0.4  0.0040  0.0047  0.0020  0.0272  0.0595  0.0891  0.1203  0.0
     0.6  0.0     0.0     0.0     0.0     0.0276  0.0718  0.1073  0.0
     0.8  0.0     0.0     0.0     0.0     0.0174  0.0468  0.0900  0.0
     1.0  0.0     0.0     0.0     0.0     0.0     0.0422  0.0700  0.0
    </tableData>
   </table>
  </function>

  <function name="MilThrust">
   <table>
    <independentVar lookup="row">velocities/mach</independentVar>
    <independentVar lookup="column">atmosphere/density-altitude</independentVar>
    <tableData>
          -10000       0   10000   20000   30000   40000   50000   60000
     0.0   1.2600  1.0000  0.7400  0.5340  0.3720  0.2410  0.1490  0.0
     0.2   1.1710  0.9340  0.6970  0.5060  0.3550  0.2310  0.1430  0.0
     0.4   1.1500  0.9210  0.6920  0.5060  0.3570  0.2330  0.1450  0.0
     0.6   1.1810  0.9510  0.7210  0.5320  0.3780  0.2480  0.1540  0.0
     0.8   1.2580  1.0200  0.7820  0.5820  0.4170  0.2750  0.1700  0.0
     1.0   1.3690  1.1200  0.8710  0.6510  0.4750  0.3150  0.1950  0.0
     1.2   0.0000  0.0000  0.0000  0.0000  0.0000  0.0000  0.0000  0.0
    </tableData>
   </table>
  </function>

</turbine_engine>
<?xml version="1.0"?>
<!-- Generated by Aero-Matic v 1.1

     Inputs:
                horsepower: 130
                     pitch: fixed
            max engine rpm: 1800
        prop diameter (ft): 9.3305078

     Outputs:
              max prop rpm: 2010.93
                gear ratio:    0.90
                       Cp0: 0.011294
                       Ct0: 0.015811
       static thrust (lbs):  342.97
       
       Sopwith-specific experimental data on a prop/engine is available here, though it is a bit hard to convert between the various units and power & torque
       measurement systems:
       http://naca.central.cranfield.ac.uk/reports/arc/rm/448.pdf
-->

<propeller name="prop">
  <!-- <ixx>  22.01 </ixx> --> <!-- Aero-Match generated amount based on 70 lb prop only -->
  <ixx>  38.01 </ixx> <!-- first WAG based on performance.  Ver 1.6, 5/6/2013, I'm going back to this because it seems to fit descriptions of performance and characteristics best.  I'm not sure if it if the best estimate or if it just fits in best with various other modelling and design decisions. -->
  <!-- Prop is 18kg per http://books.google.com/books?id=dM8qAAAAMAAJ&pg=PA791&lpg=PA791&dq=sopwith+camel+%22weight+of+wings%22&source=bl&ots=uQJawBEvdL&sig=ectotxNiSI9A0GR-QleJJ3QOYRY&hl=en&ei=eLvCTpiJJZGpsALDqcSLCw&sa=X&oi=book_result&ct=result&resnum=1&ved=0CBoQ6AEwAA#v=onepage&q=sopwith%20camel%20%22weight%20of%20wings%22&f=false 
  That equals 39.7 pounds and leads to the calculation below.-->
  <!-- <ixx unit="KG*M2">  20.18 </ixx> --> <!-- See calculation spreadsheet - 12.14 for 18kg prop plus 8.04 for 381 lb clerget (much heavier but also much closer to the center of rotation in than the prop). This is in metric units, kg-m^2.  The rotary engine nearly doubles the moment of inertia compared with inline engine & prop. -->                        
  
  <!-- <ixx unit="KG*M2">  12.47 </ixx> --> <!-- "Rough estimate" per historical doc -->
  
  <diameter unit="IN"> 112.0 </diameter>
  <numblades> 2 </numblades>
  <gearratio>  1.0 </gearratio>        
  
  <!-- As generated by Aeromatic: -->
  <!-- <p_factor>   8.85 </p_factor> -->
  
  <!-- The WWI era rotaries were really big engines, over 800 cu. in. so lots of torque. They had a nearly square pitch/diameter ratio that added a lot P-factor too.  http://www.rcgroups.com/forums/archive/index.php/t-789213.html  -->
 <!--  <p_factor>   19 </p_factor> -->
  <!-- Setting p_factor=0 was evidently an experiment? -->
  <!--   <p_factor>   0 </p_factor> -->
    
    <!-- As a WAG, let's assume about 1 1/3 X the value calculated by Aeromatic? -->
    <!-- <p_factor>   11.85 </p_factor> -->
    <p_factor>   17.85 </p_factor>
  <!-- <ct_factor> 1</ct_factor> -->
  <!-- <cp_factor> 1</cp_factor> --> 

  <!--  -->
   <!-- best climbing speed of 70mph=60 kt and 16.66 fps climb, 1150 RPM (J=.5358)-->
   <!-- max speed of 115 kts, level flight, 130 hp, 1250 RPM (J=.976) -->
   <!-- Additional factor: Starting about 4-5MPH on a grassy runway, 
   at full throttle the Camel will be airborn in about 6.9 seconds, or
   approx 7 AC lengths  
   See: http://www.youtube.com/watch?v=VT9wtDNiKaI  -->

  <table name="C_THRUST" type="internal">
<!--     <tableData>
       
		0	   0.092
		0.01   0.092
		0.1    0.08716
		0.2    0.08188
		0.3    0.07744
		0.4    0.073
		0.5    0.0694
		0.5358 0.06768
		0.64   0.065
		0.8    0.06
		0.976  0.052013
		1.03   0.04536
		1.1    0.03312
		1.2    0.0144
		1.3   -0.0216
		1.5   -0.0864
		1.7   -0.18
		1.9   -0.36
		2     -0.72
		3     -0.72
		5     -0.72
       
     </tableData>
  -->
<!-- 1.3 trial, this gave perfect match with the 10,000 climb rates chart, but the lift/drag are not giving 48 MPH stall speed, so we need to recalc    <tableData>  
0	0.112
0.01	0.111
0.1	0.11
0.2	0.1
0.3	0.09
0.4	0.08
0.5	0.07
0.5358	0.06
0.64	0.05
0.8	0.04
0.976	0.03120768
1.03	0.027216
1.1	0.019872
1.2	0.00864
1.3	-0.01296
1.5	-0.05184
1.7	-0.108
1.9	-0.216
2	-0.432
3	-0.432
5	-0.432
    </tableData> -->
<!-- 1.3, we are trying increased thrust at climb speed to match the10,000 ft climb rate table, with the lift/drag numbers that give 48 MPH stall.  Req more thrust at reduced RPMS 

See calculations at Camel-JSBSim-calcs-2011-10D.xls, C_THRUST, C_POWER

-->    
    <tableData>
        0	0.097
        0.1	0.095
        0.2	0.09
        0.3	0.08
        0.4	0.07
        0.5	0.066
        0.5657	0.063
        0.68	0.052
        0.8	0.044081633
        0.8611	0.042122449
        0.976	0.031630189
        1.04	0.028
        1.1	0.023
        1.2	0.013
        1.3	-0.01
        1.5	-0.08
        1.7	-0.19
        1.9	-0.432
        2	-0.432
        3	-2
        5	-10
    </tableData>   
  </table>


  <table name="C_POWER" type="internal">
  <!--     
     <tableData>
          0      0.06453
          0.01   0.06453
          0.1    0.064
          0.2    0.06353
          0.3    0.062195
          0.4    0.060133
          0.5    0.058
          0.5358 0.056814
          0.64   0.055
          0.8    0.05184
          0.976  0.049032
          1.03   0.047816
          1.1    0.04286
          1.2    0.036
          1.3    0.0216
          1.5   -0.0072
          1.7   -0.036
          1.9   -0.0864
          2     -0.0864
          3     -0.1152
          5     -0.288
     </tableData>
     -->
     <tableData>
        0	0.0561411
        0.01	0.0561411
        0.1	0.05568
        0.2	0.0552711
        0.3	0.054109824
        0.4	0.052315884
        0.5	0.05046
        0.5358	0.04942818
        0.64	0.04785
        0.8	0.0451008
        0.976	0.04265784
        1.03	0.04159992
        1.1	0.0372882
        1.2	0.03132
        1.3	0.018792
        1.5	-0.006264
        1.7	-0.03132
        1.9	-0.075168
        2	-0.075168
        3	-0.100224
        5	-0.25056
     </tableData>
  </table>

  <!-- thrust effects of helical tip Mach -->
  <table name="CT_MACH" type="internal">
    <tableData>
      0.85   1.0
      1.05   0.8
    </tableData>
  </table>
  
  <!-- power-required effects of helical tip Mach -->
  <table name="CP_MACH" type="internal">
    <tableData>
      0.85   1.0
      1.05   1.8
      2.00   1.4
    </tableData>
  </table>

</propeller><?xml version="1.0"?>
<!--
  File:     Clerget9B.xml
  Author:   Aero-Matic v 0.82

  Inputs:
    name:           Clerget9B
    type:           piston
    power:          130 hp
    augmented?      no
    injected?       no
    
    the clerget 130hp 9b is as follows:

no. of cylinders...........................9
bore..........................................120 mm
stroke........................................160 mm
weight complete...........................381 lbs
compression ratio..........................4:1
normal h.p....................................130
effective h.p.................................135
r.p.m...........................................12 50
oil consumption per h.p. hour............   0.09 pints
petrol consumption per h.p. hour.......   0.74 pints
[0.74 pints = 0.0925 gallons; 6.073 pounds per gallon of gasoline =   .5617525 pounds per hp hr.       In grams per kW hr that is  341.701125 ]

the 110 hp 9z is:

no. of cylinders..............................9
bore.............................................1 20 mm
stroke..........................................16 0 mm
weight complete.............................397 lbs
compression ratio............................4:1
normal h.p.....................................110
effective h.p..................................115
r.p.m............................................. 1180
oil consumption per h.p. hour............ 0.14 pints
petrol consumption per h.p. hour........ 0.75 pints

the 140 hp 9bf *is:

no. of cylinders ................................9
bore.............................................. .120 mm
stroke............................................ .172 mm
weight complete...............................381 lbs
compression ratio..............................5.3:1
normal h.p.......................................140
effective h.p....................................153
r.p.m............................................. .1250
oil consumption per h.p. hour.............. 0.11 pints
petrol consumption per h.p. hour......... 0.59 pints

SRC: http://www.theaerodrome.com/forum/2001/10278-clerget-9b-fuel-consumption.html
-->

<piston_engine name="Clerget9B">
  <minmp unit="INHG">          23.0 </minmp>
  <maxmp unit="INHG">         28.5 </maxmp>
  <displacement unit="IN3"> 993.8 </displacement>
  <maxhp unit="HP">        130.00 </maxhp>
  <cycles>         4.0 </cycles>
  <idlerpm>      300.0 </idlerpm>
  <maxrpm>      1250.0 </maxrpm>
  <maxthrottle>    1.0 </maxthrottle><!-- Deprecated -->
  <minthrottle>    0.1 </minthrottle><!-- Deprecated -->
  <sparkfaildrop>  0.17 </sparkfaildrop>
  
  <volumetric-efficiency> 0.673 </volumetric-efficiency>
<!-- Optional items that affect engine performance -->
 <!-- Defining <bsfc> over-rides the built-in horsepower calculations -->
<bsfc unit="LBS/HP*HR"> 0.54 </bsfc> <!-- 0.5617525 is the calculated amount but the JSBSim manual says that JSBSim incorporates some of this internally so the number may need to be reduced some.  0.353 gives the rated top speed of 116 kts for the Camel at high rpm with unaltered CamelProp.xml.  But with the adjusted CamelProp C_THRUST values it is more like .50-->
 <stroke unit="IN">  6.2992  </stroke>
 <bore unit="IN">    4.72441 </bore>
 <cylinders>         9.0  </cylinders>
 <compression-ratio> 4.0 </compression-ratio> 
 
 
</piston_engine><?xml version="1.0"?>
<propeller name="DJI 9450" version="1.1">
  <ixx unit="KG*M2"> 6.05e-05 </ixx> <!-- (1/12) * 12.6e-3 * (9.45*0.0254)^2 -->
  <diameter unit="IN"> 9.4  </diameter>
  <numblades> 2 </numblades>
  <constspeed> 0 </constspeed>

  <table name="C_THRUST" type="internal"> <!-- derived from APC website for the 9X4.5e -->
    <tableData>
      0.0000	0.1288
      0.0209	0.1271
      0.0522	0.1252
      0.0730	0.1230
      0.1039	0.1207
      0.1252	0.1181
      0.1470	0.1153
      0.1774	0.1122
      0.1983	0.1089
      0.2287	0.1053
      0.2504	0.1015
      0.2774	0.0975
      0.3022	0.0932
      0.3235	0.0888
      0.3539	0.0842
      0.3757	0.0794
      0.4039	0.0745
      0.4274	0.0695
      0.4496	0.0644
      0.4787	0.0592
      0.5004	0.0538
      0.5296	0.0483
      0.5526	0.0426
      0.5783	0.0369
      0.6039	0.0310
      0.6257	0.0250
      0.6548	0.0189
      0.6774	0.0128
      0.7039	0.0064
      0.7291	-0.0001
    </tableData>
  </table>

  <table name="C_POWER" type = "internal">
    <tableData>
      0.0000  0.0666
      0.0209  0.0647
      0.0522  0.0628
      0.0730  0.0611
      0.1039  0.0595
      0.1252  0.0581
      0.1470  0.0567
      0.1774  0.0554
      0.1983  0.0542
      0.2287  0.0531
      0.2504  0.0520
      0.2774  0.0509
      0.3022  0.0498
      0.3235  0.0485
      0.3539  0.0471
      0.3757  0.0456
      0.4039  0.0440
      0.4274  0.0422
      0.4496  0.0402
      0.4787  0.0381
      0.5004  0.0358
      0.5296  0.0332
      0.5526  0.0305
      0.5783  0.0275
      0.6039  0.0243
      0.6257  0.0210
      0.6548  0.0175
      0.6774  0.0137
      0.7039  0.0099
      0.7291  0.0061
    </tableData>
  </table>

</propeller>
<?xml version="1.0"?>
<!--bldc_engine name="DJI E305"-->
  <brushless_dc_motor name="DJI E305">
  <velocityconstant> 960 </velocityconstant>
  <coilresistance>0.117</coilresistance>
  <noloadcurrent>0.45</noloadcurrent>
  <maxvolts> 14.63 </maxvolts>
</brushless_dc_motor>
<?xml version="1.0"?>
<!-- Generated by javaprop

     Inputs:
          Number of Blades:  2
                       rpm: 1200
         prop diameter (M): 2.59
      spinner diameter (M): 0.222
            velocity (m/s): 60.0
                     power: 66 kWatts
                  Airfoils: Clark Y, Re 1e5

       static thrust (lbs): 340
-->

<propeller name="prop">
  <ixx> 14.7913 </ixx>         <!-- aeromatic: 4.7681, selig engine: 10.0232 -->
  <diameter unit="IN">102.0 </diameter>
  <numblades> 2 </numblades>
  <gearratio>1.0 </gearratio>

  <table name="C_THRUST" type="internal">
     <tableData>
0.00	0.068859
0.10	0.073298
0.20	0.073756
0.30	0.072814
0.40	0.071237
0.50	0.069318
0.60	0.067693
0.70	0.067243
0.80	0.067742
0.90	0.065086
1.00	0.060402
1.10	0.050696
1.20	0.038775
1.30	0.026630
1.32	0.024174
1.34	0.021711
1.36	0.019236
1.38	0.016754
1.40	0.014264
1.42	0.011765
1.44	0.009257
1.46	0.006727
1.48	0.004182
1.50	0.001634
1.52	-0.000919
     </tableData>
  </table>


  <table name="C_POWER" type="internal">
     <tableData>
0.00	0.074862
0.10	0.084784
0.20	0.081415
0.30	0.079246
0.40	0.076760
0.50	0.074810
0.60	0.073155
0.70	0.072521
0.80	0.072807
0.90	0.072948
1.00	0.071388
1.10	0.064260
1.20	0.053052
1.30	0.039761
1.32	0.036846
1.34	0.033848
1.36	0.030759
1.38	0.027584
1.40	0.024322
1.42	0.020971
1.44	0.017532
1.46	0.013984
1.48	0.010335
1.50	0.006603
1.52	0.002785
     </tableData>
  </table>

</propeller>
<?xml version="1.0"?>
<rocket_engine name="Estes E-9">
  <!--
  -->

  <isp> 244 </isp>
  <builduptime> 0.15 </builduptime>
  <thrust_table name="propulsion/thrust_prop_remain" type="internal">
    <tableData> <!--
      =========  =========  ===========  ========= =====
      Prop Burn   Thrust    Total Impls    wdot     Time
      (Wt, lbs)   (lbf)       (lbf-sec)  (lbf/sec) (sec)
      =========  =========  ===========  ========= =====  -->
       0.00000,  0.02108 <!-- 0.00000,   0.00009,  0.0000 -->
       0.00002,  0.21044 <!-- 0.00469,   0.00086,  0.0406 -->
       0.00022,  1.62214 <!-- 0.05456,   0.00665,  0.0950 -->
       0.00072,  3.72941 <!-- 0.17671,   0.01529,  0.1406 -->
       0.00105,  4.82523 <!-- 0.25520,   0.01978,  0.1590 -->
       0.00161,  5.33086 <!-- 0.39301,   0.02185,  0.1861 -->
       0.00182,  5.62586 <!-- 0.44281,   0.02306,  0.1952 -->
       0.00223,  5.62573 <!-- 0.54402,   0.02306,  0.2132 -->
       0.00243,  5.41491 <!-- 0.59332,   0.02220,  0.2221 -->
       0.00326,  3.62315 <!-- 0.79401,   0.01485,  0.2665 -->
       0.00368,  2.94850 <!-- 0.89672,   0.01209,  0.2978 -->
       0.00423,  2.52664 <!-- 1.03182,   0.01036,  0.3471 -->
       0.00495,  2.33645 <!-- 1.20665,   0.00958,  0.4190 -->
       0.00587,  2.23037 <!-- 1.43252,   0.00914,  0.5180 -->
       0.00755,  2.20800 <!-- 1.84174,   0.00905,  0.7024 -->
       0.01617,  2.15909 <!-- 3.94340,   0.00885,  1.6649 -->
       0.02565,  2.10932 <!-- 6.25675,   0.00865,  2.7488 -->
       0.02616,  2.10891 <!-- 6.38007,   0.00865,  2.8073 -->
       0.02646,  2.06651 <!-- 6.45517,   0.00847,  2.8432 -->
       0.02675,  0.78053 <!-- 6.52501,   0.00320,  2.8923 -->
       0.02678,  0.16921 <!-- 6.53346,   0.00069,  2.9101 -->
       0.02679,  0.00051 <!-- 6.53460,   0.00000,  2.9235 -->
       0.02679,  0.00000 <!-- 6.53460,   0.00000,  2.9300 -->
    </tableData>
  </thrust_table>
</rocket_engine>
<?xml version="1.0"?>
<!--
  File:     F100-PW-229.xml
  Author:   Aero-Matic v 0.8

  Inputs:
    name:           F100
    type:           turbine
    thrust:         17800 lb
    augmented?      yes
    injected?       no
-->

<turbine_engine name="F100">
  <milthrust>   17800.0 </milthrust>
  <maxthrust>   29000.0 </maxthrust>
  <bypassratio>     0.4 </bypassratio>
  <tsfc>            0.74 </tsfc>
  <atsfc>           2.05 </atsfc>
  <idlen1>         40.0 </idlen1>
  <idlen2>         53.0 </idlen2>
  <maxn1>         100.0 </maxn1>
  <maxn2>         100.0 </maxn2>
  <augmented>         1 </augmented>
  <augmethod>         2 </augmethod>
  <injected>          0 </injected>

  <function name="IdleThrust">
   <table>
    <independentVar lookup="row">velocities/mach</independentVar>
    <independentVar lookup="column">atmosphere/density-altitude</independentVar>
    <tableData>
         -10000     0     10000   20000   30000   40000   50000   60000
     0.0  0.0430  0.0488  0.0528  0.0694  0.0899  0.1183  0.1467  0.0
     0.2  0.0500  0.0501  0.0335  0.0544  0.0797  0.1049  0.1342  0.0
     0.4  0.0040  0.0047  0.0020  0.0272  0.0595  0.0891  0.1203  0.0
     0.6 -0.0804 -0.0804 -0.0560 -0.0237  0.0276  0.0718  0.1073  0.0
     0.8 -0.2129 -0.2129 -0.1498 -0.1025  0.0474  0.0868  0.0900  0.0
     1.0 -0.2839 -0.2839 -0.1104 -0.0469 -0.0270  0.0552  0.0800  0.0
    </tableData>
   </table>
  </function>

  <function name="MilThrust">
   <table>
    <independentVar lookup="row">velocities/mach</independentVar>
    <independentVar lookup="column">atmosphere/density-altitude</independentVar>
    <tableData>
          -10000       0   10000   20000   30000   40000   50000   60000
     0.0   1.2600  1.0000  0.7400  0.5340  0.3720  0.2410  0.1490  0.0
     0.2   1.1710  0.9340  0.6970  0.5060  0.3550  0.2310  0.1430  0.0
     0.4   1.1500  0.9210  0.6920  0.5060  0.3570  0.2330  0.1450  0.0
     0.6   1.1810  0.9510  0.7210  0.5320  0.3780  0.2480  0.1540  0.0
     0.8   1.2580  1.0200  0.7820  0.5820  0.4170  0.2750  0.1700  0.0
     1.0   1.3690  1.1200  0.8710  0.6510  0.4750  0.3150  0.1950  0.0
     1.2   1.4850  1.2300  0.9750  0.7440  0.5450  0.3640  0.2250  0.0
     1.4   1.5941  1.3400  1.0860  0.8450  0.6280  0.4240  0.2630  0.0
    </tableData>
   </table>
  </function>

  <function name="AugThrust">
   <table>
    <independentVar lookup="row">velocities/mach</independentVar>
    <independentVar lookup="column">atmosphere/density-altitude</independentVar>
    <tableData>
           -10000       0   10000   20000   30000   40000   50000   60000
     0.0    1.1816  1.0000  0.8184  0.6627  0.5280  0.3756  0.2327  0.0
     0.2    1.1308  0.9599  0.7890  0.6406  0.5116  0.3645  0.2258  0.0
     0.4    1.1150  0.9474  0.7798  0.6340  0.5070  0.3615  0.2240  0.0
     0.6    1.1284  0.9589  0.7894  0.6420  0.5134  0.3661  0.2268  0.0
     0.8    1.1707  0.9942  0.8177  0.6647  0.5309  0.3784  0.2345  0.0
     1.0    1.2411  1.0529  0.8648  0.7017  0.5596  0.3983  0.2467  0.0
     1.2    1.3287  1.1254  0.9221  0.7462  0.5936  0.4219  0.2614  0.0
     1.4    1.4365  1.2149  0.9933  0.8021  0.6360  0.4509  0.2794  0.0
     1.6    1.5711  1.3260  1.0809  0.8700  0.6874  0.4860  0.3011  0.0
     1.8    1.7301  1.4579  1.1857  0.9512  0.7495  0.5289  0.3277  0.0
     2.0    1.8314  1.5700  1.3086  1.0474  0.8216  0.5786  0.3585  0.0
     2.2    1.9700  1.6900  1.4100  1.2400  0.9100  0.6359  0.3940  0.0
     2.4    2.0700  1.8000  1.5300  1.3400  1.0000  0.7200  0.4600  0.0
     2.6    2.2000  1.9200  1.6400  1.4400  1.1000  0.8000  0.5200  0.0
    </tableData>
   </table>
  </function>

</turbine_engine>
<?xml version="1.0"?>
<!--
  File:     F119-PW-100.xml
  Author:   Aero-Matic v 0.8

  Inputs:
    name:           F119-PW-100
    type:           turbine
    thrust:         37000.8 lb
    augmented?      yes
    injected?       no
-->

<turbine_engine name="F119-PW-100">
  <milthrust>   26950.0 </milthrust>
  <maxthrust>   37000.0 </maxthrust>
  <bypassratio>     0.2 </bypassratio>
  <tsfc>            0.8 </tsfc>
  <atsfc>           1.95 </atsfc>
  <idlen1>         40.0 </idlen1>
  <idlen2>         53.0 </idlen2>
  <maxn1>         100.0 </maxn1>
  <maxn2>         100.0 </maxn2>
  <augmented>         1 </augmented>
  <augmethod>         1 </augmethod>
  <injected>          0 </injected>

  <function name="IdleThrust">
   <table>
    <independentVar lookup="row">velocities/mach</independentVar>
    <independentVar lookup="column">atmosphere/density-altitude</independentVar>
    <tableData>
          -10000     0     10000   20000   30000   40000   50000  60000 
     0.0  0.0430  0.0488  0.0528  0.0694  0.0899  0.1183  0.1467  0.0  
     0.2  0.0500  0.0501  0.0335  0.0544  0.0797  0.1049  0.1342  0.0
     0.4  0.0040  0.0047  0.0020  0.0272  0.0595  0.0891  0.1203  0.0
     0.6  0.0     0.0     0.0     0.0     0.0276  0.0718  0.1073  0.0
     0.8  0.0     0.0     0.0     0.0     0.0474  0.0868  0.0900  0.0
     1.0  0.0     0.0     0.0     0.0     0.0     0.0552  0.0800  0.0

    </tableData>
   </table>
  </function>

  <function name="MilThrust">
   <table>
    <independentVar lookup="row">velocities/mach</independentVar>
    <independentVar lookup="column">atmosphere/density-altitude</independentVar>
    <tableData>
	  -10000   0       10000   20000   30000   40000   50000   60000   70000  80000
     0.0   1.2600  1.0000  0.7400  0.5340  0.3720  0.2410  0.1490  0.0800  0.040  0.0
     0.2   1.1710  0.9340  0.6970  0.5060  0.3550  0.2310  0.1430  0.0780  0.040  0.0
     0.4   1.1500  0.9210  0.6920  0.5060  0.3570  0.2330  0.1450  0.0790  0.040  0.0
     0.6   1.1810  0.9510  0.7210  0.5320  0.3780  0.2480  0.1540  0.0850  0.045  0.0
     0.8   1.2580  1.0200  0.7820  0.5820  0.4170  0.2750  0.1700  0.0935  0.045  0.0
     1.0   1.3690  1.1760  0.9135  0.6836  0.4988  0.3308  0.2048  0.1127  0.052  0.0
     1.2   1.4850  1.2915  1.0238  0.7812  0.5723  0.3780  0.2363  0.1300  0.065  0.0
     1.4   1.5941  1.4070  1.1403  0.8873  0.6595  0.4452  0.2762  0.1520  0.076  0.0
     1.6   1.6211  1.5250  1.2450  0.9890  0.7774  0.5260  0.3211  0.1767  0.087  0.0
     1.8   1.6211  1.6290  1.3474  1.0950  0.8774  0.6160  0.3811  0.2096  0.104  0.0
     2.0   1.6211  1.6000  1.4300  1.1850  0.9500  0.7050  0.4435  0.2420  0.121  0.0
     2.2   1.6211  1.6000  1.3600  1.1000  0.8600  0.6167  0.4000  0.2050  0.100  0.0

    </tableData>
</table>
  </function>

  <function name="AugThrust">
   <table>
    <independentVar lookup="row">velocities/mach</independentVar>
    <independentVar lookup="column">atmosphere/density-altitude</independentVar>
    <tableData>
           -10000   0       10000   20000   30000   40000   50000   60000   70000  80000
     0.0    1.1816  1.0000  0.8184  0.6627  0.5280  0.3756  0.2327  0.1279  0.063  0.0
     0.2    1.1308  0.9599  0.7890  0.6406  0.5116  0.3645  0.2258  0.1242  0.062  0.0
     0.4    1.1150  0.9474  0.7798  0.6340  0.5070  0.3615  0.2240  0.1232  0.061  0.0
     0.6    1.1284  0.9589  0.7894  0.6420  0.5134  0.3661  0.2268  0.1240  0.062  0.0
     0.8    1.1707  0.9990  0.8177  0.6647  0.5309  0.3784  0.2345  0.1290  0.065  0.0
     1.0    1.2411  1.1056  0.9080  0.7367  0.5876  0.4182  0.2590  0.1425  0.071  0.0
     1.2    1.3287  1.1817  0.9682  0.7835  0.6233  0.4430  0.2745  0.1513  0.075  0.0
     1.4    1.4365  1.2756  1.0430  0.8422  0.6678  0.4735  0.2933  0.1613  0.081  0.0
     1.6    1.5711  1.3923  1.1349  0.9135  0.7218  0.5103  0.3162  0.1739  0.085  0.0
     1.8    1.7301  1.5307  1.2449  0.9987  0.7870  0.5553  0.3441  0.1893  0.095  0.0
     2.0    1.8314  1.6485  1.3740  1.1000  0.8627  0.6708  0.3764  0.2070  0.103  0.0
     2.2    1.9700  1.7745  1.4805  1.3020  0.9555  0.6676  0.4137  0.2275  0.115  0.0	
     2.4    2.0700  1.8900  1.6065  1.4070  1.0500  0.7560  0.4830  0.2657  0.138  0.0
     2.6    2.2000  2.0160  1.7220  1.5120  1.1550  0.8400  0.5460  0.3003  0.150  0.0

	</tableData>
   </table>
  </function>

</turbine_engine>
<?xml version="1.0"?>
<!--
  File:     GE-CF6-80C2-B1F.xml
  Author:   Jon Berndt, Aero-Matic v 0.8

  Inputs:
    name:           GE-CF6-80C2-B1F
    type:           turbine
    thrust:         58000.0 lb
    augmented?      no
    injected?       yes

  Additional Information:

  [Source: http://www.bh.com/companions/034074152X/appendices/data-b/table-3/default.htm]

    Number of shafts: 2
    Compressor: 1 + 4LP
                14HP
    Turbine:    2HP, 5LP
    Cost: $6.10 million

    Length: 14.00 ft.
    Fan diameter: 8.84 ft.
    Weight: 9,500 lbs.

    Flat rating: 32 degrees C
    Pressure ratio (TO): 29.90
    Mass flow (lb/sec, TO): 1,765 (lb/sec)
    TSFC (TO): 0.32
-->

<turbine_engine name="GE-CF6-80C2-B1F">
  <milthrust>   58000.0 </milthrust>
  <bypassratio>     5.15 </bypassratio>
  <tsfc>            0.564 </tsfc>
  <idlen1>         30.0 </idlen1>
  <idlen2>         60.0 </idlen2>
  <maxn1>         100.0 </maxn1>
  <maxn2>         100.0 </maxn2>
  <augmented>         0 </augmented>
  <augmethod>         1 </augmethod>
  <injected>          1 </injected>

  <function name="IdleThrust">
   <table>
    <independentVar lookup="row">velocities/mach</independentVar>
    <independentVar lookup="column">atmosphere/density-altitude</independentVar>
    <tableData>
         -10000     0     10000   20000   30000   40000   50000   60000
     0.0  0.0430  0.0488  0.0528  0.0694  0.0899  0.1183  0.1467  0.0
     0.2  0.0500  0.0501  0.0335  0.0544  0.0797  0.1049  0.1342  0.0
     0.4  0.0040  0.0047  0.0020  0.0272  0.0595  0.0891  0.1203  0.0
     0.6  0.0     0.0     0.0     0.0     0.0276  0.0718  0.1073  0.0
     0.8  0.0     0.0     0.0     0.0     0.0474  0.0868  0.0900  0.0
     1.0  0.0     0.0     0.0     0.0     0.0     0.0552  0.0800  0.0
    </tableData>
   </table>
  </function>

  <function name="MilThrust">
   <table>
    <independentVar lookup="row">velocities/mach</independentVar>
    <independentVar lookup="column">atmosphere/density-altitude</independentVar>
    <tableData>
          -10000       0   10000   20000   30000   40000   50000   60000
     0.0   1.2600  1.0000  0.7400  0.5340  0.3720  0.2410  0.1490  0.0
     0.2   1.1710  0.9340  0.6970  0.5060  0.3550  0.2310  0.1430  0.0
     0.4   1.1500  0.9210  0.6920  0.5060  0.3570  0.2330  0.1450  0.0
     0.6   1.1810  0.9510  0.7210  0.5320  0.3780  0.2480  0.1540  0.0
     0.8   1.2580  1.0200  0.7820  0.5820  0.4170  0.2750  0.1700  0.0
     1.0   1.3690  1.1200  0.8710  0.6510  0.4750  0.3150  0.1950  0.0
     1.2   1.4850  1.2300  0.9750  0.7440  0.5450  0.3640  0.2250  0.0
     1.4   1.5941  1.3400  1.0860  0.8450  0.6280  0.4240  0.2630  0.0
    </tableData>
   </table>
  </function>

</turbine_engine>
<?xml version="1.0"?>
<!-- Generated by Aero-Matic v 0.7
     Date: 10 August 2005
     Version: 1.1

     Inputs:
       horsepower:   1600.0
       pitch:        variable

     Outputs:
       linear-blade-inches: 212


  References :
  ==========
  - http://www.airweb.faa.gov/Regulatory_and_Guidance_Library/rgMakeModel.nsf/MainFrame?OpenFrameSet
  (FAA certificate, TC704 - 25 january 1939, B-314) :

  Engine limits : * maximum except take-off (straight line manifold pressure variation) : 33.2 in. hg. 2100 rpm (1200 hp)
                  at 5400 ft, 35.0 in. hg. 2100 rpm (1200 hp) at sea level.
                  * take-off (2 minutes), 42.5 in. hg. 2400 rpm (1550 hp).

  Propeller : * Hamilton standard 3 blade constant speed, 6243A-3 to 6243A-6 inclusive, diameter 14'9-3/8" maximum
              14'5-5/8" minimum (1928 lb).
              * Hamilton standard 3 blade constant speed, 6159A-0 to 6159A-3 inclusive, diameter 14'3/8" maximum
              13'8-3/4" minimum (1819 lb).

  - http://www.airweb.faa.gov/Regulatory_and_Guidance_Library/rgMakeModel.nsf/MainFrame?OpenFrameSet
  (FAA certificate, TC704 - 2 may 1941 B-314A) :

  Engine limits : * maximum except take-off (straight line manifold pressure variation) : 35.8 in. hg. 2300 rpm (1350 hp)
                  at 6200 ft, 37.5 in. hg. 2300 rpm (1350 hp) at sea level.
                  * take-off (2 minutes), 43.5 in. hg. 2400 rpm (1600 hp).

  Propeller : Hamilton standard 3 blade constant speed, 6243A-3 to 6243A-6 inclusive, diameter 14'9-3/8" maximum
              14'5-5/8" minimum (1928 lb).

  - http://www.airweb.faa.gov/Regulatory_and_Guidance_Library/rgMakeModel.nsf/MainFrame?OpenFrameSet
  (FAA certificate, TC176 - Wright Double row Cyclone GR-260025) :

  16:9 or 16:7 reduction gears.


  J above 1.0 :
  ===========
  - http://naca.larc.nasa.gov/reports/1938/naca-report-640/ :
    The aerodynamics characteristics of full-scale propellers having 2, 3, and 4 blades of Clark Y and R.A.F. 6
    airfoil sections, Edwin P. Hartman and David Biermann, NACA 640, 1938.

  - http://naca.larc.nasa.gov/reports/1953/naca-tn-2966/ :
    Propeller-performance charts for transport airplanes, Jean Gilman, NACA 2966, July 1953.

  - http://naca.larc.nasa.gov/reports/1954/naca-tn-3228/ :
    Aerodynamic investigation of a four-blade propeller operating through an angle of attack range from 0 to 180 deg,
    H. Clyde McLemore and Michael D. Cannon, NACA 3228, June 1954.

-->

<!-- choiced a propeller of B-314 A. -->

<propeller name="Hamilton Standard 6243A-3">

  <!-- Gear ratio 1 :
       ============

       14.5 ft diameter :
       - with 75 in., not enough power to climb at full load.
       - multiply the aeromatic moment by 2.32 ^2 = 174/75 ^2.

       is a constant speed propeller because of 700-2400.

       thrust x 0.4, power x 0.2, 700 - 2400 rpm (propeller).

       Reduction gear ratio 16/9 :
       =========================

       divide min/max rpm (700/2400) by the gear ratio 1.778.
  -->

  <ixx> 20.405 </ixx>                                                       <!-- aeromatic 3.7910590942383 -->
  <diameter unit="IN"> 174.0 </diameter>                                    <!-- aeromatic 75 -->
  <numblades> 3 </numblades>                                                <!-- aeromatic 4 -->
  <gearratio> 1.778 </gearratio>                                            <!-- aeromatic none (1.0) -->
  <minpitch> 10 </minpitch>
  <maxpitch> 30 </maxpitch>
  <minrpm> 394 </minrpm>
  <maxrpm> 1350 </maxrpm>                                                   <!-- aeromatic 2700 -->


<!--=== gear ratio 16/9 (J above 1.0) === -->

<!-- multiply by 0.9 :
     - cut 10 at 0.4, then patch X 0.3 until 1.0 (deceleration at landing). 
     - split 30 to 2.0.
-->

  <table name="C_THRUST" type="internal">
    <tableData>
           10      30
      0.0  0.06739 0.0842
      0.1  0.06674 0.0838
      0.2  0.06610 0.0834
      0.3  0.06545 0.0830
      0.4  0.05963 0.0826
      0.5  0.01771 0.0822
      0.6  0.01512 0.0818
      0.7  0.01176 0.0782
      0.8  0.00864 0.0745
      0.9  0.00480 0.0705
      1.0  0.00096 0.0664
      1.2  0.00000 0.0567
      1.4  0.00000 0.0441
      1.6  0.00000 0.0324
      1.8  0.00000 0.0180
      2.0  0.00000 0.0036
    </tableData>
  </table>

<!-- multiply by 0.9, cut 10 at 1.0, split 30 to 2.0 : too much thrust at landing (empty load).

     max full load 9000 ft : 170 kt.
     max empty load 13400 ft : 160 kt.
-->

<!--
  C_THRUST   16 2
       10      30
  0.0  0.06739 0.0842
  0.1  0.06674 0.0838
  0.2  0.06610 0.0834
  0.3  0.06545 0.0830
  0.4  0.05963 0.0826
  0.5  0.05314 0.0822
  0.6  0.04536 0.0818
  0.7  0.03528 0.0782
  0.8  0.02592 0.0745
  0.9  0.01440 0.0705
  1.0  0.00288 0.0664
  1.2  0.00000 0.0567
  1.4  0.00000 0.0441
  1.6  0.00000 0.0324
  1.8  0.00000 0.0180
  2.0  0.00000 0.0036
-->

<!-- multiply by 0.8, cut 10 at 1.0, split 30 to 2.0 :

     max full load 9000 ft : 161 kt.
     max empty load 13400 ft : 154 kt.
-->

<!--
  C_THRUST   16 2
       10      30
  0.0  0.05990 0.0749
  0.1  0.05933 0.0746
  0.2  0.05875 0.0742
  0.3  0.05818 0.0738
  0.4  0.05300 0.0734
  0.5  0.04723 0.0731
  0.6  0.04032 0.0727
  0.7  0.03136 0.0695
  0.8  0.02304 0.0662
  0.9  0.01280 0.0626
  1.0  0.00256 0.0590
  1.2  0.00000 0.0504
  1.4  0.00000 0.0392
  1.6  0.00000 0.0288
  1.8  0.00000 0.0160
  2.0  0.00000 0.0032
-->

<!-- multiply by 0.3 : for patching -->

<!--
  C_THRUST   6 1
       10
  0.5  0.01771
  0.6  0.01512
  0.7  0.01176
  0.8  0.00864
  0.9  0.00480
  1.0  0.00096
-->

<!-- multiply by 0.5 : cut 10 at 1.0, split 30 to 2.0.

     solve the engine stop by low pressure.
-->

  <table name="C_POWER" type="internal">
    <tableData>
             10      30
        0.0  0.01144 0.05198
        0.1  0.01126 0.05159
        0.2  0.01109 0.05119
        0.3  0.01074 0.05080
        0.4  0.01040 0.05040
        0.5  0.01005 0.04962
        0.6  0.00953 0.04883
        0.7  0.00832 0.04804
        0.8  0.00658 0.04725
        0.9  0.00433 0.04647
        1.0  0.00173 0.04568
        1.2  0.00000 0.04331
        1.4  0.00000 0.03780
        1.6  0.00000 0.02993
        1.8  0.00000 0.01969
        2.0  0.00000 0.00788
    </tableData>
  </table>


<!--=== backup gear ratio 16/9 (split method) === -->

<!-- multiply by 1.75, cut 10 at 1.0, split 30 to 2.0 : above 180 kt a 9500 ft full load. 
     engine may stop at idle on ground, whatever the pitch (low atmospheric pressure).
-->

<!--
  C_THRUST   16 2
       10      30
  0.0  0.13104 0.1638
  0.1  0.12978 0.1630
  0.2  0.12852 0.1622
  0.3  0.12726 0.1615
  0.4  0.11594 0.1607
  0.5  0.10332 0.1599
  0.6  0.08820 0.1591
  0.7  0.06860 0.1520
  0.8  0.05040 0.1449
  0.9  0.02800 0.1371
  1.0  0.00560 0.1292
  1.2  0.00000 0.1103
  1.4  0.00000 0.0858
  1.6  0.00000 0.0630
  1.8  0.00000 0.0350
  2.0  0.00000 0.0070
-->

<!-- multiply by 1.0, cut 10 at 1.0, split 30 to 2.0.
     engine may stop at idle on ground, whatever the pitch (low atmospheric pressure).
-->

<!--
  C_POWER   16 2
       10      30
  0.0  0.02287 0.10395
  0.1  0.02252 0.10316
  0.2  0.02217 0.10237
  0.3  0.02148 0.10159
  0.4  0.02079 0.10080
  0.5  0.02009 0.09923
  0.6  0.01905 0.09765
  0.7  0.01663 0.09608
  0.8  0.01316 0.09450
  0.9  0.00866 0.09293
  1.0  0.00346 0.09135
  1.2  0.00000 0.08662
  1.4  0.00000 0.07560
  1.6  0.00000 0.05985
  1.8  0.00000 0.03937
  2.0  0.00000 0.01575
-->


<!-- === backup gear ratio 1.0 === -->

<!-- - multiply by 0.4, to get the thrust of takeoff (minimum pitch).
     - with 492 lb X 2 engines (2 stopped), hull drag can stop alone the taxi (no brake) : maximum pitch.
-->
<!--
  C_THRUST   11 2
       10      30
  0.0  0.02995 0.03744
  0.1  0.02966 0.03708
  0.2  0.02938 0.03672
  0.3  0.02909 0.03636
  0.4  0.02650 0.03312
  0.5  0.02362 0.02952
  0.6  0.02016 0.02520
  0.7  0.01568 0.01960
  0.8  0.01152 0.01440
  0.9  0.00640 0.00800
  1.0  0.00120 0.00160
-->

<!-- - multiply by 0.2 : 2500 RPM max at sea level, with minimum pitch.
     - 700 RPM idle at sea level, with maximum pitch.
-->

<!--
  C_POWER   11 2
       10      30
  0.0  0.00457 0.02079
  0.1  0.00450 0.02047
  0.2  0.00443 0.02016
  0.3  0.00430 0.01953
  0.4  0.00416 0.01890
  0.5  0.00402 0.01827
  0.6  0.00381 0.01732
  0.7  0.00333 0.01512
  0.8  0.00263 0.01197
  0.9  0.00173 0.00787
  1.0  0.00069 0.00315
-->


<!-- === backup of aeromatic tables === -->

<!--
  C_THRUST   11 2
       10      30
  0.0  0.07488 0.0936
  0.1  0.07416 0.0927
  0.2  0.07344 0.0918
  0.3  0.07272 0.0909
  0.4  0.06625 0.0828
  0.5  0.05904 0.0738
  0.6  0.05040 0.0630
  0.7  0.03920 0.0490
  0.8  0.02880 0.0360
  0.9  0.01600 0.0200
  1.0  0.00320 0.0040
  C_POWER   11 2
       10      30
  0.0  0.02287 0.10395
  0.1  0.02252 0.10237
  0.2  0.02217 0.10080
  0.3  0.02148 0.09765
  0.4  0.02079 0.09450
  0.5  0.02009 0.09135
  0.6  0.01905 0.08662
  0.7  0.01663 0.07560
  0.8  0.01316 0.05985
  0.9  0.00866 0.03937
  1.0  0.00346 0.01575
-->

</propeller>


<?xml version="1.0"?>
<!--
  File:     J69-T25.xml
  Author:   Aero-Matic v 0.8

  Inputs:
    name:           J69-T25
    type:           turbine
    thrust:         1025 lb
    augmented?      no
    injected?       no

  Note:
    Bypass ratio is only used by the turbine model to estimate the
    rotational inertia of the engine.  In this case, even though the
    engine is a turbojet, a bypass ratio is used to simulate the high
    rotational inertia of the centrifugal compressor.
-->

<turbine_engine name="J33-A-35">
  <milthrust>    4600.0 </milthrust>
  <bypassratio>     5.0 </bypassratio>
  <tsfc>            1.0 </tsfc>
  <idlen2>         60.0 </idlen2>
  <maxn2>         100.0 </maxn2>
  <augmented>         0 </augmented>
  <injected>          0 </injected>

  <function name="IdleThrust">
   <table>
    <independentVar lookup="row">velocities/mach</independentVar>
    <independentVar lookup="column">atmosphere/density-altitude</independentVar>
    <tableData>
         -10000     0     10000   20000   30000   40000   50000   60000
     0.0  0.0430  0.0488  0.0528  0.0694  0.0899  0.1183  0.1467  0.0
     0.2  0.0500  0.0501  0.0335  0.0544  0.0797  0.1049  0.1342  0.0
     0.4  0.0040  0.0047  0.0020  0.0272  0.0595  0.0891  0.1203  0.0
     0.6  0.0     0.0     0.0     0.0     0.0276  0.0718  0.1073  0.0
     0.8  0.0     0.0     0.0     0.0     0.0474  0.0868  0.0900  0.0
     1.0  0.0     0.0     0.0     0.0     0.0     0.0552  0.0800  0.0
    </tableData>
   </table>
  </function>

  <function name="MilThrust">
   <table>
    <independentVar lookup="row">velocities/mach</independentVar>
    <independentVar lookup="column">atmosphere/density-altitude</independentVar>
    <tableData>
          -10000       0   10000   20000   30000   40000   50000   60000
     0.0   1.2600  1.0000  0.7400  0.5340  0.3720  0.2410  0.1490  0.0
     0.2   1.1710  0.9340  0.6970  0.5060  0.3550  0.2310  0.1430  0.0
     0.4   1.1500  0.9210  0.6920  0.5060  0.3570  0.2330  0.1450  0.0
     0.6   1.1810  0.9510  0.7210  0.5320  0.3780  0.2480  0.1540  0.0
     0.8   1.2580  1.0200  0.7820  0.5820  0.4170  0.2750  0.1700  0.0
     1.0   1.3690  1.1200  0.8710  0.6510  0.4750  0.3150  0.1950  0.0
     1.2   1.4850  1.2300  0.9750  0.7440  0.5450  0.3640  0.2250  0.0
     1.4   1.5941  1.3400  1.0860  0.8450  0.6280  0.4240  0.2630  0.0
    </tableData>
   </table>
  </function>

</turbine_engine>
<?xml version="1.0"?>
<!--
  File:     J52.xml
  Author:   Aero-Matic v 0.8

  Inputs:
    name:           J52
    type:           turbine
    thrust:         11200.0 lb
    augmented?      no
    injected?       no
-->

<turbine_engine name="J52">
  <milthrust> 11200.0 </milthrust>
  <bypassratio>     1.0 </bypassratio>
  <tsfc>            0.8 </tsfc>
  <bleed>           0.03</bleed>
  <idlen1>         30.0 </idlen1>
  <idlen2>         60.0 </idlen2>
  <maxn1>         100.0 </maxn1>
  <maxn2>         100.0 </maxn2>
  <augmented>         0 </augmented>
  <injected>          0 </injected>

  <function name="IdleThrust">
   <table>
    <independentVar lookup="row">velocities/mach</independentVar>
    <independentVar lookup="column">atmosphere/density-altitude</independentVar>
    <tableData>
         -10000     0     10000   20000   30000   40000   50000   60000
     0.0  0.0430  0.0488  0.0528  0.0694  0.0899  0.1183  0.1467  0.0
     0.2  0.0500  0.0501  0.0335  0.0544  0.0797  0.1049  0.1342  0.0
     0.4  0.0040  0.0047  0.0020  0.0272  0.0595  0.0891  0.1203  0.0
     0.6  0.0     0.0     0.0     0.0     0.0276  0.0718  0.1073  0.0
     0.8  0.0     0.0     0.0     0.0     0.0474  0.0868  0.0900  0.0
     1.0  0.0     0.0     0.0     0.0     0.0     0.0552  0.0800  0.0
    </tableData>
   </table>
  </function>

  <function name="MilThrust">
   <table>
    <independentVar lookup="row">velocities/mach</independentVar>
    <independentVar lookup="column">atmosphere/density-altitude</independentVar>
    <tableData>
          -10000       0   10000   20000   30000   40000   50000   60000
     0.0   1.2600  1.0000  0.7400  0.5340  0.3720  0.2410  0.1490  0.0
     0.2   1.1710  0.9340  0.6970  0.5060  0.3550  0.2310  0.1430  0.0
     0.4   1.1500  0.9210  0.6920  0.5060  0.3570  0.2330  0.1450  0.0
     0.6   1.1810  0.9510  0.7210  0.5320  0.3780  0.2480  0.1540  0.0
     0.8   1.2580  1.0200  0.7820  0.5820  0.4170  0.2750  0.1700  0.0
     1.0   1.3690  1.1200  0.8710  0.6510  0.4750  0.3150  0.1950  0.0
     1.2   1.4850  1.2300  0.9750  0.7440  0.5450  0.3640  0.2250  0.0
     1.4   1.5941  1.3400  1.0860  0.8450  0.6280  0.4240  0.2630  0.0
    </tableData>
   </table>
  </function>

</turbine_engine>
<?xml version="1.0"?>
<!--
  File:     J69-T25.xml
  Author:   Aero-Matic v 0.8

  Inputs:
    name:           J69-T25
    type:           turbine
    thrust:         1025 lb
    augmented?      no
    injected?       no

  Note:
    Bypass ratio is only used by the turbine model to estimate the
    rotational inertia of the engine.  In this case, even though the
    engine is a turbojet, a bypass ratio is used to simulate the high
    rotational inertia of the centrifugal compressor.
-->

<turbine_engine name="J69-T25">
  <milthrust>    1025.0 </milthrust>
  <bypassratio>     5.0 </bypassratio>
  <tsfc>            0.8 </tsfc>
  <idlen1>         30.0 </idlen1>
  <idlen2>         60.0 </idlen2>
  <maxn1>         100.0 </maxn1>
  <maxn2>         100.0 </maxn2>
  <augmented>         0 </augmented>
  <injected>          0 </injected>

  <function name="IdleThrust">
   <table>
    <independentVar lookup="row">velocities/mach</independentVar>
    <independentVar lookup="column">atmosphere/density-altitude</independentVar>
    <tableData>
         -10000     0     10000   20000   30000   40000   50000   60000
     0.0  0.0430  0.0488  0.0528  0.0694  0.0899  0.1183  0.1467  0.0
     0.2  0.0500  0.0501  0.0335  0.0544  0.0797  0.1049  0.1342  0.0
     0.4  0.0040  0.0047  0.0020  0.0272  0.0595  0.0891  0.1203  0.0
     0.6  0.0     0.0     0.0     0.0     0.0276  0.0718  0.1073  0.0
     0.8  0.0     0.0     0.0     0.0     0.0474  0.0868  0.0900  0.0
     1.0  0.0     0.0     0.0     0.0     0.0     0.0552  0.0800  0.0
    </tableData>
   </table>
  </function>

  <function name="MilThrust">
   <table>
    <independentVar lookup="row">velocities/mach</independentVar>
    <independentVar lookup="column">atmosphere/density-altitude</independentVar>
    <tableData>
          -10000       0   10000   20000   30000   40000   50000   60000
     0.0   1.2600  1.0000  0.7400  0.5340  0.3720  0.2410  0.1490  0.0
     0.2   1.1710  0.9340  0.6970  0.5060  0.3550  0.2310  0.1430  0.0
     0.4   1.1500  0.9210  0.6920  0.5060  0.3570  0.2330  0.1450  0.0
     0.6   1.1810  0.9510  0.7210  0.5320  0.3780  0.2480  0.1540  0.0
     0.8   1.2580  1.0200  0.7820  0.5820  0.4170  0.2750  0.1700  0.0
     1.0   1.3690  1.1200  0.8710  0.6510  0.4750  0.3150  0.1950  0.0
     1.2   1.4850  1.2300  0.9750  0.7440  0.5450  0.3640  0.2250  0.0
     1.4   1.5941  1.3400  1.0860  0.8450  0.6280  0.4240  0.2630  0.0
    </tableData>
   </table>
  </function>

</turbine_engine>
<?xml version="1.0"?>
<!--
  File:     J79-GE-11A.xml
  Author:   Aero-Matic v 0.8

  Inputs:
    name:           J79-GE-11A
    type:           turbine
    thrust:         10000.0 lb
    augmented?      yes
    injected?       no
-->

<turbine_engine name="J79">
  <milthrust>   10000.0 </milthrust>
  <maxthrust>   15800.0 </maxthrust>
  <bypassratio>     0.0 </bypassratio>
  <tsfc>            0.95 </tsfc>
  <atsfc>           1.90 </atsfc>
  <idlen1>          0.0 </idlen1>
  <idlen2>         53.0 </idlen2>
  <maxn1>         100.0 </maxn1>
  <maxn2>         100.0 </maxn2>
  <augmented>         1 </augmented>
  <augmethod>         1 </augmethod>
  <injected>          0 </injected>

  <function name="IdleThrust">
   <table>
    <independentVar lookup="row">velocities/mach</independentVar>
    <independentVar lookup="column">atmosphere/density-altitude</independentVar>
    <tableData>
         -10000     0     10000   20000   30000   40000   50000   60000
     0.0  0.0430  0.0488  0.0528  0.0694  0.0899  0.1183  0.1467  0.0
     0.2  0.0500  0.0501  0.0335  0.0544  0.0797  0.1049  0.1342  0.0
     0.4  0.0040  0.0047  0.0020  0.0272  0.0595  0.0891  0.1203  0.0
     0.6  0.0     0.0     0.0     0.0     0.0276  0.0718  0.1073  0.0
     0.8  0.0     0.0     0.0     0.0     0.0474  0.0868  0.0900  0.0
     1.0  0.0     0.0     0.0     0.0     0.0     0.0552  0.0800  0.0
    </tableData>
   </table>
  </function>

  <function name="MilThrust">
   <table>
    <independentVar lookup="row">velocities/mach</independentVar>
    <independentVar lookup="column">atmosphere/density-altitude</independentVar>
    <tableData>
          -10000       0   10000   20000   30000   40000   50000   60000
     0.0   1.2600  1.0000  0.7400  0.5340  0.3720  0.2410  0.1490  0.0
     0.2   1.1710  0.9340  0.6970  0.5060  0.3550  0.2310  0.1430  0.0
     0.4   1.1500  0.9210  0.6920  0.5060  0.3570  0.2330  0.1450  0.0
     0.6   1.1810  0.9510  0.7210  0.5320  0.3780  0.2480  0.1540  0.0
     0.8   1.2580  1.0200  0.7820  0.5820  0.4170  0.2750  0.1700  0.0
     1.0   1.3690  1.1200  0.8710  0.6510  0.4750  0.3150  0.1950  0.0
     1.2   1.4850  1.2300  0.9750  0.7440  0.5450  0.3640  0.2250  0.0
     1.4   1.5941  1.3400  1.0860  0.8450  0.6280  0.4240  0.2630  0.0
    </tableData>
   </table>
  </function>

  <function name="AugThrust">
   <table>
    <independentVar lookup="row">velocities/mach</independentVar>
    <independentVar lookup="column">atmosphere/density-altitude</independentVar>
    <tableData>
           -10000       0   10000   20000   30000   40000   50000   60000
     0.0    1.1816  1.0000  0.8184  0.6627  0.5280  0.3756  0.2327  0.0
     0.2    1.1308  0.9599  0.7890  0.6406  0.5116  0.3645  0.2258  0.0
     0.4    1.1150  0.9474  0.7798  0.6340  0.5070  0.3615  0.2240  0.0
     0.6    1.1284  0.9589  0.7894  0.6420  0.5134  0.3661  0.2268  0.0
     0.8    1.1707  0.9942  0.8177  0.6647  0.5309  0.3784  0.2345  0.0
     1.0    1.2411  1.0529  0.8648  0.7017  0.5596  0.3983  0.2467  0.0
     1.2    1.3287  1.1254  0.9221  0.7462  0.5936  0.4219  0.2614  0.0
     1.4    1.4365  1.2149  0.9933  0.8021  0.6360  0.4509  0.2794  0.0
     1.6    1.5711  1.3260  1.0809  0.8700  0.6874  0.4860  0.3011  0.0
     1.8    1.7301  1.4579  1.1857  0.9512  0.7495  0.5289  0.3277  0.0
     2.0    1.8314  1.5700  1.3086  1.0474  0.8216  0.5786  0.3585  0.0
     2.2    1.9700  1.6900  1.4100  1.2400  0.9100  0.6359  0.3940  0.0
     2.4    2.0700  1.8000  1.5300  1.3400  1.0000  0.7200  0.4600  0.0
     2.6    2.2000  1.9200  1.6400  1.4400  1.1000  0.8000  0.5200  0.0
    </tableData>
   </table>
  </function>

</turbine_engine>
<?xml version="1.0"?>
<!--
  File:     J85.xml
  Author:   Aero-Matic v 0.8
  Modified for J85-GE-5, Dave Culp

  Inputs:
    name:           J85
    type:           turbine
    thrust:         2050.0 lb
    augmented?      yes
    injected?       no
-->

<turbine_engine name="J85">
  <milthrust>    2050.0 </milthrust>
  <maxthrust>    2900.0 </maxthrust>
  <bypassratio>     0.0 </bypassratio>
  <tsfc>            0.85 </tsfc>
  <atsfc>           1.72 </atsfc>
  <bleed>           0.03 </bleed>
  <idlen1>          0.0 </idlen1>
  <idlen2>         53.0 </idlen2>
  <maxn1>         100.0 </maxn1>
  <maxn2>         100.0 </maxn2>
  <augmented>         1 </augmented>
  <augmethod>         2 </augmethod>
  <injected>          0 </injected>

  <function name="IdleThrust">
   <table>
    <independentVar lookup="row">velocities/mach</independentVar>
    <independentVar lookup="column">atmosphere/density-altitude</independentVar>
    <tableData>
         -10000     0     10000   20000   30000   40000   50000   60000
     0.0  0.0528  0.0488  0.0528  0.0694  0.0899  0.1183  0.1467  0.0
     0.2  0.0600  0.0501  0.0335  0.0544  0.0797  0.1049  0.1342  0.0
     0.4  0.0100  0.0047  0.0020  0.0272  0.0595  0.0891  0.1203  0.0
     0.6 -0.0600 -0.0804 -0.0560 -0.0237  0.0276  0.0718  0.1073  0.0
     0.8 -0.2000 -0.2129 -0.1498 -0.1025 -0.0195  0.0473  0.0868  0.0
     1.0 -0.2300 -0.2839 -0.1104 -0.0469 -0.0270 -0.0158  0.0552  0.0
    </tableData>
   </table>
  </function>

  <function name="MilThrust">
   <table>
    <independentVar lookup="row">velocities/mach</independentVar>
    <independentVar lookup="column">atmosphere/density-altitude</independentVar>
    <tableData>
          -10000       0   10000   20000   30000   40000   50000   60000
     0.0   1.2600  1.0000  0.7400  0.5340  0.3720  0.2410  0.1490  0.0
     0.2   1.1710  0.9340  0.6970  0.5060  0.3550  0.2310  0.1430  0.0
     0.4   1.1500  0.9210  0.6920  0.5060  0.3570  0.2330  0.1450  0.0
     0.6   1.1810  0.9510  0.7210  0.5320  0.3780  0.2480  0.1540  0.0
     0.8   1.2580  1.0200  0.7820  0.5820  0.4170  0.2750  0.1700  0.0
     1.0   1.3690  1.1200  0.8710  0.6510  0.4750  0.3150  0.1950  0.0
     1.2   1.4850  1.2300  0.9750  0.7440  0.5450  0.3640  0.2250  0.0
     1.4   1.5941  1.3400  1.0860  0.8450  0.6280  0.4240  0.2630  0.0
    </tableData>
   </table>
  </function>

  <function name="AugThrust">
   <table>
    <independentVar lookup="row">velocities/mach</independentVar>
    <independentVar lookup="column">atmosphere/density-altitude</independentVar>
    <tableData>
           -10000       0   10000   20000   30000   40000   50000   60000
     0.0    1.1816  1.0000  0.8184  0.6627  0.5280  0.3756  0.2327  0.0
     0.2    1.1308  0.9599  0.7890  0.6406  0.5116  0.3645  0.2258  0.0
     0.4    1.1150  0.9474  0.7798  0.6340  0.5070  0.3615  0.2240  0.0
     0.6    1.1284  0.9589  0.7894  0.6420  0.5134  0.3661  0.2268  0.0
     0.8    1.1707  0.9942  0.8177  0.6647  0.5309  0.3784  0.2345  0.0
     1.0    1.2411  1.0529  0.8648  0.7017  0.5596  0.3983  0.2467  0.0
     1.2    1.3287  1.1254  0.9221  0.7462  0.5936  0.4219  0.2614  0.0
     1.4    1.4365  1.2149  0.9933  0.8021  0.6360  0.4509  0.2794  0.0
     1.6    1.5711  1.3260  1.0809  0.8700  0.6874  0.4860  0.3011  0.0
     1.8    1.7301  1.4579  1.1857  0.9512  0.7495  0.5289  0.3277  0.0
     2.0    1.8314  1.5700  1.3086  1.0474  0.8216  0.5786  0.3585  0.0
     2.2    1.9700  1.6900  1.4100  1.2400  0.9100  0.6359  0.3940  0.0
     2.4    2.0700  1.8000  1.5300  1.3400  1.0000  0.7200  0.4600  0.0
     2.6    2.2000  1.9200  1.6400  1.4400  1.1000  0.8000  0.5200  0.0
    </tableData>
   </table>
  </function>

</turbine_engine>
<?xml version="1.0"?>
<!--
  File:     JT9D-3.xml
  Author:   Aero-Matic v 0.8, Darren Jones

  Inputs:
    name:           JT9D-3
    type:           turbine
    thrust:         43500 lb
    augmented?      no
    injected?       no
-->

<turbine_engine name="JT9D-3">
  <milthrust>   43500.0 </milthrust>
  <bypassratio>     5.9 </bypassratio>
  <tsfc>            0.657 </tsfc>
  <idlen1>         30.0 </idlen1>
  <idlen2>         60.0 </idlen2>
  <maxn1>         100.0 </maxn1>
  <maxn2>         100.0 </maxn2>
  <augmented>         0 </augmented>
  <augmethod>         1 </augmethod>
  <injected>          0 </injected>

  <function name="IdleThrust">
   <table>
    <independentVar lookup="row">velocities/mach</independentVar>
    <independentVar lookup="column">atmosphere/density-altitude</independentVar>
    <tableData>
         -10000     0     10000   20000   30000   40000   50000   60000
     0.0  0.0430  0.0488  0.0528  0.0694  0.0899  0.1183  0.1467  0.0
     0.2  0.0500  0.0501  0.0335  0.0544  0.0797  0.1049  0.1342  0.0
     0.4  0.0040  0.0047  0.0020  0.0272  0.0595  0.0891  0.1203  0.0
     0.6  0.0     0.0     0.0     0.0     0.0276  0.0718  0.1073  0.0
     0.8  0.0     0.0     0.0     0.0     0.0474  0.0868  0.0900  0.0
     1.0  0.0     0.0     0.0     0.0     0.0     0.0552  0.0800  0.0
    </tableData>
   </table>
  </function>

  <function name="MilThrust">
   <table>
    <independentVar lookup="row">velocities/mach</independentVar>
    <independentVar lookup="column">atmosphere/density-altitude</independentVar>
    <tableData>
          -10000       0   10000   20000   30000   40000   50000   60000
     0.0   1.2600  1.0000  0.7400  0.5340  0.3720  0.2410  0.1490  0.0
     0.2   1.1710  0.9340  0.6970  0.5060  0.3550  0.2310  0.1430  0.0
     0.4   1.1500  0.9210  0.6920  0.5060  0.3570  0.2330  0.1450  0.0
     0.6   1.1810  0.9510  0.7210  0.5320  0.3780  0.2480  0.1540  0.0
     0.8   1.2580  1.0200  0.7820  0.5820  0.4170  0.2750  0.1700  0.0
     0.95  1.3690  1.1200  0.8710  0.6510  0.4750  0.3150  0.1950  0.0
     1.2   0.0000  0.0000  0.0000  0.0000  0.0000  0.0000  0.0000  0.0
    </tableData>
   </table>
  </function>

</turbine_engine>
<?xml version="1.0"?>
<FG_NOZZLE NAME="X-15 XLR-99 Nozzle">
  <!--
    PE      = Nozzle exit pressure, psf.
    EXPR    = Nozzle expansion ratio, Ae/At, sqft.
    NZL_EFF = Nozzle efficiency, 0.0 - 1.0
    DIAM    = Nozzle diameter, ft.
  -->
  PE      10.0 <!-- a guess -->
  EXPR    47.5
  NZL_EFF  0.67
  DIAM     5.0
</FG_NOZZLE>

<?xml version="1.0"?>
<FG_ROCKET NAME="LM_Descent">
  <!--
    SHR      = Specific Heat Ratio, for LOX/Ammonia this is 1.23
    MAX_PC   = Maximum chamber pressure in psf
    PROP_EFF = propulsive efficiency. This is largely a fudge factor.
  -->
  SHR              1.24
  MAX_PC       15840.0
  VARIANCE         0.10
  PROP_EFF         0.67
  MAXTHROTTLE      1.0
  MINTHROTTLE      0.1
  SLFUELFLOWMAX   34.0
  SLOXIFLOWMAX    34.0
</FG_ROCKET>

<?xml version="1.0"?>
<!--
  File:     MerlinV1650.xml
  Author:   Aero-Matic v 0.8

  Inputs:
    name:           MerlinV1650
    type:           piston
    power:          1650.0 hp
    augmented?      no
    injected?       no

    refference:
    http://www.thunderboats.org/history/history0324.html
-->

<piston_engine name="MerlinV1650">
  <minmp unit="INHG">         10.0 </minmp>
  <maxmp unit="INHG">         30.0 </maxmp>
  <displacement unit="IN3"> 1649.0 </displacement>
  <maxhp>       1650.0 </maxhp>
  <cycles>         4.0 </cycles>
  <idlerpm>      700.0 </idlerpm>
  <maxrpm>      3000.0 </maxrpm>
  <maxthrottle>    1.0 </maxthrottle>
  <minthrottle>    0.1 </minthrottle>
  <sparkfaildrop>  0.0 </sparkfaildrop>
</piston_engine>
<?xml version="1.0"?>
<!--
  File:     Oberursel Ur.II.xml
  Author:   Ron Jensen
  
  Reference: http://www.aviation-history.com/engines/rotary.htm

  Inputs:
    name:           Oberursel Ur.II
    type:           piston
    power:          110 hp
    Bore & Stroke:  4.9 in x 5.9 in
                    124mm x 150mm
    Displacement:   995 in 16.3 L 
    augmented?      no
    injected?       no
-->

<piston_engine name="Oberursel Ur.II">
  <minmp unit="INHG">         10.0 </minmp>
  <maxmp unit="INHG">         29.0 </maxmp>
  <displacement unit="IN3"> 995.00 </displacement>
  <maxhp>        110.00 </maxhp>		
  <!--bsfc>           0.45 </bsfc-->
  <cycles>         4.0 </cycles>
  <idlerpm>      300.0 </idlerpm>
  <maxrpm>      1200.0 </maxrpm>
  <maxthrottle>    1.0 </maxthrottle>
  <minthrottle>    0.1 </minthrottle>
  <sparkfaildrop>  0.0 </sparkfaildrop>
</piston_engine>
<?xml version="1.0" ?>
<!--
  File:     Olympus593Mrk610.xml
  Author:   Aero-Matic v 0.7
  Version:  1.05
  Date:     1st January 2008

  Inputs:
    name:           Olympus593Mrk610
    type:           turbine
    thrust:         31350 lb
    augmented?      yes
    injected?       no


  References :
  ==========
    - http://www.airweb.faa.gov/Regulatory_and_Guidance_Library/rgMakeModel.nsf/MainFrame?OpenFrameSet
    (FAA certificate, E20eu - 15 january 1981, Olympus).

    - http://www.airweb.faa.gov/Regulatory_and_Guidance_Library/rgMakeModel.nsf/MainFrame?OpenFrameSet
    (FAA certificate, A45eu - 9 january 1979, Concorde) :

                               Static         N1 (low       N2 (high                  Time
    Condition                thrust (lb)    compressor)    compressor)      EGT       limit
    .........................................................................................
    Start and relight             -              -              -          550�C      2 s
    Contingency                 38130           102%          106.8%       883�C      2.5 s
    Takeoff (with reheat)       37080           102%          105.7%       806�C      5 minutes
    Takeoff (without reheat)    31350           102%          105.7%       806�C      5 minutes
    Reheated climb              32800           102%          105.1%       755�C      15 minutes
    Maximum continuous          28800           102%          105.3%       736�C      unrestricted
    Idle                          -              -             60% (min)              unrestricted
    Maximum overspeed                           108.5%        110.0%         -        20 s
    Reverse (ground)              -              -             98.0%         -        30 s
    Reverse (flight)              -         (as obtained at reversed idle)   -        4 minutes

    - http://www.concordesst.com :
    Olympus 593 Mrk 610 turbojet (RollsRoyce / SNECMA).
    Maximum thurst at take off (with afterburner reheat) : 38050 lbs (170 KN).
    Maximum thrust produced during supersonic cruise : 10000 lbs.
    Reheat contribution to performance : 20% at full thrust during take off.
    Fuel type : A1 jet fuel.
    Fuel capacity : 26400 gallons, 119500 l, 95680 kg.
    Fuel consumption (at idle power) : 1100 kg/h (302 gallons/h).
    Fuel consumption (at full power) : 10500 kg/h (2885 gallons/h).
    Fuel consumption (at full reheat power) : 22500 kg/h (6180 gallons/h).

    As air intakes move at Mach 1.3, a shockwave forms.
    Takeoff and cruise : 82% of thrust by engine, 6% from nozzle and 12% by intakes.
    Supersonic cruise : 8% of thrust by engine, 29% from nozzle and 63% by intakes.

    - http://www.aircraftenginedesign.com :
    Takeoff : Thrust 38000 lb, Bypass Ratio 0, Overall Pressure Ratio 11.3 (cruise), Airflow : 410 lb/s.
    Cruise  : Altitude : 53000 ft, Mach 2.00, Thrust 10030 lb, TSFC : 1.190.

    - http://www.alpa.org/alpa/DesktopModules/ViewDocument.aspx?DocumentID=814 :
    At Mach 1.3, inlet-guide ramps lower to slow down the intake air.
    At Mach 1.7 the afterburners are turned off, and the non-bypass engines are able to increase
    to Mach 2.04 (1150 kt) with about half the fuel flow.
    At cruise speed, the air entering the engines is reduced by intake ramps to 500 kt.
    This drop in intakes provides 45% of thrust, the engines 50%, and the convergent/divergent effect
    of the nozzle and stowed thrust reversers, 5%.
    At Mach 2.04, fuel flow is 45200 lb/h.

-->
<turbine_engine name="Olympus593Mrk610">
  <!--
     MILTHRUST     max static thrust (without afterburner) at S.L. (installed), lbf
     MAXTHRUST     max static thrust with afterburner at S.L. (installed), lbf
     BYPASSRATIO   bypass ratio
     TSFC          thrust-specific fuel consumption (lbm/hr/lbf)
     ATSFC         augmented TSFC (lbm/hr/lbf)
     IDLEN1        idle percent rpm of fan spool
     IDLEN2        idle percent rpm of inner spool
     MAXN1         N1 at 100% throttle
     MAXN2         N2 at 100% throttle
     AUGMENTED     = 1 if augmentation installed, else = 0
     AUGMETHOD     = 0 if using property /engine[n]/augmentation
                   = 1 if using last 1% of throttle movement
     INJECTED      = 1 if water injection installed

     TABLE(0)      idle thrust vs. altitude and mach
     TABLE(1)      maximum un-augmented thrust vs. altitude and mach
     TABLE(2)      augmented thrust multiplier vs. altitude and mach
     TABLE(3)      water-injection multiplier vs. altitude and mach
  -->

  <!-- - TSFC 10500 kg/h / 31350 lbs = 0.738 :
       Get the right consumption at max thrust (sea level).
       Depends strongly of center of gravity and aero reference point.
       - ATSFC 22500 kg/h / 37080 lbs = 1.338 :
       Get the right consumption at afterburner (sea level).

       Adjust the TSFC to get 20500 kg/h on average, at Mach 2.02 between 50000-57800 ft
      (60 ft/min during 2h10).
  -->

  <milthrust> 31350 </milthrust>
  <maxthrust> 37080 </maxthrust>
  <bypassratio> 0.0 </bypassratio>
  <tsfc> 1.144 </tsfc>                       <!-- 0.738 x 1.55 -->
  <atsfc> 1.338 </atsfc>
  <idlen1> 30.0 </idlen1>
  <idlen2> 60.0 </idlen2>
  <maxn1> 102.0 </maxn1>
  <maxn2> 106.0 </maxn2>
  <augmented> 1 </augmented>
  <augmethod> 0 </augmethod>
  <injected> 0 </injected>

  <!-- At takeoff and subsonic cruise : 12% of thrust by intake, 6% by secondary nozzles
                                        = x 1.1360.
       Air intakes starts at Mach 1.3 : 63 % of thrust in supersonic cruise, 29% secondary nozzles
                                        = x 2.7030.

       One supposes secondary nozzles included in the engine thrust.
       Simplification : no air intake effect above Mach 1.3.


       Ground idle = 90 % of normal thrust.
  -->

 <function name="IdleThrust">
  <table>
   <independentVar lookup="row">velocities/mach</independentVar>
   <independentVar lookup="column">atmosphere/density-altitude</independentVar>
   <independentVar lookup="table">fcs/ground-idle</independentVar>
   <tableData breakPoint="0">
          -10000      0  10000  20000  30000  40000  50000  60000  80000
    0.0   0.0430 0.0488 0.0528 0.0694 0.0899 0.1183 0.1467 0.0792  0.0
    0.2   0.0500 0.0501 0.0335 0.0544 0.0797 0.1049 0.1342 0.0725  0.0
    0.4   0.0040 0.0047 0.0020 0.0272 0.0595 0.0891 0.1203 0.0650  0.0
    0.6   0.0    0.0    0.0    0.0    0.0276 0.0718 0.1073 0.0579  0.0
    0.8   0.0    0.0    0.0    0.0    0.0474 0.0868 0.0900 0.0486  0.0
    1.0   0.0    0.0    0.0    0.0    0.0    0.0552 0.0800 0.0432  0.0
    1.2   0.0    0.0    0.0    0.0    0.0    0.0530 0.0768 0.0415  0.0
    1.4   0.0    0.0    0.0    0.0    0.0    0.0519 0.0753 0.0407  0.0
    1.6   0.0    0.0    0.0    0.0    0.0    0.0    0.0745 0.0403  0.0
    1.8   0.0    0.0    0.0    0.0    0.0    0.0    0.0723 0.0391  0.0
    2.0   0.0    0.0    0.0    0.0    0.0    0.0    0.0680 0.0368  0.0
    2.2   0.0    0.0    0.0    0.0    0.0    0.0    0.0605 0.0328  0.0
   </tableData>
   <tableData breakPoint="1">
          -10000      0  10000  20000  30000  40000  50000  60000  80000
    0.0   0.0387 0.0439 0.0475 0.0625 0.0809 0.1065 0.1320 0.0713  0.0
    0.2   0.0500 0.0501 0.0335 0.0544 0.0797 0.1049 0.1342 0.0725  0.0
    0.4   0.0040 0.0047 0.0020 0.0272 0.0595 0.0891 0.1203 0.0650  0.0
    0.6   0.0    0.0    0.0    0.0    0.0276 0.0718 0.1073 0.0579  0.0
    0.8   0.0    0.0    0.0    0.0    0.0474 0.0868 0.0900 0.0486  0.0
    1.0   0.0    0.0    0.0    0.0    0.0    0.0552 0.0800 0.0432  0.0
    1.2   0.0    0.0    0.0    0.0    0.0    0.0530 0.0768 0.0415  0.0
    1.4   0.0    0.0    0.0    0.0    0.0    0.0519 0.0753 0.0407  0.0
    1.6   0.0    0.0    0.0    0.0    0.0    0.0    0.0745 0.0403  0.0
    1.8   0.0    0.0    0.0    0.0    0.0    0.0    0.0723 0.0391  0.0
    2.0   0.0    0.0    0.0    0.0    0.0    0.0    0.0680 0.0368  0.0
    2.2   0.0    0.0    0.0    0.0    0.0    0.0    0.0605 0.0328  0.0
   </tableData>
  </table>
 </function>

    <!-- Add average (without X factor) at Mach 1.3.

         Above Mach 1.3 :
         - x 1.2 at Mach 1.4.
         - x 1.4 at Mach 1.6.
         - x 1.8 at Mach 1.8.
         - x 2.7 at Mach 2.0.
         - x 2.7 at Mach 2.2.
    -->

 <function name="MilThrust">
  <table>
   <independentVar lookup="row">velocities/mach</independentVar>
   <independentVar lookup="column">atmosphere/density-altitude</independentVar>
   <independentVar lookup="table">fcs/intake-subsonic-pos</independentVar>
   <tableData breakPoint="0">
          -10000      0  10000  20000  30000  40000  50000  60000  80000
    0.0   1.2600 1.0000 0.7400 0.5340 0.3720 0.2410 0.1490 0.0805  0.0
    0.2   1.1710 0.9340 0.6970 0.5060 0.3550 0.2310 0.1430 0.0772  0.0
    0.4   1.1500 0.9210 0.6920 0.5060 0.3570 0.2330 0.1450 0.0783  0.0
    0.6   1.1810 0.9510 0.7210 0.5320 0.3780 0.2480 0.1540 0.0832  0.0
    0.8   1.2580 1.0200 0.7820 0.5820 0.4170 0.2750 0.1700 0.0918  0.0
    1.0   1.3690 1.1200 0.8710 0.6510 0.4750 0.3150 0.1950 0.1053  0.0
    1.2   1.4850 1.2300 0.9750 0.7440 0.5450 0.3640 0.2250 0.1215  0.0
    1.3   1.5396 1.2850 1.0305 0.7945 0.5865 0.3940 0.2440 0.1318  0.0
    1.4   1.9129 1.6080 1.3032 1.0140 0.7536 0.5088 0.3156 0.1704  0.0
    1.6   2.0895 1.7636 1.4377 1.1571 0.9142 0.6464 0.4004 0.2202  0.0
    1.8   2.6159 2.2043 1.7928 1.4382 1.1333 0.7997 0.4955 0.2725  0.0
    2.0   3.6096 3.0945 2.5793 2.0644 1.6192 1.1405 0.7066 0.3888  0.0
    2.2   3.4042 2.9203 2.4365 2.1427 1.5725 1.0989 0.6809 0.3745  0.0
   </tableData>
   <tableData breakPoint="1">
          -10000      0  10000  20000  30000  40000  50000  60000  80000
    0.0   1.2600 1.0000 0.7400 0.5340 0.3720 0.2410 0.1490 0.0805  0.0
    0.2   1.1710 0.9340 0.6970 0.5060 0.3550 0.2310 0.1430 0.0772  0.0
    0.4   1.1500 0.9210 0.6920 0.5060 0.3570 0.2330 0.1450 0.0783  0.0
    0.6   1.1810 0.9510 0.7210 0.5320 0.3780 0.2480 0.1540 0.0832  0.0
    0.8   1.2580 1.0200 0.7820 0.5820 0.4170 0.2750 0.1700 0.0918  0.0
    1.0   1.3690 1.1200 0.8710 0.6510 0.4750 0.3150 0.1950 0.1053  0.0
    1.2   1.4850 1.2300 0.9750 0.7440 0.5450 0.3640 0.2250 0.1215  0.0
    1.4   1.5941 1.3400 1.0860 0.8450 0.6280 0.4240 0.2630 0.1420  0.0
    1.6   1.4925 1.2597 1.0269 0.8265 0.6530 0.4617 0.2860 0.1573  0.0
    1.8   1.4533 1.2246 0.9960 0.7990 0.6296 0.4443 0.2753 0.1514  0.0
    2.0   1.3369 1.1461 0.9553 0.7646 0.5997 0.4224 0.2617 0.1440  0.0
    2.2   1.2608 1.0816 0.9024 0.7936 0.5824 0.4070 0.2522 0.1387  0.0
   </tableData>
  </table>
 </function>

    <!-- Add average (without X factor ) at Mach 1.3.

         Above Mach 1.3 :
         - x 1.2 at Mach 1.4.
         - x 1.4 at Mach 1.6.
         - x 1.8 at Mach 1.8.
         - x 2.7 at Mach 2.0.
         - x 2.5 at Mach 2.2.
         - burn fuel to match consumption London-New York.
         - avoid overspeed until Mach 1.7.
    -->

  <function name="AugThrust">
   <table>
    <independentVar lookup="row">velocities/mach</independentVar>
    <independentVar lookup="column">atmosphere/density-altitude</independentVar>
    <independentVar lookup="table">fcs/intake-subsonic-pos</independentVar>
    <tableData breakPoint="0">
          -10000      0  10000  20000  30000  40000  50000  60000  80000
    0.0   1.1816 1.0000 0.8184 0.6627 0.5280 0.3756 0.2327 0.1280  0.0
    0.2   1.1308 0.9599 0.7890 0.6406 0.5116 0.3645 0.2258 0.1242  0.0
    0.4   1.1150 0.9474 0.7798 0.6340 0.5070 0.3615 0.2240 0.1232  0.0
    0.6   1.1284 0.9589 0.7894 0.6420 0.5134 0.3661 0.2268 0.1247  0.0
    0.8   1.1707 0.9942 0.8177 0.6647 0.5309 0.3784 0.2345 0.1290  0.0
    1.0   1.2411 1.0529 0.8648 0.7017 0.5596 0.3983 0.2467 0.1357  0.0
    1.2   1.3287 1.1254 0.9221 0.7462 0.5936 0.4219 0.2614 0.1438  0.0
    1.3   1.3826 1.1702 0.9577 0.7742 0.6148 0.4364 0.2704 0.1488  0.0
    1.4   1.7238 1.4579 1.1920 0.9625 0.7632 0.5411 0.3353 0.1846  0.0
    1.6   2.1995 1.8564 1.5132 1.2180 0.9224 0.6804 0.4215 0.2318  0.0
    1.8   3.1142 2.6242 2.1343 1.7122 1.3491 0.9520 0.5899 0.3244  0.0
    2.0   4.9945 4.2390 3.5332 2.8280 2.2183 1.5622 0.9680 0.5324  0.0
    2.2   4.9250 4.2250 3.5250 3.1000 2.2750 1.5898 0.9850 0.5418  0.0
   </tableData>
    <tableData breakPoint="1">
          -10000      0  10000  20000  30000  40000  50000  60000  80000
    0.0   1.1816 1.0000 0.8184 0.6627 0.5280 0.3756 0.2327 0.1280  0.0
    0.2   1.1308 0.9599 0.7890 0.6406 0.5116 0.3645 0.2258 0.1242  0.0
    0.4   1.1150 0.9474 0.7798 0.6340 0.5070 0.3615 0.2240 0.1232  0.0
    0.6   1.1284 0.9589 0.7894 0.6420 0.5134 0.3661 0.2268 0.1247  0.0
    0.8   1.1707 0.9942 0.8177 0.6647 0.5309 0.3784 0.2345 0.1290  0.0
    1.0   1.2411 1.0529 0.8648 0.7017 0.5596 0.3983 0.2467 0.1357  0.0
    1.2   1.3287 1.1254 0.9221 0.7462 0.5936 0.4219 0.2614 0.1438  0.0
    1.4   1.4365 1.2149 0.9933 0.8021 0.6360 0.4509 0.2794 0.1538  0.0
    1.6   1.5711 1.3260 1.0809 0.8700 0.6874 0.4860 0.3011 0.1656  0.0
    1.8   1.7301 1.4579 1.1857 0.9512 0.7495 0.5289 0.3277 0.1802  0.0
    2.0   1.8314 1.5700 1.3086 1.0474 0.8216 0.5786 0.3585 0.1972  0.0
    2.2   1.9700 1.6900 1.4100 1.2400 0.9100 0.6359 0.3940 0.2167  0.0
    2.4   2.0700 1.8000 1.5300 1.3400 1.0000 0.7200 0.4600 0.2530  0.0
    2.6   2.2000 1.9200 1.6400 1.4400 1.1000 0.8000 0.5200 0.2860  0.0
    </tableData>
  </table>
 </function>


<!-- ===================================== -->
<!-- === backup of extrapolated tables === -->
<!-- ===================================== -->

<!--
<TABLE NAME="Idle6Thrust" TYPE="TABLE">

      at 50000 ft :
      - 0.2 X 0.915.
      - 0.4 X 0.896.
      - 0.6 X 0.892.
      - 0.8 X 0.84.
      - 1.0 X 0.89.

      extrapolated (staying below military) :
      - 1.2 X 0.96.
      - 1.4 X 0.98.
      - 1.6 X 0.99 (maximum).
      - 1.8 X 0.97.
      - 2.0 X 0.94.
      - 2.2 X 0.89.

      at Mach 1.0 :
      - 50000 X 1.45.

      at Mach 0.8 :
      - 40000 X 1.83.
      - 50000 X 1.04.

      at Mach 0.6 :
      - 40000 X 2.60.
      - 50000 X 1.50.

      at Mach 0.4 :
      - 30000 X 2.19.
      - 40000 X 1.50.
      - 50000 X 1.35.

      extrapolated (like military) :
      - 60000 X 0.54.

 Idle6_power_thrust_factor
 12 8
 velocities/mach-norm position/h-sl-ft
 none
        -10000      0  10000  20000  30000  40000  50000  60000
 0.0    0.0430 0.0488 0.0528 0.0694 0.0899 0.1183 0.1467 0.0792
 0.2    0.0500 0.0501 0.0335 0.0544 0.0797 0.1049 0.1342 0.0725
 0.4    0.0040 0.0047 0.0020 0.0272 0.0595 0.0891 0.1203 0.0650
 0.6    0.0    0.0    0.0    0.0    0.0276 0.0718 0.1073 0.0579
 0.8    0.0    0.0    0.0    0.0    0.0474 0.0868 0.0900 0.0486
 1.0    0.0    0.0    0.0    0.0    0.0    0.0552 0.0800 0.0432
 1.2    0.0    0.0    0.0    0.0    0.0    0.0530 0.0768 0.0415
 1.4    0.0    0.0    0.0    0.0    0.0    0.0519 0.0753 0.0407
 1.6    0.0    0.0    0.0    0.0    0.0    0.0    0.0745 0.0403
 1.8    0.0    0.0    0.0    0.0    0.0    0.0    0.0723 0.0391
 2.0    0.0    0.0    0.0    0.0    0.0    0.0    0.0680 0.0368
 2.2    0.0    0.0    0.0    0.0    0.0    0.0    0.0605 0.0328
</TABLE> 

<TABLE NAME="Mil6Thrust" TYPE="TABLE">

      at 50000 ft :
      - 0.4 X 1.014.
      - 0.6 X 1.062.
      - 0.8 X 1.104.
      - 1.0 X 1.147.
      - 1.2 X 1.15.
      - 1.4 X 1.17.

      ratio augmented / military at 50000 ft :
      - 0.4 X 1.55.
      - 0.6 X 1.47.
      - 0.8 X 1.38.
      - 1.0 X 1.27.
      - 1.2 X 1.16.
      - 1.4 X 1.06.

      extrapolated from augmented :
      - 1.6 X 0.95.
      - 1.8 X 0.84.
      - 2.0 X 0.73.
      - 2.2 X 0.64

      at Mach 1.4 :
      - 20000 X 0.78.
      - 30000 X 0.74.
      - 40000 X 0.68.
      - 50000 X 0.62.

      extrapolated (staying below augmented) :
      - 60000 X 0.54.

 Military6_power_thrust_factor
 12 8
 velocities/mach-norm position/h-sl-ft
 none 
        -10000      0  10000  20000  30000  40000  50000  60000
 0.0    1.2600 1.0000 0.7400 0.5340 0.3720 0.2410 0.1490 0.0805
 0.2    1.1710 0.9340 0.6970 0.5060 0.3550 0.2310 0.1430 0.0772
 0.4    1.1500 0.9210 0.6920 0.5060 0.3570 0.2330 0.1450 0.0783
 0.6    1.1810 0.9510 0.7210 0.5320 0.3780 0.2480 0.1540 0.0832
 0.8    1.2580 1.0200 0.7820 0.5820 0.4170 0.2750 0.1700 0.0918
 1.0    1.3690 1.1200 0.8710 0.6510 0.4750 0.3150 0.1950 0.1053
 1.2    1.4850 1.2300 0.9750 0.7440 0.5450 0.3640 0.2250 0.1215
 1.4    1.5941 1.3400 1.0860 0.8450 0.6280 0.4240 0.2630 0.1420
 1.6    1.4925 1.2597 1.0269 0.8265 0.6530 0.4617 0.2860 0.1573
 1.8    1.4533 1.2246 0.9960 0.7990 0.6296 0.4443 0.2753 0.1514
 2.0    1.3369 1.1461 0.9553 0.7646 0.5997 0.4224 0.2617 0.1440
 2.2    1.2608 1.0816 0.9024 0.7936 0.5824 0.4070 0.2522 0.1387
</TABLE> 

<TABLE NAME="Aug6Thrust" TYPE="TABLE">

      at Mach 2.6 :
      - 20000 X 0.88.
      - 30000 X 0.76.
      - 40000 X 0.73.
      - 50000 X 0.65.

      extrapolated :
      - 60000 X 0.55.

 Augmented6_thrust_factor
 14 8
 velocities/mach-norm position/h-sl-ft
 none
        -10000      0  10000  20000  30000  40000  50000  60000
 0.0    1.1816 1.0000 0.8184 0.6627 0.5280 0.3756 0.2327 0.1280
 0.2    1.1308 0.9599 0.7890 0.6406 0.5116 0.3645 0.2258 0.1242
 0.4    1.1150 0.9474 0.7798 0.6340 0.5070 0.3615 0.2240 0.1232
 0.6    1.1284 0.9589 0.7894 0.6420 0.5134 0.3661 0.2268 0.1247
 0.8    1.1707 0.9942 0.8177 0.6647 0.5309 0.3784 0.2345 0.1290
 1.0    1.2411 1.0529 0.8648 0.7017 0.5596 0.3983 0.2467 0.1357
 1.2    1.3287 1.1254 0.9221 0.7462 0.5936 0.4219 0.2614 0.1438
 1.4    1.4365 1.2149 0.9933 0.8021 0.6360 0.4509 0.2794 0.1538
 1.6    1.5711 1.3260 1.0809 0.8700 0.6874 0.4860 0.3011 0.1656
 1.8    1.7301 1.4579 1.1857 0.9512 0.7495 0.5289 0.3277 0.1802
 2.0    1.8314 1.5700 1.3086 1.0474 0.8216 0.5786 0.3585 0.1972
 2.2    1.9700 1.6900 1.4100 1.2400 0.9100 0.6359 0.3940 0.2167
 2.4    2.0700 1.8000 1.5300 1.3400 1.0000 0.7200 0.4600 0.2530
 2.6    2.2000 1.9200 1.6400 1.4400 1.1000 0.8000 0.5200 0.2860
</TABLE>
--> 


<!-- ========================================================================== -->
<!-- BACKUP of default tables, which are correct : get 10073 lb at Mach 2 FL500 -->
<!-- ========================================================================== -->
 
<!--
  <TABLE NAME="IdleThrust" TYPE="TABLE">
    Idle_power_thrust_factor
    6
    7
    velocities/mach-norm
    position/h-sl-ft
    none
          -10000      0  10000  20000  30000  40000  50000
    0.0   0.0430 0.0488 0.0528 0.0694 0.0899 0.1183 0.1467
    0.2   0.0500 0.0501 0.0335 0.0544 0.0797 0.1049 0.1342
    0.4   0.0040 0.0047 0.0020 0.0272 0.0595 0.0891 0.1203
    0.6   0.0    0.0    0.0    0.0    0.0276 0.0718 0.1073
    0.8   0.0    0.0    0.0    0.0    0.0474 0.0868 0.0900
    1.0   0.0    0.0    0.0    0.0    0.0    0.0552 0.0800
  </TABLE>
 
  <TABLE NAME="MilThrust" TYPE="TABLE">
    Military_power_thrust_factor
    8
    7
    velocities/mach-norm
    position/h-sl-ft
    none
          -10000      0  10000  20000  30000  40000  50000
    0.0   1.2600 1.0000 0.7400 0.5340 0.3720 0.2410 0.1490
    0.2   1.1710 0.9340 0.6970 0.5060 0.3550 0.2310 0.1430
    0.4   1.1500 0.9210 0.6920 0.5060 0.3570 0.2330 0.1450
    0.6   1.1810 0.9510 0.7210 0.5320 0.3780 0.2480 0.1540
    0.8   1.2580 1.0200 0.7820 0.5820 0.4170 0.2750 0.1700
    1.0   1.3690 1.1200 0.8710 0.6510 0.4750 0.3150 0.1950
    1.2   1.4850 1.2300 0.9750 0.7440 0.5450 0.3640 0.2250
    1.4   1.5941 1.3400 1.0860 0.8450 0.6280 0.4240 0.2630
  </TABLE>
 
  <TABLE NAME="AugThrust" TYPE="TABLE">
    Augmented_thrust_factor
    14
    7
    velocities/mach-norm
    position/h-sl-ft
    none
          -10000      0  10000  20000  30000  40000  50000
    0.0   1.1816 1.0000 0.8184 0.6627 0.5280 0.3756 0.2327
    0.2   1.1308 0.9599 0.7890 0.6406 0.5116 0.3645 0.2258
    0.4   1.1150 0.9474 0.7798 0.6340 0.5070 0.3615 0.2240
    0.6   1.1284 0.9589 0.7894 0.6420 0.5134 0.3661 0.2268
    0.8   1.1707 0.9942 0.8177 0.6647 0.5309 0.3784 0.2345
    1.0   1.2411 1.0529 0.8648 0.7017 0.5596 0.3983 0.2467
    1.2   1.3287 1.1254 0.9221 0.7462 0.5936 0.4219 0.2614
    1.4   1.4365 1.2149 0.9933 0.8021 0.6360 0.4509 0.2794
    1.6   1.5711 1.3260 1.0809 0.8700 0.6874 0.4860 0.3011
    1.8   1.7301 1.4579 1.1857 0.9512 0.7495 0.5289 0.3277
    2.0   1.8314 1.5700 1.3086 1.0474 0.8216 0.5786 0.3585
    2.2   1.9700 1.6900 1.4100 1.2400 0.9100 0.6359 0.3940
    2.4   2.0700 1.8000 1.5300 1.3400 1.0000 0.7200 0.4600
    2.6   2.2000 1.9200 1.6400 1.4400 1.1000 0.8000 0.5200
  </TABLE> 
-->


<!-- emulation (multiplier) by water injection -->

<!--
  <TABLE NAME="AirIntakeThrust" TYPE="TABLE">
         At takeoff and subsonic cruise : 12% of thrust by intake, 6% by secondary nozzles.
         Air intakes starts at Mach 1.3 : 63 % of thrust in supersonic cruise, 29% secondary nozzles.
         One supposes secondary nozzles included in the engine thrust.

    AirIntake_thrust_factor
    3
    7
    velocities/mach-norm
    position/h-sl-ft
    none
          -10000      0  10000  20000  30000  40000  50000
    0.0   1.1360 1.1360 1.1360 1.1360 1.1360 1.1360 1.1360
    1.3   1.1360 1.1360 1.1360 1.1360 1.1360 1.1360 1.1360
    2.04  2.7030 2.7030 2.7030 2.7030 2.7030 2.7030 2.7030
  </TABLE>
-->

</turbine_engine>
<?xml version="1.0"?>
<!-- Generated by Aero-Matic v 0.8

     Inputs:
                horsepower: 1650.0
                     pitch: variable
            max engine rpm: 2700
        prop diameter (ft): 11

     Outputs:
              max prop rpm:1705.73
                gear ratio:   1.58
                       Cp0:      0.103133
                       Ct0:      0.088694
       static thrust (lbs):2495.71
-->

<propeller name="prop">
  <ixx>20.6680 </ixx>
  <diameter unit="IN">132.0 </diameter>
  <numblades> 4 </numblades>
  <gearratio>1.58 </gearratio>
  <minpitch> 12 </minpitch>
  <maxpitch> 30 </maxpitch>
  <minrpm>   1365 </minrpm>
  <maxrpm>   1706 </maxrpm>

  <table name="C_THRUST" type="internal">
    <tableData>
              12         30
     0.0      0.0887     0.1287
     0.1      0.0813     0.1287
     0.2      0.0739     0.1287
     0.3      0.0614     0.1281
     0.4      0.0467     0.1274
     0.5      0.0318     0.1257
     0.6      0.0137     0.1190
     0.7     -0.0012     0.1071
     0.8     -0.0262     0.0950
     1.0     -0.0569     0.0632
     1.2     -0.0931     0.0337
     1.4     -0.1274     0.0024
     1.6     -0.1667    -0.0277
     1.8     -0.2040    -0.0577
     2.0     -0.2395    -0.0891
     2.2     -0.2750    -0.1210
     2.4     -0.3104    -0.1531
    </tableData>
  </table>

  <table name="C_POWER" type="internal">
    <tableData>
              12         30
     0.0      0.1031     0.1631
     0.1      0.1031     0.1631
     0.2      0.0983     0.1631
     0.3      0.0934     0.1631
     0.4      0.0822     0.1631
     0.5      0.0677     0.1613
     0.6      0.0548     0.1595
     0.7      0.0323     0.1560
     0.8      0.0129     0.1486
     1.0     -0.0387     0.1214
     1.2     -0.1127     0.0816
     1.4     -0.2094     0.0408
     1.6     -0.3094    -0.0036
     1.8     -0.4125    -0.0995
     2.0     -0.5157    -0.1990
     2.2     -0.6188    -0.2985
     2.4     -0.7219    -0.3980
    </tableData>
  </table>

</propeller>
<?xml version="1.0"?>
<!--
  File:     PT6-27.xml
  Author:   Aero-Matic v 0.8

  Inputs:
    name:           PT6-27
    type:           turboprop
    power:          577.971 hp
    augmented?      no
    injected?       no
-->

<turbine_engine name="PT6-27">
  <milthrust>    1294.7 </milthrust>
  <maxthrust>    1294.7 </maxthrust>
  <tsfc>            0.602 </tsfc>
  <idlen2>         65.0  </idlen2>
  <maxn2>         100.0  </maxn2>
  <augmented>         0  </augmented>
  <injected>          0  </injected>

  <function name="IdleThrust">
   <table>
    <independentVar lookup="row">velocities/mach</independentVar>
    <independentVar lookup="column">atmosphere/density-altitude</independentVar>
    <tableData>
         -10000       0   10000   20000   30000   40000   50000   60000
     0.0  0.0430  0.0488  0.0528  0.0694  0.0899  0.1183  0.1467  0.0
     0.2  0.0500  0.0501  0.0335  0.0544  0.0797  0.1049  0.1342  0.0
     0.4  0.0040  0.0047  0.0020  0.0272  0.0595  0.0891  0.1203  0.0
     0.6  0.0     0.0     0.0     0.0276  0.0718  0.0430  0.0     0.0
     0.8  0.0     0.0     0.0     0.0     0.0174  0.0086  0.0     0.0
     1.0  0.0     0.0     0.0     0.0     0.0     0.0     0.0     0.0
   </tableData>
   </table>
  </function>

  <function name="MilThrust">
   <table>
    <independentVar lookup="row">velocities/mach</independentVar>
    <independentVar lookup="column">atmosphere/density-altitude</independentVar>
    <tableData>
         -10000       0   10000   20000   30000   40000   50000   60000
     0.0  1.1260  1.0000  0.7400  0.5340  0.3720  0.2410  0.1490  0.0
     0.2  1.1000  0.9340  0.6970  0.5060  0.3550  0.2310  0.1430  0.0
     0.4  1.0000  0.6410  0.6120  0.4060  0.3570  0.2330  0.1450  0.0
     0.6  0.4430  0.3510  0.2710  0.2020  0.1780  0.1020  0.0640  0.0
     0.8  0.0240  0.0200  0.0160  0.0130  0.0110  0.0100  0.0     0.0
     1.0  0.0     0.0     0.0     0.0     0.0     0.0     0.0     0.0
    </tableData>
   </table>
  </function>

</turbine_engine>
<?xml version="1.0"?>
<!--
  File:     PT6A-68.xml
  Author:   Aero-Matic v 0.8

  Inputs:
    name:           PT6A-68
    type:           turboprop
    power:          1100.00 hp
    augmented?      no
    injected?       no
-->

<turbine_engine name="PT6-27">
  <milthrust>    2464.0 </milthrust>
  <maxthrust>    2464.0 </maxthrust>
  <tsfc>            0.55 </tsfc>
  <idlen2>         65.0  </idlen2>
  <maxn2>         100.0  </maxn2>
  <augmented>         0  </augmented>
  <injected>          0  </injected>

  <function name="IdleThrust">
   <table>
    <independentVar lookup="row">velocities/mach</independentVar>
    <independentVar lookup="column">atmosphere/density-altitude</independentVar>
    <tableData>
         -10000       0   10000   20000   30000   40000   50000   60000
     0.0  0.0430  0.0488  0.0528  0.0694  0.0899  0.1183  0.1467  0.0
     0.2  0.0500  0.0501  0.0335  0.0544  0.0797  0.1049  0.1342  0.0
     0.4  0.0040  0.0047  0.0020  0.0272  0.0595  0.0891  0.1203  0.0
     0.6  0.0     0.0     0.0     0.0276  0.0718  0.0430  0.0     0.0
     0.8  0.0     0.0     0.0     0.0     0.0174  0.0086  0.0     0.0
     1.0  0.0     0.0     0.0     0.0     0.0     0.0     0.0     0.0
   </tableData>
   </table>
  </function>

  <function name="MilThrust">
   <table>
    <independentVar lookup="row">velocities/mach</independentVar>
    <independentVar lookup="column">atmosphere/density-altitude</independentVar>
    <tableData>
         -10000       0   10000   20000   30000   40000   50000   60000
     0.0  1.1260  1.0000  0.7400  0.5340  0.3720  0.2410  0.1490  0.0
     0.2  1.1000  0.9340  0.6970  0.5060  0.3550  0.2310  0.1430  0.0
     0.4  1.0000  0.6410  0.6120  0.4060  0.3570  0.2330  0.1450  0.0
     0.6  0.4430  0.3510  0.2710  0.2020  0.1780  0.1020  0.0640  0.0
     0.8  0.0240  0.0200  0.0160  0.0130  0.0110  0.0100  0.0     0.0
     1.0  0.0     0.0     0.0     0.0     0.0     0.0     0.0     0.0
    </tableData>
   </table>
  </function>

</turbine_engine>
<?xml version="1.0"?>
<!--
  File:     PW125B.xml
  Author:   Aero-Matic v 0.8

  Inputs:
    name:           PW125B
    type:           turboprop
    power:          2500 hp
    augmented?      no
    injected?       no
-->

<turbine_engine name="PW125B">
  <milthrust>    5600.00 </milthrust>
  <tsfc>            0.55 </tsfc>
  <idlen2>         60.0  </idlen2>
  <maxn2>         100.0  </maxn2>
  <augmented>         0  </augmented>
  <injected>          0  </injected>

  <function name="IdleThrust">
   <table>
    <independentVar lookup="row">velocities/mach</independentVar>
    <independentVar lookup="column">atmosphere/density-altitude</independentVar>
    <tableData>
         -10000       0   10000   20000   30000   40000   50000   60000
     0.0  0.0430  0.0488  0.0528  0.0694  0.0899  0.1183  0.1467  0.0
     0.2  0.0500  0.0501  0.0335  0.0544  0.0797  0.1049  0.1342  0.0
     0.4  0.0040  0.0047  0.0020  0.0272  0.0595  0.0891  0.1203  0.0
     0.6  0.0     0.0     0.0     0.0276  0.0718  0.0430  0.0     0.0
     0.8  0.0     0.0     0.0     0.0     0.0174  0.0086  0.0     0.0
     1.0  0.0     0.0     0.0     0.0     0.0     0.0     0.0     0.0
   </tableData>
   </table>
  </function>

  <function name="MilThrust">
   <table>
    <independentVar lookup="row">velocities/mach</independentVar>
    <independentVar lookup="column">atmosphere/density-altitude</independentVar>
    <tableData>
         -10000       0   10000   20000   30000   40000   50000   60000
     0.0  1.1260  1.0000  0.7400  0.5340  0.3720  0.2410  0.1490  0.0
     0.2  1.1000  0.9340  0.6970  0.5060  0.3550  0.2310  0.1430  0.0
     0.4  1.0000  0.6410  0.6120  0.4060  0.3570  0.2330  0.1450  0.0
     0.6  0.4430  0.3510  0.2710  0.2020  0.1780  0.1020  0.0640  0.0
     0.8  0.0240  0.0200  0.0160  0.0130  0.0110  0.0100  0.0     0.0
     1.0  0.0     0.0     0.0     0.0     0.0     0.0     0.0     0.0
    </tableData>
   </table>
  </function>

</turbine_engine>
<?xml version="1.0"?>
<!--
MILTHRUST   [LBS]
MAXTHRUST   [LBS]
idlen1      [%]
maxn1       [%]
betarangeend[%]
    if ThrottleCmd < betarangeend/100.0 then engine power=idle, propeller pitch
    is controled by ThrottleCmd (between MINPITCH and  REVERSEPITCH).
    if ThrottleCmd > betarangeend/100.0 then engine power increases up to max reverse power
reversemaxpower [%]
    max engine power in reverse mode
maxpower    [HP]
psfc power specific fuel consumption [pph/HP] for N1=100%
n1idle_max_delay [-] time constant for N1 change
maxstartenginetime [sec]
    after this time the automatic starting cycle is interrupted when the engine
    doesn't start (0=automatic starting not present)
startern1   [%]
    when starting starter spin up engine to this spin
ielumaxtorque [lb.ft]
    if torque>ielumaxtorque limiters decrease the throttle
    (ielu = Integrated Electronic Limiter Unit)
itt_delay [-] time constant for ITT change
    (ITT = Inter Turbine Temperature)
-->

<turboprop_engine name="PW125BX">
  <milthrust unit="LBS">       5712   </milthrust>
  <idlen1>                       60.0   </idlen1>
  <maxn1>                       100.0   </maxn1>
  <maxpower unit="HP">          2500   </maxpower>
  <psfc unit="LBS/HR/HP">         0.31 </psfc>
  <n1idle_max_delay>              1     </n1idle_max_delay>
  <maxstartingtime>              20     </maxstartingtime>
  <startern1>                    20     </startern1>
  <ielumaxtorque unit="FT*LB"> 640     </ielumaxtorque>
  <itt_delay>                     0.05  </itt_delay>
  <betarangeend>                 64     </betarangeend>
  <reversemaxpower>              60     </reversemaxpower>

  <table name="EnginePowerVC">
    <description> Engine power, function of airspeed and pressure </description>
    <independentVar lookup="row">atmosphere/P-psf</independentVar>
    <independentVar lookup="column">velocities/ve-kts</independentVar>
    <tableData>
                 0     50    100    150    200    250
       503   0.357  0.380  0.400  0.425  0.457  0.486
      1048   0.586  0.589  0.600  0.621  0.650  0.686
      1328   0.707  0.721  0.731  0.757  0.786  0.821
      1496   0.779  0.786  0.808  0.821  0.857  0.900
      1684   0.850  0.857  0.874  0.900  0.943  0.979
      1896   0.914  0.929  0.946  0.971  1      1.057
      2135   1      1.011  1.029  1.043  1.083  1.150
      2213   1.029  1.043  1.057  1.079  1.114  1.171
    </tableData>
  </table>

  <table name="EnginePowerRPM_N1" type="internal">
    <description> Engine Power, function of RPM and N1 </description>
    <tableData>
	0	5	60	86	94	95	96	97	98	99	100	101
0	0	1.82	145.71	619.28	1092.86	1202.15	1347.86	1511.78	1639.29	1712.13	1894.29	2040
800	0	1.82	127.5	728.57	1275	1384.29	1530	1675.71	1821.43	1930.71	2112.86	2258.57
1200	0	1.82	109.29	837.86	1457.14	1566.43	1712.14	1839.64	2003.57	2149.29	2331.43	2477.14
1600	0	1.82	18.21	874.29	1602.86	1730.36	1857.86	2003.57	2167.5	2295	2477.14	2622.86
2000	0	0.36	0.36	819.64	1639.29	1803.21	1912.5	2058.21	2222.14	2367.86	2550	2713.93
2200	0	0.36	0.36	746.79	1602.86	1748.57	1876.07	2040	2203.93	2349.64	2531.79	2706.64
    </tableData>
  </table>

  <table name="ITT_N1" type="internal">
    <description> Inter-Turbine Temperature ITT [deg C] depending on N1 and engine run (0=off / 1=running) </description>
    <tableData>
              0     1
        0     0     0
       15   100   100
       60   180   520
       96   270   680
      100   280   730
    </tableData>
  </table>

</turboprop_engine>

<?xml version="1.0"?>
<!--
  File:     R-1820-97.xml
  Author:   Aero-Matic v 0.81

  Inputs:
    name:           R-1820-97
    type:           piston
    power:          1200 hp
    augmented?      no
    injected?       no
-->

<piston_engine name="R-1820-97">
  <minmp unit="INHG">         20.0 </minmp>
  <maxmp unit="INHG">         48.0 </maxmp>
  <displacement unit="IN3"> 1820.0 </displacement>
  <!-- Defining <bsfc> over-rides the bsfc value calculated from <maxhp> -->
  <!--<bsfc>           0.45 </bsfc>-->
  <maxhp>        1200.00 </maxhp>
  <cycles>         4.0 </cycles>
  <idlerpm>      700.0 </idlerpm>
  <maxrpm>      2800.0 </maxrpm>
  <maxthrottle>    1.0 </maxthrottle>
  <minthrottle>    0.1 </minthrottle>
  <sparkfaildrop>  0.1 </sparkfaildrop>
</piston_engine>
<?xml version="1.0"?>
<!--
  File:     RB211-524.xml
  Author:   Aero-Matic v 0.8

  Inputs:
    name:           RB211-524
    type:           turbine
    thrust:         60600.0 lb
    augmented?      no
    injected?       no
-->

<turbine_engine name="RB211-524">
  <milthrust>   60600.0 </milthrust>
  <bypassratio>     5.0 </bypassratio>
  <tsfc>            0.559 </tsfc>
  <idlen1>         30.0 </idlen1>
  <idlen2>         60.0 </idlen2>
  <maxn1>         100.0 </maxn1>
  <maxn2>         100.0 </maxn2>
  <augmented>         0 </augmented>
  <augmethod>         0 </augmethod>
  <injected>          0 </injected>

  <function name="IdleThrust">
   <table>
    <independentVar lookup="row">velocities/mach</independentVar>
    <independentVar lookup="column">atmosphere/density-altitude</independentVar>
    <tableData>
         -10000     0     10000   20000   30000   40000   50000   60000
     0.0  0.0430  0.0488  0.0528  0.0694  0.0899  0.1183  0.1467  0.0
     0.2  0.0500  0.0501  0.0335  0.0544  0.0797  0.1049  0.1342  0.0
     0.4  0.0040  0.0047  0.0020  0.0272  0.0595  0.0891  0.1203  0.0
     0.6  0.0     0.0     0.0     0.0     0.0276  0.0718  0.1073  0.0
     0.8  0.0     0.0     0.0     0.0     0.0474  0.0868  0.0900  0.0
     1.0  0.0     0.0     0.0     0.0     0.0     0.0552  0.0800  0.0
    </tableData>
   </table>
  </function>

  <function name="MilThrust">
   <table>
    <independentVar lookup="row">velocities/mach</independentVar>
    <independentVar lookup="column">atmosphere/density-altitude</independentVar>
    <tableData>
          -10000       0   10000   20000   30000   40000   50000   60000
     0.0   1.2600  1.0000  0.7400  0.5340  0.3720  0.2410  0.1490  0.0
     0.2   1.1710  0.9340  0.6970  0.5060  0.3550  0.2310  0.1430  0.0
     0.4   1.1500  0.9210  0.6920  0.5060  0.3570  0.2330  0.1450  0.0
     0.6   1.1810  0.9510  0.7210  0.5320  0.3780  0.2480  0.1540  0.0
     0.8   1.2580  1.0200  0.7820  0.5820  0.4170  0.2750  0.1700  0.0
     1.0   1.3690  1.1200  0.8710  0.6510  0.4750  0.3150  0.1950  0.0
     1.2   1.4850  1.2300  0.9750  0.7440  0.5450  0.3640  0.2250  0.0
     1.4   1.5941  1.3400  1.0860  0.8450  0.6280  0.4240  0.2630  0.0
    </tableData>
   </table>
  </function>

</turbine_engine>
<?xml version="1.0"?>
<!-- 
  Vacuum Isp     445
  Sea Level Isp  
  Pc            610 psia
  Thrust        22,300 lbs Vac
  MR            5.5:1 (O:F)
  Design altitude 
-->
<rocket_engine name="RL-10">
  <isp>                   445  </isp>
  <maxthrottle>           1.0   </maxthrottle>
  <minthrottle>           1.0   </minthrottle>
  <slfuelflowmax unit="LBS/SEC">  7.71  </slfuelflowmax>
  <sloxiflowmax unit="LBS/SEC">   42.4  </sloxiflowmax>
</rocket_engine>
<?xml version="1.0"?>
<nozzle name="RL-10A-4-2 Nozzle">
  <!--
    pe      = Nozzle exit pressure, psf.
    area    = Nozzle exit area, sqft.
  -->
  <area unit="FT2">  19.63  </area>
</nozzle>
<?xml version="1.0"?>
<!--
  File:     RollsRoyce.xml
  Author:   Aero-Matic v 0.8, Luca Masera

  Inputs:
    name:           RollsRoyce
    type:           turbine
    thrust:         4500.316 lb
    augmented?      no
    injected?       no
-->

<turbine_engine name="RollsRoyce">
  <milthrust>    4200.0 </milthrust>
  <bypassratio>     0.4 </bypassratio>
  <tsfc>            0.775 </tsfc>
  <idlen1>         40.0 </idlen1>
  <idlen2>         53.0 </idlen2>
  <maxn1>         105.0 </maxn1>
  <maxn2>         110.0 </maxn2>
  <augmented>         0 </augmented>
  <augmethod>         0 </augmethod>
  <injected>          0 </injected>

  <function name="IdleThrust">
   <table>
    <independentVar lookup="row">velocities/mach</independentVar>
    <independentVar lookup="column">atmosphere/density-altitude</independentVar>
    <tableData>
         -10000     0     10000   20000   30000   40000   50000   60000
     0.0  0.0430  0.0488  0.0528  0.0694  0.0899  0.1183  0.1467  0.0
     0.2  0.0500  0.0501  0.0335  0.0544  0.0797  0.1049  0.1342  0.0
     0.4  0.0040  0.0047  0.0020  0.0272  0.0595  0.0891  0.1203  0.0
     0.6  0.0     0.0     0.0     0.0     0.0276  0.0718  0.1073  0.0
     0.8  0.0     0.0     0.0     0.0     0.0474  0.0868  0.0900  0.0
     1.0  0.0     0.0     0.0     0.0     0.0     0.0552  0.0800  0.0
    </tableData>
   </table>
  </function>

  <function name="MilThrust">
   <table>
    <independentVar lookup="row">velocities/mach</independentVar>
    <independentVar lookup="column">atmosphere/density-altitude</independentVar>
    <tableData>
          -10000       0   10000   20000   30000   40000   50000   60000
     0.0   1.2600  1.0000  0.7400  0.5340  0.3720  0.2410  0.1490  0.0
     0.2   1.1710  0.9340  0.6970  0.5060  0.3550  0.2310  0.1430  0.0
     0.4   1.1500  0.9210  0.6920  0.5060  0.3570  0.2330  0.1450  0.0
     0.6   1.1810  0.9510  0.7210  0.5320  0.3780  0.2480  0.1540  0.0
     0.8   1.2580  1.0200  0.7820  0.5820  0.4170  0.2750  0.1700  0.0
     0.95  1.3690  1.1200  0.8710  0.6510  0.4750  0.3150  0.1950  0.0
     1.0   0.0000  0.0000  0.0000  0.0000  0.0000  0.0000  0.0000  0.0
    </tableData>
   </table>
  </function>

</turbine_engine>
<?xml version="1.0"?>
<rocket_engine name="4 Segment Space Shuttle SRB">
  <!--
    This Space Shuttle Solid Rocket Booster (SRB) model is a standard four segment
    SRB, based on information publicly available at http://www.sworld.com.au/steven/space/shuttle/sim/,
    As well as on Wikipedia, and at www.astronautix.com.
    
    This table starts with a thrust of 3,060,000 lbs at no mass burned - which
    is an immediate thrust. However, the buildup of 0.2 seconds gives a sine wave
    ramp up of thrust from 0.0 to whatever the calculated value of thrust is.
  -->

  <isp> 268 </isp>
  <builduptime> 0.2 </builduptime>
  <variation>
    <thrust>0.02</thrust>
    <total_isp>0.00</total_isp>
  </variation>
  <thrust_table name="propulsion/thrust_prop_remain" type="internal">
    <tableData>
<!--     =========  =========      ===========  =========    =====
         Prop Burn   Thrust        Total Impls    wdot        Time
         =========  =========      ===========  =========    =====  -->
           0.0      3060000.0 <!--    316699.9    11861.4      0.2  -->
           1186.1   3060000.0 <!--    316699.9    11861.4      0.2  -->
           10675.3  3166999.3 <!--   2850299.4    11861.4      1.0  -->
           22519.8  3167999.3 <!--   6012798.7    11827.7      2.0  -->
           34368.2  3168999.3 <!--   9176298.0    11868.9      3.0  -->
           46280.1  3191999.3 <!--  12356797.3    11955.1      4.0  -->
           58293.2  3222999.3 <!--  15564296.6    12071.2      5.0  -->
           70429.9  3257999.3 <!--  18804795.8    12202.2      6.0  -->
           82671.5  3278999.3 <!--  22073295.1    12280.9      7.0  -->
           94976.8  3291999.3 <!--  25358794.4    12329.6      8.0  -->
          107326.9  3302999.3 <!--  28656293.7    12370.8      9.0  -->
          119709.0  3308999.3 <!--  31962292.9    12393.3     10.0  -->
          132106.0  3310999.3 <!--  35272292.2    12400.7     11.0  -->
          144506.7  3310999.3 <!--  38583291.5    12400.7     12.0  -->
          156909.3  3311999.3 <!--  41894790.7    12404.5     13.0  -->
          169315.7  3312999.3 <!--  45207290.0    12408.2     14.0  -->
          181729.5  3315999.3 <!--  48521789.3    12419.5     15.0  -->
          194156.5  3319999.3 <!--  51839788.5    12434.5     16.0  -->
          206598.5  3323999.3 <!--  55161787.8    12449.4     17.0  -->
          219055.4  3327999.3 <!--  58487787.1    12464.4     18.0  -->
          231525.4  3330999.3 <!--  61817286.3    12475.7     19.0  -->
          244002.9  3331999.3 <!--  65148785.6    12479.4     20.0  -->
          256482.3  3331999.3 <!--  68480784.9    12479.4     21.0  -->
          268937.4  3318999.3 <!--  71806284.1    12430.7     22.0  -->
          281257.6  3259999.3 <!--  75095783.4    12209.7     23.0  -->
          293349.4  3196999.3 <!--  78324282.7    11973.8     24.0  -->
          305222.0  3142999.3 <!--  81494282.0    11771.5     25.0  -->
          316903.7  3094999.3 <!--  84613281.3    11591.8     26.0  -->
          328413.0  3050999.3 <!--  87686280.6    11427.0     27.0  -->
          339763.2  3009999.3 <!--  90716780.0    11273.4     28.0  -->
          350965.5  2971999.3 <!--  93707779.3    11131.1     29.0  -->
          362031.0  2936999.4 <!--  96662278.6    11000.0     30.0  -->
          372965.5  2901999.4 <!--  99581778.0    10868.9     31.0  -->
          383770.7  2867999.4 <!-- 102466777.4    10741.6     32.0  -->
          394450.5  2834999.4 <!-- 105318276.7    10618.0     33.0  -->
          405008.5  2802999.4 <!-- 108137276.1    10498.1     34.0  -->
          415448.6  2771999.4 <!-- 110924775.5    10382.0     35.0  -->
          425774.4  2741999.4 <!-- 113681774.9    10269.7     36.0  -->
          435987.9  2711999.4 <!-- 116408774.3    10157.3     37.0  -->
          446089.0  2681999.4 <!-- 119105773.7    10044.9     38.0  -->
          456079.7  2652999.4 <!-- 121773273.1     9936.3     39.0  -->
          465963.6  2624999.4 <!-- 124412272.5     9831.5     40.0  -->
          475744.5  2597999.4 <!-- 127023771.9     9730.3     41.0  -->
          485429.9  2573999.4 <!-- 129609771.4     9640.4     42.0  -->
          495029.1  2551999.4 <!-- 132172770.8     9558.1     43.0  -->
          504547.8  2530999.4 <!-- 134714270.2     9479.4     44.0  -->
          513991.6  2511999.4 <!-- 137235769.7     9408.2     45.0  -->
          523368.0  2494999.4 <!-- 139739269.1     9344.6     46.0  -->
          532675.2  2474999.5 <!-- 142224268.6     9269.7     47.0  -->
          541881.2  2440999.5 <!-- 144682268.0     9142.3     48.0  -->
          550965.4  2409999.5 <!-- 147107767.5     9026.2     49.0  -->
          559952.3  2388999.5 <!-- 149507267.0     8947.6     50.0  -->
          568877.4  2376999.5 <!-- 151890266.4     8902.6     51.0  -->
          577770.7  2371999.5 <!-- 154264765.9     8883.9     52.0  -->
          586656.4  2372999.5 <!-- 156637265.4     8887.6     53.0  -->
          595557.2  2379999.5 <!-- 159013764.9     8913.9     54.0  -->
          604489.8  2389999.5 <!-- 161398764.3     8951.3     55.0  -->
          613465.4  2402999.5 <!-- 163795263.8     9000.0     56.0  -->
          622489.8  2415999.5 <!-- 166204763.3     9048.7     57.0  -->
          631562.8  2428999.5 <!-- 168627262.7     9097.4     58.0  -->
          640684.5  2441999.5 <!-- 171062762.2     9146.1     59.0  -->
          649853.0  2453999.5 <!-- 173510761.7     9191.0     60.0  -->
          659066.5  2465999.5 <!-- 175970761.1     9236.0     61.0  -->
          668326.8  2478999.5 <!-- 178443260.6     9284.6     62.0  -->
          677632.1  2489999.4 <!-- 180927760.0     9325.8     63.0  -->
          686974.8  2498999.4 <!-- 183422259.5     9359.5     64.0  -->
          696349.3  2506999.4 <!-- 185925258.9     9389.5     65.0  -->
          705755.6  2515999.4 <!-- 188436758.4     9423.2     66.0  -->
          715199.5  2526999.4 <!-- 190958257.8     9464.4     67.0  -->
          724684.5  2537999.4 <!-- 193490757.3     9505.6     68.0  -->
          734205.1  2545999.4 <!-- 196032756.7     9535.6     69.0  -->
          743755.6  2553999.4 <!-- 198582756.1     9565.5     70.0  -->
          753332.4  2559999.4 <!-- 201139755.6     9588.0     71.0  -->
          762931.7  2565999.4 <!-- 203702755.0     9610.5     72.0  -->
          772551.5  2570999.4 <!-- 206271254.4     9629.2     73.0  -->
          782188.2  2574999.4 <!-- 208844253.9     9644.2     74.0  -->
          791839.9  2578999.4 <!-- 211421253.3     9659.2     75.0  -->
          801500.9  2579999.4 <!-- 214000752.7     9662.9     76.0  -->
          811169.5  2582999.4 <!-- 216582252.2     9674.2     77.0  -->
          820832.4  2576999.4 <!-- 219162251.6     9651.7     78.0  -->
          830441.0  2553999.4 <!-- 221727751.0     9565.5     79.0  -->
          839942.9  2519999.4 <!-- 224264750.5     9438.2     80.0  -->
          849339.9  2497999.4 <!-- 226773749.9     9355.8     81.0  -->
          858660.1  2478999.5 <!-- 229262249.4     9284.6     82.0  -->
          867894.2  2451999.5 <!-- 231727748.8     9183.5     83.0  -->
          877015.9  2418999.5 <!-- 234163248.3     9059.9     84.0  -->
          886021.5  2389999.5 <!-- 236567747.7     8951.3     85.0  -->
          894926.0  2364999.5 <!-- 238945247.2     8857.7     86.0  -->
          903716.3  2328999.5 <!-- 241292246.7     8722.8     87.0  -->
          912362.3  2287999.5 <!-- 243600746.2     8569.3     88.0  -->
          920849.2  2243999.5 <!-- 245866745.7     8404.5     89.0  -->
          929195.7  2212999.5 <!-- 248095245.2     8288.4     90.0  -->
          937457.8  2198999.5 <!-- 250301244.7     8236.0     91.0  -->
          945675.1  2188999.5 <!-- 252495244.2     8198.5     92.0  -->
          953845.5  2173999.5 <!-- 254676743.7     8142.3     93.0  -->
          961950.3  2153999.5 <!-- 256840743.3     8067.4     94.0  -->
          969965.3  2125999.5 <!-- 258980742.8     7962.5     95.0  -->
          977866.1  2092999.5 <!-- 261090242.3     7838.9     96.0  -->
          985643.2  2059999.5 <!-- 263166741.9     7715.4     97.0  -->
          993309.9  2033999.6 <!-- 265213741.4     7618.0     98.0  -->
         1000886.7  2011999.6 <!-- 267236741.0     7535.6     99.0  -->
         1008377.3  1987999.6 <!-- 269236740.5     7445.7    100.0  -->
         1015770.6  1959999.6 <!-- 271210740.1     7340.8    101.0  -->
         1023055.2  1929999.6 <!-- 273155739.7     7228.5    102.0  -->
         1030225.6  1898999.6 <!-- 275070239.2     7112.4    103.0  -->
         1037270.6  1862999.6 <!-- 276951238.8     6977.5    104.0  -->
         1044175.1  1823999.6 <!-- 278794738.4     6831.5    105.0  -->
         1050935.3  1785999.6 <!-- 280599738.0     6689.1    106.0  -->
         1057570.2  1756999.6 <!-- 282371237.6     6580.5    107.0  -->
         1064109.5  1734999.6 <!-- 284117237.2     6498.1    108.0  -->
         1070581.4  1720999.6 <!-- 285845236.9     6445.7    109.0  -->
         1076954.1  1681999.6 <!-- 287546736.5     6299.6    110.0  -->
         1083109.5  1604999.6 <!-- 289190236.1     6011.2    111.0  -->
         1088905.4  1489999.7 <!-- 290737735.8     5580.5    112.0  -->
         1094158.2  1314999.7 <!-- 292140235.5     4925.1    113.0  -->
         1098646.9  1081999.8 <!-- 293338735.2     4052.4    114.0  -->
         1102249.9   841999.8 <!-- 294300735.0     3153.6    115.0  -->
         1105083.3   670999.9 <!-- 295057234.8     2513.1    116.0  -->
         1107349.2   538999.9 <!-- 295662234.7     2018.7    117.0  -->
         1109163.8   429999.9 <!-- 296146734.6     1610.5    118.0  -->
         1110607.6   340999.9 <!-- 296532234.5     1277.2    119.0  -->
         1111740.6   263999.9 <!-- 296834734.4      988.8    120.0  -->
         1112598.3   194000.0 <!-- 297063734.4      726.6    121.0  -->
         1113218.1   137000.0 <!-- 297229234.3      513.1    122.0  -->
         1113656.3    97000.0 <!-- 297346234.3      363.3    123.0  -->
         1113965.3    68000.0 <!-- 297428734.3      254.7    124.0  -->
         1114092.6        0.0 <!-- 297462734.3        0.0    125.0  -->
    </tableData>
  </thrust_table>
  <function name="propulsion/engine[#]/chamber-pressure_psia" type="post">
    <product>
      <p>propulsion/engine[#]/thrust-lbs</p>
      <v>0.000314</v>
    </product>
  </function>
</rocket_engine>
<?xml version="1.0"?>
<nozzle name="CLV SRB Nozzle">
  <!--
    area = nozzle exit area
  -->
  <area unit="FT2">  122.1 </area>
</nozzle>
<?xml version="1.0"?>
<!-- 
  Vacuum Isp     453
  Sea Level Isp  363
  Thrust         488,800 pounds (104.5% of Design Thrust)
  MR             6:1 (O:F)
  Design altitude 60kft.
-->
<rocket_engine name="Space Shuttle Main Engine (SSME)">
  <isp>                    453  </isp>
  <maxthrottle>           1.09  </maxthrottle>
  <minthrottle>           0.66  </minthrottle>
  <slfuelflowmax unit="LBS/SEC">  146.0  </slfuelflowmax>
  <sloxiflowmax unit="LBS/SEC">   889.0  </sloxiflowmax>
</rocket_engine>
<?xml version="1.0"?>
<nozzle name="SSME Nozzle">
  <!--
    pe      = Nozzle exit pressure, psf.
    area    = Nozzle exit area, sqft.
  -->
  <pe unit="PSF">   151.0  </pe>
  <area unit="FT2">  44.18  </area>
</nozzle>
<?xml version="1.0"?>
<!--
  File:     T76.xml
  Author:   Aero-Matic v 0.8

  Inputs:
    name:           T76
    type:           turboprop
    power:          717 hp
    augmented?      no
    injected?       no
-->

<turbine_engine name="T76">
  <milthrust>    1600.0 </milthrust>
  <tsfc>            0.35 </tsfc>
  <idlen2>         61.0  </idlen2>
  <maxn2>         100.0  </maxn2>
  <augmented>         0  </augmented>
  <injected>          0  </injected>

  <function name="IdleThrust">
   <table>
    <independentVar lookup="row">velocities/mach</independentVar>
    <independentVar lookup="column">atmosphere/density-altitude</independentVar>
    <tableData>
         -10000       0   10000   20000   30000   40000   50000   60000
     0.0  0.0430  0.0488  0.0528  0.0694  0.0899  0.1183  0.1467  0.0
     0.2  0.0500  0.0501  0.0335  0.0544  0.0797  0.1049  0.1342  0.0
     0.4  0.0040  0.0047  0.0020  0.0272  0.0595  0.0891  0.1203  0.0
     0.6  0.0     0.0     0.0     0.0276  0.0718  0.0430  0.0     0.0
     0.8  0.0     0.0     0.0     0.0     0.0174  0.0086  0.0     0.0
     1.0  0.0     0.0     0.0     0.0     0.0     0.0     0.0     0.0
   </tableData>
   </table>
  </function>

  <function name="MilThrust">
   <table>
    <independentVar lookup="row">velocities/mach</independentVar>
    <independentVar lookup="column">atmosphere/density-altitude</independentVar>
    <tableData>
         -10000       0   10000   20000   30000   40000   50000   60000
     0.0  1.1260  1.0000  0.7400  0.5340  0.3720  0.2410  0.1490  0.0
     0.2  1.1000  0.9340  0.6970  0.5060  0.3550  0.2310  0.1430  0.0
     0.4  1.0000  0.6410  0.6120  0.4060  0.3570  0.2330  0.1450  0.0
     0.6  0.4430  0.3510  0.2710  0.2020  0.1780  0.1020  0.0640  0.0
     0.8  0.0240  0.0200  0.0160  0.0130  0.0110  0.0100  0.0     0.0
     1.0  0.0     0.0     0.0     0.0     0.0     0.0     0.0     0.0
    </tableData>
   </table>
  </function>

</turbine_engine>
<?xml version="1.0"?>
<!--
  File:     Trent-900.xml
  Author:   Aero-Matic v 0.8

  Inputs:
    name:           Trent-900
    type:           turbine
    thrust:         80000 lb
    augmented?      no
    injected?       no
-->

<turbine_engine name="TRENT-900">
  <milthrust> 80000 </milthrust>
  <bypassratio>    8.0 </bypassratio>
  <tsfc>           0.5 </tsfc>
  <idlen1>        20.0 </idlen1>
  <idlen2>        60.0 </idlen2>
  <maxn1>        100.0 </maxn1>
  <maxn2>        100.0 </maxn2>
  <augmented>      0 </augmented>
  <augmethod>      1 </augmethod>
  <injected>       0 </injected>
  
 <function name="IdleThrust">
  <table>
   <independentVar lookup="row">velocities/mach</independentVar>
   <independentVar lookup="column">atmosphere/density-altitude</independentVar>
   <tableData>
         -10000     0     10000   20000   30000   40000   50000  60000
    0.0  0.0430  0.0488  0.0528  0.0694  0.0899  0.1183  0.1467  0.0
    0.2  0.0500  0.0501  0.0335  0.0544  0.0797  0.1049  0.1342  0.0
    0.4  0.0040  0.0047  0.0020  0.0272  0.0595  0.0891  0.1203  0.0
    0.6  0.0     0.0     0.0     0.0     0.0276  0.0718  0.1073  0.0
    0.8  0.0     0.0     0.0     0.0     0.0474  0.0868  0.0900  0.0
    1.0  0.0     0.0     0.0     0.0     0.0     0.0552  0.0800  0.0
   </tableData>
  </table>
 </function>

 <function name="MilThrust">
  <table>
   <independentVar lookup="row">velocities/mach</independentVar>
   <independentVar lookup="column">atmosphere/density-altitude</independentVar>
   <tableData>
          -10000       0   10000   20000   30000   40000   50000  60000
    0.0   1.2600  1.0000  0.7400  0.5340  0.3720  0.2410  0.1490  0.0
    0.2   1.1710  0.9340  0.6970  0.5060  0.3550  0.2310  0.1430  0.0
    0.4   1.1500  0.9210  0.6920  0.5060  0.3570  0.2330  0.1450  0.0
    0.6   1.1810  0.9510  0.7210  0.5320  0.3780  0.2480  0.1540  0.0
    0.8   1.2580  1.0200  0.7820  0.5820  0.4170  0.2750  0.1700  0.0
    1.0   1.3690  1.1200  0.8710  0.6510  0.4750  0.3150  0.1950  0.0
    1.2   1.4850  1.2300  0.9750  0.7440  0.5450  0.3640  0.2250  0.0
    1.4   1.5941  1.3400  1.0860  0.8450  0.6280  0.4240  0.2630  0.0
   </tableData>
  </table>
 </function>

</turbine_engine>
<?xml version="1.0"?>
<!--
  File:     my_engine.xml
  Author:   Aero-Matic v 0.81

  Inputs:
    name:           my_engine
    type:           turbine
    thrust:         13847.68 lb
    augmented?      no
    injected?       no
-->

<turbine_engine name="Tay-620">
  <milthrust> 13847.7 </milthrust>
  <bypassratio>     3.04 </bypassratio>
  <tsfc>            0.69 </tsfc>
  <bleed>           0.03</bleed>
  <idlen1>         30.0 </idlen1>
  <idlen2>         60.0 </idlen2>
  <maxn1>         100.0 </maxn1>
  <maxn2>         100.0 </maxn2>
  <augmented>         0 </augmented>
  <injected>          0 </injected>

  <function name="IdleThrust">
   <table>
    <independentVar lookup="row">velocities/mach</independentVar>
    <independentVar lookup="column">atmosphere/density-altitude</independentVar>
    <tableData>
         -10000     0     10000   20000   30000   40000   50000   60000
     0.0  0.0430  0.0488  0.0528  0.0694  0.0899  0.1183  0.1467  0.0
     0.2  0.0500  0.0501  0.0335  0.0544  0.0797  0.1049  0.1342  0.0
     0.4  0.0040  0.0047  0.0020  0.0272  0.0595  0.0891  0.1203  0.0
     0.6  0.0     0.0     0.0     0.0     0.0276  0.0718  0.1073  0.0
     0.8  0.0     0.0     0.0     0.0     0.0474  0.0868  0.0900  0.0 
     1.0  0.0     0.0     0.0     0.0     0.0     0.0552  0.0800  0.0
    </tableData>
   </table>
  </function>

  <function name="MilThrust">
   <table>
    <independentVar lookup="row">velocities/mach</independentVar>
    <independentVar lookup="column">atmosphere/density-altitude</independentVar>
    <tableData>
          -10000       0   10000   20000   30000   40000   50000   60000
     0.0   1.2600  1.0000  0.7400  0.5340  0.3720  0.2410  0.1490  0.0
     0.2   1.1710  0.9340  0.6970  0.5060  0.3550  0.2310  0.1430  0.0
     0.4   1.1500  0.9210  0.6920  0.5060  0.3570  0.2330  0.1450  0.0
     0.6   1.1810  0.9510  0.7210  0.5320  0.3780  0.2480  0.1540  0.0
     0.8   1.2580  1.0200  0.7820  0.5820  0.4170  0.2750  0.1700  0.0
     1.0   1.3690  1.1200  0.8710  0.6510  0.4750  0.3150  0.1950  0.0
     1.2   1.4850  1.2300  0.9750  0.7440  0.5450  0.3640  0.2250  0.0
     1.4   1.5941  1.3400  1.0860  0.8450  0.6280  0.4240  0.2630  0.0
    </tableData>
   </table>
  </function>

</turbine_engine>

<?xml version="1.0"?>
<!--
  File:     Tay-651.xml
  Author:   Aero-Matic v 0.8

  Inputs:
    name:           Tay-651
    type:           turbine
    thrust:         15400 lb
    augmented?      no
    injected?       no
-->

<turbine_engine name="Tay-651">
  <milthrust>   15400.0 </milthrust>
  <bypassratio>     3.07 </bypassratio>
  <tsfc>            0.6908 </tsfc>
  <idlen1>         30.0 </idlen1>
  <idlen2>         60.0 </idlen2>
  <maxn1>         100.0 </maxn1>
  <maxn2>         100.0 </maxn2>
  <augmented>         0 </augmented>
  <augmethod>         1 </augmethod>
  <injected>          0 </injected>

  <function name="IdleThrust">
   <table>
    <independentVar lookup="row">velocities/mach</independentVar>
    <independentVar lookup="column">atmosphere/density-altitude</independentVar>
    <tableData>
         -10000     0     10000   20000   30000   40000   50000   60000
     0.0  0.0430  0.0488  0.0528  0.0694  0.0899  0.1183  0.1467  0.0
     0.2  0.0500  0.0501  0.0335  0.0544  0.0797  0.1049  0.1342  0.0
     0.4  0.0040  0.0047  0.0020  0.0272  0.0595  0.0891  0.1203  0.0
     0.6  0.0     0.0     0.0     0.0     0.0276  0.0718  0.1073  0.0
     0.8  0.0     0.0     0.0     0.0     0.0474  0.0868  0.0900  0.0
     1.0  0.0     0.0     0.0     0.0     0.0     0.0552  0.0800  0.0
    </tableData>
   </table>
  </function>

  <function name="MilThrust">
   <table>
    <independentVar lookup="row">velocities/mach</independentVar>
    <independentVar lookup="column">atmosphere/density-altitude</independentVar>
    <tableData>
          -10000       0   10000   20000   30000   40000   50000   60000
     0.0   1.2600  1.0000  0.7400  0.5340  0.3720  0.2410  0.1490  0.0
     0.2   1.1710  0.9340  0.6970  0.5060  0.3550  0.2310  0.1430  0.0
     0.4   1.1500  0.9210  0.6920  0.5060  0.3570  0.2330  0.1450  0.0
     0.6   1.1810  0.9510  0.7210  0.5320  0.3780  0.2480  0.1540  0.0
     0.8   1.2580  1.0200  0.7820  0.5820  0.4170  0.2750  0.1700  0.0
     0.95  1.3690  1.1200  0.8710  0.6510  0.4750  0.3150  0.1950  0.0
     1.0   0.0000  0.0000  0.0000  0.0000  0.0000  0.0000  0.0000  0.0
    </tableData>
   </table>
  </function>

</turbine_engine>
<?xml version="1.0" ?>
<!--
  File:     WrightGR-2600.xml
  Author:   Aero-Matic v 0.7
  Date:     14 March 2010
  Version   1.02

  Inputs:
    name:           WrightGR-2600
    type:           piston
    power:          1600.0 hp
    augmented?      no
    injected?       no


  References :
  ==========
  - http://www.airweb.faa.gov/Regulatory_and_Guidance_Library/rgMakeModel.nsf/MainFrame?OpenFrameSet
  (FAA certificate, TC704 - 25 january 1939, B-314) :

  Engine limits : * maximum except take-off (straight line manifold pressure variation) : 33.2 in. hg. 2100 rpm (1200 hp)
                  at 5400 ft, 35.0 in. hg. 2100 rpm (1200 hp) at sea level.
                  * take-off (2 minutes), 42.5 in. hg. 2400 rpm (1550 hp).

  - http://www.airweb.faa.gov/Regulatory_and_Guidance_Library/rgMakeModel.nsf/MainFrame?OpenFrameSet
  (FAA certificate, TC704 - 2 may 1941 B-314A) :

  Engine limits : * maximum except take-off (straight line manifold pressure variation) : 35.8 in. hg. 2300 rpm (1350 hp)
                  at 6200 ft, 37.5 in. hg. 2300 rpm (1350 hp) at sea level.
                  * take-off (2 minutes), 43.5 in. hg. 2400 rpm (1600 hp).

  - http://www.airweb.faa.gov/Regulatory_and_Guidance_Library/rgMakeModel.nsf/MainFrame?OpenFrameSet
  (FAA certificate, TC176 - Wright Double row Cyclone GR-260025) :

  Displacement : 2603 cu. in.
  Bore         : 6.125 in.
  Stroke       : 6.312 in.
  Compression  : 6.85.

-->

<!-- this is an engine of B-314 A. -->

<piston_engine name="Wright Double Row Cyclone GR-2600 709C14AC1">

<!-- Range is adjusted to the economic cruise, by volumetric efficiency :

     - in the FAA certificate the fuel capacity of 314A is 5688 gallons where 1 gallon = 6 lb !

     - the economic cruise speed is 110 kt indicated, or 130 kt true (KSFO - PHNL 2080 NM / 16 h),
     that is a range of 34.75 h = 5200 miles / 130 kt,
     or 5688 US gal / 34.75 h = 164 gallons/h for all engines, or 41 gallons/h per engine.

     The 314A (314) was unable to reach 5200 (3500) miles at the cruise speed of 160 kt.


     To be above atmospheric pressure :
     - 10 PSI for 43.5 inhg max at 2400 RPM, sea level : takeoff, full throttle.
     -  7 PSI for 37.5 inhg max at 2300 RPM, sea level.
     -  6 PSI for 35.8 inhg max at 2300 RPM, 6200 ft.
-->

   <minmp unit="INHG"> 10.0 </minmp>
   <maxmp unit="INHG"> 43.5 </maxmp>                        <!-- aeromatic 30.0 -->
   <displacement unit="IN3"> 2603.00 </displacement>
   <bore unit="IN">6.125</bore>
   <stroke unit="IN">6.312</stroke>
   <compression-ratio>6.85</compression-ratio>
   <volumetric-efficiency>0.6</volumetric-efficiency>
   <maxhp> 1600.00 </maxhp>
   <cycles> 2.0 </cycles>
   <idlerpm> 700.0 </idlerpm>
   <maxrpm> 2400.0 </maxrpm>
   <maxthrottle> 1.0 </maxthrottle>
   <minthrottle> 0.1 </minthrottle>
   <sparkfaildrop>      0.0 </sparkfaildrop>
   <numboostspeeds>     2 </numboostspeeds>
   <boostoverride>      0 </boostoverride>
   <takeoffboost>      10 </takeoffboost>
   <ratedboost1>        7 </ratedboost1>
   <ratedpower1>     1350 </ratedpower1>
   <ratedrpm1>       2300 </ratedrpm1>
   <ratedaltitude1 >    0 </ratedaltitude1>
   <ratedboost1>        6 </ratedboost1>
   <ratedpower1>     1350 </ratedpower1>
   <ratedrpm1>       2300 </ratedrpm1>
   <ratedaltitude1 > 6200 </ratedaltitude1>

</piston_engine>
<?xml version="1.0"?>
<rocket_engine name="XLR-99">
  <isp>                    260  </isp>
  <maxthrottle>           1.00  </maxthrottle>
  <minthrottle>           0.40  </minthrottle>
  <slfuelflowmax unit="LBS/SEC">   91.5  </slfuelflowmax>
  <sloxiflowmax unit="LBS/SEC">   105.2  </sloxiflowmax>
</rocket_engine>
<?xml version="1.0" ?>

  <turbine_engine name="YJ93-GE-3">
  <milthrust> 19900 </milthrust>
  <maxthrust> 28800 </maxthrust>
  <bypassratio> 0.0 </bypassratio>
  <tsfc> 0.700 </tsfc> 
  <atsfc> 1.800 </atsfc>
  <idlen1> 30.0 </idlen1>
  <idlen2> 60.0 </idlen2>
  <maxn1> 102.0 </maxn1>
  <maxn2> 106.0 </maxn2>
  <augmented> 1 </augmented>
  <augmethod> 1 </augmethod>
  <injected> 0 </injected>
   
  <function name="IdleThrust">
      <table>
          <independentVar lookup="row">velocities/mach</independentVar>
          <independentVar lookup="column">atmosphere/density-altitude</independentVar>
          <tableData>
              -10000     0     10000   20000   30000   40000   50000
              0.0  0.0430  0.0488  0.0528  0.0694  0.0899  0.1183  0.1467
              0.2  0.0500  0.0501  0.0335  0.0544  0.0797  0.1049  0.1342
              0.4  0.0040  0.0047  0.0020  0.0272  0.0595  0.0891  0.1203
              0.6  0.0     0.0     0.0     0.0     0.0276  0.0718  0.1073
              0.8  0.0     0.0     0.0     0.0     0.0474  0.0868  0.0900
              1.0  0.0     0.0     0.0     0.0     0.0     0.0552  0.0800
          </tableData>
      </table>
  </function>
  
  <function name="MilThrust">
      <table>
          <independentVar lookup="row">velocities/mach</independentVar>
          <independentVar lookup="column">atmosphere/density-altitude</independentVar>
          <tableData>
		    -10000	 0   10000   20000   30000   40000   50000 60000
              0.0   1.2600  1.0000  0.7400  0.5340  0.3720  0.2410  0.1490 0.01
              0.2   1.1710  0.9340  0.6970  0.5060  0.3550  0.2310  0.1430 0.01
              0.4   1.1500  0.9210  0.6920  0.5060  0.3570  0.2330  0.1450 0.01
              0.6   1.1810  0.9510  0.7210  0.5320  0.3780  0.2480  0.1540 0.01
              0.8   1.2580  1.0200  0.7820  0.5820  0.4170  0.2750  0.1700 0.01
              1.0   1.3690  1.1200  0.8710  0.6510  0.4750  0.3150  0.1950 0.01
              1.2   1.4850  1.2300  0.9750  0.7440  0.5450  0.3640  0.2250 0.01
              1.4   1.5941  1.3400  1.0860  0.8450  0.6280  0.4240  0.2630 0.01
              1.6   0.01    0.01    0.01    0.01    0.01    0.01    0.01   0.01
          </tableData>
      </table>
  </function>

  <function name="AugThrust">
      <table>
          <independentVar lookup="row">velocities/mach</independentVar>
          <independentVar lookup="column">atmosphere/density-altitude</independentVar>
          <tableData>
			-10000	0	10000	20000	30000	40000	50000	60000	70000	77500	85000  100000
              0.00	1.1816	1.0000	0.8184	0.6627	0.5280	0.3756	0.2327	0.1280	0.0880	0.0550	0.0275  0.0010
              0.20	1.1308	0.9599	0.7890	0.6406	0.5116	0.3645	0.2258	0.1242	0.0844	0.0528	0.0264  0.0010
              0.40	1.1150	0.9474	0.7798	0.6340	0.5070	0.3615	0.2240	0.1232	0.0833	0.0521	0.0261  0.0010
              0.60	1.1284	0.9589	0.7894	0.6420	0.5134	0.3661	0.2268	0.1247	0.0844	0.0527	0.0264  0.0010
              0.80	1.1707	0.9942	0.8177	0.6647	0.5309	0.3784	0.2345	0.1290	0.0875	0.0547	0.0274  0.0010
              1.00	1.2411	1.0529	0.8648	0.7017	0.5596	0.3983	0.2467	0.1357	0.0926	0.0579	0.0290  0.0010
              1.05	1.2163	1.0318	0.8475	0.6877	0.5784	0.4053	0.2418	0.1330	0.0907	0.0567	0.0284  0.0010
              1.15	1.2411	1.0529	0.8648	0.7017	0.6596	0.4383	0.2767	0.1357	0.0926	0.0579	0.0290  0.0010
              1.20	1.5944	1.3505	1.1065	0.8954	0.7123	0.5063	0.3137	0.1726	0.1188	0.0743	0.0371  0.0010
              1.40	2.1548	1.8224	1.4900	1.2032	0.9540	0.6764	0.4191	0.2307	0.1604	0.1002	0.0501  0.0010
              1.60	2.6709	2.2542	1.8375	1.4790	1.1686	0.8262	0.5119	0.2815	0.1984	0.1239	0.0620  0.0010
              1.80	3.1142	2.6242	2.1343	1.7122	1.3491	0.9520	0.5899	0.3244	0.2309	0.1444	0.0722  0.0010
              2.00	3.4797	2.9830	2.4863	1.9901	1.5610	1.0993	0.6812	0.3747	0.2626	0.1640	0.0820  0.0010
              2.20	3.9400	3.3800	2.8200	2.4800	1.8200	1.2718	0.7880	0.4334	0.2974	0.1858	0.0929  0.0010
              2.40	4.5540	3.9600	3.3660	2.9480	2.2000	1.5840	1.0120	0.5566	0.3485	0.2178	0.1089  0.0010
              2.60	5.2800	4.6080	3.9360	3.4560	2.6400	1.9200	1.2480	0.6864	0.4054	0.2534	0.1267  0.0010
              2.75	0.1000	0.1000	0.1000	0.1000	0.1000	0.1000	1.3455	0.7526	0.4066	0.2527	0.1263  0.0010
              2.90	0.1000	0.1000	0.1000	0.1000	0.1000	0.1000	1.4786	0.8271	0.4156	0.2535	0.1267  0.0010
              3.05	0.1000	0.1000	0.1000	0.1000	0.1000	0.1000	1.6211	0.9069	0.4241	0.2560	0.1280  0.0010
              3.15	0.1000	0.1000	0.1000	0.1000	0.1000	0.1000	1.4630	0.8184	0.3828	0.2311	0.1155  0.0010
              3.25	0.1000	0.1000	0.1000	0.1000	0.1000	0.1000	0.1000	0.1000	0.1000	0.0100  0.0010  0.0010

          </tableData>
      </table>
</function>

</turbine_engine>

<?xml version="1.0"?>
<!-- Zenoah G-26A -->
<!-- 2.96 hp engine -->
<!-- one horsepower equals 745.69987 Watts -->

<electric_engine name="electric_1mw">
  <power unit="WATTS">  2207.27 </power>
</electric_engine>
<?xml version="1.0" encoding="ISO-8859-1"?>

<!--
     Test turbine for ah1/uh1, generated with aeromatic
-->

<turbine_engine name="avco_lycoming_t53_l_703">
  <milthrust> 3320 </milthrust> <!-- expect 1483 shp, via 2.24 approximated to 3320 lbf -->
  <bypassratio>     0.0  </bypassratio>
  <tsfc>            0.60 </tsfc>
  <bleed>           0.001 </bleed>
  <idlen1>         30.0  </idlen1>
  <idlen2>         60.0  </idlen2>
  <maxn1>         100.0  </maxn1>
  <maxn2>         100.0  </maxn2>
  <augmented>         0  </augmented>
  <injected>          0  </injected>

  <function name="IdleThrust">
   <table>
    <independentVar lookup="row">velocities/mach</independentVar>
    <independentVar lookup="column">atmosphere/density-altitude</independentVar>
    <tableData>
         -10000       0   10000   20000   30000   40000   50000
     0.0  0.0430  0.0488  0.0528  0.0694  0.0899  0.1183  0.1467
     0.2  0.0500  0.0501  0.0335  0.0544  0.0797  0.1049  0.1342
     0.4  0.0040  0.0047  0.0020  0.0272  0.0595  0.0891  0.1203
     0.6  0.0     0.0     0.0     0.0276  0.0718  0.0430  0.0
     0.8  0.0     0.0     0.0     0.0     0.0174  0.0086  0.0
     1.0  0.0     0.0     0.0     0.0     0.0     0.0     0.0
   </tableData>
   </table>
  </function>

  <function name="MilThrust">
   <table>
    <independentVar lookup="row">velocities/mach</independentVar>
    <independentVar lookup="column">atmosphere/density-altitude</independentVar>
    <tableData>
         -10000       0   10000   20000   30000   40000   50000
     0.0  1.1260  1.0000  0.7400  0.5340  0.3720  0.2410  0.1490
     0.2  1.1000  0.9340  0.6970  0.5060  0.3550  0.2310  0.1430
     0.4  1.0000  0.6410  0.6120  0.4060  0.3570  0.2330  0.1450
     0.6  0.4430  0.3510  0.2710  0.2020  0.1780  0.1020  0.0640
     0.8  0.0240  0.0200  0.0160  0.0130  0.0110  0.0100  0.0
     1.0  0.0     0.0     0.0     0.0     0.0     0.0     0.0
    </tableData>
   </table>
  </function>

</turbine_engine>
<?xml version="1.0"?>
<!--
  Thrust is computed directly by the engine
-->
<direct name="Direct">
</direct>
<?xml version="1.0" ?>
<!-- $Id: dowty-rotol-aero.xml,v 1.1 2015/04/17 21:17:34 bcoconni Exp $ -->

<!--

  References :
  ==========

  - NACA Report 378

-->

<propeller name="dowty-rotol">

  <ixx> 10.405 </ixx>
  <diameter unit="IN"> 144.0 </diameter>
  <numblades> 6 </numblades>
  <gearratio> 2.22 </gearratio>
  <minrpm> 750 </minrpm>
  <maxrpm> 1296 </maxrpm>
  <minpitch> 0 </minpitch>
  <maxpitch> 45 </maxpitch> 
<ct_factor>1.6</ct_factor>
<cp_factor>1.5</cp_factor> 

  <table name="C_THRUST" type="internal">
      <tableData>
	0	15	30	45
0	0.07	0.11	0.15	0.19
0.15	0.05	0.1	0.15	0.2
0.3	0.03	0.09	0.15	0.21
0.45	0.01	0.08	0.15	0.23
0.6	-0.03	0.06	0.15	0.24
0.75	-0.07	0.04	0.15	0.26
0.9	-0.1	0.02	0.14	0.27
1.05	-0.13	0	0.13	0.26
1.2	-0.17	-0.03	0.11	0.26
1.5	-0.22	-0.07	0.08	0.22
1.8	-0.28	-0.12	0.06	0.18
2.1	-0.32	-0.16	0.03	0.14
2.4	-0.39	-0.21	0	0.1
      </tableData>
  </table>

  <table name="C_POWER" type="internal">
     <tableData>
	0	15	30	45
0	0.008	0.010	0.12	0.250
0.13	0.008	0.010	0.12	0.250
0.26	0.008	0.010	0.12	0.260
0.39	0.007	0.009	0.12	0.260
0.52	0.006	0.008	0.12	0.280
0.65	0.005	0.007	0.12	0.290
0.78	0.004	0.005	0.12	0.300
0.91	0.002	0.003	0.11	0.320
1.04	0.000	0.002	0.11	0.330
1.3	-0.005	-0.004	0.11	0.330
1.56	-0.011	-0.011	0.1	0.330
1.82	-0.021	-0.020	0.11	0.360
2.08	-0.029	-0.029	0.11	0.390
2.34	-0.040	-0.040	0.07	0.290
2.6	-0.049	-0.050	0.03	0.190
2.86	-0.059	-0.059	-0.01	0.090
3.12	-0.069	-0.069	-0.05	-0.010
     </tableData>
  </table>
</propeller>
<?xml version="1.0"?>

<!--
  File:     my_engine.xml
  Author:   AeromatiC++ v 2.9.9

  See: http://wiki.flightgear.org/JSBSim_Engines#FGElectric

  Inputs:
    power:          1 hp = 745.1 Watt
-->

<electric_engine name="dummy">
 <power unit="WATTS">   0 </power>
</electric_engine>
<?xml version="1.0"?>
<!--
  File:     electric147kW.xml
  Author:   Anders Gidenstam
-->
<electric_engine name="electric">
 <!-- This engine is used to drive the aft side-thruster on ZLT NT.
      In the real ship that thruster is powered by the aft main engine.
 -->
 <power unit="WATTS">  147000.0 </power>
</electric_engine>
<?xml version="1.0"?>
<!--
  File:     electric_1mw.xml
  Author:   David Culp

  Models a one mega-watt electric engine (about 1341 HP)
-->

<electric_engine name="electric_1mw">
  <power unit="WATTS">  1000000.0 </power>
</electric_engine>
<?xml version="1.0"?>
<!--
  minmp:         minimum manifold pressure in inches Hg
  maxmp:         maximum manifold pressure in inches Hg
  displacement:  total cylinder space (??) in cubic inches
  maxhp:         maximum horsepower produced (=BRAKEHORSEPOWER in the old
                 config)
  cycles:        cycles/power stroke
  idlerpm:       minimum RPM when the engine is running
  maxthrottle:   maximum throttle setting (as before)
  minthrottle:   minimum throttle setting (as before)
-->
<piston_engine name="IO360C">
  <minmp unit="INHG">        10.0 </minmp>
  <maxmp unit="INHG">        28.5 </maxmp>	
  <displacement unit="IN3"> 360.0  </displacement>
  <maxhp>                   180.0  </maxhp>	
  <!--bsfc>                      0.37 </bsfc-->
  <cycles>                    4.0  </cycles>
  <idlerpm>                 550.0  </idlerpm>
  <maxrpm>                 2700.0  </maxrpm>
  <maxthrottle>               1.0  </maxthrottle>
  <minthrottle>               0.1  </minthrottle>
  <sparkfaildrop>             0.1 </sparkfaildrop>
</piston_engine>
<?xml version="1.0"?>
<!--
  File:     IO470D.xml
  Author:   Aero-Matic v 0.8

  Ref: http://www.tcmlink.com/EngSpecSheetDocs/IO470D.pdf

  Inputs:
    name:           IO470D
    type:           piston
    power:          260.0 hp
    augmented?      no
    injected?       no
-->

<piston_engine name="IO470D">
  <minmp unit="INHG">         10.0 </minmp>
  <maxmp unit="INHG">         28.5 </maxmp>
  <displacement unit="IN3">  471.0 </displacement>
  <maxhp>        260.00 </maxhp>
  <cycles>         4.0 </cycles>
  <idlerpm>      600.0 </idlerpm>
  <maxrpm>      2625.0 </maxrpm>
  <sparkfaildrop>  0.1 </sparkfaildrop>
  <bore unit="IN"> 5.0 </bore> <!-- Unused -->
  <stroke unit="IN"> 4.0 </stroke>
  <cylinders> 6.0 </cylinders><!-- Unused -->
  <compression-ratio> 8.6 </compression-ratio>
  <ram-air-factor> 1.0 </ram-air-factor>
<!-- Added in FlightGear 2.8 -->
  <man-press-lag> 0.25 </man-press-lag>
</piston_engine>
<?xml version="1.0"?>
<!--
  File:     engIO540AB1A5.xml
  Author:   Aero-Matic v 0.8

  Inputs:
    name:           engIO540AB1A5
    type:           piston
    power:          230.0 hp
    augmented?      no
    injected?       no
-->

<piston_engine name="IO540AB1A5">
  <minmp unit="INHG">         10.0 </minmp>
  <maxmp unit="INHG">         28.5 </maxmp>	
  <displacement unit="IN3">  540.0 </displacement>
  <maxhp>        230.0 </maxhp>
  <cycles>         4.0 </cycles>
  <idlerpm>      900.0 </idlerpm>
  <maxrpm>      2575.0 </maxrpm>
  <maxthrottle>    1.0 </maxthrottle>
  <minthrottle>    0.1 </minthrottle>
  <sparkfaildrop>  0.0 </sparkfaildrop>
</piston_engine>
<?xml version="1.0"?>
<!--
  File:     engRRMerlin61.xml
  Author:   Aero-Matic v 0.8

  Inputs:
    name:           RR-Merlin_61
    type:           piston
    power:          160.0 hp
    augmented?      no
    injected?       no
-->

<piston_engine name="RR-Merlin_61">
  <minmp unit="INHG">         10.0  </minmp>
  <maxmp unit="INHG">         54.32 </maxmp>	
  <displacement unit="IN3"> 1649.00 </displacement>
  <maxhp>       1650.00 </maxhp>
  <cycles>         4.0 </cycles>
  <idlerpm>      700.0 </idlerpm>
  <maxrpm>      3000.0 </maxrpm>
  <maxthrottle>    1.0 </maxthrottle>
  <minthrottle>    0.1 </minthrottle>
  <numboostspeeds> 2   </numboostspeeds>
  <boostoverride>  1   </boostoverride>
  <ratedboost1>    9   </ratedboost1>
  <ratedpower1> 1400   </ratedpower1>
  <ratedrpm1>   2850   </ratedrpm1>
  <ratedaltitude1> 12000 </ratedaltitude1>
  <ratedboost2>    9   </ratedboost2>
  <ratedpower2> 1250   </ratedpower2>
  <ratedrpm2>   2850   </ratedrpm2>
  <ratedaltitude2> 24000 </ratedaltitude2>
  <takeoffboost> 12    </takeoffboost>
  <sparkfaildrop>  0.0 </sparkfaildrop>
</piston_engine>
<?xml version="1.0"?>
<!--
  File:     engRRMerlinXII.xml
  Author:   Aero-Matic v 0.8

  Inputs:
    name:           RR-Merlin_XII
    type:           piston
    power:          160.0 hp
    augmented?      no
    injected?       no
-->

<piston_engine name="RR-Merlin_XII">
  <minmp unit="INHG">         10.0  </minmp>
  <maxmp unit="INHG">         54.35 </maxmp>
  <displacement unit="IN3"> 1649.00 </displacement>
  <maxhp>       1650.00 </maxhp>
  <cycles>         4.0 </cycles>
  <idlerpm>      700.0 </idlerpm>
  <maxrpm>      3000.0 </maxrpm>
  <maxthrottle>    1.0 </maxthrottle>
  <minthrottle>    0.1 </minthrottle>
  <numboostspeeds> 1   </numboostspeeds>
  <boostoverride>  1   </boostoverride>
  <ratedboost1>    9   </ratedboost1>
  <ratedpower1> 1150   </ratedpower1>
  <ratedrpm1>   2850   </ratedrpm1>
  <ratedaltitude1> 13000 </ratedaltitude1>
  <takeoffboost> 12    </takeoffboost>
  <sparkfaildrop>  0.0 </sparkfaildrop>
</piston_engine>
<?xml version="1.0"?>
<!--
  File:     eng_O-200.xml
  Author:   Ron Jensen

O-200: 100 hp (75 kW)
specifications

4-cylinder, horizontally-opposed, air-cooled piston engine
Displacement: 201 cubic inches  (3.3 litres)
Bore x stroke: 4.0625 x 3.875 inches
used by

Aeronca 7EC Champion
Cessna 150 

Reference TCDS E-252
-->

<piston_engine name="o-200">
  <minmp unit="INHG">         10.5 </minmp>
  <maxmp unit="INHG">         28.5 </maxmp>
  <displacement unit="IN3"> 201.00 </displacement>
  <maxhp>        100.00 </maxhp>
  <cycles>         4.0 </cycles>
  <idlerpm>      550.0 </idlerpm>
  <maxrpm>      2750.0 </maxrpm>
  <bore unit="IN"> 4.0625 </bore>
  <stroke unit="IN">3.875 </stroke>
  <compression-ratio> 7.0 </compression-ratio>
  <cylinders> 4 </cylinders>
  <sparkfaildrop> 0.1 </sparkfaildrop>
  <bsfc> 0.42 </bsfc>
</piston_engine>
<?xml version="1.0"?>
<!--

  Bristol Pegasus XC engine model for JSBSim.

    Copyright (C) 2008 - 2013  Anders Gidenstam  (anders(at)gidenstam.org)
    Copyright (C) 2008         Ron Jensen

    This program is free software; you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation; either version 2 of the License, or
    (at your option) any later version.
  
    This program is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.
  
    You should have received a copy of the GNU General Public License
    along with this program; if not, write to the Free Software
    Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA
  
-->
<!--
  File:     eng_PegasusXc.xml
  Authors:  Ron Jensen, Anders Gidenstam

Selected informative quotes from

"Flying Empires  Short 'C' class Empire flying boats",
Brian Cassidy, Queens Parade Press, 1996-2004. ISBN 0-9529298-2-1
[Cassidy:2004:FE]
    
  "The Pegasus engine data plates were fixed on the port side panel
  below the fore and aft level. The information on the plates read:
  Take off 2475 rpm. maximum +4 1/4 lb. sq. in.
           Maximum rpm   Boost.   Cylinder temp.   Oil temp.deg.C.
  Take off     2475      +4 1/4   235 for 15 min.      ??
  Climbing     2250      +2 1/2   235                  80
  Cruising     2250      +2       190                  70
  All out      2600      +2       235                  90
  Oil pressure maximum 80 lb./sq. in. 5 minutes
               minimum 5 lb./sq. in."
  (pp.71)

  "The Pegasus XC was a 28.7 litre, civil-rated, medium
  supercharged, poppet-valved engine and equipped the S.23, S.33
  'boats and one of the S.30 aircraft - KZ CATHAY. The Bristol
  Perseus XIIC was 24.9 litre, civil rated, medium supercharged,
  sleeve-valve engine and was fitted to the eight S.30 'boats. Both
  types of engine were geared down to turn the airscrew at half
  crankshaft speed, through Farman type reduction gearing."
  (pp.91) 

  "The starters were Rotax-Eclipse E 160R direct-cranking starters, capable
  of turning the crankshaft over at 25 to 30 rev. per min."
  (pp.92)

  "The engines originally fitted to all the Mark I S.23 'boats, one
  of the S.30s and both the S.33 'boats were poppet valved Bristol
  Pegasus XCs. The engines developed 820/900 bhp. (589/611 kW.) at
  2250 rev. per min., at the rated altitude of 3500 ft. At sea
  level, the maximum power was 885/920 bhp.  (660/686 kW.) at 2250
  rev. per min. The maximum economy cruise power was 510 bhp. (380
  kW.).  The maximum engine speed for for the climb - with the
  airscrews in COARSE pitch - was 2250 rev.  per min. with +1 1/4
  lb. sq. in.. For continuous cruising the speed was 2500 rev. per
  min. up to 5000 ft. and 2100 rev. per min. over 5000
  ft. Maximum engine speed - all out - was 2600 rev. per min. with
  +2 1/2 lb. sq. in. for 5 minutes in level flight."
  (pp.167)

  "Fuel consumptions varied between individual aircraft. In practice, `normal'
  four engine fuel consumptions ranged from as little as 107.5 gal. per hr. 
  (484 litres per hr.), to 119.9 gal. per hr. (540 litre per hr.). A good
  average consumption was considered to be 115 gal. per hr. (518 litre per hr.).
  The upper limit of acceptable consumption was set at 141 gal. per hr. (631
  litre per hr.), and anything over this amount was considered to be excessive.
  These consumption figures appear to be better than the manufacturer's figure
  of a maximum of 0,67 pints (0.38 litres) per hhp. per hour. ...
  [Oil] Consumptions varied from 8 pints to 3 1/2 gal. per hour for a
  typical Pegasus"
  (pp.168)

Flight Magazine November 5, 1936:
  Pegasus Xc
    Gear ratio:                        0.5:1
    Rated height:                      5500 ft
    Maximum take off RPM:              2475
    International rated power:         740 BHP at 3500 ft
    Max power all out level flight:    830 BHP at 5500 ft
    Max speed for 5 min. level flight: 2600 RPM
    Max take-off power:                920 BHP
    (Dry?) Weight:                     1015 lbs

  "The Claudel-Hobson carburetter, of the A.V.T. 85E type, works in
  conjunction with a variable datum boost control, which protects the
  engine against excessive pressure in the induction pipe."

Flight Magazine November 12, 1936:
  Bore:                   146 mm
  Stroke:                 190.5 mm 
  Reduction gear:         0.5
  Normal crankshaft RPM:  2,250
  Rated altitude:         4,500 ft
  Normal output at rated altitude:    785/815 BHP
  Max output at full throttle height: 830 BHP
  Take-off power:                     920 BHP
  Dry weight:                         1,015 lbs
  Remark: Moderately supercharged. Max. power at 5,256ft

http://theflyingboatforum.forumlaunch.net/viewtopic.php?f=19&t=897
  "... British and Australian CofAs for these aircraft give the Pegasus Xc
  as 740 hp at 2,250 rpm at rated height of 4,500 ft and 815 hp at 2,475 rpm."

-->
<piston_engine name="PegasusXc">

 <displacement unit="IN3"> 1752.80 </displacement>
 <bore unit="IN">             5.75 </bore>
 <stroke unit="IN">           7.50 </stroke>
 <compression-ratio>          6.25 </compression-ratio> <!-- From Wikipedia. Pegasus XVIII. -->
 <cylinders>                  9.0  </cylinders>
 <cycles>                     4.0  </cycles>

 <maxhp unit="HP">          920.0 </maxhp> <!-- At take-off boost. -->
 <!-- bsfc unit="LBS/HP*HR"> 0.40 </bsfc -->
 <!--
     [Cassidy:2004:FE]: For Pegasus Xc:
                        0.500 LBS/HP/HR (max cruise + acceptable consumption)
                        0.605 LBS/HP/HR (manufacturer's figure)
     Wikipedia:         0.52  LBS/HP/HR for Pegasus XVIII.
 -->
 <volumetric-efficiency> 0.65 </volumetric-efficiency> <!-- Default 0.85 -->
 <idlerpm>      300.0 </idlerpm>
 <maxrpm>      2600.0 </maxrpm>

 <numboostspeeds> 1.0 </numboostspeeds>
 <boostoverride>  0 </boostoverride>
 <boost-loss-factor> 1.20 </boost-loss-factor>

 <!-- For use with a separate variable datum boost control system. -->
 <ratedboost1 unit="PSI">      4.25 </ratedboost1>
 <ratedpower1 unit="HP">     920.00 </ratedpower1>
 <ratedrpm1>                2475.00 </ratedrpm1>
 <ratedaltitude1 unit="FT">    0.00 </ratedaltitude1>

 <!-- Boost control is handled by the variable datum boost control system. -->
 <boostoverride>1</boostoverride>


 <!-- For use without a separate variable datum boost control system. -->
 <!-- ratedboost1 unit="PSI">      2.50 </ratedboost1>
 <ratedpower1 unit="HP">     815.00 </ratedpower1>
 <ratedrpm1>                2250.00 </ratedrpm1>
 <ratedaltitude1 unit="FT"> 3500.00 </ratedaltitude1>

 <takeoffboost unit="PSI">     4.25 </takeoffboost -->

 <sparkfaildrop>              0.10 </sparkfaildrop>

 <minmp unit="INHG">         10.00 </minmp>
 <maxmp unit="INHG">         38.57 </maxmp>
 <maxthrottle>                1.00 </maxthrottle>
 <minthrottle>                0.05 </minthrottle>

 <!--
      Engine starter system.
      Inputs:
        propulsion/engine[#]/starter-serviceable
        propulsion/engine[#]/starter-voltage-V
      Outputs:
        propulsion/engine[#]/starter-current-A
        propulsion/engine[#]/starter-running-norm
 -->
 <starter-torque unit="LB*FT">368</starter-torque>
 <starter-rpm>800</starter-rpm>            
 
 <function name="propulsion/engine[#]/starter-max-power-W">
  <product> 
   <max> <!-- k_torque -->
    <value>0.0</value>
    <difference>
     <value>1.0</value>
     <quotient>
      <property>propulsion/engine[#]/engine-rpm</property>
      <value>400</value>   <!-- Starter max RPM. -->
     </quotient>
    </difference>
   </max>
   <value>498.941</value> <!-- Starter max torque in Nm. -->
   <product>              <!-- Engine speed in radians/sec. -->
    <value>0.10471976</value>
    <property>propulsion/engine[#]/engine-rpm</property>
   </product>
  </product>
 </function>

 <function name="propulsion/engine[#]/starter-current-A">
  <!-- Guess: Set the max current to 120A and let it decrease with rpm. -->
  <!-- The C-46 POH states that a starter on that aircraft draws 120A.  -->
  <product>
   <value>120.0</value>
   <quotient>
    <property>propulsion/engine[#]/starter-voltage-V</property>
    <value>12.0</value>
   </quotient>
   <max>
    <value>0.0</value>
    <difference>
     <value>1.0</value>
     <quotient>
      <property>propulsion/engine[#]/engine-rpm</property>
      <value>1000</value>
     </quotient>
    </difference>
   </max>
  </product>
 </function>

 <function name="propulsion/engine[#]/starter-running-norm">
  <min>
   <value>1.0</value>
   <product>
    <property>propulsion/engine[#]/starter-serviceable</property>
    <quotient>
     <product> <!-- Power available in W. -->
      <property>propulsion/engine[#]/starter-voltage-V</property>
      <property>propulsion/engine[#]/starter-current-A</property>
     </product>
     <max>     <!-- Max power in W at the current RPM. -->
      <value>1.0</value>
      <property>propulsion/engine[#]/starter-max-power-W</property>
     </max>
    </quotient>
   </product>
  </min>
 </function>

</piston_engine>
<?xml version="1.0"?>
<piston_engine name="RR_Hawk">
 <!--
   http://en.wikipedia.org/wiki/Rolls-Royce_Hawk
    Rolls-Royce Hawk was an aero engine built by Rolls-Royce, similar
    to one bank of six cylinders from the Rolls-Royce Eagle.

     * Layout: Water cooled inline 6 cylinder
     * Power output: 75 hp @ 1350 rpm 7.4 litre
     * Bore: 4 inches
     * Stroke: 6 inches
     * Weight: 387 lbs
     * Compression ratio: 5.1:1

   It was produced between 1914 and 1918, during which 204 were built
   at Brazil Straker and one by Rolls-Royce.
 -->
 <!--
   Data plate photo at http://www.aeroplanedetouraine.fr/yvangot.htm
     No. 1.75.280
     BHP 85.5 at 1350 RPM
     Carburtr. Main Je<unreadable>
     Petrol Gals Per Hr 6.5
     Oil GalLs Per Hour 3.5
     Oil Press 22 LBs Per Sq In
     Air Screw 1350 RPM
     Left Hand Tractor
 -->
 <minmp unit="INHG">         10.0 </minmp> 
 <maxmp unit="INHG">         27.9 </maxmp> 
 <displacement unit="IN3"> 452.39 </displacement>
 <!--bsfc>          0.37 </bsfc--> 
 <maxhp>        85.50 </maxhp> 
 <bore unit="IN"> 4.0 </bore>
 <stroke unit="IN"> 6.0 </stroke>
 <cylinders> 6 </cylinders>
 <compression-ratio> 5.1 </compression-ratio> 
 <cycles>         4.0 </cycles>
 <idlerpm>      300.0 </idlerpm>
 <maxrpm>      1350.0 </maxrpm>
 <maxthrottle>    1.0 </maxthrottle>
 <minthrottle>    0.1 </minthrottle>
 <sparkfaildrop>  0.1 </sparkfaildrop>
</piston_engine>
<?xml version="1.0"?>
<!--
  File:     IO320.xml
  Author:   Ron Jensen

  Inputs:
    name:           IO320
    type:           piston
    power:          160.0 hp
    augmented?      no
    injected?       no
-->

<piston_engine name="IO320">
  <minmp unit="INHG">        10.0  </minmp>
  <maxmp unit="INHG">        28.5  </maxmp>	
  <displacement unit="IN3"> 320.0  </displacement>
  <maxhp>                   160.0  </maxhp>	
  <bsfc>                      0.32 </bsfc>
  <cycles>                    4.0  </cycles>
  <idlerpm>                 550.0  </idlerpm>
  <maxrpm>                 2700.0  </maxrpm>
  <maxthrottle>               1.0  </maxthrottle>
  <minthrottle>               0.1  </minthrottle>
  <sparkfaildrop>             0.1 </sparkfaildrop>
</piston_engine>

<?xml version="1.0"?>
<!--
MILTHRUST   [LBS]
MAXTHRUST   [LBS]
idlen1      [%]
maxn1       [%]
betarangeend[%]
    if ThrottleCmd < betarangeend/100.0 then engine power=idle, propeller pitch
    is controled by ThrottleCmd (between MINPITCH and  REVERSEPITCH).
    if ThrottleCmd > betarangeend/100.0 then engine power increases up to max reverse power
reversemaxpower [%]
    max engine power in reverse mode
maxpower    [HP]
psfc power specific fuel consumption [pph/HP] for N1=100%
n1idle_max_delay [-] time constant for N1 change
maxstartenginetime [sec]
    after this time the automatic starting cycle is interrupted when the engine
    doesn't start (0=automatic starting not present)
startern1   [%]
    when starting starter spin up engine to this spin
ielumaxtorque [lb.ft]
    if torque>ielumaxtorque limiters decrease the throttle
    (ielu = Integrated Electronic Limiter Unit)
itt_delay [-] time constant for ITT change
    (ITT = Inter Turbine Temperature)
-->

<turboprop_engine name="M601">
  <milthrust unit="LBS">       1500.0   </milthrust>
  <idlen1>                       60.0   </idlen1>
  <maxn1>                       100.0   </maxn1>
  <maxpower unit="HP">          700.0   </maxpower>
  <psfc unit="LBS/HR/HP">         0.669 </psfc>
  <n1idle_max_delay>              1     </n1idle_max_delay>
  <maxstartingtime>              20     </maxstartingtime>
  <startern1>                    20     </startern1>
  <ielumaxtorque unit="FT*LB"> 1751     </ielumaxtorque>
  <itt_delay>                     0.05  </itt_delay>
  <betarangeend>                 64     </betarangeend>
  <reversemaxpower>              60     </reversemaxpower>

  <table name="EnginePowerVC">
    <description> Engine power, function of airspeed and pressure </description>
    <independentVar lookup="row">atmosphere/P-psf</independentVar>
    <independentVar lookup="column">velocities/ve-kts</independentVar>
    <tableData>
                 0     50    100    150    200    250
       503   0.357  0.380  0.400  0.425  0.457  0.486
      1048   0.586  0.589  0.600  0.621  0.650  0.686
      1328   0.707  0.721  0.731  0.757  0.786  0.821
      1496   0.779  0.786  0.808  0.821  0.857  0.900
      1684   0.850  0.857  0.874  0.900  0.943  0.979
      1896   0.914  0.929  0.946  0.971  1      1.057
      2135   1      1.011  1.029  1.043  1.083  1.150
      2213   1.029  1.043  1.057  1.079  1.114  1.171
    </tableData>
  </table>

  <table name="EnginePowerRPM_N1" type="internal">
    <description> Engine Power, function of RPM and N1 </description>
    <tableData>
            0   5   60    86   94   95   96   97   98   99  100  101
         0  0   0.5  0.5   0.5  0.5  0.5  0.5  0.5  0.5  0.5  0.5  0.5
       800  0   0.5 35   200  350  380  420  460  500  530  580  620
      1200  0   0.5 30   230  400  430  470  505  550  590  640  680
      1600  0   0.5  5   240  440  475  510  550  595  630  680  720
      2000  0   0.1  0.1 225  450  495  525  565  610  650  700  745
      2200  0   0.1  0.1 205  440  480  515  560  605  645  695  743
    </tableData>
  </table>

  <table name="ITT_N1" type="internal">
    <description> Inter-Turbine Temperature ITT [deg C] depending on N1 and engine run (0=off / 1=running) </description>
    <tableData>
              0     1
        0     0     0
       15   100   100
       60   180   520
       96   270   680
      100   280   730
    </tableData>
  </table>

</turboprop_engine>
<?xml version="1.0"?>

<propeller name="30 Degree Fixed Pitch 2 Blade 5868-9 Clark Y">
  <ixx> 5.0 </ixx>
  <diameter unit="IN"> 76.0 </diameter>
  <numblades> 2 </numblades>
  <minpitch> 20 </minpitch>
  <maxpitch> 20 </maxpitch>

  <table name="C_THRUST" type="internal">
    <tableData>
      0.00 0.117
      0.10 0.117
      0.20 0.115
      0.30 0.112
      0.40 0.110
      0.50 0.108
      0.60 0.107
      0.70 0.107
      0.80 0.104
      0.90 0.095
      1.00 0.083
      1.10 0.070
      1.20 0.055
      1.30 0.039
      1.40 0.023
      1.50 0.006
      1.55 0.000
      1.60 -0.006
      1.70 -0.023
      1.80 -0.039
      1.90 -0.055
      2.00 -0.070
      2.10 -0.083
      2.20 -0.095
      2.30 -0.104
      2.40 -0.107
      2.50 -0.107
      2.60 -0.108
      2.70 -0.110
      2.80 -0.112
      2.90 -0.115
      3.00 -0.117
      3.10 -0.117
      5.00 -0.120
    </tableData>
  </table>

  <table name="C_POWER" type="internal">
    <tableData>
      0.00 0.143
      0.10 0.140
      0.20 0.138
      0.30 0.135
      0.40 0.133
      0.50 0.128
      0.60 0.123
      0.70 0.117
      0.80 0.113
      0.90 0.109
      1.00 0.100
      1.10 0.090
      1.20 0.075
      1.30 0.059
      1.40 0.038
      1.50 0.017
      1.60 0.010
      1.70 0.017
      1.80 0.038
      1.90 0.059
      2.00 0.075
      2.10 0.090
      2.20 0.100
      2.30 0.109
      2.40 0.113
      2.50 0.117
      2.60 0.123
      2.70 0.128
      2.80 0.133
      2.90 0.135
      3.00 0.138
      3.10 0.140
      3.20 0.143
      5.00 0.150
    </tableData>
  </table>

</propeller>
<?xml version="1.0"?>

<propeller name="Clark Y 0.10 t/c ratio variable pitch">
  <ixx>                1.8 </ixx>
  <diameter unit="IN"> 84.0 </diameter>
  <numblades>          2   </numblades>
  <minpitch>          11   </minpitch>
  <maxpitch>          27   </maxpitch>
  <minrpm>           700   </minrpm>
  <maxrpm>          2700   </maxrpm>

  <table name="C_THRUST" type="internal">
    <tableData>
                 11.0000  15.0000  19.0000   23.0000  27.0000
        0.1000   0.0750   0.0818    0.0910   0.0870   0.0950
        0.1500   0.0670   0.0795    0.0910   0.0882   0.0933
        0.2000   0.0630   0.0770    0.0900   0.0889   0.0925
        0.2500   0.0580   0.0742    0.0884   0.0890   0.0915
        0.3000   0.0525   0.0702    0.0860   0.0890   0.0908
        0.3500   0.0460   0.0660    0.0832   0.0886   0.0898
        0.4000   0.0395   0.0612    0.0801   0.0880   0.0888
        0.4500   0.0330   0.0560    0.0757   0.0864   0.0882
        0.5000   0.0255   0.0500    0.0708   0.0845   0.0880
        0.5500   0.0170   0.0416    0.0655   0.0817   0.0877
        0.6000   0.0095   0.0330    0.0591   0.0780   0.0870
        0.6500   -0.0010  0.0248    0.0520   0.0732   0.0858
        0.7000   -0.0095  0.0175    0.0450   0.0672   0.0830
        0.7500   -0.0170  0.0105    0.0368   0.0610   0.0800
        0.8000   -0.0255  -0.0010   0.0294   0.0547   0.0752
        0.8500   -0.0330  -0.0095   0.0224   0.0483   0.0703
        0.9000   -0.0395  -0.0170  -0.0010   0.0416   0.0651
        0.9500   -0.0460  -0.0255  -0.0095   0.0349   0.0591
        1.0000   -0.0525  -0.0330  -0.0170   0.0280   0.0530
        1.0500   -0.0580  -0.0395  -0.0255   0.0211   0.0467
        1.1000   -0.0630  -0.0460  -0.0330   0.0142   0.0402
        1.1500   -0.0670  -0.0525  -0.0395   0.0072   0.0337
        1.2000   -0.0750  -0.0580  -0.0460   -0.0010  0.0270
        1.2500   -0.0790  -0.0630  -0.0525   -0.0095  0.0201
        1.3000   -0.0800  -0.0670  -0.0580   -0.0170  0.0130
        1.3500   -0.0800  -0.0750  -0.0630   -0.0255  0.0056
        1.4000   -0.0800  -0.0790  -0.0670   -0.0330  -0.0010
        1.4500   -0.0800  -0.0800  -0.0750   -0.0395  -0.0095
        1.5000   -0.0800  -0.0800  -0.0790   -0.0460  -0.0170
        1.5500   -0.0800  -0.0800  -0.0800   -0.0525  -0.0255
        1.6000   -0.0800  -0.0800  -0.0800   -0.0580  -0.0330
        1.6500   -0.0800  -0.0800  -0.0800   -0.0630  -0.0395
        1.7000   -0.0800  -0.0800  -0.0800   -0.0670  -0.0460
        1.7500   -0.0800  -0.0800  -0.0800   -0.0750  -0.0525
        1.8000   -0.0800  -0.0800  -0.0800   -0.0790  -0.0580
        1.8500   -0.0800  -0.0800  -0.0800   -0.0800  -0.0630
        1.9000   -0.0800  -0.0800  -0.0800   -0.0800  -0.0670
        1.9500   -0.0800  -0.0800  -0.0800   -0.0800  -0.0750
        2.0000   -0.0800  -0.0800  -0.0800   -0.0800  -0.0790
        3.0000   -0.0810  -0.0800  -0.0800   -0.0800  -0.0800
        4.0000   -0.0820  -0.0800  -0.0800   -0.0800  -0.0800
      </tableData>
    </table>

  <table name="C_POWER" type="internal">
    <tableData>
               11.0000  15.000  19.000  23.000  27.000
        0.1000  0.0295  0.0400  0.0520  0.0769  0.1055
        0.1500  0.0290  0.0400  0.0521  0.0755  0.1029
        0.2000  0.0285  0.0400  0.0523  0.0740  0.1000
        0.2500  0.0280  0.0400  0.0525  0.0720  0.0972
        0.3000  0.0265  0.0397  0.0526  0.0695  0.0950
        0.3500  0.0248  0.0392  0.0527  0.0676  0.0922
        0.4000  0.0226  0.0384  0.0528  0.0663  0.0900
        0.4500  0.0205  0.0370  0.0523  0.0656  0.0880
        0.5000  0.0170  0.0348  0.0513  0.0658  0.0863
        0.5500  0.0129  0.0302  0.0498  0.0659  0.0852
        0.6000  0.0080  0.0255  0.0472  0.0656  0.0839
        0.6500  0.0040  0.0208  0.0436  0.0646  0.0835
        0.7000  0.0038  0.0164  0.0394  0.0620  0.0822
        0.7500  0.0040  0.0115  0.0345  0.0588  0.0814
        0.8000  0.0080  0.0070  0.0294  0.0551  0.0791
        0.8500  0.0129  0.0065  0.0238  0.0510  0.0766
        0.9000  0.0170  0.0070  0.0120  0.0461  0.0739
        0.9500  0.0205  0.0115  0.0100  0.0408  0.0700
        1.0000  0.0226  0.0164  0.0120  0.0349  0.0652
        1.0500  0.0248  0.0208  0.0180  0.0284  0.0597
        1.1000  0.0265  0.0255  0.0238  0.0214  0.0536
        1.1500  0.0280  0.0302  0.0294  0.0140  0.0469
        1.2000  0.0290  0.0348  0.0345  0.0120  0.0398
        1.2500  0.0295  0.0370  0.0394  0.0140  0.0321
        1.3000  0.0300  0.0384  0.0436  0.0214  0.0240
        1.3500  0.0300  0.0392  0.0472  0.0284  0.0157
        1.4500  0.0300  0.0397  0.0498  0.0349  0.0140
        1.5500  0.0300  0.0400  0.0513  0.0461  0.0240
        1.6500  0.0300  0.0400  0.0523  0.0551  0.0400
        1.7500  0.0300  0.0400  0.0528  0.0620  0.0536
        1.8500  0.0300  0.0400  0.0527  0.0656  0.0607
        1.9500  0.0300  0.0400  0.0526  0.0658  0.0669
        2.0350  0.0300  0.0400  0.0525  0.0663  0.0700
        3.0000  0.0300  0.0400  0.0523  0.0740  0.0928
        4.0000  0.0300  0.0400  0.0521  0.0769  0.1000
    </tableData>
  </table>

</propeller>
<?xml version="1.0"?>

<propeller name="Clark Y 0.06 thickness/chord ratio variable pitch">
  <ixx> 1.8 </ixx>
  <diameter unit="IN"> 84.0 </diameter>
  <numblades> 2 </numblades>
  <minpitch> 11 </minpitch>
  <maxpitch> 27 </maxpitch>
  <minrpm>  700 </minrpm>
  <maxrpm> 2700 </maxrpm>

  <table name="C_THRUST" type="internal">
    <tableData>
           11.0    15.0    19.0    23.0    27.0
      0.10  0.0697  0.0808  0.0949  0.1058  0.0997
      0.15  0.0638  0.0795  0.0901  0.1012  0.1000
      0.20  0.0573  0.0773  0.0861  0.0970  0.1000
      0.25  0.0508  0.0740  0.0826  0.0936  0.0992
      0.30  0.0442  0.0697  0.0793  0.0898  0.0980
      0.35  0.0374  0.0637  0.0763  0.0866  0.0962
      0.40  0.0305  0.0574  0.0739  0.0831  0.0941
      0.45  0.0230  0.0501  0.0700  0.0803  0.0918
      0.50  0.0154  0.0425  0.0655  0.0780  0.0890
      0.55  0.0079  0.0340  0.0586  0.0764  0.0855
      0.60 -0.0010  0.0265  0.0518  0.0727  0.0820
      0.65 -0.0010  0.0188  0.0450  0.0680  0.0786
      0.70 -0.0010  0.0119  0.0380  0.0621  0.0757
      0.75 -0.0010  0.0043  0.0309  0.0556  0.0735
      0.80 -0.0010 -0.0010  0.0238  0.0488  0.0702
      0.85 -0.0010 -0.0010  0.0165  0.0422  0.0658
      0.90 -0.0010 -0.0010  0.0091  0.0357  0.0600
      0.95 -0.0010 -0.0010  0.0018  0.0287  0.0546
      1.00 -0.0010 -0.0010 -0.0010  0.0216  0.0489
      1.05 -0.0010 -0.0010 -0.0010  0.0154  0.0428
      1.10 -0.0010 -0.0010 -0.0010  0.0080  0.0356
      1.15 -0.0010 -0.0010 -0.0010 -0.0010  0.0290
      1.20 -0.0010 -0.0010 -0.0010 -0.0010  0.0218
      1.25 -0.0010 -0.0010 -0.0010 -0.0010  0.0147
      1.30 -0.0010 -0.0010 -0.0010 -0.0010  0.0080
      1.35 -0.0010 -0.0010 -0.0010 -0.0010 -0.0010
    </tableData>
  </table>

  <table name="C_POWER" type="internal">
    <tableData>
           11.0    15.0    19.0    23.0    27.0
      0.10  0.0269  0.0408  0.0704  0.0980  0.1132
      0.15  0.0260  0.0410  0.0652  0.0935  0.1128
      0.20  0.0249  0.0403  0.0607  0.0890  0.1123
      0.25  0.0234  0.0397  0.0560  0.0848  0.1118
      0.30  0.0215  0.0383  0.0533  0.0809  0.1100
      0.35  0.0196  0.0372  0.0514  0.0771  0.1076
      0.40  0.0172  0.0354  0.0504  0.0734  0.1049
      0.45  0.0142  0.0325  0.0493  0.0698  0.1019
      0.50  0.0109  0.0290  0.0479  0.0676  0.0981
      0.55  0.0069  0.0247  0.0446  0.0661  0.0939
      0.60  0.0000  0.0206  0.0412  0.0640  0.0891
      0.65  0.0000  0.0162  0.0377  0.0612  0.0851
      0.70  0.0000  0.0118  0.0334  0.0579  0.0818
      0.75  0.0000  0.0070  0.0289  0.0533  0.0793
      0.80  0.0000  0.0000  0.0238  0.0489  0.0764
      0.85  0.0000  0.0000  0.0181  0.0443  0.0732
      0.90  0.0000  0.0000  0.0122  0.0394  0.0684
      0.95  0.0000  0.0000  0.0060  0.0337  0.0645
      1.00  0.0000  0.0000  0.0000  0.0273  0.0600
      1.05  0.0000  0.0000  0.0000  0.0203  0.0547
      1.10  0.0000  0.0000  0.0000  0.0135  0.0477
      1.15  0.0000  0.0000  0.0000  0.0000  0.0410
      1.20  0.0000  0.0000  0.0000  0.0000  0.0326
      1.25  0.0000  0.0000  0.0000  0.0000  0.0245
      1.30  0.0000  0.0000  0.0000  0.0000  0.0160
    </tableData>
  </table>

</propeller>
<?xml version="1.0"?>

<propeller name="Clark Y 0.08 thickness/chord ratio variable pitch">
  <ixx> 1.8 </ixx>
  <diameter unit="IN"> 84.0 </diameter>
  <numblades> 2 </numblades>
  <minpitch> 11 </minpitch>
  <maxpitch> 27 </maxpitch>
  <minrpm>  700 </minrpm>
  <maxrpm> 2700 </maxrpm>

  <table name="C_THRUST" type="internal">
    <tableData>
           11.0    15.0    19.0    23.0    27.0
      0.10  0.0700  0.0815  0.0798  0.0877  0.0990
      0.15  0.0654  0.0802  0.0828  0.0871  0.0963
      0.20  0.0603  0.0782  0.0841  0.0864  0.0940
      0.25  0.0547  0.0761  0.0849  0.0855  0.0917
      0.30  0.0488  0.0716  0.0838  0.0845  0.0896
      0.35  0.0420  0.0666  0.0815  0.0831  0.0875
      0.40  0.0350  0.0605  0.0775  0.0817  0.0855
      0.45  0.0278  0.0545  0.0725  0.0802  0.0838
      0.50  0.0206  0.0470  0.0677  0.0788  0.0819
      0.55  0.0130  0.0382  0.0615  0.0770  0.0805
      0.60  0.0056  0.0297  0.0545  0.0739  0.0800
      0.65 -0.0010  0.0218  0.0472  0.0696  0.0795
      0.70 -0.0010  0.0139  0.0398  0.0640  0.0779
      0.75 -0.0010  0.0070  0.0321  0.0573  0.0752
      0.80 -0.0010 -0.0010  0.0251  0.0508  0.0711
      0.85 -0.0010 -0.0010  0.0175  0.0441  0.0660
      0.90 -0.0010 -0.0010  0.0110  0.0375  0.0602
      0.95 -0.0010 -0.0010  0.0027  0.0308  0.0544
      1.00 -0.0010 -0.0010 -0.0010  0.0240  0.0482
      1.05 -0.0010 -0.0010 -0.0010  0.0172  0.0420
      1.10 -0.0010 -0.0010 -0.0010  0.0106  0.0355
      1.15 -0.0010 -0.0010 -0.0010  0.0040  0.0290
      1.20 -0.0010 -0.0010 -0.0010 -0.0010  0.0222
      1.25 -0.0010 -0.0010 -0.0010 -0.0010  0.0155
      1.30 -0.0010 -0.0010 -0.0010 -0.0010  0.0085
      1.35 -0.0010 -0.0010 -0.0010 -0.0010 -0.0010
    </tableData>
  </table>

  <table name="C_POWER" type="internal">
    <tableData>
           11.0    15.0    19.0    23.0    27.0
      0.10  0.0283  0.0394  0.0558  0.0822  0.1125
      0.15  0.0277  0.0400  0.0554  0.0801  0.1094
      0.20  0.0267  0.0401  0.0550  0.0785  0.1058
      0.25  0.0253  0.0398  0.0543  0.0763  0.1023
      0.30  0.0238  0.0393  0.0535  0.0741  0.0992
      0.35  0.0220  0.0387  0.0525  0.0717  0.0962
      0.40  0.0196  0.0371  0.0514  0.0698  0.0945
      0.45  0.0169  0.0351  0.0500  0.0678  0.0918
      0.50  0.0138  0.0319  0.0487  0.0668  0.0890
      0.55  0.0100  0.0272  0.0464  0.0652  0.0865
      0.60  0.0056  0.0225  0.0432  0.0637  0.0850
      0.65  0.0000  0.0179  0.0393  0.0619  0.0837
      0.70  0.0000  0.0128  0.0350  0.0590  0.0820
      0.75  0.0000  0.0077  0.0298  0.0552  0.0797
      0.80  0.0000  0.0000  0.0249  0.0512  0.0766
      0.85  0.0000  0.0000  0.0191  0.0465  0.0729
      0.90  0.0000  0.0000  0.0139  0.0414  0.0688
      0.95  0.0000  0.0000  0.0080  0.0357  0.0642
      1.00  0.0000  0.0000  0.0000  0.0299  0.0591
      1.05  0.0000  0.0000  0.0000  0.0244  0.0535
      1.10  0.0000  0.0000  0.0000  0.0185  0.0473
      1.15  0.0000  0.0000  0.0000  0.0155  0.0405
      1.20  0.0000  0.0000  0.0000  0.0000  0.0333
      1.25  0.0000  0.0000  0.0000  0.0000  0.0254
      1.30  0.0000  0.0000  0.0000  0.0000  0.0177
    </tableData>
  </table>

</propeller>
<?xml version="1.0"?>
<!--
  converted from a file generated by Aero-Matic v 0.3
-->

<propeller name="prop">
  <ixx> 3.79106 </ixx>
  <diameter unit="IN"> 144.0 </diameter>
  <numblades> 6 </numblades>
  <minpitch> 10 </minpitch>
  <maxpitch> 30 </maxpitch>
  <minrpm>  700 </minrpm>
  <maxrpm> 2700 </maxrpm>

  <table name="C_THRUST" type="internal">
    <tableData>
           10      30
      0.0  0.07488 0.0936
      0.1  0.07416 0.0927
      0.2  0.07344 0.0918
      0.3  0.07272 0.0909
      0.4  0.06625 0.0828
      0.5  0.05904 0.0738
      0.6  0.05040 0.0630
      0.7  0.03920 0.0490
      0.8  0.02880 0.0360
      0.9  0.01600 0.0200
      1.0  0.00320 0.0040
    </tableData>
  </table>

  <table name="C_POWER" type="internal">
    <tableData>
           10      30
      0.0  0.02287 0.10395
      0.1  0.02252 0.10237
      0.2  0.02217 0.10080
      0.3  0.02148 0.09765
      0.4  0.02079 0.09450
      0.5  0.02009 0.09135
      0.6  0.01905 0.08662
      0.7  0.01663 0.07560
      0.8  0.01316 0.05985
      0.9  0.00866 0.03937
      1.0  0.00346 0.01575
    </tableData>
  </table>

</propeller>
<?xml version="1.0"?>
<!--

  ZLT NT-07 airship flight model for JSBSim.

    Copyright (C) 2008 - 2010  Anders Gidenstam  (anders(at)gidenstam.org)
    This file is licensed under the GPL license version 2 or later.
-->
<propeller name="Hoffman HO-V373()-D variable pitch">

 <documentation>
   Data according to [FAA:2008:P30BO]:
     #blades                3
     Weight                81.6 lb
     Diameter               2.70m
     Maximum continous/Take-off
       RPM               1250
       HP                 200
     Blade twist limits (0.2 to 1.0 radius) 0 - 50 deg
     Pitch change rate:   +35 to -25 deg
     Spinner weight         4.0 lb
 </documentation>
 <documentation>
   JavaProp: (Designed for Vne at max pitch.
              Other data generated by modifying pitch -10 and -15 deg.)
     #blades 3
     n          1200 RPM
     D          2.70 m
     Spinner D  0.20 m
     Velocity   36.011111 m/s
     Power      134225.98 W

   Airfoil
     Clark Y, Re=500000
     Clark Y, Re=500000
     Clark Y, Re=500000
     Flat plate, Re=500000

   v/(nD)	0.667	v/(ΩR)	0.212
   Efficiency η	73.427 %	loading	medium
   Thrust  T	2,736.84 N	Ct	0.1054
   Power  P	134.22 kW	Cp	0.0958
   β at 75%R	21.9°	Pitch H	2.55 m
 </documentation>
 <documentation>
   The intertia is assumed to be
     n * 1/3*m_b*(d^2)/4
   where
     n is the number of blades,
     m_b is the mass of a blade and
     d is the diameter.

   2/3 of the total propeller weight is assumed to be in the blades.
 </documentation>

 <ixx> 33.168879 </ixx>
 <diameter unit="M"> 2.700 </diameter>
 <numblades> 3 </numblades>
 <gearratio> 2.16 </gearratio>
 <minpitch> -25 </minpitch>
 <maxpitch>  35 </maxpitch>

 <ct_factor> 1.00 </ct_factor>
 <cp_factor> 0.85 </cp_factor> <!-- Tweak -->

 <table name="C_THRUST" type="internal"> <!-- -0.00100 = NA -->
  <tableData>
           -25.0     -20.00      0.00     20.00     25.00     35.00
   0.00000  -0.14081  -0.11035  -0.00100   0.11035   0.14081   0.16647
   0.05000  -0.14738  -0.11248  -0.00100   0.11248   0.14738   0.15436
   0.10000  -0.14444  -0.08987  -0.00100   0.08987   0.14444   0.17284
   0.15000  -0.12447  -0.06553  -0.00100   0.06553   0.12447   0.17288
   0.20000  -0.10031  -0.05007  -0.00100   0.05007   0.10031   0.16874
   0.25000  -0.08937  -0.04022  -0.00100   0.04022   0.08937   0.16626
   0.30000  -0.07940  -0.02937  -0.00100   0.02937   0.07940   0.16239
   0.35000  -0.06841  -0.01752  -0.00100   0.01752   0.06841   0.15921
   0.40000  -0.05648  -0.00483  -0.00100   0.00483   0.05648   0.15505
   0.45000  -0.04372  -0.00100  -0.00100  -0.00848   0.04372   0.14971
   0.50000  -0.03032  -0.00100  -0.00100  -0.02185   0.03032   0.14325
   0.55000  -0.01629  -0.00100  -0.00100  -0.03522   0.01629   0.13459
   0.60000  -0.00162  -0.00100  -0.00100  -0.04859   0.00162   0.12266
   0.65000  -0.00100  -0.00100  -0.00100  -0.06196  -0.01336   0.10985
   0.70000  -0.00100  -0.00100  -0.00100  -0.07533  -0.02834   0.09663
   0.75000  -0.00100  -0.00100  -0.00100  -0.08870  -0.04332   0.08302
   0.80000  -0.00100  -0.00100  -0.00100  -0.10207  -0.05830   0.06899
   0.85000  -0.00100  -0.00100  -0.00100  -0.11544  -0.07328   0.05456
   0.90000  -0.00100  -0.00100  -0.00100  -0.12881  -0.08826   0.03975
   0.95000  -0.00100  -0.00100  -0.00100  -0.14218  -0.10324   0.02456
   1.00000  -0.00100  -0.00100  -0.00100  -0.15555  -0.11822   0.00895
   1.05000  -0.00100  -0.00100  -0.00100  -0.16892  -0.13320  -0.00708
   1.10000  -0.00100  -0.00100  -0.00100  -0.18229  -0.14818  -0.02311
   1.15000  -0.00100  -0.00100  -0.00100  -0.19566  -0.16316  -0.03913
   1.20000  -0.00100  -0.00100  -0.00100  -0.20903  -0.17814  -0.05516
   1.25000  -0.00100  -0.00100  -0.00100  -0.22240  -0.19312  -0.07118
   1.30000  -0.00100  -0.00100  -0.00100  -0.23577  -0.20810  -0.08721
  </tableData>
 </table>

 <table name="C_POWER" type="internal"> <!-- 0.00 = NA. 0 pitch is a guess. -->
  <tableData>
           -25.0     -20.00      0.00     20.00     25.00     35.00
   0.00000   0.05405   0.03050   0.00560   0.03050   0.05405   0.13006
   0.05000   0.04904   0.02772   0.00560   0.02772   0.04904   0.11229
   0.10000   0.05310   0.02933   0.00560   0.02933   0.05310   0.12663
   0.15000   0.05315   0.02731   0.00560   0.02731   0.05315   0.12920
   0.20000   0.04981   0.02441   0.00560   0.02441   0.04981   0.12939
   0.25000   0.04713   0.02204   0.00560   0.02204   0.04713   0.12312
   0.30000   0.04410   0.01903   0.00560   0.01903   0.04410   0.12054
   0.35000   0.04031   0.01528   0.00560   0.01528   0.04031   0.12003
   0.40000   0.03568   0.01075   0.00560   0.01075   0.03568   0.11922
   0.45000   0.03028   0.01000   0.00560   0.01000   0.03028   0.11789
   0.50000   0.02405   0.01000   0.00560   0.01000   0.02405   0.11594
   0.55000   0.01690   0.01000   0.00560   0.01000   0.01690   0.11245
   0.60000   0.00875   0.01000   0.00560   0.01000   0.00875   0.10613
   0.65000   0.01000   0.01000   0.00560   0.01000   0.01000   0.09854
   0.70000   0.01000   0.01000   0.00560   0.01000   0.01000   0.08999
   0.75000   0.01000   0.01000   0.00560   0.01000   0.01000   0.08045
   0.80000   0.01000   0.01000   0.00560   0.01000   0.01000   0.06988
   0.85000   0.01000   0.01000   0.00560   0.01000   0.01000   0.05824
   0.90000   0.01000   0.01000   0.00560   0.01000   0.01000   0.04553
   0.95000   0.01000   0.01000   0.00560   0.01000   0.01000   0.03177
   1.00000   0.01000   0.01000   0.00560   0.01000   0.01000   0.01691
   1.05000   0.01000   0.01000   0.00560   0.01000   0.01000   0.01000
   1.10000   0.01000   0.01000   0.00560   0.01000   0.01000   0.01000
   1.15000   0.01000   0.01000   0.00560   0.01000   0.01000   0.01000
   1.20000   0.01000   0.01000   0.00560   0.01000   0.01000   0.01000
   1.25000   0.01000   0.01000   0.00560   0.01000   0.01000   0.01000
   1.30000   0.01000   0.01000   0.00560   0.01000   0.01000   0.01000
  </tableData>
 </table>

</propeller>
<?xml version="1.0"?>
<!-- Generated by Aero-Matic v 0.8

     Inputs:
                horsepower: 1200
                     pitch: variable
            max engine rpm: 2500
        prop diameter (ft): 11.583333333333

     Outputs:
              max prop rpm:1619.83
                gear ratio:   1.54
                       Cp0:0.067641
                       Ct0:0.058172
       static thrust (lbs):1815.06
-->

<propeller name="prop">
  <ixx>35 </ixx>
  <diameter unit="IN">139.0 </diameter>
  <numblades> 3 </numblades>
  <gearratio>1.54 </gearratio>
  <minpitch> 12 </minpitch>
  <maxpitch> 30 </maxpitch>
  <minrpm>   1400 </minrpm>
  <maxrpm>   1700 </maxrpm>
  <ct_factor> 1.20 </ct_factor>
  <cp_factor> 0.80 </cp_factor>
  <table name="C_THRUST" type="internal">
    <tableData>
              12       30
      0.0      0.0582   0.0982
      0.1      0.0533   0.0982
      0.2      0.0485   0.0982
      0.3      0.0403   0.0977
      0.4      0.0306   0.0972
      0.5      0.0209   0.0959
      0.6      0.0090   0.0908
      0.7     -0.0008   0.0817
      0.8     -0.0172   0.0725
      1.0     -0.0373   0.0482
      1.2     -0.0611   0.0257
      1.4     -0.0835   0.0019
      1.6     -0.1094  -0.0211
      1.8     -0.1338  -0.0440
      2.0     -0.1571  -0.0679
      2.2     -0.1803  -0.0923
      2.4     -0.2036  -0.1168
    </tableData>
  </table>

  <table name="C_POWER" type="internal">
    <tableData>
              12       30
      0.0      0.0676   0.1276
      0.1      0.0676   0.1276
      0.2      0.0645   0.1276
      0.3      0.0613   0.1276
      0.4      0.0539   0.1276
      0.5      0.0444   0.1262
      0.6      0.0359   0.1248
      0.7      0.0212   0.1220
      0.8      0.0085   0.1163
      1.0     -0.0254   0.0950
      1.2     -0.0739   0.0638
      1.4     -0.1373   0.0319
      1.6     -0.2029  -0.0028
      1.8     -0.2706  -0.0779
      2.0     -0.3382  -0.1557
      2.2     -0.4058  -0.2336
      2.4     -0.4735  -0.3114
    </tableData>
  </table>

</propeller>
<?xml version="1.0"?>

<propeller name="Fixed-Pitch 75-inch Two-Blade Propeller">
  <ixx> 1.67 </ixx>
  <diameter unit="IN"> 75.0 </diameter>
  <numblades> 2 </numblades>
  <minpitch> 22 </minpitch>
  <maxpitch> 22 </maxpitch>

  <!--table name="C_THRUST" type="internal">
    <tableData>
      0.0   0.068
      0.1   0.068
      0.2   0.067
      0.3   0.066
      0.4   0.064
      0.5   0.061
      0.6   0.057
      0.7   0.050
      0.8   0.040
      0.9   0.029
      1.0   0.019
      1.1   0.008
      1.2   -0.001
      1.3   -0.008
      1.4   -0.019
      1.5   -0.029
      1.6   -0.040
      1.7   -0.050
      1.8   -0.057
      1.9   -0.061
      2.0   -0.064
      2.1   -0.066
      2.2   -0.067
      2.3   -0.068
      5.0   -0.068
    </tableData>
  </table-->

  <table name="C_THRUST" type="internal">
    <tableData>
      0.0   0.073
      0.1   0.073
      0.2   0.072
      0.3   0.071
      0.4   0.069
      0.5   0.066
      0.6   0.062
      0.7   0.055
      0.8   0.045
      0.9   0.034
      1.0   0.024
      1.1   0.013
      1.2   -0.006
      1.3   -0.013
      1.4   -0.024
      1.5   -0.034
      1.6   -0.045
      1.7   -0.055
      1.8   -0.062
      1.9   -0.066
      2.0   -0.069
      2.1   -0.071
      2.2   -0.072
      2.3   -0.073
      5.0   -0.073
    </tableData>
  </table>

  <!--table name="C_POWER" type = "internal">
    <tableData>
      0.0   0.0580
      0.1   0.0620
      0.2   0.0600
      0.3   0.0580
      0.4   0.0520
      0.5   0.0450
      0.6   0.0421
      0.7   0.0389
      0.8   0.0346
      0.9   0.0280
      1.0   0.0202
      1.1   0.0111
      1.2   0.0075
      1.3   0.0111
      1.4   0.0202
      1.5   0.0280
      1.6   0.0346
      1.7   0.0389
      1.8   0.0421
      1.9   0.0436
      2.0   0.0445
      2.1   0.0445
      2.2   0.0442
      2.3   0.0431
      2.4   0.0424
      5.0   0.0413
    </tableData>
  </table-->

  <table name="C_POWER" type = "internal">
    <tableData>
      0.0   0.0660
      0.1   0.0700
      0.2   0.0700
      0.3   0.0660
      0.4   0.0600
      0.5   0.0530
      0.6   0.0501
      0.7   0.0469
      0.8   0.0426
      0.9   0.0360
      1.0   0.0282
      1.1   0.0191
      1.2   0.0155
      1.3   0.0191
      1.4   0.0282
      1.5   0.0360
      1.6   0.0426
      1.7   0.0469
      1.8   0.0501
      1.9   0.0516
      2.0   0.0525
      2.1   0.0525
      2.2   0.0522
      2.3   0.0511
      2.4   0.0504
      5.0   0.0493
    </tableData>
  </table>

<!-- thrust effects of helical tip Mach -->
<table name="CT_MACH" type="internal">
  <tableData>
    0.85   1.0
    1.05   0.8
  </tableData>
</table>

<!-- power-required effects of helical tip Mach -->
<table name="CP_MACH" type="internal">
  <tableData>
    0.85   1.0
    1.05   1.8
    2.00   1.4
  </tableData>
</table>

</propeller>
<?xml version="1.0"?>

<propeller name="81 inch 2 blade variable-pitch propeller">
  <ixx> 1.67 </ixx>
  <diameter unit="IN"> 81.0 </diameter>
  <numblades> 2 </numblades>
  <minpitch> 17.0 </minpitch>
  <maxpitch> 31.8 </maxpitch>
  <minrpm>    900 </minrpm>
  <maxrpm>   2400 </maxrpm>

  <table name="C_THRUST" type="internal">
    <tableData>
           17.0    21.0    26.0    32.0
      0.10  0.0818  0.0910  0.0870  0.0950
      0.15  0.0795  0.0910  0.0882  0.0933
      0.20  0.0770  0.0900  0.0889  0.0925
      0.25  0.0742  0.0884  0.0890  0.0915
      0.30  0.0702  0.0860  0.0890  0.0908
      0.35  0.0660  0.0832  0.0886  0.0898
      0.40  0.0612  0.0801  0.0880  0.0888
      0.45  0.0560  0.0757  0.0864  0.0882
      0.50  0.0500  0.0708  0.0845  0.0880
      0.55  0.0416  0.0655  0.0817  0.0877
      0.60  0.0330  0.0591  0.0780  0.0870
      0.65  0.0248  0.0520  0.0732  0.0858
      0.70  0.0175  0.0450  0.0672  0.0830
      0.75  0.0105  0.0368  0.0610  0.0800
      0.80 -0.0010  0.0294  0.0547  0.0752
      0.85 -0.0010  0.0224  0.0483  0.0703
      0.90 -0.0010 -0.0010  0.0416  0.0651
      0.95 -0.0010 -0.0010  0.0349  0.0591
      1.00 -0.0010 -0.0010  0.0280  0.0530
      1.05 -0.0010 -0.0010  0.0211  0.0467
      1.10 -0.0010 -0.0010  0.0142  0.0402
      1.15 -0.0010 -0.0010  0.0072  0.0337
      1.20 -0.0010 -0.0010 -0.0010  0.0270
      1.25 -0.0010 -0.0010 -0.0010  0.0201
      1.30 -0.0010 -0.0010 -0.0010  0.0130
      1.35 -0.0010 -0.0010 -0.0010  0.0056
      1.40 -0.0010 -0.0010 -0.0010 -0.0010
    </tableData>
  </table>

  <table name="C_POWER" type="internal">
    <tableData>
           17.0    21.0    26.0    32.0
      0.10  0.0400  0.0520  0.0769  0.1055
      0.15  0.0400  0.0521  0.0755  0.1029
      0.20  0.0400  0.0523  0.0740  0.1000
      0.25  0.0400  0.0525  0.0720  0.0972
      0.30  0.0397  0.0526  0.0695  0.0950
      0.35  0.0392  0.0527  0.0676  0.0922
      0.40  0.0384  0.0528  0.0663  0.0900
      0.45  0.0370  0.0523  0.0656  0.0880
      0.50  0.0348  0.0513  0.0658  0.0863
      0.55  0.0302  0.0498  0.0659  0.0852
      0.60  0.0255  0.0472  0.0656  0.0839
      0.65  0.0208  0.0436  0.0646  0.0835
      0.70  0.0164  0.0394  0.0620  0.0822
      0.75  0.0115  0.0345  0.0588  0.0814
      0.80  0.0000  0.0294  0.0551  0.0791
      0.85  0.0000  0.0238  0.0510  0.0766
      0.90  0.0000  0.0000  0.0461  0.0739
      0.95  0.0000  0.0000  0.0408  0.0700
      1.00  0.0000  0.0000  0.0349  0.0652
      1.05  0.0000  0.0000  0.0284  0.0597
      1.10  0.0000  0.0000  0.0214  0.0536
      1.15  0.0000  0.0000  0.0140  0.0469
      1.20  0.0000  0.0000  0.0000  0.0398
      1.25  0.0000  0.0000  0.0000  0.0321
      1.30  0.0000  0.0000  0.0000  0.0240
      1.35  0.0000  0.0000  0.0000  0.0157
    </tableData>
  </table>

</propeller>
<?xml version="1.0"?>
<propeller name="Simulated Clark Y Airfoil McCauley 7570 Propeller">
  <ixx>       1.8 </ixx>
  <diameter unit="IN"> 75   </diameter>
  <numblades> 2   </numblades>
  <minpitch> 21.6 </minpitch>
  <maxpitch> 21.6 </maxpitch>
  <table name="C_THRUST" type="internal">
    <tableData>
      0.0   0.108
      0.2   0.104
      0.4   0.100
      0.6   0.080
      0.8   0.052
      1.0   0.020
      1.11  0.000
    </tableData>
  </table>
  <table name="C_POWER" type="internal">
    <tableData>
      0.0   0.080
      0.2   0.075
      0.4   0.069
      0.6   0.061
      0.8   0.050
      1.0   0.022
      1.11  0.000
    </tableData>
  </table>
</propeller>
<?xml version="1.0"?>
<!-- Generated by Aero-Matic v 0.8

     Inputs:
                horsepower: 680
                     pitch: variable
            max engine rpm: 2700
        prop diameter (ft): 8

     Outputs:
              max prop rpm:2345.38
                gear ratio:   1.15
                       Cp0:0.080358
                       Ct0:0.069107
       static thrust (lbs):1028.53
-->

<propeller name="prop">
  <ixx> 7.9504 </ixx>
  <diameter unit="IN"> 96.0 </diameter>
  <numblades> 4 </numblades>
  <gearratio>1.15 </gearratio>
  <minpitch> 12 </minpitch>
  <maxpitch> 30 </maxpitch>
  <minrpm>   1994 </minrpm>
  <maxrpm>   2345 </maxrpm>

  <table name="C_THRUST" type="internal">
      <tableData>
                12         30
       0.0      0.0691   0.1091
       0.1      0.0634   0.1091
       0.2      0.0576   0.1091
       0.3      0.0478   0.1086
       0.4      0.0364   0.1080
       0.5      0.0248   0.1066
       0.6      0.0106   0.1009
       0.7      -0.0009   0.0908
       0.8      -0.0204   0.0805
       1.0      -0.0443   0.0536
       1.2      -0.0726   0.0286
       1.4      -0.0992   0.0021
       1.6      -0.1299   -0.0235
       1.8      -0.1589   -0.0489
       2.0      -0.1866   -0.0755
       2.2      -0.2142   -0.1026
       2.4      -0.2419   -0.1298
      </tableData>
  </table>

  <table name="C_POWER" type="internal">
     <tableData>
                12         30
       0.0      0.0804   0.1404
       0.1      0.0804   0.1404
       0.2      0.0766   0.1404
       0.3      0.0728   0.1404
       0.4      0.0640   0.1404
       0.5      0.0527   0.1388
       0.6      0.0427   0.1373
       0.7      0.0252   0.1342
       0.8      0.0100   0.1279
       1.0      -0.0301   0.1044
       1.2      -0.0878   0.0702
       1.4      -0.1631   0.0351
       1.6      -0.2411   -0.0031
       1.8      -0.3214   -0.0856
       2.0      -0.4018   -0.1712
       2.2      -0.4821   -0.2569
       2.4      -0.5625   -0.3425
     </tableData>
  </table>

</propeller>


<?xml version="1.0"?>
<!-- Generated by Aero-Matic v 0.8

     Inputs:
                horsepower: 85.5
                     pitch: fixed
            max engine rpm: 1350
        prop diameter (ft): 9

     Outputs:
              max prop rpm:2084.78
                gear ratio:   0.65
                       Cp0:0.007983
                       Ct0:0.006866
       static thrust (lbs): 129.32
-->
<!--
   From [AHT,
   http://www.aht.ndirect.co.uk/airships/Technical%20Spec/SSZ%20Airship.htm]:

    Propeller               Four-bladed 9 feet diameter
-->
<propeller name="prop">
  <ixx> 5.6600 </ixx>
  <diameter unit="IN">108.0 </diameter>
  <numblades> 4 </numblades>
  <gearratio>1.0</gearratio>

  <table name="C_THRUST" type="internal">
     <tableData>
   0.00000   0.02622
   0.10000   0.02508
   0.20000   0.02394
   0.30000   0.02204
   0.40000   0.01976
   0.50000   0.01748
   0.60000   0.01406
   0.70000   0.01064
   0.80000   0.00570
   1.00000  -0.00190
   1.20000  -0.01026
   1.40000  -0.01862
     </tableData>
  </table>

  <table name="C_POWER" type="internal">
     <tableData>
   0.00000   0.02400
   0.10000   0.02400
   0.20000   0.02340
   0.30000   0.02280
   0.40000   0.02160
   0.50000   0.01980
   0.60000   0.01800
   0.70000   0.01530
   0.80000   0.01230
   1.00000   0.00450
   1.20000  -0.00720
   1.40000  -0.02130
     </tableData>
  </table>

</propeller>
<?xml version="1.0"?>
<!--
  Short Empire flying boat flight model for JSBSim.

  Copyright (C) 2009 - 2012  Anders Gidenstam  (anders(at)gidenstam.org)
  This file is licensed under the GPL license version 2 or later.
-->
<propeller name="deHavilland5000">

 <documentation>
   Propeller data from [Cassidy:2004:FE]:
   - Two pitch settings: FINE and COARSE
   - in FINE pitch for take-off - 13 280 lb. thrust total at 20 knots
   - "The airscrews fitted initially to all the 'boats were de Havilland 5000
      series 2 position variable pitch units of 12 ft. 9 ins. diameter with a
      pitch of approximately 14 ft (4.63 m.). ... each weighing 365 lb. ..."
 </documentation>
 <documentation>
   JavaProp:
     Designed for 172 knots (maximum speed in level flight)
     at 920 HP and 2600 (engine) RPM at coarse pitch (1.0).
     Fine pitch (0.0) is design pitch (=28) -8 deg (a guess) and tweaked for
     higher thrust at 20 knots (ct*1.25 and cp*1.1).

     #blades 3
     n          1300 RPM
     D          3.8862 m
     Spinner D  0.30 m
     Velocity   88.484444 m/s
     Power      686043.88 W
     Weight     365 lb

   Airfoil
     Flat plate, Re=500000
     Flat plate, Re=500000
     Flat plate, Re=500000
     Flat plate, Re=500000

 </documentation>
 <documentation>
   The intertia is assumed to be
     n * 1/3*m_b*(d^2)/4
   where
     n is the number of blades,
     m_b is the mass of a blade and
     d is the diameter.

   2/3 of the total propeller weight is assumed to be in the blades.
 </documentation>

 <ixx unit="SLUG*FT2">102.46</ixx>
 <diameter unit="IN">153.0 </diameter>
 <numblades> 3 </numblades>
 <gearratio>2.0 </gearratio>
 <minpitch> 20.0 </minpitch>
 <maxpitch> 28.0 </maxpitch>

 <ct_factor> 1.0 </ct_factor>
 <cp_factor> 1.0 </cp_factor>

 <table name="C_THRUST" type="internal">
  <tableData>
             20.0      28.0
   0.00000   0.13633   0.12411
   0.05000   0.14529   0.12036
   0.10000   0.14006   0.13547
   0.15000   0.13689   0.13422
   0.20000   0.13508   0.13216
   0.25000   0.13201   0.13057
   0.30000   0.12837   0.12572
   0.35000   0.12360   0.12470
   0.40000   0.11796   0.12240
   0.45000   0.11050   0.11896
   0.50000   0.10185   0.11535
   0.55000   0.09220   0.11159
   0.60000   0.08139   0.10791
   0.65000   0.06838   0.10500
   0.70000   0.05429   0.10378
   0.75000   0.03963   0.10212
   0.80000   0.02449   0.09888
   0.85000   0.00888   0.09162
   0.90000  -0.00734   0.08184
   0.95000  -0.02379   0.07085
   1.00000  -0.04024   0.05963
   1.05000  -0.05669   0.04818
   1.10000  -0.07314   0.03648
   1.15000  -0.08959   0.02453
   1.20000  -0.10604   0.01234
   1.25000  -0.12249  -0.00022
   1.30000  -0.13894  -0.01301
   1.35000  -0.15539  -0.02577
   1.40000  -0.17184  -0.03852
   1.45000  -0.18829  -0.05128
   1.50000  -0.20474  -0.06403
  </tableData>
 </table>

 <table name="C_POWER" type="internal">
  <tableData>
             20.0      28.0
   0.00000   0.09631   0.14090
   0.05000   0.09388   0.12998
   0.10000   0.10367   0.14556
   0.15000   0.09873   0.14504
   0.20000   0.09619   0.14416
   0.25000   0.09328   0.14333
   0.30000   0.09022   0.14146
   0.35000   0.08497   0.14085
   0.40000   0.08172   0.13981
   0.45000   0.07774   0.13869
   0.50000   0.07233   0.13768
   0.55000   0.06723   0.13681
   0.60000   0.06054   0.13617
   0.65000   0.05308   0.13122
   0.70000   0.04438   0.12150
   0.75000   0.03468   0.11481
   0.80000   0.02400   0.10960
   0.85000   0.01243   0.10366
   0.90000   0.00000   0.09532
   0.95000  -0.01280   0.08529
   1.00000  -0.02560   0.07437
   1.05000  -0.03841   0.06253
   1.10000  -0.05121   0.04977
   1.15000  -0.06402   0.03608
   1.20000  -0.07682   0.02150
   1.25000  -0.08962   0.00600
   1.30000  -0.10243  -0.00992
   1.35000  -0.11523  -0.02581
   1.40000  -0.12804  -0.04169
   1.45000  -0.14084  -0.05758
   1.50000  -0.15364  -0.07346
  </tableData>
 </table>

 <!-- thrust effects of helical tip Mach -->
 <table name="CT_MACH" type="internal">
  <tableData>
   0.85   1.0
   1.05   0.8
  </tableData>
 </table>

 <!-- power-required effects of helical tip Mach -->
 <table name="CP_MACH" type="internal">
  <tableData>
   0.85   1.0
   1.05   1.8
   2.00   1.4
  </tableData>
 </table>

</propeller>
<?xml version="1.0"?>

<propeller name="generic2f">
  <ixx> 1.8 </ixx>
  <diameter unit="IN"> 76.0 </diameter>
  <numblades> 2 </numblades>
  <minpitch> 23 </minpitch>
  <maxpitch> 23 </maxpitch>
  <gearratio>0.85 </gearratio>

  <table name="C_THRUST" type="internal">
    <tableData>
      0.0	0.0936
      0.1	0.0927
      0.2	0.0918
      0.3	0.0909
      0.4	0.0828
      0.5	0.0738
      0.6	0.063
      0.7	0.0495
      0.8	0.036
      0.9	0.0198
      1.0	0.0045
      1.04	-0.0009
    </tableData>
  </table>

  <table name="C_POWER" type="internal">
    <tableData>
      0.0	0.0594
      0.1	0.0585
      0.2	0.0576
      0.3	0.0558
      0.4	0.054
      0.5	0.0522
      0.6	0.0495
      0.7	0.0432
      0.8	0.0342
      0.9	0.0225
      1.0	0.009
      1.04	0
    </tableData>
  </table>

</propeller>
<?xml version="1.0"?>

<rotor name="s64_test_rotor">
  <diameter  unit="FT"> 72.0 </diameter>
  <numblades>   6 </numblades>
  <xhub unit="IN">  -13.0 </xhub>
  <yhub unit="IN">    0.0 </yhub>
  <zhub unit="IN">  -89.0 </zhub>
  <nominalrpm> 184.5 </nominalrpm>
  <minrpm>      1 </minrpm>
  <chord unit="IN">26.0</chord>
  <liftcurveslope>5.73</liftcurveslope>
  <flappingmoment unit="SLUG*FT2"> 3500 </flappingmoment>
  <twist unit="RAD">-0.183</twist>
  <massmoment Xunit="SLUG*FT">160</massmoment>
  <tiplossfactor>0.97</tiplossfactor>
  <polarmoment unit="SLUG*FT2">23090</polarmoment>
  <inflowlag>0.2</inflowlag>
  <shafttilt unit="RAD"> -0.0524 </shafttilt>
  <hingeoffset unit="FT">2.0</hingeoffset>
  <cantangle unit="RAD">0.0</cantangle>
  <tailrotor>
    <diameter unit="FT"> 16.0 </diameter>
    <numblades>    4 </numblades>
    <xhub unit="IN"> -541.0 </xhub>
    <yhub unit="IN">  -33.0 </yhub>
    <zhub unit="IN">  -87.5 </zhub>
    <nominalrpm>835.6</nominalrpm>
    <chord unit="IN">13.5</chord>
    <liftcurveslope>5.73</liftcurveslope>
    <flappingmoment unit="SLUG*FT2"> 10.2 </flappingmoment>
    <twist unit="RAD">-0.140</twist>
    <massmoment Xunit="SLUG*FT">2.66</massmoment>
    <tiplossfactor>0.92</tiplossfactor>
    <inflowlag>0.2</inflowlag>
    <hingeoffset unit="IN">5.0</hingeoffset>
    <cantangle unit="RAD">0.78</cantangle>
  </tailrotor>

  <cgroundeffect>0.28</cgroundeffect>
  <groundeffectshift unit="IN">180</groundeffectshift>

</rotor>
<?xml version="1.0"?>
<!--
  File:     t56.xml
  Author:   Aero-Matic v 0.8

  Inputs:
    name:           t56
    type:           turboprop
    power:          4500 hp
    augmented?      no
    injected?       no
-->

<turbine_engine name="t56">
  <milthrust>   10080.00 </milthrust>
  <tsfc>            0.55 </tsfc>
  <idlen2>         60.0  </idlen2>
  <maxn2>         100.0  </maxn2>
  <augmented>         0  </augmented>
  <injected>          0  </injected>

  <function name="IdleThrust">
   <table>
    <independentVar lookup="row">velocities/mach</independentVar>
    <independentVar lookup="column">atmosphere/density-altitude</independentVar>
    <tableData>
         -10000       0   10000   20000   30000   40000   50000   60000
     0.0  0.0430  0.0488  0.0528  0.0694  0.0899  0.1183  0.1467  0.0
     0.2  0.0500  0.0501  0.0335  0.0544  0.0797  0.1049  0.1342  0.0
     0.4  0.0040  0.0047  0.0020  0.0272  0.0595  0.0891  0.1203  0.0
     0.6  0.0     0.0     0.0     0.0276  0.0718  0.0430  0.0     0.0
     0.8  0.0     0.0     0.0     0.0     0.0174  0.0086  0.0     0.0
     1.0  0.0     0.0     0.0     0.0     0.0     0.0     0.0     0.0
   </tableData>
   </table>
  </function>

  <function name="MilThrust">
   <table>
    <independentVar lookup="row">velocities/mach</independentVar>
    <independentVar lookup="column">atmosphere/density-altitude</independentVar>
    <tableData>
         -10000       0   10000   20000   30000   40000   50000   60000
     0.0  1.1260  1.0000  0.7400  0.5340  0.3720  0.2410  0.1490  0.0
     0.2  1.1000  0.9340  0.6970  0.5060  0.3550  0.2310  0.1430  0.0
     0.4  1.0000  0.6410  0.6120  0.4060  0.3570  0.2330  0.1450  0.0
     0.6  0.4430  0.3510  0.2710  0.2020  0.1780  0.1020  0.0640  0.0
     0.8  0.0240  0.0200  0.0160  0.0130  0.0110  0.0100  0.0     0.0
     1.0  0.0     0.0     0.0     0.0     0.0     0.0     0.0     0.0
    </tableData>
   </table>
  </function>

</turbine_engine>
<?xml version="1.0"?>
<!--
  Converted from a file generated by Aero-Matic v 0.7
-->

<propeller name="prop">
  <ixx> 3.79106 </ixx>
  <diameter unit="IN"> 165.0 </diameter>
  <numblades> 4 </numblades>
  <minpitch> 10.0 </minpitch>
  <maxpitch> 30.0 </maxpitch>
  <minrpm>    700 </minrpm>
  <maxrpm>   1400 </maxrpm>

  <table name="C_THRUST" type="internal">
    <tableData>
           10      30
      0.0  0.07488 0.0936
      0.1  0.07416 0.0927
      0.2  0.07344 0.0918
      0.3  0.07272 0.0909
      0.4  0.06625 0.0828
      0.5  0.05904 0.0738
      0.6  0.05040 0.0630
      0.7  0.03920 0.0490
      0.8  0.02880 0.0360
      0.9  0.01600 0.0200
      1.0  0.00320 0.0040
    </tableData>
  </table>

  <table name="C_POWER" type="internal">
    <tableData>
           10      30
      0.0  0.02287 0.10395
      0.1  0.02252 0.10237
      0.2  0.02217 0.10080
      0.3  0.02148 0.09765
      0.4  0.02079 0.09450
      0.5  0.02009 0.09135
      0.6  0.01905 0.08662
      0.7  0.01663 0.07560
      0.8  0.01316 0.05985
      0.9  0.00866 0.03937
      1.0  0.00346 0.01575
    </tableData>
  </table>

</propeller>
<?xml version="1.0" encoding="ISO-8859-1"?>
 
<turbine_engine name="avco_lycoming_t53_l_703">
  <milthrust> 3320 </milthrust> <!-- 1483 shp  via *= 2.24 ~ 3320 lbf  -->
  <bypassratio>     0.0  </bypassratio>
  <tsfc>            0.60 </tsfc>

  <bleed>           0.001 </bleed>
  <idlen1>         30.0  </idlen1>
  <idlen2>         60.0  </idlen2>
  <maxn1>         100.0  </maxn1>
  <maxn2>         100.0  </maxn2>
  <augmented>         0  </augmented>
  <injected>          0  </injected>

  <function name="IdleThrust">
   <table>
    <independentVar lookup="row">velocities/mach</independentVar>
    <independentVar lookup="column">atmosphere/density-altitude</independentVar>
    <tableData>
         -10000       0   10000   20000   30000   40000   50000   60000
     0.0  0.0430  0.0488  0.0528  0.0694  0.0899  0.1183  0.1467  0.0
     0.2  0.0500  0.0501  0.0335  0.0544  0.0797  0.1049  0.1342  0.0
     0.4  0.0040  0.0047  0.0020  0.0272  0.0595  0.0891  0.1203  0.0
     0.6  0.0     0.0     0.0     0.0276  0.0718  0.0430  0.0     0.0
     0.8  0.0     0.0     0.0     0.0     0.0174  0.0086  0.0     0.0
     1.0  0.0     0.0     0.0     0.0     0.0     0.0     0.0     0.0
   </tableData>
   </table>
  </function>

  <function name="MilThrust">
   <table>
    <independentVar lookup="row">velocities/mach</independentVar>
    <independentVar lookup="column">atmosphere/density-altitude</independentVar>
    <tableData>
         -10000       0   10000   20000   30000   40000   50000   60000
     0.0  1.1260  1.0000  0.7400  0.5340  0.3720  0.2410  0.1490  0.0
     0.2  1.1000  0.9340  0.6970  0.5060  0.3550  0.2310  0.1430  0.0
     0.4  1.0000  0.6410  0.6120  0.4060  0.3570  0.2330  0.1450  0.0
     0.6  0.4430  0.3510  0.2710  0.2020  0.1780  0.1020  0.0640  0.0 
     0.8  0.0240  0.0200  0.0160  0.0130  0.0110  0.0100  0.0     0.0
     1.0  0.0     0.0     0.0     0.0     0.0     0.0     0.0     0.0
    </tableData>
   </table>
  </function>

</turbine_engine>
<?xml version="1.0"?>

<turbine_engine name="trent_1000">
  <milthrust> 66500 	</milthrust>
  <bypassratio>     11	</bypassratio>
  <tsfc>            0.27 	</tsfc>
  <bleed>           0.04	</bleed>
  <idlen1>         30.0 	</idlen1>
  <idlen2>         60.0 	</idlen2>
  <maxn1>         100.0 	</maxn1>
  <maxn2>         100.0 	</maxn2>
  <augmented>         0 	</augmented>
  <injected>          0 	</injected>

  <function name="IdleThrust">
   <table>
    <independentVar lookup="row">velocities/mach</independentVar>
    <independentVar lookup="column">atmosphere/density-altitude</independentVar>
    <tableData>
         -10000     0     10000   20000   30000   40000   50000   60000
     0.0  0.0430  0.0488  0.0528  0.0694  0.0899  0.1183  0.1467  0
     0.2  0.0500  0.0501  0.0335  0.0544  0.0797  0.1049  0.1342  0
     0.4  0.0040  0.0047  0.0020  0.0272  0.0595  0.0891  0.1203  0
     0.6  0.0     0.0     0.0     0.0     0.0276  0.0718  0.1073  0
     0.8  0.0     0.0     0.0     0.0     0.0474  0.0868  0.0900  0
     1.0  0.0     0.0     0.0     0.0     0.0     0.0552  0.0800  0
    </tableData>
   </table>
  </function>

  <function name="MilThrust">
   <table>
    <independentVar lookup="row">velocities/mach</independentVar>
    <independentVar lookup="column">atmosphere/density-altitude</independentVar>
    <tableData>
          -10000       0   10000   20000   30000   40000   50000   60000
     0.0   1.2600  1.0000  0.7400  0.5340  0.3720  0.2410  0.1490  0
     0.2   1.1710  0.9340  0.6970  0.5060  0.3550  0.2310  0.1430  0
     0.4   1.1500  0.9210  0.6920  0.5060  0.3570  0.2330  0.1450  0
     0.6   1.1810  0.9510  0.7210  0.5320  0.3780  0.2480  0.1540  0
     0.8   1.2580  0.9000  0.7020  0.5220  0.3770  0.2750  0.1700  0
     1.0   1.3690  1.1000  0.8510  0.6410  0.4550  0.3050  0.1960  0
     1.2   1.4850  1.2300  0.9750  0.7440  0.5450  0.3640  0.2250  0
     1.4   1.5941  1.3400  1.0860  0.8450  0.6280  0.4240  0.2630  0
    </tableData>
   </table>
  </function>

</turbine_engine>

<?xml version="1.0" encoding="ISO-8859-1"?>

<!--
   raw approximation of the Pratt & Whitney T73 or Pratt & Whitney JFTD12 family
   4,500 shp each
 -->    
<turbine_engine name="pratt_n_whitney_t73">
  <milthrust> 20160.00 </milthrust> <!-- estimate via *= 2.24 -->
  <bypassratio>     0.0   </bypassratio>
  <tsfc>            0.60  </tsfc>
  <bleed>           0.001 </bleed>
  <idlen1>         30.0   </idlen1>
  <idlen2>         60.0   </idlen2>
  <maxn1>         100.0   </maxn1>
  <maxn2>         100.0   </maxn2>
  <augmented>         0   </augmented>
  <injected>          0   </injected>

  <function name="IdleThrust">
   <table>
    <independentVar lookup="row">velocities/mach</independentVar>
    <independentVar lookup="column">atmosphere/density-altitude</independentVar>
    <tableData>
         -10000       0   10000   20000   30000   40000   50000   60000
     0.0  0.0430  0.0488  0.0528  0.0694  0.0899  0.1183  0.1467  0.0
     0.2  0.0500  0.0501  0.0335  0.0544  0.0797  0.1049  0.1342  0.0
     0.4  0.0040  0.0047  0.0020  0.0272  0.0595  0.0891  0.1203  0.0
     0.6  0.0     0.0     0.0     0.0276  0.0718  0.0430  0.0     0.0
     0.8  0.0     0.0     0.0     0.0     0.0174  0.0086  0.0     0.0
     1.0  0.0     0.0     0.0     0.0     0.0     0.0     0.0     0.0
   </tableData>
   </table>
  </function>

  <function name="MilThrust">
   <table>
    <independentVar lookup="row">velocities/mach</independentVar>
    <independentVar lookup="column">atmosphere/density-altitude</independentVar>
    <tableData>
         -10000       0   10000   20000   30000   40000   50000   60000
     0.0  1.1260  1.0000  0.7400  0.5340  0.3720  0.2410  0.1490  0.0
     0.2  1.1000  0.9340  0.6970  0.5060  0.3550  0.2310  0.1430  0.0
     0.4  1.0000  0.6410  0.6120  0.4060  0.3570  0.2330  0.1450  0.0
     0.6  0.4430  0.3510  0.2710  0.2020  0.1780  0.1020  0.0640  0.0
     0.8  0.0240  0.0200  0.0160  0.0130  0.0110  0.0100  0.0     0.0
     1.0  0.0     0.0     0.0     0.0     0.0     0.0     0.0     0.0
    </tableData>
   </table>
  </function>

</turbine_engine>
<?xml version="1.0"?>
<!--
     Inputs:
       horsepower:   750.96
       pitch:        variable

     Outputs:
       linear-blade-inches: 145.23934177763

     NAS druhy pokus o vrtuli
-->

<propeller name="prop">
  <ixx>        2.8432943206787 </ixx>
  <diameter>   99 </diameter>
  <numblades>  3 </numblades>
  <minpitch>   15 </minpitch>
  <maxpitch>   83  </maxpitch>
  <reversepitch> -18 </reversepitch>
  <minrpm>    1600 </minrpm>
  <maxrpm>    2080 </maxrpm>
  <table name="C_THRUST" type="internal">
    <tableData>
        -20	-10	-5	0	5	10	15	20	25	30	35	40	45	50	55	60	83
      0	-0.0320	-0.0160	-0.0010	0.0140	0.0368	0.0680	0.1000	0.1360	0.1460	0.1360	0.1160	0.0960	0.0700	0.0620	0.0600	0.0480	0.0010
      0.2	-0.0380	-0.0260	-0.0160	-0.0020	0.0200	0.0500	0.0840	0.1180	0.1440	0.1408	0.1264	0.1120	0.0880	0.0772	0.0732	0.0560	0.0010
      0.4	-0.0420	-0.0360	-0.0300	-0.0220	-0.0004	0.0260	0.0600	0.0960	0.1320	0.1480	0.1370	0.1260	0.1040	0.0920	0.0860	0.0660	0.0010
      0.6	-0.0560	-0.0540	-0.0520	-0.0440	-0.0300	-0.0020	0.0320	0.0680	0.1060	0.1408	0.1404	0.1400	0.1200	0.1064	0.0980	0.0760	0.0010
      0.8	-0.0688	-0.0680	-0.0660	-0.0600	-0.0520	-0.0340	0.0000	0.0400	0.0800	0.1200	0.1360	0.1520	0.1360	0.1200	0.1112	0.0892	0.0010
      1	-0.0772	-0.0752	-0.0740	-0.0720	-0.0680	-0.0580	-0.0340	0.0076	0.0480	0.0920	0.1180	0.1440	0.1500	0.1348	0.1240	0.1020	0.0010
      1.2	-0.0920	-0.0880	-0.0840	-0.0820	-0.0800	-0.0740	-0.0600	-0.0320	0.0160	0.0600	0.0920	0.1240	0.1540	0.1488	0.1360	0.1140	0.0010
      1.4	-0.1060	-0.1020	-0.0980	-0.0920	-0.0892	-0.0860	-0.0764	-0.0592	-0.0200	0.0280	0.0646	0.1012	0.1460	0.1616	0.1480	0.1272	0.0010
      1.6	-0.1240	-0.1160	-0.1120	-0.1060	-0.1008	-0.0972	-0.0904	-0.0800	-0.0556	-0.0044	0.0342	0.0728	0.1240	0.1608	0.1600	0.1400	0.0010
      1.8	-0.1440	-0.1340	-0.1320	-0.1260	-0.1148	-0.1096	-0.1040	-0.0960	-0.0800	-0.0408	0.0016	0.0440	0.0960	0.1472	0.1708	0.1520	0.0010
      2	-0.1840	-0.1600	-0.1560	-0.1440	-0.1320	-0.1240	-0.1160	-0.1080	-0.0968	-0.0720	-0.0300	0.0120	0.0692	0.1240	0.1680	0.1640	0.0010
      2.2	-0.2400	-0.2080	-0.1920	-0.1600	-0.1548	-0.1416	-0.1312	-0.1228	-0.1116	-0.0920	-0.0568	-0.0216	0.0460	0.1012	0.1548	0.1760	0.0010
      2.4	-0.3200	-0.2720	-0.2400	-0.1880	-0.1840	-0.1640	-0.1488	-0.1380	-0.1256	-0.1100	-0.0784	-0.0468	0.0140	0.0768	0.1360	0.1868	0.0010
    </tableData>
  </table>

  <table name="C_POWER" type="internal">
    <tableData>
        -20	-10	-5	0	5	10	15	20	25	30	35	40	45	50	55	83
      0.0	0.0336	0.0113	0.0030	0.0044	0.0076	0.0150	0.0264	0.0400	0.0516	0.0640	0.0770	0.0904	0.1034	0.1166	0.1330	0.5
      0.2	0.0426	0.0138	0.0036	0.0040	0.0064	0.0130	0.0240	0.0390	0.0540	0.0654	0.0780	0.0920	0.1050	0.1184	0.1360	0.5
      0.4	0.0510	0.0160	0.0050	0.0036	0.0400	0.0094	0.0200	0.0358	0.0550	0.0694	0.0816	0.0944	0.1070	0.1220	0.1400	0.5
      0.6	0.0636	0.0250	0.0124	0.0040	0.0000	0.0030	0.0134	0.0292	0.0500	0.0740	0.0866	0.0980	0.1104	0.1270	0.1460	0.5
      0.8	0.0795	0.0388	0.0180	0.0066	-0.0020	-0.0046	0.0034	0.0200	0.0420	0.0688	0.0940	0.1060	0.1174	0.1334	0.1520	0.5
      1.0	0.0915	0.0483	0.0240	0.1060	-0.0016	-0.0100	-0.0090	0.0060	0.0290	0.0580	0.0904	0.1156	0.1276	0.1430	0.1630	0.5
      1.2	0.1035	0.0583	0.0324	0.0160	0.0010	-0.0114	-0.0184	-0.0116	0.0120	0.0424	0.0776	0.1174	0.1410	0.1540	0.1720	0.5
      1.4	0.1155	0.0683	0.0400	0.0224	0.0050	-0.0100	-0.0220	-0.0264	-0.0090	0.0240	0.0640	0.1090	0.1494	0.1670	0.1844	0.5
      1.6	0.1275	0.0783	0.0480	0.0300	0.0106	-0.0070	-0.0228	-0.0340	-0.0306	0.0000	0.0440	0.0934	0.1470	0.1820	0.2000	0.5
      1.8	0.1395	0.0883	0.0560	0.0360	0.0160	-0.0040	-0.0220	-0.0370	-0.0450	-0.0280	0.0180	0.0730	0.1320	0.1900	0.2160	0.5
      2.0	0.1515	0.0983	0.0640	0.0420	0.0220	-0.0010	-0.0208	-0.0380	-0.0520	-0.0516	-0.0120	0.0480	0.1140	0.1840	0.2346	0.5
      2.2	0.1635	0.1083	0.0720	0.0490	0.0280	0.0014	-0.0192	-0.0380	-0.0560	-0.0642	-0.0436	0.0200	0.0944	0.1680	0.2444	0.5
      2.4	0.1755	0.1183	0.0800	0.0560	0.0360	0.0080	-0.0178	-0.0380	-0.0590	-0.0740	-0.0690	-0.0156	0.0640	0.1492	0.2400	0.5
    </tableData>
  </table>
</propeller>
<?xml version="1.0"?>
<!--
  File:     wright1903.xml
  Author:   Aero-Matic v 0.82

  Inputs:
    name:           wright1903
    type:           piston
    power:          12 hp
    augmented?      no
    injected?       no
-->

<!--
 Sources:
 http://www.wright-brothers.org/Information_Desk/Just_the_Facts/Engines_&_Props/1903_Engine.htm
 http://www.wright-brothers.org/Information_Desk/Help_with_Homework/Help_with_Homework_Intro/Flyer_Specifications_11x17.pdf
 http://www.gutenberg.org/files/38739/38739-h/38739-h.htm

 Specifications:

    Cylinders: 4
    Stroke: 4 in (10.2 cm)
    Bore: 4 in (10.2 cm)
    Displacement: 201 in3 (3.3 l3)
    Horsepower: 12
    Ignition: Make-and-brake powered by low-tension (10-volt) magneto.
    Unique features: Aluminum block, no carburetor.
    Weight of engine: 152 lbs (68.95 kg)
    Weight of magneto: 18 lbs (8.16 kg)

 "The completed engine weighed 180 pounds and developed 12 horsepower at 1,025 revolutions per minute. [It actually produced nearly 16 hp when it was first started, by this dropped to 12 hp as the engine heated up.]
-->

<piston_engine name="Wright 1903">
  <minmp unit="INHG">         12.0 </minmp>
  <maxmp unit="INHG">         29.0 </maxmp>
  <displacement unit="IN3"> 201.0 </displacement>	<!-- Flyer -->
  <maxhp>        16.00 </maxhp>				<!-- Flyer -->
  <!--bsfc>           0.45 </bsfc-->
  <cycles>         4.0 </cycles>			<!-- Flyer -->
  <idlerpm>     1050.0 </idlerpm>			<!-- Gutenberg -->
  <maxrpm>      1200.0 </maxrpm>			<!-- Gutenberg -->
  <maxthrottle>    1.0 </maxthrottle><!-- Deprecated -->
  <minthrottle>    0.1 </minthrottle><!-- Deprecated -->
  <sparkfaildrop>  0.0 </sparkfaildrop>
  <stroke unit="IN">  4.0  </stroke>			<!-- Flyer -->
  <bore unit="IN">    4.0 </bore>			<!-- Flyer -->
  <cylinders>         4.0  </cylinders>			<!-- Flyer -->
  <compression-ratio> 4.4 </compression-ratio>		<!-- Gutenberg -->
  <volumetric-efficiency> 0.39 </volumetric-efficiency>	<!-- Gutenberg -->
</piston_engine>
<?xml version="1.0"?>
<!--
 Source:
 "Evolution of Wright Flyer Propellers between 1903 and 1912"
 http://www.wrightexperience.com/pdfs/props.pdf

 "Wright propellers"
 http://www.slideshare.net/RolandBoucher/wright-propellers-rev3-16632071
 - Prop diameter            = 8.5 feet
 - Blade width at tip       = 8 inches
 - Blade twist at tip       = 1.66 degrees
 - Blade area               = 2 sq. ft.
 - Prop speed               = 245 Rpm
 - Speed at C.P.            = 61 mph
 - Normal pressure          = 12.4 lb./sq. ft.
 - Thrust                   = 18.75 lbs.
 - CL = 18.76/24.8          = 0.756
 - Angle of Airfoil #31     = 7.25 deg
 - Measured torque          = 3.5 lbs
 - Measured power           = 0.58 HP
 - L/D of propeller airfoil = 5.4

 1903 WrightFlyer propeller:
 90 lbs. of thrust at  an airspeed of 24 mph with a propeller speed of 330 rpm.
 Calculated torque force of 40 lbs requiring an 8.7. H.P. motor and an estimated
 downwash (throw down) of 7.7 fps, resulting in a pitch angle of 27 degrees to
 yield a 7 degree angle of incidence. Calculated efficiency is 66 percent.

 Tests on the 1903 flyer made in winds of 20 to 25 mph gave thrust at between
 120 lbs and 132 lbs. This was much higher than expected.

 Airpseed  Efficiency    Power    Thrust  Incidence
    24	     66         8.7@330	    90       7.0
   20-25     N/A         12@350    132       N/A
   20-25     N/A         12@350    120       N/A
    24       66          12@370    124      11.6
    30       75        10.6@370    99.8      8.6

 Also:
 http://www.wright-brothers.org/Information_Desk/Just_the_Facts/Engines_&_Props/1903_Props.htm
-->
 

<!-- this version models both propellers -->
<propeller name="wright1903_propellers" version="1.01">
  <ixx>  12.07 </ixx>
  <diameter unit="IN"> 102.0 </diameter>		<!-- Flyer -->
  <numblades> 4 </numblades>				<!-- Flyer -->
  <gearratio>  2.8824 </gearratio>			<!-- Flyer -->
  <p_factor>   8.06 </p_factor>

  <table name="C_THRUST" type="internal">		<!-- aeromatic -->
     <tableData>
       0.0   0.0204
       0.1   0.0196
       0.2   0.0188
       0.3   0.0173
       0.4   0.0155
       0.5   0.0137
       0.6   0.0110
       0.7   0.0084
       0.8   0.0045
       1.0  -0.0015
       1.2  -0.0080
       1.4  -0.0145
     </tableData>
  </table>

  <table name="C_POWER" type="internal">		<!-- aeromatic -->
     <tableData>
       0.0   0.0013
       0.1   0.0013
       0.2   0.0013
       0.3   0.0012
       0.4   0.0012
       0.5   0.0011
       0.6   0.0010
       0.7   0.0008
       0.8   0.0007
       1.0   0.0002
       1.2  -0.0004
       1.4  -0.0011
       1.6  -0.0019
     </tableData>
  </table>

</propeller>

<?xml version="1.0"?>
<!--
  File:     wright1903.xml
  Author:   Aero-Matic v 0.82

  Inputs:
    name:           wright1903
    type:           piston
    power:          12 hp
    augmented?      no
    injected?       no
-->

<!--
 Sources:
 http://www.wright-brothers.org/Information_Desk/Just_the_Facts/Engines_&_Props/1903_Engine.htm
 http://www.wright-brothers.org/Information_Desk/Help_with_Homework/Help_with_Homework_Intro/Flyer_Specifications_11x17.pdf
 http://www.gutenberg.org/files/38739/38739-h/38739-h.htm

 Specifications:

    Cylinders: 4
    Stroke: 4 in (10.2 cm)
    Bore: 4 in (10.2 cm)
    Displacement: 208 in3 (3.4 l)
    Horsepower: 21
    Ignition: Make-and-brake powered by low-tension (10-volt) magneto.
    Unique features: Aluminum block, no carburetor.
    Weight of engine: 152 lbs (68.95 kg)
    Weight of magneto: 18 lbs (8.16 kg)

 "The completed engine weighed 180 pounds and developed 12 horsepower at 1,025 revolutions per minute. [It actually produced nearly 16 hp when it was first started, by this dropped to 12 hp as the engine heated up.]
-->

<piston_engine name="Wright 1903">
  <minmp unit="INHG">         12.0 </minmp>
  <maxmp unit="INHG">         29.0 </maxmp>
  <displacement unit="IN3"> 208.0 </displacement>	<!-- Flyer -->
  <maxhp>        24.00 </maxhp>				<!-- Flyer III -->
  <!--bsfc>           0.45 </bsfc-->
  <cycles>         4.0 </cycles>			<!-- Flyer -->
  <idlerpm>     1050.0 </idlerpm>			<!-- Gutenberg -->
  <maxrpm>      1300.0 </maxrpm>			<!-- Gutenberg -->
  <maxthrottle>    1.0 </maxthrottle><!-- Deprecated -->
  <minthrottle>    0.1 </minthrottle><!-- Deprecated -->
  <sparkfaildrop>  0.0 </sparkfaildrop>
  <stroke unit="IN">  4.0  </stroke>			<!-- Flyer -->
  <bore unit="IN">    4.0 </bore>			<!-- Flyer -->
  <cylinders>         4.0  </cylinders>			<!-- Flyer -->
  <compression-ratio> 4.4 </compression-ratio>		<!-- Gutenberg -->
  <volumetric-efficiency> 0.39 </volumetric-efficiency>	<!-- Gutenberg -->
</piston_engine>
<?xml version="1.0"?>
<nozzle name="X-15 XLR-99 Nozzle">
  <!--
    pe      = Nozzle exit pressure, psf.
    area    = Nozzle exit area, sqft.
  -->
  <pe unit="PSF"> 40.0  </pe>
  <area unit="FT2"> 8.04  </area>
</nozzle>
<?xml version="1.0"?>
<!DOCTYPE system [
  <!ENTITY none  "0"> <!-- No magnetos    -->
  <!ENTITY left  "1"> <!-- Left magnetos  -->
  <!ENTITY right "2"> <!-- Right magnetos -->
  <!ENTITY both  "3"> <!-- Both magnetos  -->
  <!ENTITY wingLevelerMode  "0"> <!-- Roll autopilot: wing leveler mode    -->
  <!ENTITY rollAngleHold    "1"> <!-- Roll autopilot: roll angle hold mode -->
  <!ENTITY waypointHeading  "0"> <!-- Guidance-calculated waypoint heading -->
  <!ENTITY specifiedHeading "1"> <!-- User-specified heading               -->
  <!ENTITY on              "1">
  <!ENTITY off             "0">
]>
<system name="Autopilot"
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xsi:noNamespaceSchemaLocation="http://jsbsim.sourceforge.net/JSBSimSystem.xsd">

<!-- #######################################################################

  Author:   Jon Berndt
  Date:     January 2009
  Function: Autopilot

  Description:

  This file contains general purpose autopilot functions for JSBSim aircraft.
  
  Usage
  =====
  
  This file contains algorithms that depend on parameters calculated in the
  file, GNCUtilities.xml, which should be included prior to the inclusion of
  this file, e.g.,
  
  <system file="GNCUtilities"/>

  <system file="Autopilot"/>
   
  Inputs: 

    [Declared Interface Parameters]
    ap/roll-attitude-mode - This should be set to 0 for wings level or to 1
                            for roll angle hold.
    ap/autopilot-roll-on - this is either 0 (off) or 1. This turns the roll
                           autopilot on or off.

    [Overridable constants]
    guidance/roll-angle-limit = 0.524 (default value in radians)
    guidance/roll-rate-limit = 0.174 (default value in radians)

  Introduced parameters (temporary terms):

  Outputs:
    ap/roll-cmd-norm-output - roll command to the flight control roll channel
                              in a normalized range from -1 to +1.

######################################################################## -->

  <property> ap/roll-attitude-mode </property>
  <property> ap/autopilot-roll-on  </property>
  
  <!-- Initial constants (can be overridden in the aircraft file) -->

  <property value="0.524"> guidance/roll-angle-limit </property>
  <property value="0.174"> guidance/roll-rate-limit </property>

  <property value="0"> ap/roll-angle-saturation </property>

<!-- #################################################################### -->

  <channel name="Heading Hold">

    <switch name="ap/roll-control-autopilot-on">
      <default value="0"/>
      <test value="1">
        ap/autopilot-roll-on ne 0.0
      </test>
    </switch>

    <switch name="ap/roll-autopilot-windup-trigger">
      <default value="1"/>
      <test value="1">
        ap/roll-angle-saturation ne 0.0
      </test>
      <test value="0">
        ap/roll-control-autopilot-on gt 0
      </test>
    </switch>

    <pure_gain name="ap/limited-roll-angle-rad">
      <description>
        This component takes as input the angle to the target heading from
        the current heading, as calculated by the Angle to Heading channel
        in the GNC Utilities system file. The output of this component (stored)
        in the component property "ap/limited-roll-angle-rad" is the roll
        angle command, limited at 30 degrees (0.524 radians), though this can be
        overridden.
      </description>
      <input> guidance/angle-to-heading-rad </input>
      <gain> 1.0 </gain>
      <clipto>
        <min> -guidance/roll-angle-limit </min>
        <max>  guidance/roll-angle-limit </max>
      </clipto>
    </pure_gain>

    <switch name="ap/roll-attitude-selector">
      <description>
        This component selects whether to use a roll angle of "0" - which
        is a wings-level attitude - or to use the roll angle commanded by the 
        ap/limited-roll-angle-rad component, above, which is used to acquire
        and hold a heading.
        Set ap/roll-attitude-mode to 1 for roll angle hold,
                                  to 0 for wings level (roll attitude of zero).
      </description>
      <default value="0"/>
      <test value="ap/limited-roll-angle-rad">
        ap/roll-attitude-mode eq 1
      </test>
    </switch>
    
    <summer name="ap/limited-roll-angle-error">
      <description>
        This component computes the error between the calculated target roll
        angle and the actual roll angle. The output is interpreted as a roll
        rate command.
      </description>
      <input>  ap/roll-attitude-selector </input>
      <input> -attitude/phi-rad </input>
    </summer>

    <pid name="ap/roll-rate-pid-control">
      <input> ap/limited-roll-angle-error </input>
      <kp> 30 </kp>
      <ki> 0.1  </ki>
      <kd> 0.1  </kd>
      <trigger> ap/roll-autopilot-windup-trigger </trigger>
      <clipto>
        <min> -guidance/roll-rate-limit </min>
        <max>  guidance/roll-rate-limit </max>
      </clipto>
    </pid>

    <pure_gain name="ap/total-limited-roll-rate">
      <input>guidance/roll-rate-limit</input>
      <gain>2.0</gain>
    </pure_gain>
    
    <deadband name="ap/roll-rate-saturation">
      <input> ap/roll-rate-pid-control </input>
      <width> ap/total-limited-roll-rate </width>
    </deadband>

    <summer name="ap/limited-roll-rate-error">
      <description>
        This component computes the error between the calculated target roll
        rate and the actual roll rate. The output is interpreted as an aileron
        command.
      </description>
      <input> ap/roll-rate-pid-control </input>
      <input> -velocities/p-aero-rad_sec </input>
    </summer>

    <pid name="ap/roll-command-pid-control">
      <input> ap/limited-roll-rate-error </input>
      <kp>2.5</kp>
      <ki>0.0</ki>
      <kd>0.0</kd>
      <trigger> ap/roll-autopilot-windup-trigger </trigger>
    </pid>

    <lag_filter name="ap/roll-cmd-smoother">
      <input> ap/roll-command-pid-control </input>
      <c1> 100.0 </c1>
    </lag_filter>

    <switch name="ap/roll-cmd-norm-output">
      <default value="0"/>
      <test value="ap/roll-cmd-smoother">
        ap/roll-control-autopilot-on ne 0.0
      </test>
    </switch>

    <switch name="ap/roll-command-selector-steering">
      <default value="0.0"/>
      <test value="ap/roll-cmd-norm-output">
        ap/roll-control-autopilot-on == 1
        gear/unit[0]/WOW == 1
      </test>
      <output>fcs/steer-cmd-norm</output>
    </switch>

  </channel>

</system>
<?xml version="1.0"?>

<!-- This system determines the state of the Boundary Layer Control (BLC)
     system.  The aerodynamic effects of BLC are set in the aircraft
     configuration file <aerodynamics> section, not here.  In order for
     the switch to work properly the number of engine rpm tests should
     match the number of engines installed!
--> 

<system name="BLC">

  <property>systems/BLC/active</property>

  <channel name="Boundary Layer Control">

       <switch name="systems/BLC/switch">
          <default value="0"/>
          <test  logic="AND" value="1">
               fcs/flap-pos-norm gt 0.51
               propulsion/engine[0]/n2 gt 70.0
               propulsion/engine[1]/n2 gt 70.0
          </test>
          <output>systems/BLC/active</output>
       </switch>

  </channel>

</system>
<?xml version="1.0"?>

<system name="FCS-pitch">

  <channel name="Pitch">

   <summer name="Pitch Trim Sum">
      <input>fcs/elevator-cmd-norm</input>
      <input>fcs/pitch-trim-cmd-norm</input>
      <clipto>
        <min> -1 </min>
        <max>  1 </max>
      </clipto>
   </summer>

   <aerosurface_scale name="Elevator Control">
      <input>fcs/pitch-trim-sum</input>
      <range>
        <min> -0.35 </min>
        <max>  0.30 </max>
      </range>
      <output>fcs/elevator-pos-rad</output>
   </aerosurface_scale>

   <aerosurface_scale name="elevator normalized">
      <input>fcs/elevator-pos-rad</input>
      <domain>
        <min>-0.35</min>
        <max> 0.35</max>
      </domain>
      <range>
        <min>-1</min>
        <max> 1</max>
      </range>
      <output>fcs/elevator-pos-norm</output>
   </aerosurface_scale>

  </channel>

</system>
<?xml version="1.0"?>

<system name="FCS-roll">

  <channel name="Roll">

   <summer name="Roll Trim Sum">
      <input>fcs/aileron-cmd-norm</input>
      <input>fcs/roll-trim-cmd-norm</input>
      <clipto>
        <min> -1 </min>
        <max>  1 </max>
      </clipto>
   </summer>

   <aerosurface_scale name="Left Aileron Control">
      <input>fcs/roll-trim-sum</input>
      <range>
        <min> -0.35 </min>
        <max>  0.35 </max>
      </range>
      <output>fcs/left-aileron-pos-rad</output>
   </aerosurface_scale>

   <aerosurface_scale name="Right Aileron Control">
      <input>fcs/roll-trim-sum</input>
      <range>
        <min> -0.35 </min>
        <max>  0.35 </max>
      </range>
      <output>fcs/right-aileron-pos-rad</output>
   </aerosurface_scale>

   <aerosurface_scale name="left aileron normalized">
      <input>fcs/left-aileron-pos-rad</input>
      <domain>
        <min>-0.35</min>
        <max> 0.35</max>
      </domain>
      <range>
        <min>-1</min>
        <max> 1</max>
      </range>
      <output>fcs/left-aileron-pos-norm</output>
   </aerosurface_scale>

   <aerosurface_scale name="right aileron normalized">
      <input>fcs/right-aileron-pos-rad</input>
      <domain>
        <min>-0.35</min>
        <max> 0.35</max>
      </domain>
      <range>
        <min>-1</min>
        <max> 1</max>
      </range>
      <output>fcs/right-aileron-pos-norm</output>
   </aerosurface_scale>

  </channel>

</system>
<?xml version="1.0"?>

<system name="FCS-yaw">

  <channel name="Yaw">

   <summer name="Rudder Command Sum">
      <input>fcs/rudder-cmd-norm</input>
      <input>fcs/yaw-trim-cmd-norm</input>
      <clipto>
        <min> -1.0 </min>
        <max>  1.0 </max>
      </clipto>
   </summer>

   <scheduled_gain name="Yaw Damper Rate">
      <input>velocities/r-aero-rad_sec</input>
      <table>
        <independentVar lookup="row">velocities/ve-kts</independentVar>
         <tableData>
            30     0.00
            60     2.00
         </tableData>
      </table>
   </scheduled_gain>

   <scheduled_gain name="Yaw Damper Beta">
      <input>aero/beta-rad</input>
      <table>
        <independentVar lookup="row">velocities/ve-kts</independentVar>
        <tableData>
           30     0.00
           60     0.00
        </tableData>
      </table>
   </scheduled_gain>

   <summer name="Yaw Damper Sum">
      <input>fcs/yaw-damper-beta</input>
      <input>fcs/yaw-damper-rate</input>
      <clipto>
        <min> -0.1 </min>
        <max>  0.1 </max>
      </clipto>
   </summer>

   <scheduled_gain name="Yaw Damper Final">
      <input>fcs/yaw-damper-sum</input>
      <table>
        <independentVar lookup="row">velocities/ve-kts</independentVar>
        <tableData>
           30         0.0
           31         1.0
        </tableData>
      </table>
   </scheduled_gain>

   <summer name="Rudder Sum">
      <input>fcs/rudder-command-sum</input>
      <input>fcs/yaw-damper-final</input>
      <clipto>
        <min> -1 </min>
        <max>  1 </max>
      </clipto>
   </summer>

   <aerosurface_scale name="Rudder Control">
      <input>fcs/rudder-sum</input>
      <domain>
        <min>-1.0</min>
        <max> 1.0</max>
      </domain>
      <range>
        <min> -0.25 </min>
        <max>  0.25 </max>
      </range>
      <output>fcs/rudder-pos-rad</output>
   </aerosurface_scale>

   <aerosurface_scale name="rudder normalized">
      <input>fcs/rudder-pos-rad</input>
      <domain>
        <min>-0.25</min>
        <max> 0.25</max>
      </domain>
      <range>
        <min>-1</min>
        <max> 1</max>
      </range>
      <output>fcs/rudder-pos-norm</output>
   </aerosurface_scale>

  </channel>

</system>
<?xml version="1.0"?>
<!DOCTYPE system [
  <!ENTITY none  "0"> <!-- No magnetos    -->
  <!ENTITY left  "1"> <!-- Left magnetos  -->
  <!ENTITY right "2"> <!-- Right magnetos -->
  <!ENTITY both  "3"> <!-- Both magnetos  -->
  <!ENTITY wingLevelerMode  "0"> <!-- Roll autopilot: wing leveler mode    -->
  <!ENTITY rollAngleHold    "1"> <!-- Roll autopilot: roll angle hold mode -->
  <!ENTITY waypointHeading  "0"> <!-- Guidance-calculated waypoint heading -->
  <!ENTITY specifiedHeading "1"> <!-- User-specified heading               -->
  <!ENTITY on              "1">
  <!ENTITY off             "0">
]>
<system name="GNC Utilities"
        xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xsi:noNamespaceSchemaLocation="http://jsbsim.sourceforge.net/JSBSimSystem.xsd">

<!-- #######################################################################

  Author:   Jon Berndt
  Date:     January 2009
            June 20 2013 (update)
  Function: Calculates useful GNC values

  Inputs: 
    position/lat-gc-rad (geocentric latitude in radians)
    position/long-gc-rad (longitude in radians)

    [Declared Interface Parameters]
    guidance/target_wp_latitude_rad
    guidance/target_wp_longitude_rad

  Outputs
    guidance/wp-distance (feet)
    guidance/wp-heading-rad (rad)
    guidance/wp-heading-deg (deg)

######################################################################## -->

  <property> guidance/target_wp_latitude_rad </property>
  <property> guidance/target_wp_longitude_rad </property>

  <channel name="Guidance Waypoint Heading Director">

    <waypoint_heading name="guidance/wp-heading-rad" unit="RAD">
      <target_latitude unit="RAD">  guidance/target_wp_latitude_rad </target_latitude>
      <target_longitude unit="RAD"> guidance/target_wp_longitude_rad </target_longitude>
      <source_latitude unit="RAD">  position/lat-geod-rad </source_latitude>
      <source_longitude unit="RAD"> position/long-gc-rad </source_longitude>
    </waypoint_heading>

    <waypoint_distance name="guidance/wp-distance" unit="FT">
      <target_latitude unit="RAD">  guidance/target_wp_latitude_rad </target_latitude>
      <target_longitude unit="RAD"> guidance/target_wp_longitude_rad </target_longitude>
      <source_latitude unit="RAD">  position/lat-geod-rad </source_latitude>
      <source_longitude unit="RAD"> position/long-gc-rad </source_longitude>
    </waypoint_distance>

    <pure_gain name="guidance/wp-heading-deg">
      <input> guidance/wp-heading-rad </input>
      <gain> 57.3 </gain>
    </pure_gain>

  </channel>

<!-- ####################################################################### -->

  <property> navigation/actual-heading-rad </property>
  <property> guidance/specified-heading-rad </property>
  <property> guidance/heading-selector-switch </property>

  <channel name="Included Angle to Heading">

    <switch name="guidance/selected_target_heading">
      <default value="guidance/wp-heading-rad"/>
      <test value="guidance/specified-heading-rad">
        guidance/heading-selector-switch eq 1
      </test>
    </switch>

    <angle name="guidance/angle-to-heading-rad" unit="RAD">
      <source_angle unit="RAD">  navigation/actual-heading-rad </source_angle>
      <target_angle unit="RAD">  guidance/selected_target_heading </target_angle>
    </angle>

  </channel>

<!-- ####################################################################### -->

</system>
<?xml version="1.0"?>

<system name="NWS">

  <property>systems/NWS/engaged</property>

  <channel name="Nose Wheel Steering">

     <scheduled_gain name="systems/NWS/steer-cmd">
      <input>fcs/rudder-cmd-norm</input>
      <table>
        <independentVar lookup="row">systems/NWS/engaged</independentVar>
         <tableData>
            0     -0.1
            1     -1.0
         </tableData>
      </table>
      <output>fcs/steer-cmd-norm</output>
     </scheduled_gain>

  </channel>

</system>
<?xml version="1.0" ?>

<system name="Sensor - Barometer">

    <function name="sensor/baro/time_us">

        <product>

            <property>simulation/sim-time-sec</property>

            <value>1000000.0</value>

        </product>

    </function>

    <function name="sensor/baro/presStatic_true_Pa">

        <product>

            <property>atmosphere/P-psf</property>

            <value>47.88026</value>

        </product>

    </function>

    <function name="sensor/baro/temp_true_C">

        <product>

            <sum>

                <property>atmosphere/T-R</property>

                <value>-491.67</value>

            </sum>

            <value>0.5555555555555556</value>

        </product>

    </function>


    <channel name="Barometer Error Models">

        <sensor name="presStatic_Pa">

            <input>sensor/baro/presStatic_true_Pa</input>

            <lag>0</lag>

            <noise distribution="GAUSSIAN" variation="ABSOLUTE">0.0</noise>

            <drift_rate>0</drift_rate>

            <gain>1</gain>

            <bias>0</bias>

            <delay>0</delay>

            <output>sensor/baro/presStatic_Pa</output>

        </sensor>


        <sensor name="temp_C">

            <input>sensor/baro/temp_true_C</input>

            <lag>0</lag>

            <noise distribution="GAUSSIAN" variation="ABSOLUTE">0.0</noise>

            <drift_rate>0</drift_rate>

            <gain>1</gain>

            <bias>0</bias>

            <delay>0</delay>

            <output>sensor/baro/temp_C</output>

        </sensor>

    </channel>

</system>

<?xml version="1.0" ?>

<system name="Sensor - GPS">

    <function name="sensor/gps/time_us">

        <product>

            <property>simulation/sim-time-sec</property>

            <value>1000000.0</value>

        </product>

    </function>

    <function name="sensor/gps/lat_true_rad">

        <property>position/lat-geod-rad</property>

    </function>

    <function name="sensor/gps/long_true_rad">

        <property>position/long-gc-rad</property>

    </function>

    <function name="sensor/gps/alt_true_m">

        <product>

            <property>position/h-sl-ft</property>

            <value>0.3048</value>

        </product>

    </function>

    <function name="sensor/gps/vNorth_true_mps">

        <product>

            <property>velocities/v-north-fps</property>

            <value>0.3048</value>

        </product>

    </function>

    <function name="sensor/gps/vEast_true_mps">

        <product>

            <property>velocities/v-east-fps</property>

            <value>0.3048</value>

        </product>

    </function>

    <function name="sensor/gps/vDown_true_mps">

        <product>

            <property>velocities/v-down-fps</property>

            <value>0.3048</value>

        </product>

    </function>

    <channel name="GPS Error Models">

        <sensor name="lat_rad">

            <input>sensor/gps/lat_true_rad</input>

            <lag>0</lag>

            <noise distribution="GAUSSIAN" variation="ABSOLUTE">0.0</noise>

            <drift_rate>0</drift_rate>

            <gain>1</gain>

            <bias>0</bias>

            <delay>0</delay>

            <output>sensor/gps/lat_rad</output>

        </sensor>

        <sensor name="long_rad">

            <input>sensor/gps/long_true_rad</input>

            <lag>0</lag>

            <noise distribution="GAUSSIAN" variation="ABSOLUTE">0.0</noise>

            <drift_rate>0</drift_rate>

            <gain>1</gain>

            <bias>0</bias>

            <delay>0</delay>

            <output>sensor/gps/long_rad</output>

        </sensor>

        <sensor name="alt_m">

            <input>sensor/gps/alt_true_m</input>

            <lag>0</lag>

            <noise distribution="GAUSSIAN" variation="ABSOLUTE">0.0</noise>

            <drift_rate>0</drift_rate>

            <gain>1</gain>

            <bias>0</bias>

            <delay>0</delay>

            <output>sensor/gps/alt_m</output>

        </sensor>

        <sensor name="vNorth_mps">

            <input>sensor/gps/vNorth_true_mps</input>

            <lag>0</lag>

            <noise distribution="GAUSSIAN" variation="ABSOLUTE">0.0</noise>

            <drift_rate>0</drift_rate>

            <gain>1</gain>

            <bias>0</bias>

            <delay>0</delay>

            <output>sensor/gps/vNorth_mps</output>

        </sensor>

        <sensor name="vEast_mps">

            <input>sensor/gps/vEast_true_mps</input>

            <lag>0</lag>

            <noise distribution="GAUSSIAN" variation="ABSOLUTE">0.0</noise>

            <drift_rate>0</drift_rate>

            <gain>1</gain>

            <bias>0</bias>

            <delay>0</delay>

            <output>sensor/gps/vEast_mps</output>

        </sensor>

        <sensor name="vDown_mps">

            <input>sensor/gps/vDown_true_mps</input>

            <lag>0</lag>

            <noise distribution="GAUSSIAN" variation="ABSOLUTE">0.0</noise>

            <drift_rate>0</drift_rate>

            <gain>1</gain>

            <bias>0</bias>

            <delay>0</delay>

            <output>sensor/gps/vDown_mps</output>

        </sensor>

    </channel>

</system>

<?xml version="1.0" ?>

<system name="Sensor - IMU">

    <function name="sensor/imu/time_us">

        <product>

            <property>simulation/sim-time-sec</property>

            <value>1000000.0</value>

        </product>

    </function>

    <channel name="Temp Accelerometers">

        <accelerometer name="AccelX">

            <axis>X</axis>

            <location unit="M">

                <x>0</x>

                <y>0</y>

                <z>0</z>

            </location>

            <orientation unit="DEG">

                <roll>0</roll>

                <pitch>0</pitch>

                <yaw>0</yaw>

            </orientation>

            <output>sensor/imu/accelX_true_fps2</output>

        </accelerometer>

        <accelerometer name="AccelY">

            <axis>Y</axis>

            <location unit="M">

                <x>0</x>

                <y>0</y>

                <z>0</z>

            </location>

            <orientation unit="DEG">

                <roll>0</roll>

                <pitch>0</pitch>

                <yaw>0</yaw>

            </orientation>

            <output>sensor/imu/accelY_true_fps2</output>

        </accelerometer>

        <accelerometer name="AccelZ">

            <axis>Z</axis>

            <location unit="M">

                <x>0</x>

                <y>0</y>

                <z>0</z>

            </location>

            <orientation unit="DEG">

                <roll>0</roll>

                <pitch>0</pitch>

                <yaw>0</yaw>

            </orientation>

            <output>sensor/imu/accelZ_true_fps2</output>

        </accelerometer>

    </channel>

    <function name="sensor/imu/accelX_true_mps2">

        <product>

            <property>sensor/imu/accelX_true_fps2</property>

            <value>0.3048</value>

        </product>

    </function>

    <function name="sensor/imu/accelY_true_mps2">

        <product>

            <property>sensor/imu/accelY_true_fps2</property>

            <value>0.3048</value>

        </product>

    </function>

    <function name="sensor/imu/accelZ_true_mps2">

        <product>

            <property>sensor/imu/accelZ_true_fps2</property>

            <value>0.3048</value>

        </product>

    </function>

    <function name="sensor/imu/temp_true_C">

        <product>

            <sum>

                <property>atmosphere/T-R</property>

                <value>-491.67</value>

            </sum>

            <value>0.5555555555555556</value>

        </product>

    </function>


    <channel name="Temperature Error Model">
        <sensor name="temp_C">

            <input>sensor/imu/temp_true_C</input>

            <lag>0</lag>

            <noise distribution="GAUSSIAN" variation="ABSOLUTE">0.0</noise>

            <drift_rate>0</drift_rate>

            <gain>1</gain>

            <bias>0</bias>

            <delay>0</delay>

            <output>sensor/imu/temp_C</output>

        </sensor>

    </channel>

    <channel name="Accelerometer Error Model">

        <sensor name="AccelX">

            <input>sensor/imu/accelX_true_mps2</input>

            <lag>0</lag>

            <noise distribution="GAUSSIAN" variation="ABSOLUTE">0.0</noise>

            <drift_rate>0</drift_rate>

            <gain>1</gain>

            <bias>0</bias>

            <delay>0</delay>

            <output>sensor/imu/accelX_mps2</output>

        </sensor>

        <sensor name="AccelY">

            <input>sensor/imu/accelY_true_mps2</input>

            <lag>0</lag>

            <noise distribution="GAUSSIAN" variation="ABSOLUTE">0.0</noise>

            <drift_rate>0</drift_rate>

            <gain>1</gain>

            <bias>0</bias>

            <delay>0</delay>

            <output>sensor/imu/accelY_mps2</output>

        </sensor>

        <sensor name="AccelZ">

            <input>sensor/imu/accelZ_true_mps2</input>

            <lag>0</lag>

            <noise distribution="GAUSSIAN" variation="ABSOLUTE">0.0</noise>

            <drift_rate>0</drift_rate>

            <gain>1</gain>

            <bias>0</bias>

            <delay>0</delay>

            <output>sensor/imu/accelZ_mps2</output>

        </sensor>

    </channel>

    <channel name="Gyros">

        <gyro name="GyroX">

            <axis>X</axis>

            <orientation unit="DEG">

                <roll>0</roll>

                <pitch>0</pitch>

                <yaw>0</yaw>

            </orientation>

            <lag>0</lag>

            <noise distribution="GAUSSIAN" variation="ABSOLUTE">0.0</noise>

            <drift_rate>0</drift_rate>

            <gain>1</gain>

            <bias>0</bias>

            <delay>0</delay>

            <output>sensor/imu/gyroX_rps</output>

        </gyro>

        <gyro name="GyroY">

            <axis>Y</axis>

            <orientation unit="DEG">

                <roll>0</roll>

                <pitch>0</pitch>

                <yaw>0</yaw>

            </orientation>

            <lag>0</lag>

            <noise distribution="GAUSSIAN" variation="ABSOLUTE">0.0</noise>

            <drift_rate>0</drift_rate>

            <gain>1</gain>

            <bias>0</bias>

            <delay>0</delay>

            <output>sensor/imu/gyroY_rps</output>

        </gyro>

        <gyro name="GyroZ">

            <axis>Z</axis>

            <orientation unit="DEG">

                <roll>0</roll>

                <pitch>0</pitch>

                <yaw>0</yaw>

            </orientation>

            <lag>0</lag>

            <noise distribution="GAUSSIAN" variation="ABSOLUTE">0.0</noise>

            <drift_rate>0</drift_rate>

            <gain>1</gain>

            <bias>0</bias>

            <delay>0</delay>

            <output>sensor/imu/gyroZ_rps</output>

        </gyro>

    </channel>

    <channel name="Magnetometers">

        <magnetometer name="MagX">

            <axis>X</axis>

            <location unit="M">

                <x>0</x>

                <y>0</y>

                <z>0</z>

            </location>

            <orientation unit="DEG">

                <roll>0</roll>

                <pitch>0</pitch>

                <yaw>0</yaw>

            </orientation>

            <lag>0</lag>

            <noise distribution="GAUSSIAN" variation="ABSOLUTE">0.0</noise>

            <drift_rate>0</drift_rate>

            <gain>1</gain>

            <bias>0</bias>

            <delay>0</delay>

            <output>sensor/imu/magX_nT</output>

        </magnetometer>

        <magnetometer name="MagY">

            <axis>Y</axis>

            <location unit="M">

                <x>0</x>

                <y>0</y>

                <z>0</z>

            </location>

            <orientation unit="DEG">

                <roll>0</roll>

                <pitch>0</pitch>

                <yaw>0</yaw>

            </orientation>

            <lag>0</lag>

            <noise distribution="GAUSSIAN" variation="ABSOLUTE">0.0</noise>

            <drift_rate>0</drift_rate>

            <gain>1</gain>

            <bias>0</bias>

            <delay>0</delay>

            <output>sensor/imu/magY_nT</output>

        </magnetometer>

        <magnetometer name="MagZ">

            <axis>Z</axis>

            <location unit="M">

                <x>0</x>

                <y>0</y>

                <z>0</z>

            </location>

            <orientation unit="DEG">

                <roll>0</roll>

                <pitch>0</pitch>

                <yaw>0</yaw>

            </orientation>

            <lag>0</lag>

            <noise distribution="GAUSSIAN" variation="ABSOLUTE">0.0</noise>

            <drift_rate>0</drift_rate>

            <gain>1</gain>

            <bias>0</bias>

            <delay>0</delay>

            <output>sensor/imu/magZ_nT</output>

        </magnetometer>

    </channel>

    <function name="sensor/imu/magX_uT">

        <product>

            <property>sensor/imu/magX_nT</property>

            <value>0.001</value>

        </product>

    </function>

    <function name="sensor/imu/magY_uT">

        <product>

            <property>sensor/imu/magY_nT</property>

            <value>0.001</value>

        </product>

    </function>

    <function name="sensor/imu/magZ_uT">

        <product>

            <property>sensor/imu/magZ_nT</property>

            <value>0.001</value>

        </product>

    </function>

</system>

<?xml version="1.0"?>
<?xml-stylesheet type="text/xsl" href="http://jsbsim.sourceforge.net/JSBSim.xsl"?>
<system name="Sensors">
  <property value="0">fcs/accelerometer/on</property>
  <channel name="accelerometers" execute="fcs/accelerometer/on">
    <accelerometer name="accelerometer_X">
      <location unit="FT">
        <x> 0 </x>
        <y> 0 </y>
        <z> 0 </z>
      </location>
      <axis> X </axis>
      <output> fcs/accelerometer/X </output>
    </accelerometer>
    <accelerometer name="accelerometer_Y">
      <location unit="FT">
        <x> 0 </x>
        <y> 0 </y>
        <z> 0 </z>
      </location>
      <axis> Y </axis>
      <output> fcs/accelerometer/Y </output>
    </accelerometer>
    <accelerometer name="accelerometer_Z">
      <location unit="FT">
        <x> 0 </x>
        <y> 0 </y>
        <z> 0 </z>
      </location>
      <axis> Z </axis>
      <output> fcs/accelerometer/Z </output>
    </accelerometer>
  </channel>
</system>
<?xml version="1.0"?>
<system name="automated flight control">

<!--  ===================================================================
        Automatic flight control system (AFCS)

        Based on the AFCS for the CH-54/S-64 helicopter described in
        /SH79/, eqns. 13-16.

        The system is adjustable via 'ap/afcs/adj/*' properties, it
        offers basic altitude- and heading-hold features, but can 
        also be turned into a pure 'Rate-Damper' (or SAS, 'Stability
        Augmentation System').


        'Altitude-hold' and 'heading-hold' features.

        Setting ap/afcs/adj/altitude-error-ctrl-gain to zero disables
        the altitude-hold feature. When altitude-hold is used the control
        input can be turned to 'h-sl' by setting 'ap/afcs/h-agl-mode'
        to zero.
        The 'ap/afcs/heading-hold-enable' property switches a simple
        'heading-hold' function on or off.


        SH79: Shaugnessy, J. D., Deaux, Thomas N., and Yenni, Kenneth R.;
              Development and Validation of a Piloted Simulation of a 
              Helicopter and External Sling Load - NASA TP-1285; 1979

      ===================================================================  -->


  <!--  ==================
          OUTPUT
        ==================  -->

  <property value="0.0"> ap/rudder-cmd </property>
  <property value="0.0"> ap/aileron-cmd </property>
  <property value="0.0"> ap/elevator-cmd </property>
  <property value="0.0"> ap/collective-cmd </property>


  <!--  ==================
          ROLL CHANNEL
        ==================  -->

  <!-- 'control' parameters -->
  <property value="0.0"> ap/afcs/roll-channel-active-norm </property>
  <property value="0.0"> ap/afcs/phi-trim-rad </property>
  <property value="0.0"> ap/afcs/lateral-trim </property>
  <!-- afcs 'setup' parameters -->
  <property value="0.33"> ap/afcs/adj/lateral-ctrl-gain </property>
  <property value="-0.133"> ap/afcs/adj/roll-err-ctrl-gain </property>
  <property value="-0.096"> ap/afcs/adj/roll-rate-ctrl-gain </property>

  <channel name="afcs-roll">
    <fcs_function name="ap/afcs/lateral-ctrl">
      <function>
        <product>
          <property> ap/afcs/adj/lateral-ctrl-gain </property>
          <difference>
            <property> fcs/lateral-gain </property>
            <property> ap/afcs/lateral-trim </property>
          </difference>
        </product>
      </function>
      <clipto>
        <min> -0.20 </min>
        <max>  0.20 </max>
      </clipto>
    </fcs_function>
    <fcs_function name="ap/afcs/roll-err-ctrl">
      <function>
        <product>
          <property> ap/afcs/adj/roll-err-ctrl-gain </property>
          <difference>
            <property> attitude/phi-rad </property>
            <property> ap/afcs/phi-trim-rad </property>
          </difference>
        </product>
      </function>
      <clipto>
        <min> -0.20 </min>
        <max>  0.20 </max>
      </clipto>
    </fcs_function>
    <fcs_function name="ap/afcs/roll-rate-ctrl">
      <function>
        <product>
          <property> ap/afcs/adj/roll-rate-ctrl-gain </property>
          <property> velocities/p-aero-rad_sec </property>
        </product>
      </function>
      <clipto>
        <min> -0.20 </min>
        <max>  0.20 </max>
      </clipto>
    </fcs_function>
    <fcs_function name="ap/afcs/roll-cmd-sum">
      <function>
        <product>
          <property> ap/afcs/roll-channel-active-norm </property>
          <sum>
            <property> ap/afcs/lateral-ctrl   </property>
            <property> ap/afcs/roll-err-ctrl  </property>
            <property> ap/afcs/roll-rate-ctrl </property>
          </sum>
        </product>
      </function>
      <output> ap/aileron-cmd </output>
    </fcs_function>
  </channel>

  <!--  ==================
          PITCH CHANNEL
        ==================  -->

  <!-- 'control' parameters -->
  <property value="0.0"> ap/afcs/pitch-channel-active-norm </property>
  <property value="0.0"> ap/afcs/theta-trim-rad </property>
  <property value="0.0"> ap/afcs/longitudinal-trim </property>
  <!-- afcs 'setup' parameters -->
  <property value="0.475"> ap/afcs/adj/longitudinal-ctrl-gain </property>
  <property value="0.281"> ap/afcs/adj/pitch-err-ctrl-gain </property>
  <property value="0.727"> ap/afcs/adj/pitch-rate-ctrl-gain </property>

  <channel name="afcs-pitch">
    <fcs_function name="ap/afcs/longitudinal-ctrl">
      <function>
        <product>
          <property> ap/afcs/adj/longitudinal-ctrl-gain </property>
          <difference>
            <property> fcs/longitudinal-gain </property>
            <property> ap/afcs/longitudinal-trim </property>
          </difference>
        </product>
      </function>
      <clipto>
        <min> -0.20 </min>
        <max>  0.20 </max>
      </clipto>
    </fcs_function>
    <fcs_function name="ap/afcs/pitch-err-ctrl">
      <function>
        <product>
          <property> ap/afcs/adj/pitch-err-ctrl-gain </property>
          <difference>
            <property> attitude/theta-rad </property>
            <property> ap/afcs/theta-trim-rad </property>
          </difference>
        </product>
      </function>
      <clipto>
        <min> -0.20 </min>
        <max>  0.20 </max>
      </clipto>
    </fcs_function>
    <fcs_function name="ap/afcs/pitch-rate-ctrl">
      <function>
        <product>
          <property> ap/afcs/adj/pitch-rate-ctrl-gain </property>
          <property> velocities/q-aero-rad_sec </property>
        </product>
      </function>
      <clipto>
        <min> -0.20 </min>
        <max>  0.20 </max>
      </clipto>
    </fcs_function>
    <fcs_function name="ap/afcs/pitch-cmd-sum">
      <function>
        <product>
          <property> ap/afcs/pitch-channel-active-norm </property>
          <sum>
            <property> ap/afcs/longitudinal-ctrl </property>
            <property> ap/afcs/pitch-err-ctrl    </property>
            <property> ap/afcs/pitch-rate-ctrl   </property>
          </sum>
        </product>
      </function>
      <output> ap/elevator-cmd </output>
    </fcs_function>
  </channel>

  <!--  ==================
          YAW CHANNEL
        ==================  -->

  <!-- 'control' parameters -->
  <property value="0.0"> ap/afcs/yaw-channel-active-norm </property>
  <property value="0.0"> ap/afcs/psi-trim-rad </property>
  <!-- afcs 'setup' parameters -->
  <property value="1.0"> ap/afcs/heading-hold-enable </property>
  <property value="0.0"> ap/afcs/adj/yaw-rate-ctrl-gain </property>

  <channel name="afcs-yaw">

    <fcs_function name="ap/afcs/psi-trim-deg">
      <!-- utility -->
      <function>
        <product>
          <value> 57.2958 </value>
          <property> ap/afcs/psi-trim-rad </property>
        </product>
      </function>
    </fcs_function>

    <!-- if zero the pid integrator is enabled -->
    <!-- if negative the pid integrator is reset -->
    <switch name="ap/afcs/yaw-err-pid-inhibit">
      <default value="-1.0"/>
      <test value="0.0"> ap/afcs/yaw-channel-active-norm GT 0.999 </test>
    </switch>

    <fcs_function name="ap/afcs/psi-error-rad">
      <function>
        <sin>
          <difference>
            <property> attitude/psi-rad </property>
            <property> ap/afcs/psi-trim-rad </property>
          </difference>
        </sin>
      </function>
    </fcs_function>

    <pid name="ap/afcs/yaw-err-pid">
      <input> ap/afcs/psi-error-rad </input>
      <kp> 0.33 </kp>
      <ki> 0.0025 </ki>
      <kd> 0.0 </kd>
      <trigger> ap/afcs/yaw-err-pid-inhibit </trigger>
      <clipto>
        <min> -0.25 </min>
        <max>  0.25 </max>
      </clipto>
    </pid>
    <fcs_function name="ap/afcs/yaw-rate-ctrl">
      <function>
        <product>
          <property> ap/afcs/adj/yaw-rate-ctrl-gain </property>
          <property> velocities/r-aero-rad_sec </property>
        </product>
      </function>
      <clipto>
        <min> -0.20 </min>
        <max>  0.20 </max>
      </clipto>
    </fcs_function>
    <fcs_function name="ap/afcs/yaw-cmd-sum">
      <function>
        <product>
          <property> ap/afcs/yaw-channel-active-norm </property>
          <sum>
            <product>
              <property> ap/afcs/heading-hold-enable </property>
              <property> ap/afcs/yaw-err-pid </property>
            </product>
            <property> ap/afcs/yaw-rate-ctrl </property>
          </sum>
        </product>
      </function>
      <output> ap/rudder-cmd </output>
   </fcs_function>

  </channel>

  <!--  =====================
          ALTITUDE CHANNEL
        =====================  -->

  <!-- 'control' parameters -->
  <property value="0.0"> ap/afcs/altitude-channel-active-norm </property>
  <property value="50.0"> ap/afcs/altitude-trim-ft </property>
  <!-- afcs 'setup' parameters -->
  <property value="1.0"> ap/afcs/h-agl-mode </property>
  <property value="-0.00035"> ap/afcs/adj/altitude-error-ctrl-gain </property>
  <property value="0.00"> ap/afcs/adj/altitude-rate-ctrl-gain </property>


  <channel name="afcs-altitude">
    <!-- smooth out terrain jumps -->
    <lag_filter name="position/h-agl-ft-lag">
      <input> position/h-agl-ft </input>
      <c1>    1.0 </c1>
    </lag_filter>

    <switch name="ap/afcs/altitude-input">
      <default value="position/h-sl-ft"/>
      <test value="position/h-agl-ft-lag">
        ap/afcs/h-agl-mode == 1
      </test>
    </switch>

    <fcs_function name="ap/afcs/altitude-error-ctrl">
      <function>
        <product>
          <property> ap/afcs/adj/altitude-error-ctrl-gain </property>
          <difference>
            <property> ap/afcs/altitude-input </property>
            <property> ap/afcs/altitude-trim-ft </property>
          </difference>
        </product>
      </function>
      <clipto>
        <min> -0.40 </min>
        <max>  0.40 </max>
      </clipto>
    </fcs_function>

    <fcs_function name="ap/afcs/altitude-rate-ctrl">
      <function>
        <product>
          <property> ap/afcs/adj/altitude-rate-ctrl-gain </property>
          <property> velocities/h-dot-fps </property><!-- velocities/w-fps ?? -->
        </product>
      </function>
      <clipto>
        <min> -0.40 </min>
        <max>  0.40 </max>
      </clipto>
    </fcs_function>

    <fcs_function name="ap/afcs/collective-cmd-sum">
      <function>
        <product>
          <property> ap/afcs/altitude-channel-active-norm </property>
          <sum>
            <property> ap/afcs/altitude-error-ctrl </property>
            <property> ap/afcs/altitude-rate-ctrl  </property>
          </sum>
        </product>
      </function>
      <output> ap/collective-cmd </output>
    </fcs_function>

  </channel>

</system>

<?xml version="1.0"?>
<!--

  Airship nose cone and main wire mooring system for JSBSim.

    Copyright (C) 2008 - 2023  Anders Gidenstam  (anders(at)gidenstam.org)

    This library is free software; you can redistribute it and/or
    modify it under the terms of the GNU Lesser General Public
    License as published by the Free Software Foundation; either
    version 2.1 of the License, or (at your option) any later version.

    This library is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
    Lesser General Public License for more details.

    You should have received a copy of the GNU Lesser General Public
    License along with this library; if not, write to the Free Software
    Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301
    USA
  
-->
<system name="airship-mooring">

 <description>
  This system models a mast mooring system with a mooring cone connection
  and a mooring wire. The mooring cone MUST be located at the aircraft's
  visual reference point (VRP).

  Usage:

   Include the visual-reference-point-extensions system first.

   Define the following constant properties:
     For the mooring cone connection:
       mooring/mooring-spring-coeff-lbs_ft      [lbs/ft]
       mooring/mooring-damping-coeff-lbs_fps    [lbs*sec/ft]
       mooring/max-mooring-force-lbs            [lbs]

     For the mooring wire:
       mooring/wire-spring-coeff-lbs_ft         [lbs/ft]
       mooring/max-wire-force-lbs               [lbs]
       mooring/max-winch-speed-fps              [ft/sec]

     For the mooring cone connection:
       mooring/mooring-spring-coeff-lbs_ft
       mooring/mooring-damping-coeff-lbs_fps
       mooring/max-mooring-force-lbs

   Define the following external forces:

     <force name="mooring-coupling-north" frame="LOCAL">
      <location unit="M">
       { VRP }
      </location>
      <direction>
       <x> 1.0 </x>
       <y> 0.0 </y>
       <z> 0.0 </z>
      </direction>
     </force>
     <force name="mooring-coupling-east" frame="LOCAL">
      <location unit="M">
       { VRP }
      </location>
      <direction>
       <x> 0.0 </x>
       <y> 1.0 </y>
       <z> 0.0 </z>
      </direction>
     </force>
     <force name="mooring-coupling-down" frame="LOCAL">
      <location unit="M">
       { VRP }
      </location>
      <direction>
       <x> 0.0 </x>
       <y> 0.0 </y>
       <z> 1.0 </z>
      </direction>
     </force>

   The following control the mooring operation:
       mooring/wire-connected          Connect the wire    {0,1.0}
       mooring/winch-speed-fps         Winch speed         [ft/sec]
       mooring/initial-wire-length-ft                      [ft]

   Location of the mooring mast:
       mooring/latitude-deg
       mooring/longitude-deg
       mooring/altitude-ft

 </description>

 <!-- INTERFACE PROPERTIES -->

 <!--  Mooring actions -->
 <property value="0.0"> mooring/wire-connected </property>
 <property value="0.0"> mooring/winch-speed-fps </property>
 <property value="0.0"> mooring/initial-wire-length-ft </property>

 <!--  Mooring mast location. Note: Geodetic latitude and altitude. -->
 <property value="0.0"> mooring/latitude-deg  </property>
 <property value="0.0"> mooring/longitude-deg </property>
 <property value="0.0"> mooring/altitude-ft </property>

 <channel name="Mooring Forces">

   <fcs_function name="mooring/latitude-diff-ft">
    <function>
     <product>
      <property> position/latitude-unit-distance-ft_deg </property>
      <difference>
       <property> mooring/latitude-deg </property>
       <property> position/vrp-latitude-deg </property>
      </difference>
     </product>
    </function>
   </fcs_function>

   <fcs_function name="mooring/longitude-diff-ft">
    <function>
     <product>
      <property> position/longitude-unit-distance-ft_deg </property>
      <difference>
       <property> mooring/longitude-deg </property>
       <property> position/vrp-longitude-deg </property>
      </difference>
     </product>
    </function>
   </fcs_function>

   <fcs_function name="mooring/altitude-diff-ft">
    <function>
     <difference>
      <property> position/vrp-altitude-ft </property>
      <property> mooring/altitude-ft </property>
     </difference>
    </function>
   </fcs_function>

   <fcs_function name="mooring/total-distance-ft">
    <function>
     <pow>
      <sum>
       <pow>
        <property> mooring/latitude-diff-ft </property>
        <value> 2.0 </value>
       </pow>
       <pow>
        <property> mooring/longitude-diff-ft </property>
        <value> 2.0 </value>
       </pow>
       <pow>
        <property> mooring/altitude-diff-ft </property>
        <value> 2.0 </value>
       </pow>
      </sum>
      <value> 0.5 </value>
     </pow>
    </function>
   </fcs_function>

   <switch name="mooring/moored">
    <default value="0.0"/>
    <test logic="AND" value="1.0">
     mooring/wire-connected GE 1.0
     mooring/total-distance-ft LE 5.0
    </test>
   </switch>

   <fcs_function name="mooring/mooring-force-lbs">
    <function>
     <product>
      <property> mooring/moored </property>
      <property> mooring/mooring-spring-coeff-lbs_ft </property>
      <property> mooring/total-distance-ft </property>
     </product>
    </function>
    <clipto>
     <min> 0.0 </min>
     <max> mooring/max-mooring-force-lbs </max>
    </clipto>
   </fcs_function>

   <switch name="mooring/winch-reset">
    <default value="-1.0"/>
    <test logic="AND" value="0.0">
     mooring/wire-connected GT 0.0
    </test>
   </switch>

   <pid name="mooring/wire-length-change-ft">
    <!-- NOTE: The plain integrator component does not reset. -->
    <input> mooring/winch-speed-fps </input>
    <kp>    0.00 </kp>
    <ki>    1.00 </ki>
    <kd>    0.00 </kd>
    <trigger> mooring/winch-reset </trigger>
    <clipto>
     <min>-mooring/initial-wire-length-ft </min>
     <max> 0.0 </max> <!-- Might not be wise. -->
    </clipto>
   </pid>

   <fcs_function name="mooring/wire-length-ft">
    <function>
     <sum>
      <property> mooring/initial-wire-length-ft </property>
      <property> mooring/wire-length-change-ft </property>
     </sum>
    </function>
    <clipto>
     <min> 0.0 </min>
     <max> mooring/initial-wire-length-ft </max> <!-- Might not be wise. -->
    </clipto>
   </fcs_function>

   <fcs_function name="mooring/wire-force-lbs">
    <function>
     <product>
      <property> mooring/wire-connected </property>
      <property> mooring/wire-spring-coeff-lbs_ft </property>
      <max>
       <difference>
        <property> mooring/total-distance-ft </property>
        <property> mooring/wire-length-ft </property>
       </difference>
       <value> 0.0 </value>
      </max>
     </product>
    </function>
    <clipto>
     <min> 0.0 </min>
     <max> mooring/max-wire-force-lbs </max>
    </clipto>
   </fcs_function>

   <fcs_function name="mooring/total-force-lbs">
    <function>
     <sum>
      <property> mooring/wire-force-lbs </property>
      <property> mooring/mooring-force-lbs </property>
     </sum>
    </function>
   </fcs_function>

   <fcs_function name="mooring/force-north-lbs">
    <function>
     <product>
      <property> mooring/wire-connected </property>
      <sum>
       <product>
        <property> mooring/total-force-lbs </property>
        <quotient>
         <property> mooring/latitude-diff-ft </property>
         <property> mooring/total-distance-ft </property>
        </quotient>
       </product>
       <product>
        <property> mooring/moored </property>
        <property> mooring/mooring-damping-coeff-lbs_fps </property>
        <property> velocities/vrp-v-north-fps </property>
       </product>
      </sum>
     </product>
    </function>
    <output> external_reactions/mooring-coupling-north/magnitude </output>
   </fcs_function>

   <fcs_function name="mooring/force-east-lbs">
    <function>
     <product>
      <property> mooring/wire-connected </property>
      <sum>
       <product>
        <property> mooring/total-force-lbs </property>
        <quotient>
         <property> mooring/longitude-diff-ft </property>
         <property> mooring/total-distance-ft </property>
        </quotient>
       </product>
       <product>
        <property> mooring/moored </property>
        <property> mooring/mooring-damping-coeff-lbs_fps </property>
        <property> velocities/vrp-v-east-fps </property>
       </product>
      </sum>
     </product>
    </function>
    <output> external_reactions/mooring-coupling-east/magnitude </output>
   </fcs_function>

   <fcs_function name="mooring/force-down-lbs">
    <function>
     <product>
      <property> mooring/wire-connected </property>
      <sum>
       <product>
        <property> mooring/total-force-lbs </property>
        <quotient>
         <property> mooring/altitude-diff-ft </property>
         <property> mooring/total-distance-ft </property>
        </quotient>
       </product>
       <product>
        <property> mooring/moored </property>
        <property> mooring/mooring-damping-coeff-lbs_fps </property>
        <property> velocities/vrp-v-down-fps </property>
       </product>
      </sum>
     </product>
    </function>
    <output> external_reactions/mooring-coupling-down/magnitude </output>
   </fcs_function>

 </channel>

</system>
<!--

  Airship added/virtual mass model for JSBSim.

    Copyright (C) 2008 - 2023  Anders Gidenstam  (anders(at)gidenstam.org)

    This library is free software; you can redistribute it and/or
    modify it under the terms of the GNU Lesser General Public
    License as published by the Free Software Foundation; either
    version 2.1 of the License, or (at your option) any later version.

    This library is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
    Lesser General Public License for more details.

    You should have received a copy of the GNU Lesser General Public
    License along with this library; if not, write to the Free Software
    Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301
    USA

-->
<system name="added-mass">

 <description>
  This system computes forces and moments due to added/virtual mass.
  The model is based on
  [Max M. Munk, "Aerodynamic forces on airship hulls", NACA report 184, 1924]
  and the introduction in
  [Christopher J. Atkinson, Robert G. Urso, "Modeling of Apparent Mass Effects
   for the Real-Time Simulation of a Hybrid Airship", AIAA Modeling and
   Simulation Technologies Conference, Aug 2006].

  Usage:

  Define the following properties:
    aero/constants/volume-ft3
    aero/constants/length-diameter-ft2          (length^2 + diameter^2)
    aero/constants/added-mass/k-axial           (all three are positive but
    aero/constants/added-mass/k-transverse       can be entered as negative
    aero/constants/added-mass/k-rotational       for backwards compatibility)
    aero/constants/added-mass/tweak-factor      (1.0 is the standard value)

    aero/constants/added-mass/k-traverse        (old misspelling, can be given
                                                 to work with older FlightGear)

  Define the following external forces and moments:

    <force name="added-mass-bx" frame="BODY">
     <location unit="">
      { AERORP }
     </location>
     <direction>
      <x> 1.0 </x>
      <y> 0.0 </y>
      <z> 0.0 </z>
     </direction>
    </force>
    <force name="added-mass-by" frame="BODY">
     <location unit="">
      { AERORP }
     </location>
     <direction>
      <x> 0.0 </x>
      <y> 1.0 </y>
      <z> 0.0 </z>
     </direction>
    </force>
    <force name="added-mass-bz" frame="BODY">
     <location unit="">
      { AERORP }
     </location>
     <direction>
      <x> 0.0 </x>
      <y> 0.0 </y>
      <z> 1.0 </z>
     </direction>
    </force>

    <moment name="added-mass-pitch" frame="BODY" unit="LBSFT">
     <direction>
      <x> 0.0 </x>
      <y> 1.0 </y>
      <z> 0.0 </z>
     </direction>
    </moment>
    <moment name="added-mass-roll" frame="BODY" unit="LBSFT">
     <direction>
      <x> 1.0 </x>
      <y> 0.0 </y>
      <z> 0.0 </z>
     </direction>
    </moment>
    <moment name="added-mass-yaw" frame="BODY" unit="LBSFT">
     <direction>
      <x> 0.0 </x>
      <y> 0.0 </y>
      <z> 1.0 </z>
     </direction>
    </moment>

  The old deprecated force based external moment implementation below is still
  supported.

    <force name="added-mass-pitch[0]" frame="BODY">
     <location unit="">
      <x> AERORP X </x>
      <y> AERORP Y </y>
      <z> AERORP Z - 0.3048 </z>
     </location>
     <direction>
      <x> 1.0 </x>
      <y> 0.0 </y>
      <z> 0.0 </z>
     </direction>
    </force>
    <force name="added-mass-pitch[1]" frame="BODY">
     <location unit="M">
      <x> AERORP X </x>
      <y> AERORP Y </y>
      <z> AERORP Z + 0.3048 </z>
     </location>
     <direction>
      <x> 1.0 </x>
      <y> 0.0 </y>
      <z> 0.0 </z>
     </direction>
    </force>

    <force name="added-mass-yaw[0]" frame="BODY">
     <location unit="M">
      <x> AERORP X </x>
      <y> AERORP Y - 0.3048 </y>
      <z>  0.0 </z>
     </location>
     <direction>
      <x> 1.0 </x>
      <y> 0.0 </y>
      <z> 0.0 </z>
     </direction>
    </force>
    <force name="added-mass-yaw[1]" frame="BODY">
     <location unit="M">
      <x> AERORP X </x>
      <y> AERORP Y + 0.3048 </y>
      <z>  0.0 </z>
     </location>
     <direction>
      <x> 1.0 </x>
      <y> 0.0 </y>
      <z> 0.0 </z>
     </direction>
    </force>

 </description>

 <channel name="startup">

  <!-- Allow the vehicle state to stabilize. -->
  <fcs_function name="aero/added-mass/active">
   <function>
    <min>
     <property> aero/constants/added-mass/tweak-factor </property>
     <max>
      <value> 0.0 </value>
      <difference>
       <property> simulation/sim-time-sec </property>
       <value> 2.0 </value>
      </difference>
     </max>
    </min>
   </function>
  </fcs_function>

 </channel>

 <property>aero/constants/added-mass/k-transverse</property>
 <property>aero/constants/added-mass/k-traverse</property>
 <channel name="backward-compatibility">

  <!-- Allow vehicles still using the old misspelled k-traverse coefficient. -->
  <switch name="aero/constants/added-mass/k-transverse-final">
   <default value="aero/constants/added-mass/k-transverse"/>
   <test logic="AND" value="aero/constants/added-mass/k-transverse">
     aero/constants/added-mass/k-transverse NE 0.0
   </test>
   <test logic="AND" value="aero/constants/added-mass/k-traverse">
     aero/constants/added-mass/k-traverse NE 0.0
   </test>
  </switch>

 </channel>

 <channel name="translational">

  <fcs_function name="aero/added-mass/force-bx-lbs">
   <function>
    <product>
     <value>-1.0</value>
     <property> aero/added-mass/active </property>
     <property> atmosphere/rho-slugs_ft3 </property>
     <abs><property> aero/constants/added-mass/k-axial </property></abs>
     <property> aero/constants/volume-ft3 </property>
     <property> accelerations/udot-ft_sec2 </property>
    </product>
   </function>
   <output> external_reactions/added-mass-bx/magnitude </output>
  </fcs_function>

  <fcs_function name="aero/added-mass/force-by-lbs">
   <function>
    <product>
     <value>-1.0</value>
     <property> aero/added-mass/active </property>
     <property> atmosphere/rho-slugs_ft3 </property>
     <abs><property> aero/constants/added-mass/k-transverse-final </property></abs>
     <property> aero/constants/volume-ft3 </property>
     <property> accelerations/vdot-ft_sec2 </property>
    </product>
   </function>
   <output> external_reactions/added-mass-by/magnitude </output>
  </fcs_function>

  <fcs_function name="aero/added-mass/force-bz-lbs">
   <function>
    <product>
     <value>-1.0</value>
     <property> aero/added-mass/active </property>
     <property> atmosphere/rho-slugs_ft3 </property>
     <abs><property> aero/constants/added-mass/k-transverse-final </property></abs>
     <property> aero/constants/volume-ft3 </property>
     <property> accelerations/wdot-ft_sec2 </property>
    </product>
   </function>
   <output> external_reactions/added-mass-bz/magnitude </output>
  </fcs_function>

 </channel>

 <channel name="rotational">

  <fcs_function name="aero/added-mass/pitch-moment-lbsft">
   <function>
    <product>
     <property> aero/added-mass/active </property>
     <value>-0.05 </value>
     <property> atmosphere/rho-slugs_ft3 </property>
     <abs><property> aero/constants/added-mass/k-rotational </property></abs>
     <property> aero/constants/volume-ft3 </property>
     <property> aero/constants/length-diameter-ft2 </property>
     <property> accelerations/qdot-rad_sec2 </property>
    </product>
   </function>
  </fcs_function>

  <fcs_function name="aero/added-mass/yaw-moment-lbsft">
   <function>
    <product>
     <property> aero/added-mass/active </property>
     <value>-0.05 </value>
     <property> atmosphere/rho-slugs_ft3 </property>
     <abs><property> aero/constants/added-mass/k-rotational </property></abs>
     <property> aero/constants/volume-ft3 </property>
     <property> aero/constants/length-diameter-ft2 </property>
     <property> accelerations/rdot-rad_sec2 </property>
    </product>
   </function>
  </fcs_function>

  <pure_gain name="aero/added-mass/pitch-moment/moment-lbsft">
   <input>aero/added-mass/pitch-moment-lbsft</input>
   <gain>1.0</gain>
   <output>external_reactions/added-mass-pitch/magnitude-lbsft</output>
  </pure_gain>
  <pure_gain name="aero/added-mass/pitch-moment/force-lbs[0]">
   <input> aero/added-mass/pitch-moment-lbsft </input>
   <gain>-0.5</gain>
   <output> external_reactions/added-mass-pitch[0]/magnitude </output>
  </pure_gain>
  <pure_gain name="aero/added-mass/pitch-moment/force-lbs[1]">
   <input> aero/added-mass/pitch-moment-lbsft </input>
   <gain>0.5</gain>
   <output> external_reactions/added-mass-pitch[1]/magnitude </output>
  </pure_gain>

  <pure_gain name="aero/added-mass/yaw-moment/moment-lbsft">
   <input>aero/added-mass/yaw-moment-lbsft</input>
   <gain>1.0</gain>
   <output>external_reactions/added-mass-yaw/magnitude-lbsft</output>
  </pure_gain>
  <pure_gain name="aero/added-mass/yaw-moment/force-lbs[0]">
   <input> aero/added-mass/yaw-moment-lbsft </input>
   <gain>-0.5</gain>
   <output> external_reactions/added-mass-yaw[0]/magnitude </output>
  </pure_gain>
  <pure_gain name="aero/added-mass/yaw-moment/force-lbs[1]">
   <input> aero/added-mass/yaw-moment-lbsft </input>
   <gain>0.5</gain>
   <output> external_reactions/added-mass-yaw[1]/magnitude </output>
  </pure_gain>

 </channel>

</system>
<?xml version="1.0"?>

<system name="alpha_buffet">

  <property>aero/alpha_buffet/hertz</property>
  <property>aero/alpha_buffet/sine_wave</property>

  <channel name="Alpha_Buffet">

       <switch name="enable">
          <default value="0"/>
          <test value="1">
               velocities/ve-kts gt 50
          </test>
          <output>systems/alpha_buffet/enabled</output>
       </switch>

   <scheduled_gain name="Buffet Frequency">
      <input>systems/alpha_buffet/enabled</input>
      <table>
        <independentVar lookup="row">aero/alpha-rad</independentVar>
        <tableData>
           0         0.0
           0.1599    0.0
           0.1600   10.0
           0.26      4.0
        </tableData>
      </table>
      <output>systems/alpha_buffet/hertz</output>
   </scheduled_gain>

   <scheduled_gain name="Buffet Strength">
      <input>systems/alpha_buffet/enabled</input>
      <table>
        <independentVar lookup="row">aero/alpha-rad</independentVar>
        <tableData>
           0           0.0
           0.1599      0.0
           0.1600   1000.0
           0.26     5000.0
        </tableData>
      </table>
      <output>aero/alpha_buffet/strength</output>
   </scheduled_gain>

   <fcs_function name="Sine Wave Generator">
     <function>
       <sin>
         <product>
           <property>systems/alpha_buffet/hertz</property>
           <property>sim-time-sec</property>
           <value>6.283185307</value>
         </product>
       </sin>
     </function>
     <output>aero/alpha_buffet/sine_wave</output>
   </fcs_function>

  </channel>


</system>
<?xml version="1.0"?>

<system name="catapult"
   xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
   xsi:noNamespaceSchemaLocation="http://jsbsim.sourceforge.net/JSBSimSystem.xsd">

  <channel name="Catapult">

       <switch name="systems/catapult/cat-cmd-norm">
          <default value="0"/>
          <test  logic="AND" value="0">
               systems/catapult/cat-pos-norm gt 0.999
          </test>
          <test  logic="AND" value="1">
               systems/catapult/cat-launch-cmd == 1
          </test>
          <output>systems/catapult/cat-launch-cmd</output>
       </switch>

       <kinematic name="systems/catapult/cat-timer">
          <input>systems/catapult/cat-cmd-norm</input>
          <traverse>
              <setting>
                 <position>0.0</position>
                 <time>0.0</time>
              </setting>
              <setting>
                 <position>1.0</position>
                 <time>2.7</time>
              </setting>
          </traverse>
          <output>systems/catapult/cat-pos-norm</output>
       </kinematic>

       <pure_gain name="systems/catapult/cat-force">
          <input>inertia/weight-lbs</input>
          <gain>2.0</gain>
       </pure_gain>

       <switch name="systems/catapult/cat-final">
           <default value="0"/>
           <test  logic="AND" value="systems/catapult/cat-force">
                systems/catapult/cat-launch-cmd == 1
                systems/catapult/cat-pos-norm lt 0.999
                systems/catapult/cat-pos-norm gt 0.0
           </test>
           <output>external_reactions/catapult/magnitude</output>
       </switch>

  </channel>

</system>
<?xml version="1.0"?>

<system name="flaps">

  <channel name="Flaps">

   <kinematic name="Flaps Control">
     <input>fcs/flap-cmd-norm</input>
     <traverse>
       <setting>
          <position>  0 </position>
          <time>      0 </time>
       </setting>
       <setting>
          <position> 0.5</position>
          <time>      4 </time>
       </setting>
       <setting>
          <position>  1</position>
          <time>      5 </time>
       </setting>
     </traverse>
     <output>fcs/flap-pos-norm</output>
   </kinematic>

  </channel>

</system>
<?xml version="1.0"?>

<system name="gear">

  <channel name="Landing Gear">
   <kinematic name="Gear Control">
     <input>gear/gear-cmd-norm</input>
     <traverse>
       <setting>
          <position> 0 </position>
          <time>     0 </time>
       </setting>
       <setting>
          <position> 1 </position>
          <time>     5 </time>
       </setting>
     </traverse>
     <output>gear/gear-pos-norm</output>
   </kinematic>

  </channel>

</system>
<?xml version="1.0"?>

<system name="holdback">

  <property value="0">systems/holdback/holdback-cmd</property>

  <channel name="Holdback_Launchbar">

     <summer name="systems/holdback/total_thrust">
        <input>propulsion/engine/thrust-lbs</input>
        <input>propulsion/engine[1]/thrust-lbs</input>
     </summer>

     <switch name="systems/holdback/switch">
          <default value="0"/>
          <test  logic="AND" value="systems/holdback/total_thrust">
                systems/holdback/holdback-cmd == 1
          </test>
          <output>external_reactions/holdback/magnitude</output>
     </switch>

  </channel>

</system>
<?xml version="1.0"?>

<system name="hook">

  <property>systems/hook/tailhook-cmd-norm</property>
  <property value="4.537">systems/hook/tailhook-length-ft</property>
  <property value="-3.806">systems/hook/tailhook-pos-min-deg</property>
  <property value="53.369">systems/hook/tailhook-pos-max-deg</property>
  <property value="100.669">systems/hook/tailhook-offset-x-in</property>
  <property value=  "0.0">systems/hook/tailhook-offset-y-in</property>
  <property value="-28.818">systems/hook/tailhook-offset-z-in</property>
  <property value="-3.806">systems/hook/tailhook-pos-deg</property>

  <channel name="Hook">

     <kinematic name="systems/hook/tailhook-control">
       <input>systems/hook/tailhook-cmd-norm</input>
       <traverse>
        <setting>
          <position> 0 </position>
          <time>     0 </time>
        </setting>
        <setting>
          <position> 1 </position>
          <time>     1.5 </time>
        </setting>
       </traverse>
       <output>systems/hook/tailhook-pos-norm</output>
     </kinematic>

     <switch name="systems/hook/ready">
          <default value="0"/>
          <test  logic="AND" value="1">
                systems/hook/tailhook-pos-norm gt 0.99
          </test>
     </switch>

     <scheduled_gain name="systems/hook/hook-decel-multiplier">
      <input>systems/hook/ready</input>
      <table>
        <independentVar lookup="row">gear/unit[1]/wheel-speed-fps</independentVar>
         <tableData>
            0     0.00
            1     0.00
            80    2.20
         </tableData>
      </table>
     </scheduled_gain>

     <pure_gain name="systems/hook/hook-decel-force">
        <input>systems/hook/hook-decel-multiplier</input>
        <gain>inertia/weight-lbs</gain>
     </pure_gain>

     <summer name="systems/hook/force">
        <input>systems/hook/hook-decel-force</input>
        <input>forces/fbx-prop-lbs</input>
     </summer>

     <fcs_function name="systems/hook/animation-norm">
       <function>
         <product>
           <sum>
            <property>systems/hook/tailhook-pos-deg</property>
            <value>18</value>
           </sum>
           <value>0.016667</value>
         </product>
       </function>
       <output>gear/tailhook-pos-norm</output>
     </fcs_function>

  </channel>

</system>
<?xml version="1.0"?>
<!--

  Model of hydrodynamic planing based on [Wagner:1933:POW] for JSBSim.

    Copyright (C) 2015 - 2023  Anders Gidenstam  (anders(at)gidenstam.org)

    This library is free software; you can redistribute it and/or
    modify it under the terms of the GNU Lesser General Public
    License as published by the Free Software Foundation; either
    version 2.1 of the License, or (at your option) any later version.

    This library is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
    Lesser General Public License for more details.

    You should have received a copy of the GNU Lesser General Public
    License along with this library; if not, write to the Free Software
    Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301
    USA

-->
<system name="hydrodynamic planing of floats">

 <description>

  This system depends on the generic hydrodynamics.xml system for JSBSim.

  <reference refID="Wagner:1933:POW"
             author="Herbert Wagner"
             title="Planing of Watercraft  Translated as NACA-TM-1139"
             date="1933/1948"/>

 </description>

 <!-- Model parameters -->

 <!-- Parameters defining the planing surfaces of the floats. -->
 <!-- NOTE: Coordinates in the frame with
            origin at hydro RP and x/y/z = aft/right/up
 -->
 <property>hydro/planing-floats/forebody-length-ft[0]</property>
 <property>hydro/planing-floats/forebody-beam-ft[0]</property>
 <property>hydro/planing-floats/forebody-keel-y-ft[0]</property>
 <property>hydro/planing-floats/forebody-keel-z-ft[0]</property>
 <property>hydro/planing-floats/forebody-end-x-ft[0]</property>
 <property>hydro/planing-floats/afterbody-length-ft[0]</property>
 <property>hydro/planing-floats/afterbody-beam-ft[0]</property>
 <property>hydro/planing-floats/afterbody-keel-y-ft[0]</property>
 <property>hydro/planing-floats/afterbody-keel-z-ft[0]</property>
 <property>hydro/planing-floats/afterbody-end-x-ft[0]</property>

 <property>hydro/planing-floats/forebody-length-ft[1]</property>
 <property>hydro/planing-floats/forebody-beam-ft[1]</property>
 <property>hydro/planing-floats/forebody-keel-y-ft[1]</property>
 <property>hydro/planing-floats/forebody-keel-z-ft[1]</property>
 <property>hydro/planing-floats/forebody-end-x-ft[1]</property>
 <property>hydro/planing-floats/afterbody-length-ft[1]</property>
 <property>hydro/planing-floats/afterbody-beam-ft[1]</property>
 <property>hydro/planing-floats/afterbody-keel-y-ft[1]</property>
 <property>hydro/planing-floats/afterbody-keel-z-ft[1]</property>
 <property>hydro/planing-floats/afterbody-end-x-ft[1]</property>

 <!-- Other parameters. -->
 <property value="1.0">hydro/planing-floats/forebody-normal-force-factor[0]</property>
 <property value="1.0">hydro/planing-floats/afterbody-normal-force-factor[0]</property>
 <property>hydro/planing-floats/forebody-skin-friction-coefficient[0]</property>
 <property>hydro/planing-floats/afterbody-skin-friction-coefficient[0]</property>

 <property value="1.0">hydro/planing-floats/forebody-normal-force-factor[1]</property>
 <property value="1.0">hydro/planing-floats/afterbody-normal-force-factor[1]</property>
 <property>hydro/planing-floats/forebody-skin-friction-coefficient[1]</property>
 <property>hydro/planing-floats/afterbody-skin-friction-coefficient[1]</property>

 <channel name="Planing dynamics based on [Wagner:1933:POW]">

  <fcs_function name="hydro/planing-floats/forebody-entry-point-x-ft[0]">
   <function>
    <description>The intersection point with the water surface.</description>
    <quotient>
     <sum>
      <quotient>
       <property>hydro/floats/height-agl-ft[0]</property>
       <cos><property>hydro/floats/pitch-rad[0]</property></cos>
      </quotient>
      <property>hydro/planing-floats/forebody-keel-z-ft[0]</property>
     </sum>
     <tan><property>hydro/floats/pitch-rad[0]</property></tan>
    </quotient>
   </function>
   <clipto> <!-- We don't want to get +/-inf out of this function. -->
    <min>-10000.0</min>
    <max>10000.0</max>
   </clipto>
  </fcs_function>
  <fcs_function name="hydro/planing-floats/afterbody-entry-point-x-ft[0]">
   <function>
    <description>The intersection point with the water surface.</description>
    <quotient>
     <sum>
      <quotient>
       <property>hydro/floats/height-agl-ft[0]</property>
       <cos><property>hydro/floats/pitch-rad[0]</property></cos>
      </quotient>
      <property>hydro/planing-floats/afterbody-keel-z-ft[0]</property>
     </sum>
     <tan><property>hydro/floats/pitch-rad[0]</property></tan>
    </quotient>
   </function>
   <clipto> <!-- We don't want to get +/-inf out of this function. -->
    <min>-10000.0</min>
    <max>10000.0</max>
   </clipto>
  </fcs_function>

  <fcs_function name="hydro/planing-floats/forebody-entry-point-x-ft[1]">
   <function>
    <description>The intersection point with the water surface.</description>
    <quotient>
     <sum>
      <quotient>
       <property>hydro/floats/height-agl-ft[1]</property>
       <cos><property>hydro/floats/pitch-rad[1]</property></cos>
      </quotient>
      <property>hydro/planing-floats/forebody-keel-z-ft[1]</property>
     </sum>
     <tan><property>hydro/floats/pitch-rad[1]</property></tan>
    </quotient>
   </function>
   <clipto> <!-- We don't want to get +/-inf out of this function. -->
    <min>-10000.0</min>
    <max>10000.0</max>
   </clipto>
  </fcs_function>
  <fcs_function name="hydro/planing-floats/afterbody-entry-point-x-ft[1]">
   <function>
    <description>The intersection point with the water surface.</description>
    <quotient>
     <sum>
      <quotient>
       <property>hydro/floats/height-agl-ft[1]</property>
       <cos><property>hydro/floats/pitch-rad[1]</property></cos>
      </quotient>
      <property>hydro/planing-floats/afterbody-keel-z-ft[1]</property>
     </sum>
     <tan><property>hydro/floats/pitch-rad[1]</property></tan>
    </quotient>
   </function>
   <clipto> <!-- We don't want to get +/-inf out of this function. -->
    <min>-10000.0</min>
    <max>10000.0</max>
   </clipto>
  </fcs_function>

  <fcs_function name="hydro/planing-floats/forebody-wetted-keel-ft[0]">
   <function>
    <description>The length of keel below the free water surface.</description>
    <max>
     <value>0.0</value>
     <min>
      <property>hydro/planing-floats/forebody-length-ft[0]</property>
      <sum>
       <product>
        <ge>
         <property>hydro/floats/pitch-rad[0]</property>
         <value>0.0</value>
        </ge>
        <difference>
         <property>hydro/planing-floats/forebody-end-x-ft[0]</property>
         <property>hydro/planing-floats/forebody-entry-point-x-ft[0]</property>
        </difference>
       </product>
       <product>
        <lt>
         <property>hydro/floats/pitch-rad[0]</property>
         <value>0.0</value>
        </lt>
        <difference>
         <property>hydro/planing-floats/forebody-entry-point-x-ft[0]</property>
         <difference>
          <property>hydro/planing-floats/forebody-end-x-ft[0]</property>
          <property>hydro/planing-floats/forebody-length-ft[0]</property>
         </difference>
        </difference>
       </product>
      </sum>
     </min>
    </max>
   </function>
  </fcs_function>
  <fcs_function name="hydro/planing-floats/afterbody-wetted-keel-ft[0]">
   <function>
    <description>The length of keel below the free water surface.</description>
    <max>
     <value>0.0</value>
     <min>
      <property>hydro/planing-floats/afterbody-length-ft[0]</property>
      <sum>
       <product>
        <ge>
         <property>hydro/floats/pitch-rad[0]</property>
         <value>0.0</value>
        </ge>
        <difference>
         <property>hydro/planing-floats/afterbody-end-x-ft[0]</property>
         <property>hydro/planing-floats/afterbody-entry-point-x-ft[0]</property>
        </difference>
       </product>
       <product>
        <lt>
         <property>hydro/floats/pitch-rad[0]</property>
         <value>0.0</value>
        </lt>
        <difference>
         <property>hydro/planing-floats/afterbody-entry-point-x-ft[0]</property>
         <difference>
          <property>hydro/planing-floats/afterbody-end-x-ft[0]</property>
          <property>hydro/planing-floats/afterbody-length-ft[0]</property>
         </difference>
        </difference>
       </product>
      </sum>
     </min>
    </max>
   </function>
  </fcs_function>

  <fcs_function name="hydro/planing-floats/forebody-wetted-keel-ft[1]">
   <function>
    <description>The length of keel below the free water surface.</description>
    <max>
     <value>0.0</value>
     <min>
      <property>hydro/planing-floats/forebody-length-ft[1]</property>
      <sum>
       <product>
        <ge>
         <property>hydro/floats/pitch-rad[1]</property>
         <value>0.0</value>
        </ge>
        <difference>
         <property>hydro/planing-floats/forebody-end-x-ft[1]</property>
         <property>hydro/planing-floats/forebody-entry-point-x-ft[1]</property>
        </difference>
       </product>
       <product>
        <lt>
         <property>hydro/floats/pitch-rad[1]</property>
         <value>0.0</value>
        </lt>
        <difference>
         <property>hydro/planing-floats/forebody-entry-point-x-ft[1]</property>
         <difference>
          <property>hydro/planing-floats/forebody-end-x-ft[1]</property>
          <property>hydro/planing-floats/forebody-length-ft[1]</property>
         </difference>
        </difference>
       </product>
      </sum>
     </min>
    </max>
   </function>
  </fcs_function>
  <fcs_function name="hydro/planing-floats/afterbody-wetted-keel-ft[1]">
   <function>
    <description>The length of keel below the free water surface.</description>
    <max>
     <value>0.0</value>
     <min>
      <property>hydro/planing-floats/afterbody-length-ft[1]</property>
      <sum>
       <product>
        <ge>
         <property>hydro/floats/pitch-rad[1]</property>
         <value>0.0</value>
        </ge>
        <difference>
         <property>hydro/planing-floats/afterbody-end-x-ft[1]</property>
         <property>hydro/planing-floats/afterbody-entry-point-x-ft[1]</property>
        </difference>
       </product>
       <product>
        <lt>
         <property>hydro/floats/pitch-rad[1]</property>
         <value>0.0</value>
        </lt>
        <difference>
         <property>hydro/planing-floats/afterbody-entry-point-x-ft[1]</property>
         <difference>
          <property>hydro/planing-floats/afterbody-end-x-ft[1]</property>
          <property>hydro/planing-floats/afterbody-length-ft[1]</property>
         </difference>
        </difference>
       </product>
      </sum>
     </min>
    </max>
   </function>
  </fcs_function>

  <fcs_function name="hydro/planing-floats/forebody-normal-force-lbs[0]">
   <function>
    <description>
     The normal force produced by the planing surface.
     NOTE: The formulation is only valid for very small pitch angles and
           the pitch angle should also be adjusted for down-wash.
           See [Wagner:1933:POW].
    </description>
    <max>
     <value>0.0</value>
     <product>
      <property>hydro/planing-floats/forebody-normal-force-factor[0]</property>
      <value>3.1415927</value>
      <property>hydro/qbar-u-psf</property>
      <property>hydro/planing-floats/forebody-beam-ft[0]</property>
      <property>hydro/planing-floats/forebody-wetted-keel-ft[0]</property>
      <sin><property>hydro/floats/pitch-rad[0]</property></sin>
     </product>
    </max>
   </function>
  </fcs_function>
  <fcs_function name="hydro/planing-floats/afterbody-normal-force-lbs[0]">
   <function>
    <description>
     The normal force produced by the planing surface.
     NOTE: The formulation is only valid for very small pitch angles and
           the pitch angle should also be adjusted for down-wash.
           See [Wagner:1933:POW].
    </description>
    <max>
     <value>0.0</value>
     <product>
      <property>hydro/planing-floats/afterbody-normal-force-factor[0]</property>
      <value>3.1415927</value>
      <property>hydro/qbar-u-psf</property>
      <property>hydro/planing-floats/afterbody-beam-ft[0]</property>
      <property>hydro/planing-floats/afterbody-wetted-keel-ft[0]</property>
      <sin><property>hydro/floats/pitch-rad[0]</property></sin>
     </product>
    </max>
   </function>
  </fcs_function>

  <fcs_function name="hydro/planing-floats/forebody-normal-force-lbs[1]">
   <function>
    <description>
     The normal force produced by the planing surface.
     NOTE: The formulation is only valid for very small pitch angles and
           the pitch angle should also be adjusted for down-wash.
           See [Wagner:1933:POW].
    </description>
    <max>
     <value>0.0</value>
     <product>
      <property>hydro/planing-floats/forebody-normal-force-factor[1]</property>
      <value>3.1415927</value>
      <property>hydro/qbar-u-psf</property>
      <property>hydro/planing-floats/forebody-beam-ft[1]</property>
      <property>hydro/planing-floats/forebody-wetted-keel-ft[1]</property>
      <sin><property>hydro/floats/pitch-rad[1]</property></sin>
     </product>
    </max>
   </function>
  </fcs_function>
  <fcs_function name="hydro/planing-floats/afterbody-normal-force-lbs[1]">
   <function>
    <description>
     The normal force produced by the planing surface.
     NOTE: The formulation is only valid for very small pitch angles and
           the pitch angle should also be adjusted for down-wash.
           See [Wagner:1933:POW].
    </description>
    <max>
     <value>0.0</value>
     <product>
      <property>hydro/planing-floats/afterbody-normal-force-factor[1]</property>
      <value>3.1415927</value>
      <property>hydro/qbar-u-psf</property>
      <property>hydro/planing-floats/afterbody-beam-ft[1]</property>
      <property>hydro/planing-floats/afterbody-wetted-keel-ft[1]</property>
      <sin><property>hydro/floats/pitch-rad[1]</property></sin>
     </product>
    </max>
   </function>
  </fcs_function>

 </channel>

 <channel name="Fbx">

  <fcs_function name="hydro/planing-floats/forebody-induced-fbx-force-lbs[0]">
   <function>
    <description>Drag (induced) due to planing. FIXME: direction/frame?</description>
    <product>
     <value>-1.0</value>
     <max>
      <value>0.0</value>
      <product>
       <property>hydro/planing-floats/forebody-normal-force-lbs[0]</property>
       <sin><property>hydro/floats/pitch-rad[0]</property></sin>
      </product>
     </max>
    </product>
   </function>
  </fcs_function>
  <fcs_function name="hydro/planing-floats/afterbody-induced-fbx-force-lbs[0]">
   <function>
    <description>Drag (induced) due to planing. FIXME: direction/frame?</description>
    <product>
     <value>-1.0</value>
     <max>
      <value>0.0</value>
      <product>
       <property>hydro/planing-floats/afterbody-normal-force-lbs[0]</property>
       <sin><property>hydro/floats/pitch-rad[0]</property></sin>
      </product>
     </max>
    </product>
   </function>
  </fcs_function>

  <fcs_function name="hydro/planing-floats/forebody-induced-fbx-force-lbs[1]">
   <function>
    <description>Drag (induced) due to planing. FIXME: direction/frame?</description>
    <product>
     <value>-1.0</value>
     <max>
      <value>0.0</value>
      <product>
       <property>hydro/planing-floats/forebody-normal-force-lbs[1]</property>
       <sin><property>hydro/floats/pitch-rad[1]</property></sin>
      </product>
     </max>
    </product>
   </function>
  </fcs_function>
  <fcs_function name="hydro/planing-floats/afterbody-induced-fbx-force-lbs[1]">
   <function>
    <description>Drag (induced) due to planing. FIXME: direction/frame?</description>
    <product>
     <value>-1.0</value>
     <max>
      <value>0.0</value>
      <product>
       <property>hydro/planing-floats/afterbody-normal-force-lbs[1]</property>
       <sin><property>hydro/floats/pitch-rad[1]</property></sin>
      </product>
     </max>
    </product>
   </function>
  </fcs_function>

  <fcs_function name="hydro/planing-floats/forebody-friction-fbx-force-lbs[0]">
   <function>
    <description>Drag due to skin friction.</description>
    <product>
     <value>-1.0</value>
     <property>hydro/planing-floats/forebody-skin-friction-coefficient[0]</property>
     <property>hydro/qbar-u-psf</property>
     <property>hydro/planing-floats/forebody-beam-ft[0]</property>
     <property>hydro/planing-floats/forebody-wetted-keel-ft[0]</property>
    </product>
   </function>
  </fcs_function>
  <fcs_function name="hydro/planing-floats/afterbody-friction-fbx-force-lbs[0]">
   <function>
    <description>Drag due to skin friction.</description>
    <product>
     <value>-1.0</value>
     <property>hydro/planing-floats/afterbody-skin-friction-coefficient[0]</property>
     <property>hydro/qbar-u-psf</property>
     <property>hydro/planing-floats/afterbody-beam-ft[0]</property>
     <property>hydro/planing-floats/afterbody-wetted-keel-ft[0]</property>
    </product>
   </function>
  </fcs_function>

  <fcs_function name="hydro/planing-floats/forebody-friction-fbx-force-lbs[1]">
   <function>
    <description>Drag due to skin friction.</description>
    <product>
     <value>-1.0</value>
     <property>hydro/planing-floats/forebody-skin-friction-coefficient[1]</property>
     <property>hydro/qbar-u-psf</property>
     <property>hydro/planing-floats/forebody-beam-ft[1]</property>
     <property>hydro/planing-floats/forebody-wetted-keel-ft[1]</property>
    </product>
   </function>
  </fcs_function>
  <fcs_function name="hydro/planing-floats/afterbody-friction-fbx-force-lbs[1]">
   <function>
    <description>Drag due to skin friction.</description>
    <product>
     <value>-1.0</value>
     <property>hydro/planing-floats/afterbody-skin-friction-coefficient[1]</property>
     <property>hydro/qbar-u-psf</property>
     <property>hydro/planing-floats/afterbody-beam-ft[1]</property>
     <property>hydro/planing-floats/afterbody-wetted-keel-ft[1]</property>
    </product>
   </function>
  </fcs_function>

 </channel>

 <channel name="Fby">

  <fcs_function name="hydro/planing-floats/forebody-fby-force-lbs[0]">
   <function>
    <description>
     Fby force due to planing.
     FIXME: model/direction/frame?
    </description>
    <product>
     <property>hydro/planing-floats/forebody-normal-force-lbs[0]</property>
     <cos><property>hydro/floats/pitch-rad[0]</property></cos>
     <sin><property>hydro/floats/roll-rad[0]</property></sin>
    </product>
   </function>
  </fcs_function>
  <fcs_function name="hydro/planing-floats/afterbody-fby-force-lbs[0]">
   <function>
    <description>
     Fby force due to planing.
     FIXME: model/direction/frame?
    </description>
    <product>
     <property>hydro/planing-floats/afterbody-normal-force-lbs[0]</property>
     <cos><property>hydro/floats/pitch-rad[0]</property></cos>
     <sin><property>hydro/floats/roll-rad[0]</property></sin>
    </product>
   </function>
  </fcs_function>

  <fcs_function name="hydro/planing-floats/forebody-fby-force-lbs[1]">
   <function>
    <description>
     Fby force due to planing.
     FIXME: model/direction/frame?
    </description>
    <product>
     <property>hydro/planing-floats/forebody-normal-force-lbs[1]</property>
     <cos><property>hydro/floats/pitch-rad[1]</property></cos>
     <sin><property>hydro/floats/roll-rad[1]</property></sin>
    </product>
   </function>
  </fcs_function>
  <fcs_function name="hydro/planing-floats/afterbody-fby-force-lbs[1]">
   <function>
    <description>
     Fby force due to planing.
     FIXME: model/direction/frame?
    </description>
    <product>
     <property>hydro/planing-floats/afterbody-normal-force-lbs[1]</property>
     <cos><property>hydro/floats/pitch-rad[1]</property></cos>
     <sin><property>hydro/floats/roll-rad[1]</property></sin>
    </product>
   </function>
  </fcs_function>

 </channel>

 <channel name="Lift">

  <fcs_function name="hydro/planing-floats/forebody-lift-force-lbs[0]">
   <function>
    <description>Lift due to planing. FIXME: direction/frame?</description>
    <max>
     <value>0.0</value>
     <product>
      <property>hydro/planing-floats/forebody-normal-force-lbs[0]</property>
      <cos><property>hydro/floats/pitch-rad[0]</property></cos>
      <cos><property>hydro/floats/roll-rad[0]</property></cos>
     </product>
    </max>
   </function>
  </fcs_function>
  <fcs_function name="hydro/planing-floats/afterbody-lift-force-lbs[0]">
   <function>
    <description>Lift due to planing. FIXME: direction/frame?</description>
    <max>
     <value>0.0</value>
     <product>
      <property>hydro/planing-floats/afterbody-normal-force-lbs[0]</property>
      <cos><property>hydro/floats/pitch-rad[0]</property></cos>
      <cos><property>hydro/floats/roll-rad[0]</property></cos>
     </product>
    </max>
   </function>
  </fcs_function>

  <fcs_function name="hydro/planing-floats/forebody-lift-force-lbs[1]">
   <function>
    <description>Lift due to planing. FIXME: direction/frame?</description>
    <max>
     <value>0.0</value>
     <product>
      <property>hydro/planing-floats/forebody-normal-force-lbs[1]</property>
      <cos><property>hydro/floats/pitch-rad[1]</property></cos>
      <cos><property>hydro/floats/roll-rad[1]</property></cos>
     </product>
    </max>
   </function>
  </fcs_function>
  <fcs_function name="hydro/planing-floats/afterbody-lift-force-lbs[1]">
   <function>
    <description>Lift due to planing. FIXME: direction/frame?</description>
    <max>
     <value>0.0</value>
     <product>
      <property>hydro/planing-floats/afterbody-normal-force-lbs[1]</property>
      <cos><property>hydro/floats/pitch-rad[1]</property></cos>
      <cos><property>hydro/floats/roll-rad[1]</property></cos>
     </product>
    </max>
   </function>
  </fcs_function>

 </channel>

 <channel name="Yaw">

  <fcs_function name="hydro/planing-floats/forebody-yaw-moment-lbsft[0]">
   <description>
    Yaw moment due to planing drag.
    FIXME: direction/frame? Limits on the acting point? Induced drag?
   </description>
   <function>
    <product>
     <value>-1.0</value>
     <property>hydro/planing-floats/forebody-friction-fbx-force-lbs[0]</property>
     <property>hydro/planing-floats/forebody-keel-y-ft[0]</property>
    </product>
   </function>
  </fcs_function>
  <fcs_function name="hydro/planing-floats/afterbody-yaw-moment-lbsft[0]">
   <description>
    Yaw moment due to planing drag.
    FIXME: direction/frame? Limits on the acting point? Induced drag?
   </description>
   <function>
    <product>
     <value>-1.0</value>
     <property>hydro/planing-floats/afterbody-friction-fbx-force-lbs[0]</property>
     <property>hydro/planing-floats/afterbody-keel-y-ft[0]</property>
    </product>
   </function>
  </fcs_function>

  <fcs_function name="hydro/planing-floats/forebody-yaw-moment-lbsft[1]">
   <description>
    Yaw moment due to planing drag.
    FIXME: direction/frame? Limits on the acting point? Induced drag?
   </description>
   <function>
    <product>
     <value>-1.0</value>
     <property>hydro/planing-floats/forebody-friction-fbx-force-lbs[1]</property>
     <property>hydro/planing-floats/forebody-keel-y-ft[1]</property>
    </product>
   </function>
  </fcs_function>
  <fcs_function name="hydro/planing-floats/afterbody-yaw-moment-lbsft[1]">
   <description>
    Yaw moment due to planing drag.
    FIXME: direction/frame? Limits on the acting point? Induced drag?
   </description>
   <function>
    <product>
     <value>-1.0</value>
     <property>hydro/planing-floats/afterbody-friction-fbx-force-lbs[1]</property>
     <property>hydro/planing-floats/afterbody-keel-y-ft[1]</property>
    </product>
   </function>
  </fcs_function>

 </channel>

 <channel name="Pitch">

  <fcs_function name="hydro/planing-floats/forebody-pitch-moment-lbsft[0]">
   <description>
    Pitch moment due to planing.
    FIXME: direction/frame? Limits on the acting point?
   </description>
   <function>
    <sum>
     <product>
      <value>-1.0</value>
      <property>hydro/planing-floats/forebody-normal-force-lbs[0]</property>
      <difference>
       <property>hydro/planing-floats/forebody-end-x-ft[0]</property>
       <product>
        <value>0.75</value>
        <property>hydro/planing-floats/forebody-wetted-keel-ft[0]</property>
       </product>
      </difference>
     </product>
     <product>
      <value>-1.0</value>
      <property>hydro/planing-floats/forebody-friction-fbx-force-lbs[0]</property>
      <property>hydro/planing-floats/forebody-keel-z-ft[0]</property>
      <cos><property>hydro/floats/pitch-rad[0]</property></cos>
     </product>
    </sum>
   </function>
  </fcs_function>
  <fcs_function name="hydro/planing-floats/afterbody-pitch-moment-lbsft[0]">
   <description>
    Pitch moment due to planing.
    FIXME: direction/frame? Limits on the acting point?
   </description>
   <function>
    <sum>
     <product>
      <value>-1.0</value>
      <property>hydro/planing-floats/afterbody-normal-force-lbs[0]</property>
      <difference>
       <property>hydro/planing-floats/afterbody-end-x-ft[0]</property>
       <product>
        <value>0.75</value>
        <property>hydro/planing-floats/afterbody-wetted-keel-ft[0]</property>
       </product>
      </difference>
     </product>
     <product>
      <value>-1.0</value>
      <property>hydro/planing-floats/afterbody-friction-fbx-force-lbs[0]</property>
      <property>hydro/planing-floats/afterbody-keel-z-ft[0]</property>
      <cos><property>hydro/floats/pitch-rad[0]</property></cos>
     </product>
    </sum>
   </function>
  </fcs_function>

  <fcs_function name="hydro/planing-floats/forebody-pitch-moment-lbsft[1]">
   <description>
    Pitch moment due to planing.
    FIXME: direction/frame? Limits on the acting point?
   </description>
   <function>
    <sum>
     <product>
      <value>-1.0</value>
      <property>hydro/planing-floats/forebody-normal-force-lbs[1]</property>
      <difference>
       <property>hydro/planing-floats/forebody-end-x-ft[1]</property>
       <product>
        <value>0.75</value>
        <property>hydro/planing-floats/forebody-wetted-keel-ft[1]</property>
       </product>
      </difference>
     </product>
     <product>
      <value>-1.0</value>
      <property>hydro/planing-floats/forebody-friction-fbx-force-lbs[1]</property>
      <property>hydro/planing-floats/forebody-keel-z-ft[1]</property>
      <cos><property>hydro/floats/pitch-rad[1]</property></cos>
     </product>
    </sum>
   </function>
  </fcs_function>
  <fcs_function name="hydro/planing-floats/afterbody-pitch-moment-lbsft[1]">
   <description>
    Pitch moment due to planing.
    FIXME: direction/frame? Limits on the acting point?
   </description>
   <function>
    <sum>
     <product>
      <value>-1.0</value>
      <property>hydro/planing-floats/afterbody-normal-force-lbs[1]</property>
      <difference>
       <property>hydro/planing-floats/afterbody-end-x-ft[1]</property>
       <product>
        <value>0.75</value>
        <property>hydro/planing-floats/afterbody-wetted-keel-ft[1]</property>
       </product>
      </difference>
     </product>
     <product>
      <value>-1.0</value>
      <property>hydro/planing-floats/afterbody-friction-fbx-force-lbs[1]</property>
      <property>hydro/planing-floats/afterbody-keel-z-ft[1]</property>
      <cos><property>hydro/floats/pitch-rad[1]</property></cos>
     </product>
    </sum>
   </function>
  </fcs_function>

 </channel>

 <channel name="Roll">

  <fcs_function name="hydro/planing-floats/forebody-roll-moment-lbsft[0]">
   <description>
    Roll moment due to planing.
    FIXME: direction/frame? Limits on the acting point?
   </description>
   <function>
    <sum>
     <product>
      <value>-1.0</value>
      <property>hydro/planing-floats/forebody-normal-force-lbs[0]</property>
      <property>hydro/planing-floats/forebody-keel-y-ft[0]</property>
     </product>
     <product>
      <property>hydro/planing-floats/forebody-fby-force-lbs[0]</property>
      <!-- FIXME: dependency on pitch? -->
      <property>hydro/planing-floats/forebody-keel-z-ft[0]</property>
     </product>
    </sum>
   </function>
  </fcs_function>
  <fcs_function name="hydro/planing-floats/afterbody-roll-moment-lbsft[0]">
   <description>
    Roll moment due to planing.
    FIXME: direction/frame? Limits on the acting point?
   </description>
   <function>
    <sum>
     <product>
      <value>-1.0</value>
      <property>hydro/planing-floats/afterbody-normal-force-lbs[0]</property>
      <property>hydro/planing-floats/afterbody-keel-y-ft[0]</property>
     </product>
     <product>
      <property>hydro/planing-floats/afterbody-fby-force-lbs[0]</property>
      <!-- FIXME: dependency on pitch? -->
      <property>hydro/planing-floats/afterbody-keel-z-ft[0]</property>
     </product>
    </sum>
   </function>
  </fcs_function>

  <fcs_function name="hydro/planing-floats/forebody-roll-moment-lbsft[1]">
   <description>
    Roll moment due to planing.
    FIXME: direction/frame? Limits on the acting point?
   </description>
   <function>
    <sum>
     <product>
      <value>-1.0</value>
      <property>hydro/planing-floats/forebody-normal-force-lbs[1]</property>
      <property>hydro/planing-floats/forebody-keel-y-ft[1]</property>
     </product>
     <product>
      <property>hydro/planing-floats/forebody-fby-force-lbs[1]</property>
      <!-- FIXME: dependency on pitch? -->
      <property>hydro/planing-floats/forebody-keel-z-ft[1]</property>
     </product>
    </sum>
   </function>
  </fcs_function>
  <fcs_function name="hydro/planing-floats/afterbody-roll-moment-lbsft[1]">
   <description>
    Roll moment due to planing.
    FIXME: direction/frame? Limits on the acting point?
   </description>
   <function>
    <sum>
     <product>
      <value>-1.0</value>
      <property>hydro/planing-floats/afterbody-normal-force-lbs[1]</property>
      <property>hydro/planing-floats/afterbody-keel-y-ft[1]</property>
     </product>
     <product>
      <property>hydro/planing-floats/afterbody-fby-force-lbs[1]</property>
      <!-- FIXME: dependency on pitch? -->
      <property>hydro/planing-floats/afterbody-keel-z-ft[1]</property>
     </product>
    </sum>
   </function>
  </fcs_function>

 </channel>

</system>
<?xml version="1.0"?>
<!--

  Model of hydrodynamic planing based on [Wagner:1933:POW] for JSBSim.

    Copyright (C) 2015 - 2023  Anders Gidenstam  (anders(at)gidenstam.org)

    This library is free software; you can redistribute it and/or
    modify it under the terms of the GNU Lesser General Public
    License as published by the Free Software Foundation; either
    version 2.1 of the License, or (at your option) any later version.

    This library is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
    Lesser General Public License for more details.

    You should have received a copy of the GNU Lesser General Public
    License along with this library; if not, write to the Free Software
    Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301
    USA

-->
<system name="hydrodynamic planing">

 <description>

  This system depends on the generic hydrodynamics.xml system for JSBSim.

  <reference refID="Wagner:1933:POW"
             author="Herbert Wagner"
             title="Planing of Watercraft  Translated as NACA-TM-1139"
             date="1933/1948"/>
 </description>

 <!-- Model parameters -->

 <!-- Parameters defining the planing surfaces of the hull. -->
 <!-- NOTE: Coordinates in the frame with
            origin at hydro RP and x/y/z = aft/right/up
 -->
 <property>hydro/planing/forebody-length-ft</property>
 <property>hydro/planing/forebody-beam-ft</property>
 <property>hydro/planing/forebody-keel-z-ft</property>
 <property>hydro/planing/forebody-end-x-ft</property>

 <property>hydro/planing/middlebody-length-ft</property>
 <property>hydro/planing/middlebody-beam-ft</property>
 <property>hydro/planing/middlebody-keel-z-ft</property>
 <property>hydro/planing/middlebody-end-x-ft</property>

 <property>hydro/planing/afterbody-length-ft</property>
 <property>hydro/planing/afterbody-beam-ft</property>
 <property>hydro/planing/afterbody-keel-z-ft</property>
 <property>hydro/planing/afterbody-end-x-ft</property>

 <!-- Other parameters. -->
 <property value="1.0">hydro/planing/forebody-normal-force-factor</property>
 <property value="1.0">hydro/planing/middlebody-normal-force-factor</property>
 <property value="1.0">hydro/planing/afterbody-normal-force-factor</property>
 <property>hydro/planing/forebody-skin-friction-coefficient</property>
 <property>hydro/planing/middlebody-skin-friction-coefficient</property>
 <property>hydro/planing/afterbody-skin-friction-coefficient</property>

 <channel name="Planing dynamics based on [Wagner:1933:POW]">

  <fcs_function name="hydro/planing/forebody-entry-point-x-ft">
   <function>
    <description>The intersection point with the water surface.</description>
    <quotient>
     <sum>
      <quotient>
       <property>hydro/hull/height-agl-ft</property>
       <cos><property>hydro/hull/pitch-rad</property></cos>
      </quotient>
      <property>hydro/planing/forebody-keel-z-ft</property>
     </sum>
     <tan><property>hydro/hull/pitch-rad</property></tan>
    </quotient>
   </function>
   <clipto> <!-- We don't want to get +/-inf out of this function. -->
    <min>-10000.0</min>
    <max>10000.0</max>
   </clipto>
  </fcs_function>
  <fcs_function name="hydro/planing/middlebody-entry-point-x-ft">
   <function>
    <description>The intersection point with the water surface.</description>
    <quotient>
     <sum>
      <quotient>
       <property>hydro/hull/height-agl-ft</property>
       <cos><property>hydro/hull/pitch-rad</property></cos>
      </quotient>
      <property>hydro/planing/middlebody-keel-z-ft</property>
     </sum>
     <tan><property>hydro/hull/pitch-rad</property></tan>
    </quotient>
   </function>
   <clipto> <!-- We don't want to get +/-inf out of this function. -->
    <min>-10000.0</min>
    <max>10000.0</max>
   </clipto>
  </fcs_function>
  <fcs_function name="hydro/planing/afterbody-entry-point-x-ft">
   <function>
    <description>The intersection point with the water surface.</description>
    <quotient>
     <sum>
      <quotient>
       <property>hydro/hull/height-agl-ft</property>
       <cos><property>hydro/hull/pitch-rad</property></cos>
      </quotient>
      <property>hydro/planing/afterbody-keel-z-ft</property>
     </sum>
     <tan><property>hydro/hull/pitch-rad</property></tan>
    </quotient>
   </function>
   <clipto> <!-- We don't want to get +/-inf out of this function. -->
    <min>-10000.0</min>
    <max>10000.0</max>
   </clipto>
  </fcs_function>

  <fcs_function name="hydro/planing/forebody-wetted-keel-ft">
   <function>
    <description>The length of keel below the free water surface.</description>
    <max>
     <value>0.0</value>
     <min>
      <property>hydro/planing/forebody-length-ft</property>
      <sum>
       <product>
        <ge>
         <property>hydro/hull/pitch-rad</property>
         <value>0.0</value>
        </ge>
        <difference>
         <property>hydro/planing/forebody-end-x-ft</property>
         <property>hydro/planing/forebody-entry-point-x-ft</property>
        </difference>
       </product>
       <product>
        <lt>
         <property>hydro/hull/pitch-rad</property>
         <value>0.0</value>
        </lt>
        <difference>
         <property>hydro/planing/forebody-entry-point-x-ft</property>
         <difference>
          <property>hydro/planing/forebody-end-x-ft</property>
          <property>hydro/planing/forebody-length-ft</property>
         </difference>
        </difference>
       </product>
      </sum>
     </min>
    </max>
   </function>
  </fcs_function>
  <fcs_function name="hydro/planing/middlebody-wetted-keel-ft">
   <function>
    <description>The length of keel below the free water surface.</description>
    <max>
     <value>0.0</value>
     <min>
      <property>hydro/planing/middlebody-length-ft</property>
      <sum>
       <product>
        <ge>
         <property>hydro/hull/pitch-rad</property>
         <value>0.0</value>
        </ge>
        <difference>
         <property>hydro/planing/middlebody-end-x-ft</property>
         <property>hydro/planing/middlebody-entry-point-x-ft</property>
        </difference>
       </product>
       <product>
        <lt>
         <property>hydro/hull/pitch-rad</property>
         <value>0.0</value>
        </lt>
        <difference>
         <property>hydro/planing/middlebody-entry-point-x-ft</property>
         <difference>
          <property>hydro/planing/middlebody-end-x-ft</property>
          <property>hydro/planing/middlebody-length-ft</property>
         </difference>
        </difference>
       </product>
      </sum>
     </min>
    </max>
   </function>
  </fcs_function>
  <fcs_function name="hydro/planing/afterbody-wetted-keel-ft">
   <function>
    <description>The length of keel below the free water surface.</description>
    <max>
     <value>0.0</value>
     <min>
      <property>hydro/planing/afterbody-length-ft</property>
      <sum>
       <product>
        <ge>
         <property>hydro/hull/pitch-rad</property>
         <value>0.0</value>
        </ge>
        <difference>
         <property>hydro/planing/afterbody-end-x-ft</property>
         <property>hydro/planing/afterbody-entry-point-x-ft</property>
        </difference>
       </product>
       <product>
        <lt>
         <property>hydro/hull/pitch-rad</property>
         <value>0.0</value>
        </lt>
        <difference>
         <property>hydro/planing/afterbody-entry-point-x-ft</property>
         <difference>
          <property>hydro/planing/afterbody-end-x-ft</property>
          <property>hydro/planing/afterbody-length-ft</property>
         </difference>
        </difference>
       </product>
      </sum>
     </min>
    </max>
   </function>
  </fcs_function>

  <fcs_function name="hydro/planing/forebody-normal-force-lbs">
   <function>
    <description>
     The normal force produced by the planing surface.
     NOTE: The formulation is only valid for very small pitch angles and
           the pitch angle should also be adjusted for down-wash.
           See [Wagner:1933:POW].
    </description>
    <max>
     <value>0.0</value>
     <product>
      <property>hydro/planing/forebody-normal-force-factor</property>
      <value>3.1415927</value>
      <property>hydro/qbar-u-psf</property>
      <property>hydro/planing/forebody-beam-ft</property>
      <property>hydro/planing/forebody-wetted-keel-ft</property>
      <sin><property>hydro/hull/pitch-rad</property></sin>
     </product>
    </max>
   </function>
  </fcs_function>
  <fcs_function name="hydro/planing/middlebody-normal-force-lbs">
   <function>
    <description>
     The normal force produced by the planing surface.
     NOTE: The formulation is only valid for very small pitch angles and
           the pitch angle should also be adjusted for down-wash.
           See [Wagner:1933:POW].
    </description>
    <max>
     <value>0.0</value>
     <product>
      <property>hydro/planing/middlebody-normal-force-factor</property>
      <value>3.1415927</value>
      <property>hydro/qbar-u-psf</property>
      <property>hydro/planing/middlebody-beam-ft</property>
      <property>hydro/planing/middlebody-wetted-keel-ft</property>
      <sin><property>hydro/hull/pitch-rad</property></sin>
     </product>
    </max>
   </function>
  </fcs_function>
  <fcs_function name="hydro/planing/afterbody-normal-force-lbs">
   <function>
    <description>
     The normal force produced by the planing surface.
     NOTE: The formulation is only valid for very small pitch angles and
           the pitch angle should also be adjusted for down-wash.
           See [Wagner:1933:POW].
    </description>
    <max>
     <value>0.0</value>
     <product>
      <property>hydro/planing/afterbody-normal-force-factor</property>
      <value>3.1415927</value>
      <property>hydro/qbar-u-psf</property>
      <property>hydro/planing/afterbody-beam-ft</property>
      <property>hydro/planing/afterbody-wetted-keel-ft</property>
      <sin><property>hydro/hull/pitch-rad</property></sin>
     </product>
    </max>
   </function>
  </fcs_function>

 </channel>

 <channel name="Reynolds numbers for the planing surfaces">

  <fcs_function name="hydro/planing/forebody-Reynolds-number">
   <function>
    <description>
     The Reynolds number for the planing surface based on the
     current wetted keel length.
    </description>
    <quotient>
     <product>
      <property>hydro/vbx-fps</property>
      <property>hydro/planing/forebody-wetted-keel-ft</property>
     </product>
     <property>hydro/environment/kinematic-viscosity-ft2_sec</property>
    </quotient>
   </function>
  </fcs_function>
  <fcs_function name="hydro/planing/middlebody-Reynolds-number">
   <function>
    <description>
     The Reynolds number for the planing surface based on the
     current wetted keel length.
    </description>
    <quotient>
     <product>
      <property>hydro/vbx-fps</property>
      <property>hydro/planing/middlebody-wetted-keel-ft</property>
     </product>
     <property>hydro/environment/kinematic-viscosity-ft2_sec</property>
    </quotient>
   </function>
  </fcs_function>
  <fcs_function name="hydro/planing/afterbody-Reynolds-number">
   <function>
    <description>
     The Reynolds number for the planing surface based on the
     current wetted keel length.
    </description>
    <quotient>
     <product>
      <property>hydro/vbx-fps</property>
      <property>hydro/planing/afterbody-wetted-keel-ft</property>
     </product>
     <property>hydro/environment/kinematic-viscosity-ft2_sec</property>
    </quotient>
   </function>
  </fcs_function>

 </channel>

 <channel name="Fbx">

  <fcs_function name="hydro/planing/forebody-induced-fbx-force-lbs">
   <function>
    <description>Drag (induced) due to planing. FIXME: direction/frame?</description>
    <product>
     <value>-1.0</value>
     <max>
      <value>0.0</value>
      <product>
       <property>hydro/planing/forebody-normal-force-lbs</property>
       <sin><property>hydro/hull/pitch-rad</property></sin>
      </product>
     </max>
    </product>
   </function>
  </fcs_function>
  <fcs_function name="hydro/planing/middlebody-induced-fbx-force-lbs">
   <function>
    <description>Drag (induced) due to planing. FIXME: direction/frame?</description>
    <product>
     <value>-1.0</value>
     <max>
      <value>0.0</value>
      <product>
       <property>hydro/planing/middlebody-normal-force-lbs</property>
       <sin><property>hydro/hull/pitch-rad</property></sin>
      </product>
     </max>
    </product>
   </function>
  </fcs_function>
  <fcs_function name="hydro/planing/afterbody-induced-fbx-force-lbs">
   <function>
    <description>Drag (induced) due to planing. FIXME: direction/frame?</description>
    <product>
     <value>-1.0</value>
     <max>
      <value>0.0</value>
      <product>
       <property>hydro/planing/afterbody-normal-force-lbs</property>
       <sin><property>hydro/hull/pitch-rad</property></sin>
      </product>
     </max>
    </product>
   </function>
  </fcs_function>

  <fcs_function name="hydro/planing/forebody-friction-fbx-force-lbs">
   <function>
    <description>Drag due to skin friction.</description>
    <product>
     <value>-1.0</value>
     <property>hydro/planing/forebody-skin-friction-coefficient</property>
     <property>hydro/qbar-u-psf</property>
     <property>hydro/planing/forebody-beam-ft</property>
     <property>hydro/planing/forebody-wetted-keel-ft</property>
    </product>
   </function>
  </fcs_function>
  <fcs_function name="hydro/planing/middlebody-friction-fbx-force-lbs">
   <function>
    <description>Drag due to skin friction.</description>
    <product>
     <value>-1.0</value>
     <property>hydro/planing/middlebody-skin-friction-coefficient</property>
     <property>hydro/qbar-u-psf</property>
     <property>hydro/planing/middlebody-beam-ft</property>
     <property>hydro/planing/middlebody-wetted-keel-ft</property>
    </product>
   </function>
  </fcs_function>
  <fcs_function name="hydro/planing/afterbody-friction-fbx-force-lbs">
   <function>
    <description>Drag due to skin friction.</description>
    <product>
     <value>-1.0</value>
     <property>hydro/planing/afterbody-skin-friction-coefficient</property>
     <property>hydro/qbar-u-psf</property>
     <property>hydro/planing/afterbody-beam-ft</property>
     <property>hydro/planing/afterbody-wetted-keel-ft</property>
    </product>
   </function>
  </fcs_function>

 </channel>

 <channel name="Fby">

  <fcs_function name="hydro/planing/forebody-fby-force-lbs">
   <function>
    <description>
     Fby force due to planing.
     FIXME: model/direction/frame?
    </description>
    <product>
     <property>hydro/planing/forebody-normal-force-lbs</property>
     <cos><property>hydro/hull/pitch-rad</property></cos>
     <sin><property>hydro/hull/roll-rad</property></sin>
    </product>
   </function>
  </fcs_function>
  <fcs_function name="hydro/planing/middlebody-fby-force-lbs">
   <function>
    <description>
     Fby force due to planing.
     FIXME: model/direction/frame?
    </description>
    <product>
     <property>hydro/planing/middlebody-normal-force-lbs</property>
     <cos><property>hydro/hull/pitch-rad</property></cos>
     <sin><property>hydro/hull/roll-rad</property></sin>
    </product>
   </function>
  </fcs_function>
  <fcs_function name="hydro/planing/afterbody-fby-force-lbs">
   <function>
    <description>
     Fby force due to planing.
     FIXME: model/direction/frame?
    </description>
    <product>
     <property>hydro/planing/afterbody-normal-force-lbs</property>
     <cos><property>hydro/hull/pitch-rad</property></cos>
     <sin><property>hydro/hull/roll-rad</property></sin>
    </product>
   </function>
  </fcs_function>

 </channel>

 <channel name="Lift">

  <fcs_function name="hydro/planing/forebody-lift-force-lbs">
   <function>
    <description>Lift due to planing. FIXME: direction/frame?</description>
    <max>
     <value>0.0</value>
     <product>
      <property>hydro/planing/forebody-normal-force-lbs</property>
      <cos><property>hydro/hull/pitch-rad</property></cos>
      <cos><property>hydro/hull/roll-rad</property></cos>
     </product>
    </max>
   </function>
  </fcs_function>
  <fcs_function name="hydro/planing/middlebody-lift-force-lbs">
   <function>
    <description>Lift due to planing. FIXME: direction/frame?</description>
    <max>
     <value>0.0</value>
     <product>
      <property>hydro/planing/middlebody-normal-force-lbs</property>
      <cos><property>hydro/hull/pitch-rad</property></cos>
      <cos><property>hydro/hull/roll-rad</property></cos>
     </product>
    </max>
   </function>
  </fcs_function>
  <fcs_function name="hydro/planing/afterbody-lift-force-lbs">
   <function>
    <description>Lift due to planing. FIXME: direction/frame?</description>
    <max>
     <value>0.0</value>
     <product>
      <property>hydro/planing/afterbody-normal-force-lbs</property>
      <cos><property>hydro/hull/pitch-rad</property></cos>
      <cos><property>hydro/hull/roll-rad</property></cos>
     </product>
    </max>
   </function>
  </fcs_function>

 </channel>

 <channel name="Yaw">
  <!-- FIXME! -->
 </channel>

 <channel name="Pitch">

  <fcs_function name="hydro/planing/forebody-pitch-moment-lbsft">
   <description>
    Pitch moment due to planing.
    FIXME: direction/frame? Limits on the acting point?
   </description>
   <function>
    <sum>
     <product>
      <value>-1.0</value>
      <property>hydro/planing/forebody-normal-force-lbs</property>
      <difference>
       <property>hydro/planing/forebody-end-x-ft</property>
       <product>
        <value>0.75</value>
        <property>hydro/planing/forebody-wetted-keel-ft</property>
       </product>
      </difference>
     </product>
     <product>
      <value>-1.0</value>
      <property>hydro/planing/forebody-friction-fbx-force-lbs</property>
      <property>hydro/planing/forebody-keel-z-ft</property>
      <cos><property>hydro/hull/pitch-rad</property></cos>
     </product>
    </sum>
   </function>
  </fcs_function>
  <fcs_function name="hydro/planing/middlebody-pitch-moment-lbsft">
   <description>
    Pitch moment due to planing.
    FIXME: direction/frame? Limits on the acting point?
   </description>
   <function>
    <sum>
     <product>
      <value>-1.0</value>
      <property>hydro/planing/middlebody-normal-force-lbs</property>
      <difference>
       <property>hydro/planing/middlebody-end-x-ft</property>
       <product>
        <value>0.75</value>
        <property>hydro/planing/middlebody-wetted-keel-ft</property>
       </product>
      </difference>
     </product>
     <product>
      <value>-1.0</value>
      <property>hydro/planing/middlebody-friction-fbx-force-lbs</property>
      <property>hydro/planing/middlebody-keel-z-ft</property>
      <cos><property>hydro/hull/pitch-rad</property></cos>
     </product>
    </sum>
   </function>
  </fcs_function>
  <fcs_function name="hydro/planing/afterbody-pitch-moment-lbsft">
   <description>
    Pitch moment due to planing.
    FIXME: direction/frame? Limits on the acting point?
   </description>
   <function>
    <sum>
     <product>
      <value>-1.0</value>
      <property>hydro/planing/afterbody-normal-force-lbs</property>
      <difference>
       <property>hydro/planing/afterbody-end-x-ft</property>
       <product>
        <value>0.75</value>
        <property>hydro/planing/afterbody-wetted-keel-ft</property>
       </product>
      </difference>
     </product>
     <product>
      <value>-1.0</value>
      <property>hydro/planing/afterbody-friction-fbx-force-lbs</property>
      <property>hydro/planing/afterbody-keel-z-ft</property>
      <cos><property>hydro/hull/pitch-rad</property></cos>
     </product>
    </sum>
   </function>
  </fcs_function>

 </channel>

 <channel name="Roll">

  <fcs_function name="hydro/planing/forebody-roll-moment-lbsft">
   <description>
    Roll moment due to planing.
    FIXME: direction/frame? Limits on the acting point?
   </description>
   <function>
    <product>
     <property>hydro/planing/forebody-fby-force-lbs</property>
     <!-- FIXME: dependency on pitch? -->
     <property>hydro/planing/forebody-keel-z-ft</property>
    </product>
   </function>
  </fcs_function>
  <fcs_function name="hydro/planing/middlebody-roll-moment-lbsft">
   <description>
    Roll moment due to planing.
    FIXME: direction/frame? Limits on the acting point?
   </description>
   <function>
    <product>
     <property>hydro/planing/middlebody-fby-force-lbs</property>
     <!-- FIXME: dependency on pitch? -->
     <property>hydro/planing/middlebody-keel-z-ft</property>
    </product>
   </function>
  </fcs_function>
  <fcs_function name="hydro/planing/afterbody-roll-moment-lbsft">
   <description>
    Roll moment due to planing.
    FIXME: direction/frame? Limits on the acting point?
   </description>
   <function>
    <product>
     <property>hydro/planing/afterbody-fby-force-lbs</property>
     <!-- FIXME: dependency on pitch? -->
     <property>hydro/planing/afterbody-keel-z-ft</property>
    </product>
   </function>
  </fcs_function>

 </channel>

</system>
<?xml version="1.0"?>
<!--

  Hydrodynamics section for JSBSim.

    Copyright (C) 2008 - 2023  Anders Gidenstam  (anders(at)gidenstam.org)

    This library is free software; you can redistribute it and/or
    modify it under the terms of the GNU Lesser General Public
    License as published by the Free Software Foundation; either
    version 2.1 of the License, or (at your option) any later version.

    This library is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
    Lesser General Public License for more details.

    You should have received a copy of the GNU Lesser General Public
    License along with this library; if not, write to the Free Software
    Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301
    USA

-->
<system name="hydrodynamics">

 <description>
  This system computes forces and moments due to the hull's interaction
  with water, both hydrostatic and hydrodynamic, with respect to the
  hydrodynamic reference point (HRP).

  The coordinate frame used to define the forces and moments is similar to
  the body frame but is always aligned with the water surface (which is
  assumed to be horizontal). Forces can also be defined in a "wind" frame.


  The forces are split into the channels:
  - Fbx  - body forward.
  - Fby  - body right.
  - Fbz  - local up (the same as -Z in the local frame).
  - Drag - opposing the relative water flow.
  - Side - 90 degrees right from the relative water flow in the surface plane.
  The moments are split into the body frame channels
  (with the same sense as the normal body frame moments):
  - Pitch
  - Yaw
  - Roll

  The properties determining the location and orientation of the hull
  w.r.t the the water surface and stream are:
  - hydro/height-agl-ft - Height of the hydrodynamic reference point
                          over the water surface.
  - hydro/beta-deg      - angle between the hull's velocity vector throught
                          the water and its longitudal axis.
                          Analogous to aerodynamics/beta-deg.
  - hydro/pitch-deg     - angle between the hull longitudal axis and the
                          water surface (ground plane).
  - hydro/roll-deg      - angle between the hull traverse axis and the
                          water surface (ground plane).
  - hydro/v-fps         - The hull's total speed relative the water.

  Usage:

  Include this system in your aircraft.

  Define the following properties in a system of your aircraft:

  - Hydrodynamics reference point:
    <property value="...">metrics/hydro-rp-x-in</property>
    <property value="...">metrics/hydro-rp-y-in</property>
    <property value="...">metrics/hydro-rp-z-in</property>

  - Functions computing the forces in the hydrodynamic body frame
    - hydro/fbx-lbs
    - hydro/fby-lbs
    - hydro/fbz-lbs
    Alternative force inputs in the water frame
    - hydro/fdrag-lbs
    - hydro/fside-lbs
    Unused properties also have to be declared (and set to zero).

  - Functions computing the moments in the hydrodynamic body frame.
    FIXME(?): All moments are applied in the standard body frame.
    - hydro/yaw-moment-lbsft
    - hydro/pitch-moment-lbsft
    - hydro/roll-moment-lbsft

  Define the following external forces and moments in the main FDM file of
  your aircraft:

    <force name="hydro-X" frame="LOCAL">
     <location unit="M">
      { HRP }
     </location>
     <direction>
      <x> 1.0 </x>
      <y> 0.0 </y>
      <z> 0.0 </z>
     </direction>
    </force>
    <force name="hydro-Y" frame="LOCAL">
     <location unit="M">
      { HRP }
     </location>
     <direction>
      <x> 0.0 </x>
      <y> 1.0 </y>
      <z> 0.0 </z>
     </direction>
    </force>
    <force name="hydro-Z" frame="LOCAL">
     <location unit="M">
      { HRP }
     </location>
     <direction>
      <x> 0.0 </x>
      <y> 0.0 </y>
      <z>-1.0 </z>
     </direction>
    </force>

    <moment name="hydro-pitch" frame="BODY" unit="LBSFT">
     <direction>
      <x> 0.0 </x>
      <y> 1.0 </y>
      <z> 0.0 </z>
     </direction>
    </moment>
    <moment name="hydro-roll" frame="BODY" unit="LBSFT">
     <direction>
      <x> 1.0 </x>
      <y> 0.0 </y>
      <z> 0.0 </z>
     </direction>
    </moment>
    <moment name="hydro-yaw" frame="BODY" unit="LBSFT">
     <direction>
      <x> 0.0 </x>
      <y> 0.0 </y>
      <z> 1.0 </z>
     </direction>
    </moment>

  The old deprecated force based external moment implementation below is still
  supported. Beware of reference frame differences for the moments.

    <force name="hydro-pitch[0]" frame="LOCAL">
     <location unit="M">
      <x> HRP X - 0.3048 </x>
      <y> HRP Y </y>
      <z> HRP Z </z>
     </location>
     <direction>
      <x> 0.0 </x>
      <y> 0.0 </y>
      <z>-1.0 </z>
     </direction>
    </force>
    <force name="hydro-pitch[1]" frame="LOCAL">
     <location unit="M">
      <x> HRP X + 0.3048 </x>
      <y> HRP Y </y>
      <z> HRP Z </z>
     </location>
     <direction>
      <x> 0.0 </x>
      <y> 0.0 </y>
      <z>-1.0 </z>
     </direction>
    </force>

    <force name="hydro-yaw[0]" frame="BODY">
     <location unit="M">
      <x> HRP X </x>
      <y> HRP Y - 0.3048 </y>
      <z> HRP Z </z>
     </location>
     <direction>
      <x> 1.0 </x>
      <y> 0.0 </y>
      <z> 0.0 </z>
     </direction>
    </force>
    <force name="hydro-yaw[1]" frame="BODY">
     <location unit="M">
      <x> HRP X </x>
      <y> HRP Y + 0.3048 </y>
      <z> HRP Z </z>
     </location>
     <direction>
      <x> 1.0 </x>
      <y> 0.0 </y>
      <z> 0.0 </z>
     </direction>
    </force>

    <force name="hydro-roll[0]" frame="LOCAL">
     <location unit="M">
      <x> HRP X </x>
      <y> HRP Y - 0.3048 </y>
      <z> HRP Z </z>
     </location>
     <direction>
      <x> 0.0 </x>
      <y> 0.0 </y>
      <z>-1.0 </z>
     </direction>
    </force>
    <force name="hydro-roll[1]" frame="LOCAL">
     <location unit="M">
      <x> HRP X </x>
      <y> HRP Y + 0.3048 </y>
      <z> HRP Z </z>
     </location>
     <direction>
      <x> 0.0 </x>
      <y> 0.0 </y>
      <z>-1.0 </z>
     </direction>
    </force>

 </description>

 <!-- Inputs -->

 <!-- Environment -->
 <property value="0.0">hydro/environment/water-level-ft</property>
 <property value="1.9736403">hydro/environment/rho-slug_ft3</property>
 <property value="0.000011302106">hydro/environment/kinematic-viscosity-ft2_sec</property> <!-- Sea water at 20 degC. -->

 <property value="0.0">hydro/environment/current-from-north-fps</property>
 <property value="0.0">hydro/environment/current-from-east-fps</property>

 <property value="40.0">hydro/environment/waves-from-deg</property>
 <property value="0.0">hydro/environment/wave-amplitude-ft</property>
 <property value="150.0">hydro/environment/wave-length-ft</property>

 <!-- Model parameters -->
 <!--   HRP location. Must be defined.
        - metrics/hydro-rp-x-in
        - metrics/hydro-rp-y-in
        - metrics/hydro-rp-z-in

        - metrics/hydro-beam-ft
        - metrics/hydro-length-ft
 -->

 <!-- Input forces in the hydrodynamic body frame.
        All must be defined by the aircraft. -->
 <!--
        Forces in the hydrodynamic body frame
        - hydro/fbx-lbs
        - hydro/fby-lbs
        - hydro/fbz-lbs
        Alternative force inputs in the water frame
        - hydro/fdrag-lbs
        - hydro/fside-lbs
 -->

 <!-- Input moments in the hydrodynamic body frame.
        FIXME: Yaw is applied in the standard body frame.
        - hydro/yaw-moment-lbsft
        - hydro/pitch-moment-lbsft
        - hydro/roll-moment-lbsft
 -->

 <channel name="Environment">

  <fcs_function name="hydro/environment/rho-lbs_ft3">
   <function>
    <product>
     <value>32.174049</value>
     <property>hydro/environment/rho-slug_ft3</property>
    </product>
   </function>
  </fcs_function>

  <fcs_function name="hydro/environment/gravity-ft_sec2">
   <function>
    <quotient>
     <property>inertia/weight-lbs</property>
     <property>inertia/mass-slugs</property>
    </quotient>
   </function>
  </fcs_function>

 </channel>

 <channel name="Environment - Waves">

  <fcs_function name="hydro/environment/wave/relative-heading-rad">
   <description>
    The difference in heading between the hull and the wave.
   </description>
   <function>
    <difference>
     <sum>
      <value>3.1415927</value>
      <product>
       <value>0.017453293</value>
       <property>hydro/environment/waves-from-deg</property>
      </product>
     </sum>
     <property>attitude/psi-rad</property>
    </difference>
   </function>
  </fcs_function>

  <fcs_function name="hydro/environment/wave/hull-x-factor">
   <description>
    The result of dot(Dwave, (1,0)), i.e. the cosine of the angle
    between the wave heading and the hull heading.
   </description>
   <function>
    <cos>
     <property>hydro/environment/wave/relative-heading-rad</property>
    </cos>
   </function>
  </fcs_function>

  <fcs_function name="hydro/environment/wave/hull-y-factor">
   <description>
    The result of dot(Dwave, (0,1)), i.e. the sine of the angle
    between the wave heading and the hull heading.
   </description>
   <function>
    <sin>
     <property>hydro/environment/wave/relative-heading-rad</property>
    </sin>
   </function>
  </fcs_function>

  <fcs_function name="hydro/environment/wave/hull-angular-frequency-rad_sec">
   <description>
    Hull speed in the wave's direction expressed in the wave's
    angular frequency.
   </description>
   <function>
    <product>
     <value>6.2831853</value>
     <quotient>
      <sum>
       <product>
        <property>hydro/vbx-fps</property>
        <property>hydro/environment/wave/hull-x-factor</property>
       </product>
       <product>
        <property>hydro/vby-fps</property>
        <property>hydro/environment/wave/hull-y-factor</property>
       </product>
      </sum>
      <max>
       <value>0.001</value>
       <property>hydro/environment/wave-length-ft</property>
      </max>
     </quotient>
    </product>
   </function>
  </fcs_function>

  <integrator name="hydro/environment/wave/hull-angular-offset-rad">
   <description>
    The hull's angular offset at its present position.
   </description>
   <input>hydro/environment/wave/hull-angular-frequency-rad_sec</input>
   <c1>1.0</c1>
  </integrator>

  <fcs_function name="hydro/environment/wave/angular-frequency-rad_sec">
   <description>
    The angular frequency of the wave.
   </description>
   <function>
    <sum>
     <!-- Deep water gravity wave. -->
     <product>
      <value>-1.0</value> <!-- Note: Set to 0 to make the waves stationary. -->
      <pow>
       <quotient>
        <product>
         <value>6.2831853</value>
         <property>hydro/environment/gravity-ft_sec2</property>
        </product>
        <max>
         <value>0.001</value>
         <property>hydro/environment/wave-length-ft</property>
        </max>
       </quotient>
       <value>0.5</value>
      </pow>
     </product>
     <!-- Mix in hull-angular-offset-rad to simplify uses below. -->
     <quotient>
      <property>hydro/environment/wave/hull-angular-offset-rad</property>
      <max> <!-- To avoid divison by 0 at time 0. -->
       <value>0.1</value>
       <property>simulation/sim-time-sec</property>
      </max>
     </quotient>
    </sum>
   </function>
  </fcs_function>

  <fcs_function name="hydro/environment/wave/wave-number-rad_ft">
   <description>
    The wave number of the wave.
   </description>
   <function>
    <quotient>
     <value>6.2831853</value>
     <max>
      <value>0.001</value>
      <property>hydro/environment/wave-length-ft</property>
     </max>
    </quotient>
   </function>
  </fcs_function>

  <fcs_function name="hydro/environment/wave/level-change-ft">
   <description>
    The water level change due to the waves. Guessed.
    Integrated over -0.5 * hydro-length-ft to 0.5 * hydro-length-ft.
   </description>
   <function>
    <quotient>
     <sum>
      <product>
       <property>hydro/environment/wave-amplitude-ft</property>
       <sin>
        <difference>
         <product>
          <value>0.5</value>
          <property>metrics/hydro-length-ft</property>
          <property>hydro/environment/wave/hull-x-factor</property>
          <property>hydro/environment/wave/wave-number-rad_ft</property>
         </product>
         <product>
          <property>hydro/environment/wave/angular-frequency-rad_sec</property>
          <property>simulation/sim-time-sec</property>
         </product>
        </difference>
       </sin>
      </product>
      <product>
       <property>hydro/environment/wave-amplitude-ft</property>
       <sin>
        <difference>
         <product>
          <value>-0.5</value>
          <property>metrics/hydro-length-ft</property>
          <property>hydro/environment/wave/hull-x-factor</property>
          <property>hydro/environment/wave/wave-number-rad_ft</property>
         </product>
         <product>
          <property>hydro/environment/wave/angular-frequency-rad_sec</property>
          <property>simulation/sim-time-sec</property>
         </product>
        </difference>
       </sin>
      </product>
     </sum>
     <product>
      <property>hydro/environment/wave/hull-x-factor</property>
      <property>hydro/environment/wave/wave-number-rad_ft</property>
      <property>metrics/hydro-length-ft</property>
     </product>
    </quotient>
   </function>
  </fcs_function>

  <fcs_function name="hydro/environment/wave/level-at-hrp-ft">
   <description>
    The water level change at the HRP location. For debugging.
   </description>
   <function>
    <product>
     <property>hydro/environment/wave-amplitude-ft</property>
     <cos>
      <product>
       <property>hydro/environment/wave/angular-frequency-rad_sec</property>
       <property>simulation/sim-time-sec</property>
      </product>
     </cos>
    </product>
   </function>
  </fcs_function>

  <fcs_function name="hydro/environment/wave/level-fwd-ft">
   <description>
    The water level change at 0.5 * metrics/hydro-length-ft forward of
    the HRP location.
   </description>
   <function>
    <product>
     <property>hydro/environment/wave-amplitude-ft</property>
     <cos>
      <difference>
       <product>
        <value>0.5</value>
        <property>metrics/hydro-length-ft</property>
        <property>hydro/environment/wave/hull-x-factor</property>
        <property>hydro/environment/wave/wave-number-rad_ft</property>
       </product>
       <product>
        <property>hydro/environment/wave/angular-frequency-rad_sec</property>
        <property>simulation/sim-time-sec</property>
       </product>
      </difference>
     </cos>
    </product>
   </function>
  </fcs_function>

  <fcs_function name="hydro/environment/wave/level-aft-ft">
   <description>
    The water level change at 0.5 * metrics/hydro-length-ft aft of
    the HRP location.
   </description>
   <function>
    <product>
     <property>hydro/environment/wave-amplitude-ft</property>
     <cos>
      <difference>
       <product>
        <value>-0.5</value>
        <property>metrics/hydro-length-ft</property>
        <property>hydro/environment/wave/hull-x-factor</property>
        <property>hydro/environment/wave/wave-number-rad_ft</property>
       </product>
       <product>
        <property>hydro/environment/wave/angular-frequency-rad_sec</property>
        <property>simulation/sim-time-sec</property>
       </product>
      </difference>
     </cos>
    </product>
   </function>
  </fcs_function>

  <fcs_function name="hydro/orientation/wave-pitch-trim-change-deg">
   <description>
    The pitch trim change due to the waves. Guessed.
   </description>
   <!-- deltaTrim = atan2(water line at bow - water line at stern, LWL) -->
   <function>
    <product>
     <value>57.29578</value>
     <atan2>
      <difference>
       <property>hydro/environment/wave/level-fwd-ft</property>
       <property>hydro/environment/wave/level-aft-ft</property>
      </difference>
      <property>metrics/hydro-length-ft</property>
     </atan2>
    </product>
   </function>
  </fcs_function>

  <fcs_function name="hydro/orientation/wave-roll-trim-change-deg">
   <description>
    The roll trim change due to the waves. Guessed.
   </description>
   <!-- deltaTrim =
          atan2(water line at starboard side - water line at port side, beam)
   -->
   <function>
    <product>
     <value>57.29578</value>
     <atan2>
      <difference>
       <product>
        <property>hydro/environment/wave-amplitude-ft</property>
        <cos>
         <difference>
          <product>
           <value>-0.5</value>
           <property>metrics/hydro-beam-ft</property>
           <property>hydro/environment/wave/hull-y-factor</property>
           <property>hydro/environment/wave/wave-number-rad_ft</property>
          </product>
          <product>
           <property>hydro/environment/wave/angular-frequency-rad_sec</property>
           <property>simulation/sim-time-sec</property>
          </product>
         </difference>
        </cos>
       </product>
       <product>
        <property>hydro/environment/wave-amplitude-ft</property>
        <cos>
         <difference>
          <product>
           <value>0.5</value>
           <property>metrics/hydro-beam-ft</property>
           <property>hydro/environment/wave/hull-y-factor</property>
           <property>hydro/environment/wave/wave-number-rad_ft</property>
          </product>
          <product>
           <property>hydro/environment/wave/angular-frequency-rad_sec</property>
           <property>simulation/sim-time-sec</property>
          </product>
         </difference>
        </cos>
       </product>
      </difference>
      <property>metrics/hydro-beam-ft</property>
     </atan2>
    </product>
   </function>
  </fcs_function>

 </channel>

 <channel name ="Hull position">

  <fcs_function name="hydro/height-agl-ft">
   <description>
    Distance between the hydrodynamic reference point and the water surface.
    Not completely correctly computed yet.
   </description>
   <function>
    <difference>
     <sum>
      <property> position/h-sl-ft </property>
      <product>
       <value> -0.083333333 </value>
       <difference>
        <property> metrics/hydro-rp-x-in </property>
        <property> inertia/cg-x-in </property>
       </difference>
       <sin>
        <property> attitude/pitch-rad </property>
       </sin>
      </product>
      <product>
       <value> 0.083333333 </value>
       <difference>
        <property> metrics/hydro-rp-z-in </property>
        <property> inertia/cg-z-in </property>
       </difference>
       <cos>
        <property> attitude/pitch-rad </property>
       </cos>
      </product>
      <product>
       <value> -0.083333333 </value>
       <difference>
        <property> metrics/hydro-rp-y-in </property>
        <property> inertia/cg-y-in </property>
       </difference>
       <sin>
        <property> attitude/roll-rad </property>
       </sin>
      </product>
     </sum>
     <property> hydro/environment/water-level-ft </property>
    </difference>
   </function>
  </fcs_function>

 </channel>

 <channel name ="Hull orientation">

  <fcs_function name="hydro/true-course-rad">
   <!-- The course made good by the hull. -->
   <function>
    <atan2>
     <sum>
      <property>velocities/v-east-fps</property>
      <property>hydro/environment/current-from-east-fps</property>
     </sum>
     <sum>
      <property>velocities/v-north-fps</property>
      <property>hydro/environment/current-from-north-fps</property>
     </sum>
    </atan2>
   </function>
  </fcs_function>

  <fcs_function name="hydro/true-course-deg">
   <!-- The course made good by the hull. -->
   <function>
    <product>
     <value> 57.29578 </value>
     <property> hydro/true-course-rad </property>
    </product>
   </function>
  </fcs_function>

  <fcs_function name="hydro/pitch-deg">
   <function>
    <product>
     <value> 57.29578 </value>
     <property> attitude/pitch-rad </property>
    </product>
   </function>
  </fcs_function>

  <fcs_function name="hydro/roll-deg">
   <function>
    <product>
     <value> 57.29578 </value>
     <property> attitude/roll-rad </property>
    </product>
   </function>
  </fcs_function>

  <fcs_function name="hydro/alpha-rad">
   <function>
    <sum>
     <property>attitude/pitch-rad</property>
     <atan2>
      <property>velocities/v-down-fps</property>
      <property>hydro/v-fps</property>
     </atan2>
    </sum>
   </function>
  </fcs_function>

  <fcs_function name="hydro/alpha-deg">
   <function>
    <product>
     <value> 57.29578 </value>
     <property> hydro/alpha-rad </property>
    </product>
   </function>
  </fcs_function>

  <fcs_function name="hydro/tmp/beta-rad">
   <!-- Needed to normalize the beta range to +/-PI. -->
   <function>
    <difference>
     <property> hydro/true-course-rad </property>
     <property> attitude/psi-rad </property>
    </difference>
   </function>
  </fcs_function>

  <fcs_function name="hydro/beta-rad">
   <function>
    <sum>
     <property>hydro/tmp/beta-rad</property>
     <product>
      <lt>
       <property>hydro/tmp/beta-rad</property>
       <value>-3.1415927</value>
      </lt>
      <value>6.2831853</value>
     </product>
     <product>
      <gt>
       <property>hydro/tmp/beta-rad</property>
       <value>3.1415927</value>
      </gt>
      <value>-6.2831853</value>
     </product>
    </sum>
   </function>
  </fcs_function>

  <fcs_function name="hydro/beta-deg">
   <function>
    <product>
     <value> 57.29578 </value>
     <property> hydro/beta-rad </property>
    </product>
   </function>
  </fcs_function>

 </channel>

 <channel name ="Hull velocity">

  <fcs_function name="hydro/v-fps">
   <function>
    <pow>
     <sum>
      <pow>
       <sum>
        <property> velocities/v-north-fps </property>
        <property> hydro/environment/current-from-north-fps </property>
       </sum>
       <value> 2.0 </value>
      </pow>
      <pow>
       <sum>
        <property> velocities/v-east-fps </property>
        <property> hydro/environment/current-from-east-fps </property>
       </sum>
       <value> 2.0 </value>
      </pow>
     </sum>
     <value> 0.5 </value>
    </pow>
   </function>
  </fcs_function>
  <fcs_function name="hydro/v-kt">
   <function>
    <product>
     <value> 0.5924838 </value>
     <property> hydro/v-fps </property>
    </product>
   </function>
  </fcs_function>

  <fcs_function name="hydro/vbx-fps">
   <function>
    <product>
     <cos>
      <property>hydro/beta-rad</property>
     </cos>
     <property>hydro/v-fps</property>
    </product>
   </function>
  </fcs_function>

  <fcs_function name="hydro/vby-fps">
   <function>
    <product>
     <sin>
      <property>hydro/beta-rad</property>
     </sin>
     <property>hydro/v-fps</property>
    </product>
   </function>
  </fcs_function>

  <fcs_function name="hydro/qbar-psf">
   <function>
    <product>
     <value> 0.50 </value>
     <property>hydro/environment/rho-slug_ft3</property>
     <property>hydro/v-fps</property>
     <property>hydro/v-fps</property>
    </product>
   </function>
  </fcs_function>

  <fcs_function name="hydro/qbar-u-psf">
   <function>
    <product>
     <value> 0.50 </value>
     <property>hydro/environment/rho-slug_ft3</property>
     <property>hydro/vbx-fps</property>
     <abs><property>hydro/vbx-fps</property></abs>
    </product>
   </function>
  </fcs_function>

  <fcs_function name="hydro/qbar-v-psf">
   <function>
    <product>
     <value> 0.50 </value>
     <property>hydro/environment/rho-slug_ft3</property>
     <property>hydro/vby-fps</property>
     <abs><property>hydro/vby-fps</property></abs>
    </product>
   </function>
  </fcs_function>

 </channel>

 <!-- Implementation of forces and moments below. -->

 <channel name="Implementation Force X (north)">

  <fcs_function name="hydro/X/force-lbs">
   <function>
    <sum>
     <product>
      <cos>
       <property> attitude/psi-rad </property>
      </cos>
      <property> hydro/fbx-lbs </property>
     </product>
     <product>
      <sin>
       <property> attitude/psi-rad </property>
      </sin>
      <property> hydro/fby-lbs </property>
     </product>
     <product>
      <value> -1.0 </value>
      <cos>
       <property> hydro/true-course-rad </property>
      </cos>
      <property> hydro/fdrag-lbs </property>
     </product>
     <product>
      <value> -1.0 </value>
      <sin>
       <property> hydro/true-course-rad </property>
      </sin>
      <property> hydro/fside-lbs </property>
     </product>
    </sum>
   </function>
   <output> external_reactions/hydro-X/magnitude </output>
  </fcs_function>

 </channel>

 <channel name="Implementation Force Y (east)">

  <fcs_function name="hydro/Y/force-lbs">
   <function>
    <sum>
     <product>
      <sin>
       <property> attitude/psi-rad </property>
      </sin>
      <property> hydro/fbx-lbs </property>
     </product>
     <product>
      <cos>
       <property> attitude/psi-rad </property>
      </cos>
      <property> hydro/fby-lbs </property>
     </product>
     <product>
      <value> -1.0 </value>
      <sin>
       <property> hydro/true-course-rad </property>
      </sin>
      <property> hydro/fdrag-lbs </property>
     </product>
     <product>
      <cos>
       <property> hydro/true-course-rad </property>
      </cos>
      <property> hydro/fside-lbs </property>
     </product>
    </sum>
   </function>
   <output> external_reactions/hydro-Y/magnitude </output>
  </fcs_function>

 </channel>

 <channel name="Implementation Force Z (up)">
  <summer name="hydro/Z/force-lbs">
   <input> hydro/fbz-lbs </input>
   <output> external_reactions/hydro-Z/magnitude </output>
  </summer>
 </channel>

 <channel name="Implementation Pitch Moment">

  <pure_gain name="hydro/pitch-moment/moment-lbsft">
   <input>hydro/pitch-moment-lbsft</input>
   <gain>1.0</gain>
   <output>external_reactions/hydro-pitch/magnitude-lbsft</output>
  </pure_gain>
  <pure_gain name="hydro/pitch-moment/force-lbs[0]">
   <input> hydro/pitch-moment-lbsft </input>
   <gain> 0.5</gain>
   <output> external_reactions/hydro-pitch[0]/magnitude </output>
  </pure_gain>
  <pure_gain name="hydro/pitch-moment/force-lbs[1]">
   <input> hydro/pitch-moment-lbsft </input>
   <gain>-0.5</gain>
   <output> external_reactions/hydro-pitch[1]/magnitude </output>
  </pure_gain>

 </channel>

 <channel name="Implementation Roll Moment">

  <pure_gain name="hydro/roll-moment/moment-lbsft">
   <input>hydro/roll-moment-lbsft</input>
   <gain>1.0</gain>
   <output>external_reactions/hydro-roll/magnitude-lbsft</output>
  </pure_gain>
  <pure_gain name="hydro/roll-moment/force-lbs[0]">
   <input> hydro/roll-moment-lbsft </input>
   <gain> 0.5</gain>
   <output> external_reactions/hydro-roll[0]/magnitude </output>
  </pure_gain>
  <pure_gain name="hydro/roll-moment/force-lbs[1]">
   <input> hydro/roll-moment-lbsft </input>
   <gain>-0.5</gain>
   <output> external_reactions/hydro-roll[1]/magnitude </output>
  </pure_gain>

 </channel>

 <channel name="Implementation Yaw Moment">

  <pure_gain name="hydro/yaw-moment/moment-lbsft">
   <input>hydro/yaw-moment-lbsft</input>
   <gain>1.0</gain>
   <output>external_reactions/hydro-yaw/magnitude-lbsft</output>
  </pure_gain>
  <pure_gain name="hydro/yaw-moment/force-lbs[0]">
   <input> hydro/yaw-moment-lbsft </input>
   <gain> 0.5</gain>
   <output> external_reactions/hydro-yaw[0]/magnitude </output>
  </pure_gain>
  <pure_gain name="hydro/yaw-moment/force-lbs[1]">
   <input> hydro/yaw-moment-lbsft </input>
   <gain>-0.5</gain>
   <output> external_reactions/hydro-yaw[1]/magnitude </output>
  </pure_gain>

 </channel>

</system>
<!--
  '/controls/engines/engine/throttle' to 'fcs/throttle-cmd-norm'
  flightgear got a dummy system
  here it is given back to jsb 'standalone'
  -->
<system name="throttle mapper">

 <channel name="governor-glue">
  <fcs_function>
    <function>
       <property>/controls/engines/engine/throttle</property>
    </function>
    <output>
      fcs/throttle-pos-norm
    </output>
  </fcs_function>
 </channel>
</system>
<?xml version="1.0"?>

<system name="refuel">

  <property>systems/refuel/probe-cmd</property>
  <property value="0">systems/refuel/transfer-rate</property>

  <channel name="Refuel">

     <kinematic name="systems/refuel/probe-control">
       <input>systems/refuel/probe-cmd</input>
       <traverse>
        <setting>
          <position> 0 </position>
          <time>     0 </time>
        </setting>
        <setting>
          <position> 1 </position>
          <time>     2.5 </time>
        </setting>
       </traverse>
       <output>systems/refuel/probe-pos-norm</output>
     </kinematic>

     <switch name="systems/refuel/arming">
          <default value="0"/>
          <test value="2500">
                systems/refuel/probe-pos-norm gt 0.99
          </test>
          <output>systems/refuel/transfer-rate</output>
     </switch>


  </channel>

</system>
<?xml version="1.0"?>
<system name="RPM Governor (AH1S)">

<!--  =================================================================

       RPM governor for the ah1s model (Adjusted for electric engines,
       and rather 'crisp').

       A more basic/lazy PID might use the following values:
         <kp> 0.0035 </kp>
         <ki> 0.001  </ki>
         <kd> 0.0    </kd>

       Note:
         When developing a new helicopter fdm you should run the rotor
         in constant-speed mode (by setting ExternalRPM to -1 and 
         manipulate propulsion/engine[x]/x-rpm-dict accordingly).
         Implement the governor as last step, otherwise chances are high 
         that a bad governor might spoil a good model.

      =================================================================  -->


  <property value="0.0">fcs/rpm-governor-active-norm</property>
  <property value="324.0"> fcs/nominal-rpm </property>

  <channel name="RPM-Governor">
    <switch name="fcs/rpm-governor-pid-inhibit">
      <default value="-1.0"/>
      <test value="0.0"> fcs/rpm-governor-active-norm GT 0.0 </test>
    </switch>
    <fcs_function name="fcs/rpm-delta">
      <function>
        <product>
          <property> fcs/rpm-governor-active-norm </property>
          <difference>
            <property> fcs/nominal-rpm </property>
            <property> propulsion/engine/rotor-rpm </property>
          </difference>
        </product>
      </function>
      <clipto>
        <min> -50.0 </min>
        <max>  50.0 </max>
      </clipto>
    </fcs_function>
    <pid name="fcs/throttle-pid">
      <input>fcs/rpm-delta</input>
      <kp>  0.07   </kp>
      <ki>  0.0012 </ki>
      <kd> -0.0008 </kd>
      <trigger> fcs/rpm-governor-pid-inhibit </trigger>
      <clipto>
        <min>  0.00 </min>
        <max>  1.00 </max>
      </clipto>
      <output>fcs/throttle-pos-norm</output> 
    </pid>
  </channel>

</system>
<?xml version="1.0"?>

<system name="speedbrakes">

  <channel name="Speedbrake">

   <kinematic name="Speedbrake Control">
     <input>fcs/speedbrake-cmd-norm</input>
     <traverse>
       <setting>
          <position> 0 </position>
          <time>     0 </time>
       </setting>
       <setting>
          <position> 1 </position>
          <time>     1 </time>
       </setting>
     </traverse>
     <output>fcs/speedbrake-pos-norm</output>
   </kinematic>

  </channel>

</system>
<?xml version="1.0"?>
<!--

  Sperry A-2 gyropilot model for JSBSim.

    Copyright (C) 2010 - 2011  Anders Gidenstam  (anders(at)gidenstam.org)

    This program is free software; you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation; either version 2 of the License, or
    (at your option) any later version.
  
    This program is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.
  
    You should have received a copy of the GNU General Public License
    along with this program; if not, write to the Free Software
    Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA
  
-->
<system name="Sperry A-2 automatic pilot">

 <description>
  This system models a Sperry A-2 automatic pilot system.

  For each channel a pneumatic mechanism is activated when there is a
  position error. It drives a pneumatic valve that controls the
  direction and rate of change for the hydraulic actuator (Possibly
  just in an on/off fashion). The channel's speed valve controls the
  maximum rate of change for the actuator.

  See excerpt from [Your Wings, 1936] at
  http://pantonov.com/thoughts/assen_jordanoff.img/the_sperry_autopilot.htm

  Additional ideas:
  - The available vacuum suction probably affects the resonsiveness of the
    pneumatic valve.
  - The available oil pressure probably affects the maximum rate of change
    for the actuator.
  - The JSBSim actuator component in each channel is probably redundant.
 </description>

 <!-- Interface properties -->

 <!-- Control inputs -->
 <property value="0.0">sperry-autopilot/enabled-cmd-norm</property>

 <property value="0.0">sperry-autopilot/heading-reference-deg</property>
 <property value="0.0">sperry-autopilot/pitch-reference-deg</property>
 <property value="0.0">sperry-autopilot/roll-reference-deg</property>

 <property value="0.15">sperry-autopilot/heading-speed-valve-cmd-norm</property>
 <property value="0.07">sperry-autopilot/pitch-speed-valve-cmd-norm</property>
 <property value="0.15">sperry-autopilot/roll-speed-valve-cmd-norm</property>

 <!-- Sensor inputs -->
 <!-- property>sperry-autopilot/sensors/heading-deg</property>
 <property>sperry-autopilot/sensors/pitch-deg</property>
 <property>sperry-autopilot/sensors/roll-deg</property -->

 <!-- System inputs -->
 <!-- property>sperry-autopilot/vacuum/sources/vacuum-suction-inhg[0]</property>
 <property>sperry-autopilot/vacuum/sources/vacuum-suction-inhg[1]</property>

 <property>sperry-autopilot/oil/sources/pressure-psi[0]</property>
 <property>sperry-autopilot/oil/sources/pressure-psi[1]</property -->

 <!-- Output properties -->
 <property>sperry-autopilot/aileron-cmd-norm</property>
 <property>sperry-autopilot/elevator-cmd-norm</property>
 <property>sperry-autopilot/rudder-cmd-norm</property>


 <!-- Tuning parameters -->

 <!-- Maximum rate of change for the actuators. -->
 <property value="0.050">sperry-autopilot/heading/actuator-max-rate</property>
 <property value="0.025">sperry-autopilot/pitch/actuator-max-rate</property>
 <property value="0.250">sperry-autopilot/roll/actuator-max-rate</property>

 <!-- Sensitivity of the pneumatic control valves. 1/min error for max rate. -->
 <property value="0.25">sperry-autopilot/heading/sensitivity</property>
 <property value="0.50">sperry-autopilot/pitch/sensitivity</property>
 <property value="0.50">sperry-autopilot/roll/sensitivity</property>

 <channel name="sensors">
  <!-- Use the perfect inputs for now. -->

  <fcs_function name="sperry-autopilot/sensors/heading-deg">
   <function>
    <product>
     <value>57.29578</value>
     <property>attitude/heading-true-rad</property>
    </product>
   </function>
  </fcs_function>
  <fcs_function name="sperry-autopilot/sensors/pitch-deg">
   <function>
    <product>
     <value>57.29578</value>
     <property>attitude/pitch-rad</property>
    </product>
   </function>
  </fcs_function>
  <fcs_function name="sperry-autopilot/sensors/roll-deg">
   <function>
    <product>
     <value>57.29578</value>
     <property>attitude/roll-rad</property>
    </product>
   </function>
  </fcs_function>

 </channel>

 <channel name="heading">

  <fcs_function name="sperry-autopilot/heading/error-raw-deg">
   <function>
    <difference>
     <property>sperry-autopilot/heading-reference-deg</property>
     <property>sperry-autopilot/sensors/heading-deg</property>
    </difference>
   </function>
  </fcs_function>

  <switch name="sperry-autopilot/heading/error-correction-deg">
   <default value="0.0"/>
   <test logic="AND" value="360.0">
     sperry-autopilot/heading/error-raw-deg LT -180.0
   </test>
   <test logic="AND" value="-360.0">
     sperry-autopilot/heading/error-raw-deg GT 180.0
   </test>
  </switch>

  <summer name="sperry-autopilot/heading/error-deg">
   <input>sperry-autopilot/heading/error-raw-deg</input>
   <input>sperry-autopilot/heading/error-correction-deg</input>
  </summer>

  <fcs_function name="sperry-autopilot/heading/rate-cmd-norm">
   <function>
    <product>
     <value>-1.0</value>
     <property>sperry-autopilot/heading/sensitivity</property>
     <property>sperry-autopilot/heading/error-deg</property>
    </product>
   </function>
   <clipto>
    <min>-1.0</min>
    <max>1.0</max>
   </clipto>
  </fcs_function>

  <fcs_function name="sperry-autopilot/heading/max-rate">
   <function>
    <product>
     <property>sperry-autopilot/heading-speed-valve-cmd-norm</property>
     <property>sperry-autopilot/heading/actuator-max-rate</property>
    </product>
   </function>
  </fcs_function>

  <switch name="sperry-autopilot/heading/windup-trigger">
   <default value="0.0"/>
   <test logic="AND" value="1.0">
     sperry-autopilot/heading/rate-cmd-norm LT 0.0
     sperry-autopilot/heading/pid LT -1.0
   </test>
   <test logic="AND" value="1.0">
     sperry-autopilot/heading/rate-cmd-norm GT 0.0
     sperry-autopilot/heading/pid GT 1.0
   </test>
   <test logic="AND" value="-1.0">
     sperry-autopilot/enabled-cmd-norm EQ 0.0
   </test>
  </switch>

  <pid name="sperry-autopilot/heading/pid">
   <input>sperry-autopilot/heading/rate-cmd-norm</input>
   <kp>0.0</kp>
   <ki>sperry-autopilot/heading/max-rate</ki>
   <trigger>sperry-autopilot/heading/windup-trigger</trigger>
  </pid>

  <actuator name="sperry-autopilot/heading/actuator-pos">
   <input>sperry-autopilot/heading/pid</input>
   <!-- lag> number </lag -->
   <!-- rate_limit> number </rate_limit -->
   <!-- bias> number </bias -->
   <!-- deadband_width> number </deadband_width -->
   <!-- hysteresis_width> number </hysteresis_width -->
   <clipto>
    <min>-1.0</min>
    <max>1.0</max>
   </clipto>
  </actuator>  

  <fcs_function name="sperry-autopilot/heading/cmd-norm">
   <function>
    <product>
     <property>sperry-autopilot/enabled-cmd-norm</property>
     <property>sperry-autopilot/heading/actuator-pos</property>
    </product>
   </function>
   <output>sperry-autopilot/rudder-cmd-norm</output>
  </fcs_function>

 </channel>

 <channel name="pitch">

  <fcs_function name="sperry-autopilot/pitch/error-deg">
   <function>
    <difference>
     <property>sperry-autopilot/pitch-reference-deg</property>
     <property>sperry-autopilot/sensors/pitch-deg</property>
    </difference>
   </function>
  </fcs_function>

  <fcs_function name="sperry-autopilot/pitch/rate-cmd-norm">
   <function>
    <product>
     <value>-1.0</value>
     <property>sperry-autopilot/pitch/sensitivity</property>
     <property>sperry-autopilot/pitch/error-deg</property>
    </product>
   </function>
   <clipto>
    <min>-1.0</min>
    <max>1.0</max>
   </clipto>
  </fcs_function>

  <fcs_function name="sperry-autopilot/pitch/max-rate">
   <function>
    <product>
     <property>sperry-autopilot/pitch-speed-valve-cmd-norm</property>
     <property>sperry-autopilot/pitch/actuator-max-rate</property>
    </product>
   </function>
  </fcs_function>

  <switch name="sperry-autopilot/pitch/windup-trigger">
   <default value="0.0"/>
   <test logic="AND" value="1.0">
     sperry-autopilot/pitch/rate-cmd-norm LT 0.0
     sperry-autopilot/pitch/pid LT -1.0
   </test>
   <test logic="AND" value="1.0">
     sperry-autopilot/pitch/rate-cmd-norm GT 0.0
     sperry-autopilot/pitch/pid GT 1.0
   </test>
   <test logic="AND" value="-1.0">
     sperry-autopilot/enabled-cmd-norm EQ 0.0
   </test>
  </switch>

  <pid name="sperry-autopilot/pitch/pid">
   <input>sperry-autopilot/pitch/rate-cmd-norm</input>
   <kp>0.0</kp>
   <ki>sperry-autopilot/pitch/max-rate</ki>
   <trigger>sperry-autopilot/pitch/windup-trigger</trigger>
  </pid>

  <actuator name="sperry-autopilot/pitch/actuator-pos">
   <input>sperry-autopilot/pitch/pid</input>
   <!-- lag> number </lag -->
   <!-- rate_limit> number </rate_limit -->
   <!-- bias> number </bias -->
   <!-- deadband_width> number </deadband_width -->
   <!-- hysteresis_width> number </hysteresis_width -->
   <clipto>
    <min>-1.0</min>
    <max>1.0</max>
   </clipto>
  </actuator>  

  <fcs_function name="sperry-autopilot/pitch/cmd-norm">
   <function>
    <product>
     <property>sperry-autopilot/enabled-cmd-norm</property>
     <property>sperry-autopilot/pitch/actuator-pos</property>
    </product>
   </function>
   <output>sperry-autopilot/elevator-cmd-norm</output>
  </fcs_function>

 </channel>

 <channel name="roll">

  <fcs_function name="sperry-autopilot/roll/error-deg">
   <function>
    <difference>
     <property>sperry-autopilot/roll-reference-deg</property>
     <property>sperry-autopilot/sensors/roll-deg</property>
    </difference>
   </function>
  </fcs_function>

  <fcs_function name="sperry-autopilot/roll/rate-cmd-norm">
   <function>
    <product>
     <property>sperry-autopilot/roll/sensitivity</property>
     <property>sperry-autopilot/roll/error-deg</property>
    </product>
   </function>
   <clipto>
    <min>-1.0</min>
    <max>1.0</max>
   </clipto>
  </fcs_function>

  <fcs_function name="sperry-autopilot/roll/max-rate">
   <function>
    <product>
     <property>sperry-autopilot/roll-speed-valve-cmd-norm</property>
     <property>sperry-autopilot/roll/actuator-max-rate</property>
    </product>
   </function>
  </fcs_function>

  <switch name="sperry-autopilot/roll/windup-trigger">
   <default value="0.0"/>
   <test logic="AND" value="1.0">
     sperry-autopilot/roll/rate-cmd-norm LT 0.0
     sperry-autopilot/roll/pid LT -1.0
   </test>
   <test logic="AND" value="1.0">
     sperry-autopilot/roll/rate-cmd-norm GT 0.0
     sperry-autopilot/roll/pid GT 1.0
   </test>
   <test logic="AND" value="-1.0">
     sperry-autopilot/enabled-cmd-norm EQ 0.0
   </test>
  </switch>

  <pid name="sperry-autopilot/roll/pid">
   <input>sperry-autopilot/roll/rate-cmd-norm</input>
   <kp>0.0</kp>
   <ki>sperry-autopilot/roll/max-rate</ki>
   <trigger>sperry-autopilot/roll/windup-trigger</trigger>
  </pid>

  <actuator name="sperry-autopilot/roll/actuator-pos">
   <input>sperry-autopilot/roll/pid</input>
   <!-- lag> number </lag -->
   <!-- rate_limit> number </rate_limit -->
   <!-- bias> number </bias -->
   <!-- deadband_width> number </deadband_width -->
   <!-- hysteresis_width> number </hysteresis_width -->
   <clipto>
    <min>-1.0</min>
    <max>1.0</max>
   </clipto>
  </actuator>  

  <fcs_function name="sperry-autopilot/roll/cmd-norm">
   <function>
    <product>
     <property>sperry-autopilot/enabled-cmd-norm</property>
     <property>sperry-autopilot/roll/actuator-pos</property>
    </product>
   </function>
   <output>sperry-autopilot/aileron-cmd-norm</output>
  </fcs_function>

 </channel>

</system>
<?xml version="1.0"?>
<!-- $Id: tail_wheel_lock.xml,v 1.1 2010/03/23 22:44:37 andgi Exp $ -->
<!--
  Control system for castering tail wheel with tail wheel lock.
  Copyright (C) 2010  Anders Gidenstam
  This file is licensed under the LGPL license v2 or later.
-->
<system name="tail_wheel_control">

 <!--
  NOTE: The tail wheel must be gear unit 2.
 -->
 <property value="0.0">fcs/tail-wheel-lock-cmd-norm</property>

 <channel name="tail wheel">
 
  <switch name="fcs/tail-wheel-locked-deg">
   <default value="0.0"/>
   <output>fcs/steer-pos-deg[2]</output>
  </switch>

  <switch name="fcs/tail-wheel-free">
   <default value="1.0"/>
   <test value="0.0">
    fcs/tail-wheel-lock-cmd-norm GT 0.99
   </test>
   <output>gear/unit[2]/castered</output>
  </switch>

 </channel>

</system>
<?xml version="1.0"?>
<!--

  Extension properties for the JSBSim visual reference point (VRP).

    Copyright (C) 2015 - 2023  Anders Gidenstam  (anders(at)gidenstam.org)

    This library is free software; you can redistribute it and/or
    modify it under the terms of the GNU Lesser General Public
    License as published by the Free Software Foundation; either
    version 2.1 of the License, or (at your option) any later version.

    This library is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
    Lesser General Public License for more details.

    You should have received a copy of the GNU Lesser General Public
    License along with this library; if not, write to the Free Software
    Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301
    USA

-->
<system name="visual-reference-point-extensions">

 <channel name="position">

  <fcs_function name="position/vrp-cg-altitude-offset-ft">
   <description>
    Altitude offset of the visual reference point w.r.t. the centre of gravity.
    FIXME: Verify the roll dependence.
   </description>
   <function>
    <sum>
     <product>
      <value>-0.083333333</value>
      <difference>
       <property>metrics/visualrefpoint-x-in</property>
       <property>inertia/cg-x-in</property>
      </difference>
      <sin>
       <property>attitude/pitch-rad</property>
      </sin>
     </product>
     <product>
      <value>0.083333333</value>
      <difference>
       <property>metrics/visualrefpoint-z-in</property>
       <property>inertia/cg-z-in</property>
      </difference>
      <cos>
       <property>attitude/pitch-rad</property>
      </cos>
     </product>
     <product>
      <value>-0.083333333</value>
      <difference>
       <property>metrics/visualrefpoint-y-in</property>
       <property>inertia/cg-y-in</property>
      </difference>
      <sin>
       <property>attitude/roll-rad</property>
      </sin>
     </product>
     <!-- product>
      <value>0.083333333</value>
      <difference>
       <property>metrics/visualrefpoint-z-in</property>
       <property>inertia/cg-z-in</property>
      </difference>
      <cos>
       <property>attitude/roll-rad</property>
      </cos>
     </product -->
    </sum>
   </function>
  </fcs_function>

  <fcs_function name="position/vrp-altitude-ft">
   <description>
    Altitude of the visual reference point.
   </description>
   <function>
    <sum>
     <property>position/h-sl-ft</property>
     <property>position/vrp-cg-altitude-offset-ft</property>
    </sum>
   </function>
  </fcs_function>

  <fcs_function name="position/vrp-altitude-agl-ft">
   <description>
    Distance between the visual reference point and the ground surface.
   </description>
   <function>
    <sum>
     <property>position/h-agl-ft</property>
     <property>position/vrp-cg-altitude-offset-ft</property>
    </sum>
   </function>
  </fcs_function>

  <fcs_function name="position/vrp-latitude-deg">
   <description>
    Latitude of the visual reference point.

    Based on the geocentric to geodetic conversion
      vrp-latitude-deg = atan(tan(vrp-gc-latitude_deg)/(1-f)^2))
    where for WGS 84 f = 1.0/298.25722.
   </description>
   <function>
    <product>
     <value>57.29578</value>
     <atan>
      <product>
       <tan>
        <product>
         <value>0.017453293</value>
         <property>position/vrp-gc-latitude_deg</property>
        </product>
       </tan>
       <value>1.0067395</value>
      </product>
     </atan>
    </product>
   </function>
  </fcs_function>

  <fcs_function name="position/vrp-longitude-deg">
   <description>
    Longitude of the visual reference point.
   </description>
   <function>
    <property>position/vrp-longitude_deg</property>
   </function>
  </fcs_function>

  <fcs_function name="position/latitude-unit-distance-ft_deg">
   <description>
    Feet per degree of latitude at the present position.

    The conversion is based on
    http://gis.stackexchange.com/questions/75528/length-of-a-degree-where-do-the-terms-in-this-formula-come-from
    but further truncated.
   </description>
   <function>
    <product>
     <value>3.2808399</value>
     <!-- Approximate WGS 84 meters per latitude deg. -->
     <sum>
      <value>111132.92</value>
      <product>
       <value>-559.82</value>
       <cos>
        <product>
         <value>2.0</value>
         <value>0.017453293</value>
         <property>position/vrp-latitude-deg</property>
        </product>
       </cos>
      </product>
     </sum>
    </product>
   </function>
  </fcs_function>

  <fcs_function name="position/longitude-unit-distance-ft_deg">
   <description>
    Feet per degree of longitude at the present position.

    The conversion is based on
    http://gis.stackexchange.com/questions/75528/length-of-a-degree-where-do-the-terms-in-this-formula-come-from
    but further truncated.
   </description>
   <function>
    <product>
     <value>3.2808399</value>
     <!-- Approximate WGS 84 meters per longitude deg. -->
     <sum>
      <product>
       <value>111412.84</value>
       <cos>
        <product>
         <value>0.017453293</value>
         <property>position/vrp-latitude-deg</property>
        </product>
       </cos>
      </product>
      <product>
       <value>-93.5</value>
       <cos>
        <product>
         <value>3.0</value>
         <value>0.017453293</value>
         <property>position/vrp-latitude-deg</property>
        </product>
       </cos>
      </product>
     </sum>
    </product>
   </function>
  </fcs_function>

 </channel>

 <channel name="velocities">
  <!-- NOTE:
         Computing the velocity by derivating the position is probably not
         the best way.
  -->

  <pid name="velocities/vrp-v-north-deg_sec">
   <input>position/vrp-latitude-deg</input>
   <kp>0.0</kp>
   <ki>0.0</ki>
   <kd>1.0</kd>
  </pid>

  <fcs_function name="velocities/vrp-v-north-fps">
   <description>
    The conversion from degrees of latitude per second to ft/sec is based on
    http://gis.stackexchange.com/questions/75528/length-of-a-degree-where-do-the-terms-in-this-formula-come-from
    but further truncated.
   </description>
   <function>
    <product>
     <property>position/latitude-unit-distance-ft_deg</property>
     <property>velocities/vrp-v-north-deg_sec</property>
    </product>
   </function>
  </fcs_function>

  <pid name="velocities/vrp-v-east-deg_sec">
   <input>position/vrp-longitude-deg</input>
   <kp>0.0</kp>
   <ki>0.0</ki>
   <kd>1.0</kd>
  </pid>

  <fcs_function name="velocities/vrp-v-east-fps">
   <description>
    The conversion from degrees of longitude per second to ft/sec is based on
    http://gis.stackexchange.com/questions/75528/length-of-a-degree-where-do-the-terms-in-this-formula-come-from
    but further truncated.
   </description>
   <function>
    <product>
     <property>position/longitude-unit-distance-ft_deg</property>
     <property>velocities/vrp-v-east-deg_sec</property>
    </product>
   </function>
  </fcs_function>

  <pid name="velocities/vrp-v-down-fps">
   <input>position/vrp-altitude-ft</input>
   <kp>0.0</kp>
   <ki>0.0</ki>
   <kd>-1.0</kd>
  </pid>

 </channel>

</system>
